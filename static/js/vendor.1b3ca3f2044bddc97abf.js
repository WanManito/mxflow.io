webpackJsonp([0],{"++K3":function(t,e){var i,n,r,o,s,a,l,h,u,c,d,p,f,m,g,v=!1;function A(){if(!v){v=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),A=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(p=/\b(iPhone|iP[ao]d)/.exec(t),f=/\b(iP[ao]d)/.exec(t),c=/Android/i.exec(t),m=/FBAN\/\w+;/i.exec(t),g=/Mobile/i.exec(t),d=!!/Win64/.exec(t),e){(i=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN)&&document&&document.documentMode&&(i=document.documentMode);var y=/(?:Trident\/(\d+.\d+))/.exec(t);a=y?parseFloat(y[1])+4:i,n=e[2]?parseFloat(e[2]):NaN,r=e[3]?parseFloat(e[3]):NaN,(o=e[4]?parseFloat(e[4]):NaN)?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),s=e&&e[1]?parseFloat(e[1]):NaN):s=NaN}else i=n=r=s=o=NaN;if(A){if(A[1]){var x=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);l=!x||parseFloat(x[1].replace("_","."))}else l=!1;h=!!A[2],u=!!A[3]}else l=h=u=!1}}var y={ie:function(){return A()||i},ieCompatibilityMode:function(){return A()||a>i},ie64:function(){return y.ie()&&d},firefox:function(){return A()||n},opera:function(){return A()||r},webkit:function(){return A()||o},safari:function(){return y.webkit()},chrome:function(){return A()||s},windows:function(){return A()||h},osx:function(){return A()||l},linux:function(){return A()||u},iphone:function(){return A()||p},mobile:function(){return A()||p||f||c||g},nativeApp:function(){return A()||m},android:function(){return A()||c},ipad:function(){return A()||f}};t.exports=y},"+E39":function(t,e,i){t.exports=!i("S82l")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"+ZMJ":function(t,e,i){var n=i("lOnJ");t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},"+tPU":function(t,e,i){i("xGkn");for(var n=i("7KvD"),r=i("hJx8"),o=i("/bQp"),s=i("dSzd")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<a.length;l++){var h=a[l],u=n[h],c=u&&u.prototype;c&&!c[s]&&r(c,s,h),o[h]=o.Array}},"/bQp":function(t,e){t.exports={}},"/n6Q":function(t,e,i){i("zQR9"),i("+tPU"),t.exports=i("Kh4W").f("iterator")},"/ocq":function(t,e,i){"use strict";
/**
  * vue-router v3.0.1
  * (c) 2017 Evan You
  * @license MIT
  */function n(t,e){0}function r(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}var o={name:"router-view",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var i=e.props,n=e.children,r=e.parent,o=e.data;o.routerView=!0;for(var s=r.$createElement,a=i.name,l=r.$route,h=r._routerViewCache||(r._routerViewCache={}),u=0,c=!1;r&&r._routerRoot!==r;)r.$vnode&&r.$vnode.data.routerView&&u++,r._inactive&&(c=!0),r=r.$parent;if(o.routerViewDepth=u,c)return s(h[a],o,n);var d=l.matched[u];if(!d)return h[a]=null,s();var p=h[a]=d.components[a];o.registerRouteInstance=function(t,e){var i=d.instances[a];(e&&i!==t||!e&&i===t)&&(d.instances[a]=e)},(o.hook||(o.hook={})).prepatch=function(t,e){d.instances[a]=e.componentInstance};var f=o.props=function(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}(l,d.props&&d.props[a]);if(f){f=o.props=function(t,e){for(var i in e)t[i]=e[i];return t}({},f);var m=o.attrs=o.attrs||{};for(var g in f)p.props&&g in p.props||(m[g]=f[g],delete f[g])}return s(p,o,n)}};var s=/[!'()*]/g,a=function(t){return"%"+t.charCodeAt(0).toString(16)},l=/%2C/g,h=function(t){return encodeURIComponent(t).replace(s,a).replace(l,",")},u=decodeURIComponent;function c(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var i=t.replace(/\+/g," ").split("="),n=u(i.shift()),r=i.length>0?u(i.join("=")):null;void 0===e[n]?e[n]=r:Array.isArray(e[n])?e[n].push(r):e[n]=[e[n],r]}),e):e}function d(t){var e=t?Object.keys(t).map(function(e){var i=t[e];if(void 0===i)return"";if(null===i)return h(e);if(Array.isArray(i)){var n=[];return i.forEach(function(t){void 0!==t&&(null===t?n.push(h(e)):n.push(h(e)+"="+h(t)))}),n.join("&")}return h(e)+"="+h(i)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}var p=/\/?$/;function f(t,e,i,n){var r=n&&n.options.stringifyQuery,o=e.query||{};try{o=m(o)}catch(t){}var s={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:v(e,r),matched:t?function(t){var e=[];for(;t;)e.unshift(t),t=t.parent;return e}(t):[]};return i&&(s.redirectedFrom=v(i,r)),Object.freeze(s)}function m(t){if(Array.isArray(t))return t.map(m);if(t&&"object"==typeof t){var e={};for(var i in t)e[i]=m(t[i]);return e}return t}var g=f(null,{path:"/"});function v(t,e){var i=t.path,n=t.query;void 0===n&&(n={});var r=t.hash;return void 0===r&&(r=""),(i||"/")+(e||d)(n)+r}function A(t,e){return e===g?t===e:!!e&&(t.path&&e.path?t.path.replace(p,"")===e.path.replace(p,"")&&t.hash===e.hash&&y(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&y(t.query,e.query)&&y(t.params,e.params)))}function y(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var i=Object.keys(t),n=Object.keys(e);return i.length===n.length&&i.every(function(i){var n=t[i],r=e[i];return"object"==typeof n&&"object"==typeof r?y(n,r):String(n)===String(r)})}var x,b=[String,Object],C=[String,Array],w={name:"router-link",props:{to:{type:b,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:C,default:"click"}},render:function(t){var e=this,i=this.$router,n=this.$route,r=i.resolve(this.to,n,this.append),o=r.location,s=r.route,a=r.href,l={},h=i.options.linkActiveClass,u=i.options.linkExactActiveClass,c=null==h?"router-link-active":h,d=null==u?"router-link-exact-active":u,m=null==this.activeClass?c:this.activeClass,g=null==this.exactActiveClass?d:this.exactActiveClass,v=o.path?f(null,o,null,i):s;l[g]=A(n,v),l[m]=this.exact?l[g]:function(t,e){return 0===t.path.replace(p,"/").indexOf(e.path.replace(p,"/"))&&(!e.hash||t.hash===e.hash)&&function(t,e){for(var i in e)if(!(i in t))return!1;return!0}(t.query,e.query)}(n,v);var y=function(t){E(t)&&(e.replace?i.replace(o):i.push(o))},b={click:E};Array.isArray(this.event)?this.event.forEach(function(t){b[t]=y}):b[this.event]=y;var C={class:l};if("a"===this.tag)C.on=b,C.attrs={href:a};else{var w=function t(e){if(e)for(var i,n=0;n<e.length;n++){if("a"===(i=e[n]).tag)return i;if(i.children&&(i=t(i.children)))return i}}(this.$slots.default);if(w){w.isStatic=!1;var S=x.util.extend;(w.data=S({},w.data)).on=b,(w.data.attrs=S({},w.data.attrs)).href=a}else C.on=b}return t(this.tag,C,this.$slots.default)}};function E(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function S(t){if(!S.installed||x!==t){S.installed=!0,x=t;var e=function(t){return void 0!==t},i=function(t,i){var n=t.$options._parentVnode;e(n)&&e(n=n.data)&&e(n=n.registerRouteInstance)&&n(t,i)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,i(this,this)},destroyed:function(){i(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("router-view",o),t.component("router-link",w);var n=t.config.optionMergeStrategies;n.beforeRouteEnter=n.beforeRouteLeave=n.beforeRouteUpdate=n.created}}var T="undefined"!=typeof window;function _(t,e,i){var n=t.charAt(0);if("/"===n)return t;if("?"===n||"#"===n)return e+t;var r=e.split("/");i&&r[r.length-1]||r.pop();for(var o=t.replace(/^\//,"").split("/"),s=0;s<o.length;s++){var a=o[s];".."===a?r.pop():"."!==a&&r.push(a)}return""!==r[0]&&r.unshift(""),r.join("/")}function M(t){return t.replace(/\/\//g,"/")}var k=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},B=z,O=D,P=function(t,e){return F(D(t,e))},L=F,N=G,I=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function D(t,e){for(var i,n=[],r=0,o=0,s="",a=e&&e.delimiter||"/";null!=(i=I.exec(t));){var l=i[0],h=i[1],u=i.index;if(s+=t.slice(o,u),o=u+l.length,h)s+=h[1];else{var c=t[o],d=i[2],p=i[3],f=i[4],m=i[5],g=i[6],v=i[7];s&&(n.push(s),s="");var A=null!=d&&null!=c&&c!==d,y="+"===g||"*"===g,x="?"===g||"*"===g,b=i[2]||a,C=f||m;n.push({name:p||r++,prefix:d||"",delimiter:b,optional:x,repeat:y,partial:A,asterisk:!!v,pattern:C?U(C):v?".*":"[^"+H(b)+"]+?"})}}return o<t.length&&(s+=t.substr(o)),s&&n.push(s),n}function R(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function F(t){for(var e=new Array(t.length),i=0;i<t.length;i++)"object"==typeof t[i]&&(e[i]=new RegExp("^(?:"+t[i].pattern+")$"));return function(i,n){for(var r="",o=i||{},s=(n||{}).pretty?R:encodeURIComponent,a=0;a<t.length;a++){var l=t[a];if("string"!=typeof l){var h,u=o[l.name];if(null==u){if(l.optional){l.partial&&(r+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(k(u)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var c=0;c<u.length;c++){if(h=s(u[c]),!e[a].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");r+=(0===c?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(u).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):s(u),!e[a].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');r+=l.prefix+h}}else r+=l}return r}}function H(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function U(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function V(t,e){return t.keys=e,t}function j(t){return t.sensitive?"":"i"}function G(t,e,i){k(e)||(i=e||i,e=[]);for(var n=(i=i||{}).strict,r=!1!==i.end,o="",s=0;s<t.length;s++){var a=t[s];if("string"==typeof a)o+=H(a);else{var l=H(a.prefix),h="(?:"+a.pattern+")";e.push(a),a.repeat&&(h+="(?:"+l+h+")*"),o+=h=a.optional?a.partial?l+"("+h+")?":"(?:"+l+"("+h+"))?":l+"("+h+")"}}var u=H(i.delimiter||"/"),c=o.slice(-u.length)===u;return n||(o=(c?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=r?"$":n&&c?"":"(?="+u+"|$)",V(new RegExp("^"+o,j(i)),e)}function z(t,e,i){return k(e)||(i=e||i,e=[]),i=i||{},t instanceof RegExp?function(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return V(t,e)}(t,e):k(t)?function(t,e,i){for(var n=[],r=0;r<t.length;r++)n.push(z(t[r],e,i).source);return V(new RegExp("(?:"+n.join("|")+")",j(i)),e)}(t,e,i):function(t,e,i){return G(D(t,i),e,i)}(t,e,i)}B.parse=O,B.compile=P,B.tokensToFunction=L,B.tokensToRegExp=N;var Q=Object.create(null);function Y(t,e,i){try{return(Q[t]||(Q[t]=B.compile(t)))(e||{},{pretty:!0})}catch(t){return""}}function K(t,e,i,n){var r=e||[],o=i||Object.create(null),s=n||Object.create(null);t.forEach(function(t){!function t(e,i,n,r,o,s){var a=r.path;var l=r.name;0;var h=r.pathToRegexpOptions||{};var u=function(t,e,i){i||(t=t.replace(/\/$/,""));if("/"===t[0])return t;if(null==e)return t;return M(e.path+"/"+t)}(a,o,h.strict);"boolean"==typeof r.caseSensitive&&(h.sensitive=r.caseSensitive);var c={path:u,regex:function(t,e){var i=B(t,[],e);return i}(u,h),components:r.components||{default:r.component},instances:{},name:l,parent:o,matchAs:s,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};r.children&&r.children.forEach(function(r){var o=s?M(s+"/"+r.path):void 0;t(e,i,n,r,c,o)});if(void 0!==r.alias){var d=Array.isArray(r.alias)?r.alias:[r.alias];d.forEach(function(s){var a={path:s,children:r.children};t(e,i,n,a,o,c.path||"/")})}i[c.path]||(e.push(c.path),i[c.path]=c);l&&(n[l]||(n[l]=c))}(r,o,s,t)});for(var a=0,l=r.length;a<l;a++)"*"===r[a]&&(r.push(r.splice(a,1)[0]),l--,a--);return{pathList:r,pathMap:o,nameMap:s}}function X(t,e,i,n){var r="string"==typeof t?{path:t}:t;if(r.name||r._normalized)return r;if(!r.path&&r.params&&e){(r=$({},r))._normalized=!0;var o=$($({},e.params),r.params);if(e.name)r.name=e.name,r.params=o;else if(e.matched.length){var s=e.matched[e.matched.length-1].path;r.path=Y(s,o,e.path)}else 0;return r}var a=function(t){var e="",i="",n=t.indexOf("#");n>=0&&(e=t.slice(n),t=t.slice(0,n));var r=t.indexOf("?");return r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),{path:t,query:i,hash:e}}(r.path||""),l=e&&e.path||"/",h=a.path?_(a.path,l,i||r.append):l,u=function(t,e,i){void 0===e&&(e={});var n,r=i||c;try{n=r(t||"")}catch(t){n={}}for(var o in e)n[o]=e[o];return n}(a.query,r.query,n&&n.options.parseQuery),d=r.hash||a.hash;return d&&"#"!==d.charAt(0)&&(d="#"+d),{_normalized:!0,path:h,query:u,hash:d}}function $(t,e){for(var i in e)t[i]=e[i];return t}function W(t,e){var i=K(t),n=i.pathList,r=i.pathMap,o=i.nameMap;function s(t,i,s){var a=X(t,i,!1,e),h=a.name;if(h){var u=o[h];if(!u)return l(null,a);var c=u.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=typeof a.params&&(a.params={}),i&&"object"==typeof i.params)for(var d in i.params)!(d in a.params)&&c.indexOf(d)>-1&&(a.params[d]=i.params[d]);if(u)return a.path=Y(u.path,a.params),l(u,a,s)}else if(a.path){a.params={};for(var p=0;p<n.length;p++){var f=n[p],m=r[f];if(q(m.regex,a.path,a.params))return l(m,a,s)}}return l(null,a)}function a(t,i){var n=t.redirect,r="function"==typeof n?n(f(t,i,null,e)):n;if("string"==typeof r&&(r={path:r}),!r||"object"!=typeof r)return l(null,i);var a=r,h=a.name,u=a.path,c=i.query,d=i.hash,p=i.params;if(c=a.hasOwnProperty("query")?a.query:c,d=a.hasOwnProperty("hash")?a.hash:d,p=a.hasOwnProperty("params")?a.params:p,h){o[h];return s({_normalized:!0,name:h,query:c,hash:d,params:p},void 0,i)}if(u){var m=function(t,e){return _(t,e.parent?e.parent.path:"/",!0)}(u,t);return s({_normalized:!0,path:Y(m,p),query:c,hash:d},void 0,i)}return l(null,i)}function l(t,i,n){return t&&t.redirect?a(t,n||i):t&&t.matchAs?function(t,e,i){var n=s({_normalized:!0,path:Y(i,e.params)});if(n){var r=n.matched,o=r[r.length-1];return e.params=n.params,l(o,e)}return l(null,e)}(0,i,t.matchAs):f(t,i,n,e)}return{match:s,addRoutes:function(t){K(t,n,r,o)}}}function q(t,e,i){var n=e.match(t);if(!n)return!1;if(!i)return!0;for(var r=1,o=n.length;r<o;++r){var s=t.keys[r-1],a="string"==typeof n[r]?decodeURIComponent(n[r]):n[r];s&&(i[s.name]=a)}return!0}var J=Object.create(null);function Z(){window.history.replaceState({key:ct()},""),window.addEventListener("popstate",function(t){var e;et(),t.state&&t.state.key&&(e=t.state.key,ht=e)})}function tt(t,e,i,n){if(t.app){var r=t.options.scrollBehavior;r&&t.app.$nextTick(function(){var t=function(){var t=ct();if(t)return J[t]}(),o=r(e,i,n?t:null);o&&("function"==typeof o.then?o.then(function(e){ot(e,t)}).catch(function(t){0}):ot(o,t))})}}function et(){var t=ct();t&&(J[t]={x:window.pageXOffset,y:window.pageYOffset})}function it(t){return rt(t.x)||rt(t.y)}function nt(t){return{x:rt(t.x)?t.x:window.pageXOffset,y:rt(t.y)?t.y:window.pageYOffset}}function rt(t){return"number"==typeof t}function ot(t,e){var i,n="object"==typeof t;if(n&&"string"==typeof t.selector){var r=document.querySelector(t.selector);if(r){var o=t.offset&&"object"==typeof t.offset?t.offset:{};e=function(t,e){var i=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{x:n.left-i.left-e.x,y:n.top-i.top-e.y}}(r,o={x:rt((i=o).x)?i.x:0,y:rt(i.y)?i.y:0})}else it(t)&&(e=nt(t))}else n&&it(t)&&(e=nt(t));e&&window.scrollTo(e.x,e.y)}var st,at=T&&((-1===(st=window.navigator.userAgent).indexOf("Android 2.")&&-1===st.indexOf("Android 4.0")||-1===st.indexOf("Mobile Safari")||-1!==st.indexOf("Chrome")||-1!==st.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history),lt=T&&window.performance&&window.performance.now?window.performance:Date,ht=ut();function ut(){return lt.now().toFixed(3)}function ct(){return ht}function dt(t,e){et();var i=window.history;try{e?i.replaceState({key:ht},"",t):(ht=ut(),i.pushState({key:ht},"",t))}catch(i){window.location[e?"replace":"assign"](t)}}function pt(t){dt(t,!0)}function ft(t,e,i){var n=function(r){r>=t.length?i():t[r]?e(t[r],function(){n(r+1)}):n(r+1)};n(0)}function mt(t){return function(e,i,n){var o=!1,s=0,a=null;gt(t,function(t,e,i,l){if("function"==typeof t&&void 0===t.cid){o=!0,s++;var h,u=yt(function(e){var r;((r=e).__esModule||At&&"Module"===r[Symbol.toStringTag])&&(e=e.default),t.resolved="function"==typeof e?e:x.extend(e),i.components[l]=e,--s<=0&&n()}),c=yt(function(t){var e="Failed to resolve async component "+l+": "+t;a||(a=r(t)?t:new Error(e),n(a))});try{h=t(u,c)}catch(t){c(t)}if(h)if("function"==typeof h.then)h.then(u,c);else{var d=h.component;d&&"function"==typeof d.then&&d.then(u,c)}}}),o||n()}}function gt(t,e){return vt(t.map(function(t){return Object.keys(t.components).map(function(i){return e(t.components[i],t.instances[i],t,i)})}))}function vt(t){return Array.prototype.concat.apply([],t)}var At="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function yt(t){var e=!1;return function(){for(var i=[],n=arguments.length;n--;)i[n]=arguments[n];if(!e)return e=!0,t.apply(this,i)}}var xt=function(t,e){this.router=t,this.base=function(t){if(!t)if(T){var e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else t="/";"/"!==t.charAt(0)&&(t="/"+t);return t.replace(/\/$/,"")}(e),this.current=g,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function bt(t,e,i,n){var r=gt(t,function(t,n,r,o){var s=function(t,e){"function"!=typeof t&&(t=x.extend(t));return t.options[e]}(t,e);if(s)return Array.isArray(s)?s.map(function(t){return i(t,n,r,o)}):i(s,n,r,o)});return vt(n?r.reverse():r)}function Ct(t,e){if(e)return function(){return t.apply(e,arguments)}}xt.prototype.listen=function(t){this.cb=t},xt.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},xt.prototype.onError=function(t){this.errorCbs.push(t)},xt.prototype.transitionTo=function(t,e,i){var n=this,r=this.router.match(t,this.current);this.confirmTransition(r,function(){n.updateRoute(r),e&&e(r),n.ensureURL(),n.ready||(n.ready=!0,n.readyCbs.forEach(function(t){t(r)}))},function(t){i&&i(t),t&&!n.ready&&(n.ready=!0,n.readyErrorCbs.forEach(function(e){e(t)}))})},xt.prototype.confirmTransition=function(t,e,i){var o=this,s=this.current,a=function(t){r(t)&&(o.errorCbs.length?o.errorCbs.forEach(function(e){e(t)}):(n(),console.error(t))),i&&i(t)};if(A(t,s)&&t.matched.length===s.matched.length)return this.ensureURL(),a();var l=function(t,e){var i,n=Math.max(t.length,e.length);for(i=0;i<n&&t[i]===e[i];i++);return{updated:e.slice(0,i),activated:e.slice(i),deactivated:t.slice(i)}}(this.current.matched,t.matched),h=l.updated,u=l.deactivated,c=l.activated,d=[].concat(function(t){return bt(t,"beforeRouteLeave",Ct,!0)}(u),this.router.beforeHooks,function(t){return bt(t,"beforeRouteUpdate",Ct)}(h),c.map(function(t){return t.beforeEnter}),mt(c));this.pending=t;var p=function(e,i){if(o.pending!==t)return a();try{e(t,s,function(t){!1===t||r(t)?(o.ensureURL(!0),a(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(a(),"object"==typeof t&&t.replace?o.replace(t):o.push(t)):i(t)})}catch(t){a(t)}};ft(d,p,function(){var i=[];ft(function(t,e,i){return bt(t,"beforeRouteEnter",function(t,n,r,o){return function(t,e,i,n,r){return function(o,s,a){return t(o,s,function(t){a(t),"function"==typeof t&&n.push(function(){!function t(e,i,n,r){i[n]?e(i[n]):r()&&setTimeout(function(){t(e,i,n,r)},16)}(t,e.instances,i,r)})})}}(t,r,o,e,i)})}(c,i,function(){return o.current===t}).concat(o.router.resolveHooks),p,function(){if(o.pending!==t)return a();o.pending=null,e(t),o.router.app&&o.router.app.$nextTick(function(){i.forEach(function(t){t()})})})})},xt.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(i){i&&i(t,e)})};var wt=function(t){function e(e,i){var n=this;t.call(this,e,i);var r=e.options.scrollBehavior;r&&Z();var o=Et(this.base);window.addEventListener("popstate",function(t){var i=n.current,s=Et(n.base);n.current===g&&s===o||n.transitionTo(s,function(t){r&&tt(e,t,i,!0)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,i){var n=this,r=this.current;this.transitionTo(t,function(t){dt(M(n.base+t.fullPath)),tt(n.router,t,r,!1),e&&e(t)},i)},e.prototype.replace=function(t,e,i){var n=this,r=this.current;this.transitionTo(t,function(t){pt(M(n.base+t.fullPath)),tt(n.router,t,r,!1),e&&e(t)},i)},e.prototype.ensureURL=function(t){if(Et(this.base)!==this.current.fullPath){var e=M(this.base+this.current.fullPath);t?dt(e):pt(e)}},e.prototype.getCurrentLocation=function(){return Et(this.base)},e}(xt);function Et(t){var e=window.location.pathname;return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var St=function(t){function e(e,i,n){t.call(this,e,i),n&&function(t){var e=Et(t);if(!/^\/#/.test(e))return window.location.replace(M(t+"/#"+e)),!0}(this.base)||Tt()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this,e=this.router.options.scrollBehavior,i=at&&e;i&&Z(),window.addEventListener(at?"popstate":"hashchange",function(){var e=t.current;Tt()&&t.transitionTo(_t(),function(n){i&&tt(t.router,n,e,!0),at||Bt(n.fullPath)})})},e.prototype.push=function(t,e,i){var n=this,r=this.current;this.transitionTo(t,function(t){kt(t.fullPath),tt(n.router,t,r,!1),e&&e(t)},i)},e.prototype.replace=function(t,e,i){var n=this,r=this.current;this.transitionTo(t,function(t){Bt(t.fullPath),tt(n.router,t,r,!1),e&&e(t)},i)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;_t()!==e&&(t?kt(e):Bt(e))},e.prototype.getCurrentLocation=function(){return _t()},e}(xt);function Tt(){var t=_t();return"/"===t.charAt(0)||(Bt("/"+t),!1)}function _t(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.slice(e+1)}function Mt(t){var e=window.location.href,i=e.indexOf("#");return(i>=0?e.slice(0,i):e)+"#"+t}function kt(t){at?dt(Mt(t)):window.location.hash=t}function Bt(t){at?pt(Mt(t)):window.location.replace(Mt(t))}var Ot=function(t){function e(e,i){t.call(this,e,i),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,i){var n=this;this.transitionTo(t,function(t){n.stack=n.stack.slice(0,n.index+1).concat(t),n.index++,e&&e(t)},i)},e.prototype.replace=function(t,e,i){var n=this;this.transitionTo(t,function(t){n.stack=n.stack.slice(0,n.index).concat(t),e&&e(t)},i)},e.prototype.go=function(t){var e=this,i=this.index+t;if(!(i<0||i>=this.stack.length)){var n=this.stack[i];this.confirmTransition(n,function(){e.index=i,e.updateRoute(n)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(xt),Pt=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=W(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!at&&!1!==t.fallback,this.fallback&&(e="hash"),T||(e="abstract"),this.mode=e,e){case"history":this.history=new wt(this,t.base);break;case"hash":this.history=new St(this,t.base,this.fallback);break;case"abstract":this.history=new Ot(this,t.base);break;default:0}},Lt={currentRoute:{configurable:!0}};function Nt(t,e){return t.push(e),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}Pt.prototype.match=function(t,e,i){return this.matcher.match(t,e,i)},Lt.currentRoute.get=function(){return this.history&&this.history.current},Pt.prototype.init=function(t){var e=this;if(this.apps.push(t),!this.app){this.app=t;var i=this.history;if(i instanceof wt)i.transitionTo(i.getCurrentLocation());else if(i instanceof St){var n=function(){i.setupListeners()};i.transitionTo(i.getCurrentLocation(),n,n)}i.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},Pt.prototype.beforeEach=function(t){return Nt(this.beforeHooks,t)},Pt.prototype.beforeResolve=function(t){return Nt(this.resolveHooks,t)},Pt.prototype.afterEach=function(t){return Nt(this.afterHooks,t)},Pt.prototype.onReady=function(t,e){this.history.onReady(t,e)},Pt.prototype.onError=function(t){this.history.onError(t)},Pt.prototype.push=function(t,e,i){this.history.push(t,e,i)},Pt.prototype.replace=function(t,e,i){this.history.replace(t,e,i)},Pt.prototype.go=function(t){this.history.go(t)},Pt.prototype.back=function(){this.go(-1)},Pt.prototype.forward=function(){this.go(1)},Pt.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},Pt.prototype.resolve=function(t,e,i){var n=X(t,e||this.history.current,i,this),r=this.match(n,e),o=r.redirectedFrom||r.fullPath;return{location:n,route:r,href:function(t,e,i){var n="hash"===i?"#"+e:e;return t?M(t+"/"+n):n}(this.history.base,o,this.mode),normalizedTo:n,resolved:r}},Pt.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Pt.prototype,Lt),Pt.install=S,Pt.version="3.0.1",T&&window.Vue&&window.Vue.use(Pt),e.a=Pt},"02w1":function(t,e,i){"use strict";e.__esModule=!0,e.removeResizeListener=e.addResizeListener=void 0;var n,r=i("z+gd"),o=(n=r)&&n.__esModule?n:{default:n};var s="undefined"==typeof window,a=function(t){var e=t,i=Array.isArray(e),n=0;for(e=i?e:e[Symbol.iterator]();;){var r;if(i){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var o=r.target.__resizeListeners__||[];o.length&&o.forEach(function(t){t()})}};e.addResizeListener=function(t,e){s||(t.__resizeListeners__||(t.__resizeListeners__=[],t.__ro__=new o.default(a),t.__ro__.observe(t)),t.__resizeListeners__.push(e))},e.removeResizeListener=function(t,e){t&&t.__resizeListeners__&&(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||t.__ro__.disconnect())}},"06OY":function(t,e,i){var n=i("3Eo+")("meta"),r=i("EqjI"),o=i("D2L2"),s=i("evD5").f,a=0,l=Object.isExtensible||function(){return!0},h=!i("S82l")(function(){return l(Object.preventExtensions({}))}),u=function(t){s(t,n,{value:{i:"O"+ ++a,w:{}}})},c=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[n].i},getWeak:function(t,e){if(!o(t,n)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[n].w},onFreeze:function(t){return h&&c.NEED&&l(t)&&!o(t,n)&&u(t),t}}},"0kY3":function(t,e,i){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=114)}({0:function(t,e,i){"use strict";function n(t,e,i,n,r,o,s,a){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),n&&(h.functional=!0),o&&(h._scopeId="data-v-"+o),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},h._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return n})},10:function(t,e){t.exports=i("HJMx")},114:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["el-input-number",t.inputNumberSize?"el-input-number--"+t.inputNumberSize:"",{"is-disabled":t.inputNumberDisabled},{"is-without-controls":!t.controls},{"is-controls-right":t.controlsAtRight}],on:{dragstart:function(t){t.preventDefault()}}},[t.controls?i("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-input-number__decrease",class:{"is-disabled":t.minDisabled},attrs:{role:"button"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.decrease(e):null}}},[i("i",{class:"el-icon-"+(t.controlsAtRight?"arrow-down":"minus")})]):t._e(),t.controls?i("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-input-number__increase",class:{"is-disabled":t.maxDisabled},attrs:{role:"button"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.increase(e):null}}},[i("i",{class:"el-icon-"+(t.controlsAtRight?"arrow-up":"plus")})]):t._e(),i("el-input",{ref:"input",attrs:{value:t.displayValue,placeholder:t.placeholder,disabled:t.inputNumberDisabled,size:t.inputNumberSize,max:t.max,min:t.min,name:t.name,label:t.label},on:{blur:t.handleBlur,focus:t.handleFocus,input:t.handleInput,change:t.handleInputChange},nativeOn:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?(e.preventDefault(),t.increase(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?(e.preventDefault(),t.decrease(e)):null}]}})],1)};n._withStripped=!0;var r=i(10),o=i.n(r),s=i(22),a=i.n(s),l=i(30),h={name:"ElInputNumber",mixins:[a()("input")],inject:{elForm:{default:""},elFormItem:{default:""}},directives:{repeatClick:l.a},components:{ElInput:o.a},props:{step:{type:Number,default:1},stepStrictly:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},value:{},disabled:Boolean,size:String,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:""},name:String,label:String,placeholder:String,precision:{type:Number,validator:function(t){return t>=0&&t===parseInt(t,10)}}},data:function(){return{currentValue:0,userInput:null}},watch:{value:{immediate:!0,handler:function(t){var e=void 0===t?t:Number(t);if(void 0!==e){if(isNaN(e))return;if(this.stepStrictly){var i=this.getPrecision(this.step),n=Math.pow(10,i);e=Math.round(e/this.step)*n*this.step/n}void 0!==this.precision&&(e=this.toPrecision(e,this.precision))}e>=this.max&&(e=this.max),e<=this.min&&(e=this.min),this.currentValue=e,this.userInput=null,this.$emit("input",e)}}},computed:{minDisabled:function(){return this._decrease(this.value,this.step)<this.min},maxDisabled:function(){return this._increase(this.value,this.step)>this.max},numPrecision:function(){var t=this.value,e=this.step,i=this.getPrecision,n=this.precision,r=i(e);return void 0!==n?(r>n&&console.warn("[Element Warn][InputNumber]precision should not be less than the decimal places of step"),n):Math.max(i(t),r)},controlsAtRight:function(){return this.controls&&"right"===this.controlsPosition},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},inputNumberSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputNumberDisabled:function(){return this.disabled||(this.elForm||{}).disabled},displayValue:function(){if(null!==this.userInput)return this.userInput;var t=this.currentValue;if("number"==typeof t){if(this.stepStrictly){var e=this.getPrecision(this.step),i=Math.pow(10,e);t=Math.round(t/this.step)*i*this.step/i}void 0!==this.precision&&(t=t.toFixed(this.precision))}return t}},methods:{toPrecision:function(t,e){return void 0===e&&(e=this.numPrecision),parseFloat(Math.round(t*Math.pow(10,e))/Math.pow(10,e))},getPrecision:function(t){if(void 0===t)return 0;var e=t.toString(),i=e.indexOf("."),n=0;return-1!==i&&(n=e.length-i-1),n},_increase:function(t,e){if("number"!=typeof t&&void 0!==t)return this.currentValue;var i=Math.pow(10,this.numPrecision);return this.toPrecision((i*t+i*e)/i)},_decrease:function(t,e){if("number"!=typeof t&&void 0!==t)return this.currentValue;var i=Math.pow(10,this.numPrecision);return this.toPrecision((i*t-i*e)/i)},increase:function(){if(!this.inputNumberDisabled&&!this.maxDisabled){var t=this.value||0,e=this._increase(t,this.step);this.setCurrentValue(e)}},decrease:function(){if(!this.inputNumberDisabled&&!this.minDisabled){var t=this.value||0,e=this._decrease(t,this.step);this.setCurrentValue(e)}},handleBlur:function(t){this.$emit("blur",t)},handleFocus:function(t){this.$emit("focus",t)},setCurrentValue:function(t){var e=this.currentValue;"number"==typeof t&&void 0!==this.precision&&(t=this.toPrecision(t,this.precision)),t>=this.max&&(t=this.max),t<=this.min&&(t=this.min),e!==t&&(this.userInput=null,this.$emit("input",t),this.$emit("change",t,e),this.currentValue=t)},handleInput:function(t){this.userInput=t},handleInputChange:function(t){var e=""===t?void 0:Number(t);isNaN(e)&&""!==t||this.setCurrentValue(e),this.userInput=null},select:function(){this.$refs.input.select()}},mounted:function(){var t=this.$refs.input.$refs.input;t.setAttribute("role","spinbutton"),t.setAttribute("aria-valuemax",this.max),t.setAttribute("aria-valuemin",this.min),t.setAttribute("aria-valuenow",this.currentValue),t.setAttribute("aria-disabled",this.inputNumberDisabled)},updated:function(){this.$refs&&this.$refs.input&&this.$refs.input.$refs.input.setAttribute("aria-valuenow",this.currentValue)}},u=i(0),c=Object(u.a)(h,n,[],!1,null,null,null);c.options.__file="packages/input-number/src/input-number.vue";var d=c.exports;d.install=function(t){t.component(d.name,d)};e.default=d},2:function(t,e){t.exports=i("2kvA")},22:function(t,e){t.exports=i("1oZe")},30:function(t,e,i){"use strict";var n=i(2);e.a={bind:function(t,e,i){var r=null,o=void 0,s=function(){return i.context[e.expression].apply()},a=function(){Date.now()-o<100&&s(),clearInterval(r),r=null};Object(n.on)(t,"mousedown",function(t){0===t.button&&(o=Date.now(),Object(n.once)(document,"mouseup",a),clearInterval(r),r=setInterval(s,100))})}}}})},"1dLi":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;factory=function(){return function(opts){for(var name in opts)this[name]=opts[name];var __mxOutput={},mxClient={VERSION:"4.0.6",IS_IE:navigator.userAgent.indexOf("MSIE")>=0,IS_IE6:navigator.userAgent.indexOf("MSIE 6")>=0,IS_IE11:!!navigator.userAgent.match(/Trident\/7\./),IS_EDGE:!!navigator.userAgent.match(/Edge\//),IS_QUIRKS:navigator.userAgent.indexOf("MSIE")>=0&&(null==document.documentMode||5==document.documentMode),IS_EM:"spellcheck"in document.createElement("textarea")&&8==document.documentMode,VML_PREFIX:"v",OFFICE_PREFIX:"o",IS_NS:navigator.userAgent.indexOf("Mozilla/")>=0&&navigator.userAgent.indexOf("MSIE")<0&&navigator.userAgent.indexOf("Edge/")<0,IS_OP:navigator.userAgent.indexOf("Opera/")>=0||navigator.userAgent.indexOf("OPR/")>=0,IS_OT:navigator.userAgent.indexOf("Presto/")>=0&&navigator.userAgent.indexOf("Presto/2.4.")<0&&navigator.userAgent.indexOf("Presto/2.3.")<0&&navigator.userAgent.indexOf("Presto/2.2.")<0&&navigator.userAgent.indexOf("Presto/2.1.")<0&&navigator.userAgent.indexOf("Presto/2.0.")<0&&navigator.userAgent.indexOf("Presto/1.")<0,IS_SF:navigator.userAgent.indexOf("AppleWebKit/")>=0&&navigator.userAgent.indexOf("Chrome/")<0&&navigator.userAgent.indexOf("Edge/")<0,IS_IOS:!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g),IS_GC:navigator.userAgent.indexOf("Chrome/")>=0&&navigator.userAgent.indexOf("Edge/")<0,IS_CHROMEAPP:null!=window.chrome&&null!=chrome.app&&null!=chrome.app.runtime,IS_FF:navigator.userAgent.indexOf("Firefox/")>=0,IS_MT:navigator.userAgent.indexOf("Firefox/")>=0&&navigator.userAgent.indexOf("Firefox/1.")<0&&navigator.userAgent.indexOf("Firefox/2.")<0||navigator.userAgent.indexOf("Iceweasel/")>=0&&navigator.userAgent.indexOf("Iceweasel/1.")<0&&navigator.userAgent.indexOf("Iceweasel/2.")<0||navigator.userAgent.indexOf("SeaMonkey/")>=0&&navigator.userAgent.indexOf("SeaMonkey/1.")<0||navigator.userAgent.indexOf("Iceape/")>=0&&navigator.userAgent.indexOf("Iceape/1.")<0,IS_VML:"MICROSOFT INTERNET EXPLORER"==navigator.appName.toUpperCase(),IS_SVG:"MICROSOFT INTERNET EXPLORER"!=navigator.appName.toUpperCase(),NO_FO:!document.createElementNS||"[object SVGForeignObjectElement]"!=document.createElementNS("http://www.w3.org/2000/svg","foreignObject")||navigator.userAgent.indexOf("Opera/")>=0,IS_WIN:navigator.appVersion.indexOf("Win")>0,IS_MAC:navigator.appVersion.indexOf("Mac")>0,IS_CHROMEOS:/\bCrOS\b/.test(navigator.userAgent),IS_TOUCH:"ontouchstart"in document.documentElement,IS_POINTER:null!=window.PointerEvent&&!(navigator.appVersion.indexOf("Mac")>0),IS_LOCAL:document.location.href.indexOf("http://")<0&&document.location.href.indexOf("https://")<0,defaultBundles:[],isBrowserSupported:function(){return mxClient.IS_VML||mxClient.IS_SVG},link:function(t,e,i,n){if(i=i||document,mxClient.IS_IE6)i.write('<link rel="'+t+'" href="'+e+'" charset="UTF-8" type="text/css"/>');else{var r=i.createElement("link");r.setAttribute("rel",t),r.setAttribute("href",e),r.setAttribute("charset","UTF-8"),r.setAttribute("type","text/css"),n&&r.setAttribute("id",n),i.getElementsByTagName("head")[0].appendChild(r)}},loadResources:function(t,e){var i=mxClient.defaultBundles.length;function n(){0==--i&&t()}for(var r=0;r<mxClient.defaultBundles.length;r++)mxResources.add(mxClient.defaultBundles[r],e,n)},include:function(t){document.write('<script src="'+t+'"><\/script>')}},node;"undefined"==typeof mxLoadResources&&(mxLoadResources=!0),"undefined"==typeof mxForceIncludes&&(mxForceIncludes=!1),"undefined"==typeof mxResourceExtension&&(mxResourceExtension=".txt"),"undefined"==typeof mxLoadStylesheets&&(mxLoadStylesheets=!0),"undefined"!=typeof mxBasePath&&mxBasePath.length>0?("/"==mxBasePath.substring(mxBasePath.length-1)&&(mxBasePath=mxBasePath.substring(0,mxBasePath.length-1)),mxClient.basePath=mxBasePath):mxClient.basePath=".","undefined"!=typeof mxImageBasePath&&mxImageBasePath.length>0?("/"==mxImageBasePath.substring(mxImageBasePath.length-1)&&(mxImageBasePath=mxImageBasePath.substring(0,mxImageBasePath.length-1)),mxClient.imageBasePath=mxImageBasePath):mxClient.imageBasePath=mxClient.basePath+"/images","undefined"!=typeof mxLanguage&&null!=mxLanguage?mxClient.language=mxLanguage:mxClient.language=mxClient.IS_IE?navigator.userLanguage:navigator.language,"undefined"!=typeof mxDefaultLanguage&&null!=mxDefaultLanguage?mxClient.defaultLanguage=mxDefaultLanguage:mxClient.defaultLanguage="en",mxLoadStylesheets&&mxClient.link("stylesheet",mxClient.basePath+"/css/common.css"),"undefined"!=typeof mxLanguages&&null!=mxLanguages&&(mxClient.languages=mxLanguages),mxClient.IS_VML&&(mxClient.IS_SVG?mxClient.IS_VML=!1:(8==document.documentMode?(document.namespaces.add(mxClient.VML_PREFIX,"urn:schemas-microsoft-com:vml","#default#VML"),document.namespaces.add(mxClient.OFFICE_PREFIX,"urn:schemas-microsoft-com:office:office","#default#VML")):(document.namespaces.add(mxClient.VML_PREFIX,"urn:schemas-microsoft-com:vml"),document.namespaces.add(mxClient.OFFICE_PREFIX,"urn:schemas-microsoft-com:office:office")),mxClient.IS_QUIRKS&&document.styleSheets.length>=30?(node=document.createElement("style"),node.type="text/css",node.styleSheet.cssText=mxClient.VML_PREFIX+"\\:*{behavior:url(#default#VML)}"+mxClient.OFFICE_PREFIX+"\\:*{behavior:url(#default#VML)}",document.getElementsByTagName("head")[0].appendChild(node)):document.createStyleSheet().cssText=mxClient.VML_PREFIX+"\\:*{behavior:url(#default#VML)}"+mxClient.OFFICE_PREFIX+"\\:*{behavior:url(#default#VML)}",mxLoadStylesheets&&mxClient.link("stylesheet",mxClient.basePath+"/css/explorer.css"))),(mxForceIncludes||"object"!=typeof module||null==module.exports)&&(mxClient.include(mxClient.basePath+"/js/util/mxLog.js"),mxClient.include(mxClient.basePath+"/js/util/mxObjectIdentity.js"),mxClient.include(mxClient.basePath+"/js/util/mxDictionary.js"),mxClient.include(mxClient.basePath+"/js/util/mxResources.js"),mxClient.include(mxClient.basePath+"/js/util/mxPoint.js"),mxClient.include(mxClient.basePath+"/js/util/mxRectangle.js"),mxClient.include(mxClient.basePath+"/js/util/mxEffects.js"),mxClient.include(mxClient.basePath+"/js/util/mxUtils.js"),mxClient.include(mxClient.basePath+"/js/util/mxConstants.js"),mxClient.include(mxClient.basePath+"/js/util/mxEventObject.js"),mxClient.include(mxClient.basePath+"/js/util/mxMouseEvent.js"),mxClient.include(mxClient.basePath+"/js/util/mxEventSource.js"),mxClient.include(mxClient.basePath+"/js/util/mxEvent.js"),mxClient.include(mxClient.basePath+"/js/util/mxXmlRequest.js"),mxClient.include(mxClient.basePath+"/js/util/mxClipboard.js"),mxClient.include(mxClient.basePath+"/js/util/mxWindow.js"),mxClient.include(mxClient.basePath+"/js/util/mxForm.js"),mxClient.include(mxClient.basePath+"/js/util/mxImage.js"),mxClient.include(mxClient.basePath+"/js/util/mxDivResizer.js"),mxClient.include(mxClient.basePath+"/js/util/mxDragSource.js"),mxClient.include(mxClient.basePath+"/js/util/mxToolbar.js"),mxClient.include(mxClient.basePath+"/js/util/mxUndoableEdit.js"),mxClient.include(mxClient.basePath+"/js/util/mxUndoManager.js"),mxClient.include(mxClient.basePath+"/js/util/mxUrlConverter.js"),mxClient.include(mxClient.basePath+"/js/util/mxPanningManager.js"),mxClient.include(mxClient.basePath+"/js/util/mxPopupMenu.js"),mxClient.include(mxClient.basePath+"/js/util/mxAutoSaveManager.js"),mxClient.include(mxClient.basePath+"/js/util/mxAnimation.js"),mxClient.include(mxClient.basePath+"/js/util/mxMorphing.js"),mxClient.include(mxClient.basePath+"/js/util/mxImageBundle.js"),mxClient.include(mxClient.basePath+"/js/util/mxImageExport.js"),mxClient.include(mxClient.basePath+"/js/util/mxAbstractCanvas2D.js"),mxClient.include(mxClient.basePath+"/js/util/mxXmlCanvas2D.js"),mxClient.include(mxClient.basePath+"/js/util/mxSvgCanvas2D.js"),mxClient.include(mxClient.basePath+"/js/util/mxVmlCanvas2D.js"),mxClient.include(mxClient.basePath+"/js/util/mxGuide.js"),mxClient.include(mxClient.basePath+"/js/shape/mxShape.js"),mxClient.include(mxClient.basePath+"/js/shape/mxStencil.js"),mxClient.include(mxClient.basePath+"/js/shape/mxStencilRegistry.js"),mxClient.include(mxClient.basePath+"/js/shape/mxMarker.js"),mxClient.include(mxClient.basePath+"/js/shape/mxActor.js"),mxClient.include(mxClient.basePath+"/js/shape/mxCloud.js"),mxClient.include(mxClient.basePath+"/js/shape/mxRectangleShape.js"),mxClient.include(mxClient.basePath+"/js/shape/mxEllipse.js"),mxClient.include(mxClient.basePath+"/js/shape/mxDoubleEllipse.js"),mxClient.include(mxClient.basePath+"/js/shape/mxRhombus.js"),mxClient.include(mxClient.basePath+"/js/shape/mxPolyline.js"),mxClient.include(mxClient.basePath+"/js/shape/mxArrow.js"),mxClient.include(mxClient.basePath+"/js/shape/mxArrowConnector.js"),mxClient.include(mxClient.basePath+"/js/shape/mxText.js"),mxClient.include(mxClient.basePath+"/js/shape/mxTriangle.js"),mxClient.include(mxClient.basePath+"/js/shape/mxHexagon.js"),mxClient.include(mxClient.basePath+"/js/shape/mxLine.js"),mxClient.include(mxClient.basePath+"/js/shape/mxImageShape.js"),mxClient.include(mxClient.basePath+"/js/shape/mxLabel.js"),mxClient.include(mxClient.basePath+"/js/shape/mxCylinder.js"),mxClient.include(mxClient.basePath+"/js/shape/mxConnector.js"),mxClient.include(mxClient.basePath+"/js/shape/mxSwimlane.js"),mxClient.include(mxClient.basePath+"/js/layout/mxGraphLayout.js"),mxClient.include(mxClient.basePath+"/js/layout/mxStackLayout.js"),mxClient.include(mxClient.basePath+"/js/layout/mxPartitionLayout.js"),mxClient.include(mxClient.basePath+"/js/layout/mxCompactTreeLayout.js"),mxClient.include(mxClient.basePath+"/js/layout/mxRadialTreeLayout.js"),mxClient.include(mxClient.basePath+"/js/layout/mxFastOrganicLayout.js"),mxClient.include(mxClient.basePath+"/js/layout/mxCircleLayout.js"),mxClient.include(mxClient.basePath+"/js/layout/mxParallelEdgeLayout.js"),mxClient.include(mxClient.basePath+"/js/layout/mxCompositeLayout.js"),mxClient.include(mxClient.basePath+"/js/layout/mxEdgeLabelLayout.js"),mxClient.include(mxClient.basePath+"/js/layout/hierarchical/model/mxGraphAbstractHierarchyCell.js"),mxClient.include(mxClient.basePath+"/js/layout/hierarchical/model/mxGraphHierarchyNode.js"),mxClient.include(mxClient.basePath+"/js/layout/hierarchical/model/mxGraphHierarchyEdge.js"),mxClient.include(mxClient.basePath+"/js/layout/hierarchical/model/mxGraphHierarchyModel.js"),mxClient.include(mxClient.basePath+"/js/layout/hierarchical/model/mxSwimlaneModel.js"),mxClient.include(mxClient.basePath+"/js/layout/hierarchical/stage/mxHierarchicalLayoutStage.js"),mxClient.include(mxClient.basePath+"/js/layout/hierarchical/stage/mxMedianHybridCrossingReduction.js"),mxClient.include(mxClient.basePath+"/js/layout/hierarchical/stage/mxMinimumCycleRemover.js"),mxClient.include(mxClient.basePath+"/js/layout/hierarchical/stage/mxCoordinateAssignment.js"),mxClient.include(mxClient.basePath+"/js/layout/hierarchical/stage/mxSwimlaneOrdering.js"),mxClient.include(mxClient.basePath+"/js/layout/hierarchical/mxHierarchicalLayout.js"),mxClient.include(mxClient.basePath+"/js/layout/hierarchical/mxSwimlaneLayout.js"),mxClient.include(mxClient.basePath+"/js/model/mxGraphModel.js"),mxClient.include(mxClient.basePath+"/js/model/mxCell.js"),mxClient.include(mxClient.basePath+"/js/model/mxGeometry.js"),mxClient.include(mxClient.basePath+"/js/model/mxCellPath.js"),mxClient.include(mxClient.basePath+"/js/view/mxPerimeter.js"),mxClient.include(mxClient.basePath+"/js/view/mxPrintPreview.js"),mxClient.include(mxClient.basePath+"/js/view/mxStylesheet.js"),mxClient.include(mxClient.basePath+"/js/view/mxCellState.js"),mxClient.include(mxClient.basePath+"/js/view/mxGraphSelectionModel.js"),mxClient.include(mxClient.basePath+"/js/view/mxCellEditor.js"),mxClient.include(mxClient.basePath+"/js/view/mxCellRenderer.js"),mxClient.include(mxClient.basePath+"/js/view/mxEdgeStyle.js"),mxClient.include(mxClient.basePath+"/js/view/mxStyleRegistry.js"),mxClient.include(mxClient.basePath+"/js/view/mxGraphView.js"),mxClient.include(mxClient.basePath+"/js/view/mxGraph.js"),mxClient.include(mxClient.basePath+"/js/view/mxCellOverlay.js"),mxClient.include(mxClient.basePath+"/js/view/mxOutline.js"),mxClient.include(mxClient.basePath+"/js/view/mxMultiplicity.js"),mxClient.include(mxClient.basePath+"/js/view/mxLayoutManager.js"),mxClient.include(mxClient.basePath+"/js/view/mxSwimlaneManager.js"),mxClient.include(mxClient.basePath+"/js/view/mxTemporaryCellStates.js"),mxClient.include(mxClient.basePath+"/js/view/mxCellStatePreview.js"),mxClient.include(mxClient.basePath+"/js/view/mxConnectionConstraint.js"),mxClient.include(mxClient.basePath+"/js/handler/mxGraphHandler.js"),mxClient.include(mxClient.basePath+"/js/handler/mxPanningHandler.js"),mxClient.include(mxClient.basePath+"/js/handler/mxPopupMenuHandler.js"),mxClient.include(mxClient.basePath+"/js/handler/mxCellMarker.js"),mxClient.include(mxClient.basePath+"/js/handler/mxSelectionCellsHandler.js"),mxClient.include(mxClient.basePath+"/js/handler/mxConnectionHandler.js"),mxClient.include(mxClient.basePath+"/js/handler/mxConstraintHandler.js"),mxClient.include(mxClient.basePath+"/js/handler/mxRubberband.js"),mxClient.include(mxClient.basePath+"/js/handler/mxHandle.js"),mxClient.include(mxClient.basePath+"/js/handler/mxVertexHandler.js"),mxClient.include(mxClient.basePath+"/js/handler/mxEdgeHandler.js"),mxClient.include(mxClient.basePath+"/js/handler/mxElbowEdgeHandler.js"),mxClient.include(mxClient.basePath+"/js/handler/mxEdgeSegmentHandler.js"),mxClient.include(mxClient.basePath+"/js/handler/mxKeyHandler.js"),mxClient.include(mxClient.basePath+"/js/handler/mxTooltipHandler.js"),mxClient.include(mxClient.basePath+"/js/handler/mxCellTracker.js"),mxClient.include(mxClient.basePath+"/js/handler/mxCellHighlight.js"),mxClient.include(mxClient.basePath+"/js/editor/mxDefaultKeyHandler.js"),mxClient.include(mxClient.basePath+"/js/editor/mxDefaultPopupMenu.js"),mxClient.include(mxClient.basePath+"/js/editor/mxDefaultToolbar.js"),mxClient.include(mxClient.basePath+"/js/editor/mxEditor.js"),mxClient.include(mxClient.basePath+"/js/io/mxCodecRegistry.js"),mxClient.include(mxClient.basePath+"/js/io/mxCodec.js"),mxClient.include(mxClient.basePath+"/js/io/mxObjectCodec.js"),mxClient.include(mxClient.basePath+"/js/io/mxCellCodec.js"),mxClient.include(mxClient.basePath+"/js/io/mxModelCodec.js"),mxClient.include(mxClient.basePath+"/js/io/mxRootChangeCodec.js"),mxClient.include(mxClient.basePath+"/js/io/mxChildChangeCodec.js"),mxClient.include(mxClient.basePath+"/js/io/mxTerminalChangeCodec.js"),mxClient.include(mxClient.basePath+"/js/io/mxGenericChangeCodec.js"),mxClient.include(mxClient.basePath+"/js/io/mxGraphCodec.js"),mxClient.include(mxClient.basePath+"/js/io/mxGraphViewCodec.js"),mxClient.include(mxClient.basePath+"/js/io/mxStylesheetCodec.js"),mxClient.include(mxClient.basePath+"/js/io/mxDefaultKeyHandlerCodec.js"),mxClient.include(mxClient.basePath+"/js/io/mxDefaultToolbarCodec.js"),mxClient.include(mxClient.basePath+"/js/io/mxDefaultPopupMenuCodec.js"),mxClient.include(mxClient.basePath+"/js/io/mxEditorCodec.js")),__mxOutput.mxClient=void 0!==mxClient?mxClient:void 0;var mxLog={consoleName:"Console",TRACE:!1,DEBUG:!0,WARN:!0,buffer:"",init:function(){if(null==mxLog.window&&null!=document.body){var t=mxLog.consoleName+" - mxGraph "+mxClient.VERSION,e=document.createElement("table");e.setAttribute("width","100%"),e.setAttribute("height","100%");var i=document.createElement("tbody"),n=document.createElement("tr"),r=document.createElement("td");r.style.verticalAlign="top",mxLog.textarea=document.createElement("textarea"),mxLog.textarea.setAttribute("wrap","off"),mxLog.textarea.setAttribute("readOnly","true"),mxLog.textarea.style.height="100%",mxLog.textarea.style.resize="none",mxLog.textarea.value=mxLog.buffer,mxClient.IS_NS&&"BackCompat"!=document.compatMode?mxLog.textarea.style.width="99%":mxLog.textarea.style.width="100%",r.appendChild(mxLog.textarea),n.appendChild(r),i.appendChild(n),n=document.createElement("tr"),mxLog.td=document.createElement("td"),mxLog.td.style.verticalAlign="top",mxLog.td.setAttribute("height","30px"),n.appendChild(mxLog.td),i.appendChild(n),e.appendChild(i),mxLog.addButton("Info",function(t){mxLog.info()}),mxLog.addButton("DOM",function(t){var e=mxUtils.getInnerHtml(document.body);mxLog.debug(e)}),mxLog.addButton("Trace",function(t){mxLog.TRACE=!mxLog.TRACE,mxLog.TRACE?mxLog.debug("Tracing enabled"):mxLog.debug("Tracing disabled")}),mxLog.addButton("Copy",function(t){try{mxUtils.copy(mxLog.textarea.value)}catch(t){mxUtils.alert(t)}}),mxLog.addButton("Show",function(t){try{mxUtils.popup(mxLog.textarea.value)}catch(t){mxUtils.alert(t)}}),mxLog.addButton("Clear",function(t){mxLog.textarea.value=""});var o=0,s=0;if("number"==typeof window.innerWidth?(o=window.innerHeight,s=window.innerWidth):(o=document.documentElement.clientHeight||document.body.clientHeight,s=document.body.clientWidth),mxLog.window=new mxWindow(t,e,Math.max(0,s-320),Math.max(0,o-210),300,160),mxLog.window.setMaximizable(!0),mxLog.window.setScrollable(!1),mxLog.window.setResizable(!0),mxLog.window.setClosable(!0),mxLog.window.destroyOnClose=!1,(mxClient.IS_NS||mxClient.IS_IE)&&!mxClient.IS_GC&&!mxClient.IS_SF&&"BackCompat"!=document.compatMode||11==document.documentMode){var a=mxLog.window.getElement(),l=function(t,e){mxLog.textarea.style.height=Math.max(0,a.offsetHeight-70)+"px"};mxLog.window.addListener(mxEvent.RESIZE_END,l),mxLog.window.addListener(mxEvent.MAXIMIZE,l),mxLog.window.addListener(mxEvent.NORMALIZE,l),mxLog.textarea.style.height="92px"}}},info:function(){mxLog.writeln(mxUtils.toString(navigator))},addButton:function(t,e){var i=document.createElement("button");mxUtils.write(i,t),mxEvent.addListener(i,"click",e),mxLog.td.appendChild(i)},isVisible:function(){return null!=mxLog.window&&mxLog.window.isVisible()},show:function(){mxLog.setVisible(!0)},setVisible:function(t){null==mxLog.window&&mxLog.init(),null!=mxLog.window&&mxLog.window.setVisible(t)},enter:function(t){if(mxLog.TRACE)return mxLog.writeln("Entering "+t),(new Date).getTime()},leave:function(t,e){if(mxLog.TRACE){var i=0!=e?" ("+((new Date).getTime()-e)+" ms)":"";mxLog.writeln("Leaving "+t+i)}},debug:function(){mxLog.DEBUG&&mxLog.writeln.apply(this,arguments)},warn:function(){mxLog.WARN&&mxLog.writeln.apply(this,arguments)},write:function(){for(var t="",e=0;e<arguments.length;e++)t+=arguments[e],e<arguments.length-1&&(t+=" ");null!=mxLog.textarea?(mxLog.textarea.value=mxLog.textarea.value+t,navigator.userAgent.indexOf("Presto/2.5")>=0&&(mxLog.textarea.style.visibility="hidden",mxLog.textarea.style.visibility="visible"),mxLog.textarea.scrollTop=mxLog.textarea.scrollHeight):mxLog.buffer+=t},writeln:function(){for(var t="",e=0;e<arguments.length;e++)t+=arguments[e],e<arguments.length-1&&(t+=" ");mxLog.write(t+"\n")}};__mxOutput.mxLog=void 0!==mxLog?mxLog:void 0;var mxObjectIdentity={FIELD_NAME:"mxObjectId",counter:0,get:function(t){if(null!=t){if(null==t[mxObjectIdentity.FIELD_NAME])if("object"==typeof t){var e=mxUtils.getFunctionName(t.constructor);t[mxObjectIdentity.FIELD_NAME]=e+"#"+mxObjectIdentity.counter++}else"function"==typeof t&&(t[mxObjectIdentity.FIELD_NAME]="Function#"+mxObjectIdentity.counter++);return t[mxObjectIdentity.FIELD_NAME]}return null},clear:function(t){"object"!=typeof t&&"function"!=typeof t||delete t[mxObjectIdentity.FIELD_NAME]}};function mxDictionary(){this.clear()}__mxOutput.mxObjectIdentity=void 0!==mxObjectIdentity?mxObjectIdentity:void 0,mxDictionary.prototype.map=null,mxDictionary.prototype.clear=function(){this.map={}},mxDictionary.prototype.get=function(t){var e=mxObjectIdentity.get(t);return this.map[e]},mxDictionary.prototype.put=function(t,e){var i=mxObjectIdentity.get(t),n=this.map[i];return this.map[i]=e,n},mxDictionary.prototype.remove=function(t){var e=mxObjectIdentity.get(t),i=this.map[e];return delete this.map[e],i},mxDictionary.prototype.getKeys=function(){var t=[];for(var e in this.map)t.push(e);return t},mxDictionary.prototype.getValues=function(){var t=[];for(var e in this.map)t.push(this.map[e]);return t},mxDictionary.prototype.visit=function(t){for(var e in this.map)t(e,this.map[e])},__mxOutput.mxDictionary=void 0!==mxDictionary?mxDictionary:void 0;var mxResources={resources:{},extension:mxResourceExtension,resourcesEncoded:!1,loadDefaultBundle:!0,loadSpecialBundle:!0,isLanguageSupported:function(t){return null==mxClient.languages||mxUtils.indexOf(mxClient.languages,t)>=0},getDefaultBundle:function(t,e){return mxResources.loadDefaultBundle||!mxResources.isLanguageSupported(e)?t+mxResources.extension:null},getSpecialBundle:function(t,e){if(null==mxClient.languages||!this.isLanguageSupported(e)){var i=e.indexOf("-");i>0&&(e=e.substring(0,i))}return mxResources.loadSpecialBundle&&mxResources.isLanguageSupported(e)&&e!=mxClient.defaultLanguage?t+"_"+e+mxResources.extension:null},add:function(t,e,i){if((e=null!=e?e:null!=mxClient.language?mxClient.language.toLowerCase():mxConstants.NONE)!=mxConstants.NONE){var n=mxResources.getDefaultBundle(t,e),r=mxResources.getSpecialBundle(t,e),o=function(){if(null!=r)if(i)mxUtils.get(r,function(t){mxResources.parse(t.getText()),i()},function(){i()});else try{var t=mxUtils.load(r);t.isReady()&&mxResources.parse(t.getText())}catch(t){}else null!=i&&i()};if(null!=n)if(i)mxUtils.get(n,function(t){mxResources.parse(t.getText()),o()},function(){o()});else try{var s=mxUtils.load(n);s.isReady()&&mxResources.parse(s.getText()),o()}catch(t){}else o()}},parse:function(t){if(null!=t)for(var e=t.split("\n"),i=0;i<e.length;i++)if("#"!=e[i].charAt(0)){var n=e[i].indexOf("=");if(n>0){var r=e[i].substring(0,n),o=e[i].length;13==e[i].charCodeAt(o-1)&&o--;var s=e[i].substring(n+1,o);this.resourcesEncoded?(s=s.replace(/\\(?=u[a-fA-F\d]{4})/g,"%"),mxResources.resources[r]=unescape(s)):mxResources.resources[r]=s}}},get:function(t,e,i){var n=mxResources.resources[t];return null==n&&(n=i),null!=n&&null!=e&&(n=mxResources.replacePlaceholders(n,e)),n},replacePlaceholders:function(t,e){for(var i=[],n=null,r=0;r<t.length;r++){var o=t.charAt(r);"{"==o?n="":null!=n&&"}"==o?((n=parseInt(n)-1)>=0&&n<e.length&&i.push(e[n]),n=null):null!=n?n+=o:i.push(o)}return i.join("")},loadResources:function(t){mxResources.add(mxClient.basePath+"/resources/editor",null,function(){mxResources.add(mxClient.basePath+"/resources/graph",null,t)})}};function mxPoint(t,e){this.x=null!=t?t:0,this.y=null!=e?e:0}function mxRectangle(t,e,i,n){mxPoint.call(this,t,e),this.width=null!=i?i:0,this.height=null!=n?n:0}__mxOutput.mxResources=void 0!==mxResources?mxResources:void 0,mxPoint.prototype.x=null,mxPoint.prototype.y=null,mxPoint.prototype.equals=function(t){return null!=t&&t.x==this.x&&t.y==this.y},mxPoint.prototype.clone=function(){return mxUtils.clone(this)},__mxOutput.mxPoint=void 0!==mxPoint?mxPoint:void 0,mxRectangle.prototype=new mxPoint,mxRectangle.prototype.constructor=mxRectangle,mxRectangle.prototype.width=null,mxRectangle.prototype.height=null,mxRectangle.prototype.setRect=function(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n},mxRectangle.prototype.getCenterX=function(){return this.x+this.width/2},mxRectangle.prototype.getCenterY=function(){return this.y+this.height/2},mxRectangle.prototype.add=function(t){if(null!=t){var e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width),r=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.y=i,this.width=n-e,this.height=r-i}},mxRectangle.prototype.intersect=function(t){if(null!=t){var e=this.x+this.width,i=t.x+t.width,n=this.y+this.height,r=t.y+t.height;this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.width=Math.min(e,i)-this.x,this.height=Math.min(n,r)-this.y}},mxRectangle.prototype.grow=function(t){this.x-=t,this.y-=t,this.width+=2*t,this.height+=2*t},mxRectangle.prototype.getPoint=function(){return new mxPoint(this.x,this.y)},mxRectangle.prototype.rotate90=function(){var t=(this.width-this.height)/2;this.x+=t,this.y-=t;var e=this.width;this.width=this.height,this.height=e},mxRectangle.prototype.equals=function(t){return null!=t&&t.x==this.x&&t.y==this.y&&t.width==this.width&&t.height==this.height},mxRectangle.fromRectangle=function(t){return new mxRectangle(t.x,t.y,t.width,t.height)},__mxOutput.mxRectangle=void 0!==mxRectangle?mxRectangle:void 0;var mxEffects={animateChanges:function(t,e,i){var n=0,r=function(){for(var s=!1,a=0;a<e.length;a++){var l=e[a];if(l instanceof mxGeometryChange||l instanceof mxTerminalChange||l instanceof mxValueChange||l instanceof mxChildChange||l instanceof mxStyleChange){var h=t.getView().getState(l.cell||l.child,!1);if(null!=h)if(s=!0,l.constructor!=mxGeometryChange||t.model.isEdge(l.cell))mxUtils.setOpacity(h.shape.node,100*n/10);else{var u=t.getView().scale,c=(l.geometry.x-l.previous.x)*u,d=(l.geometry.y-l.previous.y)*u,p=(l.geometry.width-l.previous.width)*u,f=(l.geometry.height-l.previous.height)*u;0==n?(h.x-=c,h.y-=d,h.width-=p,h.height-=f):(h.x+=c/10,h.y+=d/10,h.width+=p/10,h.height+=f/10),t.cellRenderer.redraw(h),mxEffects.cascadeOpacity(t,l.cell,100*n/10)}}}n<10&&s?(n++,window.setTimeout(r,o)):null!=i&&i()},o=30;r()},cascadeOpacity:function(t,e,i){for(var n=t.model.getChildCount(e),r=0;r<n;r++){var o=t.model.getChildAt(e,r),s=t.getView().getState(o);null!=s&&(mxUtils.setOpacity(s.shape.node,i),mxEffects.cascadeOpacity(t,o,i))}var a=t.model.getEdges(e);if(null!=a)for(r=0;r<a.length;r++){var l=t.getView().getState(a[r]);null!=l&&mxUtils.setOpacity(l.shape.node,i)}},fadeOut:function(t,e,i,n,r,o){n=n||40,r=r||30;var s=e||100;if(mxUtils.setOpacity(t,s),o||null==o){var a=function(){s=Math.max(s-n,0),mxUtils.setOpacity(t,s),s>0?window.setTimeout(a,r):(t.style.visibility="hidden",i&&t.parentNode&&t.parentNode.removeChild(t))};window.setTimeout(a,r)}else t.style.visibility="hidden",i&&t.parentNode&&t.parentNode.removeChild(t)}};__mxOutput.mxEffects=void 0!==mxEffects?mxEffects:void 0;var mxUtils={errorResource:"none"!=mxClient.language?"error":"",closeResource:"none"!=mxClient.language?"close":"",errorImage:mxClient.imageBasePath+"/error.gif",removeCursors:function(t){null!=t.style&&(t.style.cursor="");var e=t.childNodes;if(null!=e)for(var i=e.length,n=0;n<i;n+=1)mxUtils.removeCursors(e[n])},getCurrentStyle:mxClient.IS_IE&&(null==document.documentMode||document.documentMode<9)?function(t){return null!=t?t.currentStyle:null}:function(t){return null!=t?window.getComputedStyle(t,""):null},parseCssNumber:function(t){return"thin"==t?t="2":"medium"==t?t="4":"thick"==t&&(t="6"),t=parseFloat(t),isNaN(t)&&(t=0),t},setPrefixedStyle:(prefix=null,mxClient.IS_OT?prefix="O":mxClient.IS_SF||mxClient.IS_GC?prefix="Webkit":mxClient.IS_MT?prefix="Moz":mxClient.IS_IE&&document.documentMode>=9&&document.documentMode<10&&(prefix="ms"),function(t,e,i){t[e]=i,null!=prefix&&e.length>0&&(t[e=prefix+e.substring(0,1).toUpperCase()+e.substring(1)]=i)}),hasScrollbars:function(t){var e=mxUtils.getCurrentStyle(t);return null!=e&&("scroll"==e.overflow||"auto"==e.overflow)},bind:function(t,e){return function(){return e.apply(t,arguments)}},eval:function(expr){var result=null;if(expr.indexOf("function")>=0)try{eval("var _mxJavaScriptExpression="+expr),result=_mxJavaScriptExpression,_mxJavaScriptExpression=null}catch(t){mxLog.warn(t.message+" while evaluating "+expr)}else try{result=eval(expr)}catch(t){mxLog.warn(t.message+" while evaluating "+expr)}return result},findNode:function(t,e,i){if(t.nodeType==mxConstants.NODETYPE_ELEMENT){var n=t.getAttribute(e);if(null!=n&&n==i)return t}for(t=t.firstChild;null!=t;){var r=mxUtils.findNode(t,e,i);if(null!=r)return r;t=t.nextSibling}return null},getFunctionName:function(t){var e=null;if(null!=t)if(null!=t.name)e=t.name;else if(e=mxUtils.trim(t.toString()),/^function\s/.test(e)){var i=(e=mxUtils.ltrim(e.substring(9))).indexOf("(");i>0&&(e=e.substring(0,i))}return e},indexOf:function(t,e){if(null!=t&&null!=e)for(var i=0;i<t.length;i++)if(t[i]==e)return i;return-1},forEach:function(t,e){if(null!=t&&null!=e)for(var i=0;i<t.length;i++)e(t[i]);return t},remove:function(t,e){var i=null;if("object"==typeof e)for(var n=mxUtils.indexOf(e,t);n>=0;)e.splice(n,1),i=t,n=mxUtils.indexOf(e,t);for(var r in e)e[r]==t&&(delete e[r],i=t);return i},isNode:function(t,e,i,n){return!(null==t||isNaN(t.nodeType)||null!=e&&t.nodeName.toLowerCase()!=e.toLowerCase())&&(null==i||t.getAttribute(i)==n)},isAncestorNode:function(t,e){for(var i=e;null!=i;){if(i==t)return!0;i=i.parentNode}return!1},getChildNodes:function(t,e){e=e||mxConstants.NODETYPE_ELEMENT;for(var i=[],n=t.firstChild;null!=n;)n.nodeType==e&&i.push(n),n=n.nextSibling;return i},importNode:function(t,e,i){if(!mxClient.IS_IE||!(null==document.documentMode||document.documentMode<10))return t.importNode(e,i);switch(e.nodeType){case 1:var n=t.createElement(e.nodeName);if(e.attributes&&e.attributes.length>0){for(var r=0;r<e.attributes.length;r++)n.setAttribute(e.attributes[r].nodeName,e.getAttribute(e.attributes[r].nodeName));if(i&&e.childNodes&&e.childNodes.length>0)for(r=0;r<e.childNodes.length;r++)n.appendChild(mxUtils.importNode(t,e.childNodes[r],i))}return n;case 3:case 4:case 8:return t.createTextNode(e.value)}},createXmlDocument:function(){var t=null;return document.implementation&&document.implementation.createDocument?t=document.implementation.createDocument("","",null):window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLDOM")),t},parseXml:window.DOMParser?function(t){return(new DOMParser).parseFromString(t,"text/xml")}:function(t){var e=mxUtils.createXmlDocument();return e.async=!1,e.validateOnParse=!1,e.resolveExternals=!1,e.loadXML(t),e},clearSelection:document.selection?function(){document.selection.empty()}:window.getSelection?function(){window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges()}:function(){},getPrettyXml:function(t,e,i){var n=[];if(null!=t)if(e=e||"  ",i=i||"",t.nodeType==mxConstants.NODETYPE_TEXT){var r=mxUtils.trim(mxUtils.getTextContent(t));r.length>0&&n.push(i+mxUtils.htmlEntities(r)+"\n")}else{n.push(i+"<"+t.nodeName);var o=t.attributes;if(null!=o)for(var s=0;s<o.length;s++){var a=mxUtils.htmlEntities(o[s].value);n.push(" "+o[s].nodeName+'="'+a+'"')}var l=t.firstChild;if(null!=l){for(n.push(">\n");null!=l;)n.push(mxUtils.getPrettyXml(l,e,i+e)),l=l.nextSibling;n.push(i+"</"+t.nodeName+">\n")}else n.push("/>\n")}return n.join("")},removeWhitespace:function(t,e){for(var i=e?t.previousSibling:t.nextSibling;null!=i&&i.nodeType==mxConstants.NODETYPE_TEXT;){var n=e?i.previousSibling:i.nextSibling,r=mxUtils.getTextContent(i);0==mxUtils.trim(r).length&&i.parentNode.removeChild(i),i=n}},htmlEntities:function(t,e){return t=(t=(t=(t=(t=(t=String(t||"")).replace(/&/g,"&amp;")).replace(/"/g,"&quot;")).replace(/\'/g,"&#39;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),(null==e||e)&&(t=t.replace(/\n/g,"&#xa;")),t},isVml:function(t){return null!=t&&"urn:schemas-microsoft-com:vml"==t.tagUrn},getXml:function(t,e){var i="";null!=window.XMLSerializer?i=(new XMLSerializer).serializeToString(t):null!=t.xml&&(i=t.xml.replace(/\r\n\t[\t]*/g,"").replace(/>\r\n/g,">").replace(/\r\n/g,"\n"));return e=e||"&#xa;",i=i.replace(/\n/g,e)},extractTextWithWhitespace:function(t){var e=["BLOCKQUOTE","DIV","H1","H2","H3","H4","H5","H6","OL","P","PRE","TABLE","UL"],i=[];return function t(n){if(1!=n.length||"BR"!=n[0].nodeName&&"\n"!=n[0].innerHTML)for(var r=0;r<n.length;r++){var o=n[r];"BR"==o.nodeName||"\n"==o.innerHTML||(1==n.length||0==r)&&"DIV"==o.nodeName&&"<br>"==o.innerHTML.toLowerCase()?i.push("\n"):(3===o.nodeType||4===o.nodeType?o.nodeValue.length>0&&i.push(o.nodeValue):8!==o.nodeType&&o.childNodes.length>0&&t(o.childNodes),r<n.length-1&&mxUtils.indexOf(e,n[r+1].nodeName)>=0&&i.push("\n"))}}(t),i.join("")},replaceTrailingNewlines:function(t,e){for(var i="";t.length>0&&"\n"==t.charAt(t.length-1);)t=t.substring(0,t.length-1),i+=e;return t+i},getTextContent:function(t){return mxClient.IS_IE&&void 0!==t.innerText?t.innerText:null!=t?t[void 0===t.textContent?"text":"textContent"]:""},setTextContent:function(t,e){void 0!==t.innerText?t.innerText=e:t[void 0===t.textContent?"text":"textContent"]=e},getInnerHtml:mxClient.IS_IE?function(t){return null!=t?t.innerHTML:""}:function(t){return null!=t?(new XMLSerializer).serializeToString(t):""},getOuterHtml:mxClient.IS_IE?function(t){if(null!=t){if(null!=t.outerHTML)return t.outerHTML;var e=[];e.push("<"+t.nodeName);var i=t.attributes;if(null!=i)for(var n=0;n<i.length;n++){var r=i[n].value;null!=r&&r.length>0&&(e.push(" "),e.push(i[n].nodeName),e.push('="'),e.push(r),e.push('"'))}return 0==t.innerHTML.length?e.push("/>"):(e.push(">"),e.push(t.innerHTML),e.push("</"+t.nodeName+">")),e.join("")}return""}:function(t){return null!=t?(new XMLSerializer).serializeToString(t):""},write:function(t,e){var i=t.ownerDocument.createTextNode(e);return null!=t&&t.appendChild(i),i},writeln:function(t,e){var i=t.ownerDocument.createTextNode(e);return null!=t&&(t.appendChild(i),t.appendChild(document.createElement("br"))),i},br:function(t,e){e=e||1;for(var i=null,n=0;n<e;n++)null!=t&&(i=t.ownerDocument.createElement("br"),t.appendChild(i));return i},button:function(t,e,i){var n=(i=null!=i?i:document).createElement("button");return mxUtils.write(n,t),mxEvent.addListener(n,"click",function(t){e(t)}),n},para:function(t,e){var i=document.createElement("p");return mxUtils.write(i,e),null!=t&&t.appendChild(i),i},addTransparentBackgroundFilter:function(t){t.style.filter+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+mxClient.imageBasePath+"/transparent.gif', sizingMethod='scale')"},linkAction:function(t,e,i,n,r){return mxUtils.link(t,e,function(){i.execute(n)},r)},linkInvoke:function(t,e,i,n,r,o){return mxUtils.link(t,e,function(){i[n](r)},o)},link:function(t,e,i,n){var r=document.createElement("span");return r.style.color="blue",r.style.textDecoration="underline",r.style.cursor="pointer",null!=n&&(r.style.paddingLeft=n+"px"),mxEvent.addListener(r,"click",i),mxUtils.write(r,e),null!=t&&t.appendChild(r),r},getDocumentSize:function(){var t=document.body,e=document.documentElement;try{return new mxRectangle(0,0,t.clientWidth||e.clientWidth,Math.max(t.clientHeight||0,e.clientHeight))}catch(t){return new mxRectangle}},fit:function(t){var e=mxUtils.getDocumentSize(),i=parseInt(t.offsetLeft),n=parseInt(t.offsetWidth),r=mxUtils.getDocumentScrollOrigin(t.ownerDocument),o=r.x,s=r.y,a=(document.body,document.documentElement,o+e.width);i+n>a&&(t.style.left=Math.max(o,a-n)+"px");var l=parseInt(t.offsetTop),h=parseInt(t.offsetHeight),u=s+e.height;l+h>u&&(t.style.top=Math.max(s,u-h)+"px")},load:function(t){var e=new mxXmlRequest(t,null,"GET",!1);return e.send(),e},get:function(t,e,i,n,r,o){var s=new mxXmlRequest(t,null,"GET");return null!=n&&s.setBinary(n),s.send(e,i,r,o),s},getAll:function(t,e,i){for(var n=t.length,r=[],o=0,s=function(){0==o&&null!=i&&i(),o++},a=0;a<t.length;a++)!function(t,i){mxUtils.get(t,function(t){var o=t.getStatus();o<200||o>299?s():(r[i]=t,0==--n&&e(r))},s)}(t[a],a);0==n&&e(r)},post:function(t,e,i,n){return new mxXmlRequest(t,e).send(i,n)},submit:function(t,e,i,n){return new mxXmlRequest(t,e).simulate(i,n)},loadInto:function(t,e,i){mxClient.IS_IE?e.onreadystatechange=function(){4==e.readyState&&i()}:e.addEventListener("load",i,!1),e.load(t)},getValue:function(t,e,i){var n=null!=t?t[e]:null;return null==n&&(n=i),n},getNumber:function(t,e,i){var n=null!=t?t[e]:null;return null==n&&(n=i||0),Number(n)},getColor:function(t,e,i){var n=null!=t?t[e]:null;return null==n?n=i:n==mxConstants.NONE&&(n=null),n},clone:function(t,e,i){i=null!=i&&i;var n=null;if(null!=t&&"function"==typeof t.constructor)for(var r in n=new t.constructor,t)r!=mxObjectIdentity.FIELD_NAME&&(null==e||mxUtils.indexOf(e,r)<0)&&(i||"object"!=typeof t[r]?n[r]=t[r]:n[r]=mxUtils.clone(t[r]));return n},equalPoints:function(t,e){if(null==t&&null!=e||null!=t&&null==e||null!=t&&null!=e&&t.length!=e.length)return!1;if(null!=t&&null!=e)for(var i=0;i<t.length;i++)if(t[i]==e[i]||null!=t[i]&&!t[i].equals(e[i]))return!1;return!0},equalEntries:function(t,e){var i=0;if(null==t&&null!=e||null!=t&&null==e||null!=t&&null!=e&&t.length!=e.length)return!1;if(null!=t&&null!=e){for(var n in e)i++;for(var n in t)if(i--,!(mxUtils.isNaN(t[n])&&mxUtils.isNaN(e[n])||t[n]==e[n]))return!1}return 0==i},removeDuplicates:function(t){for(var e=new mxDictionary,i=[],n=0;n<t.length;n++)e.get(t[n])||(i.push(t[n]),e.put(t[n],!0));return i},isNaN:function(t){return"number"==typeof t&&isNaN(t)},extend:function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t},toString:function(t){var e="";for(var i in t)try{if(null==t[i])e+=i+" = [null]\n";else if("function"==typeof t[i])e+=i+" => [Function]\n";else if("object"==typeof t[i]){e+=i+" => ["+mxUtils.getFunctionName(t[i].constructor)+"]\n"}else e+=i+" = "+t[i]+"\n"}catch(t){e+=i+"="+t.message}return e},toRadians:function(t){return Math.PI*t/180},toDegree:function(t){return 180*t/Math.PI},arcToCurves:function(t,e,i,n,r,o,s,a,l){if(a-=t,l-=e,0===i||0===n)return Q;var h=s,u=r;i=Math.abs(i),n=Math.abs(n);var c,d=-a/2,p=-l/2,f=Math.cos(u*Math.PI/180),m=Math.sin(u*Math.PI/180),g=f*d+m*p,v=-1*m*d+f*p,A=g*g,y=v*v,x=i*i,b=n*n,C=A/x+y/b;if(C>1)i=Math.sqrt(C)*i,n=Math.sqrt(C)*n,c=0;else{var w=1;o===h&&(w=-1),c=w*Math.sqrt((x*b-x*y-b*A)/(x*y+b*A))}var E=c*i*v/n,S=-1*c*n*g/i,T=f*E-m*S+a/2,_=m*E+f*S+l/2,M=Math.atan2((v-S)/n,(g-E)/i)-Math.atan2(0,1),k=M>=0?M:2*Math.PI+M,B=(M=Math.atan2((-v-S)/n,(-g-E)/i)-Math.atan2((v-S)/n,(g-E)/i))>=0?M:2*Math.PI+M;0==h&&B>0?B-=2*Math.PI:0!=h&&B<0&&(B+=2*Math.PI);for(var O=2*B/Math.PI,P=Math.ceil(O<0?-1*O:O),L=B/P,N=8/3*Math.sin(L/4)*Math.sin(L/4)/Math.sin(L/2),I=f*i,D=f*n,R=m*i,F=m*n,H=Math.cos(k),U=Math.sin(k),V=-N*(I*U+F*H),j=-N*(R*U-D*H),G=0,z=0,Q=[],Y=0;Y<P;++Y){k+=L,G=I*(H=Math.cos(k))-F*(U=Math.sin(k))+T,z=R*H+D*U+_;var K=-N*(I*U+F*H),X=-N*(R*U-D*H),$=6*Y;Q[$]=Number(V+t),Q[$+1]=Number(j+e),Q[$+2]=Number(G-K+t),Q[$+3]=Number(z-X+e),Q[$+4]=Number(G+t),Q[$+5]=Number(z+e),V=G+K,j=z+X}return Q},getBoundingBox:function(t,e,i){var n=null;if(null!=t&&null!=e&&0!=e){var r=mxUtils.toRadians(e),o=Math.cos(r),s=Math.sin(r);i=null!=i?i:new mxPoint(t.x+t.width/2,t.y+t.height/2);var a=new mxPoint(t.x,t.y),l=new mxPoint(t.x+t.width,t.y),h=new mxPoint(l.x,t.y+t.height),u=new mxPoint(t.x,h.y);a=mxUtils.getRotatedPoint(a,o,s,i),l=mxUtils.getRotatedPoint(l,o,s,i),h=mxUtils.getRotatedPoint(h,o,s,i),u=mxUtils.getRotatedPoint(u,o,s,i),(n=new mxRectangle(a.x,a.y,0,0)).add(new mxRectangle(l.x,l.y,0,0)),n.add(new mxRectangle(h.x,h.y,0,0)),n.add(new mxRectangle(u.x,u.y,0,0))}return n},getRotatedPoint:function(t,e,i,n){n=null!=n?n:new mxPoint;var r=t.x-n.x,o=t.y-n.y,s=o*e+r*i;return new mxPoint(r*e-o*i+n.x,s+n.y)},getPortConstraints:function(t,e,i,n){var r=mxUtils.getValue(t.style,mxConstants.STYLE_PORT_CONSTRAINT,mxUtils.getValue(e.style,i?mxConstants.STYLE_SOURCE_PORT_CONSTRAINT:mxConstants.STYLE_TARGET_PORT_CONSTRAINT,null));if(null==r)return n;var o=r.toString(),s=mxConstants.DIRECTION_MASK_NONE,a=0;1==mxUtils.getValue(t.style,mxConstants.STYLE_PORT_CONSTRAINT_ROTATION,0)&&(a=mxUtils.getValue(t.style,mxConstants.STYLE_ROTATION,0));var l=0;if(a>45?(l=1,a>=135&&(l=2)):a<-45&&(l=3,a<=-135&&(l=2)),o.indexOf(mxConstants.DIRECTION_NORTH)>=0)switch(l){case 0:s|=mxConstants.DIRECTION_MASK_NORTH;break;case 1:s|=mxConstants.DIRECTION_MASK_EAST;break;case 2:s|=mxConstants.DIRECTION_MASK_SOUTH;break;case 3:s|=mxConstants.DIRECTION_MASK_WEST}if(o.indexOf(mxConstants.DIRECTION_WEST)>=0)switch(l){case 0:s|=mxConstants.DIRECTION_MASK_WEST;break;case 1:s|=mxConstants.DIRECTION_MASK_NORTH;break;case 2:s|=mxConstants.DIRECTION_MASK_EAST;break;case 3:s|=mxConstants.DIRECTION_MASK_SOUTH}if(o.indexOf(mxConstants.DIRECTION_SOUTH)>=0)switch(l){case 0:s|=mxConstants.DIRECTION_MASK_SOUTH;break;case 1:s|=mxConstants.DIRECTION_MASK_WEST;break;case 2:s|=mxConstants.DIRECTION_MASK_NORTH;break;case 3:s|=mxConstants.DIRECTION_MASK_EAST}if(o.indexOf(mxConstants.DIRECTION_EAST)>=0)switch(l){case 0:s|=mxConstants.DIRECTION_MASK_EAST;break;case 1:s|=mxConstants.DIRECTION_MASK_SOUTH;break;case 2:s|=mxConstants.DIRECTION_MASK_WEST;break;case 3:s|=mxConstants.DIRECTION_MASK_NORTH}return s},reversePortConstraints:function(t){var e=0;return e=(t&mxConstants.DIRECTION_MASK_WEST)<<3,e|=(t&mxConstants.DIRECTION_MASK_NORTH)<<1,e|=(t&mxConstants.DIRECTION_MASK_SOUTH)>>1,e|=(t&mxConstants.DIRECTION_MASK_EAST)>>3},findNearestSegment:function(t,e,i){var n=-1;if(t.absolutePoints.length>0)for(var r=t.absolutePoints[0],o=null,s=1;s<t.absolutePoints.length;s++){var a=t.absolutePoints[s],l=mxUtils.ptSegDistSq(r.x,r.y,a.x,a.y,e,i);(null==o||l<o)&&(o=l,n=s-1),r=a}return n},getDirectedBounds:function(t,e,i,n,r){var o=mxUtils.getValue(i,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST);if(n=null!=n?n:mxUtils.getValue(i,mxConstants.STYLE_FLIPH,!1),r=null!=r?r:mxUtils.getValue(i,mxConstants.STYLE_FLIPV,!1),e.x=Math.round(Math.max(0,Math.min(t.width,e.x))),e.y=Math.round(Math.max(0,Math.min(t.height,e.y))),e.width=Math.round(Math.max(0,Math.min(t.width,e.width))),e.height=Math.round(Math.max(0,Math.min(t.height,e.height))),r&&(o==mxConstants.DIRECTION_SOUTH||o==mxConstants.DIRECTION_NORTH)||n&&(o==mxConstants.DIRECTION_EAST||o==mxConstants.DIRECTION_WEST)){var s=e.x;e.x=e.width,e.width=s}if(n&&(o==mxConstants.DIRECTION_SOUTH||o==mxConstants.DIRECTION_NORTH)||r&&(o==mxConstants.DIRECTION_EAST||o==mxConstants.DIRECTION_WEST)){s=e.y;e.y=e.height,e.height=s}var a=mxRectangle.fromRectangle(e);return o==mxConstants.DIRECTION_SOUTH?(a.y=e.x,a.x=e.height,a.width=e.y,a.height=e.width):o==mxConstants.DIRECTION_WEST?(a.y=e.height,a.x=e.width,a.width=e.x,a.height=e.y):o==mxConstants.DIRECTION_NORTH&&(a.y=e.width,a.x=e.y,a.width=e.height,a.height=e.x),new mxRectangle(t.x+a.x,t.y+a.y,t.width-a.width-a.x,t.height-a.height-a.y)},getPerimeterPoint:function(t,e,i){for(var n=null,r=0;r<t.length-1;r++){var o=mxUtils.intersection(t[r].x,t[r].y,t[r+1].x,t[r+1].y,e.x,e.y,i.x,i.y);if(null!=o){var s=i.x-o.x,a=i.y-o.y,l={p:o,distSq:a*a+s*s};null!=l&&(null==n||n.distSq>l.distSq)&&(n=l)}}return null!=n?n.p:null},rectangleIntersectsSegment:function(t,e,i){var n=t.y,r=t.x,o=n+t.height,s=r+t.width,a=e.x,l=i.x;if(e.x>i.x&&(a=i.x,l=e.x),l>s&&(l=s),a<r&&(a=r),a>l)return!1;var h=e.y,u=i.y,c=i.x-e.x;if(Math.abs(c)>1e-7){var d=(i.y-e.y)/c,p=e.y-d*e.x;h=d*a+p,u=d*l+p}if(h>u){var f=u;u=h,h=f}return u>o&&(u=o),h<n&&(h=n),!(h>u)},contains:function(t,e,i){return t.x<=e&&t.x+t.width>=e&&t.y<=i&&t.y+t.height>=i},intersects:function(t,e){var i=t.width,n=t.height,r=e.width,o=e.height;if(r<=0||o<=0||i<=0||n<=0)return!1;var s=t.x,a=t.y,l=e.x,h=e.y;return o+=h,i+=s,n+=a,((r+=l)<l||r>s)&&(o<h||o>a)&&(i<s||i>l)&&(n<a||n>h)},intersectsHotspot:function(t,e,i,n,r,o){if(n=null!=n?n:1,r=null!=r?r:0,o=null!=o?o:0,n>0){var s=t.getCenterX(),a=t.getCenterY(),l=t.width,h=t.height,u=mxUtils.getValue(t.style,mxConstants.STYLE_STARTSIZE)*t.view.scale;u>0&&(mxUtils.getValue(t.style,mxConstants.STYLE_HORIZONTAL,!0)?(a=t.y+u/2,h=u):(s=t.x+u/2,l=u)),l=Math.max(r,l*n),h=Math.max(r,h*n),o>0&&(l=Math.min(l,o),h=Math.min(h,o));var c=new mxRectangle(s-l/2,a-h/2,l,h),d=mxUtils.toRadians(mxUtils.getValue(t.style,mxConstants.STYLE_ROTATION)||0);if(0!=d){var p=Math.cos(-d),f=Math.sin(-d),m=(s=new mxPoint(t.getCenterX(),t.getCenterY()),mxUtils.getRotatedPoint(new mxPoint(e,i),p,f,s));e=m.x,i=m.y}return mxUtils.contains(c,e,i)}return!0},getOffset:function(t,e){for(var i=0,n=0,r=!1,o=t,s=document.body,a=document.documentElement;null!=o&&o!=s&&o!=a&&!r;){var l=mxUtils.getCurrentStyle(o);null!=l&&(r=r||"fixed"==l.position),o=o.parentNode}if(!e&&!r){var h=mxUtils.getDocumentScrollOrigin(t.ownerDocument);i+=h.x,n+=h.y}var u=t.getBoundingClientRect();return null!=u&&(i+=u.left,n+=u.top),new mxPoint(i,n)},getDocumentScrollOrigin:function(t){if(mxClient.IS_QUIRKS)return new mxPoint(t.body.scrollLeft,t.body.scrollTop);var e=t.defaultView||t.parentWindow;return new mxPoint(null!=e&&void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,null!=e&&void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop)},getScrollOrigin:function(t,e,i){e=null!=e&&e,i=null==i||i;for(var n=null!=t?t.ownerDocument:document,r=n.body,o=n.documentElement,s=new mxPoint,a=!1;null!=t&&t!=r&&t!=o;){isNaN(t.scrollLeft)||isNaN(t.scrollTop)||(s.x+=t.scrollLeft,s.y+=t.scrollTop);var l=mxUtils.getCurrentStyle(t);null!=l&&(a=a||"fixed"==l.position),t=e?t.parentNode:null}if(!a&&i){var h=mxUtils.getDocumentScrollOrigin(n);s.x+=h.x,s.y+=h.y}return s},convertPoint:function(t,e,i){var n=mxUtils.getScrollOrigin(t,!1),r=mxUtils.getOffset(t);return r.x-=n.x,r.y-=n.y,new mxPoint(e-r.x,i-r.y)},ltrim:function(t,e){return e=e||"\\s",null!=t?t.replace(new RegExp("^["+e+"]+","g"),""):null},rtrim:function(t,e){return e=e||"\\s",null!=t?t.replace(new RegExp("["+e+"]+$","g"),""):null},trim:function(t,e){return mxUtils.ltrim(mxUtils.rtrim(t,e),e)},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)&&("string"!=typeof t||t.toLowerCase().indexOf("0x")<0)},isInteger:function(t){return String(parseInt(t))===String(t)},mod:function(t,e){return(t%e+e)%e},intersection:function(t,e,i,n,r,o,s,a){var l=(a-o)*(i-t)-(s-r)*(n-e),h=((s-r)*(e-o)-(a-o)*(t-r))/l,u=((i-t)*(e-o)-(n-e)*(t-r))/l;return h>=0&&h<=1&&u>=0&&u<=1?new mxPoint(t+h*(i-t),e+h*(n-e)):null},ptSegDistSq:function(t,e,i,n,r,o){var s,a=(r-=t)*(i-=t)+(o-=e)*(n-=e);s=a<=0?0:(a=(r=i-r)*i+(o=n-o)*n)<=0?0:a*a/(i*i+n*n);var l=r*r+o*o-s;return l<0&&(l=0),l},ptLineDist:function(t,e,i,n,r,o){return Math.abs((n-e)*r-(i-t)*o+i*e-n*t)/Math.sqrt((n-e)*(n-e)+(i-t)*(i-t))},relativeCcw:function(t,e,i,n,r,o){var s=(r-=t)*(n-=e)-(o-=e)*(i-=t);return 0==s&&(s=r*i+o*n)>0&&(s=(r-=i)*i+(o-=n)*n)<0&&(s=0),s<0?-1:s>0?1:0},animateChanges:function(t,e){mxEffects.animateChanges.apply(this,arguments)},cascadeOpacity:function(t,e,i){mxEffects.cascadeOpacity.apply(this,arguments)},fadeOut:function(t,e,i,n,r,o){mxEffects.fadeOut.apply(this,arguments)},setOpacity:function(t,e){mxUtils.isVml(t)?t.style.filter=e>=100?"":"alpha(opacity="+e/5+")":mxClient.IS_IE&&(void 0===document.documentMode||document.documentMode<9)?t.style.filter=e>=100?"":"alpha(opacity="+e+")":t.style.opacity=e/100},createImage:function(t){var e=null;return mxClient.IS_IE6&&"CSS1Compat"!=document.compatMode?((e=document.createElement(mxClient.VML_PREFIX+":image")).setAttribute("src",t),e.style.borderStyle="none"):((e=document.createElement("img")).setAttribute("src",t),e.setAttribute("border","0")),e},sortCells:function(t,e){e=null==e||e;var i=new mxDictionary;return t.sort(function(t,n){var r=i.get(t);null==r&&(r=mxCellPath.create(t).split(mxCellPath.PATH_SEPARATOR),i.put(t,r));var o=i.get(n);null==o&&(o=mxCellPath.create(n).split(mxCellPath.PATH_SEPARATOR),i.put(n,o));var s=mxCellPath.compare(r,o);return 0==s?0:s>0==e?1:-1}),t},getStylename:function(t){if(null!=t){var e=t.split(";")[0];if(e.indexOf("=")<0)return e}return""},getStylenames:function(t){var e=[];if(null!=t)for(var i=t.split(";"),n=0;n<i.length;n++)i[n].indexOf("=")<0&&e.push(i[n]);return e},indexOfStylename:function(t,e){if(null!=t&&null!=e)for(var i=t.split(";"),n=0,r=0;r<i.length;r++){if(i[r]==e)return n;n+=i[r].length+1}return-1},addStylename:function(t,e){return mxUtils.indexOfStylename(t,e)<0&&(null==t?t="":t.length>0&&";"!=t.charAt(t.length-1)&&(t+=";"),t+=e),t},removeStylename:function(t,e){var i=[];if(null!=t)for(var n=t.split(";"),r=0;r<n.length;r++)n[r]!=e&&i.push(n[r]);return i.join(";")},removeAllStylenames:function(t){var e=[];if(null!=t)for(var i=t.split(";"),n=0;n<i.length;n++)i[n].indexOf("=")>=0&&e.push(i[n]);return e.join(";")},setCellStyles:function(t,e,i,n){if(null!=e&&e.length>0){t.beginUpdate();try{for(var r=0;r<e.length;r++)if(null!=e[r]){var o=mxUtils.setStyle(t.getStyle(e[r]),i,n);t.setStyle(e[r],o)}}finally{t.endUpdate()}}},setStyle:function(t,e,i){var n=null!=i&&(void 0===i.length||i.length>0);if(null==t||0==t.length)n&&(t=e+"="+i+";");else if(t.substring(0,e.length+1)==e+"="){var r=t.indexOf(";");t=n?e+"="+i+(r<0?";":t.substring(r)):r<0||r==t.length-1?"":t.substring(r+1)}else{var o=t.indexOf(";"+e+"=");if(o<0){if(n)t=t+(";"==t.charAt(t.length-1)?"":";")+e+"="+i+";"}else{r=t.indexOf(";",o+1);t=n?t.substring(0,o+1)+e+"="+i+(r<0?";":t.substring(r)):t.substring(0,o)+(r<0?";":t.substring(r))}}return t},setCellStyleFlags:function(t,e,i,n,r){if(null!=e&&e.length>0){t.beginUpdate();try{for(var o=0;o<e.length;o++)if(null!=e[o]){var s=mxUtils.setStyleFlag(t.getStyle(e[o]),i,n,r);t.setStyle(e[o],s)}}finally{t.endUpdate()}}},setStyleFlag:function(t,e,i,n){if(null==t||0==t.length)t=n||null==n?e+"="+i:e+"=0";else{var r=t.indexOf(e+"=");if(r<0){var o=";"==t.charAt(t.length-1)?"":";";t=n||null==n?t+o+e+"="+i:t+o+e+"=0"}else{var s=t.indexOf(";",r),a="";a=s<0?t.substring(r+e.length+1):t.substring(r+e.length+1,s),a=null==n?parseInt(a)^i:n?parseInt(a)|i:parseInt(a)&~i,t=t.substring(0,r)+e+"="+a+(s>=0?t.substring(s):"")}}return t},getAlignmentAsPoint:function(t,e){var i=0,n=0;return t==mxConstants.ALIGN_CENTER?i=-.5:t==mxConstants.ALIGN_RIGHT&&(i=-1),e==mxConstants.ALIGN_MIDDLE?n=-.5:e==mxConstants.ALIGN_BOTTOM&&(n=-1),new mxPoint(i,n)},getSizeForString:function(t,e,i,n){e=null!=e?e:mxConstants.DEFAULT_FONTSIZE,i=null!=i?i:mxConstants.DEFAULT_FONTFAMILY;var r=document.createElement("div");r.style.fontFamily=i,r.style.fontSize=Math.round(e)+"px",r.style.lineHeight=Math.round(e*mxConstants.LINE_HEIGHT)+"px",r.style.position="absolute",r.style.visibility="hidden",r.style.display=mxClient.IS_QUIRKS?"inline":"inline-block",r.style.zoom="1",null!=n?(r.style.width=n+"px",r.style.whiteSpace="normal"):r.style.whiteSpace="nowrap",r.innerHTML=t,document.body.appendChild(r);var o=new mxRectangle(0,0,r.offsetWidth,r.offsetHeight);return document.body.removeChild(r),o},getViewXml:function(t,e,i,n,r){(n=null!=n?n:0,r=null!=r?r:0,e=null!=e?e:1,null==i)&&(i=[t.getModel().getRoot()]);var o=t.getView(),s=null,a=o.isEventsEnabled();o.setEventsEnabled(!1);var l=o.drawPane,h=o.overlayPane;t.dialect==mxConstants.DIALECT_SVG?(o.drawPane=document.createElementNS(mxConstants.NS_SVG,"g"),o.canvas.appendChild(o.drawPane),o.overlayPane=document.createElementNS(mxConstants.NS_SVG,"g"),o.canvas.appendChild(o.overlayPane)):(o.drawPane=o.drawPane.cloneNode(!1),o.canvas.appendChild(o.drawPane),o.overlayPane=o.overlayPane.cloneNode(!1),o.canvas.appendChild(o.overlayPane));var u=o.getTranslate();o.translate=new mxPoint(n,r);var c=new mxTemporaryCellStates(t.getView(),e,i);try{s=(new mxCodec).encode(t.getView())}finally{c.destroy(),o.translate=u,o.canvas.removeChild(o.drawPane),o.canvas.removeChild(o.overlayPane),o.drawPane=l,o.overlayPane=h,o.setEventsEnabled(a)}return s},getScaleForPageCount:function(t,e,i,n){if(t<1)return 1;i=null!=i?i:mxConstants.PAGE_FORMAT_A4_PORTRAIT,n=null!=n?n:0;var r=i.width-2*n,o=i.height-2*n,s=e.getGraphBounds().clone(),a=e.getView().getScale();s.width/=a,s.height/=a;var l=s.width,h=l/s.height/(r/o),u=Math.sqrt(t),c=Math.sqrt(h),d=u*c,p=u/c;if(d<1&&p>t){var f=p/t;p=t,d/=f}if(p<1&&d>t){f=d/t;d=t,p/=f}for(var m=Math.ceil(d)*Math.ceil(p),g=0;m>t;){var v=Math.floor(d)/d,A=Math.floor(p)/p;1==v&&(v=Math.floor(d-1)/d),1==A&&(A=Math.floor(p-1)/p);f=1;if(d*=f=v>A?v:A,p*=f,m=Math.ceil(d)*Math.ceil(p),++g>10)break}return.99999*(r*d/l)},show:function(t,e,i,n,r,o){(i=null!=i?i:0,n=null!=n?n:0,null==e)?e=window.open().document:e.open();9==document.documentMode&&e.writeln('\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=9"><![endif]--\x3e');var s=t.getGraphBounds(),a=Math.ceil(i-s.x),l=Math.ceil(n-s.y);if(null==r&&(r=Math.ceil(s.width+i)+Math.ceil(Math.ceil(s.x)-s.x)),null==o&&(o=Math.ceil(s.height+n)+Math.ceil(Math.ceil(s.y)-s.y)),mxClient.IS_IE||11==document.documentMode){for(var h="<html><head>",u=document.getElementsByTagName("base"),c=0;c<u.length;c++)h+=u[c].outerHTML;h+="<style>";for(c=0;c<document.styleSheets.length;c++)try{h+=document.styleSheets[c].cssText}catch(t){}h+='</style></head><body style="margin:0px;">',h+='<div style="position:absolute;overflow:hidden;width:'+r+"px;height:"+o+'px;"><div style="position:relative;left:'+a+"px;top:"+l+'px;">',h+=t.container.innerHTML,h+="</div></div></body><html>",e.writeln(h),e.close()}else{e.writeln("<html><head>");for(u=document.getElementsByTagName("base"),c=0;c<u.length;c++)e.writeln(mxUtils.getOuterHtml(u[c]));var d=document.getElementsByTagName("link");for(c=0;c<d.length;c++)e.writeln(mxUtils.getOuterHtml(d[c]));var p=document.getElementsByTagName("style");for(c=0;c<p.length;c++)e.writeln(mxUtils.getOuterHtml(p[c]));e.writeln('</head><body style="margin:0px;"></body></html>'),e.close();var f=e.createElement("div");f.position="absolute",f.overflow="hidden",f.style.width=r+"px",f.style.height=o+"px";var m=e.createElement("div");m.style.position="absolute",m.style.left=a+"px",m.style.top=l+"px";for(var g=t.container.firstChild,v=null;null!=g;){var A=g.cloneNode(!0);g==t.view.drawPane.ownerSVGElement?(f.appendChild(A),v=A):m.appendChild(A),g=g.nextSibling}e.body.appendChild(f),null!=m.firstChild&&e.body.appendChild(m),null!=v&&(v.style.minWidth="",v.style.minHeight="",v.firstChild.setAttribute("transform","translate("+a+","+l+")"))}return mxUtils.removeCursors(e.body),e},printScreen:function(t){var e=window.open();t.getGraphBounds();mxUtils.show(t,e.document);var i=function(){e.focus(),e.print(),e.close()};mxClient.IS_GC?e.setTimeout(i,500):i()},popup:function(t,e){if(e){var i=document.createElement("div");i.style.overflow="scroll",i.style.width="636px",i.style.height="460px",(r=document.createElement("pre")).innerHTML=mxUtils.htmlEntities(t,!1).replace(/\n/g,"<br>").replace(/ /g,"&nbsp;"),i.appendChild(r),(n=new mxWindow("Popup Window",i,document.body.clientWidth/2-320,Math.max(document.body.clientHeight||0,document.documentElement.clientHeight)/2-240,640,480,!1,!0)).setClosable(!0),n.setVisible(!0)}else{var n,r;if(mxClient.IS_NS)(n=window.open()).document.writeln("<pre>"+mxUtils.htmlEntities(t)+"</pre"),n.document.close();else(r=(n=window.open()).document.createElement("pre")).innerHTML=mxUtils.htmlEntities(t,!1).replace(/\n/g,"<br>").replace(/ /g,"&nbsp;"),n.document.body.appendChild(r)}},alert:function(t){alert(t)},prompt:function(t,e){return prompt(t,null!=e?e:"")},confirm:function(t){return confirm(t)},error:function(t,e,i,n){var r=document.createElement("div");r.style.padding="20px";var o=document.createElement("img");o.setAttribute("src",n||mxUtils.errorImage),o.setAttribute("valign","bottom"),o.style.verticalAlign="middle",r.appendChild(o),r.appendChild(document.createTextNode("")),r.appendChild(document.createTextNode("")),r.appendChild(document.createTextNode("")),mxUtils.write(r,t);var s=document.body.clientWidth,a=document.body.clientHeight||document.documentElement.clientHeight,l=new mxWindow(mxResources.get(mxUtils.errorResource)||mxUtils.errorResource,r,(s-e)/2,a/4,e,null,!1,!0);if(i){mxUtils.br(r);var h=document.createElement("p"),u=document.createElement("button");mxClient.IS_IE?u.style.cssText="float:right":u.setAttribute("style","float:right"),mxEvent.addListener(u,"click",function(t){l.destroy()}),mxUtils.write(u,mxResources.get(mxUtils.closeResource)||mxUtils.closeResource),h.appendChild(u),r.appendChild(h),mxUtils.br(r),l.setClosable(!0)}return l.setVisible(!0),l},makeDraggable:function(t,e,i,n,r,o,s,a,l,h){var u=new mxDragSource(t,i);return u.dragOffset=new mxPoint(null!=r?r:0,null!=o?o:mxConstants.TOOLTIP_VERTICAL_OFFSET),u.autoscroll=s,u.setGuidesEnabled(!1),null!=l&&(u.highlightDropTargets=l),null!=h&&(u.getDropTarget=h),u.getGraphForEvent=function(t){return"function"==typeof e?e(t):e},null!=n&&(u.createDragElement=function(){return n.cloneNode(!0)},a&&(u.createPreviewElement=function(t){var e=n.cloneNode(!0),i=parseInt(e.style.width),r=parseInt(e.style.height);return e.style.width=Math.round(i*t.view.scale)+"px",e.style.height=Math.round(r*t.view.scale)+"px",e})),u}},prefix;__mxOutput.mxUtils=void 0!==mxUtils?mxUtils:void 0;var mxConstants={DEFAULT_HOTSPOT:.3,MIN_HOTSPOT_SIZE:8,MAX_HOTSPOT_SIZE:0,RENDERING_HINT_EXACT:"exact",RENDERING_HINT_FASTER:"faster",RENDERING_HINT_FASTEST:"fastest",DIALECT_SVG:"svg",DIALECT_VML:"vml",DIALECT_MIXEDHTML:"mixedHtml",DIALECT_PREFERHTML:"preferHtml",DIALECT_STRICTHTML:"strictHtml",NS_SVG:"http://www.w3.org/2000/svg",NS_XHTML:"http://www.w3.org/1999/xhtml",NS_XLINK:"http://www.w3.org/1999/xlink",SHADOWCOLOR:"gray",VML_SHADOWCOLOR:"gray",SHADOW_OFFSET_X:2,SHADOW_OFFSET_Y:3,SHADOW_OPACITY:1,NODETYPE_ELEMENT:1,NODETYPE_ATTRIBUTE:2,NODETYPE_TEXT:3,NODETYPE_CDATA:4,NODETYPE_ENTITY_REFERENCE:5,NODETYPE_ENTITY:6,NODETYPE_PROCESSING_INSTRUCTION:7,NODETYPE_COMMENT:8,NODETYPE_DOCUMENT:9,NODETYPE_DOCUMENTTYPE:10,NODETYPE_DOCUMENT_FRAGMENT:11,NODETYPE_NOTATION:12,TOOLTIP_VERTICAL_OFFSET:16,DEFAULT_VALID_COLOR:"#00FF00",DEFAULT_INVALID_COLOR:"#FF0000",OUTLINE_HIGHLIGHT_COLOR:"#00FF00",OUTLINE_HIGHLIGHT_STROKEWIDTH:5,HIGHLIGHT_STROKEWIDTH:3,HIGHLIGHT_SIZE:2,HIGHLIGHT_OPACITY:100,CURSOR_MOVABLE_VERTEX:"move",CURSOR_MOVABLE_EDGE:"move",CURSOR_LABEL_HANDLE:"default",CURSOR_TERMINAL_HANDLE:"pointer",CURSOR_BEND_HANDLE:"crosshair",CURSOR_VIRTUAL_BEND_HANDLE:"crosshair",CURSOR_CONNECT:"pointer",HIGHLIGHT_COLOR:"#00FF00",CONNECT_TARGET_COLOR:"#0000FF",INVALID_CONNECT_TARGET_COLOR:"#FF0000",DROP_TARGET_COLOR:"#0000FF",VALID_COLOR:"#00FF00",INVALID_COLOR:"#FF0000",EDGE_SELECTION_COLOR:"#00FF00",VERTEX_SELECTION_COLOR:"#00FF00",VERTEX_SELECTION_STROKEWIDTH:1,EDGE_SELECTION_STROKEWIDTH:1,VERTEX_SELECTION_DASHED:!0,EDGE_SELECTION_DASHED:!0,GUIDE_COLOR:"#FF0000",GUIDE_STROKEWIDTH:1,OUTLINE_COLOR:"#0099FF",OUTLINE_STROKEWIDTH:mxClient.IS_IE?2:3,HANDLE_SIZE:6,LABEL_HANDLE_SIZE:4,HANDLE_FILLCOLOR:"#00FF00",HANDLE_STROKECOLOR:"black",LABEL_HANDLE_FILLCOLOR:"yellow",CONNECT_HANDLE_FILLCOLOR:"#0000FF",LOCKED_HANDLE_FILLCOLOR:"#FF0000",OUTLINE_HANDLE_FILLCOLOR:"#00FFFF",OUTLINE_HANDLE_STROKECOLOR:"#0033FF",DEFAULT_FONTFAMILY:"Arial,Helvetica",DEFAULT_FONTSIZE:11,DEFAULT_TEXT_DIRECTION:"",LINE_HEIGHT:1.2,WORD_WRAP:"normal",ABSOLUTE_LINE_HEIGHT:!1,DEFAULT_FONTSTYLE:0,DEFAULT_STARTSIZE:40,DEFAULT_MARKERSIZE:6,DEFAULT_IMAGESIZE:24,ENTITY_SEGMENT:30,RECTANGLE_ROUNDING_FACTOR:.15,LINE_ARCSIZE:20,ARROW_SPACING:0,ARROW_WIDTH:30,ARROW_SIZE:30,PAGE_FORMAT_A4_PORTRAIT:new mxRectangle(0,0,827,1169),PAGE_FORMAT_A4_LANDSCAPE:new mxRectangle(0,0,1169,827),PAGE_FORMAT_LETTER_PORTRAIT:new mxRectangle(0,0,850,1100),PAGE_FORMAT_LETTER_LANDSCAPE:new mxRectangle(0,0,1100,850),NONE:"none",STYLE_PERIMETER:"perimeter",STYLE_SOURCE_PORT:"sourcePort",STYLE_TARGET_PORT:"targetPort",STYLE_PORT_CONSTRAINT:"portConstraint",STYLE_PORT_CONSTRAINT_ROTATION:"portConstraintRotation",STYLE_SOURCE_PORT_CONSTRAINT:"sourcePortConstraint",STYLE_TARGET_PORT_CONSTRAINT:"targetPortConstraint",STYLE_OPACITY:"opacity",STYLE_FILL_OPACITY:"fillOpacity",STYLE_STROKE_OPACITY:"strokeOpacity",STYLE_TEXT_OPACITY:"textOpacity",STYLE_TEXT_DIRECTION:"textDirection",STYLE_OVERFLOW:"overflow",STYLE_ORTHOGONAL:"orthogonal",STYLE_EXIT_X:"exitX",STYLE_EXIT_Y:"exitY",STYLE_EXIT_DX:"exitDx",STYLE_EXIT_DY:"exitDy",STYLE_EXIT_PERIMETER:"exitPerimeter",STYLE_ENTRY_X:"entryX",STYLE_ENTRY_Y:"entryY",STYLE_ENTRY_DX:"entryDx",STYLE_ENTRY_DY:"entryDy",STYLE_ENTRY_PERIMETER:"entryPerimeter",STYLE_WHITE_SPACE:"whiteSpace",STYLE_ROTATION:"rotation",STYLE_FILLCOLOR:"fillColor",STYLE_POINTER_EVENTS:"pointerEvents",STYLE_SWIMLANE_FILLCOLOR:"swimlaneFillColor",STYLE_MARGIN:"margin",STYLE_GRADIENTCOLOR:"gradientColor",STYLE_GRADIENT_DIRECTION:"gradientDirection",STYLE_STROKECOLOR:"strokeColor",STYLE_SEPARATORCOLOR:"separatorColor",STYLE_STROKEWIDTH:"strokeWidth",STYLE_ALIGN:"align",STYLE_VERTICAL_ALIGN:"verticalAlign",STYLE_LABEL_WIDTH:"labelWidth",STYLE_LABEL_POSITION:"labelPosition",STYLE_VERTICAL_LABEL_POSITION:"verticalLabelPosition",STYLE_IMAGE_ASPECT:"imageAspect",STYLE_IMAGE_ALIGN:"imageAlign",STYLE_IMAGE_VERTICAL_ALIGN:"imageVerticalAlign",STYLE_GLASS:"glass",STYLE_IMAGE:"image",STYLE_IMAGE_WIDTH:"imageWidth",STYLE_IMAGE_HEIGHT:"imageHeight",STYLE_IMAGE_BACKGROUND:"imageBackground",STYLE_IMAGE_BORDER:"imageBorder",STYLE_FLIPH:"flipH",STYLE_FLIPV:"flipV",STYLE_NOLABEL:"noLabel",STYLE_NOEDGESTYLE:"noEdgeStyle",STYLE_LABEL_BACKGROUNDCOLOR:"labelBackgroundColor",STYLE_LABEL_BORDERCOLOR:"labelBorderColor",STYLE_LABEL_PADDING:"labelPadding",STYLE_INDICATOR_SHAPE:"indicatorShape",STYLE_INDICATOR_IMAGE:"indicatorImage",STYLE_INDICATOR_COLOR:"indicatorColor",STYLE_INDICATOR_STROKECOLOR:"indicatorStrokeColor",STYLE_INDICATOR_GRADIENTCOLOR:"indicatorGradientColor",STYLE_INDICATOR_SPACING:"indicatorSpacing",STYLE_INDICATOR_WIDTH:"indicatorWidth",STYLE_INDICATOR_HEIGHT:"indicatorHeight",STYLE_INDICATOR_DIRECTION:"indicatorDirection",STYLE_SHADOW:"shadow",STYLE_SEGMENT:"segment",STYLE_ENDARROW:"endArrow",STYLE_STARTARROW:"startArrow",STYLE_ENDSIZE:"endSize",STYLE_STARTSIZE:"startSize",STYLE_SWIMLANE_LINE:"swimlaneLine",STYLE_ENDFILL:"endFill",STYLE_STARTFILL:"startFill",STYLE_DASHED:"dashed",STYLE_DASH_PATTERN:"dashPattern",STYLE_FIX_DASH:"fixDash",STYLE_ROUNDED:"rounded",STYLE_CURVED:"curved",STYLE_ARCSIZE:"arcSize",STYLE_ABSOLUTE_ARCSIZE:"absoluteArcSize",STYLE_SOURCE_PERIMETER_SPACING:"sourcePerimeterSpacing",STYLE_TARGET_PERIMETER_SPACING:"targetPerimeterSpacing",STYLE_PERIMETER_SPACING:"perimeterSpacing",STYLE_SPACING:"spacing",STYLE_SPACING_TOP:"spacingTop",STYLE_SPACING_LEFT:"spacingLeft",STYLE_SPACING_BOTTOM:"spacingBottom",STYLE_SPACING_RIGHT:"spacingRight",STYLE_HORIZONTAL:"horizontal",STYLE_DIRECTION:"direction",STYLE_ANCHOR_POINT_DIRECTION:"anchorPointDirection",STYLE_ELBOW:"elbow",STYLE_FONTCOLOR:"fontColor",STYLE_FONTFAMILY:"fontFamily",STYLE_FONTSIZE:"fontSize",STYLE_FONTSTYLE:"fontStyle",STYLE_ASPECT:"aspect",STYLE_AUTOSIZE:"autosize",STYLE_FOLDABLE:"foldable",STYLE_EDITABLE:"editable",STYLE_BACKGROUND_OUTLINE:"backgroundOutline",STYLE_BENDABLE:"bendable",STYLE_MOVABLE:"movable",STYLE_RESIZABLE:"resizable",STYLE_RESIZE_WIDTH:"resizeWidth",STYLE_RESIZE_HEIGHT:"resizeHeight",STYLE_ROTATABLE:"rotatable",STYLE_CLONEABLE:"cloneable",STYLE_DELETABLE:"deletable",STYLE_SHAPE:"shape",STYLE_EDGE:"edgeStyle",STYLE_JETTY_SIZE:"jettySize",STYLE_SOURCE_JETTY_SIZE:"sourceJettySize",STYLE_TARGET_JETTY_SIZE:"targetJettySize",STYLE_LOOP:"loopStyle",STYLE_ORTHOGONAL_LOOP:"orthogonalLoop",STYLE_ROUTING_CENTER_X:"routingCenterX",STYLE_ROUTING_CENTER_Y:"routingCenterY",FONT_BOLD:1,FONT_ITALIC:2,FONT_UNDERLINE:4,SHAPE_RECTANGLE:"rectangle",SHAPE_ELLIPSE:"ellipse",SHAPE_DOUBLE_ELLIPSE:"doubleEllipse",SHAPE_RHOMBUS:"rhombus",SHAPE_LINE:"line",SHAPE_IMAGE:"image",SHAPE_ARROW:"arrow",SHAPE_ARROW_CONNECTOR:"arrowConnector",SHAPE_LABEL:"label",SHAPE_CYLINDER:"cylinder",SHAPE_SWIMLANE:"swimlane",SHAPE_CONNECTOR:"connector",SHAPE_ACTOR:"actor",SHAPE_CLOUD:"cloud",SHAPE_TRIANGLE:"triangle",SHAPE_HEXAGON:"hexagon",ARROW_CLASSIC:"classic",ARROW_CLASSIC_THIN:"classicThin",ARROW_BLOCK:"block",ARROW_BLOCK_THIN:"blockThin",ARROW_OPEN:"open",ARROW_OPEN_THIN:"openThin",ARROW_OVAL:"oval",ARROW_DIAMOND:"diamond",ARROW_DIAMOND_THIN:"diamondThin",ALIGN_LEFT:"left",ALIGN_CENTER:"center",ALIGN_RIGHT:"right",ALIGN_TOP:"top",ALIGN_MIDDLE:"middle",ALIGN_BOTTOM:"bottom",DIRECTION_NORTH:"north",DIRECTION_SOUTH:"south",DIRECTION_EAST:"east",DIRECTION_WEST:"west",TEXT_DIRECTION_DEFAULT:"",TEXT_DIRECTION_AUTO:"auto",TEXT_DIRECTION_LTR:"ltr",TEXT_DIRECTION_RTL:"rtl",DIRECTION_MASK_NONE:0,DIRECTION_MASK_WEST:1,DIRECTION_MASK_NORTH:2,DIRECTION_MASK_SOUTH:4,DIRECTION_MASK_EAST:8,DIRECTION_MASK_ALL:15,ELBOW_VERTICAL:"vertical",ELBOW_HORIZONTAL:"horizontal",EDGESTYLE_ELBOW:"elbowEdgeStyle",EDGESTYLE_ENTITY_RELATION:"entityRelationEdgeStyle",EDGESTYLE_LOOP:"loopEdgeStyle",EDGESTYLE_SIDETOSIDE:"sideToSideEdgeStyle",EDGESTYLE_TOPTOBOTTOM:"topToBottomEdgeStyle",EDGESTYLE_ORTHOGONAL:"orthogonalEdgeStyle",EDGESTYLE_SEGMENT:"segmentEdgeStyle",PERIMETER_ELLIPSE:"ellipsePerimeter",PERIMETER_RECTANGLE:"rectanglePerimeter",PERIMETER_RHOMBUS:"rhombusPerimeter",PERIMETER_HEXAGON:"hexagonPerimeter",PERIMETER_TRIANGLE:"trianglePerimeter"};function mxEventObject(t){this.name=t,this.properties=[];for(var e=1;e<arguments.length;e+=2)null!=arguments[e+1]&&(this.properties[arguments[e]]=arguments[e+1])}function mxMouseEvent(t,e){this.evt=t,this.state=e,this.sourceState=e}function mxEventSource(t){this.setEventSource(t)}__mxOutput.mxConstants=void 0!==mxConstants?mxConstants:void 0,mxEventObject.prototype.name=null,mxEventObject.prototype.properties=null,mxEventObject.prototype.consumed=!1,mxEventObject.prototype.getName=function(){return this.name},mxEventObject.prototype.getProperties=function(){return this.properties},mxEventObject.prototype.getProperty=function(t){return this.properties[t]},mxEventObject.prototype.isConsumed=function(){return this.consumed},mxEventObject.prototype.consume=function(){this.consumed=!0},__mxOutput.mxEventObject=void 0!==mxEventObject?mxEventObject:void 0,mxMouseEvent.prototype.consumed=!1,mxMouseEvent.prototype.evt=null,mxMouseEvent.prototype.graphX=null,mxMouseEvent.prototype.graphY=null,mxMouseEvent.prototype.state=null,mxMouseEvent.prototype.sourceState=null,mxMouseEvent.prototype.getEvent=function(){return this.evt},mxMouseEvent.prototype.getSource=function(){return mxEvent.getSource(this.evt)},mxMouseEvent.prototype.isSource=function(t){return null!=t&&mxUtils.isAncestorNode(t.node,this.getSource())},mxMouseEvent.prototype.getX=function(){return mxEvent.getClientX(this.getEvent())},mxMouseEvent.prototype.getY=function(){return mxEvent.getClientY(this.getEvent())},mxMouseEvent.prototype.getGraphX=function(){return this.graphX},mxMouseEvent.prototype.getGraphY=function(){return this.graphY},mxMouseEvent.prototype.getState=function(){return this.state},mxMouseEvent.prototype.getCell=function(){var t=this.getState();return null!=t?t.cell:null},mxMouseEvent.prototype.isPopupTrigger=function(){return mxEvent.isPopupTrigger(this.getEvent())},mxMouseEvent.prototype.isConsumed=function(){return this.consumed},mxMouseEvent.prototype.consume=function(t){(t=null!=t?t:null!=this.evt.touches||mxEvent.isMouseEvent(this.evt))&&this.evt.preventDefault&&this.evt.preventDefault(),mxClient.IS_IE&&(this.evt.returnValue=!0),this.consumed=!0},__mxOutput.mxMouseEvent=void 0!==mxMouseEvent?mxMouseEvent:void 0,mxEventSource.prototype.eventListeners=null,mxEventSource.prototype.eventsEnabled=!0,mxEventSource.prototype.eventSource=null,mxEventSource.prototype.isEventsEnabled=function(){return this.eventsEnabled},mxEventSource.prototype.setEventsEnabled=function(t){this.eventsEnabled=t},mxEventSource.prototype.getEventSource=function(){return this.eventSource},mxEventSource.prototype.setEventSource=function(t){this.eventSource=t},mxEventSource.prototype.addListener=function(t,e){null==this.eventListeners&&(this.eventListeners=[]),this.eventListeners.push(t),this.eventListeners.push(e)},mxEventSource.prototype.removeListener=function(t){if(null!=this.eventListeners)for(var e=0;e<this.eventListeners.length;)this.eventListeners[e+1]==t?this.eventListeners.splice(e,2):e+=2},mxEventSource.prototype.fireEvent=function(t,e){if(null!=this.eventListeners&&this.isEventsEnabled()){null==t&&(t=new mxEventObject),null==e&&(e=this.getEventSource()),null==e&&(e=this);for(var i=[e,t],n=0;n<this.eventListeners.length;n+=2){var r=this.eventListeners[n];null!=r&&r!=t.getName()||this.eventListeners[n+1].apply(this,i)}}},__mxOutput.mxEventSource=void 0!==mxEventSource?mxEventSource:void 0;var mxEvent={addListener:(updateListenerList=function(t,e,i){null==t.mxListenerList&&(t.mxListenerList=[]);var n={name:e,f:i};t.mxListenerList.push(n)},window.addEventListener?function(t,e,i){t.addEventListener(e,i,!1),updateListenerList(t,e,i)}:function(t,e,i){t.attachEvent("on"+e,i),updateListenerList(t,e,i)}),removeListener:(updateListener=function(t,e,i){if(null!=t.mxListenerList){for(var n=t.mxListenerList.length,r=0;r<n;r++){if(t.mxListenerList[r].f==i){t.mxListenerList.splice(r,1);break}}0==t.mxListenerList.length&&(t.mxListenerList=null)}},window.removeEventListener?function(t,e,i){t.removeEventListener(e,i,!1),updateListener(t,0,i)}:function(t,e,i){t.detachEvent("on"+e,i),updateListener(t,0,i)}),removeAllListeners:function(t){var e=t.mxListenerList;if(null!=e)for(;e.length>0;){var i=e[0];mxEvent.removeListener(t,i.name,i.f)}},addGestureListeners:function(t,e,i,n){null!=e&&mxEvent.addListener(t,mxClient.IS_POINTER?"pointerdown":"mousedown",e),null!=i&&mxEvent.addListener(t,mxClient.IS_POINTER?"pointermove":"mousemove",i),null!=n&&mxEvent.addListener(t,mxClient.IS_POINTER?"pointerup":"mouseup",n),!mxClient.IS_POINTER&&mxClient.IS_TOUCH&&(null!=e&&mxEvent.addListener(t,"touchstart",e),null!=i&&mxEvent.addListener(t,"touchmove",i),null!=n&&mxEvent.addListener(t,"touchend",n))},removeGestureListeners:function(t,e,i,n){null!=e&&mxEvent.removeListener(t,mxClient.IS_POINTER?"pointerdown":"mousedown",e),null!=i&&mxEvent.removeListener(t,mxClient.IS_POINTER?"pointermove":"mousemove",i),null!=n&&mxEvent.removeListener(t,mxClient.IS_POINTER?"pointerup":"mouseup",n),!mxClient.IS_POINTER&&mxClient.IS_TOUCH&&(null!=e&&mxEvent.removeListener(t,"touchstart",e),null!=i&&mxEvent.removeListener(t,"touchmove",i),null!=n&&mxEvent.removeListener(t,"touchend",n))},redirectMouseEvents:function(t,e,i,n,r,o,s){var a=function(t){return"function"==typeof i?i(t):i};mxEvent.addGestureListeners(t,function(t){null!=n?n(t):mxEvent.isConsumed(t)||e.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(t,a(t)))},function(t){null!=r?r(t):mxEvent.isConsumed(t)||e.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(t,a(t)))},function(t){null!=o?o(t):mxEvent.isConsumed(t)||e.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(t,a(t)))}),mxEvent.addListener(t,"dblclick",function(t){if(null!=s)s(t);else if(!mxEvent.isConsumed(t)){var i=a(t);e.dblClick(t,null!=i?i.cell:null)}})},release:function(t){try{if(null!=t){mxEvent.removeAllListeners(t);var e=t.childNodes;if(null!=e)for(var i=e.length,n=0;n<i;n+=1)mxEvent.release(e[n])}}catch(t){}},addMouseWheelListener:function(t,e){if(null!=t){var i=function(e){null==e&&(e=window.event);var i=0;0!=(i=mxClient.IS_FF?-e.detail/2:e.wheelDelta/120)&&t(e,i>0)};if(mxClient.IS_NS&&null==document.documentMode){var n=mxClient.IS_SF||mxClient.IS_GC?"mousewheel":"DOMMouseScroll";mxEvent.addListener(mxClient.IS_GC&&null!=e?e:window,n,i)}else mxEvent.addListener(document,"mousewheel",i)}},disableContextMenu:function(t){mxEvent.addListener(t,"contextmenu",function(t){return t.preventDefault&&t.preventDefault(),!1})},getSource:function(t){return null!=t.srcElement?t.srcElement:t.target},isConsumed:function(t){return null!=t.isConsumed&&t.isConsumed},isTouchEvent:function(t){return null!=t.pointerType?"touch"==t.pointerType||t.pointerType===t.MSPOINTER_TYPE_TOUCH:null!=t.mozInputSource?5==t.mozInputSource:0==t.type.indexOf("touch")},isPenEvent:function(t){return null!=t.pointerType?"pen"==t.pointerType||t.pointerType===t.MSPOINTER_TYPE_PEN:null!=t.mozInputSource?2==t.mozInputSource:0==t.type.indexOf("pen")},isMultiTouchEvent:function(t){return null!=t.type&&0==t.type.indexOf("touch")&&null!=t.touches&&t.touches.length>1},isMouseEvent:function(t){return null!=t.pointerType?"mouse"==t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE:null!=t.mozInputSource?1==t.mozInputSource:0==t.type.indexOf("mouse")},isLeftMouseButton:function(t){return"buttons"in t&&("mousedown"==t.type||"mousemove"==t.type)?1==t.buttons:"which"in t?1===t.which:1===t.button},isMiddleMouseButton:function(t){return"which"in t?2===t.which:4===t.button},isRightMouseButton:function(t){return"which"in t?3===t.which:2===t.button},isPopupTrigger:function(t){return mxEvent.isRightMouseButton(t)||mxClient.IS_MAC&&mxEvent.isControlDown(t)&&!mxEvent.isShiftDown(t)&&!mxEvent.isMetaDown(t)&&!mxEvent.isAltDown(t)},isShiftDown:function(t){return null!=t&&t.shiftKey},isAltDown:function(t){return null!=t&&t.altKey},isControlDown:function(t){return null!=t&&t.ctrlKey},isMetaDown:function(t){return null!=t&&t.metaKey},getMainEvent:function(t){return"touchstart"!=t.type&&"touchmove"!=t.type||null==t.touches||null==t.touches[0]?"touchend"==t.type&&null!=t.changedTouches&&null!=t.changedTouches[0]&&(t=t.changedTouches[0]):t=t.touches[0],t},getClientX:function(t){return mxEvent.getMainEvent(t).clientX},getClientY:function(t){return mxEvent.getMainEvent(t).clientY},consume:function(t,e,i){e=null==e||e,i=null==i||i,e&&(t.preventDefault?(i&&t.stopPropagation(),t.preventDefault()):i&&(t.cancelBubble=!0)),t.isConsumed=!0,t.preventDefault||(t.returnValue=!1)},LABEL_HANDLE:-1,ROTATION_HANDLE:-2,CUSTOM_HANDLE:-100,VIRTUAL_HANDLE:-1e5,MOUSE_DOWN:"mouseDown",MOUSE_MOVE:"mouseMove",MOUSE_UP:"mouseUp",ACTIVATE:"activate",RESIZE_START:"resizeStart",RESIZE:"resize",RESIZE_END:"resizeEnd",MOVE_START:"moveStart",MOVE:"move",MOVE_END:"moveEnd",PAN_START:"panStart",PAN:"pan",PAN_END:"panEnd",MINIMIZE:"minimize",NORMALIZE:"normalize",MAXIMIZE:"maximize",HIDE:"hide",SHOW:"show",CLOSE:"close",DESTROY:"destroy",REFRESH:"refresh",SIZE:"size",SELECT:"select",FIRED:"fired",FIRE_MOUSE_EVENT:"fireMouseEvent",GESTURE:"gesture",TAP_AND_HOLD:"tapAndHold",GET:"get",RECEIVE:"receive",CONNECT:"connect",DISCONNECT:"disconnect",SUSPEND:"suspend",RESUME:"resume",MARK:"mark",ROOT:"root",POST:"post",OPEN:"open",SAVE:"save",BEFORE_ADD_VERTEX:"beforeAddVertex",ADD_VERTEX:"addVertex",AFTER_ADD_VERTEX:"afterAddVertex",DONE:"done",EXECUTE:"execute",EXECUTED:"executed",BEGIN_UPDATE:"beginUpdate",START_EDIT:"startEdit",END_UPDATE:"endUpdate",END_EDIT:"endEdit",BEFORE_UNDO:"beforeUndo",UNDO:"undo",REDO:"redo",CHANGE:"change",NOTIFY:"notify",LAYOUT_CELLS:"layoutCells",CLICK:"click",SCALE:"scale",TRANSLATE:"translate",SCALE_AND_TRANSLATE:"scaleAndTranslate",UP:"up",DOWN:"down",ADD:"add",REMOVE:"remove",CLEAR:"clear",ADD_CELLS:"addCells",CELLS_ADDED:"cellsAdded",MOVE_CELLS:"moveCells",CELLS_MOVED:"cellsMoved",RESIZE_CELLS:"resizeCells",CELLS_RESIZED:"cellsResized",TOGGLE_CELLS:"toggleCells",CELLS_TOGGLED:"cellsToggled",ORDER_CELLS:"orderCells",CELLS_ORDERED:"cellsOrdered",REMOVE_CELLS:"removeCells",CELLS_REMOVED:"cellsRemoved",GROUP_CELLS:"groupCells",UNGROUP_CELLS:"ungroupCells",REMOVE_CELLS_FROM_PARENT:"removeCellsFromParent",FOLD_CELLS:"foldCells",CELLS_FOLDED:"cellsFolded",ALIGN_CELLS:"alignCells",LABEL_CHANGED:"labelChanged",CONNECT_CELL:"connectCell",CELL_CONNECTED:"cellConnected",SPLIT_EDGE:"splitEdge",FLIP_EDGE:"flipEdge",START_EDITING:"startEditing",EDITING_STARTED:"editingStarted",EDITING_STOPPED:"editingStopped",ADD_OVERLAY:"addOverlay",REMOVE_OVERLAY:"removeOverlay",UPDATE_CELL_SIZE:"updateCellSize",ESCAPE:"escape",DOUBLE_CLICK:"doubleClick",START:"start",RESET:"reset"},updateListener,updateListenerList;function mxXmlRequest(t,e,i,n,r,o){this.url=t,this.params=e,this.method=i||"POST",this.async=null==n||n,this.username=r,this.password=o}__mxOutput.mxEvent=void 0!==mxEvent?mxEvent:void 0,mxXmlRequest.prototype.url=null,mxXmlRequest.prototype.params=null,mxXmlRequest.prototype.method=null,mxXmlRequest.prototype.async=null,mxXmlRequest.prototype.binary=!1,mxXmlRequest.prototype.withCredentials=!1,mxXmlRequest.prototype.username=null,mxXmlRequest.prototype.password=null,mxXmlRequest.prototype.request=null,mxXmlRequest.prototype.decodeSimulateValues=!1,mxXmlRequest.prototype.isBinary=function(){return this.binary},mxXmlRequest.prototype.setBinary=function(t){this.binary=t},mxXmlRequest.prototype.getText=function(){return this.request.responseText},mxXmlRequest.prototype.isReady=function(){return 4==this.request.readyState},mxXmlRequest.prototype.getDocumentElement=function(){var t=this.getXml();return null!=t?t.documentElement:null},mxXmlRequest.prototype.getXml=function(){var t=this.request.responseXML;return(document.documentMode>=9||null==t||null==t.documentElement)&&(t=mxUtils.parseXml(this.request.responseText)),t},mxXmlRequest.prototype.getText=function(){return this.request.responseText},mxXmlRequest.prototype.getStatus=function(){return this.request.status},mxXmlRequest.prototype.create=window.XMLHttpRequest?function(){var t=new XMLHttpRequest;return this.isBinary()&&t.overrideMimeType&&t.overrideMimeType("text/plain; charset=x-user-defined"),t}:"undefined"!=typeof ActiveXObject?function(){return new ActiveXObject("Microsoft.XMLHTTP")}:void 0,mxXmlRequest.prototype.send=function(t,e,i,n){this.request=this.create(),null!=this.request&&(null!=t&&(this.request.onreadystatechange=mxUtils.bind(this,function(){this.isReady()&&(t(this),this.request.onreadystatechaange=null)})),this.request.open(this.method,this.url,this.async,this.username,this.password),this.setRequestHeaders(this.request,this.params),window.XMLHttpRequest&&this.withCredentials&&(this.request.withCredentials="true"),!mxClient.IS_QUIRKS&&(null==document.documentMode||document.documentMode>9)&&window.XMLHttpRequest&&null!=i&&null!=n&&(this.request.timeout=i,this.request.ontimeout=n),this.request.send(this.params))},mxXmlRequest.prototype.setRequestHeaders=function(t,e){null!=e&&t.setRequestHeader("Content-Type","application/x-www-form-urlencoded")},mxXmlRequest.prototype.simulate=function(t,e){var i=null;(t=t||document)==document&&(i=window.onbeforeunload,window.onbeforeunload=null);var n=t.createElement("form");n.setAttribute("method",this.method),n.setAttribute("action",this.url),null!=e&&n.setAttribute("target",e),n.style.display="none",n.style.visibility="hidden";for(var r=this.params.indexOf("&")>0?this.params.split("&"):this.params.split(),o=0;o<r.length;o++){var s=r[o].indexOf("=");if(s>0){var a=r[o].substring(0,s),l=r[o].substring(s+1);this.decodeSimulateValues&&(l=decodeURIComponent(l));var h=t.createElement("textarea");h.setAttribute("wrap","off"),h.setAttribute("name",a),mxUtils.write(h,l),n.appendChild(h)}}t.body.appendChild(n),n.submit(),null!=n.parentNode&&n.parentNode.removeChild(n),null!=i&&(window.onbeforeunload=i)},__mxOutput.mxXmlRequest=void 0!==mxXmlRequest?mxXmlRequest:void 0;var mxClipboard={STEPSIZE:10,insertCount:1,cells:null,setCells:function(t){mxClipboard.cells=t},getCells:function(){return mxClipboard.cells},isEmpty:function(){return null==mxClipboard.getCells()},cut:function(t,e){return e=mxClipboard.copy(t,e),mxClipboard.insertCount=0,mxClipboard.removeCells(t,e),e},removeCells:function(t,e){t.removeCells(e)},copy:function(t,e){e=e||t.getSelectionCells();var i=t.getExportableCells(t.model.getTopmostCells(e));return mxClipboard.insertCount=1,mxClipboard.setCells(t.cloneCells(i)),i},paste:function(t){var e=null;if(!mxClipboard.isEmpty()){e=t.getImportableCells(mxClipboard.getCells());var i=mxClipboard.insertCount*mxClipboard.STEPSIZE,n=t.getDefaultParent();e=t.importCells(e,i,i,n),mxClipboard.insertCount++,t.setSelectionCells(e)}return e}};function mxWindow(t,e,i,n,r,o,s,a,l,h){null!=e&&(s=null==s||s,this.content=e,this.init(i,n,r,o,h),this.installMaximizeHandler(),this.installMinimizeHandler(),this.installCloseHandler(),this.setMinimizable(s),this.setTitle(t),(null==a||a)&&this.installMoveHandler(),null!=l&&null!=l.parentNode?l.parentNode.replaceChild(this.div,l):document.body.appendChild(this.div))}function mxForm(t){this.table=document.createElement("table"),this.table.className=t,this.body=document.createElement("tbody"),this.table.appendChild(this.body)}function mxImage(t,e,i){this.src=t,this.width=e,this.height=i}function mxDivResizer(t,e){if("div"==t.nodeName.toLowerCase()){null==e&&(e=window),this.div=t;var i=mxUtils.getCurrentStyle(t);null!=i&&(this.resizeWidth="auto"==i.width,this.resizeHeight="auto"==i.height),mxEvent.addListener(e,"resize",mxUtils.bind(this,function(t){this.handlingResize||(this.handlingResize=!0,this.resize(),this.handlingResize=!1)})),this.resize()}}function mxDragSource(t,e){this.element=t,this.dropHandler=e,mxEvent.addGestureListeners(t,mxUtils.bind(this,function(t){this.mouseDown(t)})),mxEvent.addListener(t,"dragstart",function(t){mxEvent.consume(t)}),this.eventConsumer=function(t,e){var i=e.getProperty("eventName"),n=e.getProperty("event");i!=mxEvent.MOUSE_DOWN&&n.consume()}}function mxToolbar(t){this.container=t}function mxUndoableEdit(t,e){this.source=t,this.changes=[],this.significant=null==e||e}function mxUndoManager(t){this.size=null!=t?t:100,this.clear()}__mxOutput.mxClipboard=void 0!==mxClipboard?mxClipboard:void 0,mxWindow.prototype=new mxEventSource,mxWindow.prototype.constructor=mxWindow,mxWindow.prototype.closeImage=mxClient.imageBasePath+"/close.gif",mxWindow.prototype.minimizeImage=mxClient.imageBasePath+"/minimize.gif",mxWindow.prototype.normalizeImage=mxClient.imageBasePath+"/normalize.gif",mxWindow.prototype.maximizeImage=mxClient.imageBasePath+"/maximize.gif",mxWindow.prototype.resizeImage=mxClient.imageBasePath+"/resize.gif",mxWindow.prototype.visible=!1,mxWindow.prototype.minimumSize=new mxRectangle(0,0,50,40),mxWindow.prototype.destroyOnClose=!0,mxWindow.prototype.contentHeightCorrection=8==document.documentMode||7==document.documentMode?6:2,mxWindow.prototype.title=null,mxWindow.prototype.content=null,mxWindow.prototype.init=function(t,e,i,n,r){r=null!=r?r:"mxWindow",this.div=document.createElement("div"),this.div.className=r,this.div.style.left=t+"px",this.div.style.top=e+"px",this.table=document.createElement("table"),this.table.className=r,mxClient.IS_POINTER&&(this.div.style.touchAction="none"),null!=i&&(mxClient.IS_QUIRKS||(this.div.style.width=i+"px"),this.table.style.width=i+"px"),null!=n&&(mxClient.IS_QUIRKS||(this.div.style.height=n+"px"),this.table.style.height=n+"px");var o=document.createElement("tbody"),s=document.createElement("tr");this.title=document.createElement("td"),this.title.className=r+"Title",this.buttons=document.createElement("div"),this.buttons.style.position="absolute",this.buttons.style.display="inline-block",this.buttons.style.right="4px",this.buttons.style.top="5px",this.title.appendChild(this.buttons),s.appendChild(this.title),o.appendChild(s),s=document.createElement("tr"),this.td=document.createElement("td"),this.td.className=r+"Pane",7==document.documentMode&&(this.td.style.height="100%"),this.contentWrapper=document.createElement("div"),this.contentWrapper.className=r+"Pane",this.contentWrapper.style.width="100%",this.contentWrapper.appendChild(this.content),(mxClient.IS_QUIRKS||"DIV"!=this.content.nodeName.toUpperCase())&&(this.contentWrapper.style.height="100%"),this.td.appendChild(this.contentWrapper),s.appendChild(this.td),o.appendChild(s),this.table.appendChild(o),this.div.appendChild(this.table);var a=mxUtils.bind(this,function(t){this.activate()});mxEvent.addGestureListeners(this.title,a),mxEvent.addGestureListeners(this.table,a),this.hide()},mxWindow.prototype.setTitle=function(t){for(var e=this.title.firstChild;null!=e;){var i=e.nextSibling;e.nodeType==mxConstants.NODETYPE_TEXT&&e.parentNode.removeChild(e),e=i}mxUtils.write(this.title,t||""),this.title.appendChild(this.buttons)},mxWindow.prototype.setScrollable=function(t){navigator.userAgent.indexOf("Presto/2.5")<0&&(this.contentWrapper.style.overflow=t?"auto":"hidden")},mxWindow.prototype.activate=function(){if(mxWindow.activeWindow!=this){var t=mxUtils.getCurrentStyle(this.getElement()),e=null!=t?t.zIndex:3;if(mxWindow.activeWindow){var i=mxWindow.activeWindow.getElement();null!=i&&null!=i.style&&(i.style.zIndex=e)}var n=mxWindow.activeWindow;this.getElement().style.zIndex=parseInt(e)+1,mxWindow.activeWindow=this,this.fireEvent(new mxEventObject(mxEvent.ACTIVATE,"previousWindow",n))}},mxWindow.prototype.getElement=function(){return this.div},mxWindow.prototype.fit=function(){mxUtils.fit(this.div)},mxWindow.prototype.isResizable=function(){return null!=this.resize&&"none"!=this.resize.style.display},mxWindow.prototype.setResizable=function(t){if(t)if(null==this.resize){this.resize=document.createElement("img"),this.resize.style.position="absolute",this.resize.style.bottom="2px",this.resize.style.right="2px",this.resize.setAttribute("src",this.resizeImage),this.resize.style.cursor="nw-resize";var e=null,i=null,n=null,r=null,o=mxUtils.bind(this,function(t){this.activate(),e=mxEvent.getClientX(t),i=mxEvent.getClientY(t),n=this.div.offsetWidth,r=this.div.offsetHeight,mxEvent.addGestureListeners(document,null,s,a),this.fireEvent(new mxEventObject(mxEvent.RESIZE_START,"event",t)),mxEvent.consume(t)}),s=mxUtils.bind(this,function(t){if(null!=e&&null!=i){var o=mxEvent.getClientX(t)-e,s=mxEvent.getClientY(t)-i;this.setSize(n+o,r+s),this.fireEvent(new mxEventObject(mxEvent.RESIZE,"event",t)),mxEvent.consume(t)}}),a=mxUtils.bind(this,function(t){null!=e&&null!=i&&(e=null,i=null,mxEvent.removeGestureListeners(document,null,s,a),this.fireEvent(new mxEventObject(mxEvent.RESIZE_END,"event",t)),mxEvent.consume(t))});mxEvent.addGestureListeners(this.resize,o,s,a),this.div.appendChild(this.resize)}else this.resize.style.display="inline";else null!=this.resize&&(this.resize.style.display="none")},mxWindow.prototype.setSize=function(t,e){t=Math.max(this.minimumSize.width,t),e=Math.max(this.minimumSize.height,e),mxClient.IS_QUIRKS||(this.div.style.width=t+"px",this.div.style.height=e+"px"),this.table.style.width=t+"px",this.table.style.height=e+"px",mxClient.IS_QUIRKS||(this.contentWrapper.style.height=this.div.offsetHeight-this.title.offsetHeight-this.contentHeightCorrection+"px")},mxWindow.prototype.setMinimizable=function(t){this.minimize.style.display=t?"":"none"},mxWindow.prototype.getMinimumSize=function(){return new mxRectangle(0,0,0,this.title.offsetHeight)},mxWindow.prototype.installMinimizeHandler=function(){this.minimize=document.createElement("img"),this.minimize.setAttribute("src",this.minimizeImage),this.minimize.setAttribute("title","Minimize"),this.minimize.style.cursor="pointer",this.minimize.style.marginLeft="2px",this.minimize.style.display="none",this.buttons.appendChild(this.minimize);var t=!1,e=null,i=null,n=mxUtils.bind(this,function(n){if(this.activate(),t)t=!1,this.minimize.setAttribute("src",this.minimizeImage),this.minimize.setAttribute("title","Minimize"),this.contentWrapper.style.display="",this.maximize.style.display=e,mxClient.IS_QUIRKS||(this.div.style.height=i),this.table.style.height=i,null!=this.resize&&(this.resize.style.visibility=""),this.fireEvent(new mxEventObject(mxEvent.NORMALIZE,"event",n));else{t=!0,this.minimize.setAttribute("src",this.normalizeImage),this.minimize.setAttribute("title","Normalize"),this.contentWrapper.style.display="none",e=this.maximize.style.display,this.maximize.style.display="none",i=this.table.style.height;var r=this.getMinimumSize();r.height>0&&(mxClient.IS_QUIRKS||(this.div.style.height=r.height+"px"),this.table.style.height=r.height+"px"),r.width>0&&(mxClient.IS_QUIRKS||(this.div.style.width=r.width+"px"),this.table.style.width=r.width+"px"),null!=this.resize&&(this.resize.style.visibility="hidden"),this.fireEvent(new mxEventObject(mxEvent.MINIMIZE,"event",n))}mxEvent.consume(n)});mxEvent.addGestureListeners(this.minimize,n)},mxWindow.prototype.setMaximizable=function(t){this.maximize.style.display=t?"":"none"},mxWindow.prototype.installMaximizeHandler=function(){this.maximize=document.createElement("img"),this.maximize.setAttribute("src",this.maximizeImage),this.maximize.setAttribute("title","Maximize"),this.maximize.style.cursor="default",this.maximize.style.marginLeft="2px",this.maximize.style.cursor="pointer",this.maximize.style.display="none",this.buttons.appendChild(this.maximize);var t=!1,e=null,i=null,n=null,r=null,o=null,s=mxUtils.bind(this,function(s){if(this.activate(),"none"!=this.maximize.style.display){if(t){if(t=!1,this.maximize.setAttribute("src",this.maximizeImage),this.maximize.setAttribute("title","Maximize"),this.contentWrapper.style.display="",this.minimize.style.display=o,this.div.style.left=e+"px",this.div.style.top=i+"px",!mxClient.IS_QUIRKS)this.div.style.height=n,this.div.style.width=r,"auto"!=mxUtils.getCurrentStyle(this.contentWrapper).overflow&&null==this.resize||(this.contentWrapper.style.height=this.div.offsetHeight-this.title.offsetHeight-this.contentHeightCorrection+"px");this.table.style.height=n,this.table.style.width=r,null!=this.resize&&(this.resize.style.visibility=""),this.fireEvent(new mxEventObject(mxEvent.NORMALIZE,"event",s))}else{t=!0,this.maximize.setAttribute("src",this.normalizeImage),this.maximize.setAttribute("title","Normalize"),this.contentWrapper.style.display="",o=this.minimize.style.display,this.minimize.style.display="none",e=parseInt(this.div.style.left),i=parseInt(this.div.style.top),n=this.table.style.height,r=this.table.style.width,this.div.style.left="0px",this.div.style.top="0px";var a=Math.max(document.body.clientHeight||0,document.documentElement.clientHeight||0);if(mxClient.IS_QUIRKS||(this.div.style.width=document.body.clientWidth-2+"px",this.div.style.height=a-2+"px"),this.table.style.width=document.body.clientWidth-2+"px",this.table.style.height=a-2+"px",null!=this.resize&&(this.resize.style.visibility="hidden"),!mxClient.IS_QUIRKS)"auto"!=mxUtils.getCurrentStyle(this.contentWrapper).overflow&&null==this.resize||(this.contentWrapper.style.height=this.div.offsetHeight-this.title.offsetHeight-this.contentHeightCorrection+"px");this.fireEvent(new mxEventObject(mxEvent.MAXIMIZE,"event",s))}mxEvent.consume(s)}});mxEvent.addGestureListeners(this.maximize,s),mxEvent.addListener(this.title,"dblclick",s)},mxWindow.prototype.installMoveHandler=function(){this.title.style.cursor="move",mxEvent.addGestureListeners(this.title,mxUtils.bind(this,function(t){var e=mxEvent.getClientX(t),i=mxEvent.getClientY(t),n=this.getX(),r=this.getY(),o=mxUtils.bind(this,function(t){var o=mxEvent.getClientX(t)-e,s=mxEvent.getClientY(t)-i;this.setLocation(n+o,r+s),this.fireEvent(new mxEventObject(mxEvent.MOVE,"event",t)),mxEvent.consume(t)}),s=mxUtils.bind(this,function(t){mxEvent.removeGestureListeners(document,null,o,s),this.fireEvent(new mxEventObject(mxEvent.MOVE_END,"event",t)),mxEvent.consume(t)});mxEvent.addGestureListeners(document,null,o,s),this.fireEvent(new mxEventObject(mxEvent.MOVE_START,"event",t)),mxEvent.consume(t)})),mxClient.IS_POINTER&&(this.title.style.touchAction="none")},mxWindow.prototype.setLocation=function(t,e){this.div.style.left=t+"px",this.div.style.top=e+"px"},mxWindow.prototype.getX=function(){return parseInt(this.div.style.left)},mxWindow.prototype.getY=function(){return parseInt(this.div.style.top)},mxWindow.prototype.installCloseHandler=function(){this.closeImg=document.createElement("img"),this.closeImg.setAttribute("src",this.closeImage),this.closeImg.setAttribute("title","Close"),this.closeImg.style.marginLeft="2px",this.closeImg.style.cursor="pointer",this.closeImg.style.display="none",this.buttons.appendChild(this.closeImg),mxEvent.addGestureListeners(this.closeImg,mxUtils.bind(this,function(t){this.fireEvent(new mxEventObject(mxEvent.CLOSE,"event",t)),this.destroyOnClose?this.destroy():this.setVisible(!1),mxEvent.consume(t)}))},mxWindow.prototype.setImage=function(t){this.image=document.createElement("img"),this.image.setAttribute("src",t),this.image.setAttribute("align","left"),this.image.style.marginRight="4px",this.image.style.marginLeft="0px",this.image.style.marginTop="-2px",this.title.insertBefore(this.image,this.title.firstChild)},mxWindow.prototype.setClosable=function(t){this.closeImg.style.display=t?"":"none"},mxWindow.prototype.isVisible=function(){return null!=this.div&&"none"!=this.div.style.display},mxWindow.prototype.setVisible=function(t){null!=this.div&&this.isVisible()!=t&&(t?this.show():this.hide())},mxWindow.prototype.show=function(){this.div.style.display="",this.activate();var t=mxUtils.getCurrentStyle(this.contentWrapper);mxClient.IS_QUIRKS||"auto"!=t.overflow&&null==this.resize||"none"==this.contentWrapper.style.display||(this.contentWrapper.style.height=this.div.offsetHeight-this.title.offsetHeight-this.contentHeightCorrection+"px"),this.fireEvent(new mxEventObject(mxEvent.SHOW))},mxWindow.prototype.hide=function(){this.div.style.display="none",this.fireEvent(new mxEventObject(mxEvent.HIDE))},mxWindow.prototype.destroy=function(){this.fireEvent(new mxEventObject(mxEvent.DESTROY)),null!=this.div&&(mxEvent.release(this.div),this.div.parentNode.removeChild(this.div),this.div=null),this.title=null,this.content=null,this.contentWrapper=null},__mxOutput.mxWindow=void 0!==mxWindow?mxWindow:void 0,mxForm.prototype.table=null,mxForm.prototype.body=!1,mxForm.prototype.getTable=function(){return this.table},mxForm.prototype.addButtons=function(t,e){var i=document.createElement("tr"),n=document.createElement("td");i.appendChild(n),n=document.createElement("td");var r=document.createElement("button");mxUtils.write(r,mxResources.get("ok")||"OK"),n.appendChild(r),mxEvent.addListener(r,"click",function(){t()}),r=document.createElement("button"),mxUtils.write(r,mxResources.get("cancel")||"Cancel"),n.appendChild(r),mxEvent.addListener(r,"click",function(){e()}),i.appendChild(n),this.body.appendChild(i)},mxForm.prototype.addText=function(t,e,i){var n=document.createElement("input");return n.setAttribute("type",i||"text"),n.value=e,this.addField(t,n)},mxForm.prototype.addCheckbox=function(t,e){var i=document.createElement("input");return i.setAttribute("type","checkbox"),this.addField(t,i),e&&(i.checked=!0),i},mxForm.prototype.addTextarea=function(t,e,i){var n=document.createElement("textarea");return mxClient.IS_NS&&i--,n.setAttribute("rows",i||2),n.value=e,this.addField(t,n)},mxForm.prototype.addCombo=function(t,e,i){var n=document.createElement("select");return null!=i&&n.setAttribute("size",i),e&&n.setAttribute("multiple","true"),this.addField(t,n)},mxForm.prototype.addOption=function(t,e,i,n){var r=document.createElement("option");mxUtils.writeln(r,e),r.setAttribute("value",i),n&&r.setAttribute("selected",n),t.appendChild(r)},mxForm.prototype.addField=function(t,e){var i=document.createElement("tr"),n=document.createElement("td");return mxUtils.write(n,t),i.appendChild(n),(n=document.createElement("td")).appendChild(e),i.appendChild(n),this.body.appendChild(i),e},__mxOutput.mxForm=void 0!==mxForm?mxForm:void 0,mxImage.prototype.src=null,mxImage.prototype.width=null,mxImage.prototype.height=null,__mxOutput.mxImage=void 0!==mxImage?mxImage:void 0,mxDivResizer.prototype.resizeWidth=!0,mxDivResizer.prototype.resizeHeight=!0,mxDivResizer.prototype.handlingResize=!1,mxDivResizer.prototype.resize=function(){var t=this.getDocumentWidth(),e=this.getDocumentHeight(),i=parseInt(this.div.style.left),n=parseInt(this.div.style.right),r=parseInt(this.div.style.top),o=parseInt(this.div.style.bottom);this.resizeWidth&&!isNaN(i)&&!isNaN(n)&&i>=0&&n>=0&&t-n-i>0&&(this.div.style.width=t-n-i+"px"),this.resizeHeight&&!isNaN(r)&&!isNaN(o)&&r>=0&&o>=0&&e-r-o>0&&(this.div.style.height=e-r-o+"px")},mxDivResizer.prototype.getDocumentWidth=function(){return document.body.clientWidth},mxDivResizer.prototype.getDocumentHeight=function(){return document.body.clientHeight},__mxOutput.mxDivResizer=void 0!==mxDivResizer?mxDivResizer:void 0,mxDragSource.prototype.element=null,mxDragSource.prototype.dropHandler=null,mxDragSource.prototype.dragOffset=null,mxDragSource.prototype.dragElement=null,mxDragSource.prototype.previewElement=null,mxDragSource.prototype.enabled=!0,mxDragSource.prototype.currentGraph=null,mxDragSource.prototype.currentDropTarget=null,mxDragSource.prototype.currentPoint=null,mxDragSource.prototype.currentGuide=null,mxDragSource.prototype.currentHighlight=null,mxDragSource.prototype.autoscroll=!0,mxDragSource.prototype.guidesEnabled=!0,mxDragSource.prototype.gridEnabled=!0,mxDragSource.prototype.highlightDropTargets=!0,mxDragSource.prototype.dragElementZIndex=100,mxDragSource.prototype.dragElementOpacity=70,mxDragSource.prototype.checkEventSource=!0,mxDragSource.prototype.isEnabled=function(){return this.enabled},mxDragSource.prototype.setEnabled=function(t){this.enabled=t},mxDragSource.prototype.isGuidesEnabled=function(){return this.guidesEnabled},mxDragSource.prototype.setGuidesEnabled=function(t){this.guidesEnabled=t},mxDragSource.prototype.isGridEnabled=function(){return this.gridEnabled},mxDragSource.prototype.setGridEnabled=function(t){this.gridEnabled=t},mxDragSource.prototype.getGraphForEvent=function(t){return null},mxDragSource.prototype.getDropTarget=function(t,e,i,n){return t.getCellAt(e,i)},mxDragSource.prototype.createDragElement=function(t){return this.element.cloneNode(!0)},mxDragSource.prototype.createPreviewElement=function(t){return null},mxDragSource.prototype.isActive=function(){return null!=this.mouseMoveHandler},mxDragSource.prototype.reset=function(){null!=this.currentGraph&&(this.dragExit(this.currentGraph),this.currentGraph=null),this.removeDragElement(),this.removeListeners(),this.stopDrag()},mxDragSource.prototype.mouseDown=function(t){this.enabled&&!mxEvent.isConsumed(t)&&null==this.mouseMoveHandler&&(this.startDrag(t),this.mouseMoveHandler=mxUtils.bind(this,this.mouseMove),this.mouseUpHandler=mxUtils.bind(this,this.mouseUp),mxEvent.addGestureListeners(document,null,this.mouseMoveHandler,this.mouseUpHandler),mxClient.IS_TOUCH&&!mxEvent.isMouseEvent(t)&&(this.eventSource=mxEvent.getSource(t),mxEvent.addGestureListeners(this.eventSource,null,this.mouseMoveHandler,this.mouseUpHandler)))},mxDragSource.prototype.startDrag=function(t){this.dragElement=this.createDragElement(t),this.dragElement.style.position="absolute",this.dragElement.style.zIndex=this.dragElementZIndex,mxUtils.setOpacity(this.dragElement,this.dragElementOpacity),this.checkEventSource&&mxClient.IS_SVG&&(this.dragElement.style.pointerEvents="none")},mxDragSource.prototype.stopDrag=function(){this.removeDragElement()},mxDragSource.prototype.removeDragElement=function(){null!=this.dragElement&&(null!=this.dragElement.parentNode&&this.dragElement.parentNode.removeChild(this.dragElement),this.dragElement=null)},mxDragSource.prototype.getElementForEvent=function(t){return mxEvent.isTouchEvent(t)||mxEvent.isPenEvent(t)?document.elementFromPoint(mxEvent.getClientX(t),mxEvent.getClientY(t)):mxEvent.getSource(t)},mxDragSource.prototype.graphContainsEvent=function(t,e){var i=mxEvent.getClientX(e),n=mxEvent.getClientY(e),r=mxUtils.getOffset(t.container),o=mxUtils.getScrollOrigin(),s=this.getElementForEvent(e);if(this.checkEventSource)for(;null!=s&&s!=t.container;)s=s.parentNode;return null!=s&&i>=r.x-o.x&&n>=r.y-o.y&&i<=r.x-o.x+t.container.offsetWidth&&n<=r.y-o.y+t.container.offsetHeight},mxDragSource.prototype.mouseMove=function(t){var e=this.getGraphForEvent(t);if(null==e||this.graphContainsEvent(e,t)||(e=null),e!=this.currentGraph&&(null!=this.currentGraph&&this.dragExit(this.currentGraph,t),this.currentGraph=e,null!=this.currentGraph&&this.dragEnter(this.currentGraph,t)),null!=this.currentGraph&&this.dragOver(this.currentGraph,t),null==this.dragElement||null!=this.previewElement&&"visible"==this.previewElement.style.visibility)null!=this.dragElement&&(this.dragElement.style.visibility="hidden");else{var i=mxEvent.getClientX(t),n=mxEvent.getClientY(t);null==this.dragElement.parentNode&&document.body.appendChild(this.dragElement),this.dragElement.style.visibility="visible",null!=this.dragOffset&&(i+=this.dragOffset.x,n+=this.dragOffset.y);var r=mxUtils.getDocumentScrollOrigin(document);this.dragElement.style.left=i+r.x+"px",this.dragElement.style.top=n+r.y+"px"}mxEvent.consume(t)},mxDragSource.prototype.mouseUp=function(t){if(null!=this.currentGraph){if(null!=this.currentPoint&&(null==this.previewElement||"hidden"!=this.previewElement.style.visibility)){var e=this.currentGraph.view.scale,i=this.currentGraph.view.translate,n=this.currentPoint.x/e-i.x,r=this.currentPoint.y/e-i.y;this.drop(this.currentGraph,t,this.currentDropTarget,n,r)}this.dragExit(this.currentGraph),this.currentGraph=null}this.stopDrag(),this.removeListeners(),mxEvent.consume(t)},mxDragSource.prototype.removeListeners=function(){null!=this.eventSource&&(mxEvent.removeGestureListeners(this.eventSource,null,this.mouseMoveHandler,this.mouseUpHandler),this.eventSource=null),mxEvent.removeGestureListeners(document,null,this.mouseMoveHandler,this.mouseUpHandler),this.mouseMoveHandler=null,this.mouseUpHandler=null},mxDragSource.prototype.dragEnter=function(t,e){t.isMouseDown=!0,t.isMouseTrigger=mxEvent.isMouseEvent(e),this.previewElement=this.createPreviewElement(t),null!=this.previewElement&&this.checkEventSource&&mxClient.IS_SVG&&(this.previewElement.style.pointerEvents="none"),this.isGuidesEnabled()&&null!=this.previewElement&&(this.currentGuide=new mxGuide(t,t.graphHandler.getGuideStates())),this.highlightDropTargets&&(this.currentHighlight=new mxCellHighlight(t,mxConstants.DROP_TARGET_COLOR)),t.addListener(mxEvent.FIRE_MOUSE_EVENT,this.eventConsumer)},mxDragSource.prototype.dragExit=function(t,e){this.currentDropTarget=null,this.currentPoint=null,t.isMouseDown=!1,t.removeListener(this.eventConsumer),null!=this.previewElement&&(null!=this.previewElement.parentNode&&this.previewElement.parentNode.removeChild(this.previewElement),this.previewElement=null),null!=this.currentGuide&&(this.currentGuide.destroy(),this.currentGuide=null),null!=this.currentHighlight&&(this.currentHighlight.destroy(),this.currentHighlight=null)},mxDragSource.prototype.dragOver=function(t,e){var i=mxUtils.getOffset(t.container),n=mxUtils.getScrollOrigin(t.container),r=mxEvent.getClientX(e)-i.x+n.x-t.panDx,o=mxEvent.getClientY(e)-i.y+n.y-t.panDy;if(t.autoScroll&&(null==this.autoscroll||this.autoscroll)&&t.scrollPointToVisible(r,o,t.autoExtend),null!=this.currentHighlight&&t.isDropEnabled()){this.currentDropTarget=this.getDropTarget(t,r,o,e);var s=t.getView().getState(this.currentDropTarget);this.currentHighlight.highlight(s)}if(null!=this.previewElement){null==this.previewElement.parentNode&&(t.container.appendChild(this.previewElement),this.previewElement.style.zIndex="3",this.previewElement.style.position="absolute");var a=this.isGridEnabled()&&t.isGridEnabledEvent(e),l=!0;if(null!=this.currentGuide&&this.currentGuide.isEnabledForEvent(e)){var h=new mxRectangle(0,0,parseInt(this.previewElement.style.width),parseInt(this.previewElement.style.height)),u=new mxPoint(r,o);l=!1,r=(u=this.currentGuide.move(h,u,a,!0)).x,o=u.y}else if(a){var c=t.view.scale,d=t.view.translate,p=t.gridSize/2;r=(t.snap(r/c-d.x-p)+d.x)*c,o=(t.snap(o/c-d.y-p)+d.y)*c}null!=this.currentGuide&&l&&this.currentGuide.hide(),null!=this.previewOffset&&(r+=this.previewOffset.x,o+=this.previewOffset.y),this.previewElement.style.left=Math.round(r)+"px",this.previewElement.style.top=Math.round(o)+"px",this.previewElement.style.visibility="visible"}this.currentPoint=new mxPoint(r,o)},mxDragSource.prototype.drop=function(t,e,i,n,r){this.dropHandler.apply(this,arguments),"hidden"!=t.container.style.visibility&&t.container.focus()},__mxOutput.mxDragSource=void 0!==mxDragSource?mxDragSource:void 0,mxToolbar.prototype=new mxEventSource,mxToolbar.prototype.constructor=mxToolbar,mxToolbar.prototype.container=null,mxToolbar.prototype.enabled=!0,mxToolbar.prototype.noReset=!1,mxToolbar.prototype.updateDefaultMode=!0,mxToolbar.prototype.addItem=function(t,e,i,n,r,o){var s=document.createElement(null!=e?"img":"button"),a=r||(null!=o?"mxToolbarMode":"mxToolbarItem");s.className=a,s.setAttribute("src",e),null!=t&&(null!=e?s.setAttribute("title",t):mxUtils.write(s,t)),this.container.appendChild(s),null!=i&&(mxEvent.addListener(s,"click",i),mxClient.IS_TOUCH&&mxEvent.addListener(s,"touchend",i));var l=mxUtils.bind(this,function(t){null!=n?s.setAttribute("src",e):s.style.backgroundColor=""});return mxEvent.addGestureListeners(s,mxUtils.bind(this,function(t){if(null!=n?s.setAttribute("src",n):s.style.backgroundColor="gray",null!=o){null==this.menu&&(this.menu=new mxPopupMenu,this.menu.init());var e=this.currentImg;if(this.menu.isMenuShowing()&&this.menu.hideMenu(),e!=s){this.currentImg=s,this.menu.factoryMethod=o;var i=new mxPoint(s.offsetLeft,s.offsetTop+s.offsetHeight);this.menu.popup(i.x,i.y,null,t),this.menu.isMenuShowing()&&(s.className=a+"Selected",this.menu.hideMenu=function(){mxPopupMenu.prototype.hideMenu.apply(this),s.className=a,this.currentImg=null})}}}),null,l),mxEvent.addListener(s,"mouseout",l),s},mxToolbar.prototype.addCombo=function(t){var e=document.createElement("div");e.style.display="inline",e.className="mxToolbarComboContainer";var i=document.createElement("select");return i.className=t||"mxToolbarCombo",e.appendChild(i),this.container.appendChild(e),i},mxToolbar.prototype.addActionCombo=function(t,e){var i=document.createElement("select");return i.className=e||"mxToolbarCombo",this.addOption(i,t,null),mxEvent.addListener(i,"change",function(t){var e=i.options[i.selectedIndex];i.selectedIndex=0,null!=e.funct&&e.funct(t)}),this.container.appendChild(i),i},mxToolbar.prototype.addOption=function(t,e,i){var n=document.createElement("option");return mxUtils.writeln(n,e),"function"==typeof i?n.funct=i:n.setAttribute("value",i),t.appendChild(n),n},mxToolbar.prototype.addSwitchMode=function(t,e,i,n,r){var o=document.createElement("img");return o.initialClassName=r||"mxToolbarMode",o.className=o.initialClassName,o.setAttribute("src",e),o.altIcon=n,null!=t&&o.setAttribute("title",t),mxEvent.addListener(o,"click",mxUtils.bind(this,function(t){var e;null!=(e=this.selectedMode.altIcon)?(this.selectedMode.altIcon=this.selectedMode.getAttribute("src"),this.selectedMode.setAttribute("src",e)):this.selectedMode.className=this.selectedMode.initialClassName,this.updateDefaultMode&&(this.defaultMode=o),this.selectedMode=o,null!=(e=o.altIcon)?(o.altIcon=o.getAttribute("src"),o.setAttribute("src",e)):o.className=o.initialClassName+"Selected",this.fireEvent(new mxEventObject(mxEvent.SELECT)),i()})),this.container.appendChild(o),null==this.defaultMode&&(this.defaultMode=o,this.selectMode(o),i()),o},mxToolbar.prototype.addMode=function(t,e,i,n,r,o){o=null==o||o;var s=document.createElement(null!=e?"img":"button");return s.initialClassName=r||"mxToolbarMode",s.className=s.initialClassName,s.setAttribute("src",e),s.altIcon=n,null!=t&&s.setAttribute("title",t),this.enabled&&o&&(mxEvent.addListener(s,"click",mxUtils.bind(this,function(t){this.selectMode(s,i),this.noReset=!1})),mxEvent.addListener(s,"dblclick",mxUtils.bind(this,function(t){this.selectMode(s,i),this.noReset=!0})),null==this.defaultMode&&(this.defaultMode=s,this.defaultFunction=i,this.selectMode(s,i))),this.container.appendChild(s),s},mxToolbar.prototype.selectMode=function(t,e){if(this.selectedMode!=t){var i;if(null!=this.selectedMode)null!=(i=this.selectedMode.altIcon)?(this.selectedMode.altIcon=this.selectedMode.getAttribute("src"),this.selectedMode.setAttribute("src",i)):this.selectedMode.className=this.selectedMode.initialClassName;this.selectedMode=t,null!=(i=this.selectedMode.altIcon)?(this.selectedMode.altIcon=this.selectedMode.getAttribute("src"),this.selectedMode.setAttribute("src",i)):this.selectedMode.className=this.selectedMode.initialClassName+"Selected",this.fireEvent(new mxEventObject(mxEvent.SELECT,"function",e))}},mxToolbar.prototype.resetMode=function(t){!t&&this.noReset||this.selectedMode==this.defaultMode||this.selectMode(this.defaultMode,this.defaultFunction)},mxToolbar.prototype.addSeparator=function(t){return this.addItem(null,t,null)},mxToolbar.prototype.addBreak=function(){mxUtils.br(this.container)},mxToolbar.prototype.addLine=function(){var t=document.createElement("hr");t.style.marginRight="6px",t.setAttribute("size","1"),this.container.appendChild(t)},mxToolbar.prototype.destroy=function(){mxEvent.release(this.container),this.container=null,this.defaultMode=null,this.defaultFunction=null,this.selectedMode=null,null!=this.menu&&this.menu.destroy()},__mxOutput.mxToolbar=void 0!==mxToolbar?mxToolbar:void 0,mxUndoableEdit.prototype.source=null,mxUndoableEdit.prototype.changes=null,mxUndoableEdit.prototype.significant=null,mxUndoableEdit.prototype.undone=!1,mxUndoableEdit.prototype.redone=!1,mxUndoableEdit.prototype.isEmpty=function(){return 0==this.changes.length},mxUndoableEdit.prototype.isSignificant=function(){return this.significant},mxUndoableEdit.prototype.add=function(t){this.changes.push(t)},mxUndoableEdit.prototype.notify=function(){},mxUndoableEdit.prototype.die=function(){},mxUndoableEdit.prototype.undo=function(){if(!this.undone){this.source.fireEvent(new mxEventObject(mxEvent.START_EDIT));for(var t=this.changes.length-1;t>=0;t--){var e=this.changes[t];null!=e.execute?e.execute():null!=e.undo&&e.undo(),this.source.fireEvent(new mxEventObject(mxEvent.EXECUTED,"change",e))}this.undone=!0,this.redone=!1,this.source.fireEvent(new mxEventObject(mxEvent.END_EDIT))}this.notify()},mxUndoableEdit.prototype.redo=function(){if(!this.redone){this.source.fireEvent(new mxEventObject(mxEvent.START_EDIT));for(var t=this.changes.length,e=0;e<t;e++){var i=this.changes[e];null!=i.execute?i.execute():null!=i.redo&&i.redo(),this.source.fireEvent(new mxEventObject(mxEvent.EXECUTED,"change",i))}this.undone=!1,this.redone=!0,this.source.fireEvent(new mxEventObject(mxEvent.END_EDIT))}this.notify()},__mxOutput.mxUndoableEdit=void 0!==mxUndoableEdit?mxUndoableEdit:void 0,mxUndoManager.prototype=new mxEventSource,mxUndoManager.prototype.constructor=mxUndoManager,mxUndoManager.prototype.size=null,mxUndoManager.prototype.history=null,mxUndoManager.prototype.indexOfNextAdd=0,mxUndoManager.prototype.isEmpty=function(){return 0==this.history.length},mxUndoManager.prototype.clear=function(){this.history=[],this.indexOfNextAdd=0,this.fireEvent(new mxEventObject(mxEvent.CLEAR))},mxUndoManager.prototype.canUndo=function(){return this.indexOfNextAdd>0},mxUndoManager.prototype.undo=function(){for(;this.indexOfNextAdd>0;){var t=this.history[--this.indexOfNextAdd];if(t.undo(),t.isSignificant()){this.fireEvent(new mxEventObject(mxEvent.UNDO,"edit",t));break}}},mxUndoManager.prototype.canRedo=function(){return this.indexOfNextAdd<this.history.length},mxUndoManager.prototype.redo=function(){for(var t=this.history.length;this.indexOfNextAdd<t;){var e=this.history[this.indexOfNextAdd++];if(e.redo(),e.isSignificant()){this.fireEvent(new mxEventObject(mxEvent.REDO,"edit",e));break}}},mxUndoManager.prototype.undoableEditHappened=function(t){this.trim(),this.size>0&&this.size==this.history.length&&this.history.shift(),this.history.push(t),this.indexOfNextAdd=this.history.length,this.fireEvent(new mxEventObject(mxEvent.ADD,"edit",t))},mxUndoManager.prototype.trim=function(){if(this.history.length>this.indexOfNextAdd)for(var t=this.history.splice(this.indexOfNextAdd,this.history.length-this.indexOfNextAdd),e=0;e<t.length;e++)t[e].die()},__mxOutput.mxUndoManager=void 0!==mxUndoManager?mxUndoManager:void 0;var mxUrlConverter=function(){};function mxPanningManager(t){this.thread=null,this.active=!1,this.tdx=0,this.tdy=0,this.t0x=0,this.t0y=0,this.dx=0,this.dy=0,this.scrollbars=!1,this.scrollLeft=0,this.scrollTop=0,this.mouseListener={mouseDown:function(t,e){},mouseMove:function(t,e){},mouseUp:mxUtils.bind(this,function(t,e){this.active&&this.stop()})},t.addMouseListener(this.mouseListener),this.mouseUpListener=mxUtils.bind(this,function(){this.active&&this.stop()}),mxEvent.addListener(document,"mouseup",this.mouseUpListener);var e=mxUtils.bind(this,function(){return this.scrollbars=mxUtils.hasScrollbars(t.container),this.scrollLeft=t.container.scrollLeft,this.scrollTop=t.container.scrollTop,window.setInterval(mxUtils.bind(this,function(){if(this.tdx-=this.dx,this.tdy-=this.dy,this.scrollbars){var e=-t.container.scrollLeft-Math.ceil(this.dx),i=-t.container.scrollTop-Math.ceil(this.dy);t.panGraph(e,i),t.panDx=this.scrollLeft-t.container.scrollLeft,t.panDy=this.scrollTop-t.container.scrollTop,t.fireEvent(new mxEventObject(mxEvent.PAN))}else t.panGraph(this.getDx(),this.getDy())}),this.delay)});this.isActive=function(){return active},this.getDx=function(){return Math.round(this.tdx)},this.getDy=function(){return Math.round(this.tdy)},this.start=function(){this.t0x=t.view.translate.x,this.t0y=t.view.translate.y,this.active=!0},this.panTo=function(i,n,r,o){this.active||this.start(),this.scrollLeft=t.container.scrollLeft,this.scrollTop=t.container.scrollTop,r=null!=r?r:0,o=null!=o?o:0;var s=t.container;this.dx=i+r-s.scrollLeft-s.clientWidth,this.dx<0&&Math.abs(this.dx)<this.border?this.dx=this.border+this.dx:this.handleMouseOut?this.dx=Math.max(this.dx,0):this.dx=0,0==this.dx&&(this.dx=i-s.scrollLeft,this.dx>0&&this.dx<this.border?this.dx=this.dx-this.border:this.handleMouseOut?this.dx=Math.min(0,this.dx):this.dx=0),this.dy=n+o-s.scrollTop-s.clientHeight,this.dy<0&&Math.abs(this.dy)<this.border?this.dy=this.border+this.dy:this.handleMouseOut?this.dy=Math.max(this.dy,0):this.dy=0,0==this.dy&&(this.dy=n-s.scrollTop,this.dy>0&&this.dy<this.border?this.dy=this.dy-this.border:this.handleMouseOut?this.dy=Math.min(0,this.dy):this.dy=0),0!=this.dx||0!=this.dy?(this.dx*=this.damper,this.dy*=this.damper,null==this.thread&&(this.thread=e())):null!=this.thread&&(window.clearInterval(this.thread),this.thread=null)},this.stop=function(){if(this.active)if(this.active=!1,null!=this.thread&&(window.clearInterval(this.thread),this.thread=null),this.tdx=0,this.tdy=0,this.scrollbars)t.panDx=0,t.panDy=0,t.fireEvent(new mxEventObject(mxEvent.PAN));else{var e=t.panDx,i=t.panDy;0==e&&0==i||(t.panGraph(0,0),t.view.setTranslate(this.t0x+e/t.view.scale,this.t0y+i/t.view.scale))}},this.destroy=function(){t.removeMouseListener(this.mouseListener),mxEvent.removeListener(document,"mouseup",this.mouseUpListener)}}function mxPopupMenu(t){this.factoryMethod=t,null!=t&&this.init()}function mxAutoSaveManager(t){this.changeHandler=mxUtils.bind(this,function(t,e){this.isEnabled()&&this.graphModelChanged(e.getProperty("edit").changes)}),this.setGraph(t)}function mxAnimation(t){this.delay=null!=t?t:20}function mxMorphing(t,e,i,n){mxAnimation.call(this,n),this.graph=t,this.steps=null!=e?e:6,this.ease=null!=i?i:1.5}function mxImageBundle(t){this.images=[],this.alt=null!=t&&t}function mxImageExport(){}function mxAbstractCanvas2D(){this.converter=this.createUrlConverter(),this.reset()}function mxXmlCanvas2D(t){mxAbstractCanvas2D.call(this),this.root=t,this.writeDefaults()}function mxSvgCanvas2D(t,e){mxAbstractCanvas2D.call(this),this.root=t,this.gradients=[],this.defs=null,this.styleEnabled=null!=e&&e;var i=null;if(t.ownerDocument!=document){for(var n=t;null!=n&&"svg"!=n.nodeName;)n=n.parentNode;i=n}null!=i&&(i.getElementsByTagName("defs").length>0&&(this.defs=i.getElementsByTagName("defs")[0]),null==this.defs&&(this.defs=this.createElement("defs"),null!=i.firstChild?i.insertBefore(this.defs,i.firstChild):i.appendChild(this.defs)),this.styleEnabled&&this.defs.appendChild(this.createStyle()))}mxUrlConverter.prototype.enabled=!0,mxUrlConverter.prototype.baseUrl=null,mxUrlConverter.prototype.baseDomain=null,mxUrlConverter.prototype.updateBaseUrl=function(){this.baseDomain=location.protocol+"//"+location.host,this.baseUrl=this.baseDomain+location.pathname;var t=this.baseUrl.lastIndexOf("/");t>0&&(this.baseUrl=this.baseUrl.substring(0,t+1))},mxUrlConverter.prototype.isEnabled=function(){return this.enabled},mxUrlConverter.prototype.setEnabled=function(t){this.enabled=t},mxUrlConverter.prototype.getBaseUrl=function(){return this.baseUrl},mxUrlConverter.prototype.setBaseUrl=function(t){this.baseUrl=t},mxUrlConverter.prototype.getBaseDomain=function(){return this.baseDomain},mxUrlConverter.prototype.setBaseDomain=function(t){this.baseDomain=t},mxUrlConverter.prototype.isRelativeUrl=function(t){return"//"!=t.substring(0,2)&&"http://"!=t.substring(0,7)&&"https://"!=t.substring(0,8)&&"data:image"!=t.substring(0,10)&&"file://"!=t.substring(0,7)},mxUrlConverter.prototype.convert=function(t){return this.isEnabled()&&this.isRelativeUrl(t)&&(null==this.getBaseUrl()&&this.updateBaseUrl(),t="/"==t.charAt(0)?this.getBaseDomain()+t:this.getBaseUrl()+t),t},__mxOutput.mxUrlConverter=void 0!==mxUrlConverter?mxUrlConverter:void 0,mxPanningManager.prototype.damper=1/6,mxPanningManager.prototype.delay=10,mxPanningManager.prototype.handleMouseOut=!0,mxPanningManager.prototype.border=0,__mxOutput.mxPanningManager=void 0!==mxPanningManager?mxPanningManager:void 0,mxPopupMenu.prototype=new mxEventSource,mxPopupMenu.prototype.constructor=mxPopupMenu,mxPopupMenu.prototype.submenuImage=mxClient.imageBasePath+"/submenu.gif",mxPopupMenu.prototype.zIndex=10006,mxPopupMenu.prototype.factoryMethod=null,mxPopupMenu.prototype.useLeftButtonForPopup=!1,mxPopupMenu.prototype.enabled=!0,mxPopupMenu.prototype.itemCount=0,mxPopupMenu.prototype.autoExpand=!1,mxPopupMenu.prototype.smartSeparators=!1,mxPopupMenu.prototype.labels=!0,mxPopupMenu.prototype.init=function(){this.table=document.createElement("table"),this.table.className="mxPopupMenu",this.tbody=document.createElement("tbody"),this.table.appendChild(this.tbody),this.div=document.createElement("div"),this.div.className="mxPopupMenu",this.div.style.display="inline",this.div.style.zIndex=this.zIndex,this.div.appendChild(this.table),mxEvent.disableContextMenu(this.div)},mxPopupMenu.prototype.isEnabled=function(){return this.enabled},mxPopupMenu.prototype.setEnabled=function(t){this.enabled=t},mxPopupMenu.prototype.isPopupTrigger=function(t){return t.isPopupTrigger()||this.useLeftButtonForPopup&&mxEvent.isLeftMouseButton(t.getEvent())},mxPopupMenu.prototype.addItem=function(t,e,i,n,r,o,s){n=n||this,this.itemCount++,n.willAddSeparator&&(n.containsItems&&this.addSeparator(n,!0),n.willAddSeparator=!1),n.containsItems=!0;var a=document.createElement("tr");a.className="mxPopupMenuItem";var l=document.createElement("td");if(l.className="mxPopupMenuIcon",null!=e){var h=document.createElement("img");h.src=e,l.appendChild(h)}else if(null!=r){var u=document.createElement("div");u.className=r,l.appendChild(u)}if(a.appendChild(l),this.labels){var c=document.createElement("td");c.className="mxPopupMenuItem"+(null==o||o?"":" mxDisabled"),mxUtils.write(c,t),c.align="left",a.appendChild(c);var d=document.createElement("td");d.className="mxPopupMenuItem"+(null==o||o?"":" mxDisabled"),d.style.paddingRight="6px",d.style.textAlign="right",a.appendChild(d),null==n.div&&this.createSubmenu(n)}if(n.tbody.appendChild(a),0!=s&&0!=o){var p=null;mxEvent.addGestureListeners(a,mxUtils.bind(this,function(t){this.eventReceiver=a,n.activeRow!=a&&n.activeRow!=n&&(null!=n.activeRow&&null!=n.activeRow.div.parentNode&&this.hideSubmenu(n),null!=a.div&&(this.showSubmenu(n,a),n.activeRow=a)),null==document.selection||!mxClient.IS_QUIRKS&&8!=document.documentMode||(p=document.selection.createRange()),mxEvent.consume(t)}),mxUtils.bind(this,function(t){n.activeRow!=a&&n.activeRow!=n&&(null!=n.activeRow&&null!=n.activeRow.div.parentNode&&this.hideSubmenu(n),this.autoExpand&&null!=a.div&&(this.showSubmenu(n,a),n.activeRow=a)),a.className="mxPopupMenuItemHover"}),mxUtils.bind(this,function(t){if(this.eventReceiver==a){if(n.activeRow!=a&&this.hideMenu(),null!=p){try{p.select()}catch(t){}p=null}null!=i&&i(t)}this.eventReceiver=null,mxEvent.consume(t)})),mxEvent.addListener(a,"mouseout",mxUtils.bind(this,function(t){a.className="mxPopupMenuItem"}))}return a},mxPopupMenu.prototype.addCheckmark=function(t,e){var i=t.firstChild.nextSibling;i.style.backgroundImage="url('"+e+"')",i.style.backgroundRepeat="no-repeat",i.style.backgroundPosition="2px 50%"},mxPopupMenu.prototype.createSubmenu=function(t){t.table=document.createElement("table"),t.table.className="mxPopupMenu",t.tbody=document.createElement("tbody"),t.table.appendChild(t.tbody),t.div=document.createElement("div"),t.div.className="mxPopupMenu",t.div.style.position="absolute",t.div.style.display="inline",t.div.style.zIndex=this.zIndex,t.div.appendChild(t.table);var e=document.createElement("img");e.setAttribute("src",this.submenuImage),td=t.firstChild.nextSibling.nextSibling,td.appendChild(e)},mxPopupMenu.prototype.showSubmenu=function(t,e){if(null!=e.div){e.div.style.left=t.div.offsetLeft+e.offsetLeft+e.offsetWidth-1+"px",e.div.style.top=t.div.offsetTop+e.offsetTop+"px",document.body.appendChild(e.div);var i=parseInt(e.div.offsetLeft),n=parseInt(e.div.offsetWidth),r=mxUtils.getDocumentScrollOrigin(document),o=document.body,s=document.documentElement;i+n>r.x+(o.clientWidth||s.clientWidth)&&(e.div.style.left=Math.max(0,t.div.offsetLeft-n+(mxClient.IS_IE?6:-6))+"px"),mxUtils.fit(e.div)}},mxPopupMenu.prototype.addSeparator=function(t,e){if(t=t||this,this.smartSeparators&&!e)t.willAddSeparator=!0;else if(null!=t.tbody){t.willAddSeparator=!1;var i=document.createElement("tr"),n=document.createElement("td");n.className="mxPopupMenuIcon",n.style.padding="0 0 0 0px",i.appendChild(n);var r=document.createElement("td");r.style.padding="0 0 0 0px",r.setAttribute("colSpan","2");var o=document.createElement("hr");o.setAttribute("size","1"),r.appendChild(o),i.appendChild(r),t.tbody.appendChild(i)}},mxPopupMenu.prototype.popup=function(t,e,i,n){if(null!=this.div&&null!=this.tbody&&null!=this.factoryMethod){for(this.div.style.left=t+"px",this.div.style.top=e+"px";null!=this.tbody.firstChild;)mxEvent.release(this.tbody.firstChild),this.tbody.removeChild(this.tbody.firstChild);this.itemCount=0,this.factoryMethod(this,i,n),this.itemCount>0&&(this.showMenu(),this.fireEvent(new mxEventObject(mxEvent.SHOW)))}},mxPopupMenu.prototype.isMenuShowing=function(){return null!=this.div&&this.div.parentNode==document.body},mxPopupMenu.prototype.showMenu=function(){document.documentMode>=9&&(this.div.style.filter="none"),document.body.appendChild(this.div),mxUtils.fit(this.div)},mxPopupMenu.prototype.hideMenu=function(){null!=this.div&&(null!=this.div.parentNode&&this.div.parentNode.removeChild(this.div),this.hideSubmenu(this),this.containsItems=!1,this.fireEvent(new mxEventObject(mxEvent.HIDE)))},mxPopupMenu.prototype.hideSubmenu=function(t){null!=t.activeRow&&(this.hideSubmenu(t.activeRow),null!=t.activeRow.div.parentNode&&t.activeRow.div.parentNode.removeChild(t.activeRow.div),t.activeRow=null)},mxPopupMenu.prototype.destroy=function(){null!=this.div&&(mxEvent.release(this.div),null!=this.div.parentNode&&this.div.parentNode.removeChild(this.div),this.div=null)},__mxOutput.mxPopupMenu=void 0!==mxPopupMenu?mxPopupMenu:void 0,mxAutoSaveManager.prototype=new mxEventSource,mxAutoSaveManager.prototype.constructor=mxAutoSaveManager,mxAutoSaveManager.prototype.graph=null,mxAutoSaveManager.prototype.autoSaveDelay=10,mxAutoSaveManager.prototype.autoSaveThrottle=2,mxAutoSaveManager.prototype.autoSaveThreshold=5,mxAutoSaveManager.prototype.ignoredChanges=0,mxAutoSaveManager.prototype.lastSnapshot=0,mxAutoSaveManager.prototype.enabled=!0,mxAutoSaveManager.prototype.changeHandler=null,mxAutoSaveManager.prototype.isEnabled=function(){return this.enabled},mxAutoSaveManager.prototype.setEnabled=function(t){this.enabled=t},mxAutoSaveManager.prototype.setGraph=function(t){null!=this.graph&&this.graph.getModel().removeListener(this.changeHandler),this.graph=t,null!=this.graph&&this.graph.getModel().addListener(mxEvent.CHANGE,this.changeHandler)},mxAutoSaveManager.prototype.save=function(){},mxAutoSaveManager.prototype.graphModelChanged=function(t){var e=((new Date).getTime()-this.lastSnapshot)/1e3;e>this.autoSaveDelay||this.ignoredChanges>=this.autoSaveThreshold&&e>this.autoSaveThrottle?(this.save(),this.reset()):this.ignoredChanges++},mxAutoSaveManager.prototype.reset=function(){this.lastSnapshot=(new Date).getTime(),this.ignoredChanges=0},mxAutoSaveManager.prototype.destroy=function(){this.setGraph(null)},__mxOutput.mxAutoSaveManager=void 0!==mxAutoSaveManager?mxAutoSaveManager:void 0,mxAnimation.prototype=new mxEventSource,mxAnimation.prototype.constructor=mxAnimation,mxAnimation.prototype.delay=null,mxAnimation.prototype.thread=null,mxAnimation.prototype.isRunning=function(){return null!=this.thread},mxAnimation.prototype.startAnimation=function(){null==this.thread&&(this.thread=window.setInterval(mxUtils.bind(this,this.updateAnimation),this.delay))},mxAnimation.prototype.updateAnimation=function(){this.fireEvent(new mxEventObject(mxEvent.EXECUTE))},mxAnimation.prototype.stopAnimation=function(){null!=this.thread&&(window.clearInterval(this.thread),this.thread=null,this.fireEvent(new mxEventObject(mxEvent.DONE)))},__mxOutput.mxAnimation=void 0!==mxAnimation?mxAnimation:void 0,mxMorphing.prototype=new mxAnimation,mxMorphing.prototype.constructor=mxMorphing,mxMorphing.prototype.graph=null,mxMorphing.prototype.steps=null,mxMorphing.prototype.step=0,mxMorphing.prototype.ease=null,mxMorphing.prototype.cells=null,mxMorphing.prototype.updateAnimation=function(){mxAnimation.prototype.updateAnimation.apply(this,arguments);var t=new mxCellStatePreview(this.graph);if(null!=this.cells)for(var e=0;e<this.cells.length;e++)this.animateCell(this.cells[e],t,!1);else this.animateCell(this.graph.getModel().getRoot(),t,!0);this.show(t),(t.isEmpty()||this.step++>=this.steps)&&this.stopAnimation()},mxMorphing.prototype.show=function(t){t.show()},mxMorphing.prototype.animateCell=function(t,e,i){var n=this.graph.getView().getState(t),r=null;if(null!=n&&(r=this.getDelta(n),this.graph.getModel().isVertex(t)&&(0!=r.x||0!=r.y))){var o=this.graph.view.getTranslate(),s=this.graph.view.getScale();r.x+=o.x*s,r.y+=o.y*s,e.moveState(n,-r.x/this.ease,-r.y/this.ease)}if(i&&!this.stopRecursion(n,r))for(var a=this.graph.getModel().getChildCount(t),l=0;l<a;l++)this.animateCell(this.graph.getModel().getChildAt(t,l),e,i)},mxMorphing.prototype.stopRecursion=function(t,e){return null!=e&&(0!=e.x||0!=e.y)},mxMorphing.prototype.getDelta=function(t){var e=this.getOriginForCell(t.cell),i=this.graph.getView().getTranslate(),n=this.graph.getView().getScale(),r=t.x/n-i.x,o=t.y/n-i.y;return new mxPoint((e.x-r)*n,(e.y-o)*n)},mxMorphing.prototype.getOriginForCell=function(t){var e=null;if(null!=t){var i=this.graph.getModel().getParent(t),n=this.graph.getCellGeometry(t);if(e=this.getOriginForCell(i),null!=n)if(n.relative){var r=this.graph.getCellGeometry(i);null!=r&&(e.x+=n.x*r.width,e.y+=n.y*r.height)}else e.x+=n.x,e.y+=n.y}if(null==e){var o=this.graph.view.getTranslate();e=new mxPoint(-o.x,-o.y)}return e},__mxOutput.mxMorphing=void 0!==mxMorphing?mxMorphing:void 0,mxImageBundle.prototype.images=null,mxImageBundle.prototype.images=null,mxImageBundle.prototype.putImage=function(t,e,i){this.images[t]={value:e,fallback:i}},mxImageBundle.prototype.getImage=function(t){var e=null;if(null!=t){var i=this.images[t];null!=i&&(e=this.alt?i.fallback:i.value)}return e},__mxOutput.mxImageBundle=void 0!==mxImageBundle?mxImageBundle:void 0,mxImageExport.prototype.includeOverlays=!1,mxImageExport.prototype.drawState=function(t,e){null!=t&&(this.visitStatesRecursive(t,e,mxUtils.bind(this,function(){this.drawCellState.apply(this,arguments)})),this.includeOverlays&&this.visitStatesRecursive(t,e,mxUtils.bind(this,function(){this.drawOverlays.apply(this,arguments)})))},mxImageExport.prototype.visitStatesRecursive=function(t,e,i){if(null!=t){i(t,e);for(var n=t.view.graph,r=n.model.getChildCount(t.cell),o=0;o<r;o++){var s=n.view.getState(n.model.getChildAt(t.cell,o));this.visitStatesRecursive(s,e,i)}}},mxImageExport.prototype.getLinkForCellState=function(t,e){return null},mxImageExport.prototype.drawCellState=function(t,e){var i=this.getLinkForCellState(t,e);null!=i&&e.setLink(i),this.drawShape(t,e),this.drawText(t,e),null!=i&&e.setLink(null)},mxImageExport.prototype.drawShape=function(t,e){t.shape instanceof mxShape&&t.shape.checkBounds()&&(e.save(),t.shape.paint(e),e.restore())},mxImageExport.prototype.drawText=function(t,e){null!=t.text&&t.text.checkBounds()&&(e.save(),t.text.paint(e),e.restore())},mxImageExport.prototype.drawOverlays=function(t,e){null!=t.overlays&&t.overlays.visit(function(t,i){i instanceof mxShape&&i.paint(e)})},__mxOutput.mxImageExport=void 0!==mxImageExport?mxImageExport:void 0,mxAbstractCanvas2D.prototype.state=null,mxAbstractCanvas2D.prototype.states=null,mxAbstractCanvas2D.prototype.path=null,mxAbstractCanvas2D.prototype.rotateHtml=!0,mxAbstractCanvas2D.prototype.lastX=0,mxAbstractCanvas2D.prototype.lastY=0,mxAbstractCanvas2D.prototype.moveOp="M",mxAbstractCanvas2D.prototype.lineOp="L",mxAbstractCanvas2D.prototype.quadOp="Q",mxAbstractCanvas2D.prototype.curveOp="C",mxAbstractCanvas2D.prototype.closeOp="Z",mxAbstractCanvas2D.prototype.pointerEvents=!1,mxAbstractCanvas2D.prototype.createUrlConverter=function(){return new mxUrlConverter},mxAbstractCanvas2D.prototype.reset=function(){this.state=this.createState(),this.states=[]},mxAbstractCanvas2D.prototype.createState=function(){return{dx:0,dy:0,scale:1,alpha:1,fillAlpha:1,strokeAlpha:1,fillColor:null,gradientFillAlpha:1,gradientColor:null,gradientAlpha:1,gradientDirection:null,strokeColor:null,strokeWidth:1,dashed:!1,dashPattern:"3 3",fixDash:!1,lineCap:"flat",lineJoin:"miter",miterLimit:10,fontColor:"#000000",fontBackgroundColor:null,fontBorderColor:null,fontSize:mxConstants.DEFAULT_FONTSIZE,fontFamily:mxConstants.DEFAULT_FONTFAMILY,fontStyle:0,shadow:!1,shadowColor:mxConstants.SHADOWCOLOR,shadowAlpha:mxConstants.SHADOW_OPACITY,shadowDx:mxConstants.SHADOW_OFFSET_X,shadowDy:mxConstants.SHADOW_OFFSET_Y,rotation:0,rotationCx:0,rotationCy:0}},mxAbstractCanvas2D.prototype.format=function(t){return Math.round(parseFloat(t))},mxAbstractCanvas2D.prototype.addOp=function(){if(null!=this.path&&(this.path.push(arguments[0]),arguments.length>2))for(var t=this.state,e=2;e<arguments.length;e+=2)this.lastX=arguments[e-1],this.lastY=arguments[e],this.path.push(this.format((this.lastX+t.dx)*t.scale)),this.path.push(this.format((this.lastY+t.dy)*t.scale))},mxAbstractCanvas2D.prototype.rotatePoint=function(t,e,i,n,r){var o=i*(Math.PI/180);return mxUtils.getRotatedPoint(new mxPoint(t,e),Math.cos(o),Math.sin(o),new mxPoint(n,r))},mxAbstractCanvas2D.prototype.save=function(){this.states.push(this.state),this.state=mxUtils.clone(this.state)},mxAbstractCanvas2D.prototype.restore=function(){this.states.length>0&&(this.state=this.states.pop())},mxAbstractCanvas2D.prototype.setLink=function(t){},mxAbstractCanvas2D.prototype.scale=function(t){this.state.scale*=t,this.state.strokeWidth*=t},mxAbstractCanvas2D.prototype.translate=function(t,e){this.state.dx+=t,this.state.dy+=e},mxAbstractCanvas2D.prototype.rotate=function(t,e,i,n,r){},mxAbstractCanvas2D.prototype.setAlpha=function(t){this.state.alpha=t},mxAbstractCanvas2D.prototype.setFillAlpha=function(t){this.state.fillAlpha=t},mxAbstractCanvas2D.prototype.setStrokeAlpha=function(t){this.state.strokeAlpha=t},mxAbstractCanvas2D.prototype.setFillColor=function(t){t==mxConstants.NONE&&(t=null),this.state.fillColor=t,this.state.gradientColor=null},mxAbstractCanvas2D.prototype.setGradient=function(t,e,i,n,r,o,s,a,l){var h=this.state;h.fillColor=t,h.gradientFillAlpha=null!=a?a:1,h.gradientColor=e,h.gradientAlpha=null!=l?l:1,h.gradientDirection=s},mxAbstractCanvas2D.prototype.setStrokeColor=function(t){t==mxConstants.NONE&&(t=null),this.state.strokeColor=t},mxAbstractCanvas2D.prototype.setStrokeWidth=function(t){this.state.strokeWidth=t},mxAbstractCanvas2D.prototype.setDashed=function(t,e){this.state.dashed=t,this.state.fixDash=e},mxAbstractCanvas2D.prototype.setDashPattern=function(t){this.state.dashPattern=t},mxAbstractCanvas2D.prototype.setLineCap=function(t){this.state.lineCap=t},mxAbstractCanvas2D.prototype.setLineJoin=function(t){this.state.lineJoin=t},mxAbstractCanvas2D.prototype.setMiterLimit=function(t){this.state.miterLimit=t},mxAbstractCanvas2D.prototype.setFontColor=function(t){t==mxConstants.NONE&&(t=null),this.state.fontColor=t},mxAbstractCanvas2D.prototype.setFontBackgroundColor=function(t){t==mxConstants.NONE&&(t=null),this.state.fontBackgroundColor=t},mxAbstractCanvas2D.prototype.setFontBorderColor=function(t){t==mxConstants.NONE&&(t=null),this.state.fontBorderColor=t},mxAbstractCanvas2D.prototype.setFontSize=function(t){this.state.fontSize=parseFloat(t)},mxAbstractCanvas2D.prototype.setFontFamily=function(t){this.state.fontFamily=t},mxAbstractCanvas2D.prototype.setFontStyle=function(t){null==t&&(t=0),this.state.fontStyle=t},mxAbstractCanvas2D.prototype.setShadow=function(t){this.state.shadow=t},mxAbstractCanvas2D.prototype.setShadowColor=function(t){t==mxConstants.NONE&&(t=null),this.state.shadowColor=t},mxAbstractCanvas2D.prototype.setShadowAlpha=function(t){this.state.shadowAlpha=t},mxAbstractCanvas2D.prototype.setShadowOffset=function(t,e){this.state.shadowDx=t,this.state.shadowDy=e},mxAbstractCanvas2D.prototype.begin=function(){this.lastX=0,this.lastY=0,this.path=[]},mxAbstractCanvas2D.prototype.moveTo=function(t,e){this.addOp(this.moveOp,t,e)},mxAbstractCanvas2D.prototype.lineTo=function(t,e){this.addOp(this.lineOp,t,e)},mxAbstractCanvas2D.prototype.quadTo=function(t,e,i,n){this.addOp(this.quadOp,t,e,i,n)},mxAbstractCanvas2D.prototype.curveTo=function(t,e,i,n,r,o){this.addOp(this.curveOp,t,e,i,n,r,o)},mxAbstractCanvas2D.prototype.arcTo=function(t,e,i,n,r,o,s){var a=mxUtils.arcToCurves(this.lastX,this.lastY,t,e,i,n,r,o,s);if(null!=a)for(var l=0;l<a.length;l+=6)this.curveTo(a[l],a[l+1],a[l+2],a[l+3],a[l+4],a[l+5])},mxAbstractCanvas2D.prototype.close=function(t,e,i,n,r,o){this.addOp(this.closeOp)},mxAbstractCanvas2D.prototype.end=function(){},__mxOutput.mxAbstractCanvas2D=void 0!==mxAbstractCanvas2D?mxAbstractCanvas2D:void 0,mxUtils.extend(mxXmlCanvas2D,mxAbstractCanvas2D),mxXmlCanvas2D.prototype.textEnabled=!0,mxXmlCanvas2D.prototype.compressed=!0,mxXmlCanvas2D.prototype.writeDefaults=function(){var t;(t=this.createElement("fontfamily")).setAttribute("family",mxConstants.DEFAULT_FONTFAMILY),this.root.appendChild(t),(t=this.createElement("fontsize")).setAttribute("size",mxConstants.DEFAULT_FONTSIZE),this.root.appendChild(t),(t=this.createElement("shadowcolor")).setAttribute("color",mxConstants.SHADOWCOLOR),this.root.appendChild(t),(t=this.createElement("shadowalpha")).setAttribute("alpha",mxConstants.SHADOW_OPACITY),this.root.appendChild(t),(t=this.createElement("shadowoffset")).setAttribute("dx",mxConstants.SHADOW_OFFSET_X),t.setAttribute("dy",mxConstants.SHADOW_OFFSET_Y),this.root.appendChild(t)},mxXmlCanvas2D.prototype.format=function(t){return parseFloat(parseFloat(t).toFixed(2))},mxXmlCanvas2D.prototype.createElement=function(t){return this.root.ownerDocument.createElement(t)},mxXmlCanvas2D.prototype.save=function(){this.compressed&&mxAbstractCanvas2D.prototype.save.apply(this,arguments),this.root.appendChild(this.createElement("save"))},mxXmlCanvas2D.prototype.restore=function(){this.compressed&&mxAbstractCanvas2D.prototype.restore.apply(this,arguments),this.root.appendChild(this.createElement("restore"))},mxXmlCanvas2D.prototype.scale=function(t){var e=this.createElement("scale");e.setAttribute("scale",t),this.root.appendChild(e)},mxXmlCanvas2D.prototype.translate=function(t,e){var i=this.createElement("translate");i.setAttribute("dx",this.format(t)),i.setAttribute("dy",this.format(e)),this.root.appendChild(i)},mxXmlCanvas2D.prototype.rotate=function(t,e,i,n,r){var o=this.createElement("rotate");(0!=t||e||i)&&(o.setAttribute("theta",this.format(t)),o.setAttribute("flipH",e?"1":"0"),o.setAttribute("flipV",i?"1":"0"),o.setAttribute("cx",this.format(n)),o.setAttribute("cy",this.format(r)),this.root.appendChild(o))},mxXmlCanvas2D.prototype.setAlpha=function(t){if(this.compressed){if(this.state.alpha==t)return;mxAbstractCanvas2D.prototype.setAlpha.apply(this,arguments)}var e=this.createElement("alpha");e.setAttribute("alpha",this.format(t)),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setFillAlpha=function(t){if(this.compressed){if(this.state.fillAlpha==t)return;mxAbstractCanvas2D.prototype.setFillAlpha.apply(this,arguments)}var e=this.createElement("fillalpha");e.setAttribute("alpha",this.format(t)),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setStrokeAlpha=function(t){if(this.compressed){if(this.state.strokeAlpha==t)return;mxAbstractCanvas2D.prototype.setStrokeAlpha.apply(this,arguments)}var e=this.createElement("strokealpha");e.setAttribute("alpha",this.format(t)),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setFillColor=function(t){if(t==mxConstants.NONE&&(t=null),this.compressed){if(this.state.fillColor==t)return;mxAbstractCanvas2D.prototype.setFillColor.apply(this,arguments)}var e=this.createElement("fillcolor");e.setAttribute("color",null!=t?t:mxConstants.NONE),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setGradient=function(t,e,i,n,r,o,s,a,l){if(null!=t&&null!=e){mxAbstractCanvas2D.prototype.setGradient.apply(this,arguments);var h=this.createElement("gradient");h.setAttribute("c1",t),h.setAttribute("c2",e),h.setAttribute("x",this.format(i)),h.setAttribute("y",this.format(n)),h.setAttribute("w",this.format(r)),h.setAttribute("h",this.format(o)),null!=s&&h.setAttribute("direction",s),null!=a&&h.setAttribute("alpha1",a),null!=l&&h.setAttribute("alpha2",l),this.root.appendChild(h)}},mxXmlCanvas2D.prototype.setStrokeColor=function(t){if(t==mxConstants.NONE&&(t=null),this.compressed){if(this.state.strokeColor==t)return;mxAbstractCanvas2D.prototype.setStrokeColor.apply(this,arguments)}var e=this.createElement("strokecolor");e.setAttribute("color",null!=t?t:mxConstants.NONE),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setStrokeWidth=function(t){if(this.compressed){if(this.state.strokeWidth==t)return;mxAbstractCanvas2D.prototype.setStrokeWidth.apply(this,arguments)}var e=this.createElement("strokewidth");e.setAttribute("width",this.format(t)),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setDashed=function(t,e){if(this.compressed){if(this.state.dashed==t)return;mxAbstractCanvas2D.prototype.setDashed.apply(this,arguments)}var i=this.createElement("dashed");i.setAttribute("dashed",t?"1":"0"),null!=e&&i.setAttribute("fixDash",e?"1":"0"),this.root.appendChild(i)},mxXmlCanvas2D.prototype.setDashPattern=function(t){if(this.compressed){if(this.state.dashPattern==t)return;mxAbstractCanvas2D.prototype.setDashPattern.apply(this,arguments)}var e=this.createElement("dashpattern");e.setAttribute("pattern",t),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setLineCap=function(t){if(this.compressed){if(this.state.lineCap==t)return;mxAbstractCanvas2D.prototype.setLineCap.apply(this,arguments)}var e=this.createElement("linecap");e.setAttribute("cap",t),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setLineJoin=function(t){if(this.compressed){if(this.state.lineJoin==t)return;mxAbstractCanvas2D.prototype.setLineJoin.apply(this,arguments)}var e=this.createElement("linejoin");e.setAttribute("join",t),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setMiterLimit=function(t){if(this.compressed){if(this.state.miterLimit==t)return;mxAbstractCanvas2D.prototype.setMiterLimit.apply(this,arguments)}var e=this.createElement("miterlimit");e.setAttribute("limit",t),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setFontColor=function(t){if(this.textEnabled){if(t==mxConstants.NONE&&(t=null),this.compressed){if(this.state.fontColor==t)return;mxAbstractCanvas2D.prototype.setFontColor.apply(this,arguments)}var e=this.createElement("fontcolor");e.setAttribute("color",null!=t?t:mxConstants.NONE),this.root.appendChild(e)}},mxXmlCanvas2D.prototype.setFontBackgroundColor=function(t){if(this.textEnabled){if(t==mxConstants.NONE&&(t=null),this.compressed){if(this.state.fontBackgroundColor==t)return;mxAbstractCanvas2D.prototype.setFontBackgroundColor.apply(this,arguments)}var e=this.createElement("fontbackgroundcolor");e.setAttribute("color",null!=t?t:mxConstants.NONE),this.root.appendChild(e)}},mxXmlCanvas2D.prototype.setFontBorderColor=function(t){if(this.textEnabled){if(t==mxConstants.NONE&&(t=null),this.compressed){if(this.state.fontBorderColor==t)return;mxAbstractCanvas2D.prototype.setFontBorderColor.apply(this,arguments)}var e=this.createElement("fontbordercolor");e.setAttribute("color",null!=t?t:mxConstants.NONE),this.root.appendChild(e)}},mxXmlCanvas2D.prototype.setFontSize=function(t){if(this.textEnabled){if(this.compressed){if(this.state.fontSize==t)return;mxAbstractCanvas2D.prototype.setFontSize.apply(this,arguments)}var e=this.createElement("fontsize");e.setAttribute("size",t),this.root.appendChild(e)}},mxXmlCanvas2D.prototype.setFontFamily=function(t){if(this.textEnabled){if(this.compressed){if(this.state.fontFamily==t)return;mxAbstractCanvas2D.prototype.setFontFamily.apply(this,arguments)}var e=this.createElement("fontfamily");e.setAttribute("family",t),this.root.appendChild(e)}},mxXmlCanvas2D.prototype.setFontStyle=function(t){if(this.textEnabled){if(null==t&&(t=0),this.compressed){if(this.state.fontStyle==t)return;mxAbstractCanvas2D.prototype.setFontStyle.apply(this,arguments)}var e=this.createElement("fontstyle");e.setAttribute("style",t),this.root.appendChild(e)}},mxXmlCanvas2D.prototype.setShadow=function(t){if(this.compressed){if(this.state.shadow==t)return;mxAbstractCanvas2D.prototype.setShadow.apply(this,arguments)}var e=this.createElement("shadow");e.setAttribute("enabled",t?"1":"0"),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setShadowColor=function(t){if(this.compressed){if(t==mxConstants.NONE&&(t=null),this.state.shadowColor==t)return;mxAbstractCanvas2D.prototype.setShadowColor.apply(this,arguments)}var e=this.createElement("shadowcolor");e.setAttribute("color",null!=t?t:mxConstants.NONE),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setShadowAlpha=function(t){if(this.compressed){if(this.state.shadowAlpha==t)return;mxAbstractCanvas2D.prototype.setShadowAlpha.apply(this,arguments)}var e=this.createElement("shadowalpha");e.setAttribute("alpha",t),this.root.appendChild(e)},mxXmlCanvas2D.prototype.setShadowOffset=function(t,e){if(this.compressed){if(this.state.shadowDx==t&&this.state.shadowDy==e)return;mxAbstractCanvas2D.prototype.setShadowOffset.apply(this,arguments)}var i=this.createElement("shadowoffset");i.setAttribute("dx",t),i.setAttribute("dy",e),this.root.appendChild(i)},mxXmlCanvas2D.prototype.rect=function(t,e,i,n){var r=this.createElement("rect");r.setAttribute("x",this.format(t)),r.setAttribute("y",this.format(e)),r.setAttribute("w",this.format(i)),r.setAttribute("h",this.format(n)),this.root.appendChild(r)},mxXmlCanvas2D.prototype.roundrect=function(t,e,i,n,r,o){var s=this.createElement("roundrect");s.setAttribute("x",this.format(t)),s.setAttribute("y",this.format(e)),s.setAttribute("w",this.format(i)),s.setAttribute("h",this.format(n)),s.setAttribute("dx",this.format(r)),s.setAttribute("dy",this.format(o)),this.root.appendChild(s)},mxXmlCanvas2D.prototype.ellipse=function(t,e,i,n){var r=this.createElement("ellipse");r.setAttribute("x",this.format(t)),r.setAttribute("y",this.format(e)),r.setAttribute("w",this.format(i)),r.setAttribute("h",this.format(n)),this.root.appendChild(r)},mxXmlCanvas2D.prototype.image=function(t,e,i,n,r,o,s,a){r=this.converter.convert(r);var l=this.createElement("image");l.setAttribute("x",this.format(t)),l.setAttribute("y",this.format(e)),l.setAttribute("w",this.format(i)),l.setAttribute("h",this.format(n)),l.setAttribute("src",r),l.setAttribute("aspect",o?"1":"0"),l.setAttribute("flipH",s?"1":"0"),l.setAttribute("flipV",a?"1":"0"),this.root.appendChild(l)},mxXmlCanvas2D.prototype.begin=function(){this.root.appendChild(this.createElement("begin")),this.lastX=0,this.lastY=0},mxXmlCanvas2D.prototype.moveTo=function(t,e){var i=this.createElement("move");i.setAttribute("x",this.format(t)),i.setAttribute("y",this.format(e)),this.root.appendChild(i),this.lastX=t,this.lastY=e},mxXmlCanvas2D.prototype.lineTo=function(t,e){var i=this.createElement("line");i.setAttribute("x",this.format(t)),i.setAttribute("y",this.format(e)),this.root.appendChild(i),this.lastX=t,this.lastY=e},mxXmlCanvas2D.prototype.quadTo=function(t,e,i,n){var r=this.createElement("quad");r.setAttribute("x1",this.format(t)),r.setAttribute("y1",this.format(e)),r.setAttribute("x2",this.format(i)),r.setAttribute("y2",this.format(n)),this.root.appendChild(r),this.lastX=i,this.lastY=n},mxXmlCanvas2D.prototype.curveTo=function(t,e,i,n,r,o){var s=this.createElement("curve");s.setAttribute("x1",this.format(t)),s.setAttribute("y1",this.format(e)),s.setAttribute("x2",this.format(i)),s.setAttribute("y2",this.format(n)),s.setAttribute("x3",this.format(r)),s.setAttribute("y3",this.format(o)),this.root.appendChild(s),this.lastX=r,this.lastY=o},mxXmlCanvas2D.prototype.close=function(){this.root.appendChild(this.createElement("close"))},mxXmlCanvas2D.prototype.text=function(t,e,i,n,r,o,s,a,l,h,u,c,d){if(this.textEnabled&&null!=r){mxUtils.isNode(r)&&(r=mxUtils.getOuterHtml(r));var p=this.createElement("text");p.setAttribute("x",this.format(t)),p.setAttribute("y",this.format(e)),p.setAttribute("w",this.format(i)),p.setAttribute("h",this.format(n)),p.setAttribute("str",r),null!=o&&p.setAttribute("align",o),null!=s&&p.setAttribute("valign",s),p.setAttribute("wrap",a?"1":"0"),null==l&&(l=""),p.setAttribute("format",l),null!=h&&p.setAttribute("overflow",h),null!=u&&p.setAttribute("clip",u?"1":"0"),null!=c&&p.setAttribute("rotation",c),null!=d&&p.setAttribute("dir",d),this.root.appendChild(p)}},mxXmlCanvas2D.prototype.stroke=function(){this.root.appendChild(this.createElement("stroke"))},mxXmlCanvas2D.prototype.fill=function(){this.root.appendChild(this.createElement("fill"))},mxXmlCanvas2D.prototype.fillAndStroke=function(){this.root.appendChild(this.createElement("fillstroke"))},__mxOutput.mxXmlCanvas2D=void 0!==mxXmlCanvas2D?mxXmlCanvas2D:void 0,mxUtils.extend(mxSvgCanvas2D,mxAbstractCanvas2D),function(){if(mxSvgCanvas2D.prototype.useDomParser=!mxClient.IS_IE&&"function"==typeof DOMParser&&"function"==typeof XMLSerializer,mxSvgCanvas2D.prototype.useDomParser)try{var t=(new DOMParser).parseFromString("test text","text/html");mxSvgCanvas2D.prototype.useDomParser=null!=t}catch(t){mxSvgCanvas2D.prototype.useDomParser=!1}}(),mxSvgCanvas2D.prototype.node=null,mxSvgCanvas2D.prototype.matchHtmlAlignment=!0,mxSvgCanvas2D.prototype.textEnabled=!0,mxSvgCanvas2D.prototype.foEnabled=!0,mxSvgCanvas2D.prototype.foAltText="[Object]",mxSvgCanvas2D.prototype.foOffset=0,mxSvgCanvas2D.prototype.textOffset=0,mxSvgCanvas2D.prototype.imageOffset=0,mxSvgCanvas2D.prototype.strokeTolerance=0,mxSvgCanvas2D.prototype.minStrokeWidth=1,mxSvgCanvas2D.prototype.refCount=0,mxSvgCanvas2D.prototype.blockImagePointerEvents=!1,mxSvgCanvas2D.prototype.lineHeightCorrection=1,mxSvgCanvas2D.prototype.pointerEventsValue="all",mxSvgCanvas2D.prototype.fontMetricsPadding=10,mxSvgCanvas2D.prototype.cacheOffsetSize=!0,mxSvgCanvas2D.prototype.format=function(t){return parseFloat(parseFloat(t).toFixed(2))},mxSvgCanvas2D.prototype.getBaseUrl=function(){var t=window.location.href,e=t.lastIndexOf("#");return e>0&&(t=t.substring(0,e)),t},mxSvgCanvas2D.prototype.reset=function(){mxAbstractCanvas2D.prototype.reset.apply(this,arguments),this.gradients=[]},mxSvgCanvas2D.prototype.createStyle=function(t){var e=this.createElement("style");return e.setAttribute("type","text/css"),mxUtils.write(e,"svg{font-family:"+mxConstants.DEFAULT_FONTFAMILY+";font-size:"+mxConstants.DEFAULT_FONTSIZE+";fill:none;stroke-miterlimit:10}"),e},mxSvgCanvas2D.prototype.createElement=function(t,e){if(null!=this.root.ownerDocument.createElementNS)return this.root.ownerDocument.createElementNS(e||mxConstants.NS_SVG,t);var i=this.root.ownerDocument.createElement(t);return null!=e&&i.setAttribute("xmlns",e),i},mxSvgCanvas2D.prototype.createAlternateContent=function(t,e,i,n,r,o,s,a,l,h,u,c,d){if(null!=this.foAltText){var p=this.state,f=this.createElement("text");return f.setAttribute("x",Math.round(n/2)),f.setAttribute("y",Math.round((r+p.fontSize)/2)),f.setAttribute("fill",p.fontColor||"black"),f.setAttribute("text-anchor","middle"),f.setAttribute("font-size",p.fontSize+"px"),f.setAttribute("font-family",p.fontFamily),(p.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&f.setAttribute("font-weight","bold"),(p.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&f.setAttribute("font-style","italic"),(p.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&f.setAttribute("text-decoration","underline"),mxUtils.write(f,this.foAltText),f}return null},mxSvgCanvas2D.prototype.createGradientId=function(t,e,i,n,r){"#"==t.charAt(0)&&(t=t.substring(1)),"#"==e.charAt(0)&&(e=e.substring(1)),t=t.toLowerCase()+"-"+i,e=e.toLowerCase()+"-"+n;var o=null;if(null==r||r==mxConstants.DIRECTION_SOUTH)o="s";else if(r==mxConstants.DIRECTION_EAST)o="e";else{var s=t;t=e,e=s,r==mxConstants.DIRECTION_NORTH?o="s":r==mxConstants.DIRECTION_WEST&&(o="e")}return"mx-gradient-"+t+"-"+e+"-"+o},mxSvgCanvas2D.prototype.getSvgGradient=function(t,e,i,n,r){var o=this.createGradientId(t,e,i,n,r),s=this.gradients[o];if(null==s){var a=this.root.ownerSVGElement,l=0,h=o+"-"+l;if(null!=a)for(s=a.ownerDocument.getElementById(h);null!=s&&s.ownerSVGElement!=a;)h=o+"-"+l++,s=a.ownerDocument.getElementById(h);else h="id"+ ++this.refCount;null==s&&((s=this.createSvgGradient(t,e,i,n,r)).setAttribute("id",h),null!=this.defs?this.defs.appendChild(s):a.appendChild(s)),this.gradients[o]=s}return s.getAttribute("id")},mxSvgCanvas2D.prototype.createSvgGradient=function(t,e,i,n,r){var o=this.createElement("linearGradient");o.setAttribute("x1","0%"),o.setAttribute("y1","0%"),o.setAttribute("x2","0%"),o.setAttribute("y2","0%"),null==r||r==mxConstants.DIRECTION_SOUTH?o.setAttribute("y2","100%"):r==mxConstants.DIRECTION_EAST?o.setAttribute("x2","100%"):r==mxConstants.DIRECTION_NORTH?o.setAttribute("y1","100%"):r==mxConstants.DIRECTION_WEST&&o.setAttribute("x1","100%");var s=i<1?";stop-opacity:"+i:"",a=this.createElement("stop");return a.setAttribute("offset","0%"),a.setAttribute("style","stop-color:"+t+s),o.appendChild(a),s=n<1?";stop-opacity:"+n:"",(a=this.createElement("stop")).setAttribute("offset","100%"),a.setAttribute("style","stop-color:"+e+s),o.appendChild(a),o},mxSvgCanvas2D.prototype.addNode=function(t,e){var i=this.node,n=this.state;if(null!=i){if("path"==i.nodeName){if(!(null!=this.path&&this.path.length>0))return;i.setAttribute("d",this.path.join(" "))}t&&null!=n.fillColor?this.updateFill():this.styleEnabled||("ellipse"==i.nodeName&&mxClient.IS_FF?i.setAttribute("fill","transparent"):i.setAttribute("fill","none"),t=!1),e&&null!=n.strokeColor?this.updateStroke():this.styleEnabled||i.setAttribute("stroke","none"),null!=n.transform&&n.transform.length>0&&i.setAttribute("transform",n.transform),n.shadow&&this.root.appendChild(this.createShadow(i)),this.strokeTolerance>0&&!t&&this.root.appendChild(this.createTolerance(i)),this.pointerEvents?i.setAttribute("pointer-events",this.pointerEventsValue):this.pointerEvents||null!=this.originalRoot||i.setAttribute("pointer-events","none"),("rect"!=i.nodeName&&"path"!=i.nodeName&&"ellipse"!=i.nodeName||"none"!=i.getAttribute("fill")&&"transparent"!=i.getAttribute("fill")||"none"!=i.getAttribute("stroke")||"none"!=i.getAttribute("pointer-events"))&&this.root.appendChild(i),this.node=null}},mxSvgCanvas2D.prototype.updateFill=function(){var t=this.state;if((t.alpha<1||t.fillAlpha<1)&&this.node.setAttribute("fill-opacity",t.alpha*t.fillAlpha),null!=t.fillColor)if(null!=t.gradientColor){var e=this.getSvgGradient(String(t.fillColor),String(t.gradientColor),t.gradientFillAlpha,t.gradientAlpha,t.gradientDirection);if(mxClient.IS_CHROMEAPP||mxClient.IS_IE||mxClient.IS_IE11||mxClient.IS_EDGE||this.root.ownerDocument!=document)this.node.setAttribute("fill","url(#"+e+")");else{var i=this.getBaseUrl().replace(/([\(\)])/g,"\\$1");this.node.setAttribute("fill","url("+i+"#"+e+")")}}else this.node.setAttribute("fill",String(t.fillColor).toLowerCase())},mxSvgCanvas2D.prototype.getCurrentStrokeWidth=function(){return Math.max(this.minStrokeWidth,Math.max(.01,this.format(this.state.strokeWidth*this.state.scale)))},mxSvgCanvas2D.prototype.updateStroke=function(){var t=this.state;this.node.setAttribute("stroke",String(t.strokeColor).toLowerCase()),(t.alpha<1||t.strokeAlpha<1)&&this.node.setAttribute("stroke-opacity",t.alpha*t.strokeAlpha);var e=this.getCurrentStrokeWidth();1!=e&&this.node.setAttribute("stroke-width",e),"path"==this.node.nodeName&&this.updateStrokeAttributes(),t.dashed&&this.node.setAttribute("stroke-dasharray",this.createDashPattern((t.fixDash?1:t.strokeWidth)*t.scale))},mxSvgCanvas2D.prototype.updateStrokeAttributes=function(){var t=this.state;if(null!=t.lineJoin&&"miter"!=t.lineJoin&&this.node.setAttribute("stroke-linejoin",t.lineJoin),null!=t.lineCap){var e=t.lineCap;"flat"==e&&(e="butt"),"butt"!=e&&this.node.setAttribute("stroke-linecap",e)}null==t.miterLimit||this.styleEnabled&&10==t.miterLimit||this.node.setAttribute("stroke-miterlimit",t.miterLimit)},mxSvgCanvas2D.prototype.createDashPattern=function(t){var e=[];if("string"==typeof this.state.dashPattern){var i=this.state.dashPattern.split(" ");if(i.length>0)for(var n=0;n<i.length;n++)e[n]=Number(i[n])*t}return e.join(" ")},mxSvgCanvas2D.prototype.createTolerance=function(t){var e=t.cloneNode(!0),i=parseFloat(e.getAttribute("stroke-width")||1)+this.strokeTolerance;return e.setAttribute("pointer-events","stroke"),e.setAttribute("visibility","hidden"),e.removeAttribute("stroke-dasharray"),e.setAttribute("stroke-width",i),e.setAttribute("fill","none"),e.setAttribute("stroke",mxClient.IS_OT?"none":"white"),e},mxSvgCanvas2D.prototype.createShadow=function(t){var e=t.cloneNode(!0),i=this.state;return"none"==e.getAttribute("fill")||mxClient.IS_FF&&"transparent"==e.getAttribute("fill")||e.setAttribute("fill",i.shadowColor),"none"!=e.getAttribute("stroke")&&e.setAttribute("stroke",i.shadowColor),e.setAttribute("transform","translate("+this.format(i.shadowDx*i.scale)+","+this.format(i.shadowDy*i.scale)+")"+(i.transform||"")),e.setAttribute("opacity",i.shadowAlpha),e},mxSvgCanvas2D.prototype.setLink=function(t){if(null==t)this.root=this.originalRoot;else{this.originalRoot=this.root;var e=this.createElement("a");null==e.setAttributeNS||this.root.ownerDocument!=document&&null==document.documentMode?e.setAttribute("xlink:href",t):e.setAttributeNS(mxConstants.NS_XLINK,"xlink:href",t),this.root.appendChild(e),this.root=e}},mxSvgCanvas2D.prototype.rotate=function(t,e,i,n,r){if(0!=t||e||i){var o=this.state;if(n+=o.dx,r+=o.dy,n*=o.scale,r*=o.scale,o.transform=o.transform||"",e&&i)t+=180;else if(e!=i){var s=e?n:0,a=e?-1:1,l=i?r:0,h=i?-1:1;o.transform+="translate("+this.format(s)+","+this.format(l)+")scale("+this.format(a)+","+this.format(h)+")translate("+this.format(-s)+","+this.format(-l)+")"}(e?!i:i)&&(t*=-1),0!=t&&(o.transform+="rotate("+this.format(t)+","+this.format(n)+","+this.format(r)+")"),o.rotation=o.rotation+t,o.rotationCx=n,o.rotationCy=r}},mxSvgCanvas2D.prototype.begin=function(){mxAbstractCanvas2D.prototype.begin.apply(this,arguments),this.node=this.createElement("path")},mxSvgCanvas2D.prototype.rect=function(t,e,i,n){var r=this.state,o=this.createElement("rect");o.setAttribute("x",this.format((t+r.dx)*r.scale)),o.setAttribute("y",this.format((e+r.dy)*r.scale)),o.setAttribute("width",this.format(i*r.scale)),o.setAttribute("height",this.format(n*r.scale)),this.node=o},mxSvgCanvas2D.prototype.roundrect=function(t,e,i,n,r,o){this.rect(t,e,i,n),r>0&&this.node.setAttribute("rx",this.format(r*this.state.scale)),o>0&&this.node.setAttribute("ry",this.format(o*this.state.scale))},mxSvgCanvas2D.prototype.ellipse=function(t,e,i,n){var r=this.state,o=this.createElement("ellipse");o.setAttribute("cx",this.format((t+i/2+r.dx)*r.scale)),o.setAttribute("cy",this.format((e+n/2+r.dy)*r.scale)),o.setAttribute("rx",i/2*r.scale),o.setAttribute("ry",n/2*r.scale),this.node=o},mxSvgCanvas2D.prototype.image=function(t,e,i,n,r,o,s,a){r=this.converter.convert(r),o=null==o||o,s=null!=s&&s,a=null!=a&&a;var l=this.state;t+=l.dx,e+=l.dy;var h=this.createElement("image");h.setAttribute("x",this.format(t*l.scale)+this.imageOffset),h.setAttribute("y",this.format(e*l.scale)+this.imageOffset),h.setAttribute("width",this.format(i*l.scale)),h.setAttribute("height",this.format(n*l.scale)),null==h.setAttributeNS?h.setAttribute("xlink:href",r):h.setAttributeNS(mxConstants.NS_XLINK,"xlink:href",r),o||h.setAttribute("preserveAspectRatio","none"),(l.alpha<1||l.fillAlpha<1)&&h.setAttribute("opacity",l.alpha*l.fillAlpha);var u=this.state.transform||"";if(s||a){var c=1,d=1,p=0,f=0;s&&(c=-1,p=-i-2*t),a&&(d=-1,f=-n-2*e),u+="scale("+c+","+d+")translate("+p*l.scale+","+f*l.scale+")"}u.length>0&&h.setAttribute("transform",u),this.pointerEvents||h.setAttribute("pointer-events","none"),this.root.appendChild(h),this.blockImagePointerEvents&&(h.setAttribute("style","pointer-events:none"),(h=this.createElement("rect")).setAttribute("visibility","hidden"),h.setAttribute("pointer-events","fill"),h.setAttribute("x",this.format(t*l.scale)),h.setAttribute("y",this.format(e*l.scale)),h.setAttribute("width",this.format(i*l.scale)),h.setAttribute("height",this.format(n*l.scale)),this.root.appendChild(h))},mxSvgCanvas2D.prototype.convertHtml=function(t){if(this.useDomParser){var e=(new DOMParser).parseFromString(t,"text/html");null!=e&&("<body"==(t=(new XMLSerializer).serializeToString(e.body)).substring(0,5)&&(t=t.substring(t.indexOf(">",5)+1)),"</body>"==t.substring(t.length-7,t.length)&&(t=t.substring(0,t.length-7)))}else{if(null!=document.implementation&&null!=document.implementation.createDocument){var i=document.implementation.createDocument("http://www.w3.org/1999/xhtml","html",null),n=i.createElement("body");i.documentElement.appendChild(n);var r=document.createElement("div");r.innerHTML=t;for(var o=r.firstChild;null!=o;){var s=o.nextSibling;n.appendChild(i.adoptNode(o)),o=s}return n.innerHTML}var a=document.createElement("textarea");a.innerHTML=t.replace(/&amp;/g,"&amp;amp;").replace(/&#60;/g,"&amp;lt;").replace(/&#62;/g,"&amp;gt;").replace(/&lt;/g,"&amp;lt;").replace(/&gt;/g,"&amp;gt;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=a.value.replace(/&/g,"&amp;").replace(/&amp;lt;/g,"&lt;").replace(/&amp;gt;/g,"&gt;").replace(/&amp;amp;/g,"&amp;").replace(/<br>/g,"<br />").replace(/<hr>/g,"<hr />").replace(/(<img[^>]+)>/gm,"$1 />")}return t},mxSvgCanvas2D.prototype.createDiv=function(t,e,i,n,r,o){var s=this.state,a=mxConstants.ABSOLUTE_LINE_HEIGHT?s.fontSize*mxConstants.LINE_HEIGHT+"px":mxConstants.LINE_HEIGHT*this.lineHeightCorrection;n="display:inline-block;font-size:"+s.fontSize+"px;font-family:"+s.fontFamily+";color:"+s.fontColor+";line-height:"+a+";"+n,(s.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&(n+="font-weight:bold;"),(s.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&(n+="font-style:italic;"),(s.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&(n+="text-decoration:underline;"),e==mxConstants.ALIGN_CENTER?n+="text-align:center;":e==mxConstants.ALIGN_RIGHT?n+="text-align:right;":n+="text-align:left;";var l="";null!=s.fontBackgroundColor&&(l+="background-color:"+mxUtils.htmlEntities(s.fontBackgroundColor)+";"),null!=s.fontBorderColor&&(l+="border:1px solid "+mxUtils.htmlEntities(s.fontBorderColor)+";");var h=t;if(mxUtils.isNode(h)||(h=this.convertHtml(h),"fill"!=r&&"width"!=r?(null!=o&&(l+="white-space:"+o+";"),h='<div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;'+l+'">'+h+"</div>"):n+=l),!mxClient.IS_IE&&document.createElementNS){var u=document.createElementNS("http://www.w3.org/1999/xhtml","div");return u.setAttribute("style",n),mxUtils.isNode(h)?this.root.ownerDocument!=document?u.appendChild(h.cloneNode(!0)):u.appendChild(h):u.innerHTML=h,u}return mxUtils.isNode(h)&&this.root.ownerDocument!=document&&(h=h.outerHTML),mxUtils.parseXml('<div xmlns="http://www.w3.org/1999/xhtml" style="'+n+'">'+h+"</div>").documentElement},mxSvgCanvas2D.prototype.invalidateCachedOffsetSize=function(t){delete t.firstChild.mxCachedOffsetWidth,delete t.firstChild.mxCachedFinalOffsetWidth,delete t.firstChild.mxCachedFinalOffsetHeight},mxSvgCanvas2D.prototype.updateText=function(t,e,i,n,r,o,s,a,l,h,u){if(null!=u&&null!=u.firstChild&&null!=u.firstChild.firstChild&&null!=u.firstChild.firstChild.firstChild){var c=u.firstChild,d=c.firstChild,p=d.firstChild;h=null!=h?h:0;var f=this.state;t+=f.dx,e+=f.dy,l?(p.style.maxHeight=Math.round(n)+"px",p.style.maxWidth=Math.round(i)+"px"):"fill"==a?(p.style.width=Math.round(i+1)+"px",p.style.height=Math.round(n+1)+"px"):"width"==a&&(p.style.width=Math.round(i+1)+"px",n>0&&(p.style.maxHeight=Math.round(n)+"px")),s&&i>0&&(p.style.width=Math.round(i+1)+"px");var m=0,g=0,v=p;null!=v.firstChild&&"DIV"==v.firstChild.nodeName&&(v=v.firstChild);var A=null!=c.mxCachedOffsetWidth?c.mxCachedOffsetWidth:v.offsetWidth;m=A+0,s&&"fill"!=a&&(l&&(m=Math.min(m,i)),p.style.width=Math.round(m+1)+"px"),m=null!=c.mxCachedFinalOffsetWidth?c.mxCachedFinalOffsetWidth:v.offsetWidth,g=null!=c.mxCachedFinalOffsetHeight?c.mxCachedFinalOffsetHeight:v.offsetHeight,this.cacheOffsetSize&&(c.mxCachedOffsetWidth=A,c.mxCachedFinalOffsetWidth=m,c.mxCachedFinalOffsetHeight=g),m+=0,g-=2,l&&(g=Math.min(g,n),m=Math.min(m,i)),"width"==a?n=g:"fill"!=a&&(i=m,n=g);var y=0,x=0;r==mxConstants.ALIGN_CENTER?y-=i/2:r==mxConstants.ALIGN_RIGHT&&(y-=i),t+=y,o==mxConstants.ALIGN_MIDDLE?x-=n/2:o==mxConstants.ALIGN_BOTTOM&&(x-=n),"fill"!=a&&mxClient.IS_FF&&mxClient.IS_WIN&&(x-=2),e+=x;var b=1!=f.scale?"scale("+f.scale+")":"";if(0!=f.rotation&&this.rotateHtml){b+="rotate("+f.rotation+","+i/2+","+n/2+")";var C=this.rotatePoint((t+i/2)*f.scale,(e+n/2)*f.scale,f.rotation,f.rotationCx,f.rotationCy);t=C.x-i*f.scale/2,e=C.y-n*f.scale/2}else t*=f.scale,e*=f.scale;0!=h&&(b+="rotate("+h+","+-y+","+-x+")"),c.setAttribute("transform","translate("+Math.round(t)+","+Math.round(e)+")"+b),d.setAttribute("width",Math.round(Math.max(1,i))),d.setAttribute("height",Math.round(Math.max(1,n)))}},mxSvgCanvas2D.prototype.text=function(t,e,i,n,r,o,s,a,l,h,u,c,d){if(this.textEnabled&&null!=r){c=null!=c?c:0;var p=this.state;if(t+=p.dx,e+=p.dy,this.foEnabled&&"html"==l){var f="vertical-align:top;";u?f+="overflow:hidden;max-height:"+Math.round(n)+"px;max-width:"+Math.round(i)+"px;":"fill"==h?f+="width:"+Math.round(i+1)+"px;height:"+Math.round(n+1)+"px;overflow:hidden;":"width"==h&&(f+="width:"+Math.round(i+1)+"px;",n>0&&(f+="max-height:"+Math.round(n)+"px;overflow:hidden;")),f+=a&&i>0?"width:"+Math.round(i+1)+"px;white-space:normal;word-wrap:"+mxConstants.WORD_WRAP+";":"white-space:nowrap;";var m=this.createElement("g");p.alpha<1&&m.setAttribute("opacity",p.alpha);var g=this.createElement("foreignObject");g.setAttribute("style","overflow:visible;"),g.setAttribute("pointer-events",this.pointerEvents?this.pointerEventsValue:"none");var v=this.createDiv(r,o,s,f,h,a&&i>0?"normal":null);if(null==v)return;null!=d&&v.setAttribute("dir",d),m.appendChild(g),this.root.appendChild(m);var A=0,y=0,x=2,b=2;if(!mxClient.IS_IE||9!=document.documentMode&&mxClient.IS_SVG){this.root.ownerDocument!=document?(v.style.visibility="hidden",document.body.appendChild(v)):g.appendChild(v);var C=v;if(null!=C.firstChild&&"DIV"==C.firstChild.nodeName&&(C=C.firstChild,a&&"break-word"==v.style.wordWrap&&(C.style.width="100%")),0==(S=C.offsetWidth)&&v.parentNode==g&&(v.style.visibility="hidden",document.body.appendChild(v),S=C.offsetWidth),this.cacheOffsetSize&&(m.mxCachedOffsetWidth=S),!u&&a&&i>0&&this.root.ownerDocument!=document&&"fill"!=h&&"width"!=h){T=v.style.whiteSpace;v.style.whiteSpace="nowrap",S<C.offsetWidth&&(v.style.whiteSpace=T)}A=S+x-1,a&&"fill"!=h&&"width"!=h&&(u&&(A=Math.min(A,i)),v.style.width=A+"px"),A=C.offsetWidth,y=C.offsetHeight,this.cacheOffsetSize&&(m.mxCachedFinalOffsetWidth=A,m.mxCachedFinalOffsetHeight=y),y-=b,v.parentNode!=g&&(g.appendChild(v),v.style.visibility="")}else{var w=document.createElement("div");w.style.cssText=v.getAttribute("style"),w.style.display=mxClient.IS_QUIRKS?"inline":"inline-block",w.style.position="absolute",w.style.visibility="hidden";var E=document.createElement("div");if(E.style.display=mxClient.IS_QUIRKS?"inline":"inline-block",E.style.wordWrap=mxConstants.WORD_WRAP,E.innerHTML=mxUtils.isNode(r)?r.outerHTML:r,w.appendChild(E),document.body.appendChild(w),8!=document.documentMode&&9!=document.documentMode&&null!=p.fontBorderColor&&(x+=2,b+=2),a&&i>0){var S=E.offsetWidth;if(padDx=0,!u&&a&&i>0&&this.root.ownerDocument!=document&&"fill"!=h){var T=w.style.whiteSpace;E.style.whiteSpace="nowrap",S<E.offsetWidth&&(w.style.whiteSpace=T)}u&&(S=Math.min(S,i)),w.style.width=S+"px",A=E.offsetWidth+x+padDx,y=E.offsetHeight+b,w.style.display="inline-block",w.style.position="",w.style.visibility="",w.style.width=A+"px",v.setAttribute("style",w.style.cssText)}else A=E.offsetWidth+x,y=E.offsetHeight+b;w.parentNode.removeChild(w),g.appendChild(v)}u&&(y=Math.min(y,n),A=Math.min(A,i)),"width"==h?n=y:"fill"!=h&&(i=A,n=y),p.alpha<1&&m.setAttribute("opacity",p.alpha);var _=0,M=0;o==mxConstants.ALIGN_CENTER?_-=i/2:o==mxConstants.ALIGN_RIGHT&&(_-=i),t+=_,s==mxConstants.ALIGN_MIDDLE?M-=n/2:s==mxConstants.ALIGN_BOTTOM&&(M-=n),"fill"!=h&&mxClient.IS_FF&&mxClient.IS_WIN&&(M-=2),e+=M;var k=1!=p.scale?"scale("+p.scale+")":"";if(0!=p.rotation&&this.rotateHtml){k+="rotate("+p.rotation+","+i/2+","+n/2+")";var B=this.rotatePoint((t+i/2)*p.scale,(e+n/2)*p.scale,p.rotation,p.rotationCx,p.rotationCy);t=B.x-i*p.scale/2,e=B.y-n*p.scale/2}else t*=p.scale,e*=p.scale;if(0!=c&&(k+="rotate("+c+","+-_+","+-M+")"),m.setAttribute("transform","translate("+(Math.round(t)+this.foOffset)+","+(Math.round(e)+this.foOffset)+")"+k),g.setAttribute("width",Math.round(Math.max(1,i))),g.setAttribute("height",Math.round(Math.max(1,n))),this.root.ownerDocument!=document){var O=this.createAlternateContent(g,t,e,i,n,r,o,s,a,l,h,u,c);if(null!=O){g.setAttribute("requiredFeatures","http://www.w3.org/TR/SVG11/feature#Extensibility");var P=this.createElement("switch");P.appendChild(g),P.appendChild(O),m.appendChild(P)}}}else this.plainText(t,e,i,n,r,o,s,a,h,u,c,d)}},mxSvgCanvas2D.prototype.createClip=function(t,e,i,n){for(var r="mx-clip-"+(t=Math.round(t))+"-"+(e=Math.round(e))+"-"+(i=Math.round(i))+"-"+(n=Math.round(n)),o=0,s=r+"-"+o;null!=document.getElementById(s);)s=r+"-"+ ++o;clip=this.createElement("clipPath"),clip.setAttribute("id",s);var a=this.createElement("rect");return a.setAttribute("x",t),a.setAttribute("y",e),a.setAttribute("width",i),a.setAttribute("height",n),clip.appendChild(a),clip},mxSvgCanvas2D.prototype.plainText=function(t,e,i,n,r,o,s,a,l,h,u,c){u=null!=u?u:0;var d=this.state,p=d.fontSize,f=this.createElement("g"),m=d.transform||"";if(this.updateFont(f),0!=u&&(m+="rotate("+u+","+this.format(t*d.scale)+","+this.format(e*d.scale)+")"),null!=c&&f.setAttribute("direction",c),h&&i>0&&n>0){var g=t,v=e;o==mxConstants.ALIGN_CENTER?g-=i/2:o==mxConstants.ALIGN_RIGHT&&(g-=i),"fill"!=l&&(s==mxConstants.ALIGN_MIDDLE?v-=n/2:s==mxConstants.ALIGN_BOTTOM&&(v-=n));var A=this.createClip(g*d.scale-2,v*d.scale-2,i*d.scale+4,n*d.scale+4);if(null!=this.defs?this.defs.appendChild(A):this.root.appendChild(A),mxClient.IS_CHROMEAPP||mxClient.IS_IE||mxClient.IS_IE11||mxClient.IS_EDGE||this.root.ownerDocument!=document)f.setAttribute("clip-path","url(#"+A.getAttribute("id")+")");else{var y=this.getBaseUrl().replace(/([\(\)])/g,"\\$1");f.setAttribute("clip-path","url("+y+"#"+A.getAttribute("id")+")")}}var x=o==mxConstants.ALIGN_RIGHT?"end":o==mxConstants.ALIGN_CENTER?"middle":"start";"start"!=x&&f.setAttribute("text-anchor",x),this.styleEnabled&&p==mxConstants.DEFAULT_FONTSIZE||f.setAttribute("font-size",p*d.scale+"px"),m.length>0&&f.setAttribute("transform",m),d.alpha<1&&f.setAttribute("opacity",d.alpha);var b=r.split("\n"),C=Math.round(p*mxConstants.LINE_HEIGHT),w=p+(b.length-1)*C;v=e+p-1;if(s==mxConstants.ALIGN_MIDDLE)v-="fill"==l?n/2:(this.matchHtmlAlignment&&h&&n>0?Math.min(w,n):w)/2+1;else if(s==mxConstants.ALIGN_BOTTOM){if("fill"==l)v-=n;else v-=(this.matchHtmlAlignment&&h&&n>0?Math.min(w,n):w)+2}for(var E=0;E<b.length;E++){if(b[E].length>0&&mxUtils.trim(b[E]).length>0){var S=this.createElement("text");S.setAttribute("x",this.format(t*d.scale)+this.textOffset),S.setAttribute("y",this.format(v*d.scale)+this.textOffset),mxUtils.write(S,b[E]),f.appendChild(S)}v+=C}this.root.appendChild(f),this.addTextBackground(f,r,t,e,i,"fill"==l?n:w,o,s,l)},mxSvgCanvas2D.prototype.updateFont=function(t){var e=this.state;t.setAttribute("fill",e.fontColor),this.styleEnabled&&e.fontFamily==mxConstants.DEFAULT_FONTFAMILY||t.setAttribute("font-family",e.fontFamily),(e.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&t.setAttribute("font-weight","bold"),(e.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&t.setAttribute("font-style","italic"),(e.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&t.setAttribute("text-decoration","underline")},mxSvgCanvas2D.prototype.addTextBackground=function(t,e,i,n,r,o,s,a,l){var h=this.state;if(null!=h.fontBackgroundColor||null!=h.fontBorderColor){var u=null;if("fill"==l||"width"==l)s==mxConstants.ALIGN_CENTER?i-=r/2:s==mxConstants.ALIGN_RIGHT&&(i-=r),a==mxConstants.ALIGN_MIDDLE?n-=o/2:a==mxConstants.ALIGN_BOTTOM&&(n-=o),u=new mxRectangle((i+1)*h.scale,n*h.scale,(r-2)*h.scale,(o+2)*h.scale);else if(null!=t.getBBox&&this.root.ownerDocument==document)try{u=t.getBBox();var c=mxClient.IS_IE&&mxClient.IS_SVG;u=new mxRectangle(u.x,u.y+(c?0:1),u.width,u.height+(c?1:0))}catch(t){}else{var d=document.createElement("div");d.style.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?h.fontSize*mxConstants.LINE_HEIGHT+"px":mxConstants.LINE_HEIGHT,d.style.fontSize=h.fontSize+"px",d.style.fontFamily=h.fontFamily,d.style.whiteSpace="nowrap",d.style.position="absolute",d.style.visibility="hidden",d.style.display=mxClient.IS_QUIRKS?"inline":"inline-block",d.style.zoom="1",(h.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&(d.style.fontWeight="bold"),(h.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&(d.style.fontStyle="italic"),e=mxUtils.htmlEntities(e,!1),d.innerHTML=e.replace(/\n/g,"<br/>"),document.body.appendChild(d);r=d.offsetWidth,o=d.offsetHeight;d.parentNode.removeChild(d),s==mxConstants.ALIGN_CENTER?i-=r/2:s==mxConstants.ALIGN_RIGHT&&(i-=r),a==mxConstants.ALIGN_MIDDLE?n-=o/2:a==mxConstants.ALIGN_BOTTOM&&(n-=o),u=new mxRectangle((i+1)*h.scale,(n+2)*h.scale,r*h.scale,(o+1)*h.scale)}if(null!=u){var p=this.createElement("rect");p.setAttribute("fill",h.fontBackgroundColor||"none"),p.setAttribute("stroke",h.fontBorderColor||"none"),p.setAttribute("x",Math.floor(u.x-1)),p.setAttribute("y",Math.floor(u.y-1)),p.setAttribute("width",Math.ceil(u.width+2)),p.setAttribute("height",Math.ceil(u.height));var f=null!=h.fontBorderColor?Math.max(1,this.format(h.scale)):0;p.setAttribute("stroke-width",f),this.root.ownerDocument==document&&1==mxUtils.mod(f,2)&&p.setAttribute("transform","translate(0.5, 0.5)"),t.insertBefore(p,t.firstChild)}}},mxSvgCanvas2D.prototype.stroke=function(){this.addNode(!1,!0)},mxSvgCanvas2D.prototype.fill=function(){this.addNode(!0,!1)},mxSvgCanvas2D.prototype.fillAndStroke=function(){this.addNode(!0,!0)},__mxOutput.mxSvgCanvas2D=void 0!==mxSvgCanvas2D?mxSvgCanvas2D:void 0;var mxVmlCanvas2D=function(t){mxAbstractCanvas2D.call(this),this.root=t};function mxGuide(t,e){this.graph=t,this.setStates(e)}function mxShape(t){this.stencil=t,this.initStyles()}function mxStencil(t){this.desc=t,this.parseDescription(),this.parseConstraints()}mxUtils.extend(mxVmlCanvas2D,mxAbstractCanvas2D),mxVmlCanvas2D.prototype.node=null,mxVmlCanvas2D.prototype.textEnabled=!0,mxVmlCanvas2D.prototype.moveOp="m",mxVmlCanvas2D.prototype.lineOp="l",mxVmlCanvas2D.prototype.curveOp="c",mxVmlCanvas2D.prototype.closeOp="x",mxVmlCanvas2D.prototype.rotatedHtmlBackground="",mxVmlCanvas2D.prototype.vmlScale=1,mxVmlCanvas2D.prototype.createElement=function(t){return document.createElement(t)},mxVmlCanvas2D.prototype.createVmlElement=function(t){return this.createElement(mxClient.VML_PREFIX+":"+t)},mxVmlCanvas2D.prototype.addNode=function(t,e){var i=this.node,n=this.state;if(null!=i){if("shape"==i.nodeName){if(!(null!=this.path&&this.path.length>0))return;i.path=this.path.join(" ")+" e",i.style.width=this.root.style.width,i.style.height=this.root.style.height,i.coordsize=parseInt(i.style.width)+" "+parseInt(i.style.height)}i.strokeweight=this.format(Math.max(1,n.strokeWidth*n.scale/this.vmlScale))+"px",n.shadow&&this.root.appendChild(this.createShadow(i,t&&null!=n.fillColor,e&&null!=n.strokeColor)),e&&null!=n.strokeColor?(i.stroked="true",i.strokecolor=n.strokeColor):i.stroked="false",i.appendChild(this.createStroke()),t&&null!=n.fillColor?i.appendChild(this.createFill()):!this.pointerEvents||"shape"==i.nodeName&&this.path[this.path.length-1]!=this.closeOp?i.filled="false":i.appendChild(this.createTransparentFill()),this.root.appendChild(i)}},mxVmlCanvas2D.prototype.createTransparentFill=function(){var t=this.createVmlElement("fill");return t.src=mxClient.imageBasePath+"/transparent.gif",t.type="tile",t},mxVmlCanvas2D.prototype.createFill=function(){var t=this.state,e=this.createVmlElement("fill");if(e.color=t.fillColor,null!=t.gradientColor){e.type="gradient",e.method="none",e.color2=t.gradientColor;var i=180-t.rotation;t.gradientDirection==mxConstants.DIRECTION_WEST?i-=90+("x"==this.root.style.flip?180:0):t.gradientDirection==mxConstants.DIRECTION_EAST?i+=90+("x"==this.root.style.flip?180:0):t.gradientDirection==mxConstants.DIRECTION_NORTH?i-=180+("y"==this.root.style.flip?-180:0):i+="y"==this.root.style.flip?-180:0,"x"!=this.root.style.flip&&"y"!=this.root.style.flip||(i*=-1),e.angle=mxUtils.mod(i,360),e.opacity=t.alpha*t.gradientFillAlpha*100+"%",e.setAttribute(mxClient.OFFICE_PREFIX+":opacity2",t.alpha*t.gradientAlpha*100+"%")}else(t.alpha<1||t.fillAlpha<1)&&(e.opacity=t.alpha*t.fillAlpha*100+"%");return e},mxVmlCanvas2D.prototype.createStroke=function(){var t=this.state,e=this.createVmlElement("stroke");return e.endcap=t.lineCap||"flat",e.joinstyle=t.lineJoin||"miter",e.miterlimit=t.miterLimit||"10",(t.alpha<1||t.strokeAlpha<1)&&(e.opacity=t.alpha*t.strokeAlpha*100+"%"),t.dashed&&(e.dashstyle=this.getVmlDashStyle()),e},mxVmlCanvas2D.prototype.getVmlDashStyle=function(){var t="dash";if("string"==typeof this.state.dashPattern){var e=this.state.dashPattern.split(" ");e.length>0&&1==e[0]&&(t="0 2")}return t},mxVmlCanvas2D.prototype.createShadow=function(t,e,i){var n=this.state,r=-n.rotation*(Math.PI/180),o=Math.cos(r),s=Math.sin(r),a=n.shadowDx*n.scale,l=n.shadowDy*n.scale;"x"==this.root.style.flip?a*=-1:"y"==this.root.style.flip&&(l*=-1);var h=t.cloneNode(!0);return h.style.marginLeft=Math.round(a*o-l*s)+"px",h.style.marginTop=Math.round(a*s+l*o)+"px",8==document.documentMode&&(h.strokeweight=t.strokeweight,"shape"==t.nodeName&&(h.path=this.path.join(" ")+" e",h.style.width=this.root.style.width,h.style.height=this.root.style.height,h.coordsize=parseInt(t.style.width)+" "+parseInt(t.style.height))),i?(h.strokecolor=n.shadowColor,h.appendChild(this.createShadowStroke())):h.stroked="false",e?h.appendChild(this.createShadowFill()):h.filled="false",h},mxVmlCanvas2D.prototype.createShadowFill=function(){var t=this.createVmlElement("fill");return t.color=this.state.shadowColor,t.opacity=this.state.alpha*this.state.shadowAlpha*100+"%",t},mxVmlCanvas2D.prototype.createShadowStroke=function(){var t=this.createStroke();return t.opacity=this.state.alpha*this.state.shadowAlpha*100+"%",t},mxVmlCanvas2D.prototype.rotate=function(t,e,i,n,r){e&&i?t+=180:e?this.root.style.flip="x":i&&(this.root.style.flip="y"),(e?!i:i)&&(t*=-1),this.root.style.rotation=t,this.state.rotation=this.state.rotation+t,this.state.rotationCx=n,this.state.rotationCy=r},mxVmlCanvas2D.prototype.begin=function(){mxAbstractCanvas2D.prototype.begin.apply(this,arguments),this.node=this.createVmlElement("shape"),this.node.style.position="absolute"},mxVmlCanvas2D.prototype.quadTo=function(t,e,i,n){var r=this.state,o=(this.lastX+r.dx)*r.scale,s=(this.lastY+r.dy)*r.scale,a=(t+r.dx)*r.scale,l=(e+r.dy)*r.scale,h=(i+r.dx)*r.scale,u=(n+r.dy)*r.scale,c=o+2/3*(a-o),d=s+2/3*(l-s),p=h+2/3*(a-h),f=u+2/3*(l-u);this.path.push("c "+this.format(c)+" "+this.format(d)+" "+this.format(p)+" "+this.format(f)+" "+this.format(h)+" "+this.format(u)),this.lastX=h/r.scale-r.dx,this.lastY=u/r.scale-r.dy},mxVmlCanvas2D.prototype.createRect=function(t,e,i,n,r){var o=this.state,s=this.createVmlElement(t);return s.style.position="absolute",s.style.left=this.format((e+o.dx)*o.scale)+"px",s.style.top=this.format((i+o.dy)*o.scale)+"px",s.style.width=this.format(n*o.scale)+"px",s.style.height=this.format(r*o.scale)+"px",s},mxVmlCanvas2D.prototype.rect=function(t,e,i,n){this.node=this.createRect("rect",t,e,i,n)},mxVmlCanvas2D.prototype.roundrect=function(t,e,i,n,r,o){this.node=this.createRect("roundrect",t,e,i,n),this.node.setAttribute("arcsize",Math.max(100*r/i,100*o/n)+"%")},mxVmlCanvas2D.prototype.ellipse=function(t,e,i,n){this.node=this.createRect("oval",t,e,i,n)},mxVmlCanvas2D.prototype.image=function(t,e,i,n,r,o,s,a){var l=null;if(o){(l=this.createRect("rect",t,e,i,n)).stroked="false";var h=this.createVmlElement("fill");h.aspect=o?"atmost":"ignore",h.rotate="true",h.type="frame",h.src=r,l.appendChild(h)}else(l=this.createRect("image",t,e,i,n)).src=r;s&&a?l.style.rotation="180":s?l.style.flip="x":a&&(l.style.flip="y"),(this.state.alpha<1||this.state.fillAlpha<1)&&(l.style.filter+="alpha(opacity="+this.state.alpha*this.state.fillAlpha*100+")"),this.root.appendChild(l)},mxVmlCanvas2D.prototype.createDiv=function(t,e,i,n){var r=this.createElement("div"),o=this.state,s="";if(null!=o.fontBackgroundColor&&(s+="background-color:"+mxUtils.htmlEntities(o.fontBackgroundColor)+";"),null!=o.fontBorderColor&&(s+="border:1px solid "+mxUtils.htmlEntities(o.fontBorderColor)+";"),mxUtils.isNode(t))r.appendChild(t);else if("fill"!=n&&"width"!=n){var a=this.createElement("div");a.style.cssText=s,a.style.display=mxClient.IS_QUIRKS?"inline":"inline-block",a.style.zoom="1",a.style.textDecoration="inherit",a.innerHTML=t,r.appendChild(a)}else r.style.cssText=s,r.innerHTML=t;var l=r.style;return l.fontSize=o.fontSize/this.vmlScale+"px",l.fontFamily=o.fontFamily,l.color=o.fontColor,l.verticalAlign="top",l.textAlign=e||"left",l.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?o.fontSize*mxConstants.LINE_HEIGHT/this.vmlScale+"px":mxConstants.LINE_HEIGHT,(o.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&(l.fontWeight="bold"),(o.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&(l.fontStyle="italic"),(o.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&(l.textDecoration="underline"),r},mxVmlCanvas2D.prototype.text=function(t,e,i,n,r,o,s,a,l,h,u,c,d){if(this.textEnabled&&null!=r){var p=this.state;if("html"==l){if(null!=p.rotation){var f=this.rotatePoint(t,e,p.rotation,p.rotationCx,p.rotationCy);t=f.x,e=f.y}8!=document.documentMode||mxClient.IS_EM?(t*=p.scale,e*=p.scale):(t+=p.dx,e+=p.dy,"fill"!=h&&s==mxConstants.ALIGN_TOP&&(e-=1));var m=8!=document.documentMode||mxClient.IS_EM?this.createElement("div"):this.createVmlElement("group");m.style.position="absolute",m.style.display="inline",m.style.left=this.format(t)+"px",m.style.top=this.format(e)+"px",m.style.zoom=p.scale;var g=this.createElement("div");g.style.position="relative",g.style.display="inline";var v=mxUtils.getAlignmentAsPoint(o,s),A=v.x,y=v.y,x=this.createDiv(r,o,s,h),b=this.createElement("div");if(null!=d&&x.setAttribute("dir",d),a&&i>0){if(u||(x.style.width=Math.round(i)+"px"),x.style.wordWrap=mxConstants.WORD_WRAP,x.style.whiteSpace="normal","break-word"==x.style.wordWrap)null!=(B=x).firstChild&&"DIV"==B.firstChild.nodeName&&(B.firstChild.style.width="100%")}else x.style.whiteSpace="nowrap";var C=p.rotation+(c||0);if(this.rotateHtml&&0!=C?(b.style.display="inline",b.style.zoom="1",b.appendChild(x),8!=document.documentMode||mxClient.IS_EM||"DIV"==this.root.nodeName?m.appendChild(b):(g.appendChild(b),m.appendChild(g))):8!=document.documentMode||mxClient.IS_EM?(x.style.display="inline",m.appendChild(x)):(g.appendChild(x),m.appendChild(g)),"DIV"!=this.root.nodeName){var w=this.createVmlElement("rect");w.stroked="false",w.filled="false",w.appendChild(m),this.root.appendChild(w)}else this.root.appendChild(m);if(u?(x.style.overflow="hidden",x.style.width=Math.round(i)+"px",mxClient.IS_QUIRKS||(x.style.maxHeight=Math.round(n)+"px")):"fill"==h?(x.style.overflow="hidden",x.style.width=Math.max(0,i)+1+"px",x.style.height=Math.max(0,n)+1+"px"):"width"==h&&(x.style.overflow="hidden",x.style.width=Math.max(0,i)+1+"px",x.style.maxHeight=Math.max(0,n)+1+"px"),this.rotateHtml&&0!=C){var E=C*(Math.PI/180),S=parseFloat(parseFloat(Math.cos(E)).toFixed(8)),T=parseFloat(parseFloat(Math.sin(-E)).toFixed(8));(E%=2*Math.PI)<0&&(E+=2*Math.PI),(E%=Math.PI)>Math.PI/2&&(E=Math.PI-E);var _=Math.cos(E),M=Math.sin(E);8!=document.documentMode||mxClient.IS_EM||(x.style.display="inline-block",b.style.display="inline-block",g.style.display="inline-block"),x.style.visibility="hidden",x.style.position="absolute",document.body.appendChild(x);var k=x;null!=k.firstChild&&"DIV"==k.firstChild.nodeName&&(k=k.firstChild);var B=k.offsetWidth+3,O=k.offsetHeight;u?(i=Math.min(i,B),O=Math.min(O,n)):i=B,a&&(x.style.width=i+"px"),mxClient.IS_QUIRKS&&(u||"width"==h)&&O>n&&(O=n,x.style.height=O+"px");var P=((n=O)-n*_+i*-M)/2-T*i*(A+.5)+S*n*(y+.5),L=(i-i*_+n*-M)/2+S*i*(A+.5)+T*n*(y+.5);if("group"==m.nodeName&&"DIV"==this.root.nodeName){var N=this.createElement("div");N.style.display="inline-block",N.style.position="absolute",N.style.left=this.format(t+(L-i/2)*p.scale)+"px",N.style.top=this.format(e+(P-n/2)*p.scale)+"px",m.parentNode.appendChild(N),N.appendChild(m)}else{var I=8!=document.documentMode||mxClient.IS_EM?p.scale:1;m.style.left=this.format(t+(L-i/2)*I)+"px",m.style.top=this.format(e+(P-n/2)*I)+"px"}b.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+S+", M12="+T+", M21="+-T+", M22="+S+", sizingMethod='auto expand')",b.style.backgroundColor=this.rotatedHtmlBackground,this.state.alpha<1&&(b.style.filter+="alpha(opacity="+100*this.state.alpha+")"),b.appendChild(x),x.style.position="",x.style.visibility=""}else if(8!=document.documentMode||mxClient.IS_EM){x.style.verticalAlign="top",this.state.alpha<1&&(m.style.filter="alpha(opacity="+100*this.state.alpha+")");var D=x.parentNode;x.style.visibility="hidden",document.body.appendChild(x),i=x.offsetWidth;O=x.offsetHeight;mxClient.IS_QUIRKS&&u&&O>n&&(O=n,x.style.height=O+"px"),n=O,x.style.visibility="",D.appendChild(x),m.style.left=this.format(t+i*A*this.state.scale)+"px",m.style.top=this.format(e+n*y*this.state.scale)+"px"}else this.state.alpha<1&&(x.style.filter="alpha(opacity="+100*this.state.alpha+")"),g.style.left=100*A+"%",g.style.top=100*y+"%"}else this.plainText(t,e,i,n,mxUtils.htmlEntities(r,!1),o,s,a,l,h,u,c,d)}},mxVmlCanvas2D.prototype.plainText=function(t,e,i,n,r,o,s,a,l,h,u,c,d){var p=this.state;t=(t+p.dx)*p.scale,e=(e+p.dy)*p.scale;var f=this.createVmlElement("shape");f.style.width="1px",f.style.height="1px",f.stroked="false";var m=this.createVmlElement("fill");m.color=p.fontColor,m.opacity=100*p.alpha+"%",f.appendChild(m);var g=this.createVmlElement("path");g.textpathok="true",g.v="m "+this.format(0)+" "+this.format(0)+" l "+this.format(1)+" "+this.format(0),f.appendChild(g);var v=this.createVmlElement("textpath");v.style.cssText="v-text-align:"+o,v.style.align=o,v.style.fontFamily=p.fontFamily,v.string=r,v.on="true";var A=p.fontSize*p.scale/this.vmlScale;v.style.fontSize=A+"px",(p.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&(v.style.fontWeight="bold"),(p.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&(v.style.fontStyle="italic"),(p.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&(v.style.textDecoration="underline");var y=A+(r.split("\n").length-1)*A*mxConstants.LINE_HEIGHT,x=0,b=0;if(s==mxConstants.ALIGN_BOTTOM?b=-y/2:s!=mxConstants.ALIGN_MIDDLE&&(b=y/2),null!=c){f.style.rotation=c;var C=c*(Math.PI/180);x=Math.sin(C)*b,b=Math.cos(C)*b}f.appendChild(v),f.style.left=this.format(t-x)+"px",f.style.top=this.format(e+b)+"px",this.root.appendChild(f)},mxVmlCanvas2D.prototype.stroke=function(){this.addNode(!1,!0)},mxVmlCanvas2D.prototype.fill=function(){this.addNode(!0,!1)},mxVmlCanvas2D.prototype.fillAndStroke=function(){this.addNode(!0,!0)},__mxOutput.mxVmlCanvas2D=void 0!==mxVmlCanvas2D?mxVmlCanvas2D:void 0,mxGuide.prototype.graph=null,mxGuide.prototype.states=null,mxGuide.prototype.horizontal=!0,mxGuide.prototype.vertical=!0,mxGuide.prototype.guideX=null,mxGuide.prototype.guideY=null,mxGuide.prototype.rounded=!1,mxGuide.prototype.setStates=function(t){this.states=t},mxGuide.prototype.isEnabledForEvent=function(t){return!0},mxGuide.prototype.getGuideTolerance=function(){return this.graph.gridSize/2},mxGuide.prototype.createGuideShape=function(t){var e=new mxPolyline([],mxConstants.GUIDE_COLOR,mxConstants.GUIDE_STROKEWIDTH);return e.isDashed=!0,e},mxGuide.prototype.isStateIgnored=function(t){return!1},mxGuide.prototype.move=function(t,e,i,n){if(null!=this.states&&(this.horizontal||this.vertical)&&null!=t&&null!=e){var r=this.graph.getView().translate,o=this.graph.getView().scale,s=e.x,a=e.y,l=!1,h=null,u=null,c=!1,d=null,p=null,f=this.getGuideTolerance(),m=f,g=f,v=t.clone();v.x+=e.x,v.y+=e.y;var A=v.x,y=v.x+v.width,x=v.getCenterX(),b=v.y,C=v.y+v.height,w=v.getCenterY();function E(e,i){e+=this.graph.panDx;var n=!1;Math.abs(e-x)<m?(s=e-t.getCenterX(),m=Math.abs(e-x),n=!0):Math.abs(e-A)<m?(s=e-t.x,m=Math.abs(e-A),n=!0):Math.abs(e-y)<m&&(s=e-t.x-t.width,m=Math.abs(e-y),n=!0),n&&(h=i,u=Math.round(e-this.graph.panDx),null==this.guideX&&(this.guideX=this.createGuideShape(!0),this.guideX.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,this.guideX.pointerEvents=!1,this.guideX.init(this.graph.getView().getOverlayPane()))),l=l||n}function S(e,i){e+=this.graph.panDy;var n=!1;Math.abs(e-w)<g?(a=e-t.getCenterY(),g=Math.abs(e-w),n=!0):Math.abs(e-b)<g?(a=e-t.y,g=Math.abs(e-b),n=!0):Math.abs(e-C)<g&&(a=e-t.y-t.height,g=Math.abs(e-C),n=!0),n&&(d=i,p=Math.round(e-this.graph.panDy),null==this.guideY&&(this.guideY=this.createGuideShape(!1),this.guideY.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,this.guideY.pointerEvents=!1,this.guideY.init(this.graph.getView().getOverlayPane()))),c=c||n}for(var T=0;T<this.states.length;T++){var _=this.states[T];null==_||this.isStateIgnored(_)||(this.horizontal&&(E.call(this,_.getCenterX(),_),E.call(this,_.x,_),E.call(this,_.x+_.width,_)),this.vertical&&(S.call(this,_.getCenterY(),_),S.call(this,_.y,_),S.call(this,_.y+_.height,_)))}if(i){if(!l){var M=t.x-(this.graph.snap(t.x/o-r.x)+r.x)*o;s=this.graph.snap(s/o)*o-M}if(!c){var k=t.y-(this.graph.snap(t.y/o-r.y)+r.y)*o;a=this.graph.snap(a/o)*o-k}}var B=this.graph.container;if(l||null==this.guideX){if(null!=this.guideX){var O=null,P=null;null!=h&&null!=t&&(O=Math.min(t.y+a-this.graph.panDy,h.y),P=Math.max(t.y+t.height+a-this.graph.panDy,h.y+h.height)),this.guideX.points=null!=O&&null!=P?[new mxPoint(u,O),new mxPoint(u,P)]:[new mxPoint(u,-this.graph.panDy),new mxPoint(u,B.scrollHeight-3-this.graph.panDy)],this.guideX.stroke=this.getGuideColor(h,!0),this.guideX.node.style.visibility="visible",this.guideX.redraw()}}else this.guideX.node.style.visibility="hidden";if(c||null==this.guideY){if(null!=this.guideY){var L=null,N=null;null!=d&&null!=t&&(L=Math.min(t.x+s-this.graph.panDx,d.x),N=Math.max(t.x+t.width+s-this.graph.panDx,d.x+d.width)),this.guideY.points=null!=L&&null!=N?[new mxPoint(L,p),new mxPoint(N,p)]:[new mxPoint(-this.graph.panDx,p),new mxPoint(B.scrollWidth-3-this.graph.panDx,p)],this.guideY.stroke=this.getGuideColor(d,!1),this.guideY.node.style.visibility="visible",this.guideY.redraw()}}else this.guideY.node.style.visibility="hidden";e=this.getDelta(t,h,s,d,a)}return e},mxGuide.prototype.getDelta=function(t,e,i,n,r){return(this.rounded||null!=e&&null==e.cell)&&(i=Math.floor(t.x+i)-t.x),(this.rounded||null!=n&&null==n.cell)&&(r=Math.floor(t.y+r)-t.y),new mxPoint(i,r)},mxGuide.prototype.getGuideColor=function(t,e){return mxConstants.GUIDE_COLOR},mxGuide.prototype.hide=function(){this.setVisible(!1)},mxGuide.prototype.setVisible=function(t){null!=this.guideX&&(this.guideX.node.style.visibility=t?"visible":"hidden"),null!=this.guideY&&(this.guideY.node.style.visibility=t?"visible":"hidden")},mxGuide.prototype.destroy=function(){null!=this.guideX&&(this.guideX.destroy(),this.guideX=null),null!=this.guideY&&(this.guideY.destroy(),this.guideY=null)},__mxOutput.mxGuide=void 0!==mxGuide?mxGuide:void 0,mxShape.prototype.dialect=null,mxShape.prototype.scale=1,mxShape.prototype.antiAlias=!0,mxShape.prototype.minSvgStrokeWidth=1,mxShape.prototype.bounds=null,mxShape.prototype.points=null,mxShape.prototype.node=null,mxShape.prototype.state=null,mxShape.prototype.style=null,mxShape.prototype.boundingBox=null,mxShape.prototype.stencil=null,mxShape.prototype.svgStrokeTolerance=8,mxShape.prototype.pointerEvents=!0,mxShape.prototype.svgPointerEvents="all",mxShape.prototype.shapePointerEvents=!1,mxShape.prototype.stencilPointerEvents=!1,mxShape.prototype.vmlScale=1,mxShape.prototype.outline=!1,mxShape.prototype.visible=!0,mxShape.prototype.useSvgBoundingBox=!1,mxShape.prototype.init=function(t){null==this.node&&(this.node=this.create(t),null!=t&&t.appendChild(this.node))},mxShape.prototype.initStyles=function(t){this.strokewidth=1,this.rotation=0,this.opacity=100,this.fillOpacity=100,this.strokeOpacity=100,this.flipH=!1,this.flipV=!1},mxShape.prototype.isParseVml=function(){return!0},mxShape.prototype.isHtmlAllowed=function(){return!1},mxShape.prototype.getSvgScreenOffset=function(){var t=this.stencil&&"inherit"!=this.stencil.strokewidth?Number(this.stencil.strokewidth):this.strokewidth;return 1==mxUtils.mod(Math.max(1,Math.round(t*this.scale)),2)?.5:0},mxShape.prototype.create=function(t){return null!=t&&null!=t.ownerSVGElement?this.createSvg(t):8==document.documentMode||!mxClient.IS_VML||this.dialect!=mxConstants.DIALECT_VML&&this.isHtmlAllowed()?this.createHtml(t):this.createVml(t)},mxShape.prototype.createSvg=function(){return document.createElementNS(mxConstants.NS_SVG,"g")},mxShape.prototype.createVml=function(){var t=document.createElement(mxClient.VML_PREFIX+":group");return t.style.position="absolute",t},mxShape.prototype.createHtml=function(){var t=document.createElement("div");return t.style.position="absolute",t},mxShape.prototype.reconfigure=function(){this.redraw()},mxShape.prototype.redraw=function(){this.updateBoundsFromPoints(),this.visible&&this.checkBounds()?(this.node.style.visibility="visible",this.clear(),"DIV"!=this.node.nodeName||!this.isHtmlAllowed()&&mxClient.IS_VML?this.redrawShape():this.redrawHtmlShape(),this.updateBoundingBox()):(this.node.style.visibility="hidden",this.boundingBox=null)},mxShape.prototype.clear=function(){if(null!=this.node.ownerSVGElement)for(;null!=this.node.lastChild;)this.node.removeChild(this.node.lastChild);else this.node.style.cssText="position:absolute;"+(null!=this.cursor?"cursor:"+this.cursor+";":""),this.node.innerHTML=""},mxShape.prototype.updateBoundsFromPoints=function(){var t=this.points;if(null!=t&&t.length>0&&null!=t[0]){this.bounds=new mxRectangle(Number(t[0].x),Number(t[0].y),1,1);for(var e=1;e<this.points.length;e++)null!=t[e]&&this.bounds.add(new mxRectangle(Number(t[e].x),Number(t[e].y),1,1))}},mxShape.prototype.getLabelBounds=function(t){var e=mxUtils.getValue(this.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST),i=t;if(e!=mxConstants.DIRECTION_SOUTH&&e!=mxConstants.DIRECTION_NORTH&&null!=this.state&&null!=this.state.text&&this.state.text.isPaintBoundsInverted()){var n=(i=i.clone()).width;i.width=i.height,i.height=n}var r=this.getLabelMargins(i);if(null!=r){var o="1"==mxUtils.getValue(this.style,mxConstants.STYLE_FLIPH,!1),s="1"==mxUtils.getValue(this.style,mxConstants.STYLE_FLIPV,!1);if(null!=this.state&&null!=this.state.text&&this.state.text.isPaintBoundsInverted()){n=r.x;r.x=r.height,r.height=r.width,r.width=r.y,r.y=n,n=o,o=s,s=n}return mxUtils.getDirectedBounds(t,r,this.style,o,s)}return t},mxShape.prototype.getLabelMargins=function(t){return null},mxShape.prototype.checkBounds=function(){return!isNaN(this.scale)&&isFinite(this.scale)&&this.scale>0&&null!=this.bounds&&!isNaN(this.bounds.x)&&!isNaN(this.bounds.y)&&!isNaN(this.bounds.width)&&!isNaN(this.bounds.height)&&this.bounds.width>0&&this.bounds.height>0},mxShape.prototype.createVmlGroup=function(){var t=document.createElement(mxClient.VML_PREFIX+":group");return t.style.position="absolute",t.style.width=this.node.style.width,t.style.height=this.node.style.height,t},mxShape.prototype.redrawShape=function(){var t=this.createCanvas();null!=t&&(t.pointerEvents=this.pointerEvents,this.paint(t),this.node!=t.root&&this.node.insertAdjacentHTML("beforeend",t.root.outerHTML),"DIV"==this.node.nodeName&&8==document.documentMode&&(this.node.style.filter="",mxUtils.addTransparentBackgroundFilter(this.node)),this.destroyCanvas(t))},mxShape.prototype.createCanvas=function(){var t=null;return null!=this.node.ownerSVGElement?t=this.createSvgCanvas():mxClient.IS_VML&&(this.updateVmlContainer(),t=this.createVmlCanvas()),null!=t&&this.outline&&(t.setStrokeWidth(this.strokewidth),t.setStrokeColor(this.stroke),null!=this.isDashed&&t.setDashed(this.isDashed),t.setStrokeWidth=function(){},t.setStrokeColor=function(){},t.setFillColor=function(){},t.setGradient=function(){},t.setDashed=function(){},t.text=function(){}),t},mxShape.prototype.createSvgCanvas=function(){var t=new mxSvgCanvas2D(this.node,!1);t.strokeTolerance=this.pointerEvents?this.svgStrokeTolerance:0,t.pointerEventsValue=this.svgPointerEvents,t.blockImagePointerEvents=mxClient.IS_FF;var e=this.getSvgScreenOffset();return 0!=e?this.node.setAttribute("transform","translate("+e+","+e+")"):this.node.removeAttribute("transform"),t.minStrokeWidth=this.minSvgStrokeWidth,this.antiAlias||(t.format=function(t){return Math.round(parseFloat(t))}),t},mxShape.prototype.createVmlCanvas=function(){var t=8==document.documentMode&&this.isParseVml()?this.createVmlGroup():this.node,e=new mxVmlCanvas2D(t,!1);if(""!=t.tagUrn){var i=Math.max(1,Math.round(this.bounds.width)),n=Math.max(1,Math.round(this.bounds.height));t.coordsize=i*this.vmlScale+","+n*this.vmlScale,e.scale(this.vmlScale),e.vmlScale=this.vmlScale}var r=this.scale;return e.translate(-Math.round(this.bounds.x/r),-Math.round(this.bounds.y/r)),e},mxShape.prototype.updateVmlContainer=function(){this.node.style.left=Math.round(this.bounds.x)+"px",this.node.style.top=Math.round(this.bounds.y)+"px";var t=Math.max(1,Math.round(this.bounds.width)),e=Math.max(1,Math.round(this.bounds.height));this.node.style.width=t+"px",this.node.style.height=e+"px",this.node.style.overflow="visible"},mxShape.prototype.redrawHtmlShape=function(){this.updateHtmlBounds(this.node),this.updateHtmlFilters(this.node),this.updateHtmlColors(this.node)},mxShape.prototype.updateHtmlFilters=function(t){var e="";if(this.opacity<100&&(e+="alpha(opacity="+this.opacity+")"),this.isShadow&&(e+="progid:DXImageTransform.Microsoft.dropShadow (OffX='"+Math.round(mxConstants.SHADOW_OFFSET_X*this.scale)+"', OffY='"+Math.round(mxConstants.SHADOW_OFFSET_Y*this.scale)+"', Color='"+mxConstants.VML_SHADOWCOLOR+"')"),null!=this.fill&&this.fill!=mxConstants.NONE&&this.gradient&&this.gradient!=mxConstants.NONE){var i=this.fill,n=this.gradient,r="0",o={east:0,south:1,west:2,north:3},s=null!=this.direction?o[this.direction]:0;if(null!=this.gradientDirection&&(s=mxUtils.mod(s+o[this.gradientDirection]-1,4)),1==s){r="1";var a=i;i=n,n=a}else if(2==s){a=i;i=n,n=a}else 3==s&&(r="1");e+="progid:DXImageTransform.Microsoft.gradient(startColorStr='"+i+"', endColorStr='"+n+"', gradientType='"+r+"')"}t.style.filter=e},mxShape.prototype.updateHtmlColors=function(t){var e=this.stroke;null!=e&&e!=mxConstants.NONE?(t.style.borderColor=e,this.isDashed?t.style.borderStyle="dashed":this.strokewidth>0&&(t.style.borderStyle="solid"),t.style.borderWidth=Math.max(1,Math.ceil(this.strokewidth*this.scale))+"px"):t.style.borderWidth="0px",null!=(e=this.outline?null:this.fill)&&e!=mxConstants.NONE?(t.style.backgroundColor=e,t.style.backgroundImage="none"):this.pointerEvents?t.style.backgroundColor="transparent":8==document.documentMode?mxUtils.addTransparentBackgroundFilter(t):this.setTransparentBackgroundImage(t)},mxShape.prototype.updateHtmlBounds=function(t){var e=document.documentMode>=9?0:Math.ceil(this.strokewidth*this.scale);t.style.borderWidth=Math.max(1,e)+"px",t.style.overflow="hidden",t.style.left=Math.round(this.bounds.x-e/2)+"px",t.style.top=Math.round(this.bounds.y-e/2)+"px","CSS1Compat"==document.compatMode&&(e=-e),t.style.width=Math.round(Math.max(0,this.bounds.width+e))+"px",t.style.height=Math.round(Math.max(0,this.bounds.height+e))+"px"},mxShape.prototype.destroyCanvas=function(t){if(t instanceof mxSvgCanvas2D){for(var e in t.gradients){var i=t.gradients[e];null!=i&&(i.mxRefCount=(i.mxRefCount||0)+1)}this.releaseSvgGradients(this.oldGradients),this.oldGradients=t.gradients}},mxShape.prototype.paint=function(t){var e=!1;if(null!=t&&this.outline){var i=t.stroke;t.stroke=function(){e=!0,i.apply(this,arguments)};var n=t.fillAndStroke;t.fillAndStroke=function(){e=!0,n.apply(this,arguments)}}var r=this.scale,o=this.bounds.x/r,s=this.bounds.y/r,a=this.bounds.width/r,l=this.bounds.height/r;if(this.isPaintBoundsInverted()){var h=(a-l)/2;o+=h,s-=h;var u=a;a=l,l=u}this.updateTransform(t,o,s,a,l),this.configureCanvas(t,o,s,a,l);var c=null;if(null==this.stencil&&null==this.points&&this.shapePointerEvents||null!=this.stencil&&this.stencilPointerEvents){var d=this.createBoundingBox();if(this.dialect==mxConstants.DIALECT_SVG)c=this.createTransparentSvgRectangle(d.x,d.y,d.width,d.height),this.node.appendChild(c);else{var p=t.createRect("rect",d.x/r,d.y/r,d.width/r,d.height/r);p.appendChild(t.createTransparentFill()),p.stroked="false",t.root.appendChild(p)}}if(null!=this.stencil)this.stencil.drawShape(t,this,o,s,a,l);else if(t.setStrokeWidth(this.strokewidth),null!=this.points){for(var f=[],m=0;m<this.points.length;m++)null!=this.points[m]&&f.push(new mxPoint(this.points[m].x/r,this.points[m].y/r));this.paintEdgeShape(t,f)}else this.paintVertexShape(t,o,s,a,l);null!=c&&null!=t.state&&null!=t.state.transform&&c.setAttribute("transform",t.state.transform),null!=t&&this.outline&&!e&&(t.rect(o,s,a,l),t.stroke())},mxShape.prototype.configureCanvas=function(t,e,i,n,r){var o=null;if(null!=this.style&&(o=this.style.dashPattern),t.setAlpha(this.opacity/100),t.setFillAlpha(this.fillOpacity/100),t.setStrokeAlpha(this.strokeOpacity/100),null!=this.isShadow&&t.setShadow(this.isShadow),null!=this.isDashed&&t.setDashed(this.isDashed,null!=this.style&&1==mxUtils.getValue(this.style,mxConstants.STYLE_FIX_DASH,!1)),null!=o&&t.setDashPattern(o),null!=this.fill&&this.fill!=mxConstants.NONE&&this.gradient&&this.gradient!=mxConstants.NONE){var s=this.getGradientBounds(t,e,i,n,r);t.setGradient(this.fill,this.gradient,s.x,s.y,s.width,s.height,this.gradientDirection)}else t.setFillColor(this.fill);t.setStrokeColor(this.stroke)},mxShape.prototype.getGradientBounds=function(t,e,i,n,r){return new mxRectangle(e,i,n,r)},mxShape.prototype.updateTransform=function(t,e,i,n,r){t.scale(this.scale),t.rotate(this.getShapeRotation(),this.flipH,this.flipV,e+n/2,i+r/2)},mxShape.prototype.paintVertexShape=function(t,e,i,n,r){this.paintBackground(t,e,i,n,r),this.outline&&null!=this.style&&0!=mxUtils.getValue(this.style,mxConstants.STYLE_BACKGROUND_OUTLINE,0)||(t.setShadow(!1),this.paintForeground(t,e,i,n,r))},mxShape.prototype.paintBackground=function(t,e,i,n,r){},mxShape.prototype.paintForeground=function(t,e,i,n,r){},mxShape.prototype.paintEdgeShape=function(t,e){},mxShape.prototype.getArcSize=function(t,e){var i=0;if("1"==mxUtils.getValue(this.style,mxConstants.STYLE_ABSOLUTE_ARCSIZE,0))i=Math.min(t/2,Math.min(e/2,mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2));else{var n=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100;i=Math.min(t*n,e*n)}return i},mxShape.prototype.paintGlassEffect=function(t,e,i,n,r,o){var s=Math.ceil(this.strokewidth/2);t.setGradient("#ffffff","#ffffff",e,i,n,.6*r,"south",.9,.1),t.begin(),o+=2*s,this.isRounded?(t.moveTo(e-s+o,i-s),t.quadTo(e-s,i-s,e-s,i-s+o),t.lineTo(e-s,i+.4*r),t.quadTo(e+.5*n,i+.7*r,e+n+s,i+.4*r),t.lineTo(e+n+s,i-s+o),t.quadTo(e+n+s,i-s,e+n+s-o,i-s)):(t.moveTo(e-s,i-s),t.lineTo(e-s,i+.4*r),t.quadTo(e+.5*n,i+.7*r,e+n+s,i+.4*r),t.lineTo(e+n+s,i-s)),t.close(),t.fill()},mxShape.prototype.addPoints=function(t,e,i,n,r,o,s){if(null!=e&&e.length>0){s=null==s||s;var a=e[e.length-1];if(r&&i){var l=(e=e.slice())[0],h=new mxPoint(a.x+(l.x-a.x)/2,a.y+(l.y-a.y)/2);e.splice(0,0,h)}var u=e[0],c=1;for(s?t.moveTo(u.x,u.y):t.lineTo(u.x,u.y);c<(r?e.length:e.length-1);){var d=e[mxUtils.mod(c,e.length)],p=u.x-d.x,f=u.y-d.y;if(i&&(0!=p||0!=f)&&(null==o||mxUtils.indexOf(o,c-1)<0)){var m=Math.sqrt(p*p+f*f),g=p*Math.min(n,m/2)/m,v=f*Math.min(n,m/2)/m,A=d.x+g,y=d.y+v;t.lineTo(A,y);for(var x=e[mxUtils.mod(c+1,e.length)];c<e.length-2&&0==Math.round(x.x-d.x)&&0==Math.round(x.y-d.y);)x=e[mxUtils.mod(c+2,e.length)],c++;p=x.x-d.x,f=x.y-d.y,m=Math.max(1,Math.sqrt(p*p+f*f));var b=p*Math.min(n,m/2)/m,C=f*Math.min(n,m/2)/m,w=d.x+b,E=d.y+C;t.quadTo(d.x,d.y,w,E),d=new mxPoint(w,E)}else t.lineTo(d.x,d.y);u=d,c++}r?t.close():t.lineTo(a.x,a.y)}},mxShape.prototype.resetStyles=function(){this.initStyles(),this.spacing=0,delete this.fill,delete this.gradient,delete this.gradientDirection,delete this.stroke,delete this.startSize,delete this.endSize,delete this.startArrow,delete this.endArrow,delete this.direction,delete this.isShadow,delete this.isDashed,delete this.isRounded,delete this.glass},mxShape.prototype.apply=function(t){if(this.state=t,this.style=t.style,null!=this.style){if(this.fill=mxUtils.getValue(this.style,mxConstants.STYLE_FILLCOLOR,this.fill),this.gradient=mxUtils.getValue(this.style,mxConstants.STYLE_GRADIENTCOLOR,this.gradient),this.gradientDirection=mxUtils.getValue(this.style,mxConstants.STYLE_GRADIENT_DIRECTION,this.gradientDirection),this.opacity=mxUtils.getValue(this.style,mxConstants.STYLE_OPACITY,this.opacity),this.fillOpacity=mxUtils.getValue(this.style,mxConstants.STYLE_FILL_OPACITY,this.fillOpacity),this.strokeOpacity=mxUtils.getValue(this.style,mxConstants.STYLE_STROKE_OPACITY,this.strokeOpacity),this.stroke=mxUtils.getValue(this.style,mxConstants.STYLE_STROKECOLOR,this.stroke),this.strokewidth=mxUtils.getNumber(this.style,mxConstants.STYLE_STROKEWIDTH,this.strokewidth),this.spacing=mxUtils.getValue(this.style,mxConstants.STYLE_SPACING,this.spacing),this.startSize=mxUtils.getNumber(this.style,mxConstants.STYLE_STARTSIZE,this.startSize),this.endSize=mxUtils.getNumber(this.style,mxConstants.STYLE_ENDSIZE,this.endSize),this.startArrow=mxUtils.getValue(this.style,mxConstants.STYLE_STARTARROW,this.startArrow),this.endArrow=mxUtils.getValue(this.style,mxConstants.STYLE_ENDARROW,this.endArrow),this.rotation=mxUtils.getValue(this.style,mxConstants.STYLE_ROTATION,this.rotation),this.direction=mxUtils.getValue(this.style,mxConstants.STYLE_DIRECTION,this.direction),this.flipH=1==mxUtils.getValue(this.style,mxConstants.STYLE_FLIPH,0),this.flipV=1==mxUtils.getValue(this.style,mxConstants.STYLE_FLIPV,0),null!=this.stencil&&(this.flipH=1==mxUtils.getValue(this.style,"stencilFlipH",0)||this.flipH,this.flipV=1==mxUtils.getValue(this.style,"stencilFlipV",0)||this.flipV),this.direction==mxConstants.DIRECTION_NORTH||this.direction==mxConstants.DIRECTION_SOUTH){var e=this.flipH;this.flipH=this.flipV,this.flipV=e}this.isShadow=1==mxUtils.getValue(this.style,mxConstants.STYLE_SHADOW,this.isShadow),this.isDashed=1==mxUtils.getValue(this.style,mxConstants.STYLE_DASHED,this.isDashed),this.isRounded=1==mxUtils.getValue(this.style,mxConstants.STYLE_ROUNDED,this.isRounded),this.glass=1==mxUtils.getValue(this.style,mxConstants.STYLE_GLASS,this.glass),this.fill==mxConstants.NONE&&(this.fill=null),this.gradient==mxConstants.NONE&&(this.gradient=null),this.stroke==mxConstants.NONE&&(this.stroke=null)}},mxShape.prototype.setCursor=function(t){null==t&&(t=""),this.cursor=t,null!=this.node&&(this.node.style.cursor=t)},mxShape.prototype.getCursor=function(){return this.cursor},mxShape.prototype.isRoundable=function(){return!1},mxShape.prototype.updateBoundingBox=function(){if(this.useSvgBoundingBox&&null!=this.node&&null!=this.node.ownerSVGElement)try{var t=this.node.getBBox();if(t.width>0&&t.height>0)return this.boundingBox=new mxRectangle(t.x,t.y,t.width,t.height),void this.boundingBox.grow(this.strokewidth*this.scale/2)}catch(t){}if(null!=this.bounds){var e=this.createBoundingBox();if(null!=e){this.augmentBoundingBox(e);var i=this.getShapeRotation();0!=i&&(e=mxUtils.getBoundingBox(e,i))}this.boundingBox=e}},mxShape.prototype.createBoundingBox=function(){var t=this.bounds.clone();return(null!=this.stencil&&(this.direction==mxConstants.DIRECTION_NORTH||this.direction==mxConstants.DIRECTION_SOUTH)||this.isPaintBoundsInverted())&&t.rotate90(),t},mxShape.prototype.augmentBoundingBox=function(t){this.isShadow&&(t.width+=Math.ceil(mxConstants.SHADOW_OFFSET_X*this.scale),t.height+=Math.ceil(mxConstants.SHADOW_OFFSET_Y*this.scale)),t.grow(this.strokewidth*this.scale/2)},mxShape.prototype.isPaintBoundsInverted=function(){return null==this.stencil&&(this.direction==mxConstants.DIRECTION_NORTH||this.direction==mxConstants.DIRECTION_SOUTH)},mxShape.prototype.getRotation=function(){return null!=this.rotation?this.rotation:0},mxShape.prototype.getTextRotation=function(){var t=this.getRotation();return 1!=mxUtils.getValue(this.style,mxConstants.STYLE_HORIZONTAL,1)&&(t+=mxText.prototype.verticalTextRotation),t},mxShape.prototype.getShapeRotation=function(){var t=this.getRotation();return null!=this.direction&&(this.direction==mxConstants.DIRECTION_NORTH?t+=270:this.direction==mxConstants.DIRECTION_WEST?t+=180:this.direction==mxConstants.DIRECTION_SOUTH&&(t+=90)),t},mxShape.prototype.createTransparentSvgRectangle=function(t,e,i,n){var r=document.createElementNS(mxConstants.NS_SVG,"rect");return r.setAttribute("x",t),r.setAttribute("y",e),r.setAttribute("width",i),r.setAttribute("height",n),r.setAttribute("fill","none"),r.setAttribute("stroke","none"),r.setAttribute("pointer-events","all"),r},mxShape.prototype.setTransparentBackgroundImage=function(t){t.style.backgroundImage="url('"+mxClient.imageBasePath+"/transparent.gif')"},mxShape.prototype.releaseSvgGradients=function(t){if(null!=t)for(var e in t){var i=t[e];null!=i&&(i.mxRefCount=(i.mxRefCount||0)-1,0==i.mxRefCount&&null!=i.parentNode&&i.parentNode.removeChild(i))}},mxShape.prototype.destroy=function(){null!=this.node&&(mxEvent.release(this.node),null!=this.node.parentNode&&this.node.parentNode.removeChild(this.node),this.node=null),this.releaseSvgGradients(this.oldGradients),this.oldGradients=null},__mxOutput.mxShape=void 0!==mxShape?mxShape:void 0,mxUtils.extend(mxStencil,mxShape),mxStencil.defaultLocalized=!1,mxStencil.allowEval=!1,mxStencil.prototype.desc=null,mxStencil.prototype.constraints=null,mxStencil.prototype.aspect=null,mxStencil.prototype.w0=null,mxStencil.prototype.h0=null,mxStencil.prototype.bgNode=null,mxStencil.prototype.fgNode=null,mxStencil.prototype.strokewidth=null,mxStencil.prototype.parseDescription=function(){this.fgNode=this.desc.getElementsByTagName("foreground")[0],this.bgNode=this.desc.getElementsByTagName("background")[0],this.w0=Number(this.desc.getAttribute("w")||100),this.h0=Number(this.desc.getAttribute("h")||100);var t=this.desc.getAttribute("aspect");this.aspect=null!=t?t:"variable";var e=this.desc.getAttribute("strokewidth");this.strokewidth=null!=e?e:"1"},mxStencil.prototype.parseConstraints=function(){var t=this.desc.getElementsByTagName("connections")[0];if(null!=t){var e=mxUtils.getChildNodes(t);if(null!=e&&e.length>0){this.constraints=[];for(var i=0;i<e.length;i++)this.constraints.push(this.parseConstraint(e[i]))}}},mxStencil.prototype.parseConstraint=function(t){var e=Number(t.getAttribute("x")),i=Number(t.getAttribute("y")),n="1"==t.getAttribute("perimeter"),r=t.getAttribute("name");return new mxConnectionConstraint(new mxPoint(e,i),n,r)},mxStencil.prototype.evaluateTextAttribute=function(t,e,i){var n=this.evaluateAttribute(t,e,i),r=t.getAttribute("localized");return(mxStencil.defaultLocalized&&null==r||"1"==r)&&(n=mxResources.get(n)),n},mxStencil.prototype.evaluateAttribute=function(t,e,i){var n=t.getAttribute(e);if(null==n){var r=mxUtils.getTextContent(t);if(null!=r&&mxStencil.allowEval){var o=mxUtils.eval(r);"function"==typeof o&&(n=o(i))}}return n},mxStencil.prototype.drawShape=function(t,e,i,n,r,o){var s=mxUtils.getValue(e.style,mxConstants.STYLE_DIRECTION,null),a=this.computeAspect(e.style,i,n,r,o,s),l=Math.min(a.width,a.height),h="inherit"==this.strokewidth?Number(mxUtils.getNumber(e.style,mxConstants.STYLE_STROKEWIDTH,1)):Number(this.strokewidth)*l;t.setStrokeWidth(h),null!=e.style&&"1"==mxUtils.getValue(e.style,mxConstants.STYLE_POINTER_EVENTS,"0")&&(t.setStrokeColor(mxConstants.NONE),t.rect(i,n,r,o),t.stroke(),t.setStrokeColor(e.stroke)),this.drawChildren(t,e,i,n,r,o,this.bgNode,a,!1,!0),this.drawChildren(t,e,i,n,r,o,this.fgNode,a,!0,!e.outline||null==e.style||0==mxUtils.getValue(e.style,mxConstants.STYLE_BACKGROUND_OUTLINE,0))},mxStencil.prototype.drawChildren=function(t,e,i,n,r,o,s,a,l,h){if(null!=s&&r>0&&o>0)for(var u=s.firstChild;null!=u;)u.nodeType==mxConstants.NODETYPE_ELEMENT&&this.drawNode(t,e,u,a,l,h),u=u.nextSibling},mxStencil.prototype.computeAspect=function(t,e,i,n,r,o){var s=e,a=i,l=n/this.w0,h=r/this.h0,u=o==mxConstants.DIRECTION_NORTH||o==mxConstants.DIRECTION_SOUTH;if(u){h=n/this.h0,l=r/this.w0;var c=(n-r)/2;s+=c,a-=c}return"fixed"==this.aspect&&(l=h=Math.min(l,h),u?(s+=(r-this.w0*l)/2,a+=(n-this.h0*h)/2):(s+=(n-this.w0*l)/2,a+=(r-this.h0*h)/2)),new mxRectangle(s,a,l,h)},mxStencil.prototype.drawNode=function(t,e,i,n,r,o){var s=i.nodeName,a=n.x,l=n.y,h=n.width,u=n.height,c=Math.min(h,u);if("save"==s)t.save();else if("restore"==s)t.restore();else if(o){if("path"==s){t.begin();var d=!0;if("1"==i.getAttribute("rounded")){d=!1;for(var p=Number(i.getAttribute("arcSize")),f=0,m=[],g=i.firstChild;null!=g;){if(g.nodeType==mxConstants.NODETYPE_ELEMENT){var v=g.nodeName;if("move"!=v&&"line"!=v){d=!0;break}"move"!=v&&0!=m.length||m.push([]),m[m.length-1].push(new mxPoint(a+Number(g.getAttribute("x"))*h,l+Number(g.getAttribute("y"))*u)),f++}g=g.nextSibling}if(!d&&f>0)for(var A=0;A<m.length;A++){var y=!1,x=m[A][0],b=m[A][m[A].length-1];x.x==b.x&&x.y==b.y&&(m[A].pop(),y=!0),this.addPoints(t,m[A],!0,p,y)}else d=!0}if(d)for(g=i.firstChild;null!=g;)g.nodeType==mxConstants.NODETYPE_ELEMENT&&this.drawNode(t,e,g,n,r,o),g=g.nextSibling}else if("close"==s)t.close();else if("move"==s)t.moveTo(a+Number(i.getAttribute("x"))*h,l+Number(i.getAttribute("y"))*u);else if("line"==s)t.lineTo(a+Number(i.getAttribute("x"))*h,l+Number(i.getAttribute("y"))*u);else if("quad"==s)t.quadTo(a+Number(i.getAttribute("x1"))*h,l+Number(i.getAttribute("y1"))*u,a+Number(i.getAttribute("x2"))*h,l+Number(i.getAttribute("y2"))*u);else if("curve"==s)t.curveTo(a+Number(i.getAttribute("x1"))*h,l+Number(i.getAttribute("y1"))*u,a+Number(i.getAttribute("x2"))*h,l+Number(i.getAttribute("y2"))*u,a+Number(i.getAttribute("x3"))*h,l+Number(i.getAttribute("y3"))*u);else if("arc"==s)t.arcTo(Number(i.getAttribute("rx"))*h,Number(i.getAttribute("ry"))*u,Number(i.getAttribute("x-axis-rotation")),Number(i.getAttribute("large-arc-flag")),Number(i.getAttribute("sweep-flag")),a+Number(i.getAttribute("x"))*h,l+Number(i.getAttribute("y"))*u);else if("rect"==s)t.rect(a+Number(i.getAttribute("x"))*h,l+Number(i.getAttribute("y"))*u,Number(i.getAttribute("w"))*h,Number(i.getAttribute("h"))*u);else if("roundrect"==s){var C=Number(i.getAttribute("arcsize"));0==C&&(C=100*mxConstants.RECTANGLE_ROUNDING_FACTOR);var w=Number(i.getAttribute("w"))*h,E=Number(i.getAttribute("h"))*u,S=Number(C)/100,T=Math.min(w*S,E*S);t.roundrect(a+Number(i.getAttribute("x"))*h,l+Number(i.getAttribute("y"))*u,w,E,T,T)}else if("ellipse"==s)t.ellipse(a+Number(i.getAttribute("x"))*h,l+Number(i.getAttribute("y"))*u,Number(i.getAttribute("w"))*h,Number(i.getAttribute("h"))*u);else if("image"==s){if(!e.outline){var _=this.evaluateAttribute(i,"src",e);t.image(a+Number(i.getAttribute("x"))*h,l+Number(i.getAttribute("y"))*u,Number(i.getAttribute("w"))*h,Number(i.getAttribute("h"))*u,_,!1,"1"==i.getAttribute("flipH"),"1"==i.getAttribute("flipV"))}}else if("text"==s){if(!e.outline){var M=this.evaluateTextAttribute(i,"str",e),k="1"==i.getAttribute("vertical")?-90:0;if("0"==i.getAttribute("align-shape")){var B=e.rotation,O=1==mxUtils.getValue(e.style,mxConstants.STYLE_FLIPH,0),P=1==mxUtils.getValue(e.style,mxConstants.STYLE_FLIPV,0);O&&P?k-=B:O||P?k+=B:k-=B}k-=i.getAttribute("rotation"),t.text(a+Number(i.getAttribute("x"))*h,l+Number(i.getAttribute("y"))*u,0,0,M,i.getAttribute("align")||"left",i.getAttribute("valign")||"top",!1,"",null,!1,k)}}else if("include-shape"==s){var L=mxStencilRegistry.getStencil(i.getAttribute("name"));if(null!=L){var N=a+Number(i.getAttribute("x"))*h,I=l+Number(i.getAttribute("y"))*u;w=Number(i.getAttribute("w"))*h,E=Number(i.getAttribute("h"))*u;L.drawShape(t,e,N,I,w,E)}}else if("fillstroke"==s)t.fillAndStroke();else if("fill"==s)t.fill();else if("stroke"==s)t.stroke();else if("strokewidth"==s){var D="1"==i.getAttribute("fixed")?1:c;t.setStrokeWidth(Number(i.getAttribute("width"))*D)}else if("dashed"==s)t.setDashed("1"==i.getAttribute("dashed"));else if("dashpattern"==s){var R=i.getAttribute("pattern");if(null!=R){var F=R.split(" "),H=[];for(A=0;A<F.length;A++)F[A].length>0&&H.push(Number(F[A])*c);R=H.join(" "),t.setDashPattern(R)}}else"strokecolor"==s?t.setStrokeColor(i.getAttribute("color")):"linecap"==s?t.setLineCap(i.getAttribute("cap")):"linejoin"==s?t.setLineJoin(i.getAttribute("join")):"miterlimit"==s?t.setMiterLimit(Number(i.getAttribute("limit"))):"fillcolor"==s?t.setFillColor(i.getAttribute("color")):"alpha"==s?t.setAlpha(i.getAttribute("alpha")):"fillalpha"==s?t.setAlpha(i.getAttribute("alpha")):"strokealpha"==s?t.setAlpha(i.getAttribute("alpha")):"fontcolor"==s?t.setFontColor(i.getAttribute("color")):"fontstyle"==s?t.setFontStyle(i.getAttribute("style")):"fontfamily"==s?t.setFontFamily(i.getAttribute("family")):"fontsize"==s&&t.setFontSize(Number(i.getAttribute("size"))*c);!r||"fillstroke"!=s&&"fill"!=s&&"stroke"!=s||(r=!1,t.setShadow(!1))}},__mxOutput.mxStencil=void 0!==mxStencil?mxStencil:void 0;var mxStencilRegistry={stencils:{},addStencil:function(t,e){mxStencilRegistry.stencils[t]=e},getStencil:function(t){return mxStencilRegistry.stencils[t]}};__mxOutput.mxStencilRegistry=void 0!==mxStencilRegistry?mxStencilRegistry:void 0;var mxMarker={markers:[],addMarker:function(t,e){mxMarker.markers[t]=e},createMarker:function(t,e,i,n,r,o,s,a,l,h){var u=mxMarker.markers[i];return null!=u?u(t,e,i,n,r,o,s,a,l,h):null}};function mxActor(t,e,i,n){mxShape.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}function mxCloud(t,e,i,n){mxActor.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}function mxRectangleShape(t,e,i,n){mxShape.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}function mxEllipse(t,e,i,n){mxShape.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}function mxDoubleEllipse(t,e,i,n){mxShape.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}function mxRhombus(t,e,i,n){mxShape.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}function mxPolyline(t,e,i){mxShape.call(this),this.points=t,this.stroke=e,this.strokewidth=null!=i?i:1}function mxArrow(t,e,i,n,r,o,s){mxShape.call(this),this.points=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1,this.arrowWidth=null!=r?r:mxConstants.ARROW_WIDTH,this.spacing=null!=o?o:mxConstants.ARROW_SPACING,this.endSize=null!=s?s:mxConstants.ARROW_SIZE}function mxArrowConnector(t,e,i,n,r,o,s){mxShape.call(this),this.points=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1,this.arrowWidth=null!=r?r:mxConstants.ARROW_WIDTH,this.arrowSpacing=null!=o?o:mxConstants.ARROW_SPACING,this.startSize=mxConstants.ARROW_SIZE/5,this.endSize=mxConstants.ARROW_SIZE/5}function mxText(t,e,i,n,r,o,s,a,l,h,u,c,d,p,f,m,g,v,A,y,x){mxShape.call(this),this.value=t,this.bounds=e,this.color=null!=r?r:"black",this.align=null!=i?i:mxConstants.ALIGN_CENTER,this.valign=null!=n?n:mxConstants.ALIGN_MIDDLE,this.family=null!=o?o:mxConstants.DEFAULT_FONTFAMILY,this.size=null!=s?s:mxConstants.DEFAULT_FONTSIZE,this.fontStyle=null!=a?a:mxConstants.DEFAULT_FONTSTYLE,this.spacing=parseInt(l||2),this.spacingTop=this.spacing+parseInt(h||0),this.spacingRight=this.spacing+parseInt(u||0),this.spacingBottom=this.spacing+parseInt(c||0),this.spacingLeft=this.spacing+parseInt(d||0),this.horizontal=null==p||p,this.background=f,this.border=m,this.wrap=null!=g&&g,this.clipped=null!=v&&v,this.overflow=null!=A?A:"visible",this.labelPadding=null!=y?y:0,this.textDirection=x,this.rotation=0,this.updateMargin()}function mxTriangle(){mxActor.call(this)}function mxHexagon(){mxActor.call(this)}function mxLine(t,e,i){mxShape.call(this),this.bounds=t,this.stroke=e,this.strokewidth=null!=i?i:1}function mxImageShape(t,e,i,n,r){mxShape.call(this),this.bounds=t,this.image=e,this.fill=i,this.stroke=n,this.strokewidth=null!=r?r:1,this.shadow=!1}function mxLabel(t,e,i,n){mxRectangleShape.call(this,t,e,i,n)}function mxCylinder(t,e,i,n){mxShape.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}function mxConnector(t,e,i){mxPolyline.call(this,t,e,i)}function mxSwimlane(t,e,i,n){mxShape.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}function mxGraphLayout(t){this.graph=t}function WeightedCellSorter(t,e){this.cell=t,this.weightedValue=e}function mxStackLayout(t,e,i,n,r,o){mxGraphLayout.call(this,t),this.horizontal=null==e||e,this.spacing=null!=i?i:0,this.x0=null!=n?n:0,this.y0=null!=r?r:0,this.border=null!=o?o:0}function mxPartitionLayout(t,e,i,n){mxGraphLayout.call(this,t),this.horizontal=null==e||e,this.spacing=i||0,this.border=n||0}function mxCompactTreeLayout(t,e,i){mxGraphLayout.call(this,t),this.horizontal=null==e||e,this.invert=null!=i&&i}function mxRadialTreeLayout(t){mxCompactTreeLayout.call(this,t,!1)}function mxFastOrganicLayout(t){mxGraphLayout.call(this,t)}function mxCircleLayout(t,e){mxGraphLayout.call(this,t),this.radius=null!=e?e:100}function mxParallelEdgeLayout(t){mxGraphLayout.call(this,t)}function mxCompositeLayout(t,e,i){mxGraphLayout.call(this,t),this.layouts=e,this.master=i}function mxEdgeLabelLayout(t,e){mxGraphLayout.call(this,t)}function mxGraphAbstractHierarchyCell(){this.x=[],this.y=[],this.temp=[]}function mxGraphHierarchyNode(t){mxGraphAbstractHierarchyCell.apply(this,arguments),this.cell=t,this.id=mxObjectIdentity.get(t),this.connectsAsTarget=[],this.connectsAsSource=[]}function mxGraphHierarchyEdge(t){mxGraphAbstractHierarchyCell.apply(this,arguments),this.edges=t,this.ids=[];for(var e=0;e<t.length;e++)this.ids.push(mxObjectIdentity.get(t[e]))}function mxGraphHierarchyModel(t,e,i,n,r){t.getGraph();this.tightenToSource=r,this.roots=i,this.parent=n,this.vertexMapper=new mxDictionary,this.edgeMapper=new mxDictionary,this.maxRank=0;var o=[];null==e&&(e=this.graph.getChildVertices(n)),this.maxRank=this.SOURCESCANSTARTRANK,this.createInternalCells(t,e,o);for(var s=0;s<e.length;s++){for(var a=o[s].connectsAsSource,l=0;l<a.length;l++){var h=a[l],u=h.edges;if(null!=u&&u.length>0){var c=u[0],d=t.getVisibleTerminal(c,!1),p=this.vertexMapper.get(d);o[s]==p&&(d=t.getVisibleTerminal(c,!0),p=this.vertexMapper.get(d)),null!=p&&o[s]!=p&&(h.target=p,0==p.connectsAsTarget.length&&(p.connectsAsTarget=[]),mxUtils.indexOf(p.connectsAsTarget,h)<0&&p.connectsAsTarget.push(h))}}o[s].temp[0]=1}}function mxSwimlaneModel(t,e,i,n,r){t.getGraph();this.tightenToSource=r,this.roots=i,this.parent=n,this.vertexMapper=new mxDictionary,this.edgeMapper=new mxDictionary,this.maxRank=0;var o=[];null==e&&(e=this.graph.getChildVertices(n)),this.maxRank=this.SOURCESCANSTARTRANK,this.createInternalCells(t,e,o);for(var s=0;s<e.length;s++){for(var a=o[s].connectsAsSource,l=0;l<a.length;l++){var h=a[l],u=h.edges;if(null!=u&&u.length>0){var c=u[0],d=t.getVisibleTerminal(c,!1),p=this.vertexMapper.get(d);o[s]==p&&(d=t.getVisibleTerminal(c,!0),p=this.vertexMapper.get(d)),null!=p&&o[s]!=p&&(h.target=p,0==p.connectsAsTarget.length&&(p.connectsAsTarget=[]),mxUtils.indexOf(p.connectsAsTarget,h)<0&&p.connectsAsTarget.push(h))}}o[s].temp[0]=1}}function mxHierarchicalLayoutStage(){}function mxMedianHybridCrossingReduction(t){this.layout=t}function MedianCellSorter(){}function mxMinimumCycleRemover(t){this.layout=t}function mxCoordinateAssignment(t,e,i,n,r,o){this.layout=t,this.intraCellSpacing=e,this.interRankCellSpacing=i,this.orientation=n,this.initialX=r,this.parallelEdgeSpacing=o}function mxSwimlaneOrdering(t){this.layout=t}function mxHierarchicalLayout(t,e,i){mxGraphLayout.call(this,t),this.orientation=null!=e?e:mxConstants.DIRECTION_NORTH,this.deterministic=null==i||i}!function(){function t(t){return t=null!=t?t:2,function(e,i,n,r,o,s,a,l,h,u){var c=o*h*1.118,d=s*h*1.118;o*=a+h,s*=a+h;var p=r.clone();p.x-=c,p.y-=d;var f=n!=mxConstants.ARROW_CLASSIC&&n!=mxConstants.ARROW_CLASSIC_THIN?1:.75;return r.x+=-o*f-c,r.y+=-s*f-d,function(){e.begin(),e.moveTo(p.x,p.y),e.lineTo(p.x-o-s/t,p.y-s+o/t),n!=mxConstants.ARROW_CLASSIC&&n!=mxConstants.ARROW_CLASSIC_THIN||e.lineTo(p.x-3*o/4,p.y-3*s/4),e.lineTo(p.x+s/t-o,p.y-s-o/t),e.close(),u?e.fillAndStroke():e.stroke()}}}function e(t){return t=null!=t?t:2,function(e,i,n,r,o,s,a,l,h,u){var c=o*h*1.118,d=s*h*1.118;o*=a+h,s*=a+h;var p=r.clone();return p.x-=c,p.y-=d,r.x+=2*-c,r.y+=2*-d,function(){e.begin(),e.moveTo(p.x-o-s/t,p.y-s+o/t),e.lineTo(p.x,p.y),e.lineTo(p.x+s/t-o,p.y-s-o/t),e.stroke()}}}function i(t,e,i,n,r,o,s,a,l,h){var u=i==mxConstants.ARROW_DIAMOND?.7071:.9862,c=r*l*u,d=o*l*u;r*=s+l,o*=s+l;var p=n.clone();p.x-=c,p.y-=d,n.x+=-r-c,n.y+=-o-d;var f=i==mxConstants.ARROW_DIAMOND?2:3.4;return function(){t.begin(),t.moveTo(p.x,p.y),t.lineTo(p.x-r/2-o/f,p.y+r/f-o/2),t.lineTo(p.x-r,p.y-o),t.lineTo(p.x-r/2+o/f,p.y-o/2-r/f),t.close(),h?t.fillAndStroke():t.stroke()}}mxMarker.addMarker("classic",t(2)),mxMarker.addMarker("classicThin",t(3)),mxMarker.addMarker("block",t(2)),mxMarker.addMarker("blockThin",t(3)),mxMarker.addMarker("open",e(2)),mxMarker.addMarker("openThin",e(3)),mxMarker.addMarker("oval",function(t,e,i,n,r,o,s,a,l,h){var u=s/2,c=n.clone();return n.x-=r*u,n.y-=o*u,function(){t.ellipse(c.x-u,c.y-u,s,s),h?t.fillAndStroke():t.stroke()}}),mxMarker.addMarker("diamond",i),mxMarker.addMarker("diamondThin",i)}(),__mxOutput.mxMarker=void 0!==mxMarker?mxMarker:void 0,mxUtils.extend(mxActor,mxShape),mxActor.prototype.paintVertexShape=function(t,e,i,n,r){t.translate(e,i),t.begin(),this.redrawPath(t,e,i,n,r),t.fillAndStroke()},mxActor.prototype.redrawPath=function(t,e,i,n,r){var o=n/3;t.moveTo(0,r),t.curveTo(0,3*r/5,0,2*r/5,n/2,2*r/5),t.curveTo(n/2-o,2*r/5,n/2-o,0,n/2,0),t.curveTo(n/2+o,0,n/2+o,2*r/5,n/2,2*r/5),t.curveTo(n,2*r/5,n,3*r/5,n,r),t.close()},__mxOutput.mxActor=void 0!==mxActor?mxActor:void 0,mxUtils.extend(mxCloud,mxActor),mxCloud.prototype.redrawPath=function(t,e,i,n,r){t.moveTo(.25*n,.25*r),t.curveTo(.05*n,.25*r,0,.5*r,.16*n,.55*r),t.curveTo(0,.66*r,.18*n,.9*r,.31*n,.8*r),t.curveTo(.4*n,r,.7*n,r,.8*n,.8*r),t.curveTo(n,.8*r,n,.6*r,.875*n,.5*r),t.curveTo(n,.3*r,.8*n,.1*r,.625*n,.2*r),t.curveTo(.5*n,.05*r,.3*n,.05*r,.25*n,.25*r),t.close()},__mxOutput.mxCloud=void 0!==mxCloud?mxCloud:void 0,mxUtils.extend(mxRectangleShape,mxShape),mxRectangleShape.prototype.isHtmlAllowed=function(){var t=!0;return null!=this.style&&(t="1"==mxUtils.getValue(this.style,mxConstants.STYLE_POINTER_EVENTS,"1")),!this.isRounded&&!this.glass&&0==this.rotation&&(t||null!=this.fill&&this.fill!=mxConstants.NONE)},mxRectangleShape.prototype.paintBackground=function(t,e,i,n,r){var o=!0;if(null!=this.style&&(o="1"==mxUtils.getValue(this.style,mxConstants.STYLE_POINTER_EVENTS,"1")),o||null!=this.fill&&this.fill!=mxConstants.NONE||null!=this.stroke&&this.stroke!=mxConstants.NONE){if(o||null!=this.fill&&this.fill!=mxConstants.NONE||(t.pointerEvents=!1),this.isRounded){var s=0;if("1"==mxUtils.getValue(this.style,mxConstants.STYLE_ABSOLUTE_ARCSIZE,0))s=Math.min(n/2,Math.min(r/2,mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2));else{var a=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100;s=Math.min(n*a,r*a)}t.roundrect(e,i,n,r,s,s)}else t.rect(e,i,n,r);t.fillAndStroke()}},mxRectangleShape.prototype.isRoundable=function(t,e,i,n,r){return!0},mxRectangleShape.prototype.paintForeground=function(t,e,i,n,r){this.glass&&!this.outline&&null!=this.fill&&this.fill!=mxConstants.NONE&&this.paintGlassEffect(t,e,i,n,r,this.getArcSize(n+this.strokewidth,r+this.strokewidth))},__mxOutput.mxRectangleShape=void 0!==mxRectangleShape?mxRectangleShape:void 0,mxUtils.extend(mxEllipse,mxShape),mxEllipse.prototype.paintVertexShape=function(t,e,i,n,r){t.ellipse(e,i,n,r),t.fillAndStroke()},__mxOutput.mxEllipse=void 0!==mxEllipse?mxEllipse:void 0,mxUtils.extend(mxDoubleEllipse,mxShape),mxDoubleEllipse.prototype.vmlScale=10,mxDoubleEllipse.prototype.paintBackground=function(t,e,i,n,r){t.ellipse(e,i,n,r),t.fillAndStroke()},mxDoubleEllipse.prototype.paintForeground=function(t,e,i,n,r){if(!this.outline){var o=mxUtils.getValue(this.style,mxConstants.STYLE_MARGIN,Math.min(3+this.strokewidth,Math.min(n/5,r/5)));e+=o,i+=o,r-=2*o,(n-=2*o)>0&&r>0&&t.ellipse(e,i,n,r),t.stroke()}},mxDoubleEllipse.prototype.getLabelBounds=function(t){var e=mxUtils.getValue(this.style,mxConstants.STYLE_MARGIN,Math.min(3+this.strokewidth,Math.min(t.width/5/this.scale,t.height/5/this.scale)))*this.scale;return new mxRectangle(t.x+e,t.y+e,t.width-2*e,t.height-2*e)},__mxOutput.mxDoubleEllipse=void 0!==mxDoubleEllipse?mxDoubleEllipse:void 0,mxUtils.extend(mxRhombus,mxShape),mxRhombus.prototype.isRoundable=function(){return!0},mxRhombus.prototype.paintVertexShape=function(t,e,i,n,r){var o=n/2,s=r/2,a=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;t.begin(),this.addPoints(t,[new mxPoint(e+o,i),new mxPoint(e+n,i+s),new mxPoint(e+o,i+r),new mxPoint(e,i+s)],this.isRounded,a,!0),t.fillAndStroke()},__mxOutput.mxRhombus=void 0!==mxRhombus?mxRhombus:void 0,mxUtils.extend(mxPolyline,mxShape),mxPolyline.prototype.getRotation=function(){return 0},mxPolyline.prototype.getShapeRotation=function(){return 0},mxPolyline.prototype.isPaintBoundsInverted=function(){return!1},mxPolyline.prototype.paintEdgeShape=function(t,e){var i=t.pointerEventsValue;t.pointerEventsValue="stroke",null==this.style||1!=this.style[mxConstants.STYLE_CURVED]?this.paintLine(t,e,this.isRounded):this.paintCurvedLine(t,e),t.pointerEventsValue=i},mxPolyline.prototype.paintLine=function(t,e,i){var n=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;t.begin(),this.addPoints(t,e,i,n,!1),t.stroke()},mxPolyline.prototype.paintCurvedLine=function(t,e){t.begin();var i=e[0],n=e.length;t.moveTo(i.x,i.y);for(var r=1;r<n-2;r++){var o=e[r],s=e[r+1],a=(o.x+s.x)/2,l=(o.y+s.y)/2;t.quadTo(o.x,o.y,a,l)}o=e[n-2],s=e[n-1];t.quadTo(o.x,o.y,s.x,s.y),t.stroke()},__mxOutput.mxPolyline=void 0!==mxPolyline?mxPolyline:void 0,mxUtils.extend(mxArrow,mxShape),mxArrow.prototype.augmentBoundingBox=function(t){mxShape.prototype.augmentBoundingBox.apply(this,arguments);var e=Math.max(this.arrowWidth,this.endSize);t.grow((e/2+this.strokewidth)*this.scale)},mxArrow.prototype.paintEdgeShape=function(t,e){var i=mxConstants.ARROW_SPACING,n=mxConstants.ARROW_WIDTH,r=mxConstants.ARROW_SIZE,o=e[0],s=e[e.length-1],a=s.x-o.x,l=s.y-o.y,h=Math.sqrt(a*a+l*l),u=h-2*i-r,c=a/h,d=l/h,p=u*c,f=u*d,m=n*d/3,g=-n*c/3,v=o.x-m/2+i*c,A=o.y-g/2+i*d,y=v+m,x=A+g,b=y+p,C=x+f,w=b+m,E=C+g,S=w-3*m,T=E-3*g;t.begin(),t.moveTo(v,A),t.lineTo(y,x),t.lineTo(b,C),t.lineTo(w,E),t.lineTo(s.x-i*c,s.y-i*d),t.lineTo(S,T),t.lineTo(S+m,T+g),t.close(),t.fillAndStroke()},__mxOutput.mxArrow=void 0!==mxArrow?mxArrow:void 0,mxUtils.extend(mxArrowConnector,mxShape),mxArrowConnector.prototype.useSvgBoundingBox=!0,mxArrowConnector.prototype.resetStyles=function(){mxShape.prototype.resetStyles.apply(this,arguments),this.arrowSpacing=mxConstants.ARROW_SPACING},mxArrowConnector.prototype.apply=function(t){mxShape.prototype.apply.apply(this,arguments),null!=this.style&&(this.startSize=3*mxUtils.getNumber(this.style,mxConstants.STYLE_STARTSIZE,mxConstants.ARROW_SIZE/5),this.endSize=3*mxUtils.getNumber(this.style,mxConstants.STYLE_ENDSIZE,mxConstants.ARROW_SIZE/5))},mxArrowConnector.prototype.augmentBoundingBox=function(t){mxShape.prototype.augmentBoundingBox.apply(this,arguments);var e=this.getEdgeWidth();this.isMarkerStart()&&(e=Math.max(e,this.getStartArrowWidth())),this.isMarkerEnd()&&(e=Math.max(e,this.getEndArrowWidth())),t.grow((e/2+this.strokewidth)*this.scale)},mxArrowConnector.prototype.paintEdgeShape=function(t,e){var i=this.strokewidth;this.outline&&(i=Math.max(1,mxUtils.getNumber(this.style,mxConstants.STYLE_STROKEWIDTH,this.strokewidth)));for(var n=this.getStartArrowWidth()+i,r=this.getEndArrowWidth()+i,o=this.outline?this.getEdgeWidth()+i:this.getEdgeWidth(),s=this.isOpenEnded(),a=this.isMarkerStart(),l=this.isMarkerEnd(),h=s?0:this.arrowSpacing+i/2,u=this.startSize+i,c=this.endSize+i,d=this.isArrowRounded(),p=e[e.length-1],f=1;f<e.length-1&&e[f].x==e[0].x&&e[f].y==e[0].y;)f++;var m=e[f].x-e[0].x,g=e[f].y-e[0].y,v=Math.sqrt(m*m+g*g);if(0!=v){var A,y,x=m/v,b=x,C=g/v,w=C,E=o*C,S=-o*x,T=[];d?t.setLineJoin("round"):e.length>2&&t.setMiterLimit(1.42),t.begin();var _=x,M=C;if(a&&!s)this.paintMarker(t,e[0].x,e[0].y,x,C,u,n,o,h,!0);else{var k=e[0].x+E/2+h*x,B=e[0].y+S/2+h*C,O=e[0].x-E/2+h*x,P=e[0].y-S/2+h*C;s?(t.moveTo(k,B),T.push(function(){t.lineTo(O,P)})):(t.moveTo(O,P),t.lineTo(k,B))}for(var L=0,N=0,I=0,D=0;D<e.length-2;D++){var R=mxUtils.relativeCcw(e[D].x,e[D].y,e[D+1].x,e[D+1].y,e[D+2].x,e[D+2].y);if(L=e[D+2].x-e[D+1].x,N=e[D+2].y-e[D+1].y,0!=(I=Math.sqrt(L*L+N*N))){var F=x*(b=L/I)+C*(w=N/I),H=Math.max(Math.sqrt((F+1)/2),.04);A=x+b,y=C+w;var U=Math.sqrt(A*A+y*y);if(0!=U){A/=U,y/=U;var V=Math.max(H,Math.min(this.strokewidth/200+.04,.35)),j=0!=R&&d?Math.max(.1,V):Math.max(H,.06),G=e[D+1].x+y*o/2/j,z=e[D+1].y-A*o/2/j,Q=e[D+1].x-y*o/2/j,Y=e[D+1].y+A*o/2/j;if(0!=R&&d)if(-1==R){var K=Q+C*o,X=Y-x*o,$=Q+w*o,W=Y-b*o;t.lineTo(K,X),t.quadTo(G,z,$,W),function(e,i){T.push(function(){t.lineTo(e,i)})}(Q,Y)}else t.lineTo(G,z),function(e,i){var n=G-C*o,r=z+x*o,s=G-w*o,a=z+b*o;T.push(function(){t.quadTo(e,i,n,r)}),T.push(function(){t.lineTo(s,a)})}(Q,Y);else t.lineTo(G,z),function(e,i){T.push(function(){t.lineTo(e,i)})}(Q,Y);x=b,C=w}}}if(E=o*w,S=-o*b,l&&!s)this.paintMarker(t,p.x,p.y,-x,-C,c,r,o,h,!1);else{t.lineTo(p.x-h*b+E/2,p.y-h*w+S/2);var q=p.x-h*b-E/2,J=p.y-h*w-S/2;s?(t.moveTo(q,J),T.splice(0,0,function(){t.moveTo(q,J)})):t.lineTo(q,J)}for(D=T.length-1;D>=0;D--)T[D]();s?(t.end(),t.stroke()):(t.close(),t.fillAndStroke()),t.setShadow(!1),t.setMiterLimit(4),d&&t.setLineJoin("flat"),e.length>2&&(t.setMiterLimit(4),a&&!s&&(t.begin(),this.paintMarker(t,e[0].x,e[0].y,_,M,u,n,o,h,!0),t.stroke(),t.end()),l&&!s&&(t.begin(),this.paintMarker(t,p.x,p.y,-x,-C,c,r,o,h,!0),t.stroke(),t.end()))}},mxArrowConnector.prototype.paintMarker=function(t,e,i,n,r,o,s,a,l,h){var u=a/s,c=a*r/2,d=-a*n/2,p=(l+o)*n,f=(l+o)*r;h?t.moveTo(e-c+p,i-d+f):t.lineTo(e-c+p,i-d+f),t.lineTo(e-c/u+p,i-d/u+f),t.lineTo(e+l*n,i+l*r),t.lineTo(e+c/u+p,i+d/u+f),t.lineTo(e+c+p,i+d+f)},mxArrowConnector.prototype.isArrowRounded=function(){return this.isRounded},mxArrowConnector.prototype.getStartArrowWidth=function(){return mxConstants.ARROW_WIDTH},mxArrowConnector.prototype.getEndArrowWidth=function(){return mxConstants.ARROW_WIDTH},mxArrowConnector.prototype.getEdgeWidth=function(){return mxConstants.ARROW_WIDTH/3},mxArrowConnector.prototype.isOpenEnded=function(){return!1},mxArrowConnector.prototype.isMarkerStart=function(){return mxUtils.getValue(this.style,mxConstants.STYLE_STARTARROW,mxConstants.NONE)!=mxConstants.NONE},mxArrowConnector.prototype.isMarkerEnd=function(){return mxUtils.getValue(this.style,mxConstants.STYLE_ENDARROW,mxConstants.NONE)!=mxConstants.NONE},__mxOutput.mxArrowConnector=void 0!==mxArrowConnector?mxArrowConnector:void 0,mxUtils.extend(mxText,mxShape),mxText.prototype.baseSpacingTop=0,mxText.prototype.baseSpacingBottom=0,mxText.prototype.baseSpacingLeft=0,mxText.prototype.baseSpacingRight=0,mxText.prototype.replaceLinefeeds=!0,mxText.prototype.verticalTextRotation=-90,mxText.prototype.ignoreClippedStringSize=!0,mxText.prototype.ignoreStringSize=!1,mxText.prototype.textWidthPadding=8!=document.documentMode||mxClient.IS_EM?3:4,mxText.prototype.lastValue=null,mxText.prototype.cacheEnabled=!0,mxText.prototype.isParseVml=function(){return!1},mxText.prototype.isHtmlAllowed=function(){return 8!=document.documentMode||mxClient.IS_EM},mxText.prototype.getSvgScreenOffset=function(){return 0},mxText.prototype.checkBounds=function(){return!isNaN(this.scale)&&isFinite(this.scale)&&this.scale>0&&null!=this.bounds&&!isNaN(this.bounds.x)&&!isNaN(this.bounds.y)&&!isNaN(this.bounds.width)&&!isNaN(this.bounds.height)},mxText.prototype.paint=function(t,e){var i=this.scale,n=this.bounds.x/i,r=this.bounds.y/i,o=this.bounds.width/i,s=this.bounds.height/i;this.updateTransform(t,n,r,o,s),this.configureCanvas(t,n,r,o,s);var a=null!=this.state?this.state.unscaledWidth:null;if(e)null==this.node.firstChild||null!=a&&this.lastUnscaledWidth==a||t.invalidateCachedOffsetSize(this.node),t.updateText(n,r,o,s,this.align,this.valign,this.wrap,this.overflow,this.clipped,this.getTextRotation(),this.node);else{var l=mxUtils.isNode(this.value)||this.dialect==mxConstants.DIALECT_STRICTHTML,h=l||t instanceof mxVmlCanvas2D?"html":"",u=this.value;l||"html"!=h||(u=mxUtils.htmlEntities(u,!1)),"html"!=h||mxUtils.isNode(this.value)||(u=mxUtils.replaceTrailingNewlines(u,"<div><br></div>")),u=!mxUtils.isNode(this.value)&&this.replaceLinefeeds&&"html"==h?u.replace(/\n/g,"<br/>"):u;var c=this.textDirection;c!=mxConstants.TEXT_DIRECTION_AUTO||l||(c=this.getAutoDirection()),c!=mxConstants.TEXT_DIRECTION_LTR&&c!=mxConstants.TEXT_DIRECTION_RTL&&(c=null),t.text(n,r,o,s,u,this.align,this.valign,this.wrap,h,this.overflow,this.clipped,this.getTextRotation(),c)}this.lastUnscaledWidth=a},mxText.prototype.redraw=function(){if(this.visible&&this.checkBounds()&&this.cacheEnabled&&this.lastValue==this.value&&(mxUtils.isNode(this.value)||this.dialect==mxConstants.DIALECT_STRICTHTML))if("DIV"!=this.node.nodeName||!this.isHtmlAllowed()&&mxClient.IS_VML){var t=this.createCanvas();null!=t&&null!=t.updateText&&null!=t.invalidateCachedOffsetSize?(this.paint(t,!0),this.destroyCanvas(t),this.updateBoundingBox()):mxShape.prototype.redraw.apply(this,arguments)}else this.updateSize(this.node,null==this.state||null==this.state.view.textDiv),mxClient.IS_IE&&(null==document.documentMode||document.documentMode<=8)?this.updateHtmlFilter():this.updateHtmlTransform(),this.updateBoundingBox();else mxShape.prototype.redraw.apply(this,arguments),mxUtils.isNode(this.value)||this.dialect==mxConstants.DIALECT_STRICTHTML?this.lastValue=this.value:this.lastValue=null},mxText.prototype.resetStyles=function(){mxShape.prototype.resetStyles.apply(this,arguments),this.color="black",this.align=mxConstants.ALIGN_CENTER,this.valign=mxConstants.ALIGN_MIDDLE,this.family=mxConstants.DEFAULT_FONTFAMILY,this.size=mxConstants.DEFAULT_FONTSIZE,this.fontStyle=mxConstants.DEFAULT_FONTSTYLE,this.spacing=2,this.spacingTop=2,this.spacingRight=2,this.spacingBottom=2,this.spacingLeft=2,this.horizontal=!0,delete this.background,delete this.border,this.textDirection=mxConstants.DEFAULT_TEXT_DIRECTION,delete this.margin},mxText.prototype.apply=function(t){var e=this.spacing;mxShape.prototype.apply.apply(this,arguments),null!=this.style&&(this.fontStyle=mxUtils.getValue(this.style,mxConstants.STYLE_FONTSTYLE,this.fontStyle),this.family=mxUtils.getValue(this.style,mxConstants.STYLE_FONTFAMILY,this.family),this.size=mxUtils.getValue(this.style,mxConstants.STYLE_FONTSIZE,this.size),this.color=mxUtils.getValue(this.style,mxConstants.STYLE_FONTCOLOR,this.color),this.align=mxUtils.getValue(this.style,mxConstants.STYLE_ALIGN,this.align),this.valign=mxUtils.getValue(this.style,mxConstants.STYLE_VERTICAL_ALIGN,this.valign),this.spacing=parseInt(mxUtils.getValue(this.style,mxConstants.STYLE_SPACING,this.spacing)),this.spacingTop=parseInt(mxUtils.getValue(this.style,mxConstants.STYLE_SPACING_TOP,this.spacingTop-e))+this.spacing,this.spacingRight=parseInt(mxUtils.getValue(this.style,mxConstants.STYLE_SPACING_RIGHT,this.spacingRight-e))+this.spacing,this.spacingBottom=parseInt(mxUtils.getValue(this.style,mxConstants.STYLE_SPACING_BOTTOM,this.spacingBottom-e))+this.spacing,this.spacingLeft=parseInt(mxUtils.getValue(this.style,mxConstants.STYLE_SPACING_LEFT,this.spacingLeft-e))+this.spacing,this.horizontal=mxUtils.getValue(this.style,mxConstants.STYLE_HORIZONTAL,this.horizontal),this.background=mxUtils.getValue(this.style,mxConstants.STYLE_LABEL_BACKGROUNDCOLOR,this.background),this.border=mxUtils.getValue(this.style,mxConstants.STYLE_LABEL_BORDERCOLOR,this.border),this.textDirection=mxUtils.getValue(this.style,mxConstants.STYLE_TEXT_DIRECTION,mxConstants.DEFAULT_TEXT_DIRECTION),this.opacity=mxUtils.getValue(this.style,mxConstants.STYLE_TEXT_OPACITY,100),this.updateMargin()),this.flipV=null,this.flipH=null},mxText.prototype.getAutoDirection=function(){var t=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(this.value);return null!=t&&t.length>0&&t[0]>"z"?mxConstants.TEXT_DIRECTION_RTL:mxConstants.TEXT_DIRECTION_LTR},mxText.prototype.updateBoundingBox=function(){var t=this.node;this.boundingBox=this.bounds.clone();var e=this.getTextRotation(),i=null!=this.style?mxUtils.getValue(this.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER):null,n=null!=this.style?mxUtils.getValue(this.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE):null;if(!(this.ignoreStringSize||null==t||"fill"==this.overflow||this.clipped&&this.ignoreClippedStringSize&&i==mxConstants.ALIGN_CENTER&&n==mxConstants.ALIGN_MIDDLE)){var r=null,o=null;if(null!=t.ownerSVGElement)if(null!=t.firstChild&&null!=t.firstChild.firstChild&&"foreignObject"==t.firstChild.firstChild.nodeName)t=t.firstChild.firstChild,r=parseInt(t.getAttribute("width"))*this.scale,o=parseInt(t.getAttribute("height"))*this.scale;else try{var s=t.getBBox();return void("string"==typeof this.value&&0==mxUtils.trim(this.value)?this.boundingBox=null:0==s.width&&0==s.height?this.boundingBox=null:this.boundingBox=new mxRectangle(s.x,s.y,s.width,s.height))}catch(t){}else{var a=null!=this.state?this.state.view.textDiv:null;if(null!=this.offsetWidth&&null!=this.offsetHeight)r=this.offsetWidth*this.scale,o=this.offsetHeight*this.scale;else{null!=a&&(this.updateFont(a),this.updateSize(a,!1),this.updateInnerHtml(a),t=a);var l=t;if(8!=document.documentMode||mxClient.IS_EM)null!=l.firstChild&&"DIV"==l.firstChild.nodeName&&(l=l.firstChild);else{var h=Math.round(this.bounds.width/this.scale);if(this.wrap&&h>0){if(t.style.wordWrap=mxConstants.WORD_WRAP,t.style.whiteSpace="normal","break-word"!=t.style.wordWrap){var u=l.getElementsByTagName("div");u.length>0&&(l=u[u.length-1]),r=l.offsetWidth+2,u=this.node.getElementsByTagName("div"),this.clipped&&(r=Math.min(h,r)),u.length>1&&(u[u.length-2].style.width=r+"px")}}else t.style.whiteSpace="nowrap"}this.offsetWidth=l.offsetWidth+this.textWidthPadding,this.offsetHeight=l.offsetHeight,r=this.offsetWidth*this.scale,o=this.offsetHeight*this.scale}}null!=r&&null!=o&&(this.boundingBox=new mxRectangle(this.bounds.x,this.bounds.y,r,o))}if(null!=this.boundingBox)if(0!=e){var c=mxUtils.getBoundingBox(new mxRectangle(this.margin.x*this.boundingBox.width,this.margin.y*this.boundingBox.height,this.boundingBox.width,this.boundingBox.height),e,new mxPoint(0,0));this.unrotatedBoundingBox=mxRectangle.fromRectangle(this.boundingBox),this.unrotatedBoundingBox.x+=this.margin.x*this.unrotatedBoundingBox.width,this.unrotatedBoundingBox.y+=this.margin.y*this.unrotatedBoundingBox.height,this.boundingBox.x+=c.x,this.boundingBox.y+=c.y,this.boundingBox.width=c.width,this.boundingBox.height=c.height}else this.boundingBox.x+=this.margin.x*this.boundingBox.width,this.boundingBox.y+=this.margin.y*this.boundingBox.height,this.unrotatedBoundingBox=null},mxText.prototype.getShapeRotation=function(){return 0},mxText.prototype.getTextRotation=function(){return null!=this.state&&null!=this.state.shape?this.state.shape.getTextRotation():0},mxText.prototype.isPaintBoundsInverted=function(){return!this.horizontal&&null!=this.state&&this.state.view.graph.model.isVertex(this.state.cell)},mxText.prototype.configureCanvas=function(t,e,i,n,r){mxShape.prototype.configureCanvas.apply(this,arguments),t.setFontColor(this.color),t.setFontBackgroundColor(this.background),t.setFontBorderColor(this.border),t.setFontFamily(this.family),t.setFontSize(this.size),t.setFontStyle(this.fontStyle)},mxText.prototype.updateVmlContainer=function(){this.node.style.left=Math.round(this.bounds.x)+"px",this.node.style.top=Math.round(this.bounds.y)+"px",this.node.style.width="1px",this.node.style.height="1px",this.node.style.overflow="visible"},mxText.prototype.redrawHtmlShape=function(){var t=this.node.style;t.whiteSpace="normal",t.overflow="",t.width="",t.height="",this.updateValue(),this.updateFont(this.node),this.updateSize(this.node,null==this.state||null==this.state.view.textDiv),this.offsetWidth=null,this.offsetHeight=null,mxClient.IS_IE&&(null==document.documentMode||document.documentMode<=8)?this.updateHtmlFilter():this.updateHtmlTransform()},mxText.prototype.updateHtmlTransform=function(){var t=this.getTextRotation(),e=this.node.style,i=this.margin.x,n=this.margin.y;0!=t?(mxUtils.setPrefixedStyle(e,"transformOrigin",100*-i+"% "+100*-n+"%"),mxUtils.setPrefixedStyle(e,"transform","translate("+100*i+"%,"+100*n+"%)scale("+this.scale+") rotate("+t+"deg)")):(mxUtils.setPrefixedStyle(e,"transformOrigin","0% 0%"),mxUtils.setPrefixedStyle(e,"transform","scale("+this.scale+")translate("+100*i+"%,"+100*n+"%)")),e.left=Math.round(this.bounds.x-Math.ceil(i*("fill"!=this.overflow&&"width"!=this.overflow?3:1)))+"px",e.top=Math.round(this.bounds.y-n*("fill"!=this.overflow?3:1))+"px",this.opacity<100?e.opacity=this.opacity/100:e.opacity=""},mxText.prototype.updateInnerHtml=function(t){if(mxUtils.isNode(this.value))t.innerHTML=this.value.outerHTML;else{var e=this.value;this.dialect!=mxConstants.DIALECT_STRICTHTML&&(e=mxUtils.htmlEntities(e,!1)),e=mxUtils.replaceTrailingNewlines(e,"<div>&nbsp;</div>"),e='<div style="display:inline-block;_display:inline;">'+(e=this.replaceLinefeeds?e.replace(/\n/g,"<br/>"):e)+"</div>",t.innerHTML=e}},mxText.prototype.updateHtmlFilter=function(){var t=this.node.style,e=this.margin.x,i=this.margin.y,n=this.scale;mxUtils.setOpacity(this.node,this.opacity);var r=0,o=0,s=null!=this.state?this.state.view.textDiv:null,a=this.node;if(null!=s){s.style.overflow="",s.style.height="",s.style.width="",this.updateFont(s),this.updateSize(s,!1),this.updateInnerHtml(s);var l=Math.round(this.bounds.width/this.scale);this.wrap&&l>0?(s.style.whiteSpace="normal",s.style.wordWrap=mxConstants.WORD_WRAP,r=l,this.clipped&&(r=Math.min(r,this.bounds.width)),s.style.width=r+"px"):s.style.whiteSpace="nowrap",null!=(a=s).firstChild&&"DIV"==a.firstChild.nodeName&&(a=a.firstChild,this.wrap&&"break-word"==s.style.wordWrap&&(a.style.width="100%")),!this.clipped&&this.wrap&&l>0&&(r=a.offsetWidth+this.textWidthPadding,s.style.width=r+"px"),o=a.offsetHeight+2,mxClient.IS_QUIRKS&&null!=this.border&&this.border!=mxConstants.NONE&&(o+=3)}else null!=a.firstChild&&"DIV"==a.firstChild.nodeName&&(o=(a=a.firstChild).offsetHeight);r=a.offsetWidth+this.textWidthPadding,this.clipped&&(o=Math.min(o,this.bounds.height));l=this.bounds.width/n;var h=this.bounds.height/n;"fill"==this.overflow?(o=h,r=l):"width"==this.overflow&&(o=a.scrollHeight,r=l),this.offsetWidth=r,this.offsetHeight=o,mxClient.IS_QUIRKS&&(this.clipped||"width"==this.overflow&&h>0)?(h=Math.min(h,o),t.height=Math.round(h)+"px"):h=o,"fill"!=this.overflow&&"width"!=this.overflow&&(this.clipped&&(r=Math.min(l,r)),l=r,(mxClient.IS_QUIRKS&&this.clipped||this.wrap)&&(t.width=Math.round(l)+"px")),h*=n,l*=n;var u=this.getTextRotation()*(Math.PI/180),c=parseFloat(parseFloat(Math.cos(u)).toFixed(8)),d=parseFloat(parseFloat(Math.sin(-u)).toFixed(8));(u%=2*Math.PI)<0&&(u+=2*Math.PI),(u%=Math.PI)>Math.PI/2&&(u=Math.PI-u);var p=Math.cos(u),f=Math.sin(-u),m=l*-(e+.5),g=h*-(i+.5),v=(h-h*p+l*f)/2+d*m-c*g,A=(l-l*p+h*f)/2-c*m-d*g;if(0!=u){var y="progid:DXImageTransform.Microsoft.Matrix(M11="+c+", M12="+d+", M21="+-d+", M22="+c+", sizingMethod='auto expand')";null!=t.filter&&t.filter.length>0?t.filter+=" "+y:t.filter=y}i=0;"fill"!=this.overflow&&mxClient.IS_QUIRKS&&(this.valign==mxConstants.ALIGN_TOP?i-=1:this.valign==mxConstants.ALIGN_BOTTOM?i+=2:i+=1),t.zoom=n,t.left=Math.round(this.bounds.x+A-l/2)+"px",t.top=Math.round(this.bounds.y+v-h/2+i)+"px"},mxText.prototype.updateValue=function(){if(mxUtils.isNode(this.value))this.node.innerHTML="",this.node.appendChild(this.value);else{var t=this.value;this.dialect!=mxConstants.DIALECT_STRICTHTML&&(t=mxUtils.htmlEntities(t,!1)),t=mxUtils.replaceTrailingNewlines(t,"<div><br></div>"),t=this.replaceLinefeeds?t.replace(/\n/g,"<br/>"):t;var e=null!=this.background&&this.background!=mxConstants.NONE?this.background:null,i=null!=this.border&&this.border!=mxConstants.NONE?this.border:null;if("fill"==this.overflow||"width"==this.overflow)null!=e&&(this.node.style.backgroundColor=e),null!=i&&(this.node.style.border="1px solid "+i);else{var n="";null!=e&&(n+="background-color:"+mxUtils.htmlEntities(e)+";"),null!=i&&(n+="border:1px solid "+mxUtils.htmlEntities(i)+";"),t='<div style="zoom:1;'+n+"display:inline-block;_display:inline;text-decoration:inherit;padding-bottom:1px;padding-right:1px;line-height:"+(mxConstants.ABSOLUTE_LINE_HEIGHT?this.size*mxConstants.LINE_HEIGHT+"px":mxConstants.LINE_HEIGHT)+'">'+t+"</div>"}this.node.innerHTML=t;var r=this.node.getElementsByTagName("div");if(r.length>0){var o=this.textDirection;o==mxConstants.TEXT_DIRECTION_AUTO&&this.dialect!=mxConstants.DIALECT_STRICTHTML&&(o=this.getAutoDirection()),o==mxConstants.TEXT_DIRECTION_LTR||o==mxConstants.TEXT_DIRECTION_RTL?r[r.length-1].setAttribute("dir",o):r[r.length-1].removeAttribute("dir")}}},mxText.prototype.updateFont=function(t){var e=t.style;e.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?this.size*mxConstants.LINE_HEIGHT+"px":mxConstants.LINE_HEIGHT,e.fontSize=this.size+"px",e.fontFamily=this.family,e.verticalAlign="top",e.color=this.color,(this.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD?e.fontWeight="bold":e.fontWeight="",(this.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC?e.fontStyle="italic":e.fontStyle="",(this.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE?e.textDecoration="underline":e.textDecoration="",this.align==mxConstants.ALIGN_CENTER?e.textAlign="center":this.align==mxConstants.ALIGN_RIGHT?e.textAlign="right":e.textAlign="left"},mxText.prototype.updateSize=function(t,e){var i=Math.max(0,Math.round(this.bounds.width/this.scale)),n=Math.max(0,Math.round(this.bounds.height/this.scale)),r=t.style;if(this.clipped?(r.overflow="hidden",mxClient.IS_QUIRKS?r.width=i+"px":(r.maxHeight=n+"px",r.maxWidth=i+"px")):"fill"==this.overflow?(r.width=i+1+"px",r.height=n+1+"px",r.overflow="hidden"):"width"==this.overflow&&(r.width=i+1+"px",r.maxHeight=n+1+"px",r.overflow="hidden"),this.wrap&&i>0){if(r.wordWrap=mxConstants.WORD_WRAP,r.whiteSpace="normal",r.width=i+"px",e&&"fill"!=this.overflow&&"width"!=this.overflow){var o=t;null!=o.firstChild&&"DIV"==o.firstChild.nodeName&&(o=o.firstChild,"break-word"==t.style.wordWrap&&(o.style.width="100%"));var s=o.offsetWidth;if(0==s){var a=t.parentNode;t.style.visibility="hidden",document.body.appendChild(t),s=o.offsetWidth,t.style.visibility="",a.appendChild(t)}s+=3,this.clipped&&(s=Math.min(s,i)),r.width=s+"px"}}else r.whiteSpace="nowrap"},mxText.prototype.updateMargin=function(){this.margin=mxUtils.getAlignmentAsPoint(this.align,this.valign)},mxText.prototype.getSpacing=function(){return new mxPoint(this.align==mxConstants.ALIGN_CENTER?(this.spacingLeft-this.spacingRight)/2:this.align==mxConstants.ALIGN_RIGHT?-this.spacingRight-this.baseSpacingRight:this.spacingLeft+this.baseSpacingLeft,this.valign==mxConstants.ALIGN_MIDDLE?(this.spacingTop-this.spacingBottom)/2:this.valign==mxConstants.ALIGN_BOTTOM?-this.spacingBottom-this.baseSpacingBottom:this.spacingTop+this.baseSpacingTop)},__mxOutput.mxText=void 0!==mxText?mxText:void 0,mxUtils.extend(mxTriangle,mxActor),mxTriangle.prototype.isRoundable=function(){return!0},mxTriangle.prototype.redrawPath=function(t,e,i,n,r){var o=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(0,0),new mxPoint(n,.5*r),new mxPoint(0,r)],this.isRounded,o,!0)},__mxOutput.mxTriangle=void 0!==mxTriangle?mxTriangle:void 0,mxUtils.extend(mxHexagon,mxActor),mxHexagon.prototype.redrawPath=function(t,e,i,n,r){var o=mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,mxConstants.LINE_ARCSIZE)/2;this.addPoints(t,[new mxPoint(.25*n,0),new mxPoint(.75*n,0),new mxPoint(n,.5*r),new mxPoint(.75*n,r),new mxPoint(.25*n,r),new mxPoint(0,.5*r)],this.isRounded,o,!0)},__mxOutput.mxHexagon=void 0!==mxHexagon?mxHexagon:void 0,mxUtils.extend(mxLine,mxShape),mxLine.prototype.paintVertexShape=function(t,e,i,n,r){var o=i+r/2;t.begin(),t.moveTo(e,o),t.lineTo(e+n,o),t.stroke()},__mxOutput.mxLine=void 0!==mxLine?mxLine:void 0,mxUtils.extend(mxImageShape,mxRectangleShape),mxImageShape.prototype.preserveImageAspect=!0,mxImageShape.prototype.getSvgScreenOffset=function(){return 0},mxImageShape.prototype.apply=function(t){mxShape.prototype.apply.apply(this,arguments),this.fill=null,this.stroke=null,this.gradient=null,null!=this.style&&(this.preserveImageAspect=1==mxUtils.getNumber(this.style,mxConstants.STYLE_IMAGE_ASPECT,1),this.flipH=this.flipH||1==mxUtils.getValue(this.style,"imageFlipH",0),this.flipV=this.flipV||1==mxUtils.getValue(this.style,"imageFlipV",0))},mxImageShape.prototype.isHtmlAllowed=function(){return!this.preserveImageAspect},mxImageShape.prototype.createHtml=function(){var t=document.createElement("div");return t.style.position="absolute",t},mxImageShape.prototype.isRoundable=function(t,e,i,n,r){return!1},mxImageShape.prototype.paintVertexShape=function(t,e,i,n,r){if(null!=this.image){var o=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_BACKGROUND,null),s=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_BORDER,null);null!=o&&(t.setFillColor(o),t.setStrokeColor(s),t.rect(e,i,n,r),t.fillAndStroke()),t.image(e,i,n,r,this.image,this.preserveImageAspect,!1,!1),null!=(s=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_BORDER,null))&&(t.setShadow(!1),t.setStrokeColor(s),t.rect(e,i,n,r),t.stroke())}else mxRectangleShape.prototype.paintBackground.apply(this,arguments)},mxImageShape.prototype.redrawHtmlShape=function(){if(this.node.style.left=Math.round(this.bounds.x)+"px",this.node.style.top=Math.round(this.bounds.y)+"px",this.node.style.width=Math.max(0,Math.round(this.bounds.width))+"px",this.node.style.height=Math.max(0,Math.round(this.bounds.height))+"px",this.node.innerHTML="",null!=this.image){var t=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_BACKGROUND,""),e=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_BORDER,"");this.node.style.backgroundColor=t,this.node.style.borderColor=e;var i=mxClient.IS_IE6||(null==document.documentMode||document.documentMode<=8)&&0!=this.rotation,n=document.createElement(i?mxClient.VML_PREFIX+":image":"img");n.setAttribute("border","0"),n.style.position="absolute",n.src=this.image;var r=this.opacity<100?"alpha(opacity="+this.opacity+")":"";this.node.style.filter=r,this.flipH&&this.flipV?r+="progid:DXImageTransform.Microsoft.BasicImage(rotation=2)":this.flipH?r+="progid:DXImageTransform.Microsoft.BasicImage(mirror=1)":this.flipV&&(r+="progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)"),n.style.filter!=r&&(n.style.filter=r),"image"==n.nodeName?n.style.rotation=this.rotation:0!=this.rotation?mxUtils.setPrefixedStyle(n.style,"transform","rotate("+this.rotation+"deg)"):mxUtils.setPrefixedStyle(n.style,"transform",""),n.style.width=this.node.style.width,n.style.height=this.node.style.height,this.node.style.backgroundImage="",this.node.appendChild(n)}else this.setTransparentBackgroundImage(this.node)},__mxOutput.mxImageShape=void 0!==mxImageShape?mxImageShape:void 0,mxUtils.extend(mxLabel,mxRectangleShape),mxLabel.prototype.imageSize=mxConstants.DEFAULT_IMAGESIZE,mxLabel.prototype.spacing=2,mxLabel.prototype.indicatorSize=10,mxLabel.prototype.indicatorSpacing=2,mxLabel.prototype.init=function(t){mxShape.prototype.init.apply(this,arguments),null!=this.indicatorShape&&(this.indicator=new this.indicatorShape,this.indicator.dialect=this.dialect,this.indicator.init(this.node))},mxLabel.prototype.redraw=function(){null!=this.indicator&&(this.indicator.fill=this.indicatorColor,this.indicator.stroke=this.indicatorStrokeColor,this.indicator.gradient=this.indicatorGradientColor,this.indicator.direction=this.indicatorDirection),mxShape.prototype.redraw.apply(this,arguments)},mxLabel.prototype.isHtmlAllowed=function(){return mxRectangleShape.prototype.isHtmlAllowed.apply(this,arguments)&&null==this.indicatorColor&&null==this.indicatorShape},mxLabel.prototype.paintForeground=function(t,e,i,n,r){this.paintImage(t,e,i,n,r),this.paintIndicator(t,e,i,n,r),mxRectangleShape.prototype.paintForeground.apply(this,arguments)},mxLabel.prototype.paintImage=function(t,e,i,n,r){if(null!=this.image){var o=this.getImageBounds(e,i,n,r);t.image(o.x,o.y,o.width,o.height,this.image,!1,!1,!1)}},mxLabel.prototype.getImageBounds=function(t,e,i,n){var r=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_ALIGN,mxConstants.ALIGN_LEFT),o=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_VERTICAL_ALIGN,mxConstants.ALIGN_MIDDLE),s=mxUtils.getNumber(this.style,mxConstants.STYLE_IMAGE_WIDTH,mxConstants.DEFAULT_IMAGESIZE),a=mxUtils.getNumber(this.style,mxConstants.STYLE_IMAGE_HEIGHT,mxConstants.DEFAULT_IMAGESIZE),l=mxUtils.getNumber(this.style,mxConstants.STYLE_SPACING,this.spacing)+5;return r==mxConstants.ALIGN_CENTER?t+=(i-s)/2:r==mxConstants.ALIGN_RIGHT?t+=i-s-l:t+=l,o==mxConstants.ALIGN_TOP?e+=l:o==mxConstants.ALIGN_BOTTOM?e+=n-a-l:e+=(n-a)/2,new mxRectangle(t,e,s,a)},mxLabel.prototype.paintIndicator=function(t,e,i,n,r){if(null!=this.indicator)this.indicator.bounds=this.getIndicatorBounds(e,i,n,r),this.indicator.paint(t);else if(null!=this.indicatorImage){var o=this.getIndicatorBounds(e,i,n,r);t.image(o.x,o.y,o.width,o.height,this.indicatorImage,!1,!1,!1)}},mxLabel.prototype.getIndicatorBounds=function(t,e,i,n){var r=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_ALIGN,mxConstants.ALIGN_LEFT),o=mxUtils.getValue(this.style,mxConstants.STYLE_IMAGE_VERTICAL_ALIGN,mxConstants.ALIGN_MIDDLE),s=mxUtils.getNumber(this.style,mxConstants.STYLE_INDICATOR_WIDTH,this.indicatorSize),a=mxUtils.getNumber(this.style,mxConstants.STYLE_INDICATOR_HEIGHT,this.indicatorSize),l=this.spacing+5;return r==mxConstants.ALIGN_RIGHT?t+=i-s-l:r==mxConstants.ALIGN_CENTER?t+=(i-s)/2:t+=l,o==mxConstants.ALIGN_BOTTOM?e+=n-a-l:o==mxConstants.ALIGN_TOP?e+=l:e+=(n-a)/2,new mxRectangle(t,e,s,a)},mxLabel.prototype.redrawHtmlShape=function(){for(mxRectangleShape.prototype.redrawHtmlShape.apply(this,arguments);this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);if(null!=this.image){var t=document.createElement("img");t.style.position="relative",t.setAttribute("border","0");var e=this.getImageBounds(this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height);e.x-=this.bounds.x,e.y-=this.bounds.y,t.style.left=Math.round(e.x)+"px",t.style.top=Math.round(e.y)+"px",t.style.width=Math.round(e.width)+"px",t.style.height=Math.round(e.height)+"px",t.src=this.image,this.node.appendChild(t)}},__mxOutput.mxLabel=void 0!==mxLabel?mxLabel:void 0,mxUtils.extend(mxCylinder,mxShape),mxCylinder.prototype.maxHeight=40,mxCylinder.prototype.svgStrokeTolerance=0,mxCylinder.prototype.paintVertexShape=function(t,e,i,n,r){t.translate(e,i),t.begin(),this.redrawPath(t,e,i,n,r,!1),t.fillAndStroke(),this.outline&&null!=this.style&&0!=mxUtils.getValue(this.style,mxConstants.STYLE_BACKGROUND_OUTLINE,0)||(t.setShadow(!1),t.begin(),this.redrawPath(t,e,i,n,r,!0),t.stroke())},mxCylinder.prototype.getCylinderSize=function(t,e,i,n){return Math.min(this.maxHeight,Math.round(n/5))},mxCylinder.prototype.redrawPath=function(t,e,i,n,r,o){var s=this.getCylinderSize(e,i,n,r);(o&&null!=this.fill||!o&&null==this.fill)&&(t.moveTo(0,s),t.curveTo(0,2*s,n,2*s,n,s),o||(t.stroke(),t.begin())),o||(t.moveTo(0,s),t.curveTo(0,-s/3,n,-s/3,n,s),t.lineTo(n,r-s),t.curveTo(n,r+s/3,0,r+s/3,0,r-s),t.close())},__mxOutput.mxCylinder=void 0!==mxCylinder?mxCylinder:void 0,mxUtils.extend(mxConnector,mxPolyline),mxConnector.prototype.updateBoundingBox=function(){this.useSvgBoundingBox=null!=this.style&&1==this.style[mxConstants.STYLE_CURVED],mxShape.prototype.updateBoundingBox.apply(this,arguments)},mxConnector.prototype.paintEdgeShape=function(t,e){var i=this.createMarker(t,e,!0),n=this.createMarker(t,e,!1);mxPolyline.prototype.paintEdgeShape.apply(this,arguments),t.setFillColor(this.stroke),t.setShadow(!1),t.setDashed(!1),null!=i&&i(),null!=n&&n()},mxConnector.prototype.createMarker=function(t,e,i){var n=null,r=e.length,o=mxUtils.getValue(this.style,i?mxConstants.STYLE_STARTARROW:mxConstants.STYLE_ENDARROW),s=i?e[1]:e[r-2],a=i?e[0]:e[r-1];if(null!=o&&null!=s&&null!=a){for(var l=1;l<r-1&&0==Math.round(s.x-a.x)&&0==Math.round(s.y-a.y);)s=i?e[1+l]:e[r-2-l],l++;var h=a.x-s.x,u=a.y-s.y,c=Math.max(1,Math.sqrt(h*h+u*u)),d=h/c,p=u/c,f=mxUtils.getNumber(this.style,i?mxConstants.STYLE_STARTSIZE:mxConstants.STYLE_ENDSIZE,mxConstants.DEFAULT_MARKERSIZE),m=0!=this.style[i?mxConstants.STYLE_STARTFILL:mxConstants.STYLE_ENDFILL];n=mxMarker.createMarker(t,this,o,a,d,p,f,i,this.strokewidth,m)}return n},mxConnector.prototype.augmentBoundingBox=function(t){mxShape.prototype.augmentBoundingBox.apply(this,arguments);var e=0;mxUtils.getValue(this.style,mxConstants.STYLE_STARTARROW,mxConstants.NONE)!=mxConstants.NONE&&(e=mxUtils.getNumber(this.style,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_MARKERSIZE)+1),mxUtils.getValue(this.style,mxConstants.STYLE_ENDARROW,mxConstants.NONE)!=mxConstants.NONE&&(e=Math.max(e,mxUtils.getNumber(this.style,mxConstants.STYLE_ENDSIZE,mxConstants.DEFAULT_MARKERSIZE))+1),t.grow(e*this.scale)},__mxOutput.mxConnector=void 0!==mxConnector?mxConnector:void 0,mxUtils.extend(mxSwimlane,mxShape),mxSwimlane.prototype.imageSize=16,mxSwimlane.prototype.isRoundable=function(t,e,i,n,r){return!0},mxSwimlane.prototype.getTitleSize=function(){return Math.max(0,mxUtils.getValue(this.style,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_STARTSIZE))},mxSwimlane.prototype.getLabelBounds=function(t){var e=this.getTitleSize(),i=new mxRectangle(t.x,t.y,t.width,t.height),n=this.isHorizontal(),r=1==mxUtils.getValue(this.style,mxConstants.STYLE_FLIPH,0),o=1==mxUtils.getValue(this.style,mxConstants.STYLE_FLIPV,0),s=this.direction==mxConstants.DIRECTION_NORTH||this.direction==mxConstants.DIRECTION_SOUTH,a=n==!s,l=!a&&r!=(this.direction==mxConstants.DIRECTION_SOUTH||this.direction==mxConstants.DIRECTION_WEST),h=a&&o!=(this.direction==mxConstants.DIRECTION_SOUTH||this.direction==mxConstants.DIRECTION_WEST);if(s){u=Math.min(i.width,e*this.scale);(l||h)&&(i.x+=i.width-u),i.width=u}else{var u=Math.min(i.height,e*this.scale);(l||h)&&(i.y+=i.height-u),i.height=u}return i},mxSwimlane.prototype.getGradientBounds=function(t,e,i,n,r){var o=this.getTitleSize();return this.isHorizontal()?new mxRectangle(e,i,n,o=Math.min(o,r)):new mxRectangle(e,i,o=Math.min(o,n),r)},mxSwimlane.prototype.getArcSize=function(t,e,i){return i*(mxUtils.getValue(this.style,mxConstants.STYLE_ARCSIZE,100*mxConstants.RECTANGLE_ROUNDING_FACTOR)/100)*3},mxSwimlane.prototype.isHorizontal=function(){return 1==mxUtils.getValue(this.style,mxConstants.STYLE_HORIZONTAL,1)},mxSwimlane.prototype.paintVertexShape=function(t,e,i,n,r){var o=this.getTitleSize(),s=mxUtils.getValue(this.style,mxConstants.STYLE_SWIMLANE_FILLCOLOR,mxConstants.NONE),a=1==mxUtils.getValue(this.style,mxConstants.STYLE_SWIMLANE_LINE,1),l=0;o=this.isHorizontal()?Math.min(o,r):Math.min(o,n),t.translate(e,i),this.isRounded?(l=this.getArcSize(n,r,o),l=Math.min((this.isHorizontal()?r:n)-o,Math.min(o,l)),this.paintRoundedSwimlane(t,e,i,n,r,o,l,s,a)):this.paintSwimlane(t,e,i,n,r,o,s,a);var h=mxUtils.getValue(this.style,mxConstants.STYLE_SEPARATORCOLOR,mxConstants.NONE);if(this.paintSeparator(t,e,i,n,r,o,h),null!=this.image){var u=this.getImageBounds(e,i,n,r);t.image(u.x-e,u.y-i,u.width,u.height,this.image,!1,!1,!1)}this.glass&&(t.setShadow(!1),this.paintGlassEffect(t,0,0,n,o,l))},mxSwimlane.prototype.paintSwimlane=function(t,e,i,n,r,o,s,a){t.begin(),this.isHorizontal()?(t.moveTo(0,o),t.lineTo(0,0),t.lineTo(n,0),t.lineTo(n,o),t.fillAndStroke(),o<r&&(s==mxConstants.NONE?t.pointerEvents=!1:t.setFillColor(s),t.begin(),t.moveTo(0,o),t.lineTo(0,r),t.lineTo(n,r),t.lineTo(n,o),s==mxConstants.NONE?t.stroke():t.fillAndStroke())):(t.moveTo(o,0),t.lineTo(0,0),t.lineTo(0,r),t.lineTo(o,r),t.fillAndStroke(),o<n&&(s==mxConstants.NONE?t.pointerEvents=!1:t.setFillColor(s),t.begin(),t.moveTo(o,0),t.lineTo(n,0),t.lineTo(n,r),t.lineTo(o,r),s==mxConstants.NONE?t.stroke():t.fillAndStroke())),a&&this.paintDivider(t,e,i,n,r,o,s==mxConstants.NONE)},mxSwimlane.prototype.paintRoundedSwimlane=function(t,e,i,n,r,o,s,a,l){t.begin(),this.isHorizontal()?(t.moveTo(n,o),t.lineTo(n,s),t.quadTo(n,0,n-Math.min(n/2,s),0),t.lineTo(Math.min(n/2,s),0),t.quadTo(0,0,0,s),t.lineTo(0,o),t.fillAndStroke(),o<r&&(a==mxConstants.NONE?t.pointerEvents=!1:t.setFillColor(a),t.begin(),t.moveTo(0,o),t.lineTo(0,r-s),t.quadTo(0,r,Math.min(n/2,s),r),t.lineTo(n-Math.min(n/2,s),r),t.quadTo(n,r,n,r-s),t.lineTo(n,o),a==mxConstants.NONE?t.stroke():t.fillAndStroke())):(t.moveTo(o,0),t.lineTo(s,0),t.quadTo(0,0,0,Math.min(r/2,s)),t.lineTo(0,r-Math.min(r/2,s)),t.quadTo(0,r,s,r),t.lineTo(o,r),t.fillAndStroke(),o<n&&(a==mxConstants.NONE?t.pointerEvents=!1:t.setFillColor(a),t.begin(),t.moveTo(o,r),t.lineTo(n-s,r),t.quadTo(n,r,n,r-Math.min(r/2,s)),t.lineTo(n,Math.min(r/2,s)),t.quadTo(n,0,n-s,0),t.lineTo(o,0),a==mxConstants.NONE?t.stroke():t.fillAndStroke())),l&&this.paintDivider(t,e,i,n,r,o,a==mxConstants.NONE)},mxSwimlane.prototype.paintDivider=function(t,e,i,n,r,o,s){s||t.setShadow(!1),t.begin(),this.isHorizontal()?(t.moveTo(0,o),t.lineTo(n,o)):(t.moveTo(o,0),t.lineTo(o,r)),t.stroke()},mxSwimlane.prototype.paintSeparator=function(t,e,i,n,r,o,s){s!=mxConstants.NONE&&(t.setStrokeColor(s),t.setDashed(!0),t.begin(),this.isHorizontal()?(t.moveTo(n,o),t.lineTo(n,r)):(t.moveTo(o,0),t.lineTo(n,0)),t.stroke(),t.setDashed(!1))},mxSwimlane.prototype.getImageBounds=function(t,e,i,n){return this.isHorizontal()?new mxRectangle(t+i-this.imageSize,e,this.imageSize,this.imageSize):new mxRectangle(t,e,this.imageSize,this.imageSize)},__mxOutput.mxSwimlane=void 0!==mxSwimlane?mxSwimlane:void 0,mxGraphLayout.prototype.graph=null,mxGraphLayout.prototype.useBoundingBox=!0,mxGraphLayout.prototype.parent=null,mxGraphLayout.prototype.moveCell=function(t,e,i){},mxGraphLayout.prototype.execute=function(t){},mxGraphLayout.prototype.getGraph=function(){return this.graph},mxGraphLayout.prototype.getConstraint=function(t,e,i,n){var r=this.graph.view.getState(e),o=null!=r?r.style:this.graph.getCellStyle(e);return null!=o?o[t]:null},mxGraphLayout.traverse=function(t,e,i,n,r){if(null!=i&&null!=t&&(e=null==e||e,!(r=r||new mxDictionary).get(t))){r.put(t,!0);var o=i(t,n);if(null==o||o){var s=this.graph.model.getEdgeCount(t);if(s>0)for(var a=0;a<s;a++){var l=this.graph.model.getEdgeAt(t,a),h=this.graph.model.getTerminal(l,!0)==t;if(!e||h){var u=this.graph.view.getVisibleTerminal(l,!h);this.traverse(u,e,i,l,r)}}}}},mxGraphLayout.prototype.isAncestor=function(t,e,i){if(!i)return this.graph.model.getParent(e)==t;if(e==t)return!1;for(;null!=e&&e!=t;)e=this.graph.model.getParent(e);return e==t},mxGraphLayout.prototype.isVertexMovable=function(t){return this.graph.isCellMovable(t)},mxGraphLayout.prototype.isVertexIgnored=function(t){return!this.graph.getModel().isVertex(t)||!this.graph.isCellVisible(t)},mxGraphLayout.prototype.isEdgeIgnored=function(t){var e=this.graph.getModel();return!e.isEdge(t)||!this.graph.isCellVisible(t)||null==e.getTerminal(t,!0)||null==e.getTerminal(t,!1)},mxGraphLayout.prototype.setEdgeStyleEnabled=function(t,e){this.graph.setCellStyles(mxConstants.STYLE_NOEDGESTYLE,e?"0":"1",[t])},mxGraphLayout.prototype.setOrthogonalEdge=function(t,e){this.graph.setCellStyles(mxConstants.STYLE_ORTHOGONAL,e?"1":"0",[t])},mxGraphLayout.prototype.getParentOffset=function(t){var e=new mxPoint;if(null!=t&&t!=this.parent){var i=this.graph.getModel();if(i.isAncestor(this.parent,t))for(var n=i.getGeometry(t);t!=this.parent;)e.x=e.x+n.x,e.y=e.y+n.y,t=i.getParent(t),n=i.getGeometry(t)}return e},mxGraphLayout.prototype.setEdgePoints=function(t,e){if(null!=t){var i=this.graph.model,n=i.getGeometry(t);if(null==n?(n=new mxGeometry).setRelative(!0):n=n.clone(),null!=this.parent&&null!=e)for(var r=i.getParent(t),o=this.getParentOffset(r),s=0;s<e.length;s++)e[s].x=e[s].x-o.x,e[s].y=e[s].y-o.y;n.points=e,i.setGeometry(t,n)}},mxGraphLayout.prototype.setVertexLocation=function(t,e,i){var n=this.graph.getModel(),r=n.getGeometry(t),o=null;if(null!=r){if(o=new mxRectangle(e,i,r.width,r.height),this.useBoundingBox){var s=this.graph.getView().getState(t);if(null!=s&&null!=s.text&&null!=s.text.boundingBox){var a=this.graph.getView().scale,l=s.text.boundingBox;s.text.boundingBox.x<s.x&&(e+=(s.x-l.x)/a,o.width=l.width),s.text.boundingBox.y<s.y&&(i+=(s.y-l.y)/a,o.height=l.height)}}if(null!=this.parent){var h=n.getParent(t);if(null!=h&&h!=this.parent){var u=this.getParentOffset(h);e-=u.x,i-=u.y}}r.x==e&&r.y==i||((r=r.clone()).x=e,r.y=i,n.setGeometry(t,r))}return o},mxGraphLayout.prototype.getVertexBounds=function(t){var e=this.graph.getModel().getGeometry(t);if(this.useBoundingBox){var i=this.graph.getView().getState(t);if(null!=i&&null!=i.text&&null!=i.text.boundingBox){var n=this.graph.getView().scale,r=i.text.boundingBox,o=Math.max(i.x-r.x,0)/n,s=Math.max(i.y-r.y,0)/n,a=Math.max(r.x+r.width-(i.x+i.width),0)/n,l=Math.max(r.y+r.height-(i.y+i.height),0)/n;e=new mxRectangle(e.x-o,e.y-s,e.width+o+a,e.height+s+l)}}if(null!=this.parent){var h=this.graph.getModel().getParent(t);if(e=e.clone(),null!=h&&h!=this.parent){var u=this.getParentOffset(h);e.x=e.x+u.x,e.y=e.y+u.y}}return new mxRectangle(e.x,e.y,e.width,e.height)},mxGraphLayout.prototype.arrangeGroups=function(t,e,i,n,r,o){return this.graph.updateGroupBounds(t,e,!0,i,n,r,o)},WeightedCellSorter.prototype.weightedValue=0,WeightedCellSorter.prototype.nudge=!1,WeightedCellSorter.prototype.visited=!1,WeightedCellSorter.prototype.rankIndex=null,WeightedCellSorter.prototype.cell=null,WeightedCellSorter.prototype.compare=function(t,e){return null!=t&&null!=e?e.weightedValue>t.weightedValue?-1:e.weightedValue<t.weightedValue?1:e.nudge?-1:1:0},__mxOutput.mxGraphLayout=void 0!==mxGraphLayout?mxGraphLayout:void 0,mxStackLayout.prototype=new mxGraphLayout,mxStackLayout.prototype.constructor=mxStackLayout,mxStackLayout.prototype.horizontal=null,mxStackLayout.prototype.spacing=null,mxStackLayout.prototype.x0=null,mxStackLayout.prototype.y0=null,mxStackLayout.prototype.border=0,mxStackLayout.prototype.marginTop=0,mxStackLayout.prototype.marginLeft=0,mxStackLayout.prototype.marginRight=0,mxStackLayout.prototype.marginBottom=0,mxStackLayout.prototype.keepFirstLocation=!1,mxStackLayout.prototype.fill=!1,mxStackLayout.prototype.resizeParent=!1,mxStackLayout.prototype.resizeParentMax=!1,mxStackLayout.prototype.resizeLast=!1,mxStackLayout.prototype.wrap=null,mxStackLayout.prototype.borderCollapse=!0,mxStackLayout.prototype.allowGaps=!1,mxStackLayout.prototype.gridSize=0,mxStackLayout.prototype.isHorizontal=function(){return this.horizontal},mxStackLayout.prototype.moveCell=function(t,e,i){var n=this.graph.getModel(),r=n.getParent(t),o=this.isHorizontal();if(null!=t&&null!=r){var s=0,a=0,l=n.getChildCount(r),h=o?e:i,u=this.graph.getView().getState(r);for(null!=u&&(h-=o?u.x:u.y),h/=this.graph.view.scale,s=0;s<l;s++){var c=n.getChildAt(r,s);if(c!=t){var d=n.getGeometry(c);if(null!=d){var p=o?d.x+d.width/2:d.y+d.height/2;if(a<=h&&p>h)break;a=p}}}var f=r.getIndex(t);f=Math.max(0,s-(s>f?1:0)),n.add(r,t,f)}},mxStackLayout.prototype.getParentSize=function(t){var e=this.graph.getModel(),i=e.getGeometry(t);null!=this.graph.container&&(null==i&&e.isLayer(t)||t==this.graph.getView().currentRoot)&&(i=new mxRectangle(0,0,this.graph.container.offsetWidth-1,this.graph.container.offsetHeight-1));return i},mxStackLayout.prototype.getLayoutCells=function(t){for(var e=this.graph.getModel(),i=e.getChildCount(t),n=[],r=0;r<i;r++){var o=e.getChildAt(t,r);!this.isVertexIgnored(o)&&this.isVertexMovable(o)&&n.push(o)}return this.allowGaps&&n.sort(mxUtils.bind(this,function(t,e){var i=this.graph.getCellGeometry(t),n=this.graph.getCellGeometry(e);return i.y==n.y?0:i.y>n.y>0?1:-1})),n},mxStackLayout.prototype.snap=function(t){if(null!=this.gridSize&&this.gridSize>0&&(t=Math.max(t,this.gridSize))/this.gridSize>1){var e=t%this.gridSize;t+=e>this.gridSize/2?this.gridSize-e:-e}return t},mxStackLayout.prototype.execute=function(t){if(null!=t){var e=this.getParentSize(t),i=this.isHorizontal(),n=this.graph.getModel(),r=null;null!=e&&(r=i?e.height-this.marginTop-this.marginBottom:e.width-this.marginLeft-this.marginRight),r-=2*this.border;var o=this.x0+this.border+this.marginLeft,s=this.y0+this.border+this.marginTop;if(this.graph.isSwimlane(t)){var a=this.graph.getCellStyle(t),l=mxUtils.getNumber(a,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_STARTSIZE),h=1==mxUtils.getValue(a,mxConstants.STYLE_HORIZONTAL,!0);null!=e&&(l=h?Math.min(l,e.height):Math.min(l,e.width)),i==h&&(r-=l),h?s+=l:o+=l}n.beginUpdate();try{for(var u=0,c=null,d=0,p=null,f=this.getLayoutCells(t),m=0;m<f.length;m++){var g=f[m],v=n.getGeometry(g);if(null!=v){v=v.clone(),null!=this.wrap&&null!=c&&(i&&c.x+c.width+v.width+2*this.spacing>this.wrap||!i&&c.y+c.height+v.height+2*this.spacing>this.wrap)&&(c=null,i?s+=u+this.spacing:o+=u+this.spacing,u=0),u=Math.max(u,i?v.height:v.width);var A=0;if(!this.borderCollapse){var y=this.graph.getCellStyle(g);A=mxUtils.getNumber(y,mxConstants.STYLE_STROKEWIDTH,1)}if(null!=c){var x=d+this.spacing+Math.floor(A/2);i?v.x=this.snap((this.allowGaps?Math.max(x,v.x):x)-this.marginLeft)+this.marginLeft:v.y=this.snap((this.allowGaps?Math.max(x,v.y):x)-this.marginTop)+this.marginTop}else this.keepFirstLocation||(i?v.x=this.allowGaps&&v.x>o?Math.max(this.snap(v.x-this.marginLeft)+this.marginLeft,o):o:v.y=this.allowGaps&&v.y>s?Math.max(this.snap(v.y-this.marginTop)+this.marginTop,s):s);i?v.y=s:v.x=o,this.fill&&null!=r&&(i?v.height=r:v.width=r),i?v.width=this.snap(v.width):v.height=this.snap(v.height),this.setChildGeometry(g,v),p=g,c=v,d=i?c.x+c.width+Math.floor(A/2):c.y+c.height+Math.floor(A/2)}}this.resizeParent&&null!=e&&null!=c&&!this.graph.isCellCollapsed(t)?this.updateParentGeometry(t,e,c):this.resizeLast&&null!=e&&null!=c&&null!=p&&(i?c.width=e.width-c.x-this.spacing-this.marginRight-this.marginLeft:c.height=e.height-c.y-this.spacing-this.marginBottom,this.setChildGeometry(p,c))}finally{n.endUpdate()}}},mxStackLayout.prototype.setChildGeometry=function(t,e){var i=this.graph.getCellGeometry(t);null!=i&&e.x==i.x&&e.y==i.y&&e.width==i.width&&e.height==i.height||this.graph.getModel().setGeometry(t,e)},mxStackLayout.prototype.updateParentGeometry=function(t,e,i){var n=this.isHorizontal(),r=this.graph.getModel(),o=e.clone();if(n){var s=i.x+i.width+this.marginRight+this.border;this.resizeParentMax?o.width=Math.max(o.width,s):o.width=s}else{s=i.y+i.height+this.marginBottom+this.border;this.resizeParentMax?o.height=Math.max(o.height,s):o.height=s}e.x==o.x&&e.y==o.y&&e.width==o.width&&e.height==o.height||r.setGeometry(t,o)},__mxOutput.mxStackLayout=void 0!==mxStackLayout?mxStackLayout:void 0,mxPartitionLayout.prototype=new mxGraphLayout,mxPartitionLayout.prototype.constructor=mxPartitionLayout,mxPartitionLayout.prototype.horizontal=null,mxPartitionLayout.prototype.spacing=null,mxPartitionLayout.prototype.border=null,mxPartitionLayout.prototype.resizeVertices=!0,mxPartitionLayout.prototype.isHorizontal=function(){return this.horizontal},mxPartitionLayout.prototype.moveCell=function(t,e,i){var n=this.graph.getModel(),r=n.getParent(t);if(null!=t&&null!=r){var o=0,s=0,a=n.getChildCount(r);for(o=0;o<a;o++){var l=n.getChildAt(r,o),h=this.getVertexBounds(l);if(null!=h){var u=h.x+h.width/2;if(s<e&&u>e)break;s=u}}var c=r.getIndex(t);c=Math.max(0,o-(o>c?1:0)),n.add(r,t,c)}},mxPartitionLayout.prototype.execute=function(t){var e=this.isHorizontal(),i=this.graph.getModel(),n=i.getGeometry(t);null!=this.graph.container&&(null==n&&i.isLayer(t)||t==this.graph.getView().currentRoot)&&(n=new mxRectangle(0,0,this.graph.container.offsetWidth-1,this.graph.container.offsetHeight-1));if(null!=n){for(var r=[],o=i.getChildCount(t),s=0;s<o;s++){var a=i.getChildAt(t,s);!this.isVertexIgnored(a)&&this.isVertexMovable(a)&&r.push(a)}var l=r.length;if(l>0){var h=this.border,u=this.border,c=e?n.height:n.width;c-=2*this.border;var d=this.graph.isSwimlane(t)?this.graph.getStartSize(t):new mxRectangle;c-=e?d.height:d.width,h+=d.width,u+=d.height;var p=this.border+(l-1)*this.spacing,f=e?(n.width-h-p)/l:(n.height-u-p)/l;if(f>0){i.beginUpdate();try{for(s=0;s<l;s++){a=r[s];var m=i.getGeometry(a);null!=m&&((m=m.clone()).x=h,m.y=u,e?(this.resizeVertices&&(m.width=f,m.height=c),h+=f+this.spacing):(this.resizeVertices&&(m.height=f,m.width=c),u+=f+this.spacing),i.setGeometry(a,m))}}finally{i.endUpdate()}}}}},__mxOutput.mxPartitionLayout=void 0!==mxPartitionLayout?mxPartitionLayout:void 0,mxCompactTreeLayout.prototype=new mxGraphLayout,mxCompactTreeLayout.prototype.constructor=mxCompactTreeLayout,mxCompactTreeLayout.prototype.horizontal=null,mxCompactTreeLayout.prototype.invert=null,mxCompactTreeLayout.prototype.resizeParent=!0,mxCompactTreeLayout.prototype.maintainParentLocation=!1,mxCompactTreeLayout.prototype.groupPadding=10,mxCompactTreeLayout.prototype.groupPaddingTop=0,mxCompactTreeLayout.prototype.groupPaddingRight=0,mxCompactTreeLayout.prototype.groupPaddingBottom=0,mxCompactTreeLayout.prototype.groupPaddingLeft=0,mxCompactTreeLayout.prototype.parentsChanged=null,mxCompactTreeLayout.prototype.moveTree=!1,mxCompactTreeLayout.prototype.visited=null,mxCompactTreeLayout.prototype.levelDistance=10,mxCompactTreeLayout.prototype.nodeDistance=20,mxCompactTreeLayout.prototype.resetEdges=!0,mxCompactTreeLayout.prototype.prefHozEdgeSep=5,mxCompactTreeLayout.prototype.prefVertEdgeOff=4,mxCompactTreeLayout.prototype.minEdgeJetty=8,mxCompactTreeLayout.prototype.channelBuffer=4,mxCompactTreeLayout.prototype.edgeRouting=!0,mxCompactTreeLayout.prototype.sortEdges=!1,mxCompactTreeLayout.prototype.alignRanks=!1,mxCompactTreeLayout.prototype.maxRankHeight=null,mxCompactTreeLayout.prototype.root=null,mxCompactTreeLayout.prototype.node=null,mxCompactTreeLayout.prototype.isVertexIgnored=function(t){return mxGraphLayout.prototype.isVertexIgnored.apply(this,arguments)||0==this.graph.getConnections(t).length},mxCompactTreeLayout.prototype.isHorizontal=function(){return this.horizontal},mxCompactTreeLayout.prototype.execute=function(t,e){this.parent=t;var i=this.graph.getModel();if(null==e)if(this.graph.getEdges(t,i.getParent(t),this.invert,!this.invert,!1).length>0)this.root=t;else{var n=this.graph.findTreeRoots(t,!0,this.invert);if(n.length>0)for(var r=0;r<n.length;r++)if(!this.isVertexIgnored(n[r])&&this.graph.getEdges(n[r],null,this.invert,!this.invert,!1).length>0){this.root=n[r];break}}else this.root=e;if(null!=this.root){if(this.resizeParent?this.parentsChanged=new Object:this.parentsChanged=null,this.parentX=null,this.parentY=null,t!=this.root&&null!=i.isVertex(t)&&this.maintainParentLocation)null!=(l=this.graph.getCellGeometry(t))&&(this.parentX=l.x,this.parentY=l.y);i.beginUpdate();try{if(this.visited=new Object,this.node=this.dfs(this.root,t),this.alignRanks&&(this.maxRankHeight=[],this.findRankHeights(this.node,0),this.setCellHeights(this.node,0)),null!=this.node){this.layout(this.node);var o=this.graph.gridSize,s=o;if(!this.moveTree){var a=this.getVertexBounds(this.root);null!=a&&(o=a.x,s=a.y)}var l,h=null;if(null!=(h=this.isHorizontal()?this.horizontalLayout(this.node,o,s):this.verticalLayout(this.node,null,o,s))){var u=0,c=0;h.x<0&&(u=Math.abs(o-h.x)),h.y<0&&(c=Math.abs(s-h.y)),0==u&&0==c||this.moveNode(this.node,u,c),this.resizeParent&&this.adjustParents(),this.edgeRouting&&this.localEdgeProcessing(this.node)}if(null!=this.parentX&&null!=this.parentY)null!=(l=this.graph.getCellGeometry(t))&&((l=l.clone()).x=this.parentX,l.y=this.parentY,i.setGeometry(t,l))}}finally{i.endUpdate()}}},mxCompactTreeLayout.prototype.moveNode=function(t,e,i){t.x+=e,t.y+=i,this.apply(t);for(var n=t.child;null!=n;)this.moveNode(n,e,i),n=n.next},mxCompactTreeLayout.prototype.sortOutgoingEdges=function(t,e){var i=new mxDictionary;e.sort(function(e,n){var r=e.getTerminal(e.getTerminal(!1)==t),o=i.get(r);null==o&&(o=mxCellPath.create(r).split(mxCellPath.PATH_SEPARATOR),i.put(r,o));var s=n.getTerminal(n.getTerminal(!1)==t),a=i.get(s);return null==a&&(a=mxCellPath.create(s).split(mxCellPath.PATH_SEPARATOR),i.put(s,a)),mxCellPath.compare(o,a)})},mxCompactTreeLayout.prototype.findRankHeights=function(t,e){(null==this.maxRankHeight[e]||this.maxRankHeight[e]<t.height)&&(this.maxRankHeight[e]=t.height);for(var i=t.child;null!=i;)this.findRankHeights(i,e+1),i=i.next},mxCompactTreeLayout.prototype.setCellHeights=function(t,e){null!=this.maxRankHeight[e]&&this.maxRankHeight[e]>t.height&&(t.height=this.maxRankHeight[e]);for(var i=t.child;null!=i;)this.setCellHeights(i,e+1),i=i.next},mxCompactTreeLayout.prototype.dfs=function(t,e){var i=mxCellPath.create(t),n=null;if(null!=t&&null==this.visited[i]&&!this.isVertexIgnored(t)){this.visited[i]=t,n=this.createNode(t);var r=this.graph.getModel(),o=null,s=this.graph.getEdges(t,e,this.invert,!this.invert,!1,!0),a=this.graph.getView();this.sortEdges&&this.sortOutgoingEdges(t,s);for(var l=0;l<s.length;l++){var h=s[l];if(!this.isEdgeIgnored(h)){this.resetEdges&&this.setEdgePoints(h,null),this.edgeRouting&&(this.setEdgeStyleEnabled(h,!1),this.setEdgePoints(h,null));var u=a.getState(h),c=null!=u?u.getVisibleTerminal(this.invert):a.getVisibleTerminal(h,this.invert),d=this.dfs(c,e);null!=d&&null!=r.getGeometry(c)&&(null==o?n.child=d:o.next=d,o=d)}}}return n},mxCompactTreeLayout.prototype.layout=function(t){if(null!=t){for(var e=t.child;null!=e;)this.layout(e),e=e.next;null!=t.child?this.attachParent(t,this.join(t)):this.layoutLeaf(t)}},mxCompactTreeLayout.prototype.horizontalLayout=function(t,e,i,n){t.x+=e+t.offsetX,t.y+=i+t.offsetY,n=this.apply(t,n);var r=t.child;if(null!=r){n=this.horizontalLayout(r,t.x,t.y,n);for(var o=t.y+r.offsetY,s=r.next;null!=s;)n=this.horizontalLayout(s,t.x+r.offsetX,o,n),o+=s.offsetY,s=s.next}return n},mxCompactTreeLayout.prototype.verticalLayout=function(t,e,i,n,r){t.x+=i+t.offsetY,t.y+=n+t.offsetX,r=this.apply(t,r);var o=t.child;if(null!=o){r=this.verticalLayout(o,t,t.x,t.y,r);for(var s=t.x+o.offsetY,a=o.next;null!=a;)r=this.verticalLayout(a,t,s,t.y+o.offsetX,r),s+=a.offsetY,a=a.next}return r},mxCompactTreeLayout.prototype.attachParent=function(t,e){var i=this.nodeDistance+this.levelDistance,n=(e-t.width)/2-this.nodeDistance,r=n+t.width+2*this.nodeDistance-e;t.child.offsetX=i+t.height,t.child.offsetY=r,t.contour.upperHead=this.createLine(t.height,0,this.createLine(i,r,t.contour.upperHead)),t.contour.lowerHead=this.createLine(t.height,0,this.createLine(i,n,t.contour.lowerHead))},mxCompactTreeLayout.prototype.layoutLeaf=function(t){var e=2*this.nodeDistance;t.contour.upperTail=this.createLine(t.height+e,0),t.contour.upperHead=t.contour.upperTail,t.contour.lowerTail=this.createLine(0,-t.width-e),t.contour.lowerHead=this.createLine(t.height+e,0,t.contour.lowerTail)},mxCompactTreeLayout.prototype.join=function(t){var e=2*this.nodeDistance,i=t.child;t.contour=i.contour;var n=i.width+e,r=n;for(i=i.next;null!=i;){var o=this.merge(t.contour,i.contour);i.offsetY=o+n,i.offsetX=0,r+=o+(n=i.width+e),i=i.next}return r},mxCompactTreeLayout.prototype.merge=function(t,e){for(var i=0,n=0,r=0,o=t.lowerHead,s=e.upperHead;null!=s&&null!=o;){var a=this.offset(i,n,s.dx,s.dy,o.dx,o.dy);n+=a,r+=a,i+s.dx<=o.dx?(i+=s.dx,n+=s.dy,s=s.next):(i-=o.dx,n-=o.dy,o=o.next)}if(null!=s){var l=this.bridge(t.upperTail,0,0,s,i,n);t.upperTail=null!=l.next?e.upperTail:l,t.lowerTail=e.lowerTail}else{null==(l=this.bridge(e.lowerTail,i,n,o,0,0)).next&&(t.lowerTail=l)}return t.lowerHead=e.lowerHead,r},mxCompactTreeLayout.prototype.offset=function(t,e,i,n,r,o){var s=0;if(r<=t||t+i<=0)return 0;if(r*n-i*o>0)if(t<0)s=t*n/i-e;else if(t>0){s=t*o/r-e}else s=-e;else if(r<t+i){s=o-(e+(r-t)*n/i)}else if(r>t+i){s=(i+t)*o/r-(e+n)}else s=o-(e+n);return s>0?s:0},mxCompactTreeLayout.prototype.bridge=function(t,e,i,n,r,o){var s=r+n.dx-e,a=0;a=0==n.dx?n.dy:s*n.dy/n.dx;var l=this.createLine(s,a,n.next);return t.next=this.createLine(0,o+n.dy-a-i,l),l},mxCompactTreeLayout.prototype.createNode=function(t){var e=new Object;e.cell=t,e.x=0,e.y=0,e.width=0,e.height=0;var i=this.getVertexBounds(t);return null!=i&&(this.isHorizontal()?(e.width=i.height,e.height=i.width):(e.width=i.width,e.height=i.height)),e.offsetX=0,e.offsetY=0,e.contour=new Object,e},mxCompactTreeLayout.prototype.apply=function(t,e){var i=this.graph.getModel(),n=t.cell,r=i.getGeometry(n);if(null!=n&&null!=r){if(this.isVertexMovable(n)&&(r=this.setVertexLocation(n,t.x,t.y),this.resizeParent)){var o=i.getParent(n),s=mxCellPath.create(o);null==this.parentsChanged[s]&&(this.parentsChanged[s]=o)}e=null==e?new mxRectangle(r.x,r.y,r.width,r.height):new mxRectangle(Math.min(e.x,r.x),Math.min(e.y,r.y),Math.max(e.x+e.width,r.x+r.width),Math.max(e.y+e.height,r.y+r.height))}return e},mxCompactTreeLayout.prototype.createLine=function(t,e,i){var n=new Object;return n.dx=t,n.dy=e,n.next=i,n},mxCompactTreeLayout.prototype.adjustParents=function(){var t=[];for(var e in this.parentsChanged)t.push(this.parentsChanged[e]);this.arrangeGroups(mxUtils.sortCells(t,!0),this.groupPadding,this.groupPaddingTop,this.groupPaddingRight,this.groupPaddingBottom,this.groupPaddingLeft)},mxCompactTreeLayout.prototype.localEdgeProcessing=function(t){this.processNodeOutgoing(t);for(var e=t.child;null!=e;)this.localEdgeProcessing(e),e=e.next},mxCompactTreeLayout.prototype.processNodeOutgoing=function(t){for(var e=t.child,i=t.cell,n=0,r=[];null!=e;){n++;var o=e.x;this.horizontal&&(o=e.y),r.push(new WeightedCellSorter(e,o)),e=e.next}r.sort(WeightedCellSorter.prototype.compare);var s=t.width,a=(n+1)*this.prefHozEdgeSep;s>a+2*this.prefHozEdgeSep&&(s-=2*this.prefHozEdgeSep);var l=s/n,h=l/2;s>a+2*this.prefHozEdgeSep&&(h+=this.prefHozEdgeSep);var u=this.minEdgeJetty-this.prefVertEdgeOff,c=0,d=this.getVertexBounds(i);e=t.child;for(var p=0;p<r.length;p++){for(var f=r[p].cell.cell,m=this.getVertexBounds(f),g=this.graph.getEdgesBetween(i,f,!1),v=[],A=0,y=0,x=0;x<g.length;x++)this.horizontal?(A=d.x+d.width,y=d.y+h,v.push(new mxPoint(A,y)),A=d.x+d.width+u,v.push(new mxPoint(A,y)),y=m.y+m.height/2,v.push(new mxPoint(A,y)),this.setEdgePoints(g[x],v)):(A=d.x+h,y=d.y+d.height,v.push(new mxPoint(A,y)),y=d.y+d.height+u,v.push(new mxPoint(A,y)),A=m.x+m.width/2,v.push(new mxPoint(A,y)),this.setEdgePoints(g[x],v));p<n/2?u+=this.prefVertEdgeOff:p>n/2&&(u-=this.prefVertEdgeOff),h+=l,c=Math.max(c,u)}},__mxOutput.mxCompactTreeLayout=void 0!==mxCompactTreeLayout?mxCompactTreeLayout:void 0,mxUtils.extend(mxRadialTreeLayout,mxCompactTreeLayout),mxRadialTreeLayout.prototype.angleOffset=.5,mxRadialTreeLayout.prototype.rootx=0,mxRadialTreeLayout.prototype.rooty=0,mxRadialTreeLayout.prototype.levelDistance=120,mxRadialTreeLayout.prototype.nodeDistance=10,mxRadialTreeLayout.prototype.autoRadius=!1,mxRadialTreeLayout.prototype.sortEdges=!1,mxRadialTreeLayout.prototype.rowMinX=[],mxRadialTreeLayout.prototype.rowMaxX=[],mxRadialTreeLayout.prototype.rowMinCenX=[],mxRadialTreeLayout.prototype.rowMaxCenX=[],mxRadialTreeLayout.prototype.rowRadi=[],mxRadialTreeLayout.prototype.row=[],mxRadialTreeLayout.prototype.isVertexIgnored=function(t){return mxGraphLayout.prototype.isVertexIgnored.apply(this,arguments)||0==this.graph.getConnections(t).length},mxRadialTreeLayout.prototype.execute=function(t,e){this.parent=t,this.useBoundingBox=!1,this.edgeRouting=!1,mxCompactTreeLayout.prototype.execute.apply(this,arguments);var i=null,n=this.getVertexBounds(this.root);for(var r in this.centerX=n.x+n.width/2,this.centerY=n.y+n.height/2,this.visited){var o=this.getVertexBounds(this.visited[r]);(i=null!=i?i:o.clone()).add(o)}this.calcRowDims([this.node],0);for(var s=0,a=0,l=0;l<this.row.length;l++){var h=(this.centerX-this.rowMinX[l]-this.nodeDistance)/this.rowRadi[l],u=(this.rowMaxX[l]-this.centerX-this.nodeDistance)/this.rowRadi[l];s=Math.max(s,h),a=Math.max(a,u)}for(l=0;l<this.row.length;l++)for(var c=this.centerX-this.nodeDistance-s*this.rowRadi[l],d=this.centerX+this.nodeDistance+a*this.rowRadi[l]-c,p=0;p<this.row[l].length;p++){var f=(v=this.row[l])[p],m=((o=this.getVertexBounds(f.cell)).x+o.width/2-c)/d,g=2*Math.PI*m;f.theta=g}for(l=this.row.length-2;l>=0;l--){var v=this.row[l];for(p=0;p<v.length;p++){for(var A=(f=v[p]).child,y=0,x=0;null!=A;)x+=A.theta,y++,A=A.next;if(y>0){var b=x/y;if(b>f.theta&&p<v.length-1){var C=v[p+1].theta;f.theta=Math.min(b,C-Math.PI/10)}else if(b<f.theta&&p>0){var w=v[p-1].theta;f.theta=Math.max(b,w+Math.PI/10)}}}}for(l=0;l<this.row.length;l++)for(p=0;p<this.row[l].length;p++){f=(v=this.row[l])[p],o=this.getVertexBounds(f.cell);this.setVertexLocation(f.cell,this.centerX-o.width/2+this.rowRadi[l]*Math.cos(f.theta),this.centerY-o.height/2+this.rowRadi[l]*Math.sin(f.theta))}},mxRadialTreeLayout.prototype.calcRowDims=function(t,e){if(null!=t&&0!=t.length){this.rowMinX[e]=this.centerX,this.rowMaxX[e]=this.centerX,this.rowMinCenX[e]=this.centerX,this.rowMaxCenX[e]=this.centerX,this.row[e]=[];for(var i=!1,n=0;n<t.length;n++)for(var r=null!=t[n]?t[n].child:null;null!=r;){var o=r.cell,s=this.getVertexBounds(o);this.rowMinX[e]=Math.min(s.x,this.rowMinX[e]),this.rowMaxX[e]=Math.max(s.x+s.width,this.rowMaxX[e]),this.rowMinCenX[e]=Math.min(s.x+s.width/2,this.rowMinCenX[e]),this.rowMaxCenX[e]=Math.max(s.x+s.width/2,this.rowMaxCenX[e]),this.rowRadi[e]=s.y-this.getVertexBounds(this.root).y,null!=r.child&&(i=!0),this.row[e].push(r),r=r.next}i&&this.calcRowDims(this.row[e],e+1)}},__mxOutput.mxRadialTreeLayout=void 0!==mxRadialTreeLayout?mxRadialTreeLayout:void 0,mxFastOrganicLayout.prototype=new mxGraphLayout,mxFastOrganicLayout.prototype.constructor=mxFastOrganicLayout,mxFastOrganicLayout.prototype.useInputOrigin=!0,mxFastOrganicLayout.prototype.resetEdges=!0,mxFastOrganicLayout.prototype.disableEdgeStyle=!0,mxFastOrganicLayout.prototype.forceConstant=50,mxFastOrganicLayout.prototype.forceConstantSquared=0,mxFastOrganicLayout.prototype.minDistanceLimit=2,mxFastOrganicLayout.prototype.maxDistanceLimit=500,mxFastOrganicLayout.prototype.minDistanceLimitSquared=4,mxFastOrganicLayout.prototype.initialTemp=200,mxFastOrganicLayout.prototype.temperature=0,mxFastOrganicLayout.prototype.maxIterations=0,mxFastOrganicLayout.prototype.iteration=0,mxFastOrganicLayout.prototype.vertexArray,mxFastOrganicLayout.prototype.dispX,mxFastOrganicLayout.prototype.dispY,mxFastOrganicLayout.prototype.cellLocation,mxFastOrganicLayout.prototype.radius,mxFastOrganicLayout.prototype.radiusSquared,mxFastOrganicLayout.prototype.isMoveable,mxFastOrganicLayout.prototype.neighbours,mxFastOrganicLayout.prototype.indices,mxFastOrganicLayout.prototype.allowedToRun=!0,mxFastOrganicLayout.prototype.isVertexIgnored=function(t){return mxGraphLayout.prototype.isVertexIgnored.apply(this,arguments)||0==this.graph.getConnections(t).length},mxFastOrganicLayout.prototype.execute=function(t){var e=this.graph.getModel();this.vertexArray=[];for(var i=this.graph.getChildVertices(t),n=0;n<i.length;n++)this.isVertexIgnored(i[n])||this.vertexArray.push(i[n]);var r=this.useInputOrigin?this.graph.getBoundingBoxFromGeometry(this.vertexArray):null,o=this.vertexArray.length;this.indices=[],this.dispX=[],this.dispY=[],this.cellLocation=[],this.isMoveable=[],this.neighbours=[],this.radius=[],this.radiusSquared=[],this.forceConstant<.001&&(this.forceConstant=.001),this.forceConstantSquared=this.forceConstant*this.forceConstant;for(n=0;n<this.vertexArray.length;n++){var s=this.vertexArray[n];this.cellLocation[n]=[];var a=mxObjectIdentity.get(s);this.indices[a]=n;var l=(v=this.getVertexBounds(s)).width,h=v.height,u=v.x,c=v.y;this.cellLocation[n][0]=u+l/2,this.cellLocation[n][1]=c+h/2,this.radius[n]=Math.min(l,h),this.radiusSquared[n]=this.radius[n]*this.radius[n]}e.beginUpdate();try{for(n=0;n<o;n++){this.dispX[n]=0,this.dispY[n]=0,this.isMoveable[n]=this.isVertexMovable(this.vertexArray[n]);var d=this.graph.getConnections(this.vertexArray[n],t);i=this.graph.getOpposites(d,this.vertexArray[n]);this.neighbours[n]=[];for(var p=0;p<i.length;p++){this.resetEdges&&this.graph.resetEdge(d[p]),this.disableEdgeStyle&&this.setEdgeStyleEnabled(d[p],!1);a=mxObjectIdentity.get(i[p]);var f=this.indices[a];this.neighbours[n][p]=null!=f?f:n}}for(this.temperature=this.initialTemp,0==this.maxIterations&&(this.maxIterations=20*Math.sqrt(o)),this.iteration=0;this.iteration<this.maxIterations;this.iteration++){if(!this.allowedToRun)return;this.calcRepulsion(),this.calcAttraction(),this.calcPositions(),this.reduceTemperature()}var m=null,g=null;for(n=0;n<this.vertexArray.length;n++){var v;s=this.vertexArray[n];if(this.isVertexMovable(s))if(null!=(v=this.getVertexBounds(s))){this.cellLocation[n][0]-=v.width/2,this.cellLocation[n][1]-=v.height/2;u=this.graph.snap(Math.round(this.cellLocation[n][0])),c=this.graph.snap(Math.round(this.cellLocation[n][1]));this.setVertexLocation(s,u,c),m=null==m?u:Math.min(m,u),g=null==g?c:Math.min(g,c)}}var A=1-(m||0),y=1-(g||0);null!=r&&(A+=r.x,y+=r.y),this.graph.moveCells(this.vertexArray,A,y)}finally{e.endUpdate()}},mxFastOrganicLayout.prototype.calcPositions=function(){for(var t=0;t<this.vertexArray.length;t++)if(this.isMoveable[t]){var e=Math.sqrt(this.dispX[t]*this.dispX[t]+this.dispY[t]*this.dispY[t]);e<.001&&(e=.001);var i=this.dispX[t]/e*Math.min(e,this.temperature),n=this.dispY[t]/e*Math.min(e,this.temperature);this.dispX[t]=0,this.dispY[t]=0,this.cellLocation[t][0]+=i,this.cellLocation[t][1]+=n}},mxFastOrganicLayout.prototype.calcAttraction=function(){for(var t=0;t<this.vertexArray.length;t++)for(var e=0;e<this.neighbours[t].length;e++){var i=this.neighbours[t][e];if(t!=i&&this.isMoveable[t]&&this.isMoveable[i]){var n=this.cellLocation[t][0]-this.cellLocation[i][0],r=this.cellLocation[t][1]-this.cellLocation[i][1],o=n*n+r*r-this.radiusSquared[t]-this.radiusSquared[i];o<this.minDistanceLimitSquared&&(o=this.minDistanceLimitSquared);var s=Math.sqrt(o),a=o/this.forceConstant,l=n/s*a,h=r/s*a;this.dispX[t]-=l,this.dispY[t]-=h,this.dispX[i]+=l,this.dispY[i]+=h}}},mxFastOrganicLayout.prototype.calcRepulsion=function(){for(var t=this.vertexArray.length,e=0;e<t;e++)for(var i=e;i<t;i++){if(!this.allowedToRun)return;if(i!=e&&this.isMoveable[e]&&this.isMoveable[i]){var n=this.cellLocation[e][0]-this.cellLocation[i][0],r=this.cellLocation[e][1]-this.cellLocation[i][1];0==n&&(n=.01+Math.random()),0==r&&(r=.01+Math.random());var o=Math.sqrt(n*n+r*r),s=o-this.radius[e]-this.radius[i];if(s>this.maxDistanceLimit)continue;s<this.minDistanceLimit&&(s=this.minDistanceLimit);var a=this.forceConstantSquared/s,l=n/o*a,h=r/o*a;this.dispX[e]+=l,this.dispY[e]+=h,this.dispX[i]-=l,this.dispY[i]-=h}}},mxFastOrganicLayout.prototype.reduceTemperature=function(){this.temperature=this.initialTemp*(1-this.iteration/this.maxIterations)},__mxOutput.mxFastOrganicLayout=void 0!==mxFastOrganicLayout?mxFastOrganicLayout:void 0,mxCircleLayout.prototype=new mxGraphLayout,mxCircleLayout.prototype.constructor=mxCircleLayout,mxCircleLayout.prototype.radius=null,mxCircleLayout.prototype.moveCircle=!1,mxCircleLayout.prototype.x0=0,mxCircleLayout.prototype.y0=0,mxCircleLayout.prototype.resetEdges=!0,mxCircleLayout.prototype.disableEdgeStyle=!0,mxCircleLayout.prototype.execute=function(t){var e=this.graph.getModel();e.beginUpdate();try{for(var i=0,n=null,r=null,o=[],s=e.getChildCount(t),a=0;a<s;a++){var l=e.getChildAt(t,a);if(this.isVertexIgnored(l))this.isEdgeIgnored(l)||(this.resetEdges&&this.graph.resetEdge(l),this.disableEdgeStyle&&this.setEdgeStyleEnabled(l,!1));else{o.push(l);var h=this.getVertexBounds(l);n=null==n?h.y:Math.min(n,h.y),r=null==r?h.x:Math.min(r,h.x),i=Math.max(i,Math.max(h.width,h.height))}}var u=this.getRadius(o.length,i);this.moveCircle&&(r=this.x0,n=this.y0),this.circle(o,u,r,n)}finally{e.endUpdate()}},mxCircleLayout.prototype.getRadius=function(t,e){return Math.max(t*e/Math.PI,this.radius)},mxCircleLayout.prototype.circle=function(t,e,i,n){for(var r=t.length,o=2*Math.PI/r,s=0;s<r;s++)this.isVertexMovable(t[s])&&this.setVertexLocation(t[s],Math.round(i+e+e*Math.sin(s*o)),Math.round(n+e+e*Math.cos(s*o)))},__mxOutput.mxCircleLayout=void 0!==mxCircleLayout?mxCircleLayout:void 0,mxParallelEdgeLayout.prototype=new mxGraphLayout,mxParallelEdgeLayout.prototype.constructor=mxParallelEdgeLayout,mxParallelEdgeLayout.prototype.spacing=20,mxParallelEdgeLayout.prototype.execute=function(t){var e=this.findParallels(t);this.graph.model.beginUpdate();try{for(var i in e){var n=e[i];n.length>1&&this.layout(n)}}finally{this.graph.model.endUpdate()}},mxParallelEdgeLayout.prototype.findParallels=function(t){for(var e=this.graph.getModel(),i=[],n=e.getChildCount(t),r=0;r<n;r++){var o=e.getChildAt(t,r);if(!this.isEdgeIgnored(o)){var s=this.getEdgeId(o);null!=s&&(null==i[s]&&(i[s]=[]),i[s].push(o))}}return i},mxParallelEdgeLayout.prototype.getEdgeId=function(t){var e=this.graph.getView(),i=e.getVisibleTerminal(t,!0),n=e.getVisibleTerminal(t,!1);return null!=i&&null!=n?(i=mxObjectIdentity.get(i))>(n=mxObjectIdentity.get(n))?n+"-"+i:i+"-"+n:null},mxParallelEdgeLayout.prototype.layout=function(t){var e=t[0],i=this.graph.getView(),n=this.graph.getModel(),r=n.getGeometry(i.getVisibleTerminal(e,!0)),o=n.getGeometry(i.getVisibleTerminal(e,!1));if(r==o)for(var s=r.x+r.width+this.spacing,a=r.y+r.height/2,l=0;l<t.length;l++)this.route(t[l],s,a),s+=this.spacing;else if(null!=r&&null!=o){var h=r.x+r.width/2,u=r.y+r.height/2,c=o.x+o.width/2-h,d=o.y+o.height/2-u,p=Math.sqrt(c*c+d*d);if(p>0){s=h+c/2,a=u+d/2;var f=d*this.spacing/p,m=c*this.spacing/p;s+=f*(t.length-1)/2,a-=m*(t.length-1)/2;for(l=0;l<t.length;l++)this.route(t[l],s,a),s-=f,a+=m}}},mxParallelEdgeLayout.prototype.route=function(t,e,i){this.graph.isCellMovable(t)&&this.setEdgePoints(t,[new mxPoint(e,i)])},__mxOutput.mxParallelEdgeLayout=void 0!==mxParallelEdgeLayout?mxParallelEdgeLayout:void 0,mxCompositeLayout.prototype=new mxGraphLayout,mxCompositeLayout.prototype.constructor=mxCompositeLayout,mxCompositeLayout.prototype.layouts=null,mxCompositeLayout.prototype.master=null,mxCompositeLayout.prototype.moveCell=function(t,e,i){null!=this.master?this.master.moveCell.apply(this.master,arguments):this.layouts[0].moveCell.apply(this.layouts[0],arguments)},mxCompositeLayout.prototype.execute=function(t){var e=this.graph.getModel();e.beginUpdate();try{for(var i=0;i<this.layouts.length;i++)this.layouts[i].execute.apply(this.layouts[i],arguments)}finally{e.endUpdate()}},__mxOutput.mxCompositeLayout=void 0!==mxCompositeLayout?mxCompositeLayout:void 0,mxEdgeLabelLayout.prototype=new mxGraphLayout,mxEdgeLabelLayout.prototype.constructor=mxEdgeLabelLayout,mxEdgeLabelLayout.prototype.execute=function(t){for(var e=this.graph.view,i=this.graph.getModel(),n=[],r=[],o=i.getChildCount(t),s=0;s<o;s++){var a=i.getChildAt(t,s),l=e.getState(a);null!=l&&(this.isVertexIgnored(a)?this.isEdgeIgnored(a)||n.push(l):r.push(l))}this.placeLabels(r,n)},mxEdgeLabelLayout.prototype.placeLabels=function(t,e){var i=this.graph.getModel();i.beginUpdate();try{for(var n=0;n<e.length;n++){var r=e[n];if(null!=r&&null!=r.text&&null!=r.text.boundingBox)for(var o=0;o<t.length;o++){var s=t[o];null!=s&&this.avoid(r,s)}}}finally{i.endUpdate()}},mxEdgeLabelLayout.prototype.avoid=function(t,e){var i=this.graph.getModel(),n=t.text.boundingBox;if(mxUtils.intersects(n,e)){var r=-n.y-n.height+e.y,o=-n.y+e.y+e.height,s=Math.abs(r)<Math.abs(o)?r:o,a=-n.x-n.width+e.x,l=-n.x+e.x+e.width,h=Math.abs(a)<Math.abs(l)?a:l;Math.abs(h)<Math.abs(s)?s=0:h=0;var u=i.getGeometry(t.cell);null!=u&&(null!=(u=u.clone()).offset?(u.offset.x+=h,u.offset.y+=s):u.offset=new mxPoint(h,s),i.setGeometry(t.cell,u))}},__mxOutput.mxEdgeLabelLayout=void 0!==mxEdgeLabelLayout?mxEdgeLabelLayout:void 0,mxGraphAbstractHierarchyCell.prototype.maxRank=-1,mxGraphAbstractHierarchyCell.prototype.minRank=-1,mxGraphAbstractHierarchyCell.prototype.x=null,mxGraphAbstractHierarchyCell.prototype.y=null,mxGraphAbstractHierarchyCell.prototype.width=0,mxGraphAbstractHierarchyCell.prototype.height=0,mxGraphAbstractHierarchyCell.prototype.nextLayerConnectedCells=null,mxGraphAbstractHierarchyCell.prototype.previousLayerConnectedCells=null,mxGraphAbstractHierarchyCell.prototype.temp=null,mxGraphAbstractHierarchyCell.prototype.getNextLayerConnectedCells=function(t){return null},mxGraphAbstractHierarchyCell.prototype.getPreviousLayerConnectedCells=function(t){return null},mxGraphAbstractHierarchyCell.prototype.isEdge=function(){return!1},mxGraphAbstractHierarchyCell.prototype.isVertex=function(){return!1},mxGraphAbstractHierarchyCell.prototype.getGeneralPurposeVariable=function(t){return null},mxGraphAbstractHierarchyCell.prototype.setGeneralPurposeVariable=function(t,e){return null},mxGraphAbstractHierarchyCell.prototype.setX=function(t,e){this.isVertex()?this.x[0]=e:this.isEdge()&&(this.x[t-this.minRank-1]=e)},mxGraphAbstractHierarchyCell.prototype.getX=function(t){return this.isVertex()?this.x[0]:this.isEdge()?this.x[t-this.minRank-1]:0},mxGraphAbstractHierarchyCell.prototype.setY=function(t,e){this.isVertex()?this.y[0]=e:this.isEdge()&&(this.y[t-this.minRank-1]=e)},__mxOutput.mxGraphAbstractHierarchyCell=void 0!==mxGraphAbstractHierarchyCell?mxGraphAbstractHierarchyCell:void 0,mxGraphHierarchyNode.prototype=new mxGraphAbstractHierarchyCell,mxGraphHierarchyNode.prototype.constructor=mxGraphHierarchyNode,mxGraphHierarchyNode.prototype.cell=null,mxGraphHierarchyNode.prototype.id=null,mxGraphHierarchyNode.prototype.connectsAsTarget=null,mxGraphHierarchyNode.prototype.connectsAsSource=null,mxGraphHierarchyNode.prototype.hashCode=!1,mxGraphHierarchyNode.prototype.getRankValue=function(t){return this.maxRank},mxGraphHierarchyNode.prototype.getNextLayerConnectedCells=function(t){if(null==this.nextLayerConnectedCells){this.nextLayerConnectedCells=[],this.nextLayerConnectedCells[0]=[];for(var e=0;e<this.connectsAsTarget.length;e++){var i=this.connectsAsTarget[e];-1==i.maxRank||i.maxRank==t+1?this.nextLayerConnectedCells[0].push(i.source):this.nextLayerConnectedCells[0].push(i)}}return this.nextLayerConnectedCells[0]},mxGraphHierarchyNode.prototype.getPreviousLayerConnectedCells=function(t){if(null==this.previousLayerConnectedCells){this.previousLayerConnectedCells=[],this.previousLayerConnectedCells[0]=[];for(var e=0;e<this.connectsAsSource.length;e++){var i=this.connectsAsSource[e];-1==i.minRank||i.minRank==t-1?this.previousLayerConnectedCells[0].push(i.target):this.previousLayerConnectedCells[0].push(i)}}return this.previousLayerConnectedCells[0]},mxGraphHierarchyNode.prototype.isVertex=function(){return!0},mxGraphHierarchyNode.prototype.getGeneralPurposeVariable=function(t){return this.temp[0]},mxGraphHierarchyNode.prototype.setGeneralPurposeVariable=function(t,e){this.temp[0]=e},mxGraphHierarchyNode.prototype.isAncestor=function(t){if(null!=t&&null!=this.hashCode&&null!=t.hashCode&&this.hashCode.length<t.hashCode.length){if(this.hashCode==t.hashCode)return!0;if(null==this.hashCode||null==this.hashCode)return!1;for(var e=0;e<this.hashCode.length;e++)if(this.hashCode[e]!=t.hashCode[e])return!1;return!0}return!1},mxGraphHierarchyNode.prototype.getCoreCell=function(){return this.cell},__mxOutput.mxGraphHierarchyNode=void 0!==mxGraphHierarchyNode?mxGraphHierarchyNode:void 0,mxGraphHierarchyEdge.prototype=new mxGraphAbstractHierarchyCell,mxGraphHierarchyEdge.prototype.constructor=mxGraphHierarchyEdge,mxGraphHierarchyEdge.prototype.edges=null,mxGraphHierarchyEdge.prototype.ids=null,mxGraphHierarchyEdge.prototype.source=null,mxGraphHierarchyEdge.prototype.target=null,mxGraphHierarchyEdge.prototype.isReversed=!1,mxGraphHierarchyEdge.prototype.invert=function(t){var e=this.source;this.source=this.target,this.target=e,this.isReversed=!this.isReversed},mxGraphHierarchyEdge.prototype.getNextLayerConnectedCells=function(t){if(null==this.nextLayerConnectedCells){this.nextLayerConnectedCells=[];for(var e=0;e<this.temp.length;e++)this.nextLayerConnectedCells[e]=[],e==this.temp.length-1?this.nextLayerConnectedCells[e].push(this.source):this.nextLayerConnectedCells[e].push(this)}return this.nextLayerConnectedCells[t-this.minRank-1]},mxGraphHierarchyEdge.prototype.getPreviousLayerConnectedCells=function(t){if(null==this.previousLayerConnectedCells){this.previousLayerConnectedCells=[];for(var e=0;e<this.temp.length;e++)this.previousLayerConnectedCells[e]=[],0==e?this.previousLayerConnectedCells[e].push(this.target):this.previousLayerConnectedCells[e].push(this)}return this.previousLayerConnectedCells[t-this.minRank-1]},mxGraphHierarchyEdge.prototype.isEdge=function(){return!0},mxGraphHierarchyEdge.prototype.getGeneralPurposeVariable=function(t){return this.temp[t-this.minRank-1]},mxGraphHierarchyEdge.prototype.setGeneralPurposeVariable=function(t,e){this.temp[t-this.minRank-1]=e},mxGraphHierarchyEdge.prototype.getCoreCell=function(){return null!=this.edges&&this.edges.length>0?this.edges[0]:null},__mxOutput.mxGraphHierarchyEdge=void 0!==mxGraphHierarchyEdge?mxGraphHierarchyEdge:void 0,mxGraphHierarchyModel.prototype.maxRank=null,mxGraphHierarchyModel.prototype.vertexMapper=null,mxGraphHierarchyModel.prototype.edgeMapper=null,mxGraphHierarchyModel.prototype.ranks=null,mxGraphHierarchyModel.prototype.roots=null,mxGraphHierarchyModel.prototype.parent=null,mxGraphHierarchyModel.prototype.dfsCount=0,mxGraphHierarchyModel.prototype.SOURCESCANSTARTRANK=1e8,mxGraphHierarchyModel.prototype.tightenToSource=!1,mxGraphHierarchyModel.prototype.createInternalCells=function(t,e,i){for(var n=t.getGraph(),r=0;r<e.length;r++){i[r]=new mxGraphHierarchyNode(e[r]),this.vertexMapper.put(e[r],i[r]);var o=t.getEdges(e[r]);i[r].connectsAsSource=[];for(var s=0;s<o.length;s++){var a=t.getVisibleTerminal(o[s],!1);if(a!=e[r]&&t.graph.model.isVertex(a)&&!t.isVertexIgnored(a)){var l=t.getEdgesBetween(e[r],a,!1),h=t.getEdgesBetween(e[r],a,!0);if(null!=l&&l.length>0&&null==this.edgeMapper.get(l[0])&&2*h.length>=l.length){for(var u=new mxGraphHierarchyEdge(l),c=0;c<l.length;c++){var d=l[c];this.edgeMapper.put(d,u),n.resetEdge(d),t.disableEdgeStyle&&(t.setEdgeStyleEnabled(d,!1),t.setOrthogonalEdge(d,!0))}u.source=i[r],mxUtils.indexOf(i[r].connectsAsSource,u)<0&&i[r].connectsAsSource.push(u)}}}i[r].temp[0]=0}},mxGraphHierarchyModel.prototype.initialRank=function(){var t=[];if(null!=this.roots)for(var e=0;e<this.roots.length;e++){null!=(h=this.vertexMapper.get(this.roots[e]))&&t.push(h)}var i=this.vertexMapper.getValues();for(e=0;e<i.length;e++)i[e].temp[0]=-1;for(var n=t.slice();t.length>0;){var r;c=(h=t[0]).connectsAsTarget,r=h.connectsAsSource;var o=!0,s=this.SOURCESCANSTARTRANK;for(e=0;e<c.length;e++){if(5270620!=(p=c[e]).temp[0]){o=!1;break}var a=p.source;s=Math.min(s,a.temp[0]-1)}if(o){if(h.temp[0]=s,this.maxRank=Math.min(this.maxRank,s),null!=r)for(e=0;e<r.length;e++){(p=r[e]).temp[0]=5270620,-1==(a=p.target).temp[0]&&(t.push(a),a.temp[0]=-2)}t.shift()}else{var l=t.shift();if(t.push(h),l==h&&1==t.length)break}}for(e=0;e<i.length;e++)i[e].temp[0]-=this.maxRank;for(e=0;e<n.length;e++)for(var h,u=0,c=(h=n[e]).connectsAsSource,d=0;d<c.length;d++){var p;a=(p=c[d]).target;h.temp[0]=Math.max(u,a.temp[0]+1),u=h.temp[0]}this.maxRank=this.SOURCESCANSTARTRANK-this.maxRank},mxGraphHierarchyModel.prototype.fixRanks=function(){var t=[];this.ranks=[];for(var e=0;e<this.maxRank+1;e++)t[e]=[],this.ranks[e]=t[e];var i=null;if(null!=this.roots){var n=this.roots;i=[];for(e=0;e<n.length;e++){var r=n[e],o=this.vertexMapper.get(r);i[e]=o}}this.visit(function(e,i,n,r,o){if((0==o&&i.maxRank<0&&i.minRank<0&&(t[i.temp[0]].push(i),i.maxRank=i.temp[0],i.minRank=i.temp[0],i.temp[0]=t[i.maxRank].length-1),null!=e&&null!=n)&&e.maxRank-i.maxRank>1){n.maxRank=e.maxRank,n.minRank=i.maxRank,n.temp=[],n.x=[],n.y=[];for(var s=n.minRank+1;s<n.maxRank;s++)t[s].push(n),n.setGeneralPurposeVariable(s,t[s].length-1)}},i,!1,null)},mxGraphHierarchyModel.prototype.visit=function(t,e,i,n){if(null!=e){for(var r=0;r<e.length;r++){var o=e[r];null!=o&&(null==n&&(n=new Object),i?(o.hashCode=[],o.hashCode[0]=this.dfsCount,o.hashCode[1]=r,this.extendedDfs(null,o,null,t,n,o.hashCode,r,0)):this.dfs(null,o,null,t,n,0))}this.dfsCount++}},mxGraphHierarchyModel.prototype.dfs=function(t,e,i,n,r,o){if(null!=e){var s=e.id;if(null==r[s]){r[s]=e,n(t,e,i,o,0);for(var a=e.connectsAsSource.slice(),l=0;l<a.length;l++){var h=a[l],u=h.target;this.dfs(e,u,h,n,r,o+1)}}else n(t,e,i,o,1)}},mxGraphHierarchyModel.prototype.extendedDfs=function(t,e,i,n,r,o,s,a){if(null!=e){if(null!=t&&(null==e.hashCode||e.hashCode[0]!=t.hashCode[0])){var l=t.hashCode.length+1;e.hashCode=t.hashCode.slice(),e.hashCode[l-1]=s}var h=e.id;if(null==r[h]){r[h]=e,n(t,e,i,a,0);for(var u=e.connectsAsSource.slice(),c=0;c<u.length;c++){var d=u[c],p=d.target;this.extendedDfs(e,p,d,n,r,e.hashCode,c,a+1)}}else n(t,e,i,a,1)}},__mxOutput.mxGraphHierarchyModel=void 0!==mxGraphHierarchyModel?mxGraphHierarchyModel:void 0,mxSwimlaneModel.prototype.maxRank=null,mxSwimlaneModel.prototype.vertexMapper=null,mxSwimlaneModel.prototype.edgeMapper=null,mxSwimlaneModel.prototype.ranks=null,mxSwimlaneModel.prototype.roots=null,mxSwimlaneModel.prototype.parent=null,mxSwimlaneModel.prototype.dfsCount=0,mxSwimlaneModel.prototype.SOURCESCANSTARTRANK=1e8,mxSwimlaneModel.prototype.tightenToSource=!1,mxSwimlaneModel.prototype.ranksPerGroup=null,mxSwimlaneModel.prototype.createInternalCells=function(t,e,i){for(var n=t.getGraph(),r=t.swimlanes,o=0;o<e.length;o++){i[o]=new mxGraphHierarchyNode(e[o]),this.vertexMapper.put(e[o],i[o]),i[o].swimlaneIndex=-1;for(var s=0;s<r.length;s++)if(n.model.getParent(e[o])==r[s]){i[o].swimlaneIndex=s;break}var a=t.getEdges(e[o]);i[o].connectsAsSource=[];for(var l=0;l<a.length;l++){var h=t.getVisibleTerminal(a[l],!1);if(h!=e[o]&&t.graph.model.isVertex(h)&&!t.isVertexIgnored(h)){var u=t.getEdgesBetween(e[o],h,!1),c=t.getEdgesBetween(e[o],h,!0);if(null!=u&&u.length>0&&null==this.edgeMapper.get(u[0])&&2*c.length>=u.length){for(var d=new mxGraphHierarchyEdge(u),p=0;p<u.length;p++){var f=u[p];this.edgeMapper.put(f,d),n.resetEdge(f),t.disableEdgeStyle&&(t.setEdgeStyleEnabled(f,!1),t.setOrthogonalEdge(f,!0))}d.source=i[o],mxUtils.indexOf(i[o].connectsAsSource,d)<0&&i[o].connectsAsSource.push(d)}}}i[o].temp[0]=0}},mxSwimlaneModel.prototype.initialRank=function(){this.ranksPerGroup=[];var t=[],e=new Object;if(null!=this.roots)for(var i=0;i<this.roots.length;i++){var n=this.vertexMapper.get(this.roots[i]);this.maxChainDfs(null,n,null,e,0),null!=n&&t.push(n)}var r=[],o=[];for(i=this.ranksPerGroup.length-1;i>=0;i--)i==this.ranksPerGroup.length-1?r[i]=0:r[i]=o[i+1]+1,o[i]=r[i]+this.ranksPerGroup[i];this.maxRank=o[0];var s=this.vertexMapper.getValues();for(i=0;i<s.length;i++)s[i].temp[0]=-1;for(t.slice();t.length>0;){var a,l;a=(n=t[0]).connectsAsTarget,l=n.connectsAsSource;var h=!0,u=o[0];for(i=0;i<a.length;i++){if(5270620!=(d=a[i]).temp[0]){h=!1;break}var c=d.source;u=Math.min(u,c.temp[0]-1)}if(h){if(u>o[n.swimlaneIndex]&&(u=o[n.swimlaneIndex]),n.temp[0]=u,null!=l)for(i=0;i<l.length;i++){var d;(d=l[i]).temp[0]=5270620,-1==(c=d.target).temp[0]&&(t.push(c),c.temp[0]=-2)}t.shift()}else{var p=t.shift();if(t.push(n),p==n&&1==t.length)break}}},mxSwimlaneModel.prototype.maxChainDfs=function(t,e,i,n,r){if(null!=e){var o=mxCellPath.create(e.cell);if(null==n[o]){n[o]=e;var s=e.swimlaneIndex;(null==this.ranksPerGroup[s]||this.ranksPerGroup[s]<r)&&(this.ranksPerGroup[s]=r);for(var a=e.connectsAsSource.slice(),l=0;l<a.length;l++){var h=a[l],u=h.target;e.swimlaneIndex<u.swimlaneIndex?this.maxChainDfs(e,u,h,mxUtils.clone(n,null,!0),0):e.swimlaneIndex==u.swimlaneIndex&&this.maxChainDfs(e,u,h,mxUtils.clone(n,null,!0),r+1)}}}},mxSwimlaneModel.prototype.fixRanks=function(){var t=[];this.ranks=[];for(var e=0;e<this.maxRank+1;e++)t[e]=[],this.ranks[e]=t[e];var i=null;if(null!=this.roots){var n=this.roots;i=[];for(e=0;e<n.length;e++){var r=n[e],o=this.vertexMapper.get(r);i[e]=o}}this.visit(function(e,i,n,r,o){if((0==o&&i.maxRank<0&&i.minRank<0&&(t[i.temp[0]].push(i),i.maxRank=i.temp[0],i.minRank=i.temp[0],i.temp[0]=t[i.maxRank].length-1),null!=e&&null!=n)&&e.maxRank-i.maxRank>1){n.maxRank=e.maxRank,n.minRank=i.maxRank,n.temp=[],n.x=[],n.y=[];for(var s=n.minRank+1;s<n.maxRank;s++)t[s].push(n),n.setGeneralPurposeVariable(s,t[s].length-1)}},i,!1,null)},mxSwimlaneModel.prototype.visit=function(t,e,i,n){if(null!=e){for(var r=0;r<e.length;r++){var o=e[r];null!=o&&(null==n&&(n=new Object),i?(o.hashCode=[],o.hashCode[0]=this.dfsCount,o.hashCode[1]=r,this.extendedDfs(null,o,null,t,n,o.hashCode,r,0)):this.dfs(null,o,null,t,n,0))}this.dfsCount++}},mxSwimlaneModel.prototype.dfs=function(t,e,i,n,r,o){if(null!=e){var s=e.id;if(null==r[s]){r[s]=e,n(t,e,i,o,0);for(var a=e.connectsAsSource.slice(),l=0;l<a.length;l++){var h=a[l],u=h.target;this.dfs(e,u,h,n,r,o+1)}}else n(t,e,i,o,1)}},mxSwimlaneModel.prototype.extendedDfs=function(t,e,i,n,r,o,s,a){if(null!=e){if(null!=t&&(null==e.hashCode||e.hashCode[0]!=t.hashCode[0])){var l=t.hashCode.length+1;e.hashCode=t.hashCode.slice(),e.hashCode[l-1]=s}var h=e.id;if(null==r[h]){r[h]=e,n(t,e,i,a,0);for(var u=e.connectsAsSource.slice(),c=e.connectsAsTarget.slice(),d=0;d<u.length;d++){var p=(f=u[d]).target;e.swimlaneIndex<=p.swimlaneIndex&&this.extendedDfs(e,p,f,n,r,e.hashCode,d,a+1)}for(d=0;d<c.length;d++){var f;p=(f=c[d]).source;e.swimlaneIndex<p.swimlaneIndex&&this.extendedDfs(e,p,f,n,r,e.hashCode,d,a+1)}}else n(t,e,i,a,1)}},__mxOutput.mxSwimlaneModel=void 0!==mxSwimlaneModel?mxSwimlaneModel:void 0,mxHierarchicalLayoutStage.prototype.execute=function(t){},__mxOutput.mxHierarchicalLayoutStage=void 0!==mxHierarchicalLayoutStage?mxHierarchicalLayoutStage:void 0,mxMedianHybridCrossingReduction.prototype=new mxHierarchicalLayoutStage,mxMedianHybridCrossingReduction.prototype.constructor=mxMedianHybridCrossingReduction,mxMedianHybridCrossingReduction.prototype.layout=null,mxMedianHybridCrossingReduction.prototype.maxIterations=24,mxMedianHybridCrossingReduction.prototype.nestedBestRanks=null,mxMedianHybridCrossingReduction.prototype.currentBestCrossings=0,mxMedianHybridCrossingReduction.prototype.iterationsWithoutImprovement=0,mxMedianHybridCrossingReduction.prototype.maxNoImprovementIterations=2,mxMedianHybridCrossingReduction.prototype.execute=function(t){var e=this.layout.getModel();this.nestedBestRanks=[];for(var i=0;i<e.ranks.length;i++)this.nestedBestRanks[i]=e.ranks[i].slice();var n=0,r=this.calculateCrossings(e);for(i=0;i<this.maxIterations&&n<this.maxNoImprovementIterations;i++){this.weightedMedian(i,e),this.transpose(i,e);var o=this.calculateCrossings(e);if(o<r){r=o,n=0;for(var s=0;s<this.nestedBestRanks.length;s++)for(var a=e.ranks[s],l=0;l<a.length;l++){var h=a[l];this.nestedBestRanks[s][h.getGeneralPurposeVariable(s)]=h}}else{n++;for(s=0;s<this.nestedBestRanks.length;s++)for(a=e.ranks[s],l=0;l<a.length;l++){(h=a[l]).setGeneralPurposeVariable(s,l)}}if(0==r)break}var u=[],c=[];for(i=0;i<e.maxRank+1;i++)c[i]=[],u[i]=c[i];for(i=0;i<this.nestedBestRanks.length;i++)for(s=0;s<this.nestedBestRanks[i].length;s++)c[i].push(this.nestedBestRanks[i][s]);e.ranks=u},mxMedianHybridCrossingReduction.prototype.calculateCrossings=function(t){for(var e=t.ranks.length,i=0,n=1;n<e;n++)i+=this.calculateRankCrossing(n,t);return i},mxMedianHybridCrossingReduction.prototype.calculateRankCrossing=function(t,e){for(var i=0,n=e.ranks[t],r=e.ranks[t-1],o=[],s=0;s<n.length;s++){for(var a=n[s],l=a.getGeneralPurposeVariable(t),h=a.getPreviousLayerConnectedCells(t),u=[],c=0;c<h.length;c++){var d=h[c].getGeneralPurposeVariable(t-1);u.push(d)}u.sort(function(t,e){return t-e}),o[l]=u}var p=[];for(s=0;s<o.length;s++)p=p.concat(o[s]);for(var f=1;f<r.length;)f<<=1;var m=2*f-1;f-=1;var g=[];for(s=0;s<m;++s)g[s]=0;for(s=0;s<p.length;s++){var v=p[s]+f;for(++g[v];v>0;)v%2&&(i+=g[v+1]),++g[v=v-1>>1]}return i},mxMedianHybridCrossingReduction.prototype.transpose=function(t,e){for(var i=!0,n=0;i&&n++<10;){var r=t%2==1&&n%2==1;i=!1;for(var o=0;o<e.ranks.length;o++){for(var s=e.ranks[o],a=[],l=0;l<s.length;l++){var h=s[l],u=h.getGeneralPurposeVariable(o);u<0&&(u=l),a[u]=h}var c=null,d=null,p=null,f=null,m=null,g=null,v=null,A=null,y=null,x=null;for(l=0;l<s.length-1;l++){if(0==l){c=(y=a[l]).getNextLayerConnectedCells(o),d=y.getPreviousLayerConnectedCells(o),m=[],g=[];for(var b=0;b<c.length;b++)m[b]=c[b].getGeneralPurposeVariable(o+1);for(b=0;b<d.length;b++)g[b]=d[b].getGeneralPurposeVariable(o-1)}else c=p,d=f,m=v,g=A,y=x;p=(x=a[l+1]).getNextLayerConnectedCells(o),f=x.getPreviousLayerConnectedCells(o),v=[],A=[];for(b=0;b<p.length;b++)v[b]=p[b].getGeneralPurposeVariable(o+1);for(b=0;b<f.length;b++)A[b]=f[b].getGeneralPurposeVariable(o-1);var C=0,w=0;for(b=0;b<m.length;b++)for(var E=0;E<v.length;E++)m[b]>v[E]&&C++,m[b]<v[E]&&w++;for(b=0;b<g.length;b++)for(E=0;E<A.length;E++)g[b]>A[E]&&C++,g[b]<A[E]&&w++;if(w<C||w==C&&r){var S=y.getGeneralPurposeVariable(o);y.setGeneralPurposeVariable(o,x.getGeneralPurposeVariable(o)),x.setGeneralPurposeVariable(o,S),p=c,f=d,v=m,A=g,x=y,r||(i=!0)}}}}},mxMedianHybridCrossingReduction.prototype.weightedMedian=function(t,e){var i=t%2==0;if(i)for(var n=e.maxRank-1;n>=0;n--)this.medianRank(n,i);else for(n=1;n<e.maxRank;n++)this.medianRank(n,i)},mxMedianHybridCrossingReduction.prototype.medianRank=function(t,e){for(var i=this.nestedBestRanks[t].length,n=[],r=[],o=0;o<i;o++){var s,a,l=this.nestedBestRanks[t][o],h=new MedianCellSorter;h.cell=l,s=e?l.getNextLayerConnectedCells(t):l.getPreviousLayerConnectedCells(t),a=e?t+1:t-1,null!=s&&0!=s.length?(h.medianValue=this.medianValue(s,a),n.push(h)):r[l.getGeneralPurposeVariable(t)]=!0}n.sort(MedianCellSorter.prototype.compare);for(o=0;o<i;o++){if(null==r[o])(l=n.shift().cell).setGeneralPurposeVariable(t,o)}},mxMedianHybridCrossingReduction.prototype.medianValue=function(t,e){for(var i=[],n=0,r=0;r<t.length;r++){var o=t[r];i[n++]=o.getGeneralPurposeVariable(e)}if(i.sort(function(t,e){return t-e}),n%2==1)return i[Math.floor(n/2)];if(2==n)return(i[0]+i[1])/2;var s=n/2,a=i[s-1]-i[0],l=i[n-1]-i[s];return(i[s-1]*l+i[s]*a)/(a+l)},MedianCellSorter.prototype.medianValue=0,MedianCellSorter.prototype.cell=!1,MedianCellSorter.prototype.compare=function(t,e){return null!=t&&null!=e?e.medianValue>t.medianValue?-1:e.medianValue<t.medianValue?1:0:0},__mxOutput.mxMedianHybridCrossingReduction=void 0!==mxMedianHybridCrossingReduction?mxMedianHybridCrossingReduction:void 0,mxMinimumCycleRemover.prototype=new mxHierarchicalLayoutStage,mxMinimumCycleRemover.prototype.constructor=mxMinimumCycleRemover,mxMinimumCycleRemover.prototype.layout=null,mxMinimumCycleRemover.prototype.execute=function(t){for(var e=this.layout.getModel(),i=new Object,n=e.vertexMapper.getValues(),r=new Object,o=0;o<n.length;o++)r[n[o].id]=n[o];var s=null;if(null!=e.roots){var a=e.roots;s=[];for(o=0;o<a.length;o++)s[o]=e.vertexMapper.get(a[o])}e.visit(function(t,e,n,o,s){e.isAncestor(t)&&(n.invert(),mxUtils.remove(n,t.connectsAsSource),t.connectsAsTarget.push(n),mxUtils.remove(n,e.connectsAsTarget),e.connectsAsSource.push(n)),i[e.id]=e,delete r[e.id]},s,!0,null);var l=mxUtils.clone(i,null,!0);e.visit(function(t,e,n,o,s){e.isAncestor(t)&&(n.invert(),mxUtils.remove(n,t.connectsAsSource),e.connectsAsSource.push(n),t.connectsAsTarget.push(n),mxUtils.remove(n,e.connectsAsTarget)),i[e.id]=e,delete r[e.id]},r,!0,l)},__mxOutput.mxMinimumCycleRemover=void 0!==mxMinimumCycleRemover?mxMinimumCycleRemover:void 0,mxCoordinateAssignment.prototype=new mxHierarchicalLayoutStage,mxCoordinateAssignment.prototype.constructor=mxCoordinateAssignment,mxCoordinateAssignment.prototype.layout=null,mxCoordinateAssignment.prototype.intraCellSpacing=30,mxCoordinateAssignment.prototype.interRankCellSpacing=100,mxCoordinateAssignment.prototype.parallelEdgeSpacing=10,mxCoordinateAssignment.prototype.maxIterations=8,mxCoordinateAssignment.prototype.prefHozEdgeSep=5,mxCoordinateAssignment.prototype.prefVertEdgeOff=2,mxCoordinateAssignment.prototype.minEdgeJetty=12,mxCoordinateAssignment.prototype.channelBuffer=4,mxCoordinateAssignment.prototype.jettyPositions=null,mxCoordinateAssignment.prototype.orientation=mxConstants.DIRECTION_NORTH,mxCoordinateAssignment.prototype.initialX=null,mxCoordinateAssignment.prototype.limitX=null,mxCoordinateAssignment.prototype.currentXDelta=null,mxCoordinateAssignment.prototype.widestRank=null,mxCoordinateAssignment.prototype.rankTopY=null,mxCoordinateAssignment.prototype.rankBottomY=null,mxCoordinateAssignment.prototype.widestRankValue=null,mxCoordinateAssignment.prototype.rankWidths=null,mxCoordinateAssignment.prototype.rankY=null,mxCoordinateAssignment.prototype.fineTuning=!0,mxCoordinateAssignment.prototype.nextLayerConnectedCache=null,mxCoordinateAssignment.prototype.previousLayerConnectedCache=null,mxCoordinateAssignment.prototype.groupPadding=10,mxCoordinateAssignment.prototype.printStatus=function(){var t=this.layout.getModel();mxLog.show(),mxLog.writeln("======Coord assignment debug=======");for(var e=0;e<t.ranks.length;e++){mxLog.write("Rank ",e," : ");for(var i=t.ranks[e],n=0;n<i.length;n++){var r=i[n];mxLog.write(r.getGeneralPurposeVariable(e),"  ")}mxLog.writeln()}mxLog.writeln("====================================")},mxCoordinateAssignment.prototype.execute=function(t){this.jettyPositions=Object();var e=this.layout.getModel();this.currentXDelta=0,this.initialCoords(this.layout.getGraph(),e),this.fineTuning&&this.minNode(e);var i=1e8;if(this.fineTuning)for(var n=0;n<this.maxIterations;n++){if(0!=n&&(this.medianPos(n,e),this.minNode(e)),this.currentXDelta<i){for(var r=0;r<e.ranks.length;r++)for(var o=e.ranks[r],s=0;s<o.length;s++){(a=o[s]).setX(r,a.getGeneralPurposeVariable(r))}i=this.currentXDelta}else for(r=0;r<e.ranks.length;r++)for(o=e.ranks[r],s=0;s<o.length;s++){var a;(a=o[s]).setGeneralPurposeVariable(r,a.getX(r))}this.minPath(this.layout.getGraph(),e),this.currentXDelta=0}this.setCellLocations(this.layout.getGraph(),e)},mxCoordinateAssignment.prototype.minNode=function(t){for(var e=[],i=new mxDictionary,n=[],r=0;r<=t.maxRank;r++){n[r]=t.ranks[r];for(var o=0;o<n[r].length;o++){var s=n[r][o],a=new WeightedCellSorter(s,r);a.rankIndex=o,a.visited=!0,e.push(a),i.put(s,a)}}for(var l=10*e.length,h=0;e.length>0&&h<=l;){var u=e.shift(),c=u.cell,d=u.weightedValue,p=parseInt(u.rankIndex),f=c.getNextLayerConnectedCells(d),m=c.getPreviousLayerConnectedCells(d),g=f.length,v=m.length,A=this.medianXValue(f,d+1),y=this.medianXValue(m,d-1),x=g+v,b=c.getGeneralPurposeVariable(d),C=b;x>0&&(C=(A*g+y*v)/x);var w=!1;if(C<b-1)if(0==p)c.setGeneralPurposeVariable(d,C),w=!0;else{var E=n[d][p-1],S=E.getGeneralPurposeVariable(d);(S=S+E.width/2+this.intraCellSpacing+c.width/2)<C?(c.setGeneralPurposeVariable(d,C),w=!0):S<c.getGeneralPurposeVariable(d)-1&&(c.setGeneralPurposeVariable(d,S),w=!0)}else if(C>b+1){if(p==n[d].length-1)c.setGeneralPurposeVariable(d,C),w=!0;else{var T=n[d][p+1],_=T.getGeneralPurposeVariable(d);(_=_-T.width/2-this.intraCellSpacing-c.width/2)>C?(c.setGeneralPurposeVariable(d,C),w=!0):_>c.getGeneralPurposeVariable(d)+1&&(c.setGeneralPurposeVariable(d,_),w=!0)}}if(w){for(r=0;r<f.length;r++){var M=f[r];null!=(k=i.get(M))&&0==k.visited&&(k.visited=!0,e.push(k))}for(r=0;r<m.length;r++){var k;M=m[r];null!=(k=i.get(M))&&0==k.visited&&(k.visited=!0,e.push(k))}}u.visited=!1,h++}},mxCoordinateAssignment.prototype.medianPos=function(t,e){if(t%2==0)for(var i=e.maxRank;i>0;i--)this.rankMedianPosition(i-1,e,i);else for(i=0;i<e.maxRank-1;i++)this.rankMedianPosition(i+1,e,i)},mxCoordinateAssignment.prototype.rankMedianPosition=function(t,e,i){for(var n=e.ranks[t],r=[],o=new Object,s=0;s<n.length;s++){var a=n[s];r[s]=new WeightedCellSorter,r[s].cell=a,r[s].rankIndex=s,o[a.id]=r[s];var l=null;l=i<t?a.getPreviousLayerConnectedCells(t):a.getNextLayerConnectedCells(t),r[s].weightedValue=this.calculatedWeightedValue(a,l)}r.sort(WeightedCellSorter.prototype.compare);for(s=0;s<r.length;s++){var h=r[s].cell,u=(l=null,0);null!=(l=i<t?h.getPreviousLayerConnectedCells(t).slice():h.getNextLayerConnectedCells(t).slice())&&(u=l.length>0?this.medianXValue(l,i):h.getGeneralPurposeVariable(t));for(var c=0,d=-1e8,p=r[s].rankIndex-1;p>=0;){if(null!=(v=o[n[p].id])){var f=v.cell;v.visited?(d=f.getGeneralPurposeVariable(t)+f.width/2+this.intraCellSpacing+c+h.width/2,p=-1):(c+=f.width+this.intraCellSpacing,p--)}}var m=0,g=1e8;for(p=r[s].rankIndex+1;p<r.length;){var v;if(null!=(v=o[n[p].id])){var A=v.cell;v.visited?(g=A.getGeneralPurposeVariable(t)-A.width/2-this.intraCellSpacing-m-h.width/2,p=r.length):(m+=A.width+this.intraCellSpacing,p++)}}u>=d&&u<=g?h.setGeneralPurposeVariable(t,u):u<d?(h.setGeneralPurposeVariable(t,d),this.currentXDelta+=d-u):u>g&&(h.setGeneralPurposeVariable(t,g),this.currentXDelta+=u-g),r[s].visited=!0}},mxCoordinateAssignment.prototype.calculatedWeightedValue=function(t,e){for(var i=0,n=0;n<e.length;n++){var r=e[n];t.isVertex()&&r.isVertex()?i++:t.isEdge()&&r.isEdge()?i+=8:i+=2}return i},mxCoordinateAssignment.prototype.medianXValue=function(t,e){if(0==t.length)return 0;for(var i=[],n=0;n<t.length;n++)i[n]=t[n].getGeneralPurposeVariable(e);if(i.sort(function(t,e){return t-e}),t.length%2==1)return i[Math.floor(t.length/2)];var r=t.length/2;return(i[r-1]+i[r])/2},mxCoordinateAssignment.prototype.initialCoords=function(t,e){this.calculateWidestRank(t,e);for(var i=this.widestRank;i>=0;i--)i<e.maxRank&&this.rankCoordinates(i,t,e);for(i=this.widestRank+1;i<=e.maxRank;i++)i>0&&this.rankCoordinates(i,t,e)},mxCoordinateAssignment.prototype.rankCoordinates=function(t,e,i){for(var n=i.ranks[t],r=0,o=this.initialX+(this.widestRankValue-this.rankWidths[t])/2,s=!1,a=0;a<n.length;a++){var l=n[a];if(l.isVertex()){var h=this.layout.getVertexBounds(l.cell);null!=h?this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?(l.width=h.width,l.height=h.height):(l.width=h.height,l.height=h.width):s=!0,r=Math.max(r,l.height)}else if(l.isEdge()){var u=1;null!=l.edges?u=l.edges.length:mxLog.warn("edge.edges is null"),l.width=(u-1)*this.parallelEdgeSpacing}o+=l.width/2,l.setX(t,o),l.setGeneralPurposeVariable(t,o),o+=l.width/2,o+=this.intraCellSpacing}1==s&&mxLog.warn("At least one cell has no bounds")},mxCoordinateAssignment.prototype.calculateWidestRank=function(t,e){var i=-this.interRankCellSpacing,n=0;this.rankWidths=[],this.rankY=[];for(var r=e.maxRank;r>=0;r--){for(var o=0,s=e.ranks[r],a=this.initialX,l=!1,h=0;h<s.length;h++){var u=s[h];if(u.isVertex()){var c=this.layout.getVertexBounds(u.cell);null!=c?this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?(u.width=c.width,u.height=c.height):(u.width=c.height,u.height=c.width):l=!0,o=Math.max(o,u.height)}else if(u.isEdge()){var d=1;null!=u.edges?d=u.edges.length:mxLog.warn("edge.edges is null"),u.width=(d-1)*this.parallelEdgeSpacing}a+=u.width/2,u.setX(r,a),u.setGeneralPurposeVariable(r,a),a+=u.width/2,(a+=this.intraCellSpacing)>this.widestRankValue&&(this.widestRankValue=a,this.widestRank=r),this.rankWidths[r]=a}1==l&&mxLog.warn("At least one cell has no bounds"),this.rankY[r]=i;var p=o/2+n/2+this.interRankCellSpacing;n=o,this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_WEST?i+=p:i-=p;for(h=0;h<s.length;h++){s[h].setY(r,i)}}},mxCoordinateAssignment.prototype.minPath=function(t,e){for(var i=e.edgeMapper.getValues(),n=0;n<i.length;n++){var r=i[n];if(!(r.maxRank-r.minRank-1<1)){for(var o=r.getGeneralPurposeVariable(r.minRank+1),s=!0,a=0,l=r.minRank+2;l<r.maxRank;l++){var h=r.getGeneralPurposeVariable(l);o!=h?(s=!1,o=h):a++}if(!s){var u=0,c=0,d=[],p=[],f=r.getGeneralPurposeVariable(r.minRank+1);for(l=r.minRank+1;l<r.maxRank-1;l++){f==(m=r.getX(l+1))?(d[l-r.minRank-1]=f,u++):this.repositionValid(e,r,l+1,f)?(d[l-r.minRank-1]=f,u++):(d[l-r.minRank-1]=m,f=m)}f=r.getX(l);for(l=r.maxRank-1;l>r.minRank+1;l--){var m;f==(m=r.getX(l-1))?(p[l-r.minRank-2]=f,c++):this.repositionValid(e,r,l-1,f)?(p[l-r.minRank-2]=f,c++):(p[l-r.minRank-2]=r.getX(l-1),f=m)}if(c>a||u>a)if(c>=u)for(l=r.maxRank-2;l>r.minRank;l--)r.setX(l,p[l-r.minRank-1]);else if(u>c)for(l=r.minRank+2;l<r.maxRank;l++)r.setX(l,d[l-r.minRank-2])}}}},mxCoordinateAssignment.prototype.repositionValid=function(t,e,i,n){for(var r=t.ranks[i],o=-1,s=0;s<r.length;s++)if(e==r[s]){o=s;break}if(o<0)return!1;var a=e.getGeneralPurposeVariable(i);if(n<a){if(0==o)return!0;var l=r[o-1],h=l.getGeneralPurposeVariable(i);return(h=h+l.width/2+this.intraCellSpacing+e.width/2)<=n}if(n>a){if(o==r.length-1)return!0;var u=r[o+1],c=u.getGeneralPurposeVariable(i);return(c=c-u.width/2-this.intraCellSpacing-e.width/2)>=n}return!0},mxCoordinateAssignment.prototype.setCellLocations=function(t,e){this.rankTopY=[],this.rankBottomY=[];for(var i=0;i<e.ranks.length;i++)this.rankTopY[i]=Number.MAX_VALUE,this.rankBottomY[i]=-Number.MAX_VALUE;var n=e.vertexMapper.getValues();for(i=0;i<n.length;i++)this.setVertexLocation(n[i]);this.layout.edgeStyle!=mxHierarchicalEdgeStyle.ORTHOGONAL&&this.layout.edgeStyle!=mxHierarchicalEdgeStyle.POLYLINE&&this.layout.edgeStyle!=mxHierarchicalEdgeStyle.CURVE||this.localEdgeProcessing(e);var r=e.edgeMapper.getValues();for(i=0;i<r.length;i++)this.setEdgePosition(r[i])},mxCoordinateAssignment.prototype.localEdgeProcessing=function(t){for(var e=0;e<t.ranks.length;e++)for(var i=t.ranks[e],n=0;n<i.length;n++){var r=i[n];if(r.isVertex())for(var o=r.getPreviousLayerConnectedCells(e),s=e-1,a=0;a<2;a++){if(s>-1&&s<t.ranks.length&&null!=o&&o.length>0){for(var l=[],h=0;h<o.length;h++){var u=new WeightedCellSorter(o[h],o[h].getX(s));l.push(u)}l.sort(WeightedCellSorter.prototype.compare);var c=r.x[0]-r.width/2,d=c+r.width,p=0,f=[];for(h=0;h<l.length;h++){var m,g=l[h].cell;if(g.isVertex()){m=0==a?r.connectsAsSource:r.connectsAsTarget;for(var v=0;v<m.length;v++)m[v].source!=g&&m[v].target!=g||(p+=m[v].edges.length,0,f.push(m[v]))}else p+=g.edges.length,0,f.push(g)}var A=(p+1)*this.prefHozEdgeSep;r.width>A+2*this.prefHozEdgeSep&&(c+=this.prefHozEdgeSep,d-=this.prefHozEdgeSep);var y=(d-c)/p,x=c+y/2,b=this.minEdgeJetty-this.prefVertEdgeOff,C=0;for(h=0;h<f.length;h++){var w=f[h].edges.length,E=this.jettyPositions[f[h].ids[0]];null==E&&(E=[],this.jettyPositions[f[h].ids[0]]=E),h<p/2?b+=this.prefVertEdgeOff:h>p/2&&(b-=this.prefVertEdgeOff);for(var S=0;S<w;S++)E[4*S+2*a]=x,x+=y,E[4*S+2*a+1]=b;C=Math.max(C,b)}}o=r.getNextLayerConnectedCells(e),s=e+1}}},mxCoordinateAssignment.prototype.setEdgePosition=function(t){var e=0;if(101207!=t.temp[0]){var i=t.maxRank,n=t.minRank;i==n&&(i=t.source.maxRank,n=t.target.minRank);for(var r=0,o=this.jettyPositions[t.ids[0]],s=t.isReversed?t.target.cell:t.source.cell,a=this.layout.graph,l=this.orientation==mxConstants.DIRECTION_EAST||this.orientation==mxConstants.DIRECTION_SOUTH,h=0;h<t.edges.length;h++){var u=t.edges[h],c=this.layout.getVisibleTerminal(u,!0),d=[],p=t.isReversed;if(c!=s&&(p=!p),null!=o){var f=p?2:0,m=p?l?this.rankBottomY[n]:this.rankTopY[n]:l?this.rankTopY[i]:this.rankBottomY[i],g=o[4*r+1+f];p!=l&&(g=-g),m+=g;var v=o[4*r+f],A=a.model.getTerminal(u,!0);if(this.layout.isPort(A)&&a.model.getParent(A)==c)v=null!=(k=a.view.getState(A))?k.x:c.geometry.x+t.source.width*A.geometry.x;this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?(d.push(new mxPoint(v,m)),this.layout.edgeStyle==mxHierarchicalEdgeStyle.CURVE&&d.push(new mxPoint(v,m+g))):(d.push(new mxPoint(m,v)),this.layout.edgeStyle==mxHierarchicalEdgeStyle.CURVE&&d.push(new mxPoint(m+g,v)))}var y=t.x.length-1,x=-1,b=-1,C=t.maxRank-1;p&&(y=0,x=t.x.length,b=1,C=t.minRank+1);for(var w=y;t.maxRank!=t.minRank&&w!=x;w+=b){var E=t.x[w]+e,S=(this.rankTopY[C]+this.rankBottomY[C+1])/2,T=(this.rankTopY[C-1]+this.rankBottomY[C])/2;if(p){var _=S;S=T,T=_}this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?(d.push(new mxPoint(E,S)),d.push(new mxPoint(E,T))):(d.push(new mxPoint(S,E)),d.push(new mxPoint(T,E))),this.limitX=Math.max(this.limitX,E),C+=b}if(null!=o){f=p?2:0;var M=p?l?this.rankTopY[i]:this.rankBottomY[i]:l?this.rankBottomY[n]:this.rankTopY[n];g=o[4*r+3-f];p!=l&&(g=-g);m=M-g,v=o[4*r+2-f];var k,B=a.model.getTerminal(u,!1),O=this.layout.getVisibleTerminal(u,!1);if(this.layout.isPort(B)&&a.model.getParent(B)==O)v=null!=(k=a.view.getState(B))?k.x:O.geometry.x+t.target.width*B.geometry.x;this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?(this.layout.edgeStyle==mxHierarchicalEdgeStyle.CURVE&&d.push(new mxPoint(v,m-g)),d.push(new mxPoint(v,m))):(this.layout.edgeStyle==mxHierarchicalEdgeStyle.CURVE&&d.push(new mxPoint(m-g,v)),d.push(new mxPoint(m,v)))}t.isReversed&&this.processReversedEdge(t,u),this.layout.setEdgePoints(u,d),e=0==e?this.parallelEdgeSpacing:e>0?-e:-e+this.parallelEdgeSpacing,r++}t.temp[0]=101207}},mxCoordinateAssignment.prototype.setVertexLocation=function(t){var e=t.cell,i=t.x[0]-t.width/2,n=t.y[0]-t.height/2;this.rankTopY[t.minRank]=Math.min(this.rankTopY[t.minRank],n),this.rankBottomY[t.minRank]=Math.max(this.rankBottomY[t.minRank],n+t.height),this.orientation==mxConstants.DIRECTION_NORTH||this.orientation==mxConstants.DIRECTION_SOUTH?this.layout.setVertexLocation(e,i,n):this.layout.setVertexLocation(e,n,i),this.limitX=Math.max(this.limitX,i+t.width)},mxCoordinateAssignment.prototype.processReversedEdge=function(t,e){},__mxOutput.mxCoordinateAssignment=void 0!==mxCoordinateAssignment?mxCoordinateAssignment:void 0,mxSwimlaneOrdering.prototype=new mxHierarchicalLayoutStage,mxSwimlaneOrdering.prototype.constructor=mxSwimlaneOrdering,mxSwimlaneOrdering.prototype.layout=null,mxSwimlaneOrdering.prototype.execute=function(t){var e=this.layout.getModel(),i=new Object,n=mxUtils.clone(e.vertexMapper,null,!0),r=null;if(null!=e.roots){var o=e.roots;r=[];for(var s=0;s<o.length;s++){mxCellPath.create(o[s]);r[s]=e.vertexMapper.get(o[s])}}e.visit(function(t,e,r,o,s){var a=null!=t&&t.swimlaneIndex==e.swimlaneIndex&&e.isAncestor(t),l=null!=t&&null!=r&&t.swimlaneIndex<e.swimlaneIndex&&r.source==e;a?(r.invert(),mxUtils.remove(r,t.connectsAsSource),e.connectsAsSource.push(r),t.connectsAsTarget.push(r),mxUtils.remove(r,e.connectsAsTarget)):l&&(r.invert(),mxUtils.remove(r,t.connectsAsTarget),e.connectsAsTarget.push(r),t.connectsAsSource.push(r),mxUtils.remove(r,e.connectsAsSource));var h=mxCellPath.create(e.cell);i[h]=e,delete n[h]},r,!0,null)},__mxOutput.mxSwimlaneOrdering=void 0!==mxSwimlaneOrdering?mxSwimlaneOrdering:void 0;var mxHierarchicalEdgeStyle={ORTHOGONAL:1,POLYLINE:2,STRAIGHT:3,CURVE:4};function mxSwimlaneLayout(t,e,i){mxGraphLayout.call(this,t),this.orientation=null!=e?e:mxConstants.DIRECTION_NORTH,this.deterministic=null==i||i}function mxGraphModel(t){this.currentEdit=this.createUndoableEdit(),null!=t?this.setRoot(t):this.clear()}function mxRootChange(t,e){this.model=t,this.root=e,this.previous=e}function mxChildChange(t,e,i,n){this.model=t,this.parent=e,this.previous=e,this.child=i,this.index=n,this.previousIndex=n}function mxTerminalChange(t,e,i,n){this.model=t,this.cell=e,this.terminal=i,this.previous=i,this.source=n}function mxValueChange(t,e,i){this.model=t,this.cell=e,this.value=i,this.previous=i}function mxStyleChange(t,e,i){this.model=t,this.cell=e,this.style=i,this.previous=i}function mxGeometryChange(t,e,i){this.model=t,this.cell=e,this.geometry=i,this.previous=i}function mxCollapseChange(t,e,i){this.model=t,this.cell=e,this.collapsed=i,this.previous=i}function mxVisibleChange(t,e,i){this.model=t,this.cell=e,this.visible=i,this.previous=i}function mxCellAttributeChange(t,e,i){this.cell=t,this.attribute=e,this.value=i,this.previous=i}function mxCell(t,e,i){this.value=t,this.setGeometry(e),this.setStyle(i),null!=this.onInit&&this.onInit()}function mxGeometry(t,e,i,n){mxRectangle.call(this,t,e,i,n)}mxHierarchicalLayout.prototype=new mxGraphLayout,mxHierarchicalLayout.prototype.constructor=mxHierarchicalLayout,mxHierarchicalLayout.prototype.roots=null,mxHierarchicalLayout.prototype.resizeParent=!1,mxHierarchicalLayout.prototype.maintainParentLocation=!1,mxHierarchicalLayout.prototype.moveParent=!1,mxHierarchicalLayout.prototype.parentBorder=0,mxHierarchicalLayout.prototype.intraCellSpacing=30,mxHierarchicalLayout.prototype.interRankCellSpacing=100,mxHierarchicalLayout.prototype.interHierarchySpacing=60,mxHierarchicalLayout.prototype.parallelEdgeSpacing=10,mxHierarchicalLayout.prototype.orientation=mxConstants.DIRECTION_NORTH,mxHierarchicalLayout.prototype.fineTuning=!0,mxHierarchicalLayout.prototype.tightenToSource=!0,mxHierarchicalLayout.prototype.disableEdgeStyle=!0,mxHierarchicalLayout.prototype.traverseAncestors=!0,mxHierarchicalLayout.prototype.model=null,mxHierarchicalLayout.prototype.edgesCache=null,mxHierarchicalLayout.prototype.edgeSourceTermCache=null,mxHierarchicalLayout.prototype.edgesTargetTermCache=null,mxHierarchicalLayout.prototype.edgeStyle=mxHierarchicalEdgeStyle.POLYLINE,mxHierarchicalLayout.prototype.getModel=function(){return this.model},mxHierarchicalLayout.prototype.execute=function(t,e){this.parent=t;var i=this.graph.model;if(this.edgesCache=new mxDictionary,this.edgeSourceTermCache=new mxDictionary,this.edgesTargetTermCache=new mxDictionary,null==e||e instanceof Array||(e=[e]),null!=e||null!=t){if(this.parentX=null,this.parentY=null,t!=this.root&&null!=i.isVertex(t)&&this.maintainParentLocation)null!=(o=this.graph.getCellGeometry(t))&&(this.parentX=o.x,this.parentY=o.y);if(null!=e){for(var n=[],r=0;r<e.length;r++){(null==t||i.isAncestor(t,e[r]))&&i.isVertex(e[r])&&n.push(e[r])}this.roots=n}i.beginUpdate();try{var o;if(this.run(t),this.resizeParent&&!this.graph.isCellCollapsed(t)&&this.graph.updateGroupBounds([t],this.parentBorder,this.moveParent),null!=this.parentX&&null!=this.parentY)null!=(o=this.graph.getCellGeometry(t))&&((o=o.clone()).x=this.parentX,o.y=this.parentY,i.setGeometry(t,o))}finally{i.endUpdate()}}},mxHierarchicalLayout.prototype.findRoots=function(t,e){var i=[];if(null!=t&&null!=e){var n=this.graph.model,r=null,o=-1e5;for(var s in e){var a=e[s];if(n.isVertex(a)&&this.graph.isCellVisible(a)){for(var l=this.getEdges(a),h=0,u=0,c=0;c<l.length;c++){this.getVisibleTerminal(l[c],!0)==a?h++:u++}0==u&&h>0&&i.push(a);var d=h-u;d>o&&(o=d,r=a)}}0==i.length&&null!=r&&i.push(r)}return i},mxHierarchicalLayout.prototype.getEdges=function(t){var e=this.edgesCache.get(t);if(null!=e)return e;for(var i=this.graph.model,n=[],r=this.graph.isCellCollapsed(t),o=i.getChildCount(t),s=0;s<o;s++){var a=i.getChildAt(t,s);this.isPort(a)?n=n.concat(i.getEdges(a,!0,!0)):!r&&this.graph.isCellVisible(a)||(n=n.concat(i.getEdges(a,!0,!0)))}n=n.concat(i.getEdges(t,!0,!0));var l=[];for(s=0;s<n.length;s++){var h=this.getVisibleTerminal(n[s],!0),u=this.getVisibleTerminal(n[s],!1);(h==u||h!=u&&(u==t&&(null==this.parent||this.isAncestor(this.parent,h,this.traverseAncestors))||h==t&&(null==this.parent||this.isAncestor(this.parent,u,this.traverseAncestors))))&&l.push(n[s])}return this.edgesCache.put(t,l),l},mxHierarchicalLayout.prototype.getVisibleTerminal=function(t,e){var i=this.edgesTargetTermCache;e&&(i=this.edgeSourceTermCache);var n=i.get(t);if(null!=n)return n;var r=this.graph.view.getState(t),o=null!=r?r.getVisibleTerminal(e):this.graph.view.getVisibleTerminal(t,e);return null==o&&(o=null!=r?r.getVisibleTerminal(e):this.graph.view.getVisibleTerminal(t,e)),null!=o&&(this.isPort(o)&&(o=this.graph.model.getParent(o)),i.put(t,o)),o},mxHierarchicalLayout.prototype.run=function(t){var e=[],i=[];if(null==this.roots&&null!=t){var n=Object();this.filterDescendants(t,n),this.roots=[];var r=!0;for(var o in n)if(null!=n[o]){r=!1;break}for(;!r;){for(var s=this.findRoots(t,n),a=0;a<s.length;a++){var l=Object();e.push(l),this.traverse(s[a],!0,null,i,l,e,n)}for(a=0;a<s.length;a++)this.roots.push(s[a]);for(var o in r=!0,n)if(null!=n[o]){r=!1;break}}}else for(a=0;a<this.roots.length;a++){l=Object();e.push(l),this.traverse(this.roots[a],!0,null,i,l,e,null)}var h=0;for(a=0;a<e.length;a++){l=e[a];var u=[];for(var o in l)u.push(l[o]);this.model=new mxGraphHierarchyModel(this,u,this.roots,t,this.tightenToSource),this.cycleStage(t),this.layeringStage(),this.crossingStage(t),h=this.placementStage(h,t)}},mxHierarchicalLayout.prototype.filterDescendants=function(t,e){var i=this.graph.model;if(i.isVertex(t)&&t!=this.parent&&this.graph.isCellVisible(t)&&(e[mxObjectIdentity.get(t)]=t),this.traverseAncestors||t==this.parent&&this.graph.isCellVisible(t))for(var n=i.getChildCount(t),r=0;r<n;r++){var o=i.getChildAt(t,r);this.isPort(o)||this.filterDescendants(o,e)}},mxHierarchicalLayout.prototype.isPort=function(t){return null!=t&&null!=t.geometry&&t.geometry.relative},mxHierarchicalLayout.prototype.getEdgesBetween=function(t,e,i){i=null!=i&&i;for(var n=this.getEdges(t),r=[],o=0;o<n.length;o++){var s=this.getVisibleTerminal(n[o],!0),a=this.getVisibleTerminal(n[o],!1);(s==t&&a==e||!i&&s==e&&a==t)&&r.push(n[o])}return r},mxHierarchicalLayout.prototype.traverse=function(t,e,i,n,r,o,s){if(null!=t&&null!=n){var a=mxObjectIdentity.get(t);if(null!=n[a]||null!=s&&null==s[a]){if(null==r[a])for(d=0;d<o.length;d++){var l=o[d];if(null!=l[a]){for(var h in l)r[h]=l[h];return o.splice(d,1),r}}}else{null==r[a]&&(r[a]=t),null==n[a]&&(n[a]=t),null!==s&&delete s[a];for(var u=this.getEdges(t),c=[],d=0;d<u.length;d++)c[d]=this.getVisibleTerminal(u[d],!0)==t;for(var d=0;d<u.length;d++)if(!e||c[d]){for(var p=this.getVisibleTerminal(u[d],!c[d]),f=1,m=0;m<u.length;m++)if(m!=d){var g=c[m];this.getVisibleTerminal(u[m],!g)==p&&(g?f++:f--)}f>=0&&(r=this.traverse(p,e,u[d],n,r,o,s))}}}return r},mxHierarchicalLayout.prototype.cycleStage=function(t){new mxMinimumCycleRemover(this).execute(t)},mxHierarchicalLayout.prototype.layeringStage=function(){this.model.initialRank(),this.model.fixRanks()},mxHierarchicalLayout.prototype.crossingStage=function(t){new mxMedianHybridCrossingReduction(this).execute(t)},mxHierarchicalLayout.prototype.placementStage=function(t,e){var i=new mxCoordinateAssignment(this,this.intraCellSpacing,this.interRankCellSpacing,this.orientation,t,this.parallelEdgeSpacing);return i.fineTuning=this.fineTuning,i.execute(e),i.limitX+this.interHierarchySpacing},__mxOutput.mxHierarchicalLayout=void 0!==mxHierarchicalLayout?mxHierarchicalLayout:void 0,mxSwimlaneLayout.prototype=new mxGraphLayout,mxSwimlaneLayout.prototype.constructor=mxSwimlaneLayout,mxSwimlaneLayout.prototype.roots=null,mxSwimlaneLayout.prototype.swimlanes=null,mxSwimlaneLayout.prototype.dummyVertexWidth=50,mxSwimlaneLayout.prototype.resizeParent=!1,mxSwimlaneLayout.prototype.maintainParentLocation=!1,mxSwimlaneLayout.prototype.moveParent=!1,mxSwimlaneLayout.prototype.parentBorder=30,mxSwimlaneLayout.prototype.intraCellSpacing=30,mxSwimlaneLayout.prototype.interRankCellSpacing=100,mxSwimlaneLayout.prototype.interHierarchySpacing=60,mxSwimlaneLayout.prototype.parallelEdgeSpacing=10,mxSwimlaneLayout.prototype.orientation=mxConstants.DIRECTION_NORTH,mxSwimlaneLayout.prototype.fineTuning=!0,mxSwimlaneLayout.prototype.tightenToSource=!0,mxSwimlaneLayout.prototype.disableEdgeStyle=!0,mxSwimlaneLayout.prototype.traverseAncestors=!0,mxSwimlaneLayout.prototype.model=null,mxSwimlaneLayout.prototype.edgesCache=null,mxHierarchicalLayout.prototype.edgeSourceTermCache=null,mxHierarchicalLayout.prototype.edgesTargetTermCache=null,mxHierarchicalLayout.prototype.edgeStyle=mxHierarchicalEdgeStyle.POLYLINE,mxSwimlaneLayout.prototype.getModel=function(){return this.model},mxSwimlaneLayout.prototype.execute=function(t,e){this.parent=t;var i=this.graph.model;if(this.edgesCache=new mxDictionary,this.edgeSourceTermCache=new mxDictionary,this.edgesTargetTermCache=new mxDictionary,!(null==e||e.length<1)){if(null==t&&(t=i.getParent(e[0])),this.parentX=null,this.parentY=null,t!=this.root&&null!=i.isVertex(t)&&this.maintainParentLocation)null!=(a=this.graph.getCellGeometry(t))&&(this.parentX=a.x,this.parentY=a.y);this.swimlanes=e;for(var n=[],r=0;r<e.length;r++){var o=this.graph.getChildCells(e[r]);if(null==o||0==o.length){var s=this.graph.insertVertex(e[r],null,null,0,0,this.dummyVertexWidth,0);n.push(s)}}i.beginUpdate();try{var a;if(this.run(t),this.resizeParent&&!this.graph.isCellCollapsed(t)&&this.graph.updateGroupBounds([t],this.parentBorder,this.moveParent),null!=this.parentX&&null!=this.parentY)null!=(a=this.graph.getCellGeometry(t))&&((a=a.clone()).x=this.parentX,a.y=this.parentY,i.setGeometry(t,a));this.graph.removeCells(n)}finally{i.endUpdate()}}},mxSwimlaneLayout.prototype.updateGroupBounds=function(){var t=[],e=this.model;for(var i in e.edgeMapper)for(var n=e.edgeMapper[i],r=0;r<n.edges.length;r++)t.push(n.edges[r]);var o=this.graph.getBoundingBoxFromGeometry(t,!0),s=[];for(r=0;r<this.swimlanes.length;r++){var a=this.swimlanes[r];if(null!=(f=this.graph.getCellGeometry(a))){var l=this.graph.getChildCells(a),h=this.graph.isSwimlane(a)?this.graph.getStartSize(a):new mxRectangle,u=this.graph.getBoundingBoxFromGeometry(l);s[r]=u;var c=u.y+f.y-h.height-this.parentBorder,d=u.y+f.y+u.height;if(null==o)o=new mxRectangle(0,c,0,d-c);else{o.y=Math.min(o.y,c);var p=Math.max(o.y+o.height,d);o.height=p-o.y}}}for(r=0;r<this.swimlanes.length;r++){var f;a=this.swimlanes[r];if(null!=(f=this.graph.getCellGeometry(a))){l=this.graph.getChildCells(a),h=this.graph.isSwimlane(a)?this.graph.getStartSize(a):new mxRectangle;var m=f.clone(),g=0==r?this.parentBorder:this.interRankCellSpacing/2,v=h.width+g,A=s[r].x-v,y=o.y-this.parentBorder;m.x+=A,m.y=y,m.width=s[r].width+v+this.interRankCellSpacing/2,m.height=o.height+h.height+2*this.parentBorder,this.graph.model.setGeometry(a,m),this.graph.moveCells(l,-A,f.y-y)}}},mxSwimlaneLayout.prototype.findRoots=function(t,e){var i=[];if(null!=t&&null!=e){var n=this.graph.model,r=null,o=-1e5;for(var s in e){var a=e[s];if(null!=a&&n.isVertex(a)&&this.graph.isCellVisible(a)&&n.isAncestor(t,a)){for(var l=this.getEdges(a),h=0,u=0,c=0;c<l.length;c++){var d=this.getVisibleTerminal(l[c],!0);if(d==a){var p=this.getVisibleTerminal(l[c],!1);n.isAncestor(t,p)&&h++}else n.isAncestor(t,d)&&u++}0==u&&h>0&&i.push(a);var f=h-u;f>o&&(o=f,r=a)}}0==i.length&&null!=r&&i.push(r)}return i},mxSwimlaneLayout.prototype.getEdges=function(t){var e=this.edgesCache.get(t);if(null!=e)return e;for(var i=this.graph.model,n=[],r=this.graph.isCellCollapsed(t),o=i.getChildCount(t),s=0;s<o;s++){var a=i.getChildAt(t,s);this.isPort(a)?n=n.concat(i.getEdges(a,!0,!0)):!r&&this.graph.isCellVisible(a)||(n=n.concat(i.getEdges(a,!0,!0)))}n=n.concat(i.getEdges(t,!0,!0));var l=[];for(s=0;s<n.length;s++){var h=this.getVisibleTerminal(n[s],!0),u=this.getVisibleTerminal(n[s],!1);(h==u||h!=u&&(u==t&&(null==this.parent||this.graph.isValidAncestor(h,this.parent,this.traverseAncestors))||h==t&&(null==this.parent||this.graph.isValidAncestor(u,this.parent,this.traverseAncestors))))&&l.push(n[s])}return this.edgesCache.put(t,l),l},mxSwimlaneLayout.prototype.getVisibleTerminal=function(t,e){var i=this.edgesTargetTermCache;e&&(i=this.edgeSourceTermCache);var n=i.get(t);if(null!=n)return n;var r=this.graph.view.getState(t),o=null!=r?r.getVisibleTerminal(e):this.graph.view.getVisibleTerminal(t,e);return null==o&&(o=null!=r?r.getVisibleTerminal(e):this.graph.view.getVisibleTerminal(t,e)),null!=o&&(this.isPort(o)&&(o=this.graph.model.getParent(o)),i.put(t,o)),o},mxSwimlaneLayout.prototype.run=function(t){var e=[],i=Object();if(null!=this.swimlanes&&this.swimlanes.length>0&&null!=t){for(var n=Object(),r=0;r<this.swimlanes.length;r++)this.filterDescendants(this.swimlanes[r],n);this.roots=[];var o=!0;for(var s in n)if(null!=n[s]){o=!1;break}for(var a=0;!o&&a<this.swimlanes.length;){var l=this.findRoots(this.swimlanes[a],n);if(0!=l.length){for(r=0;r<l.length;r++){var h=Object();e.push(h),this.traverse(l[r],!0,null,i,h,e,n,a)}for(r=0;r<l.length;r++)this.roots.push(l[r]);for(var s in o=!0,n)if(null!=n[s]){o=!1;break}}else a++}}else for(r=0;r<this.roots.length;r++){h=Object();e.push(h),this.traverse(this.roots[r],!0,null,i,h,e,null)}var u=[];for(var s in i)u.push(i[s]);this.model=new mxSwimlaneModel(this,u,this.roots,t,this.tightenToSource),this.cycleStage(t),this.layeringStage(),this.crossingStage(t),this.placementStage(0,t)},mxSwimlaneLayout.prototype.filterDescendants=function(t,e){var i=this.graph.model;if(i.isVertex(t)&&t!=this.parent&&i.getParent(t)!=this.parent&&this.graph.isCellVisible(t)&&(e[mxObjectIdentity.get(t)]=t),this.traverseAncestors||t==this.parent&&this.graph.isCellVisible(t))for(var n=i.getChildCount(t),r=0;r<n;r++){var o=i.getChildAt(t,r);this.isPort(o)||this.filterDescendants(o,e)}},mxSwimlaneLayout.prototype.isPort=function(t){return!!t.geometry.relative},mxSwimlaneLayout.prototype.getEdgesBetween=function(t,e,i){i=null!=i&&i;for(var n=this.getEdges(t),r=[],o=0;o<n.length;o++){var s=this.getVisibleTerminal(n[o],!0),a=this.getVisibleTerminal(n[o],!1);(s==t&&a==e||!i&&s==e&&a==t)&&r.push(n[o])}return r},mxSwimlaneLayout.prototype.traverse=function(t,e,i,n,r,o,s,a){if(null!=t&&null!=n){var l=mxObjectIdentity.get(t);if(null!=n[l]||null!=s&&null==s[l]){if(null==r[l])for(p=0;p<o.length;p++){var h=o[p];if(null!=h[l]){for(var u in h)r[u]=h[u];return o.splice(p,1),r}}}else{null==r[l]&&(r[l]=t),null==n[l]&&(n[l]=t),null!==s&&delete s[l];for(var c=this.getEdges(t),d=this.graph.model,p=0;p<c.length;p++){var f=this.getVisibleTerminal(c[p],!0),m=f==t;m&&(f=this.getVisibleTerminal(c[p],!1));var g=0;for(g=0;g<this.swimlanes.length&&!d.isAncestor(this.swimlanes[g],f);g++);g>=this.swimlanes.length||(g>a||(!e||m)&&g==a)&&(r=this.traverse(f,e,c[p],n,r,o,s,g))}}}return r},mxSwimlaneLayout.prototype.cycleStage=function(t){new mxSwimlaneOrdering(this).execute(t)},mxSwimlaneLayout.prototype.layeringStage=function(){this.model.initialRank(),this.model.fixRanks()},mxSwimlaneLayout.prototype.crossingStage=function(t){new mxMedianHybridCrossingReduction(this).execute(t)},mxSwimlaneLayout.prototype.placementStage=function(t,e){var i=new mxCoordinateAssignment(this,this.intraCellSpacing,this.interRankCellSpacing,this.orientation,t,this.parallelEdgeSpacing);return i.fineTuning=this.fineTuning,i.execute(e),i.limitX+this.interHierarchySpacing},__mxOutput.mxSwimlaneLayout=void 0!==mxSwimlaneLayout?mxSwimlaneLayout:void 0,mxGraphModel.prototype=new mxEventSource,mxGraphModel.prototype.constructor=mxGraphModel,mxGraphModel.prototype.root=null,mxGraphModel.prototype.cells=null,mxGraphModel.prototype.maintainEdgeParent=!0,mxGraphModel.prototype.ignoreRelativeEdgeParent=!0,mxGraphModel.prototype.createIds=!0,mxGraphModel.prototype.prefix="",mxGraphModel.prototype.postfix="",mxGraphModel.prototype.nextId=0,mxGraphModel.prototype.currentEdit=null,mxGraphModel.prototype.updateLevel=0,mxGraphModel.prototype.endingUpdate=!1,mxGraphModel.prototype.clear=function(){this.setRoot(this.createRoot())},mxGraphModel.prototype.isCreateIds=function(){return this.createIds},mxGraphModel.prototype.setCreateIds=function(t){this.createIds=t},mxGraphModel.prototype.createRoot=function(){var t=new mxCell;return t.insert(new mxCell),t},mxGraphModel.prototype.getCell=function(t){return null!=this.cells?this.cells[t]:null},mxGraphModel.prototype.filterCells=function(t,e){var i=null;if(null!=t){i=[];for(var n=0;n<t.length;n++)e(t[n])&&i.push(t[n])}return i},mxGraphModel.prototype.getDescendants=function(t){return this.filterDescendants(null,t)},mxGraphModel.prototype.filterDescendants=function(t,e){var i=[];e=e||this.getRoot(),(null==t||t(e))&&i.push(e);for(var n=this.getChildCount(e),r=0;r<n;r++){var o=this.getChildAt(e,r);i=i.concat(this.filterDescendants(t,o))}return i},mxGraphModel.prototype.getRoot=function(t){var e=t||this.root;if(null!=t)for(;null!=t;)e=t,t=this.getParent(t);return e},mxGraphModel.prototype.setRoot=function(t){return this.execute(new mxRootChange(this,t)),t},mxGraphModel.prototype.rootChanged=function(t){var e=this.root;return this.root=t,this.nextId=0,this.cells=null,this.cellAdded(t),e},mxGraphModel.prototype.isRoot=function(t){return null!=t&&this.root==t},mxGraphModel.prototype.isLayer=function(t){return this.isRoot(this.getParent(t))},mxGraphModel.prototype.isAncestor=function(t,e){for(;null!=e&&e!=t;)e=this.getParent(e);return e==t},mxGraphModel.prototype.contains=function(t){return this.isAncestor(this.root,t)},mxGraphModel.prototype.getParent=function(t){return null!=t?t.getParent():null},mxGraphModel.prototype.add=function(t,e,i){if(e!=t&&null!=t&&null!=e){null==i&&(i=this.getChildCount(t));var n=t!=this.getParent(e);this.execute(new mxChildChange(this,t,e,i)),this.maintainEdgeParent&&n&&this.updateEdgeParents(e)}return e},mxGraphModel.prototype.cellAdded=function(t){if(null!=t){if(null==t.getId()&&this.createIds&&t.setId(this.createId(t)),null!=t.getId()){var e=this.getCell(t.getId());if(e!=t){for(;null!=e;)t.setId(this.createId(t)),e=this.getCell(t.getId());null==this.cells&&(this.cells=new Object),this.cells[t.getId()]=t}}mxUtils.isNumeric(t.getId())&&(this.nextId=Math.max(this.nextId,t.getId()));for(var i=this.getChildCount(t),n=0;n<i;n++)this.cellAdded(this.getChildAt(t,n))}},mxGraphModel.prototype.createId=function(t){var e=this.nextId;return this.nextId++,this.prefix+e+this.postfix},mxGraphModel.prototype.updateEdgeParents=function(t,e){e=e||this.getRoot(t);for(var i=this.getChildCount(t),n=0;n<i;n++){var r=this.getChildAt(t,n);this.updateEdgeParents(r,e)}var o=this.getEdgeCount(t),s=[];for(n=0;n<o;n++)s.push(this.getEdgeAt(t,n));for(n=0;n<s.length;n++){var a=s[n];this.isAncestor(e,a)&&this.updateEdgeParent(a,e)}},mxGraphModel.prototype.updateEdgeParent=function(t,e){for(var i=this.getTerminal(t,!0),n=this.getTerminal(t,!1),r=null;null!=i&&!this.isEdge(i)&&null!=i.geometry&&i.geometry.relative;)i=this.getParent(i);for(;null!=n&&this.ignoreRelativeEdgeParent&&!this.isEdge(n)&&null!=n.geometry&&n.geometry.relative;)n=this.getParent(n);if(this.isAncestor(e,i)&&this.isAncestor(e,n)&&null!=(r=i==n?this.getParent(i):this.getNearestCommonAncestor(i,n))&&(this.getParent(r)!=this.root||this.isAncestor(r,t))&&this.getParent(t)!=r){var o=this.getGeometry(t);if(null!=o){var s=this.getOrigin(this.getParent(t)),a=this.getOrigin(r),l=a.x-s.x,h=a.y-s.y;(o=o.clone()).translate(-l,-h),this.setGeometry(t,o)}this.add(r,t,this.getChildCount(r))}},mxGraphModel.prototype.getOrigin=function(t){var e=null;if(null!=t){if(e=this.getOrigin(this.getParent(t)),!this.isEdge(t)){var i=this.getGeometry(t);null!=i&&(e.x+=i.x,e.y+=i.y)}}else e=new mxPoint;return e},mxGraphModel.prototype.getNearestCommonAncestor=function(t,e){if(null!=t&&null!=e){var i=mxCellPath.create(e);if(null!=i&&i.length>0){var n=t,r=mxCellPath.create(n);if(i.length<r.length){n=e;var o=r;r=i,i=o}for(;null!=n;){var s=this.getParent(n);if(0==i.indexOf(r+mxCellPath.PATH_SEPARATOR)&&null!=s)return n;r=mxCellPath.getParentPath(r),n=s}}}return null},mxGraphModel.prototype.remove=function(t){return t==this.root?this.setRoot(null):null!=this.getParent(t)&&this.execute(new mxChildChange(this,null,t)),t},mxGraphModel.prototype.cellRemoved=function(t){if(null!=t&&null!=this.cells){for(var e=this.getChildCount(t)-1;e>=0;e--)this.cellRemoved(this.getChildAt(t,e));null!=this.cells&&null!=t.getId()&&delete this.cells[t.getId()]}},mxGraphModel.prototype.parentForCellChanged=function(t,e,i){var n=this.getParent(t);if(null!=e)e==n&&n.getIndex(t)==i||e.insert(t,i);else if(null!=n){var r=n.getIndex(t);n.remove(r)}var o=this.contains(e),s=this.contains(n);return o&&!s?this.cellAdded(t):s&&!o&&this.cellRemoved(t),n},mxGraphModel.prototype.getChildCount=function(t){return null!=t?t.getChildCount():0},mxGraphModel.prototype.getChildAt=function(t,e){return null!=t?t.getChildAt(e):null},mxGraphModel.prototype.getChildren=function(t){return null!=t?t.children:null},mxGraphModel.prototype.getChildVertices=function(t){return this.getChildCells(t,!0,!1)},mxGraphModel.prototype.getChildEdges=function(t){return this.getChildCells(t,!1,!0)},mxGraphModel.prototype.getChildCells=function(t,e,i){e=null!=e&&e,i=null!=i&&i;for(var n=this.getChildCount(t),r=[],o=0;o<n;o++){var s=this.getChildAt(t,o);(!i&&!e||i&&this.isEdge(s)||e&&this.isVertex(s))&&r.push(s)}return r},mxGraphModel.prototype.getTerminal=function(t,e){return null!=t?t.getTerminal(e):null},mxGraphModel.prototype.setTerminal=function(t,e,i){var n=e!=this.getTerminal(t,i);return this.execute(new mxTerminalChange(this,t,e,i)),this.maintainEdgeParent&&n&&this.updateEdgeParent(t,this.getRoot()),e},mxGraphModel.prototype.setTerminals=function(t,e,i){this.beginUpdate();try{this.setTerminal(t,e,!0),this.setTerminal(t,i,!1)}finally{this.endUpdate()}},mxGraphModel.prototype.terminalForCellChanged=function(t,e,i){var n=this.getTerminal(t,i);return null!=e?e.insertEdge(t,i):null!=n&&n.removeEdge(t,i),n},mxGraphModel.prototype.getEdgeCount=function(t){return null!=t?t.getEdgeCount():0},mxGraphModel.prototype.getEdgeAt=function(t,e){return null!=t?t.getEdgeAt(e):null},mxGraphModel.prototype.getDirectedEdgeCount=function(t,e,i){for(var n=0,r=this.getEdgeCount(t),o=0;o<r;o++){var s=this.getEdgeAt(t,o);s!=i&&this.getTerminal(s,e)==t&&n++}return n},mxGraphModel.prototype.getConnections=function(t){return this.getEdges(t,!0,!0,!1)},mxGraphModel.prototype.getIncomingEdges=function(t){return this.getEdges(t,!0,!1,!1)},mxGraphModel.prototype.getOutgoingEdges=function(t){return this.getEdges(t,!1,!0,!1)},mxGraphModel.prototype.getEdges=function(t,e,i,n){e=null==e||e,i=null==i||i,n=null==n||n;for(var r=this.getEdgeCount(t),o=[],s=0;s<r;s++){var a=this.getEdgeAt(t,s),l=this.getTerminal(a,!0),h=this.getTerminal(a,!1);(n&&l==h||l!=h&&(e&&h==t||i&&l==t))&&o.push(a)}return o},mxGraphModel.prototype.getEdgesBetween=function(t,e,i){i=null!=i&&i;var n=this.getEdgeCount(t),r=this.getEdgeCount(e),o=t,s=n;r<n&&(s=r,o=e);for(var a=[],l=0;l<s;l++){var h=this.getEdgeAt(o,l),u=this.getTerminal(h,!0),c=this.getTerminal(h,!1);(u==t&&c==e||!i&&(c==t&&u==e))&&a.push(h)}return a},mxGraphModel.prototype.getOpposites=function(t,e,i,n){i=null==i||i,n=null==n||n;var r=[];if(null!=t)for(var o=0;o<t.length;o++){var s=this.getTerminal(t[o],!0),a=this.getTerminal(t[o],!1);s==e&&null!=a&&a!=e&&n?r.push(a):a==e&&null!=s&&s!=e&&i&&r.push(s)}return r},mxGraphModel.prototype.getTopmostCells=function(t){for(var e=new mxDictionary,i=[],n=0;n<t.length;n++)e.put(t[n],!0);for(n=0;n<t.length;n++){for(var r=t[n],o=!0,s=this.getParent(r);null!=s;){if(e.get(s)){o=!1;break}s=this.getParent(s)}o&&i.push(r)}return i},mxGraphModel.prototype.isVertex=function(t){return null!=t&&t.isVertex()},mxGraphModel.prototype.isEdge=function(t){return null!=t&&t.isEdge()},mxGraphModel.prototype.isConnectable=function(t){return null!=t&&t.isConnectable()},mxGraphModel.prototype.getValue=function(t){return null!=t?t.getValue():null},mxGraphModel.prototype.setValue=function(t,e){return this.execute(new mxValueChange(this,t,e)),e},mxGraphModel.prototype.valueForCellChanged=function(t,e){return t.valueChanged(e)},mxGraphModel.prototype.getGeometry=function(t){return null!=t?t.getGeometry():null},mxGraphModel.prototype.setGeometry=function(t,e){return e!=this.getGeometry(t)&&this.execute(new mxGeometryChange(this,t,e)),e},mxGraphModel.prototype.geometryForCellChanged=function(t,e){var i=this.getGeometry(t);return t.setGeometry(e),i},mxGraphModel.prototype.getStyle=function(t){return null!=t?t.getStyle():null},mxGraphModel.prototype.setStyle=function(t,e){return e!=this.getStyle(t)&&this.execute(new mxStyleChange(this,t,e)),e},mxGraphModel.prototype.styleForCellChanged=function(t,e){var i=this.getStyle(t);return t.setStyle(e),i},mxGraphModel.prototype.isCollapsed=function(t){return null!=t&&t.isCollapsed()},mxGraphModel.prototype.setCollapsed=function(t,e){return e!=this.isCollapsed(t)&&this.execute(new mxCollapseChange(this,t,e)),e},mxGraphModel.prototype.collapsedStateForCellChanged=function(t,e){var i=this.isCollapsed(t);return t.setCollapsed(e),i},mxGraphModel.prototype.isVisible=function(t){return null!=t&&t.isVisible()},mxGraphModel.prototype.setVisible=function(t,e){return e!=this.isVisible(t)&&this.execute(new mxVisibleChange(this,t,e)),e},mxGraphModel.prototype.visibleStateForCellChanged=function(t,e){var i=this.isVisible(t);return t.setVisible(e),i},mxGraphModel.prototype.execute=function(t){t.execute(),this.beginUpdate(),this.currentEdit.add(t),this.fireEvent(new mxEventObject(mxEvent.EXECUTE,"change",t)),this.fireEvent(new mxEventObject(mxEvent.EXECUTED,"change",t)),this.endUpdate()},mxGraphModel.prototype.beginUpdate=function(){this.updateLevel++,this.fireEvent(new mxEventObject(mxEvent.BEGIN_UPDATE)),1==this.updateLevel&&this.fireEvent(new mxEventObject(mxEvent.START_EDIT))},mxGraphModel.prototype.endUpdate=function(){if(this.updateLevel--,0==this.updateLevel&&this.fireEvent(new mxEventObject(mxEvent.END_EDIT)),!this.endingUpdate){this.endingUpdate=0==this.updateLevel,this.fireEvent(new mxEventObject(mxEvent.END_UPDATE,"edit",this.currentEdit));try{if(this.endingUpdate&&!this.currentEdit.isEmpty()){this.fireEvent(new mxEventObject(mxEvent.BEFORE_UNDO,"edit",this.currentEdit));var t=this.currentEdit;this.currentEdit=this.createUndoableEdit(),t.notify(),this.fireEvent(new mxEventObject(mxEvent.UNDO,"edit",t))}}finally{this.endingUpdate=!1}}},mxGraphModel.prototype.createUndoableEdit=function(t){var e=new mxUndoableEdit(this,null==t||t);return e.notify=function(){e.source.fireEvent(new mxEventObject(mxEvent.CHANGE,"edit",e,"changes",e.changes)),e.source.fireEvent(new mxEventObject(mxEvent.NOTIFY,"edit",e,"changes",e.changes))},e},mxGraphModel.prototype.mergeChildren=function(t,e,i){i=null==i||i,this.beginUpdate();try{var n=new Object;for(var r in this.mergeChildrenImpl(t,e,i,n),n){var o=n[r],s=this.getTerminal(o,!0);null!=s&&(s=n[mxCellPath.create(s)],this.setTerminal(o,s,!0)),null!=(s=this.getTerminal(o,!1))&&(s=n[mxCellPath.create(s)],this.setTerminal(o,s,!1))}}finally{this.endUpdate()}},mxGraphModel.prototype.mergeChildrenImpl=function(t,e,i,n){this.beginUpdate();try{for(var r=t.getChildCount(),o=0;o<r;o++){var s=t.getChildAt(o);if("function"==typeof s.getId){var a=s.getId(),l=null==a||this.isEdge(s)&&i?null:this.getCell(a);if(null==l){var h=s.clone();h.setId(a),h.setTerminal(s.getTerminal(!0),!0),h.setTerminal(s.getTerminal(!1),!1),l=e.insert(h),this.cellAdded(l)}n[mxCellPath.create(s)]=l,this.mergeChildrenImpl(s,l,i,n)}}}finally{this.endUpdate()}},mxGraphModel.prototype.getParents=function(t){var e=[];if(null!=t)for(var i=new mxDictionary,n=0;n<t.length;n++){var r=this.getParent(t[n]);null==r||i.get(r)||(i.put(r,!0),e.push(r))}return e},mxGraphModel.prototype.cloneCell=function(t){return null!=t?this.cloneCells([t],!0)[0]:null},mxGraphModel.prototype.cloneCells=function(t,e,i){i=null!=i?i:new Object;for(var n=[],r=0;r<t.length;r++)null!=t[r]?n.push(this.cloneCellImpl(t[r],i,e)):n.push(null);for(r=0;r<n.length;r++)null!=n[r]&&this.restoreClone(n[r],t[r],i);return n},mxGraphModel.prototype.cloneCellImpl=function(t,e,i){var n=mxObjectIdentity.get(t),r=e[n];if(null==r&&(r=this.cellCloned(t),e[n]=r,i))for(var o=this.getChildCount(t),s=0;s<o;s++){var a=this.cloneCellImpl(this.getChildAt(t,s),e,!0);r.insert(a)}return r},mxGraphModel.prototype.cellCloned=function(t){return t.clone()},mxGraphModel.prototype.restoreClone=function(t,e,i){var n=this.getTerminal(e,!0);null!=n&&(null!=(r=i[mxObjectIdentity.get(n)])&&r.insertEdge(t,!0));var r,o=this.getTerminal(e,!1);null!=o&&(null!=(r=i[mxObjectIdentity.get(o)])&&r.insertEdge(t,!1));for(var s=this.getChildCount(t),a=0;a<s;a++)this.restoreClone(this.getChildAt(t,a),this.getChildAt(e,a),i)},mxRootChange.prototype.execute=function(){this.root=this.previous,this.previous=this.model.rootChanged(this.previous)},mxChildChange.prototype.execute=function(){if(null!=this.child){var t=this.model.getParent(this.child),e=null!=t?t.getIndex(this.child):0;null==this.previous&&this.connect(this.child,!1),t=this.model.parentForCellChanged(this.child,this.previous,this.previousIndex),null!=this.previous&&this.connect(this.child,!0),this.parent=this.previous,this.previous=t,this.index=this.previousIndex,this.previousIndex=e}},mxChildChange.prototype.connect=function(t,e){e=null==e||e;var i=t.getTerminal(!0),n=t.getTerminal(!1);null!=i&&(e?this.model.terminalForCellChanged(t,i,!0):this.model.terminalForCellChanged(t,null,!0)),null!=n&&(e?this.model.terminalForCellChanged(t,n,!1):this.model.terminalForCellChanged(t,null,!1)),t.setTerminal(i,!0),t.setTerminal(n,!1);for(var r=this.model.getChildCount(t),o=0;o<r;o++)this.connect(this.model.getChildAt(t,o),e)},mxTerminalChange.prototype.execute=function(){null!=this.cell&&(this.terminal=this.previous,this.previous=this.model.terminalForCellChanged(this.cell,this.previous,this.source))},mxValueChange.prototype.execute=function(){null!=this.cell&&(this.value=this.previous,this.previous=this.model.valueForCellChanged(this.cell,this.previous))},mxStyleChange.prototype.execute=function(){null!=this.cell&&(this.style=this.previous,this.previous=this.model.styleForCellChanged(this.cell,this.previous))},mxGeometryChange.prototype.execute=function(){null!=this.cell&&(this.geometry=this.previous,this.previous=this.model.geometryForCellChanged(this.cell,this.previous))},mxCollapseChange.prototype.execute=function(){null!=this.cell&&(this.collapsed=this.previous,this.previous=this.model.collapsedStateForCellChanged(this.cell,this.previous))},mxVisibleChange.prototype.execute=function(){null!=this.cell&&(this.visible=this.previous,this.previous=this.model.visibleStateForCellChanged(this.cell,this.previous))},mxCellAttributeChange.prototype.execute=function(){if(null!=this.cell){var t=this.cell.getAttribute(this.attribute);null==this.previous?this.cell.value.removeAttribute(this.attribute):this.cell.setAttribute(this.attribute,this.previous),this.previous=t}},__mxOutput.mxGraphModel=void 0!==mxGraphModel?mxGraphModel:void 0,mxCell.prototype.id=null,mxCell.prototype.value=null,mxCell.prototype.geometry=null,mxCell.prototype.style=null,mxCell.prototype.vertex=!1,mxCell.prototype.edge=!1,mxCell.prototype.connectable=!0,mxCell.prototype.visible=!0,mxCell.prototype.collapsed=!1,mxCell.prototype.parent=null,mxCell.prototype.source=null,mxCell.prototype.target=null,mxCell.prototype.children=null,mxCell.prototype.edges=null,mxCell.prototype.mxTransient=["id","value","parent","source","target","children","edges"],mxCell.prototype.getId=function(){return this.id},mxCell.prototype.setId=function(t){this.id=t},mxCell.prototype.getValue=function(){return this.value},mxCell.prototype.setValue=function(t){this.value=t},mxCell.prototype.valueChanged=function(t){var e=this.getValue();return this.setValue(t),e},mxCell.prototype.getGeometry=function(){return this.geometry},mxCell.prototype.setGeometry=function(t){this.geometry=t},mxCell.prototype.getStyle=function(){return this.style},mxCell.prototype.setStyle=function(t){this.style=t},mxCell.prototype.isVertex=function(){return 0!=this.vertex},mxCell.prototype.setVertex=function(t){this.vertex=t},mxCell.prototype.isEdge=function(){return 0!=this.edge},mxCell.prototype.setEdge=function(t){this.edge=t},mxCell.prototype.isConnectable=function(){return 0!=this.connectable},mxCell.prototype.setConnectable=function(t){this.connectable=t},mxCell.prototype.isVisible=function(){return 0!=this.visible},mxCell.prototype.setVisible=function(t){this.visible=t},mxCell.prototype.isCollapsed=function(){return 0!=this.collapsed},mxCell.prototype.setCollapsed=function(t){this.collapsed=t},mxCell.prototype.getParent=function(){return this.parent},mxCell.prototype.setParent=function(t){this.parent=t},mxCell.prototype.getTerminal=function(t){return t?this.source:this.target},mxCell.prototype.setTerminal=function(t,e){return e?this.source=t:this.target=t,t},mxCell.prototype.getChildCount=function(){return null==this.children?0:this.children.length},mxCell.prototype.getIndex=function(t){return mxUtils.indexOf(this.children,t)},mxCell.prototype.getChildAt=function(t){return null==this.children?null:this.children[t]},mxCell.prototype.insert=function(t,e){return null!=t&&(null==e&&(e=this.getChildCount(),t.getParent()==this&&e--),t.removeFromParent(),t.setParent(this),null==this.children?(this.children=[],this.children.push(t)):this.children.splice(e,0,t)),t},mxCell.prototype.remove=function(t){var e=null;return null!=this.children&&t>=0&&null!=(e=this.getChildAt(t))&&(this.children.splice(t,1),e.setParent(null)),e},mxCell.prototype.removeFromParent=function(){if(null!=this.parent){var t=this.parent.getIndex(this);this.parent.remove(t)}},mxCell.prototype.getEdgeCount=function(){return null==this.edges?0:this.edges.length},mxCell.prototype.getEdgeIndex=function(t){return mxUtils.indexOf(this.edges,t)},mxCell.prototype.getEdgeAt=function(t){return null==this.edges?null:this.edges[t]},mxCell.prototype.insertEdge=function(t,e){return null!=t&&(t.removeFromTerminal(e),t.setTerminal(this,e),(null==this.edges||t.getTerminal(!e)!=this||mxUtils.indexOf(this.edges,t)<0)&&(null==this.edges&&(this.edges=[]),this.edges.push(t))),t},mxCell.prototype.removeEdge=function(t,e){if(null!=t){if(t.getTerminal(!e)!=this&&null!=this.edges){var i=this.getEdgeIndex(t);i>=0&&this.edges.splice(i,1)}t.setTerminal(null,e)}return t},mxCell.prototype.removeFromTerminal=function(t){var e=this.getTerminal(t);null!=e&&e.removeEdge(this,t)},mxCell.prototype.hasAttribute=function(t){var e=this.getValue();return null!=e&&e.nodeType==mxConstants.NODETYPE_ELEMENT&&e.hasAttribute?e.hasAttribute(t):null!=e.getAttribute(t)},mxCell.prototype.getAttribute=function(t,e){var i=this.getValue(),n=null!=i&&i.nodeType==mxConstants.NODETYPE_ELEMENT?i.getAttribute(t):null;return null!=n?n:e},mxCell.prototype.setAttribute=function(t,e){var i=this.getValue();null!=i&&i.nodeType==mxConstants.NODETYPE_ELEMENT&&i.setAttribute(t,e)},mxCell.prototype.clone=function(){var t=mxUtils.clone(this,this.mxTransient);return t.setValue(this.cloneValue()),t},mxCell.prototype.cloneValue=function(){var t=this.getValue();return null!=t&&("function"==typeof t.clone?t=t.clone():isNaN(t.nodeType)||(t=t.cloneNode(!0))),t},__mxOutput.mxCell=void 0!==mxCell?mxCell:void 0,mxGeometry.prototype=new mxRectangle,mxGeometry.prototype.constructor=mxGeometry,mxGeometry.prototype.TRANSLATE_CONTROL_POINTS=!0,mxGeometry.prototype.alternateBounds=null,mxGeometry.prototype.sourcePoint=null,mxGeometry.prototype.targetPoint=null,mxGeometry.prototype.points=null,mxGeometry.prototype.offset=null,mxGeometry.prototype.relative=!1,mxGeometry.prototype.swap=function(){if(null!=this.alternateBounds){var t=new mxRectangle(this.x,this.y,this.width,this.height);this.x=this.alternateBounds.x,this.y=this.alternateBounds.y,this.width=this.alternateBounds.width,this.height=this.alternateBounds.height,this.alternateBounds=t}},mxGeometry.prototype.getTerminalPoint=function(t){return t?this.sourcePoint:this.targetPoint},mxGeometry.prototype.setTerminalPoint=function(t,e){return e?this.sourcePoint=t:this.targetPoint=t,t},mxGeometry.prototype.rotate=function(t,e){var i=mxUtils.toRadians(t),n=Math.cos(i),r=Math.sin(i);if(!this.relative){var o=new mxPoint(this.getCenterX(),this.getCenterY()),s=mxUtils.getRotatedPoint(o,n,r,e);this.x=Math.round(s.x-this.width/2),this.y=Math.round(s.y-this.height/2)}if(null!=this.sourcePoint){s=mxUtils.getRotatedPoint(this.sourcePoint,n,r,e);this.sourcePoint.x=Math.round(s.x),this.sourcePoint.y=Math.round(s.y)}if(null!=this.targetPoint){s=mxUtils.getRotatedPoint(this.targetPoint,n,r,e);this.targetPoint.x=Math.round(s.x),this.targetPoint.y=Math.round(s.y)}if(null!=this.points)for(var a=0;a<this.points.length;a++)if(null!=this.points[a]){s=mxUtils.getRotatedPoint(this.points[a],n,r,e);this.points[a].x=Math.round(s.x),this.points[a].y=Math.round(s.y)}},mxGeometry.prototype.translate=function(t,e){if(t=parseFloat(t),e=parseFloat(e),this.relative||(this.x=parseFloat(this.x)+t,this.y=parseFloat(this.y)+e),null!=this.sourcePoint&&(this.sourcePoint.x=parseFloat(this.sourcePoint.x)+t,this.sourcePoint.y=parseFloat(this.sourcePoint.y)+e),null!=this.targetPoint&&(this.targetPoint.x=parseFloat(this.targetPoint.x)+t,this.targetPoint.y=parseFloat(this.targetPoint.y)+e),this.TRANSLATE_CONTROL_POINTS&&null!=this.points)for(var i=0;i<this.points.length;i++)null!=this.points[i]&&(this.points[i].x=parseFloat(this.points[i].x)+t,this.points[i].y=parseFloat(this.points[i].y)+e)},mxGeometry.prototype.scale=function(t,e,i){if(t=parseFloat(t),e=parseFloat(e),null!=this.sourcePoint&&(this.sourcePoint.x=parseFloat(this.sourcePoint.x)*t,this.sourcePoint.y=parseFloat(this.sourcePoint.y)*e),null!=this.targetPoint&&(this.targetPoint.x=parseFloat(this.targetPoint.x)*t,this.targetPoint.y=parseFloat(this.targetPoint.y)*e),null!=this.points)for(var n=0;n<this.points.length;n++)null!=this.points[n]&&(this.points[n].x=parseFloat(this.points[n].x)*t,this.points[n].y=parseFloat(this.points[n].y)*e);this.relative||(this.x=parseFloat(this.x)*t,this.y=parseFloat(this.y)*e,i&&(e=t=Math.min(t,e)),this.width=parseFloat(this.width)*t,this.height=parseFloat(this.height)*e)},mxGeometry.prototype.equals=function(t){return mxRectangle.prototype.equals.apply(this,arguments)&&this.relative==t.relative&&(null==this.sourcePoint&&null==t.sourcePoint||null!=this.sourcePoint&&this.sourcePoint.equals(t.sourcePoint))&&(null==this.targetPoint&&null==t.targetPoint||null!=this.targetPoint&&this.targetPoint.equals(t.targetPoint))&&(null==this.points&&null==t.points||null!=this.points&&mxUtils.equalPoints(this.points,t.points))&&(null==this.alternateBounds&&null==t.alternateBounds||null!=this.alternateBounds&&this.alternateBounds.equals(t.alternateBounds))&&(null==this.offset&&null==t.offset||null!=this.offset&&this.offset.equals(t.offset))},__mxOutput.mxGeometry=void 0!==mxGeometry?mxGeometry:void 0;var mxCellPath={PATH_SEPARATOR:".",create:function(t){var e="";if(null!=t)for(var i=t.getParent();null!=i;){e=i.getIndex(t)+mxCellPath.PATH_SEPARATOR+e,i=(t=i).getParent()}var n=e.length;return n>1&&(e=e.substring(0,n-1)),e},getParentPath:function(t){if(null!=t){var e=t.lastIndexOf(mxCellPath.PATH_SEPARATOR);if(e>=0)return t.substring(0,e);if(t.length>0)return""}return null},resolve:function(t,e){var i=t;if(null!=e)for(var n=e.split(mxCellPath.PATH_SEPARATOR),r=0;r<n.length;r++)i=i.getChildAt(parseInt(n[r]));return i},compare:function(t,e){for(var i=Math.min(t.length,e.length),n=0,r=0;r<i;r++)if(t[r]!=e[r]){var o,s;if(0==t[r].length||0==e[r].length)n=t[r]==e[r]?0:t[r]>e[r]?1:-1;else n=(o=parseInt(t[r]))==(s=parseInt(e[r]))?0:o>s?1:-1;break}0==n&&((o=t.length)!=(s=e.length)&&(n=o>s?1:-1));return n}};__mxOutput.mxCellPath=void 0!==mxCellPath?mxCellPath:void 0;var mxPerimeter={RectanglePerimeter:function(t,e,i,n){var r=t.getCenterX(),o=t.getCenterY(),s=i.x-r,a=i.y-o,l=Math.atan2(a,s),h=new mxPoint(0,0),u=Math.PI,c=Math.PI/2-l,d=Math.atan2(t.height,t.width);return l<-u+d||l>u-d?(h.x=t.x,h.y=o-t.width*Math.tan(l)/2):l<-d?(h.y=t.y,h.x=r-t.height*Math.tan(c)/2):l<d?(h.x=t.x+t.width,h.y=o+t.width*Math.tan(l)/2):(h.y=t.y+t.height,h.x=r+t.height*Math.tan(c)/2),n&&(i.x>=t.x&&i.x<=t.x+t.width?h.x=i.x:i.y>=t.y&&i.y<=t.y+t.height&&(h.y=i.y),i.x<t.x?h.x=t.x:i.x>t.x+t.width&&(h.x=t.x+t.width),i.y<t.y?h.y=t.y:i.y>t.y+t.height&&(h.y=t.y+t.height)),h},EllipsePerimeter:function(t,e,i,n){var r=t.x,o=t.y,s=t.width/2,a=t.height/2,l=r+s,h=o+a,u=i.x,c=i.y,d=parseInt(u-l),p=parseInt(c-h);if(0==d&&0!=p)return new mxPoint(l,h+a*p/Math.abs(p));if(0==d&&0==p)return new mxPoint(u,c);if(n){if(c>=o&&c<=o+t.height){var f=c-h,m=Math.sqrt(s*s*(1-f*f/(a*a)))||0;return u<=r&&(m=-m),new mxPoint(l+m,c)}if(u>=r&&u<=r+t.width){m=u-l,f=Math.sqrt(a*a*(1-m*m/(s*s)))||0;return c<=o&&(f=-f),new mxPoint(u,h+f)}}var g=p/d,v=h-g*l,A=s*s*g*g+a*a,y=-2*l*A,x=s*s*g*g*l*l+a*a*l*l-s*s*a*a,b=Math.sqrt(y*y-4*A*x),C=(-y+b)/(2*A),w=(-y-b)/(2*A),E=g*C+v,S=g*w+v,T=0,_=0;return Math.sqrt(Math.pow(C-u,2)+Math.pow(E-c,2))<Math.sqrt(Math.pow(w-u,2)+Math.pow(S-c,2))?(T=C,_=E):(T=w,_=S),new mxPoint(T,_)},RhombusPerimeter:function(t,e,i,n){var r=t.x,o=t.y,s=t.width,a=t.height,l=r+s/2,h=o+a/2,u=i.x,c=i.y;if(l==u)return new mxPoint(l,h>c?o:o+a);if(h==c)return new mxPoint(l>u?r:r+s,h);var d=l,p=h;return n&&(u>=r&&u<=r+s?d=u:c>=o&&c<=o+a&&(p=c)),u<l?c<h?mxUtils.intersection(u,c,d,p,l,o,r,h):mxUtils.intersection(u,c,d,p,l,o+a,r,h):c<h?mxUtils.intersection(u,c,d,p,l,o,r+s,h):mxUtils.intersection(u,c,d,p,l,o+a,r+s,h)},TrianglePerimeter:function(t,e,i,n){var r=null!=e?e.style[mxConstants.STYLE_DIRECTION]:null,o=r==mxConstants.DIRECTION_NORTH||r==mxConstants.DIRECTION_SOUTH,s=t.x,a=t.y,l=t.width,h=t.height,u=s+l/2,c=a+h/2,d=new mxPoint(s,a),p=new mxPoint(s+l,c),f=new mxPoint(s,a+h);r==mxConstants.DIRECTION_NORTH?(d=f,p=new mxPoint(u,a),f=new mxPoint(s+l,a+h)):r==mxConstants.DIRECTION_SOUTH?(p=new mxPoint(u,a+h),f=new mxPoint(s+l,a)):r==mxConstants.DIRECTION_WEST&&(d=new mxPoint(s+l,a),p=new mxPoint(s,c),f=new mxPoint(s+l,a+h));var m=i.x-u,g=i.y-c,v=o?Math.atan2(m,g):Math.atan2(g,m),A=o?Math.atan2(l,h):Math.atan2(h,l),y=null;if(r==mxConstants.DIRECTION_NORTH||r==mxConstants.DIRECTION_WEST?v>-A&&v<A:v<-Math.PI+A||v>Math.PI-A)y=n&&(o&&i.x>=d.x&&i.x<=f.x||!o&&i.y>=d.y&&i.y<=f.y)?o?new mxPoint(i.x,d.y):new mxPoint(d.x,i.y):r==mxConstants.DIRECTION_NORTH?new mxPoint(s+l/2+h*Math.tan(v)/2,a+h):r==mxConstants.DIRECTION_SOUTH?new mxPoint(s+l/2-h*Math.tan(v)/2,a):r==mxConstants.DIRECTION_WEST?new mxPoint(s+l,a+h/2+l*Math.tan(v)/2):new mxPoint(s,a+h/2-l*Math.tan(v)/2);else{if(n){var x=new mxPoint(u,c);i.y>=a&&i.y<=a+h?(x.x=o?u:r==mxConstants.DIRECTION_WEST?s+l:s,x.y=i.y):i.x>=s&&i.x<=s+l&&(x.x=i.x,x.y=o?r==mxConstants.DIRECTION_NORTH?a+h:a:c),m=i.x-x.x,g=i.y-x.y,u=x.x,c=x.y}y=o&&i.x<=s+l/2||!o&&i.y<=a+h/2?mxUtils.intersection(i.x,i.y,u,c,d.x,d.y,p.x,p.y):mxUtils.intersection(i.x,i.y,u,c,p.x,p.y,f.x,f.y)}return null==y&&(y=new mxPoint(u,c)),y},HexagonPerimeter:function(t,e,i,n){var r=t.x,o=t.y,s=t.width,a=t.height,l=t.getCenterX(),h=t.getCenterY(),u=i.x,c=i.y,d=u-l,p=c-h,f=-Math.atan2(p,d),m=Math.PI,g=Math.PI/2,v=new mxPoint(l,h),A=null!=e?mxUtils.getValue(e.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST):mxConstants.DIRECTION_EAST,y=A==mxConstants.DIRECTION_NORTH||A==mxConstants.DIRECTION_SOUTH,x=new mxPoint,b=new mxPoint;if((u<r&&c<o||u<r&&c>o+a||u>r+s&&c<o||u>r+s&&c>o+a)&&(n=!1),n){if(y){if(u==l){if(c<=o)return new mxPoint(l,o);if(c>=o+a)return new mxPoint(l,o+a)}else if(u<r){if(c==o+a/4)return new mxPoint(r,o+a/4);if(c==o+3*a/4)return new mxPoint(r,o+3*a/4)}else if(u>r+s){if(c==o+a/4)return new mxPoint(r+s,o+a/4);if(c==o+3*a/4)return new mxPoint(r+s,o+3*a/4)}else if(u==r){if(c<h)return new mxPoint(r,o+a/4);if(c>h)return new mxPoint(r,o+3*a/4)}else if(u==r+s){if(c<h)return new mxPoint(r+s,o+a/4);if(c>h)return new mxPoint(r+s,o+3*a/4)}if(c==o)return new mxPoint(l,o);if(c==o+a)return new mxPoint(l,o+a);u<l?c>o+a/4&&c<o+3*a/4?(x=new mxPoint(r,o),b=new mxPoint(r,o+a)):c<o+a/4?(x=new mxPoint(r-Math.floor(.5*s),o+Math.floor(.5*a)),b=new mxPoint(r+s,o-Math.floor(.25*a))):c>o+3*a/4&&(x=new mxPoint(r-Math.floor(.5*s),o+Math.floor(.5*a)),b=new mxPoint(r+s,o+Math.floor(1.25*a))):u>l&&(c>o+a/4&&c<o+3*a/4?(x=new mxPoint(r+s,o),b=new mxPoint(r+s,o+a)):c<o+a/4?(x=new mxPoint(r,o-Math.floor(.25*a)),b=new mxPoint(r+Math.floor(1.5*s),o+Math.floor(.5*a))):c>o+3*a/4&&(x=new mxPoint(r+Math.floor(1.5*s),o+Math.floor(.5*a)),b=new mxPoint(r,o+Math.floor(1.25*a))))}else{if(c==h){if(u<=r)return new mxPoint(r,o+a/2);if(u>=r+s)return new mxPoint(r+s,o+a/2)}else if(c<o){if(u==r+s/4)return new mxPoint(r+s/4,o);if(u==r+3*s/4)return new mxPoint(r+3*s/4,o)}else if(c>o+a){if(u==r+s/4)return new mxPoint(r+s/4,o+a);if(u==r+3*s/4)return new mxPoint(r+3*s/4,o+a)}else if(c==o){if(u<l)return new mxPoint(r+s/4,o);if(u>l)return new mxPoint(r+3*s/4,o)}else if(c==o+a){if(u<l)return new mxPoint(r+s/4,o+a);if(c>h)return new mxPoint(r+3*s/4,o+a)}if(u==r)return new mxPoint(r,h);if(u==r+s)return new mxPoint(r+s,h);c<h?u>r+s/4&&u<r+3*s/4?(x=new mxPoint(r,o),b=new mxPoint(r+s,o)):u<r+s/4?(x=new mxPoint(r-Math.floor(.25*s),o+a),b=new mxPoint(r+Math.floor(.5*s),o-Math.floor(.5*a))):u>r+3*s/4&&(x=new mxPoint(r+Math.floor(.5*s),o-Math.floor(.5*a)),b=new mxPoint(r+Math.floor(1.25*s),o+a)):c>h&&(u>r+s/4&&u<r+3*s/4?(x=new mxPoint(r,o+a),b=new mxPoint(r+s,o+a)):u<r+s/4?(x=new mxPoint(r-Math.floor(.25*s),o),b=new mxPoint(r+Math.floor(.5*s),o+Math.floor(1.5*a))):u>r+3*s/4&&(x=new mxPoint(r+Math.floor(.5*s),o+Math.floor(1.5*a)),b=new mxPoint(r+Math.floor(1.25*s),o)))}var C=l,w=h;u>=r&&u<=r+s?(C=u,w=c<h?o+a:o):c>=o&&c<=o+a&&(w=c,C=u<l?r+s:r),v=mxUtils.intersection(C,w,i.x,i.y,x.x,x.y,b.x,b.y)}else{if(y){if(f==(E=Math.atan2(a/4,s/2)))return new mxPoint(r+s,o+Math.floor(.25*a));if(f==g)return new mxPoint(r+Math.floor(.5*s),o);if(f==m-E)return new mxPoint(r,o+Math.floor(.25*a));if(f==-E)return new mxPoint(r+s,o+Math.floor(.75*a));if(f==-g)return new mxPoint(r+Math.floor(.5*s),o+a);if(f==-m+E)return new mxPoint(r,o+Math.floor(.75*a));f<E&&f>-E?(x=new mxPoint(r+s,o),b=new mxPoint(r+s,o+a)):f>E&&f<g?(x=new mxPoint(r,o-Math.floor(.25*a)),b=new mxPoint(r+Math.floor(1.5*s),o+Math.floor(.5*a))):f>g&&f<m-E?(x=new mxPoint(r-Math.floor(.5*s),o+Math.floor(.5*a)),b=new mxPoint(r+s,o-Math.floor(.25*a))):f>m-E&&f<=m||f<-m+E&&f>=-m?(x=new mxPoint(r,o),b=new mxPoint(r,o+a)):f<-E&&f>-g?(x=new mxPoint(r+Math.floor(1.5*s),o+Math.floor(.5*a)),b=new mxPoint(r,o+Math.floor(1.25*a))):f<-g&&f>-m+E&&(x=new mxPoint(r-Math.floor(.5*s),o+Math.floor(.5*a)),b=new mxPoint(r+s,o+Math.floor(1.25*a)))}else{var E;if(f==(E=Math.atan2(a/2,s/4)))return new mxPoint(r+Math.floor(.75*s),o);if(f==m-E)return new mxPoint(r+Math.floor(.25*s),o);if(f==m||f==-m)return new mxPoint(r,o+Math.floor(.5*a));if(0==f)return new mxPoint(r+s,o+Math.floor(.5*a));if(f==-E)return new mxPoint(r+Math.floor(.75*s),o+a);if(f==-m+E)return new mxPoint(r+Math.floor(.25*s),o+a);f>0&&f<E?(x=new mxPoint(r+Math.floor(.5*s),o-Math.floor(.5*a)),b=new mxPoint(r+Math.floor(1.25*s),o+a)):f>E&&f<m-E?(x=new mxPoint(r,o),b=new mxPoint(r+s,o)):f>m-E&&f<m?(x=new mxPoint(r-Math.floor(.25*s),o+a),b=new mxPoint(r+Math.floor(.5*s),o-Math.floor(.5*a))):f<0&&f>-E?(x=new mxPoint(r+Math.floor(.5*s),o+Math.floor(1.5*a)),b=new mxPoint(r+Math.floor(1.25*s),o)):f<-E&&f>-m+E?(x=new mxPoint(r,o+a),b=new mxPoint(r+s,o+a)):f<-m+E&&f>-m&&(x=new mxPoint(r-Math.floor(.25*s),o),b=new mxPoint(r+Math.floor(.5*s),o+Math.floor(1.5*a)))}v=mxUtils.intersection(l,h,i.x,i.y,x.x,x.y,b.x,b.y)}return null==v?new mxPoint(l,h):v}};function mxPrintPreview(t,e,i,n,r,o,s,a,l){this.graph=t,this.scale=null!=e?e:1/t.pageScale,this.border=null!=n?n:0,this.pageFormat=mxRectangle.fromRectangle(null!=i?i:t.pageFormat),this.title=null!=a?a:"Printer-friendly version",this.x0=null!=r?r:0,this.y0=null!=o?o:0,this.borderColor=s,this.pageSelector=null==l||l}function mxStylesheet(){this.styles=new Object,this.putDefaultVertexStyle(this.createDefaultVertexStyle()),this.putDefaultEdgeStyle(this.createDefaultEdgeStyle())}function mxCellState(t,e,i){this.view=t,this.cell=e,this.style=null!=i?i:{},this.origin=new mxPoint,this.absoluteOffset=new mxPoint}function mxGraphSelectionModel(t){this.graph=t,this.cells=[]}function mxSelectionChange(t,e,i){this.selectionModel=t,this.added=null!=e?e.slice():null,this.removed=null!=i?i.slice():null}function mxCellEditor(t){this.graph=t,this.zoomHandler=mxUtils.bind(this,function(){this.graph.isEditing()&&this.resize()}),this.graph.view.addListener(mxEvent.SCALE,this.zoomHandler),this.graph.view.addListener(mxEvent.SCALE_AND_TRANSLATE,this.zoomHandler),this.changeHandler=mxUtils.bind(this,function(t){null!=this.editingCell&&null==this.graph.getView().getState(this.editingCell)&&this.stopEditing(!0)}),this.graph.getModel().addListener(mxEvent.CHANGE,this.changeHandler)}function mxCellRenderer(){}__mxOutput.mxPerimeter=void 0!==mxPerimeter?mxPerimeter:void 0,mxPrintPreview.prototype.graph=null,mxPrintPreview.prototype.pageFormat=null,mxPrintPreview.prototype.scale=null,mxPrintPreview.prototype.border=0,mxPrintPreview.prototype.marginTop=0,mxPrintPreview.prototype.marginBottom=0,mxPrintPreview.prototype.x0=0,mxPrintPreview.prototype.y0=0,mxPrintPreview.prototype.autoOrigin=!0,mxPrintPreview.prototype.printOverlays=!1,mxPrintPreview.prototype.printControls=!1,mxPrintPreview.prototype.printBackgroundImage=!1,mxPrintPreview.prototype.backgroundColor="#ffffff",mxPrintPreview.prototype.borderColor=null,mxPrintPreview.prototype.title=null,mxPrintPreview.prototype.pageSelector=null,mxPrintPreview.prototype.wnd=null,mxPrintPreview.prototype.targetWindow=null,mxPrintPreview.prototype.pageCount=0,mxPrintPreview.prototype.clipping=!0,mxPrintPreview.prototype.getWindow=function(){return this.wnd},mxPrintPreview.prototype.getDoctype=function(){var t="";return 5==document.documentMode?t='<meta http-equiv="X-UA-Compatible" content="IE=5">':8==document.documentMode?t='<meta http-equiv="X-UA-Compatible" content="IE=8">':document.documentMode>8&&(t='\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--\x3e'),t},mxPrintPreview.prototype.appendGraph=function(t,e,i,n,r,o){this.graph=t,this.scale=null!=e?e:1/t.pageScale,this.x0=i,this.y0=n,this.open(null,null,r,o)},mxPrintPreview.prototype.open=function(t,e,i,n){var r=this.graph.cellRenderer.initializeOverlay,o=null;try{this.printOverlays&&(this.graph.cellRenderer.initializeOverlay=function(t,e){e.init(t.view.getDrawPane())}),this.printControls&&(this.graph.cellRenderer.initControl=function(t,e,i,n){e.dialect=t.view.graph.dialect,e.init(t.view.getDrawPane())}),this.wnd=null!=e?e:this.wnd;var s=!1;null==this.wnd&&(s=!0,this.wnd=window.open());var a=this.wnd.document;if(s){var l=this.getDoctype();null!=l&&l.length>0&&a.writeln(l),mxClient.IS_VML?a.writeln('<html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">'):("CSS1Compat"===document.compatMode&&a.writeln("<!DOCTYPE html>"),a.writeln("<html>")),a.writeln("<head>"),this.writeHead(a,t),a.writeln("</head>"),a.writeln('<body class="mxPage">')}var h=this.graph.getGraphBounds().clone(),u=this.graph.getView().getScale(),c=u/this.scale,d=this.graph.getView().getTranslate();this.autoOrigin||(this.x0-=d.x*this.scale,this.y0-=d.y*this.scale,h.width+=h.x,h.height+=h.y,h.x=0,h.y=0,this.border=0);var p=this.pageFormat.width-2*this.border,f=this.pageFormat.height-2*this.border;this.pageFormat.height+=this.marginTop+this.marginBottom,h.width/=c,h.height/=c;var m=Math.max(1,Math.ceil((h.width+this.x0)/p)),g=Math.max(1,Math.ceil((h.height+this.y0)/f));this.pageCount=m*g;var v=mxUtils.bind(this,function(){if(this.pageSelector&&(g>1||m>1)){var t=this.createPageSelector(g,m);if(a.body.appendChild(t),mxClient.IS_IE&&null==a.documentMode||5==a.documentMode||8==a.documentMode||7==a.documentMode){t.style.position="absolute";var e=function(){t.style.top=(a.body.scrollTop||a.documentElement.scrollTop)+10+"px"};mxEvent.addListener(this.wnd,"scroll",function(t){e()}),mxEvent.addListener(this.wnd,"resize",function(t){e()})}}}),A=mxUtils.bind(this,function(t,e){if(null!=this.borderColor&&(t.style.borderColor=this.borderColor,t.style.borderStyle="solid",t.style.borderWidth="1px"),t.style.background=this.backgroundColor,(i||e)&&(t.style.pageBreakAfter="always"),s&&(mxClient.IS_IE||document.documentMode>=11||mxClient.IS_EDGE))a.writeln(t.outerHTML),t.parentNode.removeChild(t);else if(mxClient.IS_IE||document.documentMode>=11||mxClient.IS_EDGE){var n=a.createElement("div");n.innerHTML=t.outerHTML,n=n.getElementsByTagName("div")[0],a.body.appendChild(n),t.parentNode.removeChild(t)}else t.parentNode.removeChild(t),a.body.appendChild(t);(i||e)&&this.addPageBreak(a)}),y=this.getCoverPages(this.pageFormat.width,this.pageFormat.height);if(null!=y)for(var x=0;x<y.length;x++)A(y[x],!0);var b=this.getAppendices(this.pageFormat.width,this.pageFormat.height);for(x=0;x<g;x++)for(var C=x*f/this.scale-this.y0/this.scale+(h.y-d.y*u)/u,w=0;w<m;w++){if(null==this.wnd)return null;var E=w*p/this.scale-this.x0/this.scale+(h.x-d.x*u)/u,S=x*m+w+1,T=new mxRectangle(E,C,p,f);(o=this.renderPage(this.pageFormat.width,this.pageFormat.height,0,0,mxUtils.bind(this,function(t){this.addGraphFragment(-E,-C,this.scale,S,t,T),this.printBackgroundImage&&this.insertBackgroundImage(t,-E,-C)}),S)).setAttribute("id","mxPage-"+S),A(o,null!=b||x<g-1||w<m-1)}if(null!=b)for(x=0;x<b.length;x++)A(b[x],x<b.length-1);s&&!n&&(this.closeDocument(),v()),this.wnd.focus()}catch(t){null!=o&&null!=o.parentNode&&o.parentNode.removeChild(o)}finally{this.graph.cellRenderer.initializeOverlay=r}return this.wnd},mxPrintPreview.prototype.addPageBreak=function(t){var e=t.createElement("hr");e.className="mxPageBreak",t.body.appendChild(e)},mxPrintPreview.prototype.closeDocument=function(){try{if(null!=this.wnd&&null!=this.wnd.document){var t=this.wnd.document;this.writePostfix(t),t.writeln("</body>"),t.writeln("</html>"),t.close(),mxEvent.release(t.body)}}catch(t){}},mxPrintPreview.prototype.writeHead=function(t,e){null!=this.title&&t.writeln("<title>"+this.title+"</title>"),mxClient.IS_VML&&t.writeln('<style type="text/css">v\\:*{behavior:url(#default#VML)}o\\:*{behavior:url(#default#VML)}</style>'),mxClient.link("stylesheet",mxClient.basePath+"/css/common.css",t),t.writeln('<style type="text/css">'),t.writeln("@media print {"),t.writeln("  * { -webkit-print-color-adjust: exact; }"),t.writeln("  table.mxPageSelector { display: none; }"),t.writeln("  hr.mxPageBreak { display: none; }"),t.writeln("}"),t.writeln("@media screen {"),t.writeln("  table.mxPageSelector { position: fixed; right: 10px; top: 10px;font-family: Arial; font-size:10pt; border: solid 1px darkgray;background: white; border-collapse:collapse; }"),t.writeln("  table.mxPageSelector td { border: solid 1px gray; padding:4px; }"),t.writeln("  body.mxPage { background: gray; }"),t.writeln("}"),null!=e&&t.writeln(e),t.writeln("</style>")},mxPrintPreview.prototype.writePostfix=function(t){},mxPrintPreview.prototype.createPageSelector=function(t,e){var i=this.wnd.document,n=i.createElement("table");n.className="mxPageSelector",n.setAttribute("border","0");for(var r=i.createElement("tbody"),o=0;o<t;o++){for(var s=i.createElement("tr"),a=0;a<e;a++){var l=o*e+a+1,h=i.createElement("td"),u=i.createElement("a");if(u.setAttribute("href","#mxPage-"+l),mxClient.IS_NS&&!mxClient.IS_SF&&!mxClient.IS_GC){var c="var page = document.getElementById('mxPage-"+l+"');page.scrollIntoView(true);event.preventDefault();";u.setAttribute("onclick",c)}mxUtils.write(u,l,i),h.appendChild(u),s.appendChild(h)}r.appendChild(s)}return n.appendChild(r),n},mxPrintPreview.prototype.renderPage=function(t,e,i,n,r,o){var s=this.wnd.document,a=document.createElement("div"),l=null;try{if(0!=i||0!=n){a.style.position="relative",a.style.width=t+"px",a.style.height=e+"px",a.style.pageBreakInside="avoid",(u=document.createElement("div")).style.position="relative",u.style.top=this.border+"px",u.style.left=this.border+"px",u.style.width=t-2*this.border+"px",u.style.height=e-2*this.border+"px",u.style.overflow="hidden";var h=document.createElement("div");h.style.position="relative",h.style.marginLeft=i+"px",h.style.marginTop=n+"px",8==s.documentMode&&(u.style.position="absolute",h.style.position="absolute"),10==s.documentMode&&(h.style.width="100%",h.style.height="100%"),u.appendChild(h),a.appendChild(u),document.body.appendChild(a),l=h}else{var u;a.style.width=t+"px",a.style.height=e+"px",a.style.overflow="hidden",a.style.pageBreakInside="avoid",8==s.documentMode&&(a.style.position="relative"),(u=document.createElement("div")).style.width=t-2*this.border+"px",u.style.height=e-2*this.border+"px",u.style.overflow="hidden",!mxClient.IS_IE||null!=s.documentMode&&5!=s.documentMode&&8!=s.documentMode&&7!=s.documentMode?(u.style.top=this.border+"px",u.style.left=this.border+"px"):(u.style.marginTop=this.border+"px",u.style.marginLeft=this.border+"px"),this.graph.dialect==mxConstants.DIALECT_VML&&(u.style.position="absolute"),a.appendChild(u),document.body.appendChild(a),l=u}}catch(t){throw a.parentNode.removeChild(a),a=null,t}return r(l),a},mxPrintPreview.prototype.getRoot=function(){var t=this.graph.view.currentRoot;return null==t&&(t=this.graph.getModel().getRoot()),t},mxPrintPreview.prototype.addGraphFragment=function(t,e,i,n,r,o){var s=this.graph.getView(),a=this.graph.container;this.graph.container=r;var l=s.getCanvas(),h=s.getBackgroundPane(),u=s.getDrawPane(),c=s.getOverlayPane(),d=i;if(this.graph.dialect==mxConstants.DIALECT_SVG){if(s.createSvg(),!mxClient.NO_FO){var p=s.getDrawPane().parentNode;p.getAttribute("transform");p.setAttribute("transformOrigin","0 0"),p.setAttribute("transform","scale("+i+","+i+")translate("+t+","+e+")"),i=1,t=0,e=0}}else this.graph.dialect==mxConstants.DIALECT_VML?s.createVml():s.createHtml();var f=s.isEventsEnabled();s.setEventsEnabled(!1);var m=this.graph.isEnabled();this.graph.setEnabled(!1);var g=s.getTranslate();s.translate=new mxPoint(t,e);var v=this.graph.cellRenderer.redraw,A=s.states,y=s.scale;if(this.clipping){var x=new mxRectangle((o.x+g.x)*y,(o.y+g.y)*y,o.width*y/d,o.height*y/d);this.graph.cellRenderer.redraw=function(t,e,i){if(null!=t){var n=A.get(t.cell);if(null!=n){var r=s.getBoundingBox(n,!1);if(null!=r&&!mxUtils.intersects(x,r))return}}v.apply(this,arguments)}}var b=null;try{var C=[this.getRoot()];b=new mxTemporaryCellStates(s,i,C,null,mxUtils.bind(this,function(t){return this.getLinkForCellState(t)}))}finally{if(mxClient.IS_IE)s.overlayPane.innerHTML="",s.canvas.style.overflow="hidden",s.canvas.style.position="relative",s.canvas.style.top=this.marginTop+"px",s.canvas.style.width=o.width+"px",s.canvas.style.height=o.height+"px";else for(var w=r.firstChild;null!=w;){var E=w.nextSibling,S=w.nodeName.toLowerCase();"svg"==S?(w.style.overflow="hidden",w.style.position="relative",w.style.top=this.marginTop+"px",w.setAttribute("width",o.width),w.setAttribute("height",o.height),w.style.width="",w.style.height=""):"default"!=w.style.cursor&&"div"!=S&&w.parentNode.removeChild(w),w=E}if(this.printBackgroundImage){var T=r.getElementsByTagName("svg");T.length>0&&(T[0].style.position="absolute")}s.overlayPane.parentNode.removeChild(s.overlayPane),this.graph.setEnabled(m),this.graph.container=a,this.graph.cellRenderer.redraw=v,s.canvas=l,s.backgroundPane=h,s.drawPane=u,s.overlayPane=c,s.translate=g,b.destroy(),s.setEventsEnabled(f)}},mxPrintPreview.prototype.getLinkForCellState=function(t){return this.graph.getLinkForCell(t.cell)},mxPrintPreview.prototype.insertBackgroundImage=function(t,e,i){var n=this.graph.backgroundImage;if(null!=n){var r=document.createElement("img");r.style.position="absolute",r.style.marginLeft=Math.round(e*this.scale)+"px",r.style.marginTop=Math.round(i*this.scale)+"px",r.setAttribute("width",Math.round(this.scale*n.width)),r.setAttribute("height",Math.round(this.scale*n.height)),r.src=n.src,t.insertBefore(r,t.firstChild)}},mxPrintPreview.prototype.getCoverPages=function(){return null},mxPrintPreview.prototype.getAppendices=function(){return null},mxPrintPreview.prototype.print=function(t){var e=this.open(t);null!=e&&e.print()},mxPrintPreview.prototype.close=function(){null!=this.wnd&&(this.wnd.close(),this.wnd=null)},__mxOutput.mxPrintPreview=void 0!==mxPrintPreview?mxPrintPreview:void 0,mxStylesheet.prototype.styles,mxStylesheet.prototype.createDefaultVertexStyle=function(){var t=new Object;return t[mxConstants.STYLE_SHAPE]=mxConstants.SHAPE_RECTANGLE,t[mxConstants.STYLE_PERIMETER]=mxPerimeter.RectanglePerimeter,t[mxConstants.STYLE_VERTICAL_ALIGN]=mxConstants.ALIGN_MIDDLE,t[mxConstants.STYLE_ALIGN]=mxConstants.ALIGN_CENTER,t[mxConstants.STYLE_FILLCOLOR]="#C3D9FF",t[mxConstants.STYLE_STROKECOLOR]="#6482B9",t[mxConstants.STYLE_FONTCOLOR]="#774400",t},mxStylesheet.prototype.createDefaultEdgeStyle=function(){var t=new Object;return t[mxConstants.STYLE_SHAPE]=mxConstants.SHAPE_CONNECTOR,t[mxConstants.STYLE_ENDARROW]=mxConstants.ARROW_CLASSIC,t[mxConstants.STYLE_VERTICAL_ALIGN]=mxConstants.ALIGN_MIDDLE,t[mxConstants.STYLE_ALIGN]=mxConstants.ALIGN_CENTER,t[mxConstants.STYLE_STROKECOLOR]="#6482B9",t[mxConstants.STYLE_FONTCOLOR]="#446299",t},mxStylesheet.prototype.putDefaultVertexStyle=function(t){this.putCellStyle("defaultVertex",t)},mxStylesheet.prototype.putDefaultEdgeStyle=function(t){this.putCellStyle("defaultEdge",t)},mxStylesheet.prototype.getDefaultVertexStyle=function(){return this.styles.defaultVertex},mxStylesheet.prototype.getDefaultEdgeStyle=function(){return this.styles.defaultEdge},mxStylesheet.prototype.putCellStyle=function(t,e){this.styles[t]=e},mxStylesheet.prototype.getCellStyle=function(t,e){var i=e;if(null!=t&&t.length>0){var n=t.split(";");i=null!=i&&";"!=t.charAt(0)?mxUtils.clone(i):new Object;for(var r=0;r<n.length;r++){var o=n[r],s=o.indexOf("=");if(s>=0){var a=o.substring(0,s),l=o.substring(s+1);l==mxConstants.NONE?delete i[a]:mxUtils.isNumeric(l)?i[a]=parseFloat(l):i[a]=l}else{var h=this.styles[o];if(null!=h)for(var a in h)i[a]=h[a]}}}return i},__mxOutput.mxStylesheet=void 0!==mxStylesheet?mxStylesheet:void 0,mxCellState.prototype=new mxRectangle,mxCellState.prototype.constructor=mxCellState,mxCellState.prototype.view=null,mxCellState.prototype.cell=null,mxCellState.prototype.style=null,mxCellState.prototype.invalidStyle=!1,mxCellState.prototype.invalid=!0,mxCellState.prototype.origin=null,mxCellState.prototype.absolutePoints=null,mxCellState.prototype.absoluteOffset=null,mxCellState.prototype.visibleSourceState=null,mxCellState.prototype.visibleTargetState=null,mxCellState.prototype.terminalDistance=0,mxCellState.prototype.length=0,mxCellState.prototype.segments=null,mxCellState.prototype.shape=null,mxCellState.prototype.text=null,mxCellState.prototype.unscaledWidth=null,mxCellState.prototype.getPerimeterBounds=function(t,e){if(t=t||0,e=null!=e?e:new mxRectangle(this.x,this.y,this.width,this.height),null!=this.shape&&null!=this.shape.stencil&&"fixed"==this.shape.stencil.aspect){var i=this.shape.stencil.computeAspect(this.style,e.x,e.y,e.width,e.height);e.x=i.x,e.y=i.y,e.width=this.shape.stencil.w0*i.width,e.height=this.shape.stencil.h0*i.height}return 0!=t&&e.grow(t),e},mxCellState.prototype.setAbsoluteTerminalPoint=function(t,e){e?(null==this.absolutePoints&&(this.absolutePoints=[]),0==this.absolutePoints.length?this.absolutePoints.push(t):this.absolutePoints[0]=t):null==this.absolutePoints?(this.absolutePoints=[],this.absolutePoints.push(null),this.absolutePoints.push(t)):1==this.absolutePoints.length?this.absolutePoints.push(t):this.absolutePoints[this.absolutePoints.length-1]=t},mxCellState.prototype.setCursor=function(t){null!=this.shape&&this.shape.setCursor(t),null!=this.text&&this.text.setCursor(t)},mxCellState.prototype.getVisibleTerminal=function(t){var e=this.getVisibleTerminalState(t);return null!=e?e.cell:null},mxCellState.prototype.getVisibleTerminalState=function(t){return t?this.visibleSourceState:this.visibleTargetState},mxCellState.prototype.setVisibleTerminalState=function(t,e){e?this.visibleSourceState=t:this.visibleTargetState=t},mxCellState.prototype.getCellBounds=function(){return this.cellBounds},mxCellState.prototype.getPaintBounds=function(){return this.paintBounds},mxCellState.prototype.updateCachedBounds=function(){var t=this.view.translate,e=this.view.scale;this.cellBounds=new mxRectangle(this.x/e-t.x,this.y/e-t.y,this.width/e,this.height/e),this.paintBounds=mxRectangle.fromRectangle(this.cellBounds),null!=this.shape&&this.shape.isPaintBoundsInverted()&&this.paintBounds.rotate90()},mxCellState.prototype.setState=function(t){this.view=t.view,this.cell=t.cell,this.style=t.style,this.absolutePoints=t.absolutePoints,this.origin=t.origin,this.absoluteOffset=t.absoluteOffset,this.boundingBox=t.boundingBox,this.terminalDistance=t.terminalDistance,this.segments=t.segments,this.length=t.length,this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.unscaledWidth=t.unscaledWidth},mxCellState.prototype.clone=function(){var t=new mxCellState(this.view,this.cell,this.style);if(null!=this.absolutePoints){t.absolutePoints=[];for(var e=0;e<this.absolutePoints.length;e++)t.absolutePoints[e]=this.absolutePoints[e].clone()}return null!=this.origin&&(t.origin=this.origin.clone()),null!=this.absoluteOffset&&(t.absoluteOffset=this.absoluteOffset.clone()),null!=this.boundingBox&&(t.boundingBox=this.boundingBox.clone()),t.terminalDistance=this.terminalDistance,t.segments=this.segments,t.length=this.length,t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t.unscaledWidth=this.unscaledWidth,t},mxCellState.prototype.destroy=function(){this.view.graph.cellRenderer.destroy(this)},__mxOutput.mxCellState=void 0!==mxCellState?mxCellState:void 0,mxGraphSelectionModel.prototype=new mxEventSource,mxGraphSelectionModel.prototype.constructor=mxGraphSelectionModel,mxGraphSelectionModel.prototype.doneResource="none"!=mxClient.language?"done":"",mxGraphSelectionModel.prototype.updatingSelectionResource="none"!=mxClient.language?"updatingSelection":"",mxGraphSelectionModel.prototype.graph=null,mxGraphSelectionModel.prototype.singleSelection=!1,mxGraphSelectionModel.prototype.isSingleSelection=function(){return this.singleSelection},mxGraphSelectionModel.prototype.setSingleSelection=function(t){this.singleSelection=t},mxGraphSelectionModel.prototype.isSelected=function(t){return null!=t&&mxUtils.indexOf(this.cells,t)>=0},mxGraphSelectionModel.prototype.isEmpty=function(){return 0==this.cells.length},mxGraphSelectionModel.prototype.clear=function(){this.changeSelection(null,this.cells)},mxGraphSelectionModel.prototype.setCell=function(t){null!=t&&this.setCells([t])},mxGraphSelectionModel.prototype.setCells=function(t){if(null!=t){this.singleSelection&&(t=[this.getFirstSelectableCell(t)]);for(var e=[],i=0;i<t.length;i++)this.graph.isCellSelectable(t[i])&&e.push(t[i]);this.changeSelection(e,this.cells)}},mxGraphSelectionModel.prototype.getFirstSelectableCell=function(t){if(null!=t)for(var e=0;e<t.length;e++)if(this.graph.isCellSelectable(t[e]))return t[e];return null},mxGraphSelectionModel.prototype.addCell=function(t){null!=t&&this.addCells([t])},mxGraphSelectionModel.prototype.addCells=function(t){if(null!=t){var e=null;this.singleSelection&&(e=this.cells,t=[this.getFirstSelectableCell(t)]);for(var i=[],n=0;n<t.length;n++)!this.isSelected(t[n])&&this.graph.isCellSelectable(t[n])&&i.push(t[n]);this.changeSelection(i,e)}},mxGraphSelectionModel.prototype.removeCell=function(t){null!=t&&this.removeCells([t])},mxGraphSelectionModel.prototype.removeCells=function(t){if(null!=t){for(var e=[],i=0;i<t.length;i++)this.isSelected(t[i])&&e.push(t[i]);this.changeSelection(null,e)}},mxGraphSelectionModel.prototype.changeSelection=function(t,e){if(null!=t&&t.length>0&&null!=t[0]||null!=e&&e.length>0&&null!=e[0]){var i=new mxSelectionChange(this,t,e);i.execute();var n=new mxUndoableEdit(this,!1);n.add(i),this.fireEvent(new mxEventObject(mxEvent.UNDO,"edit",n))}},mxGraphSelectionModel.prototype.cellAdded=function(t){null==t||this.isSelected(t)||this.cells.push(t)},mxGraphSelectionModel.prototype.cellRemoved=function(t){if(null!=t){var e=mxUtils.indexOf(this.cells,t);e>=0&&this.cells.splice(e,1)}},mxSelectionChange.prototype.execute=function(){var t=mxLog.enter("mxSelectionChange.execute");if(window.status=mxResources.get(this.selectionModel.updatingSelectionResource)||this.selectionModel.updatingSelectionResource,null!=this.removed)for(var e=0;e<this.removed.length;e++)this.selectionModel.cellRemoved(this.removed[e]);if(null!=this.added)for(e=0;e<this.added.length;e++)this.selectionModel.cellAdded(this.added[e]);var i=this.added;this.added=this.removed,this.removed=i,window.status=mxResources.get(this.selectionModel.doneResource)||this.selectionModel.doneResource,mxLog.leave("mxSelectionChange.execute",t),this.selectionModel.fireEvent(new mxEventObject(mxEvent.CHANGE,"added",this.added,"removed",this.removed))},__mxOutput.mxGraphSelectionModel=void 0!==mxGraphSelectionModel?mxGraphSelectionModel:void 0,mxCellEditor.prototype.graph=null,mxCellEditor.prototype.textarea=null,mxCellEditor.prototype.editingCell=null,mxCellEditor.prototype.trigger=null,mxCellEditor.prototype.modified=!1,mxCellEditor.prototype.autoSize=!0,mxCellEditor.prototype.selectText=!0,mxCellEditor.prototype.emptyLabelText=mxClient.IS_FF?"<br>":"",mxCellEditor.prototype.escapeCancelsEditing=!0,mxCellEditor.prototype.textNode="",mxCellEditor.prototype.zIndex=5,mxCellEditor.prototype.minResize=new mxRectangle(0,20),mxCellEditor.prototype.wordWrapPadding=mxClient.IS_QUIRKS?2:mxClient.IS_IE11?0:1,mxCellEditor.prototype.blurEnabled=!1,mxCellEditor.prototype.initialValue=null,mxCellEditor.prototype.align=null,mxCellEditor.prototype.init=function(){this.textarea=document.createElement("div"),this.textarea.className="mxCellEditor mxPlainTextEditor",this.textarea.contentEditable=!0,mxClient.IS_GC&&(this.textarea.style.minHeight="1em"),this.textarea.style.position=this.isLegacyEditor()?"absolute":"relative",this.installListeners(this.textarea)},mxCellEditor.prototype.applyValue=function(t,e){this.graph.labelChanged(t.cell,e,this.trigger)},mxCellEditor.prototype.setAlign=function(t){null!=this.textarea&&(this.textarea.style.textAlign=t),this.align=t,this.resize()},mxCellEditor.prototype.getInitialValue=function(t,e){var i=mxUtils.htmlEntities(this.graph.getEditingValue(t.cell,e),!1);return mxClient.IS_QUIRKS||8==document.documentMode||9==document.documentMode||10==document.documentMode||(i=mxUtils.replaceTrailingNewlines(i,"<div><br></div>")),i.replace(/\n/g,"<br>")},mxCellEditor.prototype.getCurrentValue=function(t){return mxUtils.extractTextWithWhitespace(this.textarea.childNodes)},mxCellEditor.prototype.isCancelEditingKeyEvent=function(t){return this.escapeCancelsEditing||mxEvent.isShiftDown(t)||mxEvent.isControlDown(t)||mxEvent.isMetaDown(t)},mxCellEditor.prototype.installListeners=function(t){mxEvent.addListener(t,"dragstart",mxUtils.bind(this,function(t){this.graph.stopEditing(!1),mxEvent.consume(t)})),mxEvent.addListener(t,"blur",mxUtils.bind(this,function(t){this.blurEnabled&&this.focusLost(t)})),mxEvent.addListener(t,"keydown",mxUtils.bind(this,function(t){mxEvent.isConsumed(t)||(this.isStopEditingEvent(t)?(this.graph.stopEditing(!1),mxEvent.consume(t)):27==t.keyCode&&(this.graph.stopEditing(this.isCancelEditingKeyEvent(t)),mxEvent.consume(t)))}));var e=mxUtils.bind(this,function(e){null!=this.editingCell&&this.clearOnChange&&t.innerHTML==this.getEmptyLabelText()&&(!mxClient.IS_FF||8!=e.keyCode&&46!=e.keyCode)&&(this.clearOnChange=!1,t.innerHTML="")});mxEvent.addListener(t,"keypress",e),mxEvent.addListener(t,"paste",e);var i=mxUtils.bind(this,function(t){null!=this.editingCell&&(0==this.textarea.innerHTML.length||"<br>"==this.textarea.innerHTML?(this.textarea.innerHTML=this.getEmptyLabelText(),this.clearOnChange=this.textarea.innerHTML.length>0):this.clearOnChange=!1)});mxEvent.addListener(t,mxClient.IS_IE11||mxClient.IS_IE?"keyup":"input",i),mxEvent.addListener(t,"cut",i),mxEvent.addListener(t,"paste",i);var n=mxClient.IS_IE11||mxClient.IS_IE?"keydown":"input",r=mxUtils.bind(this,function(t){null!=this.editingCell&&this.autoSize&&!mxEvent.isConsumed(t)&&(null!=this.resizeThread&&window.clearTimeout(this.resizeThread),this.resizeThread=window.setTimeout(mxUtils.bind(this,function(){this.resizeThread=null,this.resize()}),0))});mxEvent.addListener(t,n,r),mxEvent.addListener(window,"resize",r),document.documentMode>=9?(mxEvent.addListener(t,"DOMNodeRemoved",r),mxEvent.addListener(t,"DOMNodeInserted",r)):(mxEvent.addListener(t,"cut",r),mxEvent.addListener(t,"paste",r))},mxCellEditor.prototype.isStopEditingEvent=function(t){return 113==t.keyCode||this.graph.isEnterStopsCellEditing()&&13==t.keyCode&&!mxEvent.isControlDown(t)&&!mxEvent.isShiftDown(t)},mxCellEditor.prototype.isEventSource=function(t){return mxEvent.getSource(t)==this.textarea},mxCellEditor.prototype.resize=function(){var t=this.graph.getView().getState(this.editingCell);if(null==t)this.stopEditing(!0);else if(null!=this.textarea){var e=this.graph.getModel().isEdge(t.cell),i=this.graph.getView().scale,n=null;if(this.autoSize&&"fill"!=t.style[mxConstants.STYLE_OVERFLOW]){var r=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_WIDTH,null);if(null==(n=null!=t.text&&null==this.align?t.text.margin:null)&&(n=mxUtils.getAlignmentAsPoint(this.align||mxUtils.getValue(t.style,mxConstants.STYLE_ALIGN,mxConstants.ALIGN_CENTER),mxUtils.getValue(t.style,mxConstants.STYLE_VERTICAL_ALIGN,mxConstants.ALIGN_MIDDLE))),e){if(this.bounds=new mxRectangle(t.absoluteOffset.x,t.absoluteOffset.y,0,0),null!=r){var o=(parseFloat(r)+2)*i;this.bounds.width=o,this.bounds.x+=n.x*o}}else{var s=mxRectangle.fromRectangle(t),a=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER),l=mxUtils.getValue(t.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE);if(s=null!=t.shape&&a==mxConstants.ALIGN_CENTER&&l==mxConstants.ALIGN_MIDDLE?t.shape.getLabelBounds(s):s,null!=r&&(s.width=parseFloat(r)*i),!t.view.graph.cellRenderer.legacySpacing||"width"!=t.style[mxConstants.STYLE_OVERFLOW]){var h=parseInt(t.style[mxConstants.STYLE_SPACING]||2)*i,u=(parseInt(t.style[mxConstants.STYLE_SPACING_TOP]||0)+mxText.prototype.baseSpacingTop)*i+h,c=(parseInt(t.style[mxConstants.STYLE_SPACING_RIGHT]||0)+mxText.prototype.baseSpacingRight)*i+h,d=(parseInt(t.style[mxConstants.STYLE_SPACING_BOTTOM]||0)+mxText.prototype.baseSpacingBottom)*i+h,p=(parseInt(t.style[mxConstants.STYLE_SPACING_LEFT]||0)+mxText.prototype.baseSpacingLeft)*i+h;a=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER),l=mxUtils.getValue(t.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE);s=new mxRectangle(s.x+p,s.y+u,s.width-(a==mxConstants.ALIGN_CENTER&&null==r?p+c:0),s.height-(l==mxConstants.ALIGN_MIDDLE?u+d:0))}this.bounds=new mxRectangle(s.x+t.absoluteOffset.x,s.y+t.absoluteOffset.y,s.width,s.height)}if(this.graph.isWrapping(t.cell)&&(this.bounds.width>=2||this.bounds.height>=2)&&this.textarea.innerHTML!=this.getEmptyLabelText()){this.textarea.style.wordWrap=mxConstants.WORD_WRAP,this.textarea.style.whiteSpace="normal";o=Math.round(this.bounds.width/(document.documentMode,i))+this.wordWrapPadding;"relative"!=this.textarea.style.position?(this.textarea.style.width=o+"px",this.textarea.scrollWidth>o&&(this.textarea.style.width=this.textarea.scrollWidth+"px")):this.textarea.style.maxWidth=o+"px"}else this.textarea.style.whiteSpace="nowrap",this.textarea.style.width="";8==document.documentMode&&(this.textarea.style.zoom="1",this.textarea.style.height="auto");var f=this.textarea.scrollWidth,m=this.textarea.scrollHeight;8==document.documentMode?(this.textarea.style.left=Math.max(0,Math.ceil((this.bounds.x-n.x*(this.bounds.width-(f+1)*i)+f*(i-1)*0+2*(n.x+.5))/i))+"px",this.textarea.style.top=Math.max(0,Math.ceil((this.bounds.y-n.y*(this.bounds.height-(m+.5)*i)+m*(i-1)*0+1*Math.abs(n.y+.5))/i))+"px",this.textarea.style.width=Math.round(f*i)+"px",this.textarea.style.height=Math.round(m*i)+"px"):mxClient.IS_QUIRKS?(this.textarea.style.left=Math.max(0,Math.ceil(this.bounds.x-n.x*(this.bounds.width-(f+1)*i)+f*(i-1)*0+2*(n.x+.5)))+"px",this.textarea.style.top=Math.max(0,Math.ceil(this.bounds.y-n.y*(this.bounds.height-(m+.5)*i)+m*(i-1)*0+1*Math.abs(n.y+.5)))+"px"):(this.textarea.style.left=Math.max(0,Math.round(this.bounds.x-n.x*(this.bounds.width-2))+1)+"px",this.textarea.style.top=Math.max(0,Math.round(this.bounds.y-n.y*(this.bounds.height-4)+(-1==n.y?3:0))+1)+"px")}else this.bounds=this.getEditorBounds(t),this.textarea.style.width=Math.round(this.bounds.width/i)+"px",this.textarea.style.height=Math.round(this.bounds.height/i)+"px",8==document.documentMode||mxClient.IS_QUIRKS?(this.textarea.style.left=Math.round(this.bounds.x)+"px",this.textarea.style.top=Math.round(this.bounds.y)+"px"):(this.textarea.style.left=Math.max(0,Math.round(this.bounds.x+1))+"px",this.textarea.style.top=Math.max(0,Math.round(this.bounds.y+1))+"px"),this.graph.isWrapping(t.cell)&&(this.bounds.width>=2||this.bounds.height>=2)&&this.textarea.innerHTML!=this.getEmptyLabelText()?(this.textarea.style.wordWrap=mxConstants.WORD_WRAP,this.textarea.style.whiteSpace="normal","fill"!=t.style[mxConstants.STYLE_OVERFLOW]&&(this.textarea.style.width=Math.round(this.bounds.width/i)+this.wordWrapPadding+"px")):(this.textarea.style.whiteSpace="nowrap","fill"!=t.style[mxConstants.STYLE_OVERFLOW]&&(this.textarea.style.width=""));mxClient.IS_VML?this.textarea.style.zoom=i:(mxUtils.setPrefixedStyle(this.textarea.style,"transformOrigin","0px 0px"),mxUtils.setPrefixedStyle(this.textarea.style,"transform","scale("+i+","+i+")"+(null==n?"":" translate("+100*n.x+"%,"+100*n.y+"%)")))}},mxCellEditor.prototype.focusLost=function(){this.stopEditing(!this.graph.isInvokesStopCellEditing())},mxCellEditor.prototype.getBackgroundColor=function(t){return null},mxCellEditor.prototype.isLegacyEditor=function(){if(mxClient.IS_VML)return!0;var t=!1;if(mxClient.IS_SVG){var e=this.graph.view.getDrawPane().ownerSVGElement;null!=e&&(t="absolute"==mxUtils.getCurrentStyle(e).position)}return!t},mxCellEditor.prototype.startEditing=function(t,e){this.stopEditing(!0),this.align=null,null==this.textarea&&this.init(),null!=this.graph.tooltipHandler&&this.graph.tooltipHandler.hideTooltip();var i=this.graph.getView().getState(t);if(null!=i){this.graph.getView().scale;var n=mxUtils.getValue(i.style,mxConstants.STYLE_FONTSIZE,mxConstants.DEFAULT_FONTSIZE),r=mxUtils.getValue(i.style,mxConstants.STYLE_FONTFAMILY,mxConstants.DEFAULT_FONTFAMILY),o=mxUtils.getValue(i.style,mxConstants.STYLE_FONTCOLOR,"black"),s=mxUtils.getValue(i.style,mxConstants.STYLE_ALIGN,mxConstants.ALIGN_LEFT),a=(mxUtils.getValue(i.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD,l=(mxUtils.getValue(i.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC,h=(mxUtils.getValue(i.style,mxConstants.STYLE_FONTSTYLE,0)&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE;this.textarea.style.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?Math.round(n*mxConstants.LINE_HEIGHT)+"px":mxConstants.LINE_HEIGHT,this.textarea.style.backgroundColor=this.getBackgroundColor(i),this.textarea.style.textDecoration=h?"underline":"",this.textarea.style.fontWeight=a?"bold":"normal",this.textarea.style.fontStyle=l?"italic":"",this.textarea.style.fontSize=Math.round(n)+"px",this.textarea.style.zIndex=this.zIndex,this.textarea.style.fontFamily=r,this.textarea.style.textAlign=s,this.textarea.style.outline="none",this.textarea.style.color=o;var u=this.textDirection=mxUtils.getValue(i.style,mxConstants.STYLE_TEXT_DIRECTION,mxConstants.DEFAULT_TEXT_DIRECTION);u==mxConstants.TEXT_DIRECTION_AUTO&&(null==i||null==i.text||i.text.dialect==mxConstants.DIALECT_STRICTHTML||mxUtils.isNode(i.text.value)||(u=i.text.getAutoDirection())),u==mxConstants.TEXT_DIRECTION_LTR||u==mxConstants.TEXT_DIRECTION_RTL?this.textarea.setAttribute("dir",u):this.textarea.removeAttribute("dir"),this.textarea.innerHTML=this.getInitialValue(i,e)||"",this.initialValue=this.textarea.innerHTML,0==this.textarea.innerHTML.length||"<br>"==this.textarea.innerHTML?(this.textarea.innerHTML=this.getEmptyLabelText(),this.clearOnChange=!0):this.clearOnChange=this.textarea.innerHTML==this.getEmptyLabelText(),this.graph.container.appendChild(this.textarea),this.editingCell=t,this.trigger=e,this.textNode=null,null!=i.text&&this.isHideLabel(i)&&(this.textNode=i.text.node,this.textNode.style.visibility="hidden"),this.autoSize&&(this.graph.model.isEdge(i.cell)||"fill"!=i.style[mxConstants.STYLE_OVERFLOW])&&window.setTimeout(mxUtils.bind(this,function(){this.resize()}),0),this.resize();try{this.textarea.focus(),this.isSelectText()&&this.textarea.innerHTML.length>0&&(this.textarea.innerHTML!=this.getEmptyLabelText()||!this.clearOnChange)&&document.execCommand("selectAll",!1,null)}catch(t){}}},mxCellEditor.prototype.isSelectText=function(){return this.selectText},mxCellEditor.prototype.clearSelection=function(){var t=null;window.getSelection?t=window.getSelection():document.selection&&(t=document.selection),null!=t&&(t.empty?t.empty():t.removeAllRanges&&t.removeAllRanges())},mxCellEditor.prototype.stopEditing=function(t){if(t=t||!1,null!=this.editingCell){null!=this.textNode&&(this.textNode.style.visibility="visible",this.textNode=null);var e=t?null:this.graph.view.getState(this.editingCell),i=this.initialValue;if(this.initialValue=null,this.editingCell=null,this.trigger=null,this.bounds=null,this.textarea.blur(),this.clearSelection(),null!=this.textarea.parentNode&&this.textarea.parentNode.removeChild(this.textarea),this.clearOnChange&&this.textarea.innerHTML==this.getEmptyLabelText()&&(this.textarea.innerHTML="",this.clearOnChange=!1),null!=e&&(this.textarea.innerHTML!=i||null!=this.align)){this.prepareTextarea();var n=this.getCurrentValue(e);this.graph.getModel().beginUpdate();try{null!=n&&this.applyValue(e,n),null!=this.align&&this.graph.setCellStyles(mxConstants.STYLE_ALIGN,this.align,[e.cell])}finally{this.graph.getModel().endUpdate()}}mxEvent.release(this.textarea),this.textarea=null,this.align=null}},mxCellEditor.prototype.prepareTextarea=function(){null!=this.textarea.lastChild&&"BR"==this.textarea.lastChild.nodeName&&this.textarea.removeChild(this.textarea.lastChild)},mxCellEditor.prototype.isHideLabel=function(t){return!0},mxCellEditor.prototype.getMinimumSize=function(t){var e=this.graph.getView().scale;return new mxRectangle(0,0,null==t.text?30:t.text.size*e+20,"left"==this.textarea.style.textAlign?120:40)},mxCellEditor.prototype.getEditorBounds=function(t){var e=this.graph.getModel().isEdge(t.cell),i=this.graph.getView().scale,n=this.getMinimumSize(t),r=n.width,o=n.height,s=null;if(!e&&t.view.graph.cellRenderer.legacySpacing&&"fill"==t.style[mxConstants.STYLE_OVERFLOW])s=t.shape.getLabelBounds(mxRectangle.fromRectangle(t));else{var a=parseInt(t.style[mxConstants.STYLE_SPACING]||0)*i,l=(parseInt(t.style[mxConstants.STYLE_SPACING_TOP]||0)+mxText.prototype.baseSpacingTop)*i+a,h=(parseInt(t.style[mxConstants.STYLE_SPACING_RIGHT]||0)+mxText.prototype.baseSpacingRight)*i+a,u=(parseInt(t.style[mxConstants.STYLE_SPACING_BOTTOM]||0)+mxText.prototype.baseSpacingBottom)*i+a,c=(parseInt(t.style[mxConstants.STYLE_SPACING_LEFT]||0)+mxText.prototype.baseSpacingLeft)*i+a;s=new mxRectangle(t.x,t.y,Math.max(r,t.width-c-h),Math.max(o,t.height-l-u));var d=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER),p=mxUtils.getValue(t.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE);if(s=null!=t.shape&&d==mxConstants.ALIGN_CENTER&&p==mxConstants.ALIGN_MIDDLE?t.shape.getLabelBounds(s):s,e?(s.x=t.absoluteOffset.x,s.y=t.absoluteOffset.y,null!=t.text&&null!=t.text.boundingBox&&(t.text.boundingBox.x>0&&(s.x=t.text.boundingBox.x),t.text.boundingBox.y>0&&(s.y=t.text.boundingBox.y))):null!=t.text&&null!=t.text.boundingBox&&(s.x=Math.min(s.x,t.text.boundingBox.x),s.y=Math.min(s.y,t.text.boundingBox.y)),s.x+=c,s.y+=l,null!=t.text&&null!=t.text.boundingBox&&(e?(s.width=Math.max(r,t.text.boundingBox.width),s.height=Math.max(o,t.text.boundingBox.height)):(s.width=Math.max(s.width,t.text.boundingBox.width),s.height=Math.max(s.height,t.text.boundingBox.height))),this.graph.getModel().isVertex(t.cell)){var f=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER);f==mxConstants.ALIGN_LEFT?s.x-=t.width:f==mxConstants.ALIGN_RIGHT&&(s.x+=t.width);var m=mxUtils.getValue(t.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE);m==mxConstants.ALIGN_TOP?s.y-=t.height:m==mxConstants.ALIGN_BOTTOM&&(s.y+=t.height)}}return new mxRectangle(Math.round(s.x),Math.round(s.y),Math.round(s.width),Math.round(s.height))},mxCellEditor.prototype.getEmptyLabelText=function(t){return this.emptyLabelText},mxCellEditor.prototype.getEditingCell=function(){return this.editingCell},mxCellEditor.prototype.destroy=function(){null!=this.textarea&&(mxEvent.release(this.textarea),null!=this.textarea.parentNode&&this.textarea.parentNode.removeChild(this.textarea),this.textarea=null),null!=this.changeHandler&&(this.graph.getModel().removeListener(this.changeHandler),this.changeHandler=null),this.zoomHandler&&(this.graph.view.removeListener(this.zoomHandler),this.zoomHandler=null)},__mxOutput.mxCellEditor=void 0!==mxCellEditor?mxCellEditor:void 0,mxCellRenderer.defaultShapes=new Object,mxCellRenderer.prototype.defaultEdgeShape=mxConnector,mxCellRenderer.prototype.defaultVertexShape=mxRectangleShape,mxCellRenderer.prototype.defaultTextShape=mxText,mxCellRenderer.prototype.legacyControlPosition=!0,mxCellRenderer.prototype.legacySpacing=!0,mxCellRenderer.prototype.antiAlias=!0,mxCellRenderer.prototype.minSvgStrokeWidth=1,mxCellRenderer.prototype.forceControlClickHandler=!1,mxCellRenderer.registerShape=function(t,e){mxCellRenderer.defaultShapes[t]=e},mxCellRenderer.registerShape(mxConstants.SHAPE_RECTANGLE,mxRectangleShape),mxCellRenderer.registerShape(mxConstants.SHAPE_ELLIPSE,mxEllipse),mxCellRenderer.registerShape(mxConstants.SHAPE_RHOMBUS,mxRhombus),mxCellRenderer.registerShape(mxConstants.SHAPE_CYLINDER,mxCylinder),mxCellRenderer.registerShape(mxConstants.SHAPE_CONNECTOR,mxConnector),mxCellRenderer.registerShape(mxConstants.SHAPE_ACTOR,mxActor),mxCellRenderer.registerShape(mxConstants.SHAPE_TRIANGLE,mxTriangle),mxCellRenderer.registerShape(mxConstants.SHAPE_HEXAGON,mxHexagon),mxCellRenderer.registerShape(mxConstants.SHAPE_CLOUD,mxCloud),mxCellRenderer.registerShape(mxConstants.SHAPE_LINE,mxLine),mxCellRenderer.registerShape(mxConstants.SHAPE_ARROW,mxArrow),mxCellRenderer.registerShape(mxConstants.SHAPE_ARROW_CONNECTOR,mxArrowConnector),mxCellRenderer.registerShape(mxConstants.SHAPE_DOUBLE_ELLIPSE,mxDoubleEllipse),mxCellRenderer.registerShape(mxConstants.SHAPE_SWIMLANE,mxSwimlane),mxCellRenderer.registerShape(mxConstants.SHAPE_IMAGE,mxImageShape),mxCellRenderer.registerShape(mxConstants.SHAPE_LABEL,mxLabel),mxCellRenderer.prototype.initializeShape=function(t){t.shape.dialect=t.view.graph.dialect,this.configureShape(t),t.shape.init(t.view.getDrawPane())},mxCellRenderer.prototype.createShape=function(t){var e=null;if(null!=t.style){var i=mxStencilRegistry.getStencil(t.style[mxConstants.STYLE_SHAPE]);if(null!=i)e=new mxShape(i);else e=new(this.getShapeConstructor(t))}return e},mxCellRenderer.prototype.createIndicatorShape=function(t){t.shape.indicatorShape=this.getShape(t.view.graph.getIndicatorShape(t))},mxCellRenderer.prototype.getShape=function(t){return null!=t?mxCellRenderer.defaultShapes[t]:null},mxCellRenderer.prototype.getShapeConstructor=function(t){var e=this.getShape(t.style[mxConstants.STYLE_SHAPE]);return null==e&&(e=t.view.graph.getModel().isEdge(t.cell)?this.defaultEdgeShape:this.defaultVertexShape),e},mxCellRenderer.prototype.configureShape=function(t){t.shape.apply(t),t.shape.image=t.view.graph.getImage(t),t.shape.indicatorColor=t.view.graph.getIndicatorColor(t),t.shape.indicatorStrokeColor=t.style[mxConstants.STYLE_INDICATOR_STROKECOLOR],t.shape.indicatorGradientColor=t.view.graph.getIndicatorGradientColor(t),t.shape.indicatorDirection=t.style[mxConstants.STYLE_INDICATOR_DIRECTION],t.shape.indicatorImage=t.view.graph.getIndicatorImage(t),this.postConfigureShape(t)},mxCellRenderer.prototype.postConfigureShape=function(t){null!=t.shape&&(this.resolveColor(t,"indicatorColor",mxConstants.STYLE_FILLCOLOR),this.resolveColor(t,"indicatorGradientColor",mxConstants.STYLE_GRADIENTCOLOR),this.resolveColor(t,"fill",mxConstants.STYLE_FILLCOLOR),this.resolveColor(t,"stroke",mxConstants.STYLE_STROKECOLOR),this.resolveColor(t,"gradient",mxConstants.STYLE_GRADIENTCOLOR))},mxCellRenderer.prototype.checkPlaceholderStyles=function(t){if(null!=t.style)for(var e=["inherit","swimlane","indicated"],i=[mxConstants.STYLE_FILLCOLOR,mxConstants.STYLE_STROKECOLOR,mxConstants.STYLE_GRADIENTCOLOR],n=0;n<i.length;n++)if(mxUtils.indexOf(e,t.style[i[n]])>=0)return!0;return!1},mxCellRenderer.prototype.resolveColor=function(t,e,i){var n=t.shape[e],r=t.view.graph,o=null;if("inherit"==n?o=r.model.getParent(t.cell):"swimlane"==n?(t.shape[e]=i==mxConstants.STYLE_STROKECOLOR?"#000000":"#ffffff",o=null!=r.model.getTerminal(t.cell,!1)?r.model.getTerminal(t.cell,!1):t.cell,o=r.getSwimlane(o),i=r.swimlaneIndicatorColorAttribute):"indicated"==n&&(t.shape[e]=t.shape.indicatorColor),null!=o){var s=r.getView().getState(o);t.shape[e]=null,null!=s&&(null!=s.shape&&"indicatorColor"!=e?t.shape[e]=s.shape[e]:t.shape[e]=s.style[i])}},mxCellRenderer.prototype.getLabelValue=function(t){return t.view.graph.getLabel(t.cell)},mxCellRenderer.prototype.createLabel=function(t,e){var i=t.view.graph;i.getModel().isEdge(t.cell);if(t.style[mxConstants.STYLE_FONTSIZE]>0||null==t.style[mxConstants.STYLE_FONTSIZE]){var n=i.isHtmlLabel(t.cell)||null!=e&&mxUtils.isNode(e);t.text=new this.defaultTextShape(e,new mxRectangle,t.style[mxConstants.STYLE_ALIGN]||mxConstants.ALIGN_CENTER,i.getVerticalAlign(t),t.style[mxConstants.STYLE_FONTCOLOR],t.style[mxConstants.STYLE_FONTFAMILY],t.style[mxConstants.STYLE_FONTSIZE],t.style[mxConstants.STYLE_FONTSTYLE],t.style[mxConstants.STYLE_SPACING],t.style[mxConstants.STYLE_SPACING_TOP],t.style[mxConstants.STYLE_SPACING_RIGHT],t.style[mxConstants.STYLE_SPACING_BOTTOM],t.style[mxConstants.STYLE_SPACING_LEFT],t.style[mxConstants.STYLE_HORIZONTAL],t.style[mxConstants.STYLE_LABEL_BACKGROUNDCOLOR],t.style[mxConstants.STYLE_LABEL_BORDERCOLOR],i.isWrapping(t.cell)&&i.isHtmlLabel(t.cell),i.isLabelClipped(t.cell),t.style[mxConstants.STYLE_OVERFLOW],t.style[mxConstants.STYLE_LABEL_PADDING],mxUtils.getValue(t.style,mxConstants.STYLE_TEXT_DIRECTION,mxConstants.DEFAULT_TEXT_DIRECTION)),t.text.opacity=mxUtils.getValue(t.style,mxConstants.STYLE_TEXT_OPACITY,100),t.text.dialect=n?mxConstants.DIALECT_STRICTHTML:t.view.graph.dialect,t.text.style=t.style,t.text.state=t,this.initializeLabel(t,t.text);var r=!1,o=function(e){var n=t;if(mxClient.IS_TOUCH||r){var o=mxEvent.getClientX(e),s=mxEvent.getClientY(e),a=mxUtils.convertPoint(i.container,o,s);n=i.view.getState(i.getCellAt(a.x,a.y))}return n};mxEvent.addGestureListeners(t.text.node,mxUtils.bind(this,function(e){this.isLabelEvent(t,e)&&(i.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(e,t)),r=i.dialect!=mxConstants.DIALECT_SVG&&"IMG"==mxEvent.getSource(e).nodeName)}),mxUtils.bind(this,function(e){this.isLabelEvent(t,e)&&i.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(e,o(e)))}),mxUtils.bind(this,function(e){this.isLabelEvent(t,e)&&(i.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(e,o(e))),r=!1)})),i.nativeDblClickEnabled&&mxEvent.addListener(t.text.node,"dblclick",mxUtils.bind(this,function(e){this.isLabelEvent(t,e)&&(i.dblClick(e,t.cell),mxEvent.consume(e))}))}},mxCellRenderer.prototype.initializeLabel=function(t,e){mxClient.IS_SVG&&mxClient.NO_FO&&e.dialect!=mxConstants.DIALECT_SVG?e.init(t.view.graph.container):e.init(t.view.getDrawPane())},mxCellRenderer.prototype.createCellOverlays=function(t){var e=t.view.graph.getCellOverlays(t.cell),i=null;if(null!=e){i=new mxDictionary;for(var n=0;n<e.length;n++){var r=null!=t.overlays?t.overlays.remove(e[n]):null;if(null==r){var o=new mxImageShape(new mxRectangle,e[n].image.src);o.dialect=t.view.graph.dialect,o.preserveImageAspect=!1,o.overlay=e[n],this.initializeOverlay(t,o),this.installCellOverlayListeners(t,e[n],o),null!=e[n].cursor&&(o.node.style.cursor=e[n].cursor),i.put(e[n],o)}else i.put(e[n],r)}}null!=t.overlays&&t.overlays.visit(function(t,e){e.destroy()}),t.overlays=i},mxCellRenderer.prototype.initializeOverlay=function(t,e){e.init(t.view.getOverlayPane())},mxCellRenderer.prototype.installCellOverlayListeners=function(t,e,i){var n=t.view.graph;mxEvent.addListener(i.node,"click",function(i){n.isEditing()&&n.stopEditing(!n.isInvokesStopCellEditing()),e.fireEvent(new mxEventObject(mxEvent.CLICK,"event",i,"cell",t.cell))}),mxEvent.addGestureListeners(i.node,function(t){mxEvent.consume(t)},function(e){n.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(e,t))}),mxClient.IS_TOUCH&&mxEvent.addListener(i.node,"touchend",function(i){e.fireEvent(new mxEventObject(mxEvent.CLICK,"event",i,"cell",t.cell))})},mxCellRenderer.prototype.createControl=function(t){var e=t.view.graph,i=e.getFoldingImage(t);if(e.foldingEnabled&&null!=i){if(null==t.control){var n=new mxRectangle(0,0,i.width,i.height);t.control=new mxImageShape(n,i.src),t.control.preserveImageAspect=!1,t.control.dialect=e.dialect,this.initControl(t,t.control,!0,this.createControlClickHandler(t))}}else null!=t.control&&(t.control.destroy(),t.control=null)},mxCellRenderer.prototype.createControlClickHandler=function(t){var e=t.view.graph;return mxUtils.bind(this,function(i){if(this.forceControlClickHandler||e.isEnabled()){var n=!e.isCellCollapsed(t.cell);e.foldCells(n,!1,[t.cell],null,i),mxEvent.consume(i)}})},mxCellRenderer.prototype.initControl=function(t,e,i,n){var r=t.view.graph;r.isHtmlLabel(t.cell)&&mxClient.NO_FO&&r.dialect==mxConstants.DIALECT_SVG?(e.dialect=mxConstants.DIALECT_PREFERHTML,e.init(r.container),e.node.style.zIndex=1):e.init(t.view.getOverlayPane());var o=e.innerNode||e.node;if(null==n||mxClient.IS_IOS||(r.isEnabled()&&(o.style.cursor="pointer"),mxEvent.addListener(o,"click",n)),i){var s=null;mxEvent.addGestureListeners(o,function(e){s=new mxPoint(mxEvent.getClientX(e),mxEvent.getClientY(e)),r.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(e,t)),mxEvent.consume(e)},function(e){r.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(e,t))},function(e){r.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(e,t)),mxEvent.consume(e)}),null!=n&&mxClient.IS_IOS&&o.addEventListener("touchend",function(t){if(null!=s){var e=r.tolerance;Math.abs(s.x-mxEvent.getClientX(t))<e&&Math.abs(s.y-mxEvent.getClientY(t))<e&&(n.call(n,t),mxEvent.consume(t))}},!0)}return o},mxCellRenderer.prototype.isShapeEvent=function(t,e){return!0},mxCellRenderer.prototype.isLabelEvent=function(t,e){return!0},mxCellRenderer.prototype.installListeners=function(t){var e=t.view.graph,i=function(i){var n=t;if(e.dialect!=mxConstants.DIALECT_SVG&&"IMG"==mxEvent.getSource(i).nodeName||mxClient.IS_TOUCH){var r=mxEvent.getClientX(i),o=mxEvent.getClientY(i),s=mxUtils.convertPoint(e.container,r,o);n=e.view.getState(e.getCellAt(s.x,s.y))}return n};mxEvent.addGestureListeners(t.shape.node,mxUtils.bind(this,function(i){this.isShapeEvent(t,i)&&e.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(i,t))}),mxUtils.bind(this,function(n){this.isShapeEvent(t,n)&&e.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(n,i(n)))}),mxUtils.bind(this,function(n){this.isShapeEvent(t,n)&&e.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(n,i(n)))})),e.nativeDblClickEnabled&&mxEvent.addListener(t.shape.node,"dblclick",mxUtils.bind(this,function(i){this.isShapeEvent(t,i)&&(e.dblClick(i,t.cell),mxEvent.consume(i))}))},mxCellRenderer.prototype.redrawLabel=function(t,e){var i=t.view.graph,n=this.getLabelValue(t),r=i.isWrapping(t.cell),o=i.isLabelClipped(t.cell),s=t.view.graph.isHtmlLabel(t.cell)||null!=n&&mxUtils.isNode(n)?mxConstants.DIALECT_STRICTHTML:t.view.graph.dialect,a=t.style[mxConstants.STYLE_OVERFLOW]||"visible";if(null==t.text||t.text.wrap==r&&t.text.clipped==o&&t.text.overflow==a&&t.text.dialect==s||(t.text.destroy(),t.text=null),null==t.text&&null!=n&&(mxUtils.isNode(n)||n.length>0)?this.createLabel(t,n):null==t.text||null!=n&&0!=n.length||(t.text.destroy(),t.text=null),null!=t.text){e&&(null!=t.text.lastValue&&this.isTextShapeInvalid(t,t.text)&&(t.text.lastValue=null),t.text.resetStyles(),t.text.apply(t),t.text.valign=i.getVerticalAlign(t));var l=this.getLabelBounds(t),h=this.getTextScale(t);if(e||t.text.value!=n||t.text.isWrapping!=r||t.text.overflow!=a||t.text.isClipping!=o||t.text.scale!=h||t.text.dialect!=s||!t.text.bounds.equals(l)){0!=t.text.bounds.width&&null!=t.unscaledWidth&&0!=Math.round(t.text.bounds.width/t.text.scale*h-l.width)&&(t.unscaledWidth=null),t.text.dialect=s,t.text.value=n,t.text.bounds=l,t.text.scale=h,t.text.wrap=r,t.text.clipped=o,t.text.overflow=a;var u=t.text.node.style.visibility;this.redrawLabelShape(t.text),t.text.node.style.visibility=u}}},mxCellRenderer.prototype.isTextShapeInvalid=function(t,e){function i(i,n,r){return"spacingTop"==n||"spacingRight"==n||"spacingBottom"==n||"spacingLeft"==n?parseFloat(e[i])-parseFloat(e.spacing)!=(t.style[n]||r):e[i]!=(t.style[n]||r)}return i("fontStyle",mxConstants.STYLE_FONTSTYLE,mxConstants.DEFAULT_FONTSTYLE)||i("family",mxConstants.STYLE_FONTFAMILY,mxConstants.DEFAULT_FONTFAMILY)||i("size",mxConstants.STYLE_FONTSIZE,mxConstants.DEFAULT_FONTSIZE)||i("color",mxConstants.STYLE_FONTCOLOR,"black")||i("align",mxConstants.STYLE_ALIGN,"")||i("valign",mxConstants.STYLE_VERTICAL_ALIGN,"")||i("spacing",mxConstants.STYLE_SPACING,2)||i("spacingTop",mxConstants.STYLE_SPACING_TOP,0)||i("spacingRight",mxConstants.STYLE_SPACING_RIGHT,0)||i("spacingBottom",mxConstants.STYLE_SPACING_BOTTOM,0)||i("spacingLeft",mxConstants.STYLE_SPACING_LEFT,0)||i("horizontal",mxConstants.STYLE_HORIZONTAL,!0)||i("background",mxConstants.STYLE_LABEL_BACKGROUNDCOLOR)||i("border",mxConstants.STYLE_LABEL_BORDERCOLOR)||i("opacity",mxConstants.STYLE_TEXT_OPACITY,100)||i("textDirection",mxConstants.STYLE_TEXT_DIRECTION,mxConstants.DEFAULT_TEXT_DIRECTION)},mxCellRenderer.prototype.redrawLabelShape=function(t){t.redraw()},mxCellRenderer.prototype.getTextScale=function(t){return t.view.scale},mxCellRenderer.prototype.getLabelBounds=function(t){var e=t.view.graph,i=t.view.scale,n=e.getModel().isEdge(t.cell),r=new mxRectangle(t.absoluteOffset.x,t.absoluteOffset.y);if(n){var o=t.text.getSpacing();r.x+=o.x*i,r.y+=o.y*i;var s=e.getCellGeometry(t.cell);null!=s&&(r.width=Math.max(0,s.width*i),r.height=Math.max(0,s.height*i))}else{if(t.text.isPaintBoundsInverted()){var a=r.x;r.x=r.y,r.y=a}r.x+=t.x,r.y+=t.y,r.width=Math.max(1,t.width),r.height=Math.max(1,t.height);var l=mxUtils.getValue(t.style,mxConstants.STYLE_STROKECOLOR,mxConstants.NONE);if(l!=mxConstants.NONE&&""!=l){var h=parseFloat(mxUtils.getValue(t.style,mxConstants.STYLE_STROKEWIDTH,1))*i,u=1+Math.floor((h-1)/2),c=Math.floor(h+1);r.x+=u,r.y+=u,r.width-=c,r.height-=c}}if(t.text.isPaintBoundsInverted()){var d=(t.width-t.height)/2;r.x+=d,r.y-=d;a=r.width;r.width=r.height,r.height=a}if(null!=t.shape){var p=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER),f=mxUtils.getValue(t.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE);p==mxConstants.ALIGN_CENTER&&f==mxConstants.ALIGN_MIDDLE&&(r=t.shape.getLabelBounds(r))}var m=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_WIDTH,null);return null!=m&&(r.width=parseFloat(m)*i),n||this.rotateLabelBounds(t,r),r},mxCellRenderer.prototype.rotateLabelBounds=function(t,e){if(e.y-=t.text.margin.y*e.height,e.x-=t.text.margin.x*e.width,!this.legacySpacing||"fill"!=t.style[mxConstants.STYLE_OVERFLOW]&&"width"!=t.style[mxConstants.STYLE_OVERFLOW]){var i=t.view.scale,n=t.text.getSpacing();e.x+=n.x*i,e.y+=n.y*i;var r=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER),o=mxUtils.getValue(t.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE),s=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_WIDTH,null);e.width=Math.max(0,e.width-(r==mxConstants.ALIGN_CENTER&&null==s?t.text.spacingLeft*i+t.text.spacingRight*i:0)),e.height=Math.max(0,e.height-(o==mxConstants.ALIGN_MIDDLE?t.text.spacingTop*i+t.text.spacingBottom*i:0))}var a=t.text.getTextRotation();if(0!=a&&null!=t&&t.view.graph.model.isVertex(t.cell)){var l=t.getCenterX(),h=t.getCenterY();if(e.x!=l||e.y!=h){var u=a*(Math.PI/180),c=mxUtils.getRotatedPoint(new mxPoint(e.x,e.y),Math.cos(u),Math.sin(u),new mxPoint(l,h));e.x=c.x,e.y=c.y}}},mxCellRenderer.prototype.redrawCellOverlays=function(t,e){if(this.createCellOverlays(t),null!=t.overlays){var i=mxUtils.mod(mxUtils.getValue(t.style,mxConstants.STYLE_ROTATION,0),90),n=mxUtils.toRadians(i),r=Math.cos(n),o=Math.sin(n);t.overlays.visit(function(n,s){var a=s.overlay.getBounds(t);if(!t.view.graph.getModel().isEdge(t.cell)&&null!=t.shape&&0!=i){var l=a.getCenterX(),h=a.getCenterY(),u=mxUtils.getRotatedPoint(new mxPoint(l,h),r,o,new mxPoint(t.getCenterX(),t.getCenterY()));l=u.x,h=u.y,a.x=Math.round(l-a.width/2),a.y=Math.round(h-a.height/2)}!e&&null!=s.bounds&&s.scale==t.view.scale&&s.bounds.equals(a)||(s.bounds=a,s.scale=t.view.scale,s.redraw())})}},mxCellRenderer.prototype.redrawControl=function(t,e){var i=t.view.graph.getFoldingImage(t);if(null!=t.control&&null!=i){var n=this.getControlBounds(t,i.width,i.height),r=this.legacyControlPosition?mxUtils.getValue(t.style,mxConstants.STYLE_ROTATION,0):t.shape.getTextRotation(),o=t.view.scale;!e&&t.control.scale==o&&t.control.bounds.equals(n)&&t.control.rotation==r||(t.control.rotation=r,t.control.bounds=n,t.control.scale=o,t.control.redraw())}},mxCellRenderer.prototype.getControlBounds=function(t,e,i){if(null!=t.control){var n=t.view.scale,r=t.getCenterX(),o=t.getCenterY();if(!t.view.graph.getModel().isEdge(t.cell)&&(r=t.x+e*n,o=t.y+i*n,null!=t.shape)){var s=t.shape.getShapeRotation();if(this.legacyControlPosition)s=mxUtils.getValue(t.style,mxConstants.STYLE_ROTATION,0);else if(t.shape.isPaintBoundsInverted()){var a=(t.width-t.height)/2;r+=a,o-=a}if(0!=s){var l=mxUtils.toRadians(s),h=Math.cos(l),u=Math.sin(l),c=mxUtils.getRotatedPoint(new mxPoint(r,o),h,u,new mxPoint(t.getCenterX(),t.getCenterY()));r=c.x,o=c.y}}return t.view.graph.getModel().isEdge(t.cell),new mxRectangle(Math.round(r-e/2*n),Math.round(o-i/2*n),Math.round(e*n),Math.round(i*n))}return null},mxCellRenderer.prototype.insertStateAfter=function(t,e,i){for(var n=this.getShapesForState(t),r=0;r<n.length;r++)if(null!=n[r]&&null!=n[r].node){var o=n[r].node.parentNode!=t.view.getDrawPane()&&n[r].node.parentNode!=t.view.getOverlayPane(),s=o?i:e;if(null!=s&&s.nextSibling!=n[r].node)null==s.nextSibling?s.parentNode.appendChild(n[r].node):s.parentNode.insertBefore(n[r].node,s.nextSibling);else if(null==s)if(n[r].node.parentNode==t.view.graph.container){for(var a=t.view.canvas;null!=a&&a.parentNode!=t.view.graph.container;)a=a.parentNode;null!=a&&null!=a.nextSibling?a.nextSibling!=n[r].node&&n[r].node.parentNode.insertBefore(n[r].node,a.nextSibling):n[r].node.parentNode.appendChild(n[r].node)}else null!=n[r].node.parentNode.firstChild&&n[r].node.parentNode.firstChild!=n[r].node&&n[r].node.parentNode.insertBefore(n[r].node,n[r].node.parentNode.firstChild);o?i=n[r].node:e=n[r].node}return[e,i]},mxCellRenderer.prototype.getShapesForState=function(t){return[t.shape,t.text,t.control]},mxCellRenderer.prototype.redraw=function(t,e,i){var n=this.redrawShape(t,e,i);null==t.shape||null!=i&&!i||(this.redrawLabel(t,n),this.redrawCellOverlays(t,n),this.redrawControl(t,n))},mxCellRenderer.prototype.redrawShape=function(t,e,i){var n=t.view.graph.model,r=!1;return null!=t.shape&&null!=t.shape.style&&null!=t.style&&t.shape.style[mxConstants.STYLE_SHAPE]!=t.style[mxConstants.STYLE_SHAPE]&&(t.shape.destroy(),t.shape=null),null==t.shape&&null!=t.view.graph.container&&t.cell!=t.view.currentRoot&&(n.isVertex(t.cell)||n.isEdge(t.cell))?(t.shape=this.createShape(t),null!=t.shape&&(t.shape.minSvgStrokeWidth=this.minSvgStrokeWidth,t.shape.antiAlias=this.antiAlias,this.createIndicatorShape(t),this.initializeShape(t),this.createCellOverlays(t),this.installListeners(t),t.view.graph.selectionCellsHandler.updateHandler(t))):e||null==t.shape||mxUtils.equalEntries(t.shape.style,t.style)&&!this.checkPlaceholderStyles(t)||(t.shape.resetStyles(),this.configureShape(t),t.view.graph.selectionCellsHandler.updateHandler(t),e=!0),null!=t.shape&&(this.createControl(t),(e||this.isShapeInvalid(t,t.shape))&&(null!=t.absolutePoints?(t.shape.points=t.absolutePoints.slice(),t.shape.bounds=null):(t.shape.points=null,t.shape.bounds=new mxRectangle(t.x,t.y,t.width,t.height)),t.shape.scale=t.view.scale,null==i||i?this.doRedrawShape(t):t.shape.updateBoundingBox(),r=!0)),r},mxCellRenderer.prototype.doRedrawShape=function(t){t.shape.redraw()},mxCellRenderer.prototype.isShapeInvalid=function(t,e){return null==e.bounds||e.scale!=t.view.scale||null==t.absolutePoints&&!e.bounds.equals(t)||null!=t.absolutePoints&&!mxUtils.equalPoints(e.points,t.absolutePoints)},mxCellRenderer.prototype.destroy=function(t){null!=t.shape&&(null!=t.text&&(t.text.destroy(),t.text=null),null!=t.overlays&&(t.overlays.visit(function(t,e){e.destroy()}),t.overlays=null),null!=t.control&&(t.control.destroy(),t.control=null),t.shape.destroy(),t.shape=null)},__mxOutput.mxCellRenderer=void 0!==mxCellRenderer?mxCellRenderer:void 0;var mxEdgeStyle={EntityRelation:function(t,e,i,n,r){var o=t.view,s=o.graph,a=mxUtils.getValue(t.style,mxConstants.STYLE_SEGMENT,mxConstants.ENTITY_SEGMENT)*o.scale,l=t.absolutePoints,h=l[0],u=l[l.length-1],c=!1;if(null!=h)(e=new mxCellState).x=h.x,e.y=h.y;else{if(null==e)return;if((f=mxUtils.getPortConstraints(e,t,!0,mxConstants.DIRECTION_MASK_NONE))!=mxConstants.DIRECTION_MASK_NONE&&f!=mxConstants.DIRECTION_MASK_WEST+mxConstants.DIRECTION_MASK_EAST)c=f==mxConstants.DIRECTION_MASK_WEST;else{var d=s.getCellGeometry(e.cell);d.relative?c=d.x<=.5:null!=i&&(c=i.x+i.width<e.x)}}var p=!0;if(null!=u)(i=new mxCellState).x=u.x,i.y=u.y;else if(null!=i){var f;if((f=mxUtils.getPortConstraints(i,t,!1,mxConstants.DIRECTION_MASK_NONE))!=mxConstants.DIRECTION_MASK_NONE&&f!=mxConstants.DIRECTION_MASK_WEST+mxConstants.DIRECTION_MASK_EAST)p=f==mxConstants.DIRECTION_MASK_WEST;else{var m=s.getCellGeometry(i.cell);m.relative?p=m.x<=.5:null!=e&&(p=e.x+e.width<i.x)}}if(null!=e&&null!=i){var g=c?e.x:e.x+e.width,v=o.getRoutingCenterY(e),A=p?i.x:i.x+i.width,y=o.getRoutingCenterY(i),x=a,b=c?-x:x,C=new mxPoint(g+b,v),w=new mxPoint(A+(b=p?-x:x),y);if(c==p){var E=c?Math.min(g,A)-a:Math.max(g,A)+a;r.push(new mxPoint(E,v)),r.push(new mxPoint(E,y))}else if(C.x<w.x==c){var S=v+(y-v)/2;r.push(C),r.push(new mxPoint(C.x,S)),r.push(new mxPoint(w.x,S)),r.push(w)}else r.push(C),r.push(w)}},Loop:function(t,e,i,n,r){var o=t.absolutePoints,s=o[0],a=o[o.length-1];if(null==s||null==a){if(null!=e){var l=t.view,h=l.graph;null!=(v=null!=n&&n.length>0?n[0]:null)&&(v=l.transformControlPoint(t,v),mxUtils.contains(e,v.x,v.y)&&(v=null));var u=0,c=0,d=0,p=0,f=mxUtils.getValue(t.style,mxConstants.STYLE_SEGMENT,h.gridSize)*l.scale,m=mxUtils.getValue(t.style,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_WEST);m==mxConstants.DIRECTION_NORTH||m==mxConstants.DIRECTION_SOUTH?(u=l.getRoutingCenterX(e),c=f):(d=l.getRoutingCenterY(e),p=f),null==v||v.x<e.x||v.x>e.x+e.width?null!=v?(u=v.x,p=Math.max(Math.abs(d-v.y),p)):m==mxConstants.DIRECTION_NORTH?d=e.y-2*c:m==mxConstants.DIRECTION_SOUTH?d=e.y+e.height+2*c:u=m==mxConstants.DIRECTION_EAST?e.x-2*p:e.x+e.width+2*p:null!=v&&(u=l.getRoutingCenterX(e),c=Math.max(Math.abs(u-v.x),p),d=v.y,p=0),r.push(new mxPoint(u-c,d-p)),r.push(new mxPoint(u+c,d+p))}}else if(null!=n&&n.length>0)for(var g=0;g<n.length;g++){var v=n[g];v=t.view.transformControlPoint(t,v),r.push(new mxPoint(v.x,v.y))}},ElbowConnector:function(t,e,i,n,r){var o=null!=n&&n.length>0?n[0]:null,s=!1,a=!1;if(null!=e&&null!=i)if(null!=o){var l=Math.min(e.x,i.x),h=Math.max(e.x+e.width,i.x+i.width),u=Math.min(e.y,i.y),c=Math.max(e.y+e.height,i.y+i.height);s=(o=t.view.transformControlPoint(t,o)).y<u||o.y>c,a=o.x<l||o.x>h}else{if(!(s=(l=Math.max(e.x,i.x))==(h=Math.min(e.x+e.width,i.x+i.width))))a=(u=Math.max(e.y,i.y))==(c=Math.min(e.y+e.height,i.y+i.height))}a||!s&&t.style[mxConstants.STYLE_ELBOW]!=mxConstants.ELBOW_VERTICAL?mxEdgeStyle.SideToSide(t,e,i,n,r):mxEdgeStyle.TopToBottom(t,e,i,n,r)},SideToSide:function(t,e,i,n,r){var o=t.view,s=null!=n&&n.length>0?n[0]:null,a=t.absolutePoints,l=a[0],h=a[a.length-1];if(null!=s&&(s=o.transformControlPoint(t,s)),null!=l&&((e=new mxCellState).x=l.x,e.y=l.y),null!=h&&((i=new mxCellState).x=h.x,i.y=h.y),null!=e&&null!=i){var u=Math.max(e.x,i.x),c=Math.min(e.x+e.width,i.x+i.width),d=null!=s?s.x:Math.round(c+(u-c)/2),p=o.getRoutingCenterY(e),f=o.getRoutingCenterY(i);if(null!=s&&(s.y>=e.y&&s.y<=e.y+e.height&&(p=s.y),s.y>=i.y&&s.y<=i.y+i.height&&(f=s.y)),mxUtils.contains(i,d,p)||mxUtils.contains(e,d,p)||r.push(new mxPoint(d,p)),mxUtils.contains(i,d,f)||mxUtils.contains(e,d,f)||r.push(new mxPoint(d,f)),1==r.length)if(null!=s)mxUtils.contains(i,d,s.y)||mxUtils.contains(e,d,s.y)||r.push(new mxPoint(d,s.y));else{var m=Math.max(e.y,i.y),g=Math.min(e.y+e.height,i.y+i.height);r.push(new mxPoint(d,m+(g-m)/2))}}},TopToBottom:function(t,e,i,n,r){var o=t.view,s=null!=n&&n.length>0?n[0]:null,a=t.absolutePoints,l=a[0],h=a[a.length-1];if(null!=s&&(s=o.transformControlPoint(t,s)),null!=l&&((e=new mxCellState).x=l.x,e.y=l.y),null!=h&&((i=new mxCellState).x=h.x,i.y=h.y),null!=e&&null!=i){var u=Math.max(e.y,i.y),c=Math.min(e.y+e.height,i.y+i.height),d=o.getRoutingCenterX(e);null!=s&&s.x>=e.x&&s.x<=e.x+e.width&&(d=s.x);var p=null!=s?s.y:Math.round(c+(u-c)/2);if(mxUtils.contains(i,d,p)||mxUtils.contains(e,d,p)||r.push(new mxPoint(d,p)),d=null!=s&&s.x>=i.x&&s.x<=i.x+i.width?s.x:o.getRoutingCenterX(i),mxUtils.contains(i,d,p)||mxUtils.contains(e,d,p)||r.push(new mxPoint(d,p)),1==r.length)if(null!=s&&1==r.length)mxUtils.contains(i,s.x,p)||mxUtils.contains(e,s.x,p)||r.push(new mxPoint(s.x,p));else{var f=Math.max(e.x,i.x),m=Math.min(e.x+e.width,i.x+i.width);r.push(new mxPoint(f+(m-f)/2,p))}}},SegmentConnector:function(t,e,i,n,r){var o=t.absolutePoints,s=Math.max(1,t.view.scale),a=r.length>0?r[0]:null,l=!0,h=null;function u(t){return(null==a||Math.abs(a.x-t.x)>=s||Math.abs(a.y-t.y)>=s)&&(r.push(t),a=t),a}var c=o[0];null==c&&null!=e?c=new mxPoint(t.view.getRoutingCenterX(e),t.view.getRoutingCenterY(e)):null!=c&&(c=c.clone()),c.x=Math.round(c.x),c.y=Math.round(c.y);var d=o.length-1;if(null!=n&&n.length>0){for(var p=[],f=0;f<n.length;f++){var m=t.view.transformControlPoint(t,n[f]);null!=m&&(m.x=Math.round(m.x),m.y=Math.round(m.y),p.push(m))}if(0==p.length)return;n=p,null!=c&&null!=n[0]&&(Math.abs(n[0].x-c.x)<s&&(n[0].x=c.x),Math.abs(n[0].y-c.y)<s&&(n[0].y=c.y));var g=o[d];null!=g&&null!=n[n.length-1]&&(Math.abs(n[n.length-1].x-g.x)<s&&(n[n.length-1].x=g.x),Math.abs(n[n.length-1].y-g.y)<s&&(n[n.length-1].y=g.y)),h=n[0];var v=e,A=o[0],y=!1,x=!1,b=h;null!=A&&(A.x=Math.round(A.x),A.y=Math.round(A.y),v=null);for(f=0;f<2;f++){var C=null!=A&&A.x==b.x,w=null!=A&&A.y==b.y,E=null!=v&&b.y>=v.y&&b.y<=v.y+v.height,S=null!=v&&b.x>=v.x&&b.x<=v.x+v.width;if(y=w||null==A&&E,x=C||null==A&&S,0==f&&(y&&x||C&&w));else{if(null!=A&&!w&&!C&&(E||S)){l=!E;break}if(x||y){l=y,1==f&&(l=n.length%2==0?y:x);break}}v=i,null!=(A=o[d])&&(A.x=Math.round(A.x),A.y=Math.round(A.y),v=null),b=n[n.length-1],C&&w&&(n=n.slice(1))}l&&(null!=o[0]&&o[0].y!=h.y||null==o[0]&&null!=e&&(h.y<e.y||h.y>e.y+e.height))?u(new mxPoint(c.x,h.y)):!l&&(null!=o[0]&&o[0].x!=h.x||null==o[0]&&null!=e&&(h.x<e.x||h.x>e.x+e.width))&&u(new mxPoint(h.x,c.y)),l?c.y=h.y:c.x=h.x;for(f=0;f<n.length;f++)l=!l,h=n[f],l?c.y=h.y:c.x=h.x,u(c.clone())}else h=c,l=!0;if(null==(c=o[d])&&null!=i&&(c=new mxPoint(t.view.getRoutingCenterX(i),t.view.getRoutingCenterY(i))),null!=c&&(c.x=Math.round(c.x),c.y=Math.round(c.y),null!=h&&(l&&(null!=o[d]&&o[d].y!=h.y||null==o[d]&&null!=i&&(h.y<i.y||h.y>i.y+i.height))?u(new mxPoint(c.x,h.y)):!l&&(null!=o[d]&&o[d].x!=h.x||null==o[d]&&null!=i&&(h.x<i.x||h.x>i.x+i.width))&&u(new mxPoint(h.x,c.y)))),null==o[0]&&null!=e)for(;r.length>1&&null!=r[1]&&mxUtils.contains(e,r[1].x,r[1].y);)r.splice(1,1);if(null==o[d]&&null!=i)for(;r.length>1&&null!=r[r.length-1]&&mxUtils.contains(i,r[r.length-1].x,r[r.length-1].y);)r.splice(r.length-1,1);null!=g&&null!=r[r.length-1]&&Math.abs(g.x-r[r.length-1].x)<=s&&Math.abs(g.y-r[r.length-1].y)<=s&&(r.splice(r.length-1,1),null!=r[r.length-1]&&(Math.abs(r[r.length-1].x-g.x)<s&&(r[r.length-1].x=g.x),Math.abs(r[r.length-1].y-g.y)<s&&(r[r.length-1].y=g.y)))},orthBuffer:10,orthPointsFallback:!0,dirVectors:[[-1,0],[0,-1],[1,0],[0,1],[-1,0],[0,-1],[1,0]],wayPoints1:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],routePatterns:[[[513,2308,2081,2562],[513,1090,514,2184,2114,2561],[513,1090,514,2564,2184,2562],[513,2308,2561,1090,514,2568,2308]],[[514,1057,513,2308,2081,2562],[514,2184,2114,2561],[514,2184,2562,1057,513,2564,2184],[514,1057,513,2568,2308,2561]],[[1090,514,1057,513,2308,2081,2562],[2114,2561],[1090,2562,1057,513,2564,2184],[1090,514,1057,513,2308,2561,2568]],[[2081,2562],[1057,513,1090,514,2184,2114,2561],[1057,513,1090,514,2184,2562,2564],[1057,2561,1090,514,2568,2308]]],inlineRoutePatterns:[[null,[2114,2568],null,null],[null,[514,2081,2114,2568],null,null],[null,[2114,2561],null,null],[[2081,2562],[1057,2114,2568],[2184,2562],null]],vertexSeperations:[],limits:[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]],LEFT_MASK:32,TOP_MASK:64,RIGHT_MASK:128,BOTTOM_MASK:256,LEFT:1,TOP:2,RIGHT:4,BOTTOM:8,SIDE_MASK:480,CENTER_MASK:512,SOURCE_MASK:1024,TARGET_MASK:2048,VERTEX_MASK:3072,getJettySize:function(t,e,i,n,r){var o=mxUtils.getValue(t.style,r?mxConstants.STYLE_SOURCE_JETTY_SIZE:mxConstants.STYLE_TARGET_JETTY_SIZE,mxUtils.getValue(t.style,mxConstants.STYLE_JETTY_SIZE,mxEdgeStyle.orthBuffer));if("auto"==o)if(mxUtils.getValue(t.style,r?mxConstants.STYLE_STARTARROW:mxConstants.STYLE_ENDARROW,mxConstants.NONE)!=mxConstants.NONE){var s=mxUtils.getNumber(t.style,r?mxConstants.STYLE_STARTSIZE:mxConstants.STYLE_ENDSIZE,mxConstants.DEFAULT_MARKERSIZE);o=Math.max(2,Math.ceil((s+mxEdgeStyle.orthBuffer)/mxEdgeStyle.orthBuffer))*mxEdgeStyle.orthBuffer}else o=2*mxEdgeStyle.orthBuffer;return o},OrthConnector:function(t,e,i,n,r){var o=t.view.graph,s=null!=e&&o.getModel().isEdge(e.cell),a=null!=i&&o.getModel().isEdge(i.cell),l=t.absolutePoints,h=l[0],u=l[l.length-1],c=null!=e?e.x:h.x,d=null!=e?e.y:h.y,p=null!=e?e.width:0,f=null!=e?e.height:0,m=null!=i?i.x:u.x,g=null!=i?i.y:u.y,v=null!=i?i.width:0,A=null!=i?i.height:0,y=t.view.scale*mxEdgeStyle.getJettySize(t,e,i,n,!0),x=t.view.scale*mxEdgeStyle.getJettySize(t,e,i,n,!1);null!=e&&i==e&&(y=x=Math.max(y,x));var b=x+y,C=!1;null!=h&&null!=u&&(C=(B=u.x-h.x)*B+(N=u.y-h.y)*N<b*b);if(C||mxEdgeStyle.orthPointsFallback&&null!=n&&n.length>0||s||a)mxEdgeStyle.SegmentConnector(t,e,i,n,r);else{var w,E=[mxConstants.DIRECTION_MASK_ALL,mxConstants.DIRECTION_MASK_ALL],S=0;if(null!=e)if(E[0]=mxUtils.getPortConstraints(e,t,!0,mxConstants.DIRECTION_MASK_ALL),0!=(S=mxUtils.getValue(e.style,mxConstants.STYLE_ROTATION,0)))c=(w=mxUtils.getBoundingBox(new mxRectangle(c,d,p,f),S)).x,d=w.y,p=w.width,f=w.height;if(null!=i)if(E[1]=mxUtils.getPortConstraints(i,t,!1,mxConstants.DIRECTION_MASK_ALL),0!=(S=mxUtils.getValue(i.style,mxConstants.STYLE_ROTATION,0)))m=(w=mxUtils.getBoundingBox(new mxRectangle(m,g,v,A),S)).x,g=w.y,v=w.width,A=w.height;for(var T=[0,0],_=[[c=Math.round(10*c)/10,d=Math.round(10*d)/10,p=Math.round(10*p)/10,f=Math.round(10*f)/10],[m=Math.round(10*m)/10,g=Math.round(10*g)/10,v=Math.round(10*v)/10,A=Math.round(10*A)/10]],M=[y,x],k=0;k<2;k++)mxEdgeStyle.limits[k][1]=_[k][0]-M[k],mxEdgeStyle.limits[k][2]=_[k][1]-M[k],mxEdgeStyle.limits[k][4]=_[k][0]+_[k][2]+M[k],mxEdgeStyle.limits[k][8]=_[k][1]+_[k][3]+M[k];var B,O=_[0][0]+_[0][2]/2,P=_[0][1]+_[0][3]/2,L=_[1][0]+_[1][2]/2,N=P-(_[1][1]+_[1][3]/2),I=0;(B=O-L)<0?I=N<0?2:1:N<=0&&(I=3,0==B&&(I=2));var D=null;null!=e&&(D=h);var R=[[.5,.5],[.5,.5]];for(k=0;k<2;k++)null!=D&&(R[k][0]=(D.x-_[k][0])/_[k][2],Math.abs(D.x-_[k][0])<=1?T[k]=mxConstants.DIRECTION_MASK_WEST:Math.abs(D.x-_[k][0]-_[k][2])<=1&&(T[k]=mxConstants.DIRECTION_MASK_EAST),R[k][1]=(D.y-_[k][1])/_[k][3],Math.abs(D.y-_[k][1])<=1?T[k]=mxConstants.DIRECTION_MASK_NORTH:Math.abs(D.y-_[k][1]-_[k][3])<=1&&(T[k]=mxConstants.DIRECTION_MASK_SOUTH)),D=null,null!=i&&(D=u);var F=_[0][1]-(_[1][1]+_[1][3]),H=_[0][0]-(_[1][0]+_[1][2]),U=_[1][1]-(_[0][1]+_[0][3]),V=_[1][0]-(_[0][0]+_[0][2]);mxEdgeStyle.vertexSeperations[1]=Math.max(H-b,0),mxEdgeStyle.vertexSeperations[2]=Math.max(F-b,0),mxEdgeStyle.vertexSeperations[4]=Math.max(U-b,0),mxEdgeStyle.vertexSeperations[3]=Math.max(V-b,0);var j=[],G=[],z=[];G[0]=H>=V?mxConstants.DIRECTION_MASK_WEST:mxConstants.DIRECTION_MASK_EAST,z[0]=F>=U?mxConstants.DIRECTION_MASK_NORTH:mxConstants.DIRECTION_MASK_SOUTH,G[1]=mxUtils.reversePortConstraints(G[0]),z[1]=mxUtils.reversePortConstraints(z[0]);var Q=H>=V?H:V,Y=F>=U?F:U,K=[[0,0],[0,0]],X=!1;for(k=0;k<2;k++)0==T[k]&&(0==(G[k]&E[k])&&(G[k]=mxUtils.reversePortConstraints(G[k])),0==(z[k]&E[k])&&(z[k]=mxUtils.reversePortConstraints(z[k])),K[k][0]=z[k],K[k][1]=G[k]);Y>0&&Q>0&&((G[0]&E[0])>0&&(z[1]&E[1])>0?(K[0][0]=G[0],K[0][1]=z[0],K[1][0]=z[1],K[1][1]=G[1],X=!0):(z[0]&E[0])>0&&(G[1]&E[1])>0&&(K[0][0]=z[0],K[0][1]=G[0],K[1][0]=G[1],K[1][1]=z[1],X=!0)),Y>0&&!X&&(K[0][0]=z[0],K[0][1]=G[0],K[1][0]=z[1],K[1][1]=G[1],X=!0),Q>0&&!X&&(K[0][0]=G[0],K[0][1]=z[0],K[1][0]=G[1],K[1][1]=z[1],X=!0);for(k=0;k<2;k++)0==T[k]&&(0==(K[k][0]&E[k])&&(K[k][0]=K[k][1]),j[k]=K[k][0]&E[k],j[k]|=(K[k][1]&E[k])<<8,j[k]|=(K[1-k][k]&E[k])<<16,j[k]|=(K[1-k][1-k]&E[k])<<24,0==(15&j[k])&&(j[k]=j[k]<<8),0==(3840&j[k])&&(j[k]=15&j[k]|j[k]>>8),0==(983040&j[k])&&(j[k]=65535&j[k]|(251658240&j[k])>>8),T[k]=15&j[k],E[k]!=mxConstants.DIRECTION_MASK_WEST&&E[k]!=mxConstants.DIRECTION_MASK_NORTH&&E[k]!=mxConstants.DIRECTION_MASK_EAST&&E[k]!=mxConstants.DIRECTION_MASK_SOUTH||(T[k]=E[k]));var $=T[0]==mxConstants.DIRECTION_MASK_EAST?3:T[0],W=T[1]==mxConstants.DIRECTION_MASK_EAST?3:T[1];W-=I,($-=I)<1&&($+=4),W<1&&(W+=4);var q=mxEdgeStyle.routePatterns[$-1][W-1];switch(mxEdgeStyle.wayPoints1[0][0]=_[0][0],mxEdgeStyle.wayPoints1[0][1]=_[0][1],T[0]){case mxConstants.DIRECTION_MASK_WEST:mxEdgeStyle.wayPoints1[0][0]-=y,mxEdgeStyle.wayPoints1[0][1]+=R[0][1]*_[0][3];break;case mxConstants.DIRECTION_MASK_SOUTH:mxEdgeStyle.wayPoints1[0][0]+=R[0][0]*_[0][2],mxEdgeStyle.wayPoints1[0][1]+=_[0][3]+y;break;case mxConstants.DIRECTION_MASK_EAST:mxEdgeStyle.wayPoints1[0][0]+=_[0][2]+y,mxEdgeStyle.wayPoints1[0][1]+=R[0][1]*_[0][3];break;case mxConstants.DIRECTION_MASK_NORTH:mxEdgeStyle.wayPoints1[0][0]+=R[0][0]*_[0][2],mxEdgeStyle.wayPoints1[0][1]-=y}var J=0,Z=(T[0]&(mxConstants.DIRECTION_MASK_EAST|mxConstants.DIRECTION_MASK_WEST))>0?0:1,tt=Z,et=0;for(k=0;k<q.length;k++){var it=15&q[k],nt=it==mxConstants.DIRECTION_MASK_EAST?3:it;(nt+=I)>4&&(nt-=4);var rt=mxEdgeStyle.dirVectors[nt-1];(et=nt%2>0?0:1)!=Z&&(J++,mxEdgeStyle.wayPoints1[J][0]=mxEdgeStyle.wayPoints1[J-1][0],mxEdgeStyle.wayPoints1[J][1]=mxEdgeStyle.wayPoints1[J-1][1]);var ot=(q[k]&mxEdgeStyle.TARGET_MASK)>0,st=(q[k]&mxEdgeStyle.SOURCE_MASK)>0,at=(q[k]&mxEdgeStyle.SIDE_MASK)>>5;(at<<=I)>15&&(at>>=4);var lt=(q[k]&mxEdgeStyle.CENTER_MASK)>0;if((st||ot)&&at<9){var ht=0,ut=st?0:1;if(ht=lt&&0==et?_[ut][0]+R[ut][0]*_[ut][2]:lt?_[ut][1]+R[ut][1]*_[ut][3]:mxEdgeStyle.limits[ut][at],0==et){var ct=(ht-mxEdgeStyle.wayPoints1[J][0])*rt[0];ct>0&&(mxEdgeStyle.wayPoints1[J][0]+=rt[0]*ct)}else{var dt=(ht-mxEdgeStyle.wayPoints1[J][1])*rt[1];dt>0&&(mxEdgeStyle.wayPoints1[J][1]+=rt[1]*dt)}}else lt&&(mxEdgeStyle.wayPoints1[J][0]+=rt[0]*Math.abs(mxEdgeStyle.vertexSeperations[nt]/2),mxEdgeStyle.wayPoints1[J][1]+=rt[1]*Math.abs(mxEdgeStyle.vertexSeperations[nt]/2));J>0&&mxEdgeStyle.wayPoints1[J][et]==mxEdgeStyle.wayPoints1[J-1][et]?J--:Z=et}for(k=0;k<=J;k++){if(k==J)if((((T[1]&(mxConstants.DIRECTION_MASK_EAST|mxConstants.DIRECTION_MASK_WEST))>0?0:1)==tt?0:1)!=(J+1)%2)break;r.push(new mxPoint(Math.round(mxEdgeStyle.wayPoints1[k][0]),Math.round(mxEdgeStyle.wayPoints1[k][1])))}for(var pt=1;pt<r.length;)null==r[pt-1]||null==r[pt]||r[pt-1].x!=r[pt].x||r[pt-1].y!=r[pt].y?pt++:r.splice(pt,1)}},getRoutePattern:function(t,e,i,n){var r=t[0]==mxConstants.DIRECTION_MASK_EAST?3:t[0],o=t[1]==mxConstants.DIRECTION_MASK_EAST?3:t[1];o-=e,(r-=e)<1&&(r+=4),o<1&&(o+=4);var s=routePatterns[r-1][o-1];return 0!=i&&0!=n||null!=inlineRoutePatterns[r-1][o-1]&&(s=inlineRoutePatterns[r-1][o-1]),s}};__mxOutput.mxEdgeStyle=void 0!==mxEdgeStyle?mxEdgeStyle:void 0;var mxStyleRegistry={values:[],putValue:function(t,e){mxStyleRegistry.values[t]=e},getValue:function(t){return mxStyleRegistry.values[t]},getName:function(t){for(var e in mxStyleRegistry.values)if(mxStyleRegistry.values[e]==t)return e;return null}};function mxGraphView(t){this.graph=t,this.translate=new mxPoint,this.graphBounds=new mxRectangle,this.states=new mxDictionary}function mxCurrentRootChange(t,e){if(this.view=t,this.root=e,this.previous=e,this.isUp=null==e,!this.isUp)for(var i=this.view.currentRoot,n=this.view.graph.getModel();null!=i;){if(i==e){this.isUp=!0;break}i=n.getParent(i)}}function mxGraph(t,e,i,n){this.mouseListeners=null,this.renderHint=i,mxClient.IS_SVG?this.dialect=mxConstants.DIALECT_SVG:i==mxConstants.RENDERING_HINT_EXACT&&mxClient.IS_VML?this.dialect=mxConstants.DIALECT_VML:i==mxConstants.RENDERING_HINT_FASTEST?this.dialect=mxConstants.DIALECT_STRICTHTML:i==mxConstants.RENDERING_HINT_FASTER?this.dialect=mxConstants.DIALECT_PREFERHTML:this.dialect=mxConstants.DIALECT_MIXEDHTML,this.model=null!=e?e:new mxGraphModel,this.multiplicities=[],this.imageBundles=[],this.cellRenderer=this.createCellRenderer(),this.setSelectionModel(this.createSelectionModel()),this.setStylesheet(null!=n?n:this.createStylesheet()),this.view=this.createGraphView(),this.graphModelChangeListener=mxUtils.bind(this,function(t,e){this.graphModelChanged(e.getProperty("edit").changes)}),this.model.addListener(mxEvent.CHANGE,this.graphModelChangeListener),this.createHandlers(),null!=t&&this.init(t),this.view.revalidate()}function mxCellOverlay(t,e,i,n,r,o){this.image=t,this.tooltip=e,this.align=null!=i?i:this.align,this.verticalAlign=null!=n?n:this.verticalAlign,this.offset=null!=r?r:new mxPoint,this.cursor=null!=o?o:"help"}function mxOutline(t,e){this.source=t,null!=e&&this.init(e)}function mxMultiplicity(t,e,i,n,r,o,s,a,l,h){this.source=t,this.type=e,this.attr=i,this.value=n,this.min=null!=r?r:0,this.max=null!=o?o:"n",this.validNeighbors=s,this.countError=mxResources.get(a)||a,this.typeError=mxResources.get(l)||l,this.validNeighborsAllowed=null==h||h}function mxLayoutManager(t){this.undoHandler=mxUtils.bind(this,function(t,e){this.isEnabled()&&this.beforeUndo(e.getProperty("edit"))}),this.moveHandler=mxUtils.bind(this,function(t,e){this.isEnabled()&&this.cellsMoved(e.getProperty("cells"),e.getProperty("event"))}),this.setGraph(t)}function mxSwimlaneManager(t,e,i,n){this.horizontal=null==e||e,this.addEnabled=null==i||i,this.resizeEnabled=null==n||n,this.addHandler=mxUtils.bind(this,function(t,e){this.isEnabled()&&this.isAddEnabled()&&this.cellsAdded(e.getProperty("cells"))}),this.resizeHandler=mxUtils.bind(this,function(t,e){this.isEnabled()&&this.isResizeEnabled()&&this.cellsResized(e.getProperty("cells"))}),this.setGraph(t)}function mxTemporaryCellStates(t,e,i,n,r){e=null!=e?e:1,this.view=t,this.oldValidateCellState=t.validateCellState,this.oldBounds=t.getGraphBounds(),this.oldStates=t.getStates(),this.oldScale=t.getScale(),this.oldDoRedrawShape=t.graph.cellRenderer.doRedrawShape;var o=this;if(null!=r&&(t.graph.cellRenderer.doRedrawShape=function(e){var i=e.shape.paint;e.shape.paint=function(t){var n=r(e);null!=n&&t.setLink(n),i.apply(this,arguments),null!=n&&t.setLink(null)},o.oldDoRedrawShape.apply(t.graph.cellRenderer,arguments),e.shape.paint=i}),t.validateCellState=function(e,i){return null==e||null==n||n(e)?o.oldValidateCellState.apply(t,arguments):null},t.setStates(new mxDictionary),t.setScale(e),null!=i){t.resetValidationState();for(var s=null,a=0;a<i.length;a++){var l=t.getBoundingBox(t.validateCellState(t.validateCell(i[a])));null==s?s=l:s.add(l)}t.setGraphBounds(s||new mxRectangle)}}function mxCellStatePreview(t){this.deltas=new mxDictionary,this.graph=t}function mxConnectionConstraint(t,e,i,n,r){this.point=t,this.perimeter=null==e||e,this.name=i,this.dx=n||0,this.dy=r||0}function mxGraphHandler(t){this.graph=t,this.graph.addMouseListener(this),this.panHandler=mxUtils.bind(this,function(){this.updatePreview(),this.updateHint()}),this.graph.addListener(mxEvent.PAN,this.panHandler),this.escapeHandler=mxUtils.bind(this,function(t,e){this.reset()}),this.graph.addListener(mxEvent.ESCAPE,this.escapeHandler),this.refreshHandler=mxUtils.bind(this,function(t,e){if(null!=this.first)try{this.bounds=this.graph.getView().getBounds(this.cells),this.pBounds=this.getPreviewBounds(this.cells),this.updatePreview(!0),window.setTimeout(mxUtils.bind(this,function(){this.livePreviewUsed&&(this.setHandlesVisibleForCells(this.cells,!1),this.updatePreview())}),0)}catch(t){this.reset()}}),this.graph.getModel().addListener(mxEvent.CHANGE,this.refreshHandler)}function mxPanningHandler(t){null!=t&&(this.graph=t,this.graph.addMouseListener(this),this.forcePanningHandler=mxUtils.bind(this,function(t,e){var i=e.getProperty("eventName"),n=e.getProperty("event");i==mxEvent.MOUSE_DOWN&&this.isForcePanningEvent(n)&&(this.start(n),this.active=!0,this.fireEvent(new mxEventObject(mxEvent.PAN_START,"event",n)),n.consume())}),this.graph.addListener(mxEvent.FIRE_MOUSE_EVENT,this.forcePanningHandler),this.gestureHandler=mxUtils.bind(this,function(t,e){if(this.isPinchEnabled()){var i=e.getProperty("event");if(mxEvent.isConsumed(i)||"gesturestart"!=i.type?"gestureend"==i.type&&null!=this.initialScale&&(this.initialScale=null):(this.initialScale=this.graph.view.scale,this.active||null==this.mouseDownEvent||(this.start(this.mouseDownEvent),this.mouseDownEvent=null)),null!=this.initialScale){var n=Math.round(this.initialScale*i.scale*100)/100;null!=this.minScale&&(n=Math.max(this.minScale,n)),null!=this.maxScale&&(n=Math.min(this.maxScale,n)),this.graph.view.scale!=n&&(this.graph.zoomTo(n),mxEvent.consume(i))}}}),this.graph.addListener(mxEvent.GESTURE,this.gestureHandler),this.mouseUpListener=mxUtils.bind(this,function(){this.active&&this.reset()}),mxEvent.addListener(document,"mouseup",this.mouseUpListener))}function mxPopupMenuHandler(t,e){null!=t&&(this.graph=t,this.factoryMethod=e,this.graph.addMouseListener(this),this.gestureHandler=mxUtils.bind(this,function(t,e){this.inTolerance=!1}),this.graph.addListener(mxEvent.GESTURE,this.gestureHandler),this.init())}function mxCellMarker(t,e,i,n){mxEventSource.call(this),null!=t&&(this.graph=t,this.validColor=null!=e?e:mxConstants.DEFAULT_VALID_COLOR,this.invalidColor=null!=i?i:mxConstants.DEFAULT_INVALID_COLOR,this.hotspot=null!=n?n:mxConstants.DEFAULT_HOTSPOT,this.highlight=new mxCellHighlight(t))}function mxSelectionCellsHandler(t){mxEventSource.call(this),this.graph=t,this.handlers=new mxDictionary,this.graph.addMouseListener(this),this.refreshHandler=mxUtils.bind(this,function(t,e){this.isEnabled()&&this.refresh()}),this.graph.getSelectionModel().addListener(mxEvent.CHANGE,this.refreshHandler),this.graph.getModel().addListener(mxEvent.CHANGE,this.refreshHandler),this.graph.getView().addListener(mxEvent.SCALE,this.refreshHandler),this.graph.getView().addListener(mxEvent.TRANSLATE,this.refreshHandler),this.graph.getView().addListener(mxEvent.SCALE_AND_TRANSLATE,this.refreshHandler),this.graph.getView().addListener(mxEvent.DOWN,this.refreshHandler),this.graph.getView().addListener(mxEvent.UP,this.refreshHandler)}function mxConnectionHandler(t,e){mxEventSource.call(this),null!=t&&(this.graph=t,this.factoryMethod=e,this.init(),this.escapeHandler=mxUtils.bind(this,function(t,e){this.reset()}),this.graph.addListener(mxEvent.ESCAPE,this.escapeHandler))}function mxConstraintHandler(t){this.graph=t,this.resetHandler=mxUtils.bind(this,function(t,e){null!=this.currentFocus&&null==this.graph.view.getState(this.currentFocus.cell)?this.reset():this.redraw()}),this.graph.model.addListener(mxEvent.CHANGE,this.resetHandler),this.graph.view.addListener(mxEvent.SCALE_AND_TRANSLATE,this.resetHandler),this.graph.view.addListener(mxEvent.TRANSLATE,this.resetHandler),this.graph.view.addListener(mxEvent.SCALE,this.resetHandler),this.graph.addListener(mxEvent.ROOT,this.resetHandler)}function mxRubberband(t){null!=t&&(this.graph=t,this.graph.addMouseListener(this),this.forceRubberbandHandler=mxUtils.bind(this,function(t,e){var i=e.getProperty("eventName"),n=e.getProperty("event");if(i==mxEvent.MOUSE_DOWN&&this.isForceRubberbandEvent(n)){var r=mxUtils.getOffset(this.graph.container),o=mxUtils.getScrollOrigin(this.graph.container);o.x-=r.x,o.y-=r.y,this.start(n.getX()+o.x,n.getY()+o.y),n.consume(!1)}}),this.graph.addListener(mxEvent.FIRE_MOUSE_EVENT,this.forceRubberbandHandler),this.panHandler=mxUtils.bind(this,function(){this.repaint()}),this.graph.addListener(mxEvent.PAN,this.panHandler),this.gestureHandler=mxUtils.bind(this,function(t,e){null!=this.first&&this.reset()}),this.graph.addListener(mxEvent.GESTURE,this.gestureHandler),mxClient.IS_IE&&mxEvent.addListener(window,"unload",mxUtils.bind(this,function(){this.destroy()})))}function mxHandle(t,e,i){this.graph=t.view.graph,this.state=t,this.cursor=null!=e?e:this.cursor,this.image=null!=i?i:this.image,this.init()}function mxVertexHandler(t){null!=t&&(this.state=t,this.init(),this.escapeHandler=mxUtils.bind(this,function(t,e){this.livePreview&&null!=this.index&&(this.state.view.graph.cellRenderer.redraw(this.state,!0),this.state.view.invalidate(this.state.cell),this.state.invalid=!1,this.state.view.validate()),this.reset()}),this.state.view.graph.addListener(mxEvent.ESCAPE,this.escapeHandler))}function mxEdgeHandler(t){null!=t&&(this.state=t,this.init(),this.escapeHandler=mxUtils.bind(this,function(e,i){var n=null!=this.index;this.reset(),n&&this.graph.cellRenderer.redraw(this.state,!1,t.view.isRendering())}),this.state.view.graph.addListener(mxEvent.ESCAPE,this.escapeHandler))}function mxElbowEdgeHandler(t){mxEdgeHandler.call(this,t)}function mxEdgeSegmentHandler(t){mxEdgeHandler.call(this,t)}function mxKeyHandler(t,e){null!=t&&(this.graph=t,this.target=e||document.documentElement,this.normalKeys=[],this.shiftKeys=[],this.controlKeys=[],this.controlShiftKeys=[],this.keydownHandler=mxUtils.bind(this,function(t){this.keyDown(t)}),mxEvent.addListener(this.target,"keydown",this.keydownHandler),mxClient.IS_IE&&mxEvent.addListener(window,"unload",mxUtils.bind(this,function(){this.destroy()})))}function mxTooltipHandler(t,e){null!=t&&(this.graph=t,this.delay=e||500,this.graph.addMouseListener(this))}function mxCellTracker(t,e,i){mxCellMarker.call(this,t,e),this.graph.addMouseListener(this),null!=i&&(this.getCell=i),mxClient.IS_IE&&mxEvent.addListener(window,"unload",mxUtils.bind(this,function(){this.destroy()}))}function mxCellHighlight(t,e,i,n){null!=t&&(this.graph=t,this.highlightColor=null!=e?e:mxConstants.DEFAULT_VALID_COLOR,this.strokeWidth=null!=i?i:mxConstants.HIGHLIGHT_STROKEWIDTH,this.dashed=null!=n&&n,this.opacity=mxConstants.HIGHLIGHT_OPACITY,this.repaintHandler=mxUtils.bind(this,function(){if(null!=this.state){var t=this.graph.view.getState(this.state.cell);null==t?this.hide():(this.state=t,this.repaint())}}),this.graph.getView().addListener(mxEvent.SCALE,this.repaintHandler),this.graph.getView().addListener(mxEvent.TRANSLATE,this.repaintHandler),this.graph.getView().addListener(mxEvent.SCALE_AND_TRANSLATE,this.repaintHandler),this.graph.getModel().addListener(mxEvent.CHANGE,this.repaintHandler),this.resetHandler=mxUtils.bind(this,function(){this.hide()}),this.graph.getView().addListener(mxEvent.DOWN,this.resetHandler),this.graph.getView().addListener(mxEvent.UP,this.resetHandler))}function mxDefaultKeyHandler(t){if(null!=t){this.editor=t,this.handler=new mxKeyHandler(t.graph);var e=this.handler.escape;this.handler.escape=function(i){e.apply(this,arguments),t.hideProperties(),t.fireEvent(new mxEventObject(mxEvent.ESCAPE,"event",i))}}}function mxDefaultPopupMenu(t){this.config=t}function mxDefaultToolbar(t,e){this.editor=e,null!=t&&null!=e&&this.init(t)}function mxEditor(t){this.actions=[],this.addActions(),null!=document.body&&(this.cycleAttributeValues=[],this.popupHandler=new mxDefaultPopupMenu,this.undoManager=new mxUndoManager,this.graph=this.createGraph(),this.toolbar=this.createToolbar(),this.keyHandler=new mxDefaultKeyHandler(this),this.configure(t),this.graph.swimlaneIndicatorColorAttribute=this.cycleAttributeName,null!=this.onInit&&this.onInit(),mxClient.IS_IE&&mxEvent.addListener(window,"unload",mxUtils.bind(this,function(){this.destroy()})))}mxStyleRegistry.putValue(mxConstants.EDGESTYLE_ELBOW,mxEdgeStyle.ElbowConnector),mxStyleRegistry.putValue(mxConstants.EDGESTYLE_ENTITY_RELATION,mxEdgeStyle.EntityRelation),mxStyleRegistry.putValue(mxConstants.EDGESTYLE_LOOP,mxEdgeStyle.Loop),mxStyleRegistry.putValue(mxConstants.EDGESTYLE_SIDETOSIDE,mxEdgeStyle.SideToSide),mxStyleRegistry.putValue(mxConstants.EDGESTYLE_TOPTOBOTTOM,mxEdgeStyle.TopToBottom),mxStyleRegistry.putValue(mxConstants.EDGESTYLE_ORTHOGONAL,mxEdgeStyle.OrthConnector),mxStyleRegistry.putValue(mxConstants.EDGESTYLE_SEGMENT,mxEdgeStyle.SegmentConnector),mxStyleRegistry.putValue(mxConstants.PERIMETER_ELLIPSE,mxPerimeter.EllipsePerimeter),mxStyleRegistry.putValue(mxConstants.PERIMETER_RECTANGLE,mxPerimeter.RectanglePerimeter),mxStyleRegistry.putValue(mxConstants.PERIMETER_RHOMBUS,mxPerimeter.RhombusPerimeter),mxStyleRegistry.putValue(mxConstants.PERIMETER_TRIANGLE,mxPerimeter.TrianglePerimeter),mxStyleRegistry.putValue(mxConstants.PERIMETER_HEXAGON,mxPerimeter.HexagonPerimeter),__mxOutput.mxStyleRegistry=void 0!==mxStyleRegistry?mxStyleRegistry:void 0,mxGraphView.prototype=new mxEventSource,mxGraphView.prototype.constructor=mxGraphView,mxGraphView.prototype.EMPTY_POINT=new mxPoint,mxGraphView.prototype.doneResource="none"!=mxClient.language?"done":"",mxGraphView.prototype.updatingDocumentResource="none"!=mxClient.language?"updatingDocument":"",mxGraphView.prototype.allowEval=!1,mxGraphView.prototype.captureDocumentGesture=!0,mxGraphView.prototype.optimizeVmlReflows=!0,mxGraphView.prototype.rendering=!0,mxGraphView.prototype.graph=null,mxGraphView.prototype.currentRoot=null,mxGraphView.prototype.graphBounds=null,mxGraphView.prototype.scale=1,mxGraphView.prototype.translate=null,mxGraphView.prototype.states=null,mxGraphView.prototype.updateStyle=!1,mxGraphView.prototype.lastNode=null,mxGraphView.prototype.lastHtmlNode=null,mxGraphView.prototype.lastForegroundNode=null,mxGraphView.prototype.lastForegroundHtmlNode=null,mxGraphView.prototype.getGraphBounds=function(){return this.graphBounds},mxGraphView.prototype.setGraphBounds=function(t){this.graphBounds=t},mxGraphView.prototype.getBounds=function(t){var e=null;if(null!=t&&t.length>0)for(var i=this.graph.getModel(),n=0;n<t.length;n++)if(i.isVertex(t[n])||i.isEdge(t[n])){var r=this.getState(t[n]);null!=r&&(null==e?e=mxRectangle.fromRectangle(r):e.add(r))}return e},mxGraphView.prototype.setCurrentRoot=function(t){if(this.currentRoot!=t){var e=new mxCurrentRootChange(this,t);e.execute();var i=new mxUndoableEdit(this,!0);i.add(e),this.fireEvent(new mxEventObject(mxEvent.UNDO,"edit",i)),this.graph.sizeDidChange()}return t},mxGraphView.prototype.scaleAndTranslate=function(t,e,i){var n=this.scale,r=new mxPoint(this.translate.x,this.translate.y);this.scale==t&&this.translate.x==e&&this.translate.y==i||(this.scale=t,this.translate.x=e,this.translate.y=i,this.isEventsEnabled()&&this.viewStateChanged()),this.fireEvent(new mxEventObject(mxEvent.SCALE_AND_TRANSLATE,"scale",t,"previousScale",n,"translate",this.translate,"previousTranslate",r))},mxGraphView.prototype.getScale=function(){return this.scale},mxGraphView.prototype.setScale=function(t){var e=this.scale;this.scale!=t&&(this.scale=t,this.isEventsEnabled()&&this.viewStateChanged()),this.fireEvent(new mxEventObject(mxEvent.SCALE,"scale",t,"previousScale",e))},mxGraphView.prototype.getTranslate=function(){return this.translate},mxGraphView.prototype.setTranslate=function(t,e){var i=new mxPoint(this.translate.x,this.translate.y);this.translate.x==t&&this.translate.y==e||(this.translate.x=t,this.translate.y=e,this.isEventsEnabled()&&this.viewStateChanged()),this.fireEvent(new mxEventObject(mxEvent.TRANSLATE,"translate",this.translate,"previousTranslate",i))},mxGraphView.prototype.viewStateChanged=function(){this.revalidate(),this.graph.sizeDidChange()},mxGraphView.prototype.refresh=function(){null!=this.currentRoot&&this.clear(),this.revalidate()},mxGraphView.prototype.revalidate=function(){this.invalidate(),this.validate()},mxGraphView.prototype.clear=function(t,e,i){var n=this.graph.getModel();if(t=t||n.getRoot(),e=null!=e&&e,i=null==i||i,this.removeState(t),i&&(e||t!=this.currentRoot))for(var r=n.getChildCount(t),o=0;o<r;o++)this.clear(n.getChildAt(t,o),e);else this.invalidate(t)},mxGraphView.prototype.invalidate=function(t,e,i){var n=this.graph.getModel();t=t||n.getRoot(),e=null==e||e,i=null==i||i;var r=this.getState(t);if(null!=r&&(r.invalid=!0),!t.invalidating){if(t.invalidating=!0,e)for(var o=n.getChildCount(t),s=0;s<o;s++){var a=n.getChildAt(t,s);this.invalidate(a,e,i)}if(i){var l=n.getEdgeCount(t);for(s=0;s<l;s++)this.invalidate(n.getEdgeAt(t,s),e,i)}delete t.invalidating}},mxGraphView.prototype.validate=function(t){var e=mxLog.enter("mxGraphView.validate");window.status=mxResources.get(this.updatingDocumentResource)||this.updatingDocumentResource,this.resetValidationState();var i=null;this.optimizeVmlReflows&&null!=this.canvas&&null==this.textDiv&&(8==document.documentMode&&!mxClient.IS_EM||mxClient.IS_QUIRKS)&&(this.placeholder=document.createElement("div"),this.placeholder.style.position="absolute",this.placeholder.style.width=this.canvas.clientWidth+"px",this.placeholder.style.height=this.canvas.clientHeight+"px",this.canvas.parentNode.appendChild(this.placeholder),i=this.drawPane.style.display,this.canvas.style.display="none",this.textDiv=document.createElement("div"),this.textDiv.style.position="absolute",this.textDiv.style.whiteSpace="nowrap",this.textDiv.style.visibility="hidden",this.textDiv.style.display=mxClient.IS_QUIRKS?"inline":"inline-block",this.textDiv.style.zoom="1",document.body.appendChild(this.textDiv));var n=this.getBoundingBox(this.validateCellState(this.validateCell(t||(null!=this.currentRoot?this.currentRoot:this.graph.getModel().getRoot()))));this.setGraphBounds(null!=n?n:this.getEmptyBounds()),this.validateBackground(),null!=i&&(this.canvas.style.display=i,this.textDiv.parentNode.removeChild(this.textDiv),null!=this.placeholder&&this.placeholder.parentNode.removeChild(this.placeholder),this.textDiv=null),this.resetValidationState(),window.status=mxResources.get(this.doneResource)||this.doneResource,mxLog.leave("mxGraphView.validate",e)},mxGraphView.prototype.getEmptyBounds=function(){return new mxRectangle(this.translate.x*this.scale,this.translate.y*this.scale)},mxGraphView.prototype.getBoundingBox=function(t,e){e=null==e||e;var i=null;if(null!=t&&(null!=t.shape&&null!=t.shape.boundingBox&&(i=t.shape.boundingBox.clone()),null!=t.text&&null!=t.text.boundingBox&&(null!=i?i.add(t.text.boundingBox):i=t.text.boundingBox.clone()),e))for(var n=this.graph.getModel(),r=n.getChildCount(t.cell),o=0;o<r;o++){var s=this.getBoundingBox(this.getState(n.getChildAt(t.cell,o)));null!=s&&(null==i?i=s:i.add(s))}return i},mxGraphView.prototype.createBackgroundPageShape=function(t){return new mxRectangleShape(t,"white","black")},mxGraphView.prototype.validateBackground=function(){this.validateBackgroundImage(),this.validateBackgroundPage()},mxGraphView.prototype.validateBackgroundImage=function(){var t=this.graph.getBackgroundImage();if(null!=t){if(null==this.backgroundImage||this.backgroundImage.image!=t.src){null!=this.backgroundImage&&this.backgroundImage.destroy();var e=new mxRectangle(0,0,1,1);this.backgroundImage=new mxImageShape(e,t.src),this.backgroundImage.dialect=this.graph.dialect,this.backgroundImage.init(this.backgroundPane),this.backgroundImage.redraw(),8!=document.documentMode||mxClient.IS_EM||mxEvent.addGestureListeners(this.backgroundImage.node,mxUtils.bind(this,function(t){this.graph.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(t))}),mxUtils.bind(this,function(t){this.graph.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(t))}),mxUtils.bind(this,function(t){this.graph.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(t))}))}this.redrawBackgroundImage(this.backgroundImage,t)}else null!=this.backgroundImage&&(this.backgroundImage.destroy(),this.backgroundImage=null)},mxGraphView.prototype.validateBackgroundPage=function(){if(this.graph.pageVisible){var t=this.getBackgroundPageBounds();null==this.backgroundPageShape?(this.backgroundPageShape=this.createBackgroundPageShape(t),this.backgroundPageShape.scale=this.scale,this.backgroundPageShape.isShadow=!0,this.backgroundPageShape.dialect=this.graph.dialect,this.backgroundPageShape.init(this.backgroundPane),this.backgroundPageShape.redraw(),this.graph.nativeDblClickEnabled&&mxEvent.addListener(this.backgroundPageShape.node,"dblclick",mxUtils.bind(this,function(t){this.graph.dblClick(t)})),mxEvent.addGestureListeners(this.backgroundPageShape.node,mxUtils.bind(this,function(t){this.graph.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(t))}),mxUtils.bind(this,function(t){null!=this.graph.tooltipHandler&&this.graph.tooltipHandler.isHideOnHover()&&this.graph.tooltipHandler.hide(),this.graph.isMouseDown&&!mxEvent.isConsumed(t)&&this.graph.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(t))}),mxUtils.bind(this,function(t){this.graph.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(t))}))):(this.backgroundPageShape.scale=this.scale,this.backgroundPageShape.bounds=t,this.backgroundPageShape.redraw())}else null!=this.backgroundPageShape&&(this.backgroundPageShape.destroy(),this.backgroundPageShape=null)},mxGraphView.prototype.getBackgroundPageBounds=function(){var t=this.graph.pageFormat,e=this.scale*this.graph.pageScale;return new mxRectangle(this.scale*this.translate.x,this.scale*this.translate.y,t.width*e,t.height*e)},mxGraphView.prototype.redrawBackgroundImage=function(t,e){t.scale=this.scale,t.bounds.x=this.scale*this.translate.x,t.bounds.y=this.scale*this.translate.y,t.bounds.width=this.scale*e.width,t.bounds.height=this.scale*e.height,t.redraw()},mxGraphView.prototype.validateCell=function(t,e){if(e=null==e||e,null!=t)if(e=e&&this.graph.isCellVisible(t),null==this.getState(t,e)||e)for(var i=this.graph.getModel(),n=i.getChildCount(t),r=0;r<n;r++)this.validateCell(i.getChildAt(t,r),e&&(!this.isCellCollapsed(t)||t==this.currentRoot));else this.removeState(t);return t},mxGraphView.prototype.validateCellState=function(t,e){e=null==e||e;var i=null;if(null!=t&&null!=(i=this.getState(t))){var n=this.graph.getModel();if(i.invalid&&(i.invalid=!1,(null==i.style||i.invalidStyle)&&(i.style=this.graph.getCellStyle(i.cell),i.invalidStyle=!1),t!=this.currentRoot&&this.validateCellState(n.getParent(t),!1),i.setVisibleTerminalState(this.validateCellState(this.getVisibleTerminal(t,!0),!1),!0),i.setVisibleTerminalState(this.validateCellState(this.getVisibleTerminal(t,!1),!1),!1),this.updateCellState(i),t==this.currentRoot||i.invalid||(this.graph.cellRenderer.redraw(i,!1,this.isRendering()),i.updateCachedBounds())),e&&!i.invalid){null!=i.shape&&this.stateValidated(i);for(var r=n.getChildCount(t),o=0;o<r;o++)this.validateCellState(n.getChildAt(t,o))}}return i},mxGraphView.prototype.updateCellState=function(t){if(t.absoluteOffset.x=0,t.absoluteOffset.y=0,t.origin.x=0,t.origin.y=0,t.length=0,t.cell!=this.currentRoot){var e=this.graph.getModel(),i=this.getState(e.getParent(t.cell));null!=i&&i.cell!=this.currentRoot&&(t.origin.x+=i.origin.x,t.origin.y+=i.origin.y);var n=this.graph.getChildOffsetForCell(t.cell);null!=n&&(t.origin.x+=n.x,t.origin.y+=n.y);var r=this.graph.getCellGeometry(t.cell);if(null!=r){if(!e.isEdge(t.cell))if(n=r.offset||this.EMPTY_POINT,r.relative&&null!=i)if(e.isEdge(i.cell)){var o=this.getPoint(i,r);null!=o&&(t.origin.x+=o.x/this.scale-i.origin.x-this.translate.x,t.origin.y+=o.y/this.scale-i.origin.y-this.translate.y)}else t.origin.x+=r.x*i.width/this.scale+n.x,t.origin.y+=r.y*i.height/this.scale+n.y;else t.absoluteOffset.x=this.scale*n.x,t.absoluteOffset.y=this.scale*n.y,t.origin.x+=r.x,t.origin.y+=r.y;t.x=this.scale*(this.translate.x+t.origin.x),t.y=this.scale*(this.translate.y+t.origin.y),t.width=this.scale*r.width,t.unscaledWidth=r.width,t.height=this.scale*r.height,e.isVertex(t.cell)&&this.updateVertexState(t,r),e.isEdge(t.cell)&&this.updateEdgeState(t,r)}}t.updateCachedBounds()},mxGraphView.prototype.isCellCollapsed=function(t){return this.graph.isCellCollapsed(t)},mxGraphView.prototype.updateVertexState=function(t,e){var i=this.graph.getModel(),n=this.getState(i.getParent(t.cell));if(e.relative&&null!=n&&!i.isEdge(n.cell)){var r=mxUtils.toRadians(n.style[mxConstants.STYLE_ROTATION]||"0");if(0!=r){var o=Math.cos(r),s=Math.sin(r),a=new mxPoint(t.getCenterX(),t.getCenterY()),l=new mxPoint(n.getCenterX(),n.getCenterY()),h=mxUtils.getRotatedPoint(a,o,s,l);t.x=h.x-t.width/2,t.y=h.y-t.height/2}}this.updateVertexLabelOffset(t)},mxGraphView.prototype.updateEdgeState=function(t,e){var i=t.getVisibleTerminalState(!0),n=t.getVisibleTerminalState(!1);if(null!=this.graph.model.getTerminal(t.cell,!0)&&null==i||null==i&&null==e.getTerminalPoint(!0)||null!=this.graph.model.getTerminal(t.cell,!1)&&null==n||null==n&&null==e.getTerminalPoint(!1))this.clear(t.cell,!0);else{this.updateFixedTerminalPoints(t,i,n),this.updatePoints(t,e.points,i,n),this.updateFloatingTerminalPoints(t,i,n);var r=t.absolutePoints;t.cell!=this.currentRoot&&(null==r||r.length<2||null==r[0]||null==r[r.length-1])?this.clear(t.cell,!0):(this.updateEdgeBounds(t),this.updateEdgeLabelOffset(t))}},mxGraphView.prototype.updateVertexLabelOffset=function(t){var e=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_POSITION,mxConstants.ALIGN_CENTER);if(e==mxConstants.ALIGN_LEFT)null!=(i=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_WIDTH,null))?i*=this.scale:i=t.width,t.absoluteOffset.x-=i;else if(e==mxConstants.ALIGN_RIGHT)t.absoluteOffset.x+=t.width;else if(e==mxConstants.ALIGN_CENTER){var i;if(null!=(i=mxUtils.getValue(t.style,mxConstants.STYLE_LABEL_WIDTH,null))){var n=mxUtils.getValue(t.style,mxConstants.STYLE_ALIGN,mxConstants.ALIGN_CENTER),r=0;n==mxConstants.ALIGN_CENTER?r=.5:n==mxConstants.ALIGN_RIGHT&&(r=1),0!=r&&(t.absoluteOffset.x-=(i*this.scale-t.width)*r)}}var o=mxUtils.getValue(t.style,mxConstants.STYLE_VERTICAL_LABEL_POSITION,mxConstants.ALIGN_MIDDLE);o==mxConstants.ALIGN_TOP?t.absoluteOffset.y-=t.height:o==mxConstants.ALIGN_BOTTOM&&(t.absoluteOffset.y+=t.height)},mxGraphView.prototype.resetValidationState=function(){this.lastNode=null,this.lastHtmlNode=null,this.lastForegroundNode=null,this.lastForegroundHtmlNode=null},mxGraphView.prototype.stateValidated=function(t){var e=this.graph.getModel().isEdge(t.cell)&&this.graph.keepEdgesInForeground||this.graph.getModel().isVertex(t.cell)&&this.graph.keepEdgesInBackground,i=e&&this.lastForegroundHtmlNode||this.lastHtmlNode,n=e&&this.lastForegroundNode||this.lastNode,r=this.graph.cellRenderer.insertStateAfter(t,n,i);e?(this.lastForegroundHtmlNode=r[1],this.lastForegroundNode=r[0]):(this.lastHtmlNode=r[1],this.lastNode=r[0])},mxGraphView.prototype.updateFixedTerminalPoints=function(t,e,i){this.updateFixedTerminalPoint(t,e,!0,this.graph.getConnectionConstraint(t,e,!0)),this.updateFixedTerminalPoint(t,i,!1,this.graph.getConnectionConstraint(t,i,!1))},mxGraphView.prototype.updateFixedTerminalPoint=function(t,e,i,n){t.setAbsoluteTerminalPoint(this.getFixedTerminalPoint(t,e,i,n),i)},mxGraphView.prototype.getFixedTerminalPoint=function(t,e,i,n){var r=null;if(null!=n&&(r=this.graph.getConnectionPoint(e,n,this.graph.isOrthogonal(t))),null==r&&null==e){var o=this.scale,s=this.translate,a=t.origin;null!=(r=this.graph.getCellGeometry(t.cell).getTerminalPoint(i))&&(r=new mxPoint(o*(s.x+r.x+a.x),o*(s.y+r.y+a.y)))}return r},mxGraphView.prototype.updateBoundsFromStencil=function(t){var e=null;if(null!=t&&null!=t.shape&&null!=t.shape.stencil&&"fixed"==t.shape.stencil.aspect){e=mxRectangle.fromRectangle(t);var i=t.shape.stencil.computeAspect(t.style,t.x,t.y,t.width,t.height);t.setRect(i.x,i.y,t.shape.stencil.w0*i.width,t.shape.stencil.h0*i.height)}return e},mxGraphView.prototype.updatePoints=function(t,e,i,n){if(null!=t){var r=[];r.push(t.absolutePoints[0]);var o=this.getEdgeStyle(t,e,i,n);if(null!=o){var s=this.getTerminalPort(t,i,!0),a=this.getTerminalPort(t,n,!1),l=this.updateBoundsFromStencil(s),h=this.updateBoundsFromStencil(a);o(t,s,a,e,r),null!=l&&s.setRect(l.x,l.y,l.width,l.height),null!=h&&a.setRect(h.x,h.y,h.width,h.height)}else if(null!=e)for(var u=0;u<e.length;u++)if(null!=e[u]){var c=mxUtils.clone(e[u]);r.push(this.transformControlPoint(t,c))}var d=t.absolutePoints;r.push(d[d.length-1]),t.absolutePoints=r}},mxGraphView.prototype.transformControlPoint=function(t,e){if(null!=t&&null!=e){var i=t.origin;return new mxPoint(this.scale*(e.x+this.translate.x+i.x),this.scale*(e.y+this.translate.y+i.y))}return null},mxGraphView.prototype.isLoopStyleEnabled=function(t,e,i,n){var r=this.graph.getConnectionConstraint(t,i,!0),o=this.graph.getConnectionConstraint(t,n,!1);return!(!(null==e||e.length<2)||mxUtils.getValue(t.style,mxConstants.STYLE_ORTHOGONAL_LOOP,!1)&&(null!=r&&null!=r.point||null!=o&&null!=o.point))&&(null!=i&&i==n)},mxGraphView.prototype.getEdgeStyle=function(t,e,i,n){var r=this.isLoopStyleEnabled(t,e,i,n)?mxUtils.getValue(t.style,mxConstants.STYLE_LOOP,this.graph.defaultLoopStyle):mxUtils.getValue(t.style,mxConstants.STYLE_NOEDGESTYLE,!1)?null:t.style[mxConstants.STYLE_EDGE];if("string"==typeof r){var o=mxStyleRegistry.getValue(r);null==o&&this.isAllowEval()&&(o=mxUtils.eval(r)),r=o}return"function"==typeof r?r:null},mxGraphView.prototype.updateFloatingTerminalPoints=function(t,e,i){var n=t.absolutePoints,r=n[0];null==n[n.length-1]&&null!=i&&this.updateFloatingTerminalPoint(t,i,e,!1),null==r&&null!=e&&this.updateFloatingTerminalPoint(t,e,i,!0)},mxGraphView.prototype.updateFloatingTerminalPoint=function(t,e,i,n){t.setAbsoluteTerminalPoint(this.getFloatingTerminalPoint(t,e,i,n),n)},mxGraphView.prototype.getFloatingTerminalPoint=function(t,e,i,n){e=this.getTerminalPort(t,e,n);var r=this.getNextPoint(t,i,n),o=this.graph.isOrthogonal(t),s=mxUtils.toRadians(Number(e.style[mxConstants.STYLE_ROTATION]||"0")),a=new mxPoint(e.getCenterX(),e.getCenterY());if(0!=s){var l=Math.cos(-s),h=Math.sin(-s);r=mxUtils.getRotatedPoint(r,l,h,a)}var u=parseFloat(t.style[mxConstants.STYLE_PERIMETER_SPACING]||0);u+=parseFloat(t.style[n?mxConstants.STYLE_SOURCE_PERIMETER_SPACING:mxConstants.STYLE_TARGET_PERIMETER_SPACING]||0);var c=this.getPerimeterPoint(e,r,0==s&&o,u);if(0!=s){l=Math.cos(s),h=Math.sin(s);c=mxUtils.getRotatedPoint(c,l,h,a)}return c},mxGraphView.prototype.getTerminalPort=function(t,e,i){var n=i?mxConstants.STYLE_SOURCE_PORT:mxConstants.STYLE_TARGET_PORT,r=mxUtils.getValue(t.style,n);if(null!=r){var o=this.getState(this.graph.getModel().getCell(r));null!=o&&(e=o)}return e},mxGraphView.prototype.getPerimeterPoint=function(t,e,i,n){var r=null;if(null!=t){var o=this.getPerimeterFunction(t);if(null!=o&&null!=e){var s=this.getPerimeterBounds(t,n);if(s.width>0||s.height>0){r=new mxPoint(e.x,e.y);var a=!1,l=!1;this.graph.model.isVertex(t.cell)&&(a=1==mxUtils.getValue(t.style,mxConstants.STYLE_FLIPH,0),l=1==mxUtils.getValue(t.style,mxConstants.STYLE_FLIPV,0),null!=t.shape&&null!=t.shape.stencil&&(a=1==mxUtils.getValue(t.style,"stencilFlipH",0)||a,l=1==mxUtils.getValue(t.style,"stencilFlipV",0)||l),a&&(r.x=2*s.getCenterX()-r.x),l&&(r.y=2*s.getCenterY()-r.y)),null!=(r=o(s,t,r,i))&&(a&&(r.x=2*s.getCenterX()-r.x),l&&(r.y=2*s.getCenterY()-r.y))}}null==r&&(r=this.getPoint(t))}return r},mxGraphView.prototype.getRoutingCenterX=function(t){var e=null!=t.style&&parseFloat(t.style[mxConstants.STYLE_ROUTING_CENTER_X])||0;return t.getCenterX()+e*t.width},mxGraphView.prototype.getRoutingCenterY=function(t){var e=null!=t.style&&parseFloat(t.style[mxConstants.STYLE_ROUTING_CENTER_Y])||0;return t.getCenterY()+e*t.height},mxGraphView.prototype.getPerimeterBounds=function(t,e){return e=null!=e?e:0,null!=t&&(e+=parseFloat(t.style[mxConstants.STYLE_PERIMETER_SPACING]||0)),t.getPerimeterBounds(e*this.scale)},mxGraphView.prototype.getPerimeterFunction=function(t){var e=t.style[mxConstants.STYLE_PERIMETER];if("string"==typeof e){var i=mxStyleRegistry.getValue(e);null==i&&this.isAllowEval()&&(i=mxUtils.eval(e)),e=i}return"function"==typeof e?e:null},mxGraphView.prototype.getNextPoint=function(t,e,i){var n=t.absolutePoints,r=null;if(null!=n&&n.length>=2){var o=n.length;r=n[i?Math.min(1,o-1):Math.max(0,o-2)]}return null==r&&null!=e&&(r=new mxPoint(e.getCenterX(),e.getCenterY())),r},mxGraphView.prototype.getVisibleTerminal=function(t,e){for(var i=this.graph.getModel(),n=i.getTerminal(t,e),r=n;null!=n&&n!=this.currentRoot;)this.graph.isCellVisible(r)&&!this.isCellCollapsed(n)||(r=n),n=i.getParent(n);return null==r||i.contains(r)&&i.getParent(r)!=i.getRoot()&&r!=this.currentRoot||(r=null),r},mxGraphView.prototype.updateEdgeBounds=function(t){var e=t.absolutePoints,i=e[0],n=e[e.length-1];if(i.x!=n.x||i.y!=n.y){var r=n.x-i.x,o=n.y-i.y;t.terminalDistance=Math.sqrt(r*r+o*o)}else t.terminalDistance=0;var s=0,a=[],l=i;if(null!=l){for(var h=l.x,u=l.y,c=h,d=u,p=1;p<e.length;p++){var f=e[p];if(null!=f){r=l.x-f.x,o=l.y-f.y;var m=Math.sqrt(r*r+o*o);a.push(m),s+=m,l=f,h=Math.min(l.x,h),u=Math.min(l.y,u),c=Math.max(l.x,c),d=Math.max(l.y,d)}}t.length=s,t.segments=a;t.x=h,t.y=u,t.width=Math.max(1,c-h),t.height=Math.max(1,d-u)}},mxGraphView.prototype.getPoint=function(t,e){var i=t.getCenterX(),n=t.getCenterY();if(null==t.segments||null!=e&&!e.relative){if(null!=e){null!=(p=e.offset)&&(i+=p.x,n+=p.y)}}else{for(var r=null!=e?e.x/2:0,o=t.absolutePoints.length,s=Math.round((r+.5)*t.length),a=t.segments[0],l=0,h=1;s>=Math.round(l+a)&&h<o-1;)l+=a,a=t.segments[h++];var u=0==a?0:(s-l)/a,c=t.absolutePoints[h-1],d=t.absolutePoints[h];if(null!=c&&null!=d){var p,f=0,m=0,g=0;if(null!=e)f=e.y,null!=(p=e.offset)&&(m=p.x,g=p.y);var v=d.x-c.x,A=d.y-c.y,y=0==a?0:A/a,x=0==a?0:v/a;i=c.x+v*u+(y*f+m)*this.scale,n=c.y+A*u-(x*f-g)*this.scale}}return new mxPoint(i,n)},mxGraphView.prototype.getRelativePoint=function(t,e,i){var n=this.graph.getModel().getGeometry(t.cell);if(null!=n){var r=t.absolutePoints.length;if(n.relative&&r>1){for(var o=t.length,s=t.segments,a=t.absolutePoints[0],l=t.absolutePoints[1],h=mxUtils.ptSegDistSq(a.x,a.y,l.x,l.y,e,i),u=0,c=0,d=0,p=2;p<r;p++){c+=s[p-2],l=t.absolutePoints[p];var f=mxUtils.ptSegDistSq(a.x,a.y,l.x,l.y,e,i);f<=h&&(h=f,u=p-1,d=c),a=l}var m=s[u];a=t.absolutePoints[u],l=t.absolutePoints[u+1];var g=a.x,v=a.y,A=l.x,y=l.y,x=e,b=i,C=g-A,w=v-y,E=0,S=(x=C-(x-=A))*C+(b=w-(b-=y))*w;E=S<=0?0:S*S/(C*C+w*w);var T=Math.sqrt(E);T>m&&(T=m);var _=Math.sqrt(mxUtils.ptSegDistSq(a.x,a.y,l.x,l.y,e,i));return-1==mxUtils.relativeCcw(a.x,a.y,l.x,l.y,e,i)&&(_=-_),new mxPoint((o/2-d-T)/o*-2,_/this.scale)}}return new mxPoint},mxGraphView.prototype.updateEdgeLabelOffset=function(t){var e=t.absolutePoints;if(t.absoluteOffset.x=t.getCenterX(),t.absoluteOffset.y=t.getCenterY(),null!=e&&e.length>0&&null!=t.segments){var i=this.graph.getCellGeometry(t.cell);if(i.relative){var n=this.getPoint(t,i);null!=n&&(t.absoluteOffset=n)}else{var r=e[0],o=e[e.length-1];if(null!=r&&null!=o){var s=o.x-r.x,a=o.y-r.y,l=0,h=0,u=i.offset;null!=u&&(l=u.x,h=u.y);var c=r.x+s/2+l*this.scale,d=r.y+a/2+h*this.scale;t.absoluteOffset.x=c,t.absoluteOffset.y=d}}}},mxGraphView.prototype.getState=function(t,e){e=e||!1;var i=null;return null!=t&&(i=this.states.get(t),e&&(null==i||this.updateStyle)&&this.graph.isCellVisible(t)&&(null==i?(i=this.createState(t),this.states.put(t,i)):i.style=this.graph.getCellStyle(t))),i},mxGraphView.prototype.isRendering=function(){return this.rendering},mxGraphView.prototype.setRendering=function(t){this.rendering=t},mxGraphView.prototype.isAllowEval=function(){return this.allowEval},mxGraphView.prototype.setAllowEval=function(t){this.allowEval=t},mxGraphView.prototype.getStates=function(){return this.states},mxGraphView.prototype.setStates=function(t){this.states=t},mxGraphView.prototype.getCellStates=function(t){if(null==t)return this.states;for(var e=[],i=0;i<t.length;i++){var n=this.getState(t[i]);null!=n&&e.push(n)}return e},mxGraphView.prototype.removeState=function(t){var e=null;return null!=t&&null!=(e=this.states.remove(t))&&(this.graph.cellRenderer.destroy(e),e.invalid=!0,e.destroy()),e},mxGraphView.prototype.createState=function(t){return new mxCellState(this,t,this.graph.getCellStyle(t))},mxGraphView.prototype.getCanvas=function(){return this.canvas},mxGraphView.prototype.getBackgroundPane=function(){return this.backgroundPane},mxGraphView.prototype.getDrawPane=function(){return this.drawPane},mxGraphView.prototype.getOverlayPane=function(){return this.overlayPane},mxGraphView.prototype.getDecoratorPane=function(){return this.decoratorPane},mxGraphView.prototype.isContainerEvent=function(t){var e=mxEvent.getSource(t);return e==this.graph.container||e.parentNode==this.backgroundPane||null!=e.parentNode&&e.parentNode.parentNode==this.backgroundPane||e==this.canvas.parentNode||e==this.canvas||e==this.backgroundPane||e==this.drawPane||e==this.overlayPane||e==this.decoratorPane},mxGraphView.prototype.isScrollEvent=function(t){var e=mxUtils.getOffset(this.graph.container),i=new mxPoint(t.clientX-e.x,t.clientY-e.y),n=this.graph.container.offsetWidth,r=this.graph.container.clientWidth;if(n>r&&i.x>r+2&&i.x<=n)return!0;var o=this.graph.container.offsetHeight,s=this.graph.container.clientHeight;return o>s&&i.y>s+2&&i.y<=o},mxGraphView.prototype.init=function(){this.installListeners();var t=this.graph;t.dialect==mxConstants.DIALECT_SVG?this.createSvg():t.dialect==mxConstants.DIALECT_VML?this.createVml():this.createHtml()},mxGraphView.prototype.installListeners=function(){var t=this.graph,e=t.container;if(null!=e){mxClient.IS_TOUCH&&(mxEvent.addListener(e,"gesturestart",mxUtils.bind(this,function(e){t.fireGestureEvent(e),mxEvent.consume(e)})),mxEvent.addListener(e,"gesturechange",mxUtils.bind(this,function(e){t.fireGestureEvent(e),mxEvent.consume(e)})),mxEvent.addListener(e,"gestureend",mxUtils.bind(this,function(e){t.fireGestureEvent(e),mxEvent.consume(e)}))),mxEvent.addGestureListeners(e,mxUtils.bind(this,function(e){!this.isContainerEvent(e)||(mxClient.IS_IE||mxClient.IS_IE11||mxClient.IS_GC||mxClient.IS_OP||mxClient.IS_SF)&&this.isScrollEvent(e)||t.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(e))}),mxUtils.bind(this,function(e){this.isContainerEvent(e)&&t.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(e))}),mxUtils.bind(this,function(e){this.isContainerEvent(e)&&t.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(e))})),mxEvent.addListener(e,"dblclick",mxUtils.bind(this,function(e){this.isContainerEvent(e)&&t.dblClick(e)}));t.addMouseListener({mouseDown:function(e,i){t.popupMenuHandler.hideMenu()},mouseMove:function(){},mouseUp:function(){}}),this.moveHandler=mxUtils.bind(this,function(i){null!=t.tooltipHandler&&t.tooltipHandler.isHideOnHover()&&t.tooltipHandler.hide(),this.captureDocumentGesture&&t.isMouseDown&&null!=t.container&&!this.isContainerEvent(i)&&"none"!=t.container.style.display&&"hidden"!=t.container.style.visibility&&!mxEvent.isConsumed(i)&&t.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(i,function(i){var n=null;if(mxClient.IS_TOUCH){var r=mxEvent.getClientX(i),o=mxEvent.getClientY(i),s=mxUtils.convertPoint(e,r,o);n=t.view.getState(t.getCellAt(s.x,s.y))}return n}(i)))}),this.endHandler=mxUtils.bind(this,function(e){this.captureDocumentGesture&&t.isMouseDown&&null!=t.container&&!this.isContainerEvent(e)&&"none"!=t.container.style.display&&"hidden"!=t.container.style.visibility&&t.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(e))}),mxEvent.addGestureListeners(document,null,this.moveHandler,this.endHandler)}},mxGraphView.prototype.createHtml=function(){var t=this.graph.container;if(null!=t&&(this.canvas=this.createHtmlPane("100%","100%"),this.canvas.style.overflow="hidden",this.backgroundPane=this.createHtmlPane("1px","1px"),this.drawPane=this.createHtmlPane("1px","1px"),this.overlayPane=this.createHtmlPane("1px","1px"),this.decoratorPane=this.createHtmlPane("1px","1px"),this.canvas.appendChild(this.backgroundPane),this.canvas.appendChild(this.drawPane),this.canvas.appendChild(this.overlayPane),this.canvas.appendChild(this.decoratorPane),t.appendChild(this.canvas),this.updateContainerStyle(t),mxClient.IS_QUIRKS)){var e=mxUtils.bind(this,function(t){var e=this.getGraphBounds(),i=e.x+e.width+this.graph.border,n=e.y+e.height+this.graph.border;this.updateHtmlCanvasSize(i,n)});mxEvent.addListener(window,"resize",e)}},mxGraphView.prototype.updateHtmlCanvasSize=function(t,e){if(null!=this.graph.container){var i=this.graph.container.offsetWidth,n=this.graph.container.offsetHeight;this.canvas.style.width=i<t?t+"px":"100%",this.canvas.style.height=n<e?e+"px":"100%"}},mxGraphView.prototype.createHtmlPane=function(t,e){var i=document.createElement("DIV");return null!=t&&null!=e?(i.style.position="absolute",i.style.left="0px",i.style.top="0px",i.style.width=t,i.style.height=e):i.style.position="relative",i},mxGraphView.prototype.createVml=function(){var t=this.graph.container;if(null!=t){var e=t.offsetWidth,i=t.offsetHeight;this.canvas=this.createVmlPane(e,i),this.canvas.style.overflow="hidden",this.backgroundPane=this.createVmlPane(e,i),this.drawPane=this.createVmlPane(e,i),this.overlayPane=this.createVmlPane(e,i),this.decoratorPane=this.createVmlPane(e,i),this.canvas.appendChild(this.backgroundPane),this.canvas.appendChild(this.drawPane),this.canvas.appendChild(this.overlayPane),this.canvas.appendChild(this.decoratorPane),t.appendChild(this.canvas)}},mxGraphView.prototype.createVmlPane=function(t,e){var i=document.createElement(mxClient.VML_PREFIX+":group");return i.style.position="absolute",i.style.left="0px",i.style.top="0px",i.style.width=t+"px",i.style.height=e+"px",i.setAttribute("coordsize",t+","+e),i.setAttribute("coordorigin","0,0"),i},mxGraphView.prototype.createSvg=function(){var t=this.graph.container;this.canvas=document.createElementNS(mxConstants.NS_SVG,"g"),this.backgroundPane=document.createElementNS(mxConstants.NS_SVG,"g"),this.canvas.appendChild(this.backgroundPane),this.drawPane=document.createElementNS(mxConstants.NS_SVG,"g"),this.canvas.appendChild(this.drawPane),this.overlayPane=document.createElementNS(mxConstants.NS_SVG,"g"),this.canvas.appendChild(this.overlayPane),this.decoratorPane=document.createElementNS(mxConstants.NS_SVG,"g"),this.canvas.appendChild(this.decoratorPane);var e=document.createElementNS(mxConstants.NS_SVG,"svg");e.style.left="0px",e.style.top="0px",e.style.width="100%",e.style.height="100%",e.style.display="block",e.appendChild(this.canvas),(mxClient.IS_IE||mxClient.IS_IE11)&&(e.style.overflow="hidden"),null!=t&&(t.appendChild(e),this.updateContainerStyle(t))},mxGraphView.prototype.updateContainerStyle=function(t){var e=mxUtils.getCurrentStyle(t);null!=e&&"static"==e.position&&(t.style.position="relative"),mxClient.IS_POINTER&&(t.style.touchAction="none")},mxGraphView.prototype.destroy=function(){var t=null!=this.canvas?this.canvas.ownerSVGElement:null;null==t&&(t=this.canvas),null!=t&&null!=t.parentNode&&(this.clear(this.currentRoot,!0),mxEvent.removeGestureListeners(document,null,this.moveHandler,this.endHandler),mxEvent.release(this.graph.container),t.parentNode.removeChild(t),this.moveHandler=null,this.endHandler=null,this.canvas=null,this.backgroundPane=null,this.drawPane=null,this.overlayPane=null,this.decoratorPane=null)},mxCurrentRootChange.prototype.execute=function(){var t=this.view.currentRoot;this.view.currentRoot=this.previous,this.previous=t;var e=this.view.graph.getTranslateForRoot(this.view.currentRoot);null!=e&&(this.view.translate=new mxPoint(-e.x,-e.y)),this.isUp?(this.view.clear(this.view.currentRoot,!0),this.view.validate()):this.view.refresh();var i=this.isUp?mxEvent.UP:mxEvent.DOWN;this.view.fireEvent(new mxEventObject(i,"root",this.view.currentRoot,"previous",this.previous)),this.isUp=!this.isUp},__mxOutput.mxGraphView=void 0!==mxGraphView?mxGraphView:void 0,mxLoadResources?mxResources.add(mxClient.basePath+"/resources/graph"):mxClient.defaultBundles.push(mxClient.basePath+"/resources/graph"),mxGraph.prototype=new mxEventSource,mxGraph.prototype.constructor=mxGraph,mxGraph.prototype.mouseListeners=null,mxGraph.prototype.isMouseDown=!1,mxGraph.prototype.model=null,mxGraph.prototype.view=null,mxGraph.prototype.stylesheet=null,mxGraph.prototype.selectionModel=null,mxGraph.prototype.cellEditor=null,mxGraph.prototype.cellRenderer=null,mxGraph.prototype.multiplicities=null,mxGraph.prototype.renderHint=null,mxGraph.prototype.dialect=null,mxGraph.prototype.gridSize=10,mxGraph.prototype.gridEnabled=!0,mxGraph.prototype.portsEnabled=!0,mxGraph.prototype.nativeDblClickEnabled=!0,mxGraph.prototype.doubleTapEnabled=!0,mxGraph.prototype.doubleTapTimeout=500,mxGraph.prototype.doubleTapTolerance=25,mxGraph.prototype.lastTouchY=0,mxGraph.prototype.lastTouchY=0,mxGraph.prototype.lastTouchTime=0,mxGraph.prototype.tapAndHoldEnabled=!0,mxGraph.prototype.tapAndHoldDelay=500,mxGraph.prototype.tapAndHoldInProgress=!1,mxGraph.prototype.tapAndHoldValid=!1,mxGraph.prototype.initialTouchX=0,mxGraph.prototype.initialTouchY=0,mxGraph.prototype.tolerance=4,mxGraph.prototype.defaultOverlap=.5,mxGraph.prototype.defaultParent=null,mxGraph.prototype.alternateEdgeStyle=null,mxGraph.prototype.backgroundImage=null,mxGraph.prototype.pageVisible=!1,mxGraph.prototype.pageBreaksVisible=!1,mxGraph.prototype.pageBreakColor="gray",mxGraph.prototype.pageBreakDashed=!0,mxGraph.prototype.minPageBreakDist=20,mxGraph.prototype.preferPageSize=!1,mxGraph.prototype.pageFormat=mxConstants.PAGE_FORMAT_A4_PORTRAIT,mxGraph.prototype.pageScale=1.5,mxGraph.prototype.enabled=!0,mxGraph.prototype.escapeEnabled=!0,mxGraph.prototype.invokesStopCellEditing=!0,mxGraph.prototype.enterStopsCellEditing=!1,mxGraph.prototype.useScrollbarsForPanning=!0,mxGraph.prototype.exportEnabled=!0,mxGraph.prototype.importEnabled=!0,mxGraph.prototype.cellsLocked=!1,mxGraph.prototype.cellsCloneable=!0,mxGraph.prototype.foldingEnabled=!0,mxGraph.prototype.cellsEditable=!0,mxGraph.prototype.cellsDeletable=!0,mxGraph.prototype.cellsMovable=!0,mxGraph.prototype.edgeLabelsMovable=!0,mxGraph.prototype.vertexLabelsMovable=!1,mxGraph.prototype.dropEnabled=!1,mxGraph.prototype.splitEnabled=!0,mxGraph.prototype.cellsResizable=!0,mxGraph.prototype.cellsBendable=!0,mxGraph.prototype.cellsSelectable=!0,mxGraph.prototype.cellsDisconnectable=!0,mxGraph.prototype.autoSizeCells=!1,mxGraph.prototype.autoSizeCellsOnAdd=!1,mxGraph.prototype.autoScroll=!0,mxGraph.prototype.ignoreScrollbars=!1,mxGraph.prototype.translateToScrollPosition=!1,mxGraph.prototype.timerAutoScroll=!1,mxGraph.prototype.allowAutoPanning=!1,mxGraph.prototype.autoExtend=!0,mxGraph.prototype.maximumGraphBounds=null,mxGraph.prototype.minimumGraphSize=null,mxGraph.prototype.minimumContainerSize=null,mxGraph.prototype.maximumContainerSize=null,mxGraph.prototype.resizeContainer=!1,mxGraph.prototype.border=0,mxGraph.prototype.keepEdgesInForeground=!1,mxGraph.prototype.keepEdgesInBackground=!1,mxGraph.prototype.allowNegativeCoordinates=!0,mxGraph.prototype.constrainChildren=!0,mxGraph.prototype.constrainRelativeChildren=!1,mxGraph.prototype.extendParents=!0,mxGraph.prototype.extendParentsOnAdd=!0,mxGraph.prototype.extendParentsOnMove=!1,mxGraph.prototype.recursiveResize=!1,mxGraph.prototype.collapseToPreferredSize=!0,mxGraph.prototype.zoomFactor=1.2,mxGraph.prototype.keepSelectionVisibleOnZoom=!1,mxGraph.prototype.centerZoom=!0,mxGraph.prototype.resetViewOnRootChange=!0,mxGraph.prototype.resetEdgesOnResize=!1,mxGraph.prototype.resetEdgesOnMove=!1,mxGraph.prototype.resetEdgesOnConnect=!0,mxGraph.prototype.allowLoops=!1,mxGraph.prototype.defaultLoopStyle=mxEdgeStyle.Loop,mxGraph.prototype.multigraph=!0,mxGraph.prototype.connectableEdges=!1,mxGraph.prototype.allowDanglingEdges=!0,mxGraph.prototype.cloneInvalidEdges=!1,mxGraph.prototype.disconnectOnMove=!0,mxGraph.prototype.labelsVisible=!0,mxGraph.prototype.htmlLabels=!1,mxGraph.prototype.swimlaneSelectionEnabled=!0,mxGraph.prototype.swimlaneNesting=!0,mxGraph.prototype.swimlaneIndicatorColorAttribute=mxConstants.STYLE_FILLCOLOR,mxGraph.prototype.imageBundles=null,mxGraph.prototype.minFitScale=.1,mxGraph.prototype.maxFitScale=8,mxGraph.prototype.panDx=0,mxGraph.prototype.panDy=0,mxGraph.prototype.collapsedImage=new mxImage(mxClient.imageBasePath+"/collapsed.gif",9,9),mxGraph.prototype.expandedImage=new mxImage(mxClient.imageBasePath+"/expanded.gif",9,9),mxGraph.prototype.warningImage=new mxImage(mxClient.imageBasePath+"/warning"+(mxClient.IS_MAC?".png":".gif"),16,16),mxGraph.prototype.alreadyConnectedResource="none"!=mxClient.language?"alreadyConnected":"",mxGraph.prototype.containsValidationErrorsResource="none"!=mxClient.language?"containsValidationErrors":"",mxGraph.prototype.collapseExpandResource="none"!=mxClient.language?"collapse-expand":"",mxGraph.prototype.init=function(t){this.container=t,this.cellEditor=this.createCellEditor(),this.view.init(),this.sizeDidChange(),mxEvent.addListener(t,"mouseleave",mxUtils.bind(this,function(){null!=this.tooltipHandler&&this.tooltipHandler.hide()})),mxClient.IS_IE&&(mxEvent.addListener(window,"unload",mxUtils.bind(this,function(){this.destroy()})),mxEvent.addListener(t,"selectstart",mxUtils.bind(this,function(t){return this.isEditing()||!this.isMouseDown&&!mxEvent.isShiftDown(t)}))),8==document.documentMode&&t.insertAdjacentHTML("beforeend","<"+mxClient.VML_PREFIX+':group style="DISPLAY: none;"></'+mxClient.VML_PREFIX+":group>")},mxGraph.prototype.createHandlers=function(){this.tooltipHandler=this.createTooltipHandler(),this.tooltipHandler.setEnabled(!1),this.selectionCellsHandler=this.createSelectionCellsHandler(),this.connectionHandler=this.createConnectionHandler(),this.connectionHandler.setEnabled(!1),this.graphHandler=this.createGraphHandler(),this.panningHandler=this.createPanningHandler(),this.panningHandler.panningEnabled=!1,this.popupMenuHandler=this.createPopupMenuHandler()},mxGraph.prototype.createTooltipHandler=function(){return new mxTooltipHandler(this)},mxGraph.prototype.createSelectionCellsHandler=function(){return new mxSelectionCellsHandler(this)},mxGraph.prototype.createConnectionHandler=function(){return new mxConnectionHandler(this)},mxGraph.prototype.createGraphHandler=function(){return new mxGraphHandler(this)},mxGraph.prototype.createPanningHandler=function(){return new mxPanningHandler(this)},mxGraph.prototype.createPopupMenuHandler=function(){return new mxPopupMenuHandler(this)},mxGraph.prototype.createSelectionModel=function(){return new mxGraphSelectionModel(this)},mxGraph.prototype.createStylesheet=function(){return new mxStylesheet},mxGraph.prototype.createGraphView=function(){return new mxGraphView(this)},mxGraph.prototype.createCellRenderer=function(){return new mxCellRenderer},mxGraph.prototype.createCellEditor=function(){return new mxCellEditor(this)},mxGraph.prototype.getModel=function(){return this.model},mxGraph.prototype.getView=function(){return this.view},mxGraph.prototype.getStylesheet=function(){return this.stylesheet},mxGraph.prototype.setStylesheet=function(t){this.stylesheet=t},mxGraph.prototype.getSelectionModel=function(){return this.selectionModel},mxGraph.prototype.setSelectionModel=function(t){this.selectionModel=t},mxGraph.prototype.getSelectionCellsForChanges=function(t){for(var e=new mxDictionary,i=[],n=mxUtils.bind(this,function(t){if(!e.get(t)&&this.model.contains(t))if(this.model.isEdge(t)||this.model.isVertex(t))e.put(t,!0),i.push(t);else for(var r=this.model.getChildCount(t),o=0;o<r;o++)n(this.model.getChildAt(t,o))}),r=0;r<t.length;r++){var o=t[r];if(o.constructor!=mxRootChange){var s=null;o instanceof mxChildChange?s=o.child:null!=o.cell&&o.cell instanceof mxCell&&(s=o.cell),null!=s&&n(s)}}return i},mxGraph.prototype.graphModelChanged=function(t){for(var e=0;e<t.length;e++)this.processChange(t[e]);this.updateSelection(),this.view.validate(),this.sizeDidChange()},mxGraph.prototype.updateSelection=function(){for(var t=this.getSelectionCells(),e=[],i=0;i<t.length;i++)if(this.model.contains(t[i])&&this.isCellVisible(t[i]))for(var n=this.model.getParent(t[i]);null!=n&&n!=this.view.currentRoot;){if(this.isCellCollapsed(n)||!this.isCellVisible(n)){e.push(t[i]);break}n=this.model.getParent(n)}else e.push(t[i]);this.removeSelectionCells(e)},mxGraph.prototype.processChange=function(t){if(t instanceof mxRootChange)this.clearSelection(),this.setDefaultParent(null),this.removeStateForCell(t.previous),this.resetViewOnRootChange&&(this.view.scale=1,this.view.translate.x=0,this.view.translate.y=0),this.fireEvent(new mxEventObject(mxEvent.ROOT));else if(t instanceof mxChildChange){var e=this.model.getParent(t.child);this.view.invalidate(t.child,!0,!0),this.model.contains(e)&&!this.isCellCollapsed(e)||(this.view.invalidate(t.child,!0,!0),this.removeStateForCell(t.child),this.view.currentRoot==t.child&&this.home()),e!=t.previous&&(null!=e&&this.view.invalidate(e,!1,!1),null!=t.previous&&this.view.invalidate(t.previous,!1,!1))}else if(t instanceof mxTerminalChange||t instanceof mxGeometryChange)(t instanceof mxTerminalChange||null==t.previous&&null!=t.geometry||null!=t.previous&&!t.previous.equals(t.geometry))&&this.view.invalidate(t.cell);else if(t instanceof mxValueChange)this.view.invalidate(t.cell,!1,!1);else if(t instanceof mxStyleChange){this.view.invalidate(t.cell,!0,!0);var i=this.view.getState(t.cell);null!=i&&(i.invalidStyle=!0)}else null!=t.cell&&t.cell instanceof mxCell&&this.removeStateForCell(t.cell)},mxGraph.prototype.removeStateForCell=function(t){for(var e=this.model.getChildCount(t),i=0;i<e;i++)this.removeStateForCell(this.model.getChildAt(t,i));this.view.invalidate(t,!1,!0),this.view.removeState(t)},mxGraph.prototype.addCellOverlay=function(t,e){null==t.overlays&&(t.overlays=[]),t.overlays.push(e);var i=this.view.getState(t);return null!=i&&this.cellRenderer.redraw(i),this.fireEvent(new mxEventObject(mxEvent.ADD_OVERLAY,"cell",t,"overlay",e)),e},mxGraph.prototype.getCellOverlays=function(t){return t.overlays},mxGraph.prototype.removeCellOverlay=function(t,e){if(null==e)this.removeCellOverlays(t);else{var i=mxUtils.indexOf(t.overlays,e);if(i>=0){t.overlays.splice(i,1),0==t.overlays.length&&(t.overlays=null);var n=this.view.getState(t);null!=n&&this.cellRenderer.redraw(n),this.fireEvent(new mxEventObject(mxEvent.REMOVE_OVERLAY,"cell",t,"overlay",e))}else e=null}return e},mxGraph.prototype.removeCellOverlays=function(t){var e=t.overlays;if(null!=e){t.overlays=null;var i=this.view.getState(t);null!=i&&this.cellRenderer.redraw(i);for(var n=0;n<e.length;n++)this.fireEvent(new mxEventObject(mxEvent.REMOVE_OVERLAY,"cell",t,"overlay",e[n]))}return e},mxGraph.prototype.clearCellOverlays=function(t){t=null!=t?t:this.model.getRoot(),this.removeCellOverlays(t);for(var e=this.model.getChildCount(t),i=0;i<e;i++){var n=this.model.getChildAt(t,i);this.clearCellOverlays(n)}},mxGraph.prototype.setCellWarning=function(t,e,i,n){if(null!=e&&e.length>0){var r=new mxCellOverlay(i=null!=i?i:this.warningImage,"<font color=red>"+e+"</font>");return n&&r.addListener(mxEvent.CLICK,mxUtils.bind(this,function(e,i){this.isEnabled()&&this.setSelectionCell(t)})),this.addCellOverlay(t,r)}return this.removeCellOverlays(t),null},mxGraph.prototype.startEditing=function(t){this.startEditingAtCell(null,t)},mxGraph.prototype.startEditingAtCell=function(t,e){null!=e&&mxEvent.isMultiTouchEvent(e)||(null==t&&(null==(t=this.getSelectionCell())||this.isCellEditable(t)||(t=null)),null!=t&&(this.fireEvent(new mxEventObject(mxEvent.START_EDITING,"cell",t,"event",e)),this.cellEditor.startEditing(t,e),this.fireEvent(new mxEventObject(mxEvent.EDITING_STARTED,"cell",t,"event",e))))},mxGraph.prototype.getEditingValue=function(t,e){return this.convertValueToString(t)},mxGraph.prototype.stopEditing=function(t){this.cellEditor.stopEditing(t),this.fireEvent(new mxEventObject(mxEvent.EDITING_STOPPED,"cancel",t))},mxGraph.prototype.labelChanged=function(t,e,i){this.model.beginUpdate();try{var n=t.value;this.cellLabelChanged(t,e,this.isAutoSizeCell(t)),this.fireEvent(new mxEventObject(mxEvent.LABEL_CHANGED,"cell",t,"value",e,"old",n,"event",i))}finally{this.model.endUpdate()}return t},mxGraph.prototype.cellLabelChanged=function(t,e,i){this.model.beginUpdate();try{this.model.setValue(t,e),i&&this.cellSizeUpdated(t,!1)}finally{this.model.endUpdate()}},mxGraph.prototype.escape=function(t){this.fireEvent(new mxEventObject(mxEvent.ESCAPE,"event",t))},mxGraph.prototype.click=function(t){var e=t.getEvent(),i=t.getCell(),n=new mxEventObject(mxEvent.CLICK,"event",e,"cell",i);if(t.isConsumed()&&n.consume(),this.fireEvent(n),this.isEnabled()&&!mxEvent.isConsumed(e)&&!n.isConsumed())if(null!=i){if(this.isTransparentClickEvent(e)){var r=!1,o=this.getCellAt(t.graphX,t.graphY,null,null,null,mxUtils.bind(this,function(t){var e=this.isCellSelected(t.cell);return!(r=r||e)||e}));null!=o&&(i=o)}this.selectCellForEvent(i,e)}else{var s=null;this.isSwimlaneSelectionEnabled()&&(s=this.getSwimlaneAt(t.getGraphX(),t.getGraphY())),null!=s?this.selectCellForEvent(s,e):this.isToggleEvent(e)||this.clearSelection()}},mxGraph.prototype.dblClick=function(t,e){var i=new mxEventObject(mxEvent.DOUBLE_CLICK,"event",t,"cell",e);this.fireEvent(i),!this.isEnabled()||mxEvent.isConsumed(t)||i.isConsumed()||null==e||!this.isCellEditable(e)||this.isEditing(e)||(this.startEditingAtCell(e,t),mxEvent.consume(t))},mxGraph.prototype.tapAndHold=function(t){var e=t.getEvent(),i=new mxEventObject(mxEvent.TAP_AND_HOLD,"event",e,"cell",t.getCell());if(this.fireEvent(i),i.isConsumed()&&(this.panningHandler.panningTrigger=!1),this.isEnabled()&&!mxEvent.isConsumed(e)&&!i.isConsumed()&&this.connectionHandler.isEnabled()){var n=this.view.getState(this.connectionHandler.marker.getCell(t));null!=n&&(this.connectionHandler.marker.currentColor=this.connectionHandler.marker.validColor,this.connectionHandler.marker.markedState=n,this.connectionHandler.marker.mark(),this.connectionHandler.first=new mxPoint(t.getGraphX(),t.getGraphY()),this.connectionHandler.edgeState=this.connectionHandler.createEdgeState(t),this.connectionHandler.previous=n,this.connectionHandler.fireEvent(new mxEventObject(mxEvent.START,"state",this.connectionHandler.previous)))}},mxGraph.prototype.scrollPointToVisible=function(t,e,i,n){if(this.timerAutoScroll||!this.ignoreScrollbars&&!mxUtils.hasScrollbars(this.container))this.allowAutoPanning&&!this.panningHandler.isActive()&&(null==this.panningManager&&(this.panningManager=this.createPanningManager()),this.panningManager.panTo(t+this.panDx,e+this.panDy));else{var r=this.container;if(n=null!=n?n:20,t>=r.scrollLeft&&e>=r.scrollTop&&t<=r.scrollLeft+r.clientWidth&&e<=r.scrollTop+r.clientHeight){var o=r.scrollLeft+r.clientWidth-t;if(o<n){var s=r.scrollLeft;if(r.scrollLeft+=n-o,i&&s==r.scrollLeft){if(this.dialect==mxConstants.DIALECT_SVG){var a=this.view.getDrawPane().ownerSVGElement,l=this.container.scrollWidth+n-o;a.style.width=l+"px"}else{l=Math.max(r.clientWidth,r.scrollWidth)+n-o;this.view.getCanvas().style.width=l+"px"}r.scrollLeft+=n-o}}else(o=t-r.scrollLeft)<n&&(r.scrollLeft-=n-o);var h=r.scrollTop+r.clientHeight-e;if(h<n){s=r.scrollTop;if(r.scrollTop+=n-h,s==r.scrollTop&&i){if(this.dialect==mxConstants.DIALECT_SVG){a=this.view.getDrawPane().ownerSVGElement;var u=this.container.scrollHeight+n-h;a.style.height=u+"px"}else{u=Math.max(r.clientHeight,r.scrollHeight)+n-h;this.view.getCanvas().style.height=u+"px"}r.scrollTop+=n-h}}else(h=e-r.scrollTop)<n&&(r.scrollTop-=n-h)}}},mxGraph.prototype.createPanningManager=function(){return new mxPanningManager(this)},mxGraph.prototype.getBorderSizes=function(){var t=mxUtils.getCurrentStyle(this.container);return new mxRectangle(mxUtils.parseCssNumber(t.paddingLeft)+("none"!=t.borderLeftStyle?mxUtils.parseCssNumber(t.borderLeftWidth):0),mxUtils.parseCssNumber(t.paddingTop)+("none"!=t.borderTopStyle?mxUtils.parseCssNumber(t.borderTopWidth):0),mxUtils.parseCssNumber(t.paddingRight)+("none"!=t.borderRightStyle?mxUtils.parseCssNumber(t.borderRightWidth):0),mxUtils.parseCssNumber(t.paddingBottom)+("none"!=t.borderBottomStyle?mxUtils.parseCssNumber(t.borderBottomWidth):0))},mxGraph.prototype.getPreferredPageSize=function(t,e,i){this.view.scale;var n=this.view.translate,r=this.pageFormat,o=this.pageScale,s=new mxRectangle(0,0,Math.ceil(r.width*o),Math.ceil(r.height*o)),a=this.pageBreaksVisible?Math.ceil(e/s.width):1,l=this.pageBreaksVisible?Math.ceil(i/s.height):1;return new mxRectangle(0,0,a*s.width+2+n.x,l*s.height+2+n.y)},mxGraph.prototype.fit=function(t,e,i,n,r,o,s){if(null!=this.container){t=null!=t?t:this.getBorder(),e=null!=e&&e,i=null!=i?i:0,n=null==n||n,r=null!=r&&r,o=null!=o&&o;var a=this.getBorderSizes(),l=this.container.offsetWidth-a.x-a.width-1,h=null!=s?s:this.container.offsetHeight-a.y-a.height-1,u=this.view.getGraphBounds();if(u.width>0&&u.height>0){e&&null!=u.x&&null!=u.y&&((u=u.clone()).width+=u.x,u.height+=u.y,u.x=0,u.y=0);var c=this.view.scale,d=u.width/c,p=u.height/c;null!=this.backgroundImage&&(d=Math.max(d,this.backgroundImage.width-u.x/c),p=Math.max(p,this.backgroundImage.height-u.y/c));var f=(e?t:2*t)+i+1;l-=f,h-=f;var m=r?h/p:o?l/d:Math.min(l/d,h/p);if(null!=this.minFitScale&&(m=Math.max(m,this.minFitScale)),null!=this.maxFitScale&&(m=Math.min(m,this.maxFitScale)),!n)return m;if(e)this.view.scale!=m&&this.view.setScale(m);else if(mxUtils.hasScrollbars(this.container)){this.view.setScale(m);var g=this.getGraphBounds();null!=g.x&&(this.container.scrollLeft=g.x),null!=g.y&&(this.container.scrollTop=g.y)}else{var v=null!=u.x?Math.floor(this.view.translate.x-u.x/c+t/m+i/2):t,A=null!=u.y?Math.floor(this.view.translate.y-u.y/c+t/m+i/2):t;this.view.scaleAndTranslate(m,v,A)}}}return this.view.scale},mxGraph.prototype.sizeDidChange=function(){var t=this.getGraphBounds();if(null!=this.container){var e=this.getBorder(),i=Math.max(0,t.x+t.width+e),n=Math.max(0,t.y+t.height+e);if(null!=this.minimumContainerSize&&(i=Math.max(i,this.minimumContainerSize.width),n=Math.max(n,this.minimumContainerSize.height)),this.resizeContainer&&this.doResizeContainer(i,n),this.preferPageSize||!mxClient.IS_IE&&this.pageVisible){var r=this.getPreferredPageSize(t,Math.max(1,i),Math.max(1,n));null!=r&&(i=r.width*this.view.scale,n=r.height*this.view.scale)}if(null!=this.minimumGraphSize&&(i=Math.max(i,this.minimumGraphSize.width*this.view.scale),n=Math.max(n,this.minimumGraphSize.height*this.view.scale)),i=Math.ceil(i),n=Math.ceil(n),this.dialect==mxConstants.DIALECT_SVG){var o=this.view.getDrawPane().ownerSVGElement;null!=o&&(o.style.minWidth=Math.max(1,i)+"px",o.style.minHeight=Math.max(1,n)+"px",o.style.width="100%",o.style.height="100%")}else mxClient.IS_QUIRKS?this.view.updateHtmlCanvasSize(Math.max(1,i),Math.max(1,n)):(this.view.canvas.style.minWidth=Math.max(1,i)+"px",this.view.canvas.style.minHeight=Math.max(1,n)+"px");this.updatePageBreaks(this.pageBreaksVisible,i,n)}this.fireEvent(new mxEventObject(mxEvent.SIZE,"bounds",t))},mxGraph.prototype.doResizeContainer=function(t,e){null!=this.maximumContainerSize&&(t=Math.min(this.maximumContainerSize.width,t),e=Math.min(this.maximumContainerSize.height,e)),this.container.style.width=Math.ceil(t)+"px",this.container.style.height=Math.ceil(e)+"px"},mxGraph.prototype.updatePageBreaks=function(t,e,i){var n=this.view.scale,r=this.view.translate,o=this.pageFormat,s=n*this.pageScale,a=new mxRectangle(0,0,o.width*s,o.height*s),l=mxRectangle.fromRectangle(this.getGraphBounds());l.width=Math.max(1,l.width),l.height=Math.max(1,l.height),a.x=Math.floor((l.x-r.x*n)/a.width)*a.width+r.x*n,a.y=Math.floor((l.y-r.y*n)/a.height)*a.height+r.y*n,l.width=Math.ceil((l.width+(l.x-a.x))/a.width)*a.width,l.height=Math.ceil((l.height+(l.y-a.y))/a.height)*a.height;var h=(t=t&&Math.min(a.width,a.height)>this.minPageBreakDist)?Math.ceil(l.height/a.height)+1:0,u=t?Math.ceil(l.width/a.width)+1:0,c=(u-1)*a.width,d=(h-1)*a.height;null==this.horizontalPageBreaks&&h>0&&(this.horizontalPageBreaks=[]),null==this.verticalPageBreaks&&u>0&&(this.verticalPageBreaks=[]);var p=mxUtils.bind(this,function(t){if(null!=t){for(var e=t==this.horizontalPageBreaks?h:u,i=0;i<=e;i++){var n=t==this.horizontalPageBreaks?[new mxPoint(Math.round(a.x),Math.round(a.y+i*a.height)),new mxPoint(Math.round(a.x+c),Math.round(a.y+i*a.height))]:[new mxPoint(Math.round(a.x+i*a.width),Math.round(a.y)),new mxPoint(Math.round(a.x+i*a.width),Math.round(a.y+d))];if(null!=t[i])t[i].points=n,t[i].redraw();else{var r=new mxPolyline(n,this.pageBreakColor);r.dialect=this.dialect,r.pointerEvents=!1,r.isDashed=this.pageBreakDashed,r.init(this.view.backgroundPane),r.redraw(),t[i]=r}}for(i=e;i<t.length;i++)t[i].destroy();t.splice(e,t.length-e)}});p(this.horizontalPageBreaks),p(this.verticalPageBreaks)},mxGraph.prototype.getCellStyle=function(t){var e=this.model.getStyle(t),i=null;return i=this.model.isEdge(t)?this.stylesheet.getDefaultEdgeStyle():this.stylesheet.getDefaultVertexStyle(),null!=e&&(i=this.postProcessCellStyle(this.stylesheet.getCellStyle(e,i))),null==i&&(i=new Object),i},mxGraph.prototype.postProcessCellStyle=function(t){if(null!=t){var e=t[mxConstants.STYLE_IMAGE],i=this.getImageFromBundles(e);if(null!=i?t[mxConstants.STYLE_IMAGE]=i:i=e,null!=i&&"data:image/"==i.substring(0,11)){if("data:image/svg+xml,<"==i.substring(0,20))i=i.substring(0,19)+encodeURIComponent(i.substring(19));else if("data:image/svg+xml,%3C"!=i.substring(0,22)){var n=i.indexOf(",");n>0&&";base64,"!=i.substring(n-7,n+1)&&(i=i.substring(0,n)+";base64,"+i.substring(n+1))}t[mxConstants.STYLE_IMAGE]=i}}return t},mxGraph.prototype.setCellStyle=function(t,e){if(null!=(e=e||this.getSelectionCells())){this.model.beginUpdate();try{for(var i=0;i<e.length;i++)this.model.setStyle(e[i],t)}finally{this.model.endUpdate()}}},mxGraph.prototype.toggleCellStyle=function(t,e,i){return i=i||this.getSelectionCell(),this.toggleCellStyles(t,e,[i])},mxGraph.prototype.toggleCellStyles=function(t,e,i){e=null!=e&&e;var n=null;if(null!=(i=i||this.getSelectionCells())&&i.length>0){var r=this.view.getState(i[0]),o=null!=r?r.style:this.getCellStyle(i[0]);null!=o&&(n=mxUtils.getValue(o,t,e)?0:1,this.setCellStyles(t,n,i))}return n},mxGraph.prototype.setCellStyles=function(t,e,i){i=i||this.getSelectionCells(),mxUtils.setCellStyles(this.model,i,t,e)},mxGraph.prototype.toggleCellStyleFlags=function(t,e,i){this.setCellStyleFlags(t,e,null,i)},mxGraph.prototype.setCellStyleFlags=function(t,e,i,n){if(null!=(n=n||this.getSelectionCells())&&n.length>0){if(null==i){var r=this.view.getState(n[0]),o=null!=r?r.style:this.getCellStyle(n[0]);if(null!=o)i=!((parseInt(o[t]||0)&e)==e)}mxUtils.setCellStyleFlags(this.model,n,t,e,i)}},mxGraph.prototype.alignCells=function(t,e,i){if(null==e&&(e=this.getSelectionCells()),null!=e&&e.length>1){if(null==i)for(var n=0;n<e.length;n++){if(null!=(o=this.view.getState(e[n]))&&!this.model.isEdge(e[n]))if(null==i){if(t==mxConstants.ALIGN_CENTER){i=o.x+o.width/2;break}if(t==mxConstants.ALIGN_RIGHT)i=o.x+o.width;else if(t==mxConstants.ALIGN_TOP)i=o.y;else{if(t==mxConstants.ALIGN_MIDDLE){i=o.y+o.height/2;break}i=t==mxConstants.ALIGN_BOTTOM?o.y+o.height:o.x}}else i=t==mxConstants.ALIGN_RIGHT?Math.max(i,o.x+o.width):t==mxConstants.ALIGN_TOP?Math.min(i,o.y):t==mxConstants.ALIGN_BOTTOM?Math.max(i,o.y+o.height):Math.min(i,o.x)}if(null!=i){var r=this.view.scale;this.model.beginUpdate();try{for(n=0;n<e.length;n++){var o;if(null!=(o=this.view.getState(e[n]))){var s=this.getCellGeometry(e[n]);null==s||this.model.isEdge(e[n])||(s=s.clone(),t==mxConstants.ALIGN_CENTER?s.x+=(i-o.x-o.width/2)/r:t==mxConstants.ALIGN_RIGHT?s.x+=(i-o.x-o.width)/r:t==mxConstants.ALIGN_TOP?s.y+=(i-o.y)/r:t==mxConstants.ALIGN_MIDDLE?s.y+=(i-o.y-o.height/2)/r:t==mxConstants.ALIGN_BOTTOM?s.y+=(i-o.y-o.height)/r:s.x+=(i-o.x)/r,this.resizeCell(e[n],s))}}this.fireEvent(new mxEventObject(mxEvent.ALIGN_CELLS,"align",t,"cells",e))}finally{this.model.endUpdate()}}}return e},mxGraph.prototype.flipEdge=function(t){if(null!=t&&null!=this.alternateEdgeStyle){this.model.beginUpdate();try{var e=this.model.getStyle(t);null==e||0==e.length?this.model.setStyle(t,this.alternateEdgeStyle):this.model.setStyle(t,null),this.resetEdge(t),this.fireEvent(new mxEventObject(mxEvent.FLIP_EDGE,"edge",t))}finally{this.model.endUpdate()}}return t},mxGraph.prototype.addImageBundle=function(t){this.imageBundles.push(t)},mxGraph.prototype.removeImageBundle=function(t){for(var e=[],i=0;i<this.imageBundles.length;i++)this.imageBundles[i]!=t&&e.push(this.imageBundles[i]);this.imageBundles=e},mxGraph.prototype.getImageFromBundles=function(t){if(null!=t)for(var e=0;e<this.imageBundles.length;e++){var i=this.imageBundles[e].getImage(t);if(null!=i)return i}return null},mxGraph.prototype.orderCells=function(t,e){null==e&&(e=mxUtils.sortCells(this.getSelectionCells(),!0)),this.model.beginUpdate();try{this.cellsOrdered(e,t),this.fireEvent(new mxEventObject(mxEvent.ORDER_CELLS,"back",t,"cells",e))}finally{this.model.endUpdate()}return e},mxGraph.prototype.cellsOrdered=function(t,e){if(null!=t){this.model.beginUpdate();try{for(var i=0;i<t.length;i++){var n=this.model.getParent(t[i]);e?this.model.add(n,t[i],i):this.model.add(n,t[i],this.model.getChildCount(n)-1)}this.fireEvent(new mxEventObject(mxEvent.CELLS_ORDERED,"back",e,"cells",t))}finally{this.model.endUpdate()}}},mxGraph.prototype.groupCells=function(t,e,i){null==i&&(i=mxUtils.sortCells(this.getSelectionCells(),!0)),i=this.getCellsForGroup(i),null==t&&(t=this.createGroupCell(i));var n=this.getBoundsForGroup(t,i,e);if(i.length>0&&null!=n){var r=this.model.getParent(t);null==r&&(r=this.model.getParent(i[0])),this.model.beginUpdate();try{null==this.getCellGeometry(t)&&this.model.setGeometry(t,new mxGeometry);var o=this.model.getChildCount(r);this.cellsAdded([t],r,o,null,null,!1,!1,!1),o=this.model.getChildCount(t),this.cellsAdded(i,t,o,null,null,!1,!1,!1),this.cellsMoved(i,-n.x,-n.y,!1,!1,!1),this.cellsResized([t],[n],!1),this.fireEvent(new mxEventObject(mxEvent.GROUP_CELLS,"group",t,"border",e,"cells",i))}finally{this.model.endUpdate()}}return t},mxGraph.prototype.getCellsForGroup=function(t){var e=[];if(null!=t&&t.length>0){var i=this.model.getParent(t[0]);e.push(t[0]);for(var n=1;n<t.length;n++)this.model.getParent(t[n])==i&&e.push(t[n])}return e},mxGraph.prototype.getBoundsForGroup=function(t,e,i){var n=this.getBoundingBoxFromGeometry(e,!0);if(null!=n){if(this.isSwimlane(t)){var r=this.getStartSize(t);n.x-=r.width,n.y-=r.height,n.width+=r.width,n.height+=r.height}null!=i&&(n.x-=i,n.y-=i,n.width+=2*i,n.height+=2*i)}return n},mxGraph.prototype.createGroupCell=function(t){var e=new mxCell("");return e.setVertex(!0),e.setConnectable(!1),e},mxGraph.prototype.ungroupCells=function(t){var e=[];if(null==t){t=this.getSelectionCells();for(var i=[],n=0;n<t.length;n++)this.model.getChildCount(t[n])>0&&i.push(t[n]);t=i}if(null!=t&&t.length>0){this.model.beginUpdate();try{for(n=0;n<t.length;n++){var r=this.model.getChildren(t[n]);if(null!=r&&r.length>0){r=r.slice();var o=this.model.getParent(t[n]),s=this.model.getChildCount(o);this.cellsAdded(r,o,s,null,null,!0),e=e.concat(r)}}this.removeCellsAfterUngroup(t),this.fireEvent(new mxEventObject(mxEvent.UNGROUP_CELLS,"cells",t))}finally{this.model.endUpdate()}}return e},mxGraph.prototype.removeCellsAfterUngroup=function(t){this.cellsRemoved(this.addAllEdges(t))},mxGraph.prototype.removeCellsFromParent=function(t){null==t&&(t=this.getSelectionCells()),this.model.beginUpdate();try{var e=this.getDefaultParent(),i=this.model.getChildCount(e);this.cellsAdded(t,e,i,null,null,!0),this.fireEvent(new mxEventObject(mxEvent.REMOVE_CELLS_FROM_PARENT,"cells",t))}finally{this.model.endUpdate()}return t},mxGraph.prototype.updateGroupBounds=function(t,e,i,n,r,o,s){null==t&&(t=this.getSelectionCells()),e=null!=e?e:0,i=null!=i&&i,n=null!=n?n:0,r=null!=r?r:0,o=null!=o?o:0,s=null!=s?s:0,this.model.beginUpdate();try{for(var a=t.length-1;a>=0;a--){var l=this.getCellGeometry(t[a]);if(null!=l){var h=this.getChildCells(t[a]);if(null!=h&&h.length>0){var u=this.getBoundingBoxFromGeometry(h,!0);if(null!=u&&u.width>0&&u.height>0){var c=0,d=0;if(this.isSwimlane(t[a])){var p=this.getStartSize(t[a]);c=p.width,d=p.height}l=l.clone(),i&&(l.x=Math.round(l.x+u.x-e-c-s),l.y=Math.round(l.y+u.y-e-d-n)),l.width=Math.round(u.width+2*e+c+s+r),l.height=Math.round(u.height+2*e+d+n+o),this.model.setGeometry(t[a],l),this.moveCells(h,e+c-u.x+s,e+d-u.y+n)}}}}}finally{this.model.endUpdate()}return t},mxGraph.prototype.getBoundingBox=function(t){var e=null;if(null!=t&&t.length>0)for(var i=0;i<t.length;i++)if(this.model.isVertex(t[i])||this.model.isEdge(t[i])){var n=this.view.getBoundingBox(this.view.getState(t[i]),!0);null!=n&&(null==e?e=mxRectangle.fromRectangle(n):e.add(n))}return e},mxGraph.prototype.cloneCell=function(t,e,i,n){return this.cloneCells([t],e,i,n)[0]},mxGraph.prototype.cloneCells=function(t,e,i,n){e=null==e||e;var r=null;if(null!=t){for(var o=new mxDictionary,s=[],a=0;a<t.length;a++)o.put(t[a],!0),s.push(t[a]);if(s.length>0){var l=this.view.scale,h=this.view.translate;r=this.model.cloneCells(t,!0,i);for(a=0;a<t.length;a++)if(!e&&this.model.isEdge(r[a])&&null!=this.getEdgeValidationError(r[a],this.model.getTerminal(r[a],!0),this.model.getTerminal(r[a],!1)))r[a]=null;else{var u=this.model.getGeometry(r[a]);if(null!=u){var c=this.view.getState(t[a]),d=this.view.getState(this.model.getParent(t[a]));if(null!=c&&null!=d){var p=n?0:d.origin.x,f=n?0:d.origin.y;if(this.model.isEdge(r[a])){var m=c.absolutePoints;if(null!=m){for(var g=this.model.getTerminal(t[a],!0);null!=g&&!o.get(g);)g=this.model.getParent(g);null==g&&null!=m[0]&&u.setTerminalPoint(new mxPoint(m[0].x/l-h.x,m[0].y/l-h.y),!0);for(var v=this.model.getTerminal(t[a],!1);null!=v&&!o.get(v);)v=this.model.getParent(v);var A=m.length-1;null==v&&null!=m[A]&&u.setTerminalPoint(new mxPoint(m[A].x/l-h.x,m[A].y/l-h.y),!1);var y=u.points;if(null!=y)for(var x=0;x<y.length;x++)y[x].x+=p,y[x].y+=f}}else u.translate(p,f)}}}}else r=[]}return r},mxGraph.prototype.insertVertex=function(t,e,i,n,r,o,s,a,l){var h=this.createVertex(t,e,i,n,r,o,s,a,l);return this.addCell(h,t)},mxGraph.prototype.createVertex=function(t,e,i,n,r,o,s,a,l){var h=new mxGeometry(n,r,o,s);h.relative=null!=l&&l;var u=new mxCell(i,h,a);return u.setId(e),u.setVertex(!0),u.setConnectable(!0),u},mxGraph.prototype.insertEdge=function(t,e,i,n,r,o){var s=this.createEdge(t,e,i,n,r,o);return this.addEdge(s,t,n,r)},mxGraph.prototype.createEdge=function(t,e,i,n,r,o){var s=new mxCell(i,new mxGeometry,o);return s.setId(e),s.setEdge(!0),s.geometry.relative=!0,s},mxGraph.prototype.addEdge=function(t,e,i,n,r){return this.addCell(t,e,r,i,n)},mxGraph.prototype.addCell=function(t,e,i,n,r){return this.addCells([t],e,i,n,r)[0]},mxGraph.prototype.addCells=function(t,e,i,n,r){null==e&&(e=this.getDefaultParent()),null==i&&(i=this.model.getChildCount(e)),this.model.beginUpdate();try{this.cellsAdded(t,e,i,n,r,!1,!0),this.fireEvent(new mxEventObject(mxEvent.ADD_CELLS,"cells",t,"parent",e,"index",i,"source",n,"target",r))}finally{this.model.endUpdate()}return t},mxGraph.prototype.cellsAdded=function(t,e,i,n,r,o,s,a){if(null!=t&&null!=e&&null!=i){this.model.beginUpdate();try{for(var l=o?this.view.getState(e):null,h=null!=l?l.origin:null,u=new mxPoint(0,0),c=0;c<t.length;c++)if(null==t[c])i--;else{var d=this.model.getParent(t[c]);if(null!=h&&t[c]!=e&&e!=d){var p=this.view.getState(d),f=null!=p?p.origin:u,m=this.model.getGeometry(t[c]);if(null!=m){var g=f.x-h.x,v=f.y-h.y;(m=m.clone()).translate(g,v),m.relative||!this.model.isVertex(t[c])||this.isAllowNegativeCoordinates()||(m.x=Math.max(0,m.x),m.y=Math.max(0,m.y)),this.model.setGeometry(t[c],m)}}e==d&&i+c>this.model.getChildCount(e)&&i--,this.model.add(e,t[c],i+c),this.autoSizeCellsOnAdd&&this.autoSizeCell(t[c],!0),(null==a||a)&&this.isExtendParentsOnAdd(t[c])&&this.isExtendParent(t[c])&&this.extendParent(t[c]),(null==s||s)&&this.constrainChild(t[c]),null!=n&&this.cellConnected(t[c],n,!0),null!=r&&this.cellConnected(t[c],r,!1)}this.fireEvent(new mxEventObject(mxEvent.CELLS_ADDED,"cells",t,"parent",e,"index",i,"source",n,"target",r,"absolute",o))}finally{this.model.endUpdate()}}},mxGraph.prototype.autoSizeCell=function(t,e){if(e=null==e||e)for(var i=this.model.getChildCount(t),n=0;n<i;n++)this.autoSizeCell(this.model.getChildAt(t,n));this.getModel().isVertex(t)&&this.isAutoSizeCell(t)&&this.updateCellSize(t)},mxGraph.prototype.removeCells=function(t,e){if(e=null==e||e,null==t&&(t=this.getDeletableCells(this.getSelectionCells())),e)t=this.getDeletableCells(this.addAllEdges(t));else{t=t.slice();for(var i=this.getDeletableCells(this.getAllEdges(t)),n=new mxDictionary,r=0;r<t.length;r++)n.put(t[r],!0);for(r=0;r<i.length;r++)null!=this.view.getState(i[r])||n.get(i[r])||(n.put(i[r],!0),t.push(i[r]))}this.model.beginUpdate();try{this.cellsRemoved(t),this.fireEvent(new mxEventObject(mxEvent.REMOVE_CELLS,"cells",t,"includeEdges",e))}finally{this.model.endUpdate()}return t},mxGraph.prototype.cellsRemoved=function(t){if(null!=t&&t.length>0){var e=this.view.scale,i=this.view.translate;this.model.beginUpdate();try{for(var n=new mxDictionary,r=0;r<t.length;r++)n.put(t[r],!0);for(r=0;r<t.length;r++){for(var o=this.getAllEdges([t[r]]),s=mxUtils.bind(this,function(n,o){var s=this.model.getGeometry(n);if(null!=s){for(var a=this.model.getTerminal(n,o),l=!1,h=a;null!=h;){if(t[r]==h){l=!0;break}h=this.model.getParent(h)}if(l){s=s.clone();var u=this.view.getState(n);if(null!=u&&null!=u.absolutePoints){var c=u.absolutePoints,d=o?0:c.length-1;s.setTerminalPoint(new mxPoint(c[d].x/e-i.x-u.origin.x,c[d].y/e-i.y-u.origin.y),o)}else{var p=this.view.getState(a);null!=p&&s.setTerminalPoint(new mxPoint(p.getCenterX()/e-i.x,p.getCenterY()/e-i.y),o)}this.model.setGeometry(n,s),this.model.setTerminal(n,null,o)}}}),a=0;a<o.length;a++)n.get(o[a])||(n.put(o[a],!0),s(o[a],!0),s(o[a],!1));this.model.remove(t[r])}this.fireEvent(new mxEventObject(mxEvent.CELLS_REMOVED,"cells",t))}finally{this.model.endUpdate()}}},mxGraph.prototype.splitEdge=function(t,e,i,n,r){n=n||0,r=r||0;var o=this.model.getParent(t),s=this.model.getTerminal(t,!0);this.model.beginUpdate();try{if(null==i){i=this.cloneCell(t);var a=this.view.getState(t),l=this.getCellGeometry(i);if(null!=l&&null!=l.points&&null!=a){var h=this.view.translate,u=this.view.scale,c=mxUtils.findNearestSegment(a,(n+h.x)*u,(r+h.y)*u);l.points=l.points.slice(0,c),null!=(l=this.getCellGeometry(t))&&null!=l.points&&((l=l.clone()).points=l.points.slice(c),this.model.setGeometry(t,l))}}this.cellsMoved(e,n,r,!1,!1),this.cellsAdded(e,o,this.model.getChildCount(o),null,null,!0),this.cellsAdded([i],o,this.model.getChildCount(o),s,e[0],!1),this.cellConnected(t,e[0],!0),this.fireEvent(new mxEventObject(mxEvent.SPLIT_EDGE,"edge",t,"cells",e,"newEdge",i,"dx",n,"dy",r))}finally{this.model.endUpdate()}return i},mxGraph.prototype.toggleCells=function(t,e,i){null==e&&(e=this.getSelectionCells()),i&&(e=this.addAllEdges(e)),this.model.beginUpdate();try{this.cellsToggled(e,t),this.fireEvent(new mxEventObject(mxEvent.TOGGLE_CELLS,"show",t,"cells",e,"includeEdges",i))}finally{this.model.endUpdate()}return e},mxGraph.prototype.cellsToggled=function(t,e){if(null!=t&&t.length>0){this.model.beginUpdate();try{for(var i=0;i<t.length;i++)this.model.setVisible(t[i],e)}finally{this.model.endUpdate()}}},mxGraph.prototype.foldCells=function(t,e,i,n,r){e=null!=e&&e,null==i&&(i=this.getFoldableCells(this.getSelectionCells(),t)),this.stopEditing(!1),this.model.beginUpdate();try{this.cellsFolded(i,t,e,n),this.fireEvent(new mxEventObject(mxEvent.FOLD_CELLS,"collapse",t,"recurse",e,"cells",i))}finally{this.model.endUpdate()}return i},mxGraph.prototype.cellsFolded=function(t,e,i,n){if(null!=t&&t.length>0){this.model.beginUpdate();try{for(var r=0;r<t.length;r++)if((!n||this.isCellFoldable(t[r],e))&&e!=this.isCellCollapsed(t[r])){if(this.model.setCollapsed(t[r],e),this.swapBounds(t[r],e),this.isExtendParent(t[r])&&this.extendParent(t[r]),i){var o=this.model.getChildren(t[r]);this.cellsFolded(o,e,i)}this.constrainChild(t[r])}this.fireEvent(new mxEventObject(mxEvent.CELLS_FOLDED,"cells",t,"collapse",e,"recurse",i))}finally{this.model.endUpdate()}}},mxGraph.prototype.swapBounds=function(t,e){if(null!=t){var i=this.model.getGeometry(t);null!=i&&(i=i.clone(),this.updateAlternateBounds(t,i,e),i.swap(),this.model.setGeometry(t,i))}},mxGraph.prototype.updateAlternateBounds=function(t,e,i){if(null!=t&&null!=e){var n=this.view.getState(t),r=null!=n?n.style:this.getCellStyle(t);if(null==e.alternateBounds){var o=e;if(this.collapseToPreferredSize){var s=this.getPreferredSizeForCell(t);if(null!=s){o=s;var a=mxUtils.getValue(r,mxConstants.STYLE_STARTSIZE);a>0&&(o.height=Math.max(o.height,a))}}e.alternateBounds=new mxRectangle(0,0,o.width,o.height)}if(null!=e.alternateBounds){e.alternateBounds.x=e.x,e.alternateBounds.y=e.y;var l=mxUtils.toRadians(r[mxConstants.STYLE_ROTATION]||0);if(0!=l){var h=e.alternateBounds.getCenterX()-e.getCenterX(),u=e.alternateBounds.getCenterY()-e.getCenterY(),c=Math.cos(l),d=Math.sin(l),p=c*h-d*u,f=d*h+c*u;e.alternateBounds.x+=p-h,e.alternateBounds.y+=f-u}}}},mxGraph.prototype.addAllEdges=function(t){var e=t.slice();return mxUtils.removeDuplicates(e.concat(this.getAllEdges(t)))},mxGraph.prototype.getAllEdges=function(t){var e=[];if(null!=t)for(var i=0;i<t.length;i++){for(var n=this.model.getEdgeCount(t[i]),r=0;r<n;r++)e.push(this.model.getEdgeAt(t[i],r));var o=this.model.getChildren(t[i]);e=e.concat(this.getAllEdges(o))}return e},mxGraph.prototype.updateCellSize=function(t,e){e=null!=e&&e,this.model.beginUpdate();try{this.cellSizeUpdated(t,e),this.fireEvent(new mxEventObject(mxEvent.UPDATE_CELL_SIZE,"cell",t,"ignoreChildren",e))}finally{this.model.endUpdate()}return t},mxGraph.prototype.cellSizeUpdated=function(t,e){if(null!=t){this.model.beginUpdate();try{var i=this.getPreferredSizeForCell(t),n=this.model.getGeometry(t);if(null!=i&&null!=n){var r=this.isCellCollapsed(t);if(n=n.clone(),this.isSwimlane(t)){var o=null!=(a=this.view.getState(t))?a.style:this.getCellStyle(t),s=this.model.getStyle(t);null==s&&(s=""),mxUtils.getValue(o,mxConstants.STYLE_HORIZONTAL,!0)?(s=mxUtils.setStyle(s,mxConstants.STYLE_STARTSIZE,i.height+8),r&&(n.height=i.height+8),n.width=i.width):(s=mxUtils.setStyle(s,mxConstants.STYLE_STARTSIZE,i.width+8),r&&(n.width=i.width+8),n.height=i.height),this.model.setStyle(t,s)}else{var a,l=(a=this.view.getState(t)||this.view.createState(t)).style[mxConstants.STYLE_ALIGN]||mxConstants.ALIGN_CENTER;l==mxConstants.ALIGN_RIGHT?n.x+=n.width-i.width:l==mxConstants.ALIGN_CENTER&&(n.x+=Math.round((n.width-i.width)/2));var h=this.getVerticalAlign(a);h==mxConstants.ALIGN_BOTTOM?n.y+=n.height-i.height:h==mxConstants.ALIGN_MIDDLE&&(n.y+=Math.round((n.height-i.height)/2)),n.width=i.width,n.height=i.height}if(!e&&!r){var u=this.view.getBounds(this.model.getChildren(t));if(null!=u){var c=this.view.translate,d=this.view.scale,p=(u.x+u.width)/d-n.x-c.x,f=(u.y+u.height)/d-n.y-c.y;n.width=Math.max(n.width,p),n.height=Math.max(n.height,f)}}this.cellsResized([t],[n],!1)}}finally{this.model.endUpdate()}}},mxGraph.prototype.getPreferredSizeForCell=function(t){var e=null;if(null!=t){var i=this.view.getState(t)||this.view.createState(t),n=i.style;if(!this.model.isEdge(t)){var r=n[mxConstants.STYLE_FONTSIZE]||mxConstants.DEFAULT_FONTSIZE,o=0,s=0;null==this.getImage(i)&&null==n[mxConstants.STYLE_IMAGE]||n[mxConstants.STYLE_SHAPE]==mxConstants.SHAPE_LABEL&&(n[mxConstants.STYLE_VERTICAL_ALIGN]==mxConstants.ALIGN_MIDDLE&&(o+=parseFloat(n[mxConstants.STYLE_IMAGE_WIDTH])||mxLabel.prototype.imageSize),n[mxConstants.STYLE_ALIGN]!=mxConstants.ALIGN_CENTER&&(s+=parseFloat(n[mxConstants.STYLE_IMAGE_HEIGHT])||mxLabel.prototype.imageSize)),o+=2*(n[mxConstants.STYLE_SPACING]||0),o+=n[mxConstants.STYLE_SPACING_LEFT]||0,o+=n[mxConstants.STYLE_SPACING_RIGHT]||0,s+=2*(n[mxConstants.STYLE_SPACING]||0),s+=n[mxConstants.STYLE_SPACING_TOP]||0,s+=n[mxConstants.STYLE_SPACING_BOTTOM]||0;var a=this.getFoldingImage(i);null!=a&&(o+=a.width+8);var l=this.cellRenderer.getLabelValue(i);if(null!=l&&l.length>0){this.isHtmlLabel(i.cell)||(l=mxUtils.htmlEntities(l)),l=l.replace(/\n/g,"<br>");var h=mxUtils.getSizeForString(l,r,n[mxConstants.STYLE_FONTFAMILY]),u=h.width+o,c=h.height+s;if(!mxUtils.getValue(n,mxConstants.STYLE_HORIZONTAL,!0)){var d=c;c=u,u=d}this.gridEnabled&&(u=this.snap(u+this.gridSize/2),c=this.snap(c+this.gridSize/2)),e=new mxRectangle(0,0,u,c)}else{var p=4*this.gridSize;e=new mxRectangle(0,0,p,p)}}}return e},mxGraph.prototype.resizeCell=function(t,e,i){return this.resizeCells([t],[e],i)[0]},mxGraph.prototype.resizeCells=function(t,e,i){i=null!=i?i:this.isRecursiveResize(),this.model.beginUpdate();try{this.cellsResized(t,e,i),this.fireEvent(new mxEventObject(mxEvent.RESIZE_CELLS,"cells",t,"bounds",e))}finally{this.model.endUpdate()}return t},mxGraph.prototype.cellsResized=function(t,e,i){if(i=null!=i&&i,null!=t&&null!=e&&t.length==e.length){this.model.beginUpdate();try{for(var n=0;n<t.length;n++)this.cellResized(t[n],e[n],!1,i),this.isExtendParent(t[n])&&this.extendParent(t[n]),this.constrainChild(t[n]);this.resetEdgesOnResize&&this.resetEdges(t),this.fireEvent(new mxEventObject(mxEvent.CELLS_RESIZED,"cells",t,"bounds",e))}finally{this.model.endUpdate()}}},mxGraph.prototype.cellResized=function(t,e,i,n){var r=this.model.getGeometry(t);if(null!=r&&(r.x!=e.x||r.y!=e.y||r.width!=e.width||r.height!=e.height)){if(r=r.clone(),!i&&r.relative){var o=r.offset;null!=o&&(o.x+=e.x-r.x,o.y+=e.y-r.y)}else r.x=e.x,r.y=e.y;r.width=e.width,r.height=e.height,r.relative||!this.model.isVertex(t)||this.isAllowNegativeCoordinates()||(r.x=Math.max(0,r.x),r.y=Math.max(0,r.y)),this.model.beginUpdate();try{n&&this.resizeChildCells(t,r),this.model.setGeometry(t,r),this.constrainChildCells(t)}finally{this.model.endUpdate()}}},mxGraph.prototype.resizeChildCells=function(t,e){for(var i=this.model.getGeometry(t),n=e.width/i.width,r=e.height/i.height,o=this.model.getChildCount(t),s=0;s<o;s++)this.scaleCell(this.model.getChildAt(t,s),n,r,!0)},mxGraph.prototype.constrainChildCells=function(t){for(var e=this.model.getChildCount(t),i=0;i<e;i++)this.constrainChild(this.model.getChildAt(t,i))},mxGraph.prototype.scaleCell=function(t,e,i,n){var r=this.model.getGeometry(t);if(null!=r){var o=this.view.getState(t),s=null!=o?o.style:this.getCellStyle(t),a=(r=r.clone()).x,l=r.y,h=r.width,u=r.height;r.scale(e,i,"fixed"==s[mxConstants.STYLE_ASPECT]),"1"==s[mxConstants.STYLE_RESIZE_WIDTH]?r.width=h*e:"0"==s[mxConstants.STYLE_RESIZE_WIDTH]&&(r.width=h),"1"==s[mxConstants.STYLE_RESIZE_HEIGHT]?r.height=u*i:"0"==s[mxConstants.STYLE_RESIZE_HEIGHT]&&(r.height=u),this.isCellMovable(t)||(r.x=a,r.y=l),this.isCellResizable(t)||(r.width=h,r.height=u),this.model.isVertex(t)?this.cellResized(t,r,!0,n):this.model.setGeometry(t,r)}},mxGraph.prototype.extendParent=function(t){if(null!=t){var e=this.model.getParent(t),i=this.getCellGeometry(e);if(null!=e&&null!=i&&!this.isCellCollapsed(e)){var n=this.getCellGeometry(t);null!=n&&!n.relative&&(i.width<n.x+n.width||i.height<n.y+n.height)&&((i=i.clone()).width=Math.max(i.width,n.x+n.width),i.height=Math.max(i.height,n.y+n.height),this.cellsResized([e],[i],!1))}}},mxGraph.prototype.importCells=function(t,e,i,n,r,o){return this.moveCells(t,e,i,!0,n,r,o)},mxGraph.prototype.moveCells=function(t,e,i,n,r,o,s){if(e=null!=e?e:0,i=null!=i?i:0,n=null!=n&&n,null!=t&&(0!=e||0!=i||n||null!=r)){t=this.model.getTopmostCells(t),this.model.beginUpdate();try{for(var a=new mxDictionary,l=0;l<t.length;l++)a.put(t[l],!0);var h=mxUtils.bind(this,function(t){for(;null!=t;){if(a.get(t))return!0;t=this.model.getParent(t)}return!1}),u=[];for(l=0;l<t.length;l++){var c=this.getCellGeometry(t[l]),d=this.model.getParent(t[l]);null!=c&&c.relative&&this.model.isEdge(d)&&(h(this.model.getTerminal(d,!0))||h(this.model.getTerminal(d,!1)))||u.push(t[l])}t=u,n&&(t=this.cloneCells(t,this.isCloneInvalidEdges(),s),null==r&&(r=this.getDefaultParent()));var p=this.isAllowNegativeCoordinates();if(null!=r&&this.setAllowNegativeCoordinates(!0),this.cellsMoved(t,e,i,!n&&this.isDisconnectOnMove()&&this.isAllowDanglingEdges(),null==r,this.isExtendParentsOnMove()&&null==r),this.setAllowNegativeCoordinates(p),null!=r){var f=this.model.getChildCount(r);this.cellsAdded(t,r,f,null,null,!0)}this.fireEvent(new mxEventObject(mxEvent.MOVE_CELLS,"cells",t,"dx",e,"dy",i,"clone",n,"target",r,"event",o))}finally{this.model.endUpdate()}}return t},mxGraph.prototype.cellsMoved=function(t,e,i,n,r,o){if(null!=t&&(0!=e||0!=i)){o=null!=o&&o,this.model.beginUpdate();try{n&&this.disconnectGraph(t);for(var s=0;s<t.length;s++)this.translateCell(t[s],e,i),o&&this.isExtendParent(t[s])?this.extendParent(t[s]):r&&this.constrainChild(t[s]);this.resetEdgesOnMove&&this.resetEdges(t),this.fireEvent(new mxEventObject(mxEvent.CELLS_MOVED,"cells",t,"dx",e,"dy",i,"disconnect",n))}finally{this.model.endUpdate()}}},mxGraph.prototype.translateCell=function(t,e,i){var n=this.model.getGeometry(t);if(null!=n){if(e=parseFloat(e),i=parseFloat(i),(n=n.clone()).translate(e,i),n.relative||!this.model.isVertex(t)||this.isAllowNegativeCoordinates()||(n.x=Math.max(0,parseFloat(n.x)),n.y=Math.max(0,parseFloat(n.y))),n.relative&&!this.model.isEdge(t)){var r=this.model.getParent(t),o=0;if(this.model.isVertex(r)){var s=this.view.getState(r),a=null!=s?s.style:this.getCellStyle(r);o=mxUtils.getValue(a,mxConstants.STYLE_ROTATION,0)}if(0!=o){var l=mxUtils.toRadians(-o),h=Math.cos(l),u=Math.sin(l),c=mxUtils.getRotatedPoint(new mxPoint(e,i),h,u,new mxPoint(0,0));e=c.x,i=c.y}null==n.offset?n.offset=new mxPoint(e,i):(n.offset.x=parseFloat(n.offset.x)+e,n.offset.y=parseFloat(n.offset.y)+i)}this.model.setGeometry(t,n)}},mxGraph.prototype.getCellContainmentArea=function(t){if(null!=t&&!this.model.isEdge(t)){var e=this.model.getParent(t);if(null!=e&&e!=this.getDefaultParent()){var i=this.model.getGeometry(e);if(null!=i){var n=0,r=0,o=i.width,s=i.height;if(this.isSwimlane(e)){var a=this.getStartSize(e),l=this.view.getState(e),h=null!=l?l.style:this.getCellStyle(e),u=mxUtils.getValue(h,mxConstants.STYLE_DIRECTION,mxConstants.DIRECTION_EAST),c=1==mxUtils.getValue(h,mxConstants.STYLE_FLIPH,0),d=1==mxUtils.getValue(h,mxConstants.STYLE_FLIPV,0);if(u==mxConstants.DIRECTION_SOUTH||u==mxConstants.DIRECTION_NORTH){var p=a.width;a.width=a.height,a.height=p}(u==mxConstants.DIRECTION_EAST&&!d||u==mxConstants.DIRECTION_NORTH&&!c||u==mxConstants.DIRECTION_WEST&&d||u==mxConstants.DIRECTION_SOUTH&&c)&&(n=a.width,r=a.height),o-=a.width,s-=a.height}return new mxRectangle(n,r,o,s)}}}return null},mxGraph.prototype.getMaximumGraphBounds=function(){return this.maximumGraphBounds},mxGraph.prototype.constrainChild=function(t,e){if(e=null==e||e,null!=t){var i=this.getCellGeometry(t);if(null!=i&&(this.isConstrainRelativeChildren()||!i.relative)){var n=this.model.getParent(t),r=(this.getCellGeometry(n),this.getMaximumGraphBounds());if(null!=r){var o=this.getBoundingBoxFromGeometry([n],!1);null!=o&&((r=mxRectangle.fromRectangle(r)).x-=o.x,r.y-=o.y)}if(this.isConstrainChild(t)){var s=this.getCellContainmentArea(t);if(null!=s){var a=this.getOverlap(t);a>0&&((s=mxRectangle.fromRectangle(s)).x-=s.width*a,s.y-=s.height*a,s.width+=2*s.width*a,s.height+=2*s.height*a),null==r?r=s:(r=mxRectangle.fromRectangle(r)).intersect(s)}}if(null!=r){var l=[t];if(!this.isCellCollapsed(t))for(var h=this.model.getDescendants(t),u=0;u<h.length;u++)this.isCellVisible(h[u])&&l.push(h[u]);var c=this.getBoundingBoxFromGeometry(l,!1);if(null!=c){var d=0;(i=i.clone()).width>r.width&&(d=i.width-r.width,i.width-=d),c.x+c.width>r.x+r.width&&(d-=c.x+c.width-r.x-r.width-d);var p=0;i.height>r.height&&(p=i.height-r.height,i.height-=p),c.y+c.height>r.y+r.height&&(p-=c.y+c.height-r.y-r.height-p),c.x<r.x&&(d-=c.x-r.x),c.y<r.y&&(p-=c.y-r.y),0==d&&0==p||(i.relative?(null==i.offset&&(i.offset=new mxPoint),i.offset.x+=d,i.offset.y+=p):(i.x+=d,i.y+=p)),this.model.setGeometry(t,i)}}}}},mxGraph.prototype.resetEdges=function(t){if(null!=t){for(var e=new mxDictionary,i=0;i<t.length;i++)e.put(t[i],!0);this.model.beginUpdate();try{for(i=0;i<t.length;i++){var n=this.model.getEdges(t[i]);if(null!=n)for(var r=0;r<n.length;r++){var o=this.view.getState(n[r]),s=null!=o?o.getVisibleTerminal(!0):this.view.getVisibleTerminal(n[r],!0),a=null!=o?o.getVisibleTerminal(!1):this.view.getVisibleTerminal(n[r],!1);e.get(s)&&e.get(a)||this.resetEdge(n[r])}this.resetEdges(this.model.getChildren(t[i]))}}finally{this.model.endUpdate()}}},mxGraph.prototype.resetEdge=function(t){var e=this.model.getGeometry(t);return null!=e&&null!=e.points&&e.points.length>0&&((e=e.clone()).points=[],this.model.setGeometry(t,e)),t},mxGraph.prototype.getOutlineConstraint=function(t,e,i){if(null!=e.shape){var n=this.view.getPerimeterBounds(e),r=e.style[mxConstants.STYLE_DIRECTION];if(r==mxConstants.DIRECTION_NORTH||r==mxConstants.DIRECTION_SOUTH){n.x+=n.width/2-n.height/2,n.y+=n.height/2-n.width/2;var o=n.width;n.width=n.height,n.height=o}var s=mxUtils.toRadians(e.shape.getShapeRotation());if(0!=s){var a=Math.cos(-s),l=Math.sin(-s),h=new mxPoint(n.getCenterX(),n.getCenterY());t=mxUtils.getRotatedPoint(t,a,l,h)}var u=1,c=1,d=0,p=0;if(this.getModel().isVertex(e.cell)){var f=e.style[mxConstants.STYLE_FLIPH],m=e.style[mxConstants.STYLE_FLIPV];if(null!=e.shape&&null!=e.shape.stencil&&(f=1==mxUtils.getValue(e.style,"stencilFlipH",0)||f,m=1==mxUtils.getValue(e.style,"stencilFlipV",0)||m),r==mxConstants.DIRECTION_NORTH||r==mxConstants.DIRECTION_SOUTH){o=f;f=m,m=o}f&&(u=-1,d=-n.width),m&&(c=-1,p=-n.height)}return t=new mxPoint((t.x-n.x)*u-d+n.x,(t.y-n.y)*c-p+n.y),new mxConnectionConstraint(new mxPoint(0==n.width?0:Math.round(1e3*(t.x-n.x)/n.width)/1e3,0==n.height?0:Math.round(1e3*(t.y-n.y)/n.height)/1e3),!1)}return null},mxGraph.prototype.getAllConnectionConstraints=function(t,e){return null!=t&&null!=t.shape&&null!=t.shape.stencil?t.shape.stencil.constraints:null},mxGraph.prototype.getConnectionConstraint=function(t,e,i){var n=null,r=t.style[i?mxConstants.STYLE_EXIT_X:mxConstants.STYLE_ENTRY_X];if(null!=r){var o=t.style[i?mxConstants.STYLE_EXIT_Y:mxConstants.STYLE_ENTRY_Y];null!=o&&(n=new mxPoint(parseFloat(r),parseFloat(o)))}var s=!1,a=0,l=0;return null!=n&&(s=mxUtils.getValue(t.style,i?mxConstants.STYLE_EXIT_PERIMETER:mxConstants.STYLE_ENTRY_PERIMETER,!0),a=parseFloat(t.style[i?mxConstants.STYLE_EXIT_DX:mxConstants.STYLE_ENTRY_DX]),l=parseFloat(t.style[i?mxConstants.STYLE_EXIT_DY:mxConstants.STYLE_ENTRY_DY]),a=isFinite(a)?a:0,l=isFinite(l)?l:0),new mxConnectionConstraint(n,s,null,a,l)},mxGraph.prototype.setConnectionConstraint=function(t,e,i,n){if(null!=n){this.model.beginUpdate();try{null==n||null==n.point?(this.setCellStyles(i?mxConstants.STYLE_EXIT_X:mxConstants.STYLE_ENTRY_X,null,[t]),this.setCellStyles(i?mxConstants.STYLE_EXIT_Y:mxConstants.STYLE_ENTRY_Y,null,[t]),this.setCellStyles(i?mxConstants.STYLE_EXIT_DX:mxConstants.STYLE_ENTRY_DX,null,[t]),this.setCellStyles(i?mxConstants.STYLE_EXIT_DY:mxConstants.STYLE_ENTRY_DY,null,[t]),this.setCellStyles(i?mxConstants.STYLE_EXIT_PERIMETER:mxConstants.STYLE_ENTRY_PERIMETER,null,[t])):null!=n.point&&(this.setCellStyles(i?mxConstants.STYLE_EXIT_X:mxConstants.STYLE_ENTRY_X,n.point.x,[t]),this.setCellStyles(i?mxConstants.STYLE_EXIT_Y:mxConstants.STYLE_ENTRY_Y,n.point.y,[t]),this.setCellStyles(i?mxConstants.STYLE_EXIT_DX:mxConstants.STYLE_ENTRY_DX,n.dx,[t]),this.setCellStyles(i?mxConstants.STYLE_EXIT_DY:mxConstants.STYLE_ENTRY_DY,n.dy,[t]),n.perimeter?this.setCellStyles(i?mxConstants.STYLE_EXIT_PERIMETER:mxConstants.STYLE_ENTRY_PERIMETER,null,[t]):this.setCellStyles(i?mxConstants.STYLE_EXIT_PERIMETER:mxConstants.STYLE_ENTRY_PERIMETER,"0",[t]))}finally{this.model.endUpdate()}}},mxGraph.prototype.getConnectionPoint=function(t,e,i){i=null==i||i;var n=null;if(null!=t&&null!=e.point){var r=this.view.getPerimeterBounds(t),o=new mxPoint(r.getCenterX(),r.getCenterY()),s=t.style[mxConstants.STYLE_DIRECTION],a=0;null!=s&&1==mxUtils.getValue(t.style,mxConstants.STYLE_ANCHOR_POINT_DIRECTION,1)&&(s==mxConstants.DIRECTION_NORTH?a+=270:s==mxConstants.DIRECTION_WEST?a+=180:s==mxConstants.DIRECTION_SOUTH&&(a+=90),s!=mxConstants.DIRECTION_NORTH&&s!=mxConstants.DIRECTION_SOUTH||r.rotate90());var l=this.view.scale;n=new mxPoint(r.x+e.point.x*r.width+e.dx*l,r.y+e.point.y*r.height+e.dy*l);var h=t.style[mxConstants.STYLE_ROTATION]||0;if(e.perimeter){if(0!=a){var u=0,c=0;90==a?c=1:180==a?u=-1:270==a&&(c=-1),n=mxUtils.getRotatedPoint(n,u,c,o)}n=this.view.getPerimeterPoint(t,n,!1)}else if(h+=a,this.getModel().isVertex(t.cell)){var d=1==t.style[mxConstants.STYLE_FLIPH],p=1==t.style[mxConstants.STYLE_FLIPV];if(null!=t.shape&&null!=t.shape.stencil&&(d=1==mxUtils.getValue(t.style,"stencilFlipH",0)||d,p=1==mxUtils.getValue(t.style,"stencilFlipV",0)||p),s==mxConstants.DIRECTION_NORTH||s==mxConstants.DIRECTION_SOUTH){var f=d;d=p,p=f}d&&(n.x=2*r.getCenterX()-n.x),p&&(n.y=2*r.getCenterY()-n.y)}if(0!=h&&null!=n){var m=mxUtils.toRadians(h);u=Math.cos(m),c=Math.sin(m);n=mxUtils.getRotatedPoint(n,u,c,o)}}return i&&null!=n&&(n.x=Math.round(n.x),n.y=Math.round(n.y)),n},mxGraph.prototype.connectCell=function(t,e,i,n){this.model.beginUpdate();try{var r=this.model.getTerminal(t,i);this.cellConnected(t,e,i,n),this.fireEvent(new mxEventObject(mxEvent.CONNECT_CELL,"edge",t,"terminal",e,"source",i,"previous",r))}finally{this.model.endUpdate()}return t},mxGraph.prototype.cellConnected=function(t,e,i,n){if(null!=t){this.model.beginUpdate();try{var r=this.model.getTerminal(t,i);if(this.setConnectionConstraint(t,e,i,n),this.isPortsEnabled()){var o=null;this.isPort(e)&&(o=e.getId(),e=this.getTerminalForPort(e,i));var s=i?mxConstants.STYLE_SOURCE_PORT:mxConstants.STYLE_TARGET_PORT;this.setCellStyles(s,o,[t])}this.model.setTerminal(t,e,i),this.resetEdgesOnConnect&&this.resetEdge(t),this.fireEvent(new mxEventObject(mxEvent.CELL_CONNECTED,"edge",t,"terminal",e,"source",i,"previous",r))}finally{this.model.endUpdate()}}},mxGraph.prototype.disconnectGraph=function(t){if(null!=t){this.model.beginUpdate();try{for(var e=this.view.scale,i=this.view.translate,n=new mxDictionary,r=0;r<t.length;r++)n.put(t[r],!0);for(r=0;r<t.length;r++)if(this.model.isEdge(t[r])){var o=this.model.getGeometry(t[r]);if(null!=o){var s=this.view.getState(t[r]),a=this.view.getState(this.model.getParent(t[r]));if(null!=s&&null!=a){o=o.clone();var l=-a.origin.x,h=-a.origin.y,u=s.absolutePoints,c=this.model.getTerminal(t[r],!0);if(null!=c&&this.isCellDisconnectable(t[r],c,!0)){for(;null!=c&&!n.get(c);)c=this.model.getParent(c);null==c&&(o.setTerminalPoint(new mxPoint(u[0].x/e-i.x+l,u[0].y/e-i.y+h),!0),this.model.setTerminal(t[r],null,!0))}var d=this.model.getTerminal(t[r],!1);if(null!=d&&this.isCellDisconnectable(t[r],d,!1)){for(;null!=d&&!n.get(d);)d=this.model.getParent(d);if(null==d){var p=u.length-1;o.setTerminalPoint(new mxPoint(u[p].x/e-i.x+l,u[p].y/e-i.y+h),!1),this.model.setTerminal(t[r],null,!1)}}this.model.setGeometry(t[r],o)}}}}finally{this.model.endUpdate()}}},mxGraph.prototype.getCurrentRoot=function(){return this.view.currentRoot},mxGraph.prototype.getTranslateForRoot=function(t){return null},mxGraph.prototype.isPort=function(t){return!1},mxGraph.prototype.getTerminalForPort=function(t,e){return this.model.getParent(t)},mxGraph.prototype.getChildOffsetForCell=function(t){return null},mxGraph.prototype.enterGroup=function(t){null!=(t=t||this.getSelectionCell())&&this.isValidRoot(t)&&(this.view.setCurrentRoot(t),this.clearSelection())},mxGraph.prototype.exitGroup=function(){var t=this.model.getRoot(),e=this.getCurrentRoot();if(null!=e){for(var i=this.model.getParent(e);i!=t&&!this.isValidRoot(i)&&this.model.getParent(i)!=t;)i=this.model.getParent(i);i==t||this.model.getParent(i)==t?this.view.setCurrentRoot(null):this.view.setCurrentRoot(i),null!=this.view.getState(e)&&this.setSelectionCell(e)}},mxGraph.prototype.home=function(){var t=this.getCurrentRoot();null!=t&&(this.view.setCurrentRoot(null),null!=this.view.getState(t)&&this.setSelectionCell(t))},mxGraph.prototype.isValidRoot=function(t){return null!=t},mxGraph.prototype.getGraphBounds=function(){return this.view.getGraphBounds()},mxGraph.prototype.getCellBounds=function(t,e,i){var n=[t];e&&(n=n.concat(this.model.getEdges(t)));var r=this.view.getBounds(n);if(i)for(var o=this.model.getChildCount(t),s=0;s<o;s++){var a=this.getCellBounds(this.model.getChildAt(t,s),e,!0);null!=r?r.add(a):r=a}return r},mxGraph.prototype.getBoundingBoxFromGeometry=function(t,e){e=null!=e&&e;var i=null;if(null!=t)for(var n=0;n<t.length;n++)if(e||this.model.isVertex(t[n])){var r=this.getCellGeometry(t[n]);if(null!=r){var o=null;if(this.model.isEdge(t[n])){var s=function(t){null!=t&&(null==l?l=new mxRectangle(t.x,t.y,0,0):l.add(new mxRectangle(t.x,t.y,0,0)))};null==this.model.getTerminal(t[n],!0)&&s(r.getTerminalPoint(!0)),null==this.model.getTerminal(t[n],!1)&&s(r.getTerminalPoint(!1));var a=r.points;if(null!=a&&a.length>0)for(var l=new mxRectangle(a[0].x,a[0].y,0,0),h=1;h<a.length;h++)s(a[h]);o=l}else{var u=this.model.getParent(t[n]);if(r.relative){if(this.model.isVertex(u)&&u!=this.view.currentRoot)null!=(l=this.getBoundingBoxFromGeometry([u],!1))&&(o=new mxRectangle(r.x*l.width,r.y*l.height,r.width,r.height),mxUtils.indexOf(t,u)>=0&&(o.x+=l.x,o.y+=l.y))}else if(o=mxRectangle.fromRectangle(r),this.model.isVertex(u)&&mxUtils.indexOf(t,u)>=0)null!=(l=this.getBoundingBoxFromGeometry([u],!1))&&(o.x+=l.x,o.y+=l.y);null!=o&&null!=r.offset&&(o.x+=r.offset.x,o.y+=r.offset.y)}null!=o&&(null==i?i=mxRectangle.fromRectangle(o):i.add(o))}}return i},mxGraph.prototype.refresh=function(t){this.view.clear(t,null==t),this.view.validate(),this.sizeDidChange(),this.fireEvent(new mxEventObject(mxEvent.REFRESH))},mxGraph.prototype.snap=function(t){return this.gridEnabled&&(t=Math.round(t/this.gridSize)*this.gridSize),t},mxGraph.prototype.panGraph=function(t,e){if(this.useScrollbarsForPanning&&mxUtils.hasScrollbars(this.container))this.container.scrollLeft=-t,this.container.scrollTop=-e;else{var i=this.view.getCanvas();if(this.dialect==mxConstants.DIALECT_SVG)if(0==t&&0==e){if(mxClient.IS_IE?i.setAttribute("transform","translate("+t+","+e+")"):i.removeAttribute("transform"),null!=this.shiftPreview1){for(var n=this.shiftPreview1.firstChild;null!=n;){var r=n.nextSibling;this.container.appendChild(n),n=r}for(null!=this.shiftPreview1.parentNode&&this.shiftPreview1.parentNode.removeChild(this.shiftPreview1),this.shiftPreview1=null,this.container.appendChild(i.parentNode),n=this.shiftPreview2.firstChild;null!=n;){r=n.nextSibling;this.container.appendChild(n),n=r}null!=this.shiftPreview2.parentNode&&this.shiftPreview2.parentNode.removeChild(this.shiftPreview2),this.shiftPreview2=null}}else{if(i.setAttribute("transform","translate("+t+","+e+")"),null==this.shiftPreview1){this.shiftPreview1=document.createElement("div"),this.shiftPreview1.style.position="absolute",this.shiftPreview1.style.overflow="visible",this.shiftPreview2=document.createElement("div"),this.shiftPreview2.style.position="absolute",this.shiftPreview2.style.overflow="visible";var o=this.shiftPreview1;for(n=this.container.firstChild;null!=n;){r=n.nextSibling;n!=i.parentNode?o.appendChild(n):o=this.shiftPreview2,n=r}null!=this.shiftPreview1.firstChild&&this.container.insertBefore(this.shiftPreview1,i.parentNode),null!=this.shiftPreview2.firstChild&&this.container.appendChild(this.shiftPreview2)}this.shiftPreview1.style.left=t+"px",this.shiftPreview1.style.top=e+"px",this.shiftPreview2.style.left=t+"px",this.shiftPreview2.style.top=e+"px"}else i.style.left=t+"px",i.style.top=e+"px";this.panDx=t,this.panDy=e,this.fireEvent(new mxEventObject(mxEvent.PAN))}},mxGraph.prototype.zoomIn=function(){this.zoom(this.zoomFactor)},mxGraph.prototype.zoomOut=function(){this.zoom(1/this.zoomFactor)},mxGraph.prototype.zoomActual=function(){1==this.view.scale?this.view.setTranslate(0,0):(this.view.translate.x=0,this.view.translate.y=0,this.view.setScale(1))},mxGraph.prototype.zoomTo=function(t,e){this.zoom(t/this.view.scale,e)},mxGraph.prototype.center=function(t,e,i,n){t=null==t||t,e=null==e||e,i=null!=i?i:.5,n=null!=n?n:.5;var r=mxUtils.hasScrollbars(this.container),o=2*this.getBorder(),s=this.container.clientWidth-o,a=this.container.clientHeight-o,l=this.getGraphBounds(),h=this.view.translate,u=this.view.scale,c=t?s-l.width:0,d=e?a-l.height:0;if(r){l.x-=h.x,l.y-=h.y;var p=this.container.scrollWidth,f=this.container.scrollHeight;p>s&&(c=0),f>a&&(d=0),this.view.setTranslate(Math.floor(c/2-l.x),Math.floor(d/2-l.y)),this.container.scrollLeft=(p-s)/2,this.container.scrollTop=(f-a)/2}else this.view.setTranslate(t?Math.floor(h.x-l.x*u+c*i/u):h.x,e?Math.floor(h.y-l.y*u+d*n/u):h.y)},mxGraph.prototype.zoom=function(t,e){e=null!=e?e:this.centerZoom;var i=Math.round(this.view.scale*t*100)/100,n=this.view.getState(this.getSelectionCell());if(t=i/this.view.scale,this.keepSelectionVisibleOnZoom&&null!=n){var r=new mxRectangle(n.x*t,n.y*t,n.width*t,n.height*t);this.view.scale=i,this.scrollRectToVisible(r)||(this.view.revalidate(),this.view.setScale(i))}else{var o=mxUtils.hasScrollbars(this.container);if(e&&!o){var s,a=this.container.offsetWidth,l=this.container.offsetHeight;if(t>1)a*=-(s=(t-1)/(2*i)),l*=-s;else a*=s=(1/t-1)/(2*this.view.scale),l*=s;this.view.scaleAndTranslate(i,this.view.translate.x+a,this.view.translate.y+l)}else{var h=this.view.translate.x,u=this.view.translate.y,c=this.container.scrollLeft,d=this.container.scrollTop;if(this.view.setScale(i),o){a=0,l=0;e&&(a=this.container.offsetWidth*(t-1)/2,l=this.container.offsetHeight*(t-1)/2),this.container.scrollLeft=(this.view.translate.x-h)*this.view.scale+Math.round(c*t+a),this.container.scrollTop=(this.view.translate.y-u)*this.view.scale+Math.round(d*t+l)}}}},mxGraph.prototype.zoomToRect=function(t){var e=this.container.clientWidth/t.width/(this.container.clientHeight/t.height);t.x=Math.max(0,t.x),t.y=Math.max(0,t.y);var i=Math.min(this.container.scrollWidth,t.x+t.width),n=Math.min(this.container.scrollHeight,t.y+t.height);if(t.width=i-t.x,t.height=n-t.y,e<1){var r=t.height/e,o=(r-t.height)/2;t.height=r;var s=Math.min(t.y,o);t.y=t.y-s,n=Math.min(this.container.scrollHeight,t.y+t.height),t.height=n-t.y}else{var a=t.width*e,l=(a-t.width)/2;t.width=a;var h=Math.min(t.x,l);t.x=t.x-h,i=Math.min(this.container.scrollWidth,t.x+t.width),t.width=i-t.x}var u=this.container.clientWidth/t.width,c=this.view.scale*u;mxUtils.hasScrollbars(this.container)?(this.view.setScale(c),this.container.scrollLeft=Math.round(t.x*u),this.container.scrollTop=Math.round(t.y*u)):this.view.scaleAndTranslate(c,this.view.translate.x-t.x/this.view.scale,this.view.translate.y-t.y/this.view.scale)},mxGraph.prototype.scrollCellToVisible=function(t,e){var i=-this.view.translate.x,n=-this.view.translate.y,r=this.view.getState(t);if(null!=r){var o=new mxRectangle(i+r.x,n+r.y,r.width,r.height);if(e&&null!=this.container){var s=this.container.clientWidth,a=this.container.clientHeight;o.x=o.getCenterX()-s/2,o.width=s,o.y=o.getCenterY()-a/2,o.height=a}var l=new mxPoint(this.view.translate.x,this.view.translate.y);if(this.scrollRectToVisible(o)){var h=new mxPoint(this.view.translate.x,this.view.translate.y);this.view.translate.x=l.x,this.view.translate.y=l.y,this.view.setTranslate(h.x,h.y)}}},mxGraph.prototype.scrollRectToVisible=function(t){var e=!1;if(null!=t){var i=this.container.offsetWidth,n=this.container.offsetHeight,r=Math.min(i,t.width),o=Math.min(n,t.height);if(mxUtils.hasScrollbars(this.container)){var s=this.container;t.x+=this.view.translate.x,t.y+=this.view.translate.y;var a=s.scrollLeft-t.x,l=Math.max(a-s.scrollLeft,0);a>0?s.scrollLeft-=a+2:(a=t.x+r-s.scrollLeft-s.clientWidth)>0&&(s.scrollLeft+=a+2);var h=s.scrollTop-t.y,u=Math.max(0,h-s.scrollTop);h>0?s.scrollTop-=h+2:(h=t.y+o-s.scrollTop-s.clientHeight)>0&&(s.scrollTop+=h+2),this.useScrollbarsForPanning||0==l&&0==u||this.view.setTranslate(l,u)}else{var c=-this.view.translate.x,d=-this.view.translate.y,p=this.view.scale;t.x+r>c+i&&(this.view.translate.x-=(t.x+r-i-c)/p,e=!0),t.y+o>d+n&&(this.view.translate.y-=(t.y+o-n-d)/p,e=!0),t.x<c&&(this.view.translate.x+=(c-t.x)/p,e=!0),t.y<d&&(this.view.translate.y+=(d-t.y)/p,e=!0),e&&(this.view.refresh(),null!=this.selectionCellsHandler&&this.selectionCellsHandler.refresh())}}return e},mxGraph.prototype.getCellGeometry=function(t){return this.model.getGeometry(t)},mxGraph.prototype.isCellVisible=function(t){return this.model.isVisible(t)},mxGraph.prototype.isCellCollapsed=function(t){return this.model.isCollapsed(t)},mxGraph.prototype.isCellConnectable=function(t){return this.model.isConnectable(t)},mxGraph.prototype.isOrthogonal=function(t){var e=t.style[mxConstants.STYLE_ORTHOGONAL];if(null!=e)return e;var i=this.view.getEdgeStyle(t);return i==mxEdgeStyle.SegmentConnector||i==mxEdgeStyle.ElbowConnector||i==mxEdgeStyle.SideToSide||i==mxEdgeStyle.TopToBottom||i==mxEdgeStyle.EntityRelation||i==mxEdgeStyle.OrthConnector},mxGraph.prototype.isLoop=function(t){var e=t.getVisibleTerminalState(!0),i=t.getVisibleTerminalState(!1);return null!=e&&e==i},mxGraph.prototype.isCloneEvent=function(t){return mxEvent.isControlDown(t)},mxGraph.prototype.isTransparentClickEvent=function(t){return!1},mxGraph.prototype.isToggleEvent=function(t){return mxClient.IS_MAC?mxEvent.isMetaDown(t):mxEvent.isControlDown(t)},mxGraph.prototype.isGridEnabledEvent=function(t){return null!=t&&!mxEvent.isAltDown(t)},mxGraph.prototype.isConstrainedEvent=function(t){return mxEvent.isShiftDown(t)},mxGraph.prototype.isIgnoreTerminalEvent=function(t){return!1},mxGraph.prototype.validationAlert=function(t){mxUtils.alert(t)},mxGraph.prototype.isEdgeValid=function(t,e,i){return null==this.getEdgeValidationError(t,e,i)},mxGraph.prototype.getEdgeValidationError=function(t,e,i){if(null!=t&&!this.isAllowDanglingEdges()&&(null==e||null==i))return"";if(null!=t&&null==this.model.getTerminal(t,!0)&&null==this.model.getTerminal(t,!1))return null;if(!this.allowLoops&&e==i&&null!=e)return"";if(!this.isValidConnection(e,i))return"";if(null!=e&&null!=i){var n="";if(!this.multigraph){var r=this.model.getEdgesBetween(e,i,!0);(r.length>1||1==r.length&&r[0]!=t)&&(n+=(mxResources.get(this.alreadyConnectedResource)||this.alreadyConnectedResource)+"\n")}var o=this.model.getDirectedEdgeCount(e,!0,t),s=this.model.getDirectedEdgeCount(i,!1,t);if(null!=this.multiplicities)for(var a=0;a<this.multiplicities.length;a++){var l;null!=(l=this.multiplicities[a].check(this,t,e,i,o,s))&&(n+=l)}return null!=(l=this.validateEdge(t,e,i))&&(n+=l),n.length>0?n:null}return this.allowDanglingEdges?null:""},mxGraph.prototype.validateEdge=function(t,e,i){return null},mxGraph.prototype.validateGraph=function(t,e){t=null!=t?t:this.model.getRoot(),e=null!=e?e:new Object;for(var i=!0,n=this.model.getChildCount(t),r=0;r<n;r++){var o=this.model.getChildAt(t,r),s=e;this.isValidRoot(o)&&(s=new Object);var a=this.validateGraph(o,s);null!=a?this.setCellWarning(o,a.replace(/\n/g,"<br>")):this.setCellWarning(o,null),i=i&&null==a}var l="";this.isCellCollapsed(t)&&!i&&(l+=(mxResources.get(this.containsValidationErrorsResource)||this.containsValidationErrorsResource)+"\n"),this.model.isEdge(t)?l+=this.getEdgeValidationError(t,this.model.getTerminal(t,!0),this.model.getTerminal(t,!1))||"":l+=this.getCellValidationError(t)||"";var h=this.validateCell(t,e);return null!=h&&(l+=h),null==this.model.getParent(t)&&this.view.validate(),l.length>0||!i?l:null},mxGraph.prototype.getCellValidationError=function(t){var e=this.model.getDirectedEdgeCount(t,!0),i=this.model.getDirectedEdgeCount(t,!1),n=this.model.getValue(t),r="";if(null!=this.multiplicities)for(var o=0;o<this.multiplicities.length;o++){var s=this.multiplicities[o];s.source&&mxUtils.isNode(n,s.type,s.attr,s.value)&&(e>s.max||e<s.min)?r+=s.countError+"\n":!s.source&&mxUtils.isNode(n,s.type,s.attr,s.value)&&(i>s.max||i<s.min)&&(r+=s.countError+"\n")}return r.length>0?r:null},mxGraph.prototype.validateCell=function(t,e){return null},mxGraph.prototype.getBackgroundImage=function(){return this.backgroundImage},mxGraph.prototype.setBackgroundImage=function(t){this.backgroundImage=t},mxGraph.prototype.getFoldingImage=function(t){if(null!=t&&this.foldingEnabled&&!this.getModel().isEdge(t.cell)){var e=this.isCellCollapsed(t.cell);if(this.isCellFoldable(t.cell,!e))return e?this.collapsedImage:this.expandedImage}return null},mxGraph.prototype.convertValueToString=function(t){var e=this.model.getValue(t);if(null!=e){if(mxUtils.isNode(e))return e.nodeName;if("function"==typeof e.toString)return e.toString()}return""},mxGraph.prototype.getLabel=function(t){var e="";if(this.labelsVisible&&null!=t){var i=this.view.getState(t),n=null!=i?i.style:this.getCellStyle(t);mxUtils.getValue(n,mxConstants.STYLE_NOLABEL,!1)||(e=this.convertValueToString(t))}return e},mxGraph.prototype.isHtmlLabel=function(t){return this.isHtmlLabels()},mxGraph.prototype.isHtmlLabels=function(){return this.htmlLabels},mxGraph.prototype.setHtmlLabels=function(t){this.htmlLabels=t},mxGraph.prototype.isWrapping=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return null!=i&&"wrap"==i[mxConstants.STYLE_WHITE_SPACE]},mxGraph.prototype.isLabelClipped=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return null!=i&&"hidden"==i[mxConstants.STYLE_OVERFLOW]},mxGraph.prototype.getTooltip=function(t,e,i,n){var r=null;if(null!=t){if(null==t.control||e!=t.control.node&&e.parentNode!=t.control.node||(r=this.collapseExpandResource,r=mxUtils.htmlEntities(mxResources.get(r)||r).replace(/\\n/g,"<br>")),null==r&&null!=t.overlays&&t.overlays.visit(function(t,i){null!=r||e!=i.node&&e.parentNode!=i.node||(r=i.overlay.toString())}),null==r){var o=this.selectionCellsHandler.getHandler(t.cell);null!=o&&"function"==typeof o.getTooltipForNode&&(r=o.getTooltipForNode(e))}null==r&&(r=this.getTooltipForCell(t.cell))}return r},mxGraph.prototype.getTooltipForCell=function(t){return null!=t&&null!=t.getTooltip?t.getTooltip():this.convertValueToString(t)},mxGraph.prototype.getLinkForCell=function(t){return null},mxGraph.prototype.getCursorForMouseEvent=function(t){return this.getCursorForCell(t.getCell())},mxGraph.prototype.getCursorForCell=function(t){return null},mxGraph.prototype.getStartSize=function(t){var e=new mxRectangle,i=this.view.getState(t),n=null!=i?i.style:this.getCellStyle(t);if(null!=n){var r=parseInt(mxUtils.getValue(n,mxConstants.STYLE_STARTSIZE,mxConstants.DEFAULT_STARTSIZE));mxUtils.getValue(n,mxConstants.STYLE_HORIZONTAL,!0)?e.height=r:e.width=r}return e},mxGraph.prototype.getImage=function(t){return null!=t&&null!=t.style?t.style[mxConstants.STYLE_IMAGE]:null},mxGraph.prototype.getVerticalAlign=function(t){return null!=t&&null!=t.style?t.style[mxConstants.STYLE_VERTICAL_ALIGN]||mxConstants.ALIGN_MIDDLE:null},mxGraph.prototype.getIndicatorColor=function(t){return null!=t&&null!=t.style?t.style[mxConstants.STYLE_INDICATOR_COLOR]:null},mxGraph.prototype.getIndicatorGradientColor=function(t){return null!=t&&null!=t.style?t.style[mxConstants.STYLE_INDICATOR_GRADIENTCOLOR]:null},mxGraph.prototype.getIndicatorShape=function(t){return null!=t&&null!=t.style?t.style[mxConstants.STYLE_INDICATOR_SHAPE]:null},mxGraph.prototype.getIndicatorImage=function(t){return null!=t&&null!=t.style?t.style[mxConstants.STYLE_INDICATOR_IMAGE]:null},mxGraph.prototype.getBorder=function(){return this.border},mxGraph.prototype.setBorder=function(t){this.border=t},mxGraph.prototype.isSwimlane=function(t){if(null!=t&&this.model.getParent(t)!=this.model.getRoot()){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);if(null!=i&&!this.model.isEdge(t))return i[mxConstants.STYLE_SHAPE]==mxConstants.SHAPE_SWIMLANE}return!1},mxGraph.prototype.isResizeContainer=function(){return this.resizeContainer},mxGraph.prototype.setResizeContainer=function(t){this.resizeContainer=t},mxGraph.prototype.isEnabled=function(){return this.enabled},mxGraph.prototype.setEnabled=function(t){this.enabled=t},mxGraph.prototype.isEscapeEnabled=function(){return this.escapeEnabled},mxGraph.prototype.setEscapeEnabled=function(t){this.escapeEnabled=t},mxGraph.prototype.isInvokesStopCellEditing=function(){return this.invokesStopCellEditing},mxGraph.prototype.setInvokesStopCellEditing=function(t){this.invokesStopCellEditing=t},mxGraph.prototype.isEnterStopsCellEditing=function(){return this.enterStopsCellEditing},mxGraph.prototype.setEnterStopsCellEditing=function(t){this.enterStopsCellEditing=t},mxGraph.prototype.isCellLocked=function(t){var e=this.model.getGeometry(t);return this.isCellsLocked()||null!=e&&this.model.isVertex(t)&&e.relative},mxGraph.prototype.isCellsLocked=function(){return this.cellsLocked},mxGraph.prototype.setCellsLocked=function(t){this.cellsLocked=t},mxGraph.prototype.getCloneableCells=function(t){return this.model.filterCells(t,mxUtils.bind(this,function(t){return this.isCellCloneable(t)}))},mxGraph.prototype.isCellCloneable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isCellsCloneable()&&0!=i[mxConstants.STYLE_CLONEABLE]},mxGraph.prototype.isCellsCloneable=function(){return this.cellsCloneable},mxGraph.prototype.setCellsCloneable=function(t){this.cellsCloneable=t},mxGraph.prototype.getExportableCells=function(t){return this.model.filterCells(t,mxUtils.bind(this,function(t){return this.canExportCell(t)}))},mxGraph.prototype.canExportCell=function(t){return this.exportEnabled},mxGraph.prototype.getImportableCells=function(t){return this.model.filterCells(t,mxUtils.bind(this,function(t){return this.canImportCell(t)}))},mxGraph.prototype.canImportCell=function(t){return this.importEnabled},mxGraph.prototype.isCellSelectable=function(t){return this.isCellsSelectable()},mxGraph.prototype.isCellsSelectable=function(){return this.cellsSelectable},mxGraph.prototype.setCellsSelectable=function(t){this.cellsSelectable=t},mxGraph.prototype.getDeletableCells=function(t){return this.model.filterCells(t,mxUtils.bind(this,function(t){return this.isCellDeletable(t)}))},mxGraph.prototype.isCellDeletable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isCellsDeletable()&&0!=i[mxConstants.STYLE_DELETABLE]},mxGraph.prototype.isCellsDeletable=function(){return this.cellsDeletable},mxGraph.prototype.setCellsDeletable=function(t){this.cellsDeletable=t},mxGraph.prototype.isLabelMovable=function(t){return!this.isCellLocked(t)&&(this.model.isEdge(t)&&this.edgeLabelsMovable||this.model.isVertex(t)&&this.vertexLabelsMovable)},mxGraph.prototype.isCellRotatable=function(t){var e=this.view.getState(t);return 0!=(null!=e?e.style:this.getCellStyle(t))[mxConstants.STYLE_ROTATABLE]},mxGraph.prototype.getMovableCells=function(t){return this.model.filterCells(t,mxUtils.bind(this,function(t){return this.isCellMovable(t)}))},mxGraph.prototype.isCellMovable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isCellsMovable()&&!this.isCellLocked(t)&&0!=i[mxConstants.STYLE_MOVABLE]},mxGraph.prototype.isCellsMovable=function(){return this.cellsMovable},mxGraph.prototype.setCellsMovable=function(t){this.cellsMovable=t},mxGraph.prototype.isGridEnabled=function(){return this.gridEnabled},mxGraph.prototype.setGridEnabled=function(t){this.gridEnabled=t},mxGraph.prototype.isPortsEnabled=function(){return this.portsEnabled},mxGraph.prototype.setPortsEnabled=function(t){this.portsEnabled=t},mxGraph.prototype.getGridSize=function(){return this.gridSize},mxGraph.prototype.setGridSize=function(t){this.gridSize=t},mxGraph.prototype.getTolerance=function(){return this.tolerance},mxGraph.prototype.setTolerance=function(t){this.tolerance=t},mxGraph.prototype.isVertexLabelsMovable=function(){return this.vertexLabelsMovable},mxGraph.prototype.setVertexLabelsMovable=function(t){this.vertexLabelsMovable=t},mxGraph.prototype.isEdgeLabelsMovable=function(){return this.edgeLabelsMovable},mxGraph.prototype.setEdgeLabelsMovable=function(t){this.edgeLabelsMovable=t},mxGraph.prototype.isSwimlaneNesting=function(){return this.swimlaneNesting},mxGraph.prototype.setSwimlaneNesting=function(t){this.swimlaneNesting=t},mxGraph.prototype.isSwimlaneSelectionEnabled=function(){return this.swimlaneSelectionEnabled},mxGraph.prototype.setSwimlaneSelectionEnabled=function(t){this.swimlaneSelectionEnabled=t},mxGraph.prototype.isMultigraph=function(){return this.multigraph},mxGraph.prototype.setMultigraph=function(t){this.multigraph=t},mxGraph.prototype.isAllowLoops=function(){return this.allowLoops},mxGraph.prototype.setAllowDanglingEdges=function(t){this.allowDanglingEdges=t},mxGraph.prototype.isAllowDanglingEdges=function(){return this.allowDanglingEdges},mxGraph.prototype.setConnectableEdges=function(t){this.connectableEdges=t},mxGraph.prototype.isConnectableEdges=function(){return this.connectableEdges},mxGraph.prototype.setCloneInvalidEdges=function(t){this.cloneInvalidEdges=t},mxGraph.prototype.isCloneInvalidEdges=function(){return this.cloneInvalidEdges},mxGraph.prototype.setAllowLoops=function(t){this.allowLoops=t},mxGraph.prototype.isDisconnectOnMove=function(){return this.disconnectOnMove},mxGraph.prototype.setDisconnectOnMove=function(t){this.disconnectOnMove=t},mxGraph.prototype.isDropEnabled=function(){return this.dropEnabled},mxGraph.prototype.setDropEnabled=function(t){this.dropEnabled=t},mxGraph.prototype.isSplitEnabled=function(){return this.splitEnabled},mxGraph.prototype.setSplitEnabled=function(t){this.splitEnabled=t},mxGraph.prototype.isCellResizable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isCellsResizable()&&!this.isCellLocked(t)&&"0"!=mxUtils.getValue(i,mxConstants.STYLE_RESIZABLE,"1")},mxGraph.prototype.isCellsResizable=function(){return this.cellsResizable},mxGraph.prototype.setCellsResizable=function(t){this.cellsResizable=t},mxGraph.prototype.isTerminalPointMovable=function(t,e){return!0},mxGraph.prototype.isCellBendable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isCellsBendable()&&!this.isCellLocked(t)&&0!=i[mxConstants.STYLE_BENDABLE]},mxGraph.prototype.isCellsBendable=function(){return this.cellsBendable},mxGraph.prototype.setCellsBendable=function(t){this.cellsBendable=t},mxGraph.prototype.isCellEditable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isCellsEditable()&&!this.isCellLocked(t)&&0!=i[mxConstants.STYLE_EDITABLE]},mxGraph.prototype.isCellsEditable=function(){return this.cellsEditable},mxGraph.prototype.setCellsEditable=function(t){this.cellsEditable=t},mxGraph.prototype.isCellDisconnectable=function(t,e,i){return this.isCellsDisconnectable()&&!this.isCellLocked(t)},mxGraph.prototype.isCellsDisconnectable=function(){return this.cellsDisconnectable},mxGraph.prototype.setCellsDisconnectable=function(t){this.cellsDisconnectable=t},mxGraph.prototype.isValidSource=function(t){return null==t&&this.allowDanglingEdges||null!=t&&(!this.model.isEdge(t)||this.connectableEdges)&&this.isCellConnectable(t)},mxGraph.prototype.isValidTarget=function(t){return this.isValidSource(t)},mxGraph.prototype.isValidConnection=function(t,e){return this.isValidSource(t)&&this.isValidTarget(e)},mxGraph.prototype.setConnectable=function(t){this.connectionHandler.setEnabled(t)},mxGraph.prototype.isConnectable=function(){return this.connectionHandler.isEnabled()},mxGraph.prototype.setTooltips=function(t){this.tooltipHandler.setEnabled(t)},mxGraph.prototype.setPanning=function(t){this.panningHandler.panningEnabled=t},mxGraph.prototype.isEditing=function(t){if(null!=this.cellEditor){var e=this.cellEditor.getEditingCell();return null==t?null!=e:t==e}return!1},mxGraph.prototype.isAutoSizeCell=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isAutoSizeCells()||1==i[mxConstants.STYLE_AUTOSIZE]},mxGraph.prototype.isAutoSizeCells=function(){return this.autoSizeCells},mxGraph.prototype.setAutoSizeCells=function(t){this.autoSizeCells=t},mxGraph.prototype.isExtendParent=function(t){return!this.getModel().isEdge(t)&&this.isExtendParents()},mxGraph.prototype.isExtendParents=function(){return this.extendParents},mxGraph.prototype.setExtendParents=function(t){this.extendParents=t},mxGraph.prototype.isExtendParentsOnAdd=function(t){return this.extendParentsOnAdd},mxGraph.prototype.setExtendParentsOnAdd=function(t){this.extendParentsOnAdd=t},mxGraph.prototype.isExtendParentsOnMove=function(){return this.extendParentsOnMove},mxGraph.prototype.setExtendParentsOnMove=function(t){this.extendParentsOnMove=t},mxGraph.prototype.isRecursiveResize=function(t){return this.recursiveResize},mxGraph.prototype.setRecursiveResize=function(t){this.recursiveResize=t},mxGraph.prototype.isConstrainChild=function(t){return this.isConstrainChildren()&&!this.getModel().isEdge(this.getModel().getParent(t))},mxGraph.prototype.isConstrainChildren=function(){return this.constrainChildren},mxGraph.prototype.setConstrainChildren=function(t){this.constrainChildren=t},mxGraph.prototype.isConstrainRelativeChildren=function(){return this.constrainRelativeChildren},mxGraph.prototype.setConstrainRelativeChildren=function(t){this.constrainRelativeChildren=t},mxGraph.prototype.isAllowNegativeCoordinates=function(){return this.allowNegativeCoordinates},mxGraph.prototype.setAllowNegativeCoordinates=function(t){this.allowNegativeCoordinates=t},mxGraph.prototype.getOverlap=function(t){return this.isAllowOverlapParent(t)?this.defaultOverlap:0},mxGraph.prototype.isAllowOverlapParent=function(t){return!1},mxGraph.prototype.getFoldableCells=function(t,e){return this.model.filterCells(t,mxUtils.bind(this,function(t){return this.isCellFoldable(t,e)}))},mxGraph.prototype.isCellFoldable=function(t,e){var i=this.view.getState(t),n=null!=i?i.style:this.getCellStyle(t);return this.model.getChildCount(t)>0&&0!=n[mxConstants.STYLE_FOLDABLE]},mxGraph.prototype.isValidDropTarget=function(t,e,i){return null!=t&&(this.isSplitEnabled()&&this.isSplitTarget(t,e,i)||!this.model.isEdge(t)&&(this.isSwimlane(t)||this.model.getChildCount(t)>0&&!this.isCellCollapsed(t)))},mxGraph.prototype.isSplitTarget=function(t,e,i){if(this.model.isEdge(t)&&null!=e&&1==e.length&&this.isCellConnectable(e[0])&&null==this.getEdgeValidationError(t,this.model.getTerminal(t,!0),e[0])){var n=this.model.getTerminal(t,!0),r=this.model.getTerminal(t,!1);return!this.model.isAncestor(e[0],n)&&!this.model.isAncestor(e[0],r)}return!1},mxGraph.prototype.getDropTarget=function(t,e,i,n){if(!this.isSwimlaneNesting())for(var r=0;r<t.length;r++)if(this.isSwimlane(t[r]))return null;var o=mxUtils.convertPoint(this.container,mxEvent.getClientX(e),mxEvent.getClientY(e));o.x-=this.panDx,o.y-=this.panDy;var s=this.getSwimlaneAt(o.x,o.y);if(null==i)i=s;else if(null!=s){for(var a=this.model.getParent(s);null!=a&&this.isSwimlane(a)&&a!=i;)a=this.model.getParent(a);a==i&&(i=s)}for(;null!=i&&!this.isValidDropTarget(i,t,e)&&!this.model.isLayer(i);)i=this.model.getParent(i);if(null==n||!n)for(var l=i;null!=l&&mxUtils.indexOf(t,l)<0;)l=this.model.getParent(l);return this.model.isLayer(i)||null!=l?null:i},mxGraph.prototype.getDefaultParent=function(){var t=this.getCurrentRoot();if(null==t&&null==(t=this.defaultParent)){var e=this.model.getRoot();t=this.model.getChildAt(e,0)}return t},mxGraph.prototype.setDefaultParent=function(t){this.defaultParent=t},mxGraph.prototype.getSwimlane=function(t){for(;null!=t&&!this.isSwimlane(t);)t=this.model.getParent(t);return t},mxGraph.prototype.getSwimlaneAt=function(t,e,i){if(null!=(i=i||this.getDefaultParent()))for(var n=this.model.getChildCount(i),r=0;r<n;r++){var o=this.model.getChildAt(i,r),s=this.getSwimlaneAt(t,e,o);if(null!=s)return s;if(this.isSwimlane(o)){var a=this.view.getState(o);if(this.intersects(a,t,e))return o}}return null},mxGraph.prototype.getCellAt=function(t,e,i,n,r,o){if(n=null==n||n,r=null==r||r,null==i&&null==(i=this.getCurrentRoot())&&(i=this.getModel().getRoot()),null!=i)for(var s=this.model.getChildCount(i)-1;s>=0;s--){var a=this.model.getChildAt(i,s),l=this.getCellAt(t,e,a,n,r,o);if(null!=l)return l;if(this.isCellVisible(a)&&(r&&this.model.isEdge(a)||n&&this.model.isVertex(a))){var h=this.view.getState(a);if(null!=h&&(null==o||!o(h,t,e))&&this.intersects(h,t,e))return a}}return null},mxGraph.prototype.intersects=function(t,e,i){if(null!=t){var n=t.absolutePoints;if(null!=n)for(var r=this.tolerance*this.tolerance,o=n[0],s=1;s<n.length;s++){var a=n[s];if(mxUtils.ptSegDistSq(o.x,o.y,a.x,a.y,e,i)<=r)return!0;o=a}else{var l=mxUtils.toRadians(mxUtils.getValue(t.style,mxConstants.STYLE_ROTATION)||0);if(0!=l){var h=Math.cos(-l),u=Math.sin(-l),c=new mxPoint(t.getCenterX(),t.getCenterY());e=(o=mxUtils.getRotatedPoint(new mxPoint(e,i),h,u,c)).x,i=o.y}if(mxUtils.contains(t,e,i))return!0}}return!1},mxGraph.prototype.hitsSwimlaneContent=function(t,e,i){var n=this.getView().getState(t),r=this.getStartSize(t);if(null!=n){var o=this.getView().getScale();if(e-=n.x,i-=n.y,r.width>0&&e>0&&e>r.width*o)return!0;if(r.height>0&&i>0&&i>r.height*o)return!0}return!1},mxGraph.prototype.getChildVertices=function(t){return this.getChildCells(t,!0,!1)},mxGraph.prototype.getChildEdges=function(t){return this.getChildCells(t,!1,!0)},mxGraph.prototype.getChildCells=function(t,e,i){t=null!=t?t:this.getDefaultParent(),e=null!=e&&e,i=null!=i&&i;for(var n=this.model.getChildCells(t,e,i),r=[],o=0;o<n.length;o++)this.isCellVisible(n[o])&&r.push(n[o]);return r},mxGraph.prototype.getConnections=function(t,e){return this.getEdges(t,e,!0,!0,!1)},mxGraph.prototype.getIncomingEdges=function(t,e){return this.getEdges(t,e,!0,!1,!1)},mxGraph.prototype.getOutgoingEdges=function(t,e){return this.getEdges(t,e,!1,!0,!1)},mxGraph.prototype.getEdges=function(t,e,i,n,r,o){i=null==i||i,n=null==n||n,r=null==r||r,o=null!=o&&o;for(var s=[],a=this.isCellCollapsed(t),l=this.model.getChildCount(t),h=0;h<l;h++){var u=this.model.getChildAt(t,h);!a&&this.isCellVisible(u)||(s=s.concat(this.model.getEdges(u,i,n)))}s=s.concat(this.model.getEdges(t,i,n));var c=[];for(h=0;h<s.length;h++){var d=this.view.getState(s[h]),p=null!=d?d.getVisibleTerminal(!0):this.view.getVisibleTerminal(s[h],!0),f=null!=d?d.getVisibleTerminal(!1):this.view.getVisibleTerminal(s[h],!1);(r&&p==f||p!=f&&(i&&f==t&&(null==e||this.isValidAncestor(p,e,o))||n&&p==t&&(null==e||this.isValidAncestor(f,e,o))))&&c.push(s[h])}return c},mxGraph.prototype.isValidAncestor=function(t,e,i){return i?this.model.isAncestor(e,t):this.model.getParent(t)==e},mxGraph.prototype.getOpposites=function(t,e,i,n){i=null==i||i,n=null==n||n;var r=[],o=new mxDictionary;if(null!=t)for(var s=0;s<t.length;s++){var a=this.view.getState(t[s]),l=null!=a?a.getVisibleTerminal(!0):this.view.getVisibleTerminal(t[s],!0),h=null!=a?a.getVisibleTerminal(!1):this.view.getVisibleTerminal(t[s],!1);l==e&&null!=h&&h!=e&&n?o.get(h)||(o.put(h,!0),r.push(h)):h==e&&null!=l&&l!=e&&i&&(o.get(l)||(o.put(l,!0),r.push(l)))}return r},mxGraph.prototype.getEdgesBetween=function(t,e,i){i=null!=i&&i;for(var n=this.getEdges(t),r=[],o=0;o<n.length;o++){var s=this.view.getState(n[o]),a=null!=s?s.getVisibleTerminal(!0):this.view.getVisibleTerminal(n[o],!0),l=null!=s?s.getVisibleTerminal(!1):this.view.getVisibleTerminal(n[o],!1);(a==t&&l==e||!i&&a==e&&l==t)&&r.push(n[o])}return r},mxGraph.prototype.getPointForEvent=function(t,e){var i=mxUtils.convertPoint(this.container,mxEvent.getClientX(t),mxEvent.getClientY(t)),n=this.view.scale,r=this.view.translate,o=0!=e?this.gridSize/2:0;return i.x=this.snap(i.x/n-r.x-o),i.y=this.snap(i.y/n-r.y-o),i},mxGraph.prototype.getCells=function(t,e,i,n,r,o){if(o=null!=o?o:[],i>0||n>0){var s=this.getModel(),a=t+i,l=e+n;if(null==r&&null==(r=this.getCurrentRoot())&&(r=s.getRoot()),null!=r)for(var h=s.getChildCount(r),u=0;u<h;u++){var c=s.getChildAt(r,u),d=this.view.getState(c);if(null!=d&&this.isCellVisible(c)){var p=mxUtils.getValue(d.style,mxConstants.STYLE_ROTATION)||0,f=d;0!=p&&(f=mxUtils.getBoundingBox(f,p)),(s.isEdge(c)||s.isVertex(c))&&f.x>=t&&f.y+f.height<=l&&f.y>=e&&f.x+f.width<=a?o.push(c):this.getCells(t,e,i,n,c,o)}}}return o},mxGraph.prototype.getCellsBeyond=function(t,e,i,n,r){var o=[];if((n||r)&&(null==i&&(i=this.getDefaultParent()),null!=i))for(var s=this.model.getChildCount(i),a=0;a<s;a++){var l=this.model.getChildAt(i,a),h=this.view.getState(l);this.isCellVisible(l)&&null!=h&&(!n||h.x>=t)&&(!r||h.y>=e)&&o.push(l)}return o},mxGraph.prototype.findTreeRoots=function(t,e,i){e=null!=e&&e,i=null!=i&&i;var n=[];if(null!=t){for(var r=this.getModel(),o=r.getChildCount(t),s=null,a=0,l=0;l<o;l++){var h=r.getChildAt(t,l);if(this.model.isVertex(h)&&this.isCellVisible(h)){for(var u=this.getConnections(h,e?t:null),c=0,d=0,p=0;p<u.length;p++){this.view.getVisibleTerminal(u[p],!0)==h?c++:d++}(i&&0==c&&d>0||!i&&0==d&&c>0)&&n.push(h);var f=i?d-c:c-d;f>a&&(a=f,s=h)}}0==n.length&&null!=s&&n.push(s)}return n},mxGraph.prototype.traverse=function(t,e,i,n,r,o){if(null!=i&&null!=t&&(e=null==e||e,o=null!=o&&o,!(r=r||new mxDictionary).get(t))){r.put(t,!0);var s=i(t,n);if(null==s||s){var a=this.model.getEdgeCount(t);if(a>0)for(var l=0;l<a;l++){var h=this.model.getEdgeAt(t,l),u=this.model.getTerminal(h,!0)==t;if(!e||!o==u){var c=this.model.getTerminal(h,!u);this.traverse(c,e,i,h,r,o)}}}}},mxGraph.prototype.isCellSelected=function(t){return this.getSelectionModel().isSelected(t)},mxGraph.prototype.isSelectionEmpty=function(){return this.getSelectionModel().isEmpty()},mxGraph.prototype.clearSelection=function(){return this.getSelectionModel().clear()},mxGraph.prototype.getSelectionCount=function(){return this.getSelectionModel().cells.length},mxGraph.prototype.getSelectionCell=function(){return this.getSelectionModel().cells[0]},mxGraph.prototype.getSelectionCells=function(){return this.getSelectionModel().cells.slice()},mxGraph.prototype.setSelectionCell=function(t){this.getSelectionModel().setCell(t)},mxGraph.prototype.setSelectionCells=function(t){this.getSelectionModel().setCells(t)},mxGraph.prototype.addSelectionCell=function(t){this.getSelectionModel().addCell(t)},mxGraph.prototype.addSelectionCells=function(t){this.getSelectionModel().addCells(t)},mxGraph.prototype.removeSelectionCell=function(t){this.getSelectionModel().removeCell(t)},mxGraph.prototype.removeSelectionCells=function(t){this.getSelectionModel().removeCells(t)},mxGraph.prototype.selectRegion=function(t,e){var i=this.getCells(t.x,t.y,t.width,t.height);return this.selectCellsForEvent(i,e),i},mxGraph.prototype.selectNextCell=function(){this.selectCell(!0)},mxGraph.prototype.selectPreviousCell=function(){this.selectCell()},mxGraph.prototype.selectParentCell=function(){this.selectCell(!1,!0)},mxGraph.prototype.selectChildCell=function(){this.selectCell(!1,!1,!0)},mxGraph.prototype.selectCell=function(t,e,i){var n=this.selectionModel,r=n.cells.length>0?n.cells[0]:null;n.cells.length>1&&n.clear();var o=null!=r?this.model.getParent(r):this.getDefaultParent(),s=this.model.getChildCount(o);if(null==r&&s>0){var a=this.model.getChildAt(o,0);this.setSelectionCell(a)}else if(null!=r&&!e||null==this.view.getState(o)||null==this.model.getGeometry(o)){if(null!=r&&i){if(this.model.getChildCount(r)>0){a=this.model.getChildAt(r,0);this.setSelectionCell(a)}}else if(s>0){var l=o.getIndex(r);if(t){l++;a=this.model.getChildAt(o,l%s);this.setSelectionCell(a)}else{var h=--l<0?s-1:l;a=this.model.getChildAt(o,h);this.setSelectionCell(a)}}}else this.getCurrentRoot()!=o&&this.setSelectionCell(o)},mxGraph.prototype.selectAll=function(t,e){t=t||this.getDefaultParent();var i=e?this.model.filterDescendants(mxUtils.bind(this,function(e){return e!=t&&null!=this.view.getState(e)}),t):this.model.getChildren(t);null!=i&&this.setSelectionCells(i)},mxGraph.prototype.selectVertices=function(t){this.selectCells(!0,!1,t)},mxGraph.prototype.selectEdges=function(t){this.selectCells(!1,!0,t)},mxGraph.prototype.selectCells=function(t,e,i){i=i||this.getDefaultParent();var n=mxUtils.bind(this,function(i){return null!=this.view.getState(i)&&(0==this.model.getChildCount(i)&&this.model.isVertex(i)&&t&&!this.model.isEdge(this.model.getParent(i))||this.model.isEdge(i)&&e)}),r=this.model.filterDescendants(n,i);null!=r&&this.setSelectionCells(r)},mxGraph.prototype.selectCellForEvent=function(t,e){var i=this.isCellSelected(t);this.isToggleEvent(e)?i?this.removeSelectionCell(t):this.addSelectionCell(t):i&&1==this.getSelectionCount()||this.setSelectionCell(t)},mxGraph.prototype.selectCellsForEvent=function(t,e){this.isToggleEvent(e)?this.addSelectionCells(t):this.setSelectionCells(t)},mxGraph.prototype.createHandler=function(t){var e=null;if(null!=t)if(this.model.isEdge(t.cell)){var i=t.getVisibleTerminalState(!0),n=t.getVisibleTerminalState(!1),r=this.getCellGeometry(t.cell),o=this.view.getEdgeStyle(t,null!=r?r.points:null,i,n);e=this.createEdgeHandler(t,o)}else e=this.createVertexHandler(t);return e},mxGraph.prototype.createVertexHandler=function(t){return new mxVertexHandler(t)},mxGraph.prototype.createEdgeHandler=function(t,e){return e==mxEdgeStyle.Loop||e==mxEdgeStyle.ElbowConnector||e==mxEdgeStyle.SideToSide||e==mxEdgeStyle.TopToBottom?this.createElbowEdgeHandler(t):e==mxEdgeStyle.SegmentConnector||e==mxEdgeStyle.OrthConnector?this.createEdgeSegmentHandler(t):new mxEdgeHandler(t)},mxGraph.prototype.createEdgeSegmentHandler=function(t){return new mxEdgeSegmentHandler(t)},mxGraph.prototype.createElbowEdgeHandler=function(t){return new mxElbowEdgeHandler(t)},mxGraph.prototype.addMouseListener=function(t){null==this.mouseListeners&&(this.mouseListeners=[]),this.mouseListeners.push(t)},mxGraph.prototype.removeMouseListener=function(t){if(null!=this.mouseListeners)for(var e=0;e<this.mouseListeners.length;e++)if(this.mouseListeners[e]==t){this.mouseListeners.splice(e,1);break}},mxGraph.prototype.updateMouseEvent=function(t,e){if(null==t.graphX||null==t.graphY){var i=mxUtils.convertPoint(this.container,t.getX(),t.getY());t.graphX=i.x-this.panDx,t.graphY=i.y-this.panDy,null==t.getCell()&&this.isMouseDown&&e==mxEvent.MOUSE_MOVE&&(t.state=this.view.getState(this.getCellAt(i.x,i.y,null,null,null,function(t){return null==t.shape||t.shape.paintBackground!=mxRectangleShape.prototype.paintBackground||"1"==mxUtils.getValue(t.style,mxConstants.STYLE_POINTER_EVENTS,"1")||null!=t.shape.fill&&t.shape.fill!=mxConstants.NONE})))}return t},mxGraph.prototype.getStateForTouchEvent=function(t){var e=mxEvent.getClientX(t),i=mxEvent.getClientY(t),n=mxUtils.convertPoint(this.container,e,i);return this.view.getState(this.getCellAt(n.x,n.y))},mxGraph.prototype.isEventIgnored=function(t,e,i){var n=mxEvent.isMouseEvent(e.getEvent()),r=!1;return e.getEvent()==this.lastEvent?r=!0:this.lastEvent=e.getEvent(),null!=this.eventSource&&t!=mxEvent.MOUSE_MOVE?(mxEvent.removeGestureListeners(this.eventSource,null,this.mouseMoveRedirect,this.mouseUpRedirect),this.mouseMoveRedirect=null,this.mouseUpRedirect=null,this.eventSource=null):mxClient.IS_GC||null==this.eventSource||e.getSource()==this.eventSource?!mxClient.IS_TOUCH||t!=mxEvent.MOUSE_DOWN||n||mxEvent.isPenEvent(e.getEvent())||(this.eventSource=e.getSource(),this.mouseMoveRedirect=mxUtils.bind(this,function(t){this.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(t,this.getStateForTouchEvent(t)))}),this.mouseUpRedirect=mxUtils.bind(this,function(t){this.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(t,this.getStateForTouchEvent(t)))}),mxEvent.addGestureListeners(this.eventSource,null,this.mouseMoveRedirect,this.mouseUpRedirect)):r=!0,this.isSyntheticEventIgnored(t,e,i)&&(r=!0),!mxEvent.isPopupTrigger(this.lastEvent)&&t!=mxEvent.MOUSE_MOVE&&2==this.lastEvent.detail||(t==mxEvent.MOUSE_UP&&this.isMouseDown?this.isMouseDown=!1:t!=mxEvent.MOUSE_DOWN||this.isMouseDown?!r&&((!mxClient.IS_FF||t!=mxEvent.MOUSE_MOVE)&&this.isMouseDown&&this.isMouseTrigger!=n||t==mxEvent.MOUSE_DOWN&&this.isMouseDown||t==mxEvent.MOUSE_UP&&!this.isMouseDown)&&(r=!0):(this.isMouseDown=!0,this.isMouseTrigger=n),r||t!=mxEvent.MOUSE_DOWN||(this.lastMouseX=e.getX(),this.lastMouseY=e.getY()),r)},mxGraph.prototype.isSyntheticEventIgnored=function(t,e,i){var n=!1,r=mxEvent.isMouseEvent(e.getEvent());return this.ignoreMouseEvents&&r&&t!=mxEvent.MOUSE_MOVE?(this.ignoreMouseEvents=t!=mxEvent.MOUSE_UP,n=!0):mxClient.IS_FF&&!r&&t==mxEvent.MOUSE_UP&&(this.ignoreMouseEvents=!0),n},mxGraph.prototype.isEventSourceIgnored=function(t,e){var i=e.getSource(),n=null!=i.nodeName?i.nodeName.toLowerCase():"",r=!mxEvent.isMouseEvent(e.getEvent())||mxEvent.isLeftMouseButton(e.getEvent());return t==mxEvent.MOUSE_DOWN&&r&&("select"==n||"option"==n||"input"==n&&"checkbox"!=i.type&&"radio"!=i.type&&"button"!=i.type&&"submit"!=i.type&&"file"!=i.type)},mxGraph.prototype.getEventState=function(t){return t},mxGraph.prototype.fireMouseEvent=function(t,e,i){if(this.isEventSourceIgnored(t,e))null!=this.tooltipHandler&&this.tooltipHandler.hide();else{if(null==i&&(i=this),e=this.updateMouseEvent(e,t),!this.nativeDblClickEnabled&&!mxEvent.isPopupTrigger(e.getEvent())||this.doubleTapEnabled&&mxClient.IS_TOUCH&&(mxEvent.isTouchEvent(e.getEvent())||mxEvent.isPenEvent(e.getEvent()))){var n=(new Date).getTime();if(!mxClient.IS_QUIRKS&&t==mxEvent.MOUSE_DOWN||mxClient.IS_QUIRKS&&t==mxEvent.MOUSE_UP&&!this.fireDoubleClick)if(null!=this.lastTouchEvent&&this.lastTouchEvent!=e.getEvent()&&n-this.lastTouchTime<this.doubleTapTimeout&&Math.abs(this.lastTouchX-e.getX())<this.doubleTapTolerance&&Math.abs(this.lastTouchY-e.getY())<this.doubleTapTolerance&&this.doubleClickCounter<2){this.doubleClickCounter++;var r=!1;if(t==mxEvent.MOUSE_UP){if(e.getCell()==this.lastTouchCell&&null!=this.lastTouchCell){this.lastTouchTime=0;var o=this.lastTouchCell;this.lastTouchCell=null,mxClient.IS_QUIRKS&&e.getSource().fireEvent("ondblclick"),this.dblClick(e.getEvent(),o),r=!0}}else this.fireDoubleClick=!0,this.lastTouchTime=0;if(!mxClient.IS_QUIRKS||r)return void mxEvent.consume(e.getEvent())}else null!=this.lastTouchEvent&&this.lastTouchEvent==e.getEvent()||(this.lastTouchCell=e.getCell(),this.lastTouchX=e.getX(),this.lastTouchY=e.getY(),this.lastTouchTime=n,this.lastTouchEvent=e.getEvent(),this.doubleClickCounter=0);else if((this.isMouseDown||t==mxEvent.MOUSE_UP)&&this.fireDoubleClick){this.fireDoubleClick=!1;o=this.lastTouchCell;return this.lastTouchCell=null,this.isMouseDown=!1,void((null!=o||(mxEvent.isTouchEvent(e.getEvent())||mxEvent.isPenEvent(e.getEvent()))&&(mxClient.IS_GC||mxClient.IS_SF))&&Math.abs(this.lastTouchX-e.getX())<this.doubleTapTolerance&&Math.abs(this.lastTouchY-e.getY())<this.doubleTapTolerance?this.dblClick(e.getEvent(),o):mxEvent.consume(e.getEvent()))}}if(!this.isEventIgnored(t,e,i)){if(e.state=this.getEventState(e.getState()),this.fireEvent(new mxEventObject(mxEvent.FIRE_MOUSE_EVENT,"eventName",t,"event",e)),mxClient.IS_OP||mxClient.IS_SF||mxClient.IS_GC||mxClient.IS_IE11||mxClient.IS_IE&&mxClient.IS_SVG||e.getEvent().target!=this.container){if(t==mxEvent.MOUSE_MOVE&&this.isMouseDown&&this.autoScroll&&!mxEvent.isMultiTouchEvent(e.getEvent))this.scrollPointToVisible(e.getGraphX(),e.getGraphY(),this.autoExtend);else if(t==mxEvent.MOUSE_UP&&this.ignoreScrollbars&&this.translateToScrollPosition&&(0!=this.container.scrollLeft||0!=this.container.scrollTop)){var s=this.view.scale,a=this.view.translate;this.view.setTranslate(a.x-this.container.scrollLeft/s,a.y-this.container.scrollTop/s),this.container.scrollLeft=0,this.container.scrollTop=0}if(null!=this.mouseListeners){var l=[i,e];e.getEvent().preventDefault||(e.getEvent().returnValue=!0);for(var h=0;h<this.mouseListeners.length;h++){var u=this.mouseListeners[h];t==mxEvent.MOUSE_DOWN?u.mouseDown.apply(u,l):t==mxEvent.MOUSE_MOVE?u.mouseMove.apply(u,l):t==mxEvent.MOUSE_UP&&u.mouseUp.apply(u,l)}}t==mxEvent.MOUSE_UP&&this.click(e)}if((mxEvent.isTouchEvent(e.getEvent())||mxEvent.isPenEvent(e.getEvent()))&&t==mxEvent.MOUSE_DOWN&&this.tapAndHoldEnabled&&!this.tapAndHoldInProgress){this.tapAndHoldInProgress=!0,this.initialTouchX=e.getGraphX(),this.initialTouchY=e.getGraphY();this.tapAndHoldThread&&window.clearTimeout(this.tapAndHoldThread),this.tapAndHoldThread=window.setTimeout(mxUtils.bind(this,function(){this.tapAndHoldValid&&this.tapAndHold(e),this.tapAndHoldInProgress=!1,this.tapAndHoldValid=!1}),this.tapAndHoldDelay),this.tapAndHoldValid=!0}else t==mxEvent.MOUSE_UP?(this.tapAndHoldInProgress=!1,this.tapAndHoldValid=!1):this.tapAndHoldValid&&(this.tapAndHoldValid=Math.abs(this.initialTouchX-e.getGraphX())<this.tolerance&&Math.abs(this.initialTouchY-e.getGraphY())<this.tolerance);t==mxEvent.MOUSE_DOWN&&this.isEditing()&&!this.cellEditor.isEventSource(e.getEvent())&&this.stopEditing(!this.isInvokesStopCellEditing()),this.consumeMouseEvent(t,e,i)}}},mxGraph.prototype.consumeMouseEvent=function(t,e,i){t==mxEvent.MOUSE_DOWN&&mxEvent.isTouchEvent(e.getEvent())&&e.consume(!1)},mxGraph.prototype.fireGestureEvent=function(t,e){this.lastTouchTime=0,this.fireEvent(new mxEventObject(mxEvent.GESTURE,"event",t,"cell",e))},mxGraph.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,null!=this.tooltipHandler&&this.tooltipHandler.destroy(),null!=this.selectionCellsHandler&&this.selectionCellsHandler.destroy(),null!=this.panningHandler&&this.panningHandler.destroy(),null!=this.popupMenuHandler&&this.popupMenuHandler.destroy(),null!=this.connectionHandler&&this.connectionHandler.destroy(),null!=this.graphHandler&&this.graphHandler.destroy(),null!=this.cellEditor&&this.cellEditor.destroy(),null!=this.view&&this.view.destroy(),null!=this.model&&null!=this.graphModelChangeListener&&(this.model.removeListener(this.graphModelChangeListener),this.graphModelChangeListener=null),this.container=null)},__mxOutput.mxGraph=void 0!==mxGraph?mxGraph:void 0,mxCellOverlay.prototype=new mxEventSource,mxCellOverlay.prototype.constructor=mxCellOverlay,mxCellOverlay.prototype.image=null,mxCellOverlay.prototype.tooltip=null,mxCellOverlay.prototype.align=mxConstants.ALIGN_RIGHT,mxCellOverlay.prototype.verticalAlign=mxConstants.ALIGN_BOTTOM,mxCellOverlay.prototype.offset=null,mxCellOverlay.prototype.cursor=null,mxCellOverlay.prototype.defaultOverlap=.5,mxCellOverlay.prototype.getBounds=function(t){var e=t.view.graph.getModel().isEdge(t.cell),i=t.view.scale,n=null,r=this.image.width,o=this.image.height;if(e){var s=t.absolutePoints;if(s.length%2==1)n=s[Math.floor(s.length/2)];else{var a=s.length/2,l=s[a-1],h=s[a];n=new mxPoint(l.x+(h.x-l.x)/2,l.y+(h.y-l.y)/2)}}else n=new mxPoint,this.align==mxConstants.ALIGN_LEFT?n.x=t.x:this.align==mxConstants.ALIGN_CENTER?n.x=t.x+t.width/2:n.x=t.x+t.width,this.verticalAlign==mxConstants.ALIGN_TOP?n.y=t.y:this.verticalAlign==mxConstants.ALIGN_MIDDLE?n.y=t.y+t.height/2:n.y=t.y+t.height;return new mxRectangle(Math.round(n.x-(r*this.defaultOverlap-this.offset.x)*i),Math.round(n.y-(o*this.defaultOverlap-this.offset.y)*i),r*i,o*i)},mxCellOverlay.prototype.toString=function(){return this.tooltip},__mxOutput.mxCellOverlay=void 0!==mxCellOverlay?mxCellOverlay:void 0,mxOutline.prototype.source=null,mxOutline.prototype.outline=null,mxOutline.prototype.graphRenderHint=mxConstants.RENDERING_HINT_FASTER,mxOutline.prototype.enabled=!0,mxOutline.prototype.showViewport=!0,mxOutline.prototype.border=10,mxOutline.prototype.sizerSize=8,mxOutline.prototype.labelsVisible=!1,mxOutline.prototype.updateOnPan=!1,mxOutline.prototype.sizerImage=null,mxOutline.prototype.minScale=1e-4,mxOutline.prototype.suspended=!1,mxOutline.prototype.forceVmlHandles=8==document.documentMode,mxOutline.prototype.createGraph=function(t){var e=new mxGraph(t,this.source.getModel(),this.graphRenderHint,this.source.getStylesheet());return e.foldingEnabled=!1,e.autoScroll=!1,e},mxOutline.prototype.init=function(t){this.outline=this.createGraph(t);var e=this.outline.graphModelChanged;if(this.outline.graphModelChanged=mxUtils.bind(this,function(t){this.suspended||null==this.outline||e.apply(this.outline,arguments)}),mxClient.IS_SVG){var i=this.outline.getView().getCanvas().parentNode;i.setAttribute("shape-rendering","optimizeSpeed"),i.setAttribute("image-rendering","optimizeSpeed")}this.outline.labelsVisible=this.labelsVisible,this.outline.setEnabled(!1),this.updateHandler=mxUtils.bind(this,function(t,e){this.suspended||this.active||this.update()}),this.source.getModel().addListener(mxEvent.CHANGE,this.updateHandler),this.outline.addMouseListener(this);var n=this.source.getView();n.addListener(mxEvent.SCALE,this.updateHandler),n.addListener(mxEvent.TRANSLATE,this.updateHandler),n.addListener(mxEvent.SCALE_AND_TRANSLATE,this.updateHandler),n.addListener(mxEvent.DOWN,this.updateHandler),n.addListener(mxEvent.UP,this.updateHandler),mxEvent.addListener(this.source.container,"scroll",this.updateHandler),this.panHandler=mxUtils.bind(this,function(t){this.updateOnPan&&this.updateHandler.apply(this,arguments)}),this.source.addListener(mxEvent.PAN,this.panHandler),this.refreshHandler=mxUtils.bind(this,function(t){this.outline.setStylesheet(this.source.getStylesheet()),this.outline.refresh()}),this.source.addListener(mxEvent.REFRESH,this.refreshHandler),this.bounds=new mxRectangle(0,0,0,0),this.selectionBorder=new mxRectangleShape(this.bounds,null,mxConstants.OUTLINE_COLOR,mxConstants.OUTLINE_STROKEWIDTH),this.selectionBorder.dialect=this.outline.dialect,this.forceVmlHandles&&(this.selectionBorder.isHtmlAllowed=function(){return!1}),this.selectionBorder.init(this.outline.getView().getOverlayPane());var r=mxUtils.bind(this,function(t){var e=mxEvent.getSource(t),i=mxUtils.bind(this,function(t){this.outline.fireMouseEvent(mxEvent.MOUSE_MOVE,new mxMouseEvent(t))}),n=mxUtils.bind(this,function(t){mxEvent.removeGestureListeners(e,null,i,n),this.outline.fireMouseEvent(mxEvent.MOUSE_UP,new mxMouseEvent(t))});mxEvent.addGestureListeners(e,null,i,n),this.outline.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(t))});mxEvent.addGestureListeners(this.selectionBorder.node,r),this.sizer=this.createSizer(),this.forceVmlHandles&&(this.sizer.isHtmlAllowed=function(){return!1}),this.sizer.init(this.outline.getView().getOverlayPane()),this.enabled&&(this.sizer.node.style.cursor="nwse-resize"),mxEvent.addGestureListeners(this.sizer.node,r),this.selectionBorder.node.style.display=this.showViewport?"":"none",this.sizer.node.style.display=this.selectionBorder.node.style.display,this.selectionBorder.node.style.cursor="move",this.update(!1)},mxOutline.prototype.isEnabled=function(){return this.enabled},mxOutline.prototype.setEnabled=function(t){this.enabled=t},mxOutline.prototype.setZoomEnabled=function(t){this.sizer.node.style.visibility=t?"visible":"hidden"},mxOutline.prototype.refresh=function(){this.update(!0)},mxOutline.prototype.createSizer=function(){var t;return null!=this.sizerImage?((t=new mxImageShape(new mxRectangle(0,0,this.sizerImage.width,this.sizerImage.height),this.sizerImage.src)).dialect=this.outline.dialect,t):((t=new mxRectangleShape(new mxRectangle(0,0,this.sizerSize,this.sizerSize),mxConstants.OUTLINE_HANDLE_FILLCOLOR,mxConstants.OUTLINE_HANDLE_STROKECOLOR)).dialect=this.outline.dialect,t)},mxOutline.prototype.getSourceContainerSize=function(){return new mxRectangle(0,0,this.source.container.scrollWidth,this.source.container.scrollHeight)},mxOutline.prototype.getOutlineOffset=function(t){return null},mxOutline.prototype.getSourceGraphBounds=function(){return this.source.getGraphBounds()},mxOutline.prototype.update=function(t){if(null!=this.source&&null!=this.source.container&&null!=this.outline&&null!=this.outline.container){var e=this.source.view.scale,i=this.getSourceGraphBounds(),n=new mxRectangle(i.x/e+this.source.panDx,i.y/e+this.source.panDy,i.width/e,i.height/e),r=new mxRectangle(0,0,this.source.container.clientWidth/e,this.source.container.clientHeight/e),o=n.clone();o.add(r);var s=this.getSourceContainerSize(),a=Math.max(s.width/e,o.width),l=Math.max(s.height/e,o.height),h=Math.max(0,this.outline.container.clientWidth-this.border),u=Math.max(0,this.outline.container.clientHeight-this.border),c=Math.min(h/a,u/l),d=isNaN(c)?this.minScale:Math.max(this.minScale,c);if(d>0){this.outline.getView().scale!=d&&(this.outline.getView().scale=d,t=!0);var p=this.outline.getView();p.currentRoot!=this.source.getView().currentRoot&&p.setCurrentRoot(this.source.getView().currentRoot);var f=this.source.view.translate,m=f.x+this.source.panDx,g=f.y+this.source.panDy,v=this.getOutlineOffset(d);null!=v&&(m+=v.x,g+=v.y),n.x<0&&(m-=n.x),n.y<0&&(g-=n.y),p.translate.x==m&&p.translate.y==g||(p.translate.x=m,p.translate.y=g,t=!0);var A=p.translate,y=(d=this.source.getView().scale)/p.scale,x=1/p.scale,b=this.source.container;this.bounds=new mxRectangle((A.x-f.x-this.source.panDx)/x,(A.y-f.y-this.source.panDy)/x,b.clientWidth/y,b.clientHeight/y),this.bounds.x+=this.source.container.scrollLeft*p.scale/d,this.bounds.y+=this.source.container.scrollTop*p.scale/d,(C=this.selectionBorder.bounds).x==this.bounds.x&&C.y==this.bounds.y&&C.width==this.bounds.width&&C.height==this.bounds.height||(this.selectionBorder.bounds=this.bounds,this.selectionBorder.redraw());var C=this.sizer.bounds,w=new mxRectangle(this.bounds.x+this.bounds.width-C.width/2,this.bounds.y+this.bounds.height-C.height/2,C.width,C.height);C.x==w.x&&C.y==w.y&&C.width==w.width&&C.height==w.height||(this.sizer.bounds=w,"hidden"!=this.sizer.node.style.visibility&&this.sizer.redraw()),t&&this.outline.view.revalidate()}}},mxOutline.prototype.mouseDown=function(t,e){if(this.enabled&&this.showViewport){var i=mxEvent.isMouseEvent(e.getEvent())?0:this.source.tolerance,n=this.source.allowHandleBoundsCheck&&(mxClient.IS_IE||i>0)?new mxRectangle(e.getGraphX()-i,e.getGraphY()-i,2*i,2*i):null;this.zoom=e.isSource(this.sizer)||null!=n&&mxUtils.intersects(shape.bounds,n),this.startX=e.getX(),this.startY=e.getY(),this.active=!0,this.source.useScrollbarsForPanning&&mxUtils.hasScrollbars(this.source.container)?(this.dx0=this.source.container.scrollLeft,this.dy0=this.source.container.scrollTop):(this.dx0=0,this.dy0=0)}e.consume()},mxOutline.prototype.mouseMove=function(t,e){if(this.active){this.selectionBorder.node.style.display=this.showViewport?"":"none",this.sizer.node.style.display=this.selectionBorder.node.style.display;var i=this.getTranslateForEvent(e),n=i.x,r=i.y,o=null;if(this.zoom){var s=this.source.container;r=n/(s.clientWidth/s.clientHeight),o=new mxRectangle(this.bounds.x,this.bounds.y,Math.max(1,this.bounds.width+n),Math.max(1,this.bounds.height+r)),this.selectionBorder.bounds=o,this.selectionBorder.redraw()}else{var a=this.outline.getView().scale;o=new mxRectangle(this.bounds.x+n,this.bounds.y+r,this.bounds.width,this.bounds.height),this.selectionBorder.bounds=o,this.selectionBorder.redraw(),n/=a,n*=this.source.getView().scale,r/=a,r*=this.source.getView().scale,this.source.panGraph(-n-this.dx0,-r-this.dy0)}var l=this.sizer.bounds;this.sizer.bounds=new mxRectangle(o.x+o.width-l.width/2,o.y+o.height-l.height/2,l.width,l.height),"hidden"!=this.sizer.node.style.visibility&&this.sizer.redraw(),e.consume()}},mxOutline.prototype.getTranslateForEvent=function(t){return new mxPoint(t.getX()-this.startX,t.getY()-this.startY)},mxOutline.prototype.mouseUp=function(t,e){if(this.active){var i=this.getTranslateForEvent(e),n=i.x,r=i.y;if(Math.abs(n)>0||Math.abs(r)>0){if(this.zoom){var o=this.selectionBorder.bounds.width,s=this.source.getView().scale;this.source.zoomTo(Math.max(this.minScale,s-n*s/o),!1)}else if(!this.source.useScrollbarsForPanning||!mxUtils.hasScrollbars(this.source.container)){this.source.panGraph(0,0),n/=this.outline.getView().scale,r/=this.outline.getView().scale;var a=this.source.getView().translate;this.source.getView().setTranslate(a.x-n,a.y-r)}this.update(),e.consume()}this.index=null,this.active=!1}},mxOutline.prototype.destroy=function(){null!=this.source&&(this.source.removeListener(this.panHandler),this.source.removeListener(this.refreshHandler),this.source.getModel().removeListener(this.updateHandler),this.source.getView().removeListener(this.updateHandler),mxEvent.removeListener(this.source.container,"scroll",this.updateHandler),this.source=null),null!=this.outline&&(this.outline.removeMouseListener(this),this.outline.destroy(),this.outline=null),null!=this.selectionBorder&&(this.selectionBorder.destroy(),this.selectionBorder=null),null!=this.sizer&&(this.sizer.destroy(),this.sizer=null)},__mxOutput.mxOutline=void 0!==mxOutline?mxOutline:void 0,mxMultiplicity.prototype.type=null,mxMultiplicity.prototype.attr=null,mxMultiplicity.prototype.value=null,mxMultiplicity.prototype.source=null,mxMultiplicity.prototype.min=null,mxMultiplicity.prototype.max=null,mxMultiplicity.prototype.validNeighbors=null,mxMultiplicity.prototype.validNeighborsAllowed=!0,mxMultiplicity.prototype.countError=null,mxMultiplicity.prototype.typeError=null,mxMultiplicity.prototype.check=function(t,e,i,n,r,o){var s="";(this.source&&this.checkTerminal(t,i,e)||!this.source&&this.checkTerminal(t,n,e))&&(null!=this.countError&&(this.source&&(0==this.max||r>=this.max)||!this.source&&(0==this.max||o>=this.max))&&(s+=this.countError+"\n"),null!=this.validNeighbors&&null!=this.typeError&&this.validNeighbors.length>0&&(this.checkNeighbors(t,e,i,n)||(s+=this.typeError+"\n")));return s.length>0?s:null},mxMultiplicity.prototype.checkNeighbors=function(t,e,i,n){for(var r=t.model.getValue(i),o=t.model.getValue(n),s=!this.validNeighborsAllowed,a=this.validNeighbors,l=0;l<a.length;l++){if(this.source&&this.checkType(t,o,a[l])){s=this.validNeighborsAllowed;break}if(!this.source&&this.checkType(t,r,a[l])){s=this.validNeighborsAllowed;break}}return s},mxMultiplicity.prototype.checkTerminal=function(t,e,i){var n=t.model.getValue(e);return this.checkType(t,n,this.type,this.attr,this.value)},mxMultiplicity.prototype.checkType=function(t,e,i,n,r){return null!=e&&(isNaN(e.nodeType)?e==i:mxUtils.isNode(e,i,n,r))},__mxOutput.mxMultiplicity=void 0!==mxMultiplicity?mxMultiplicity:void 0,mxLayoutManager.prototype=new mxEventSource,mxLayoutManager.prototype.constructor=mxLayoutManager,mxLayoutManager.prototype.graph=null,mxLayoutManager.prototype.bubbling=!0,mxLayoutManager.prototype.enabled=!0,mxLayoutManager.prototype.updateHandler=null,mxLayoutManager.prototype.moveHandler=null,mxLayoutManager.prototype.isEnabled=function(){return this.enabled},mxLayoutManager.prototype.setEnabled=function(t){this.enabled=t},mxLayoutManager.prototype.isBubbling=function(){return this.bubbling},mxLayoutManager.prototype.setBubbling=function(t){this.bubbling=t},mxLayoutManager.prototype.getGraph=function(){return this.graph},mxLayoutManager.prototype.setGraph=function(t){null!=this.graph&&(this.graph.getModel().removeListener(this.undoHandler),this.graph.removeListener(this.moveHandler));(this.graph=t,null!=this.graph)&&(this.graph.getModel().addListener(mxEvent.BEFORE_UNDO,this.undoHandler),this.graph.addListener(mxEvent.MOVE_CELLS,this.moveHandler))},mxLayoutManager.prototype.getLayout=function(t){return null},mxLayoutManager.prototype.beforeUndo=function(t){for(var e=this.getCellsForChanges(t.changes),i=this.getGraph().getModel(),n=[],r=0;r<e.length;r++)n=n.concat(i.getDescendants(e[r]));if(e=n,this.isBubbling())for(n=i.getParents(e);n.length>0;)e=e.concat(n),n=i.getParents(n);this.executeLayoutForCells(e)},mxLayoutManager.prototype.executeLayoutForCells=function(t){var e=mxUtils.sortCells(t,!0);e=e.concat(e.slice().reverse()),this.layoutCells(e)},mxLayoutManager.prototype.cellsMoved=function(t,e){if(null!=t&&null!=e)for(var i=mxUtils.convertPoint(this.getGraph().container,mxEvent.getClientX(e),mxEvent.getClientY(e)),n=this.getGraph().getModel(),r=0;r<t.length;r++){var o=n.getParent(t[r]);if(mxUtils.indexOf(t,o)<0){var s=this.getLayout(o);null!=s&&s.moveCell(t[r],i.x,i.y)}}},mxLayoutManager.prototype.getCellsForChanges=function(t){for(var e=new mxDictionary,i=[],n=0;n<t.length;n++){var r=t[n];if(r instanceof mxRootChange)return[];for(var o=this.getCellsForChange(r),s=0;s<o.length;s++)null==o[s]||e.get(o[s])||(e.put(o[s],!0),i.push(o[s]))}return i},mxLayoutManager.prototype.getCellsForChange=function(t){var e=this.getGraph().getModel();return t instanceof mxChildChange?[t.child,t.previous,e.getParent(t.child)]:t instanceof mxTerminalChange||t instanceof mxGeometryChange?[t.cell,e.getParent(t.cell)]:t instanceof mxVisibleChange||t instanceof mxStyleChange?[t.cell]:[]},mxLayoutManager.prototype.layoutCells=function(t){if(t.length>0){var e=this.getGraph().getModel();e.beginUpdate();try{for(var i=null,n=0;n<t.length;n++)t[n]!=e.getRoot()&&t[n]!=i&&this.executeLayout(this.getLayout(t[n]),t[n])&&(i=t[n]);this.fireEvent(new mxEventObject(mxEvent.LAYOUT_CELLS,"cells",t))}finally{e.endUpdate()}}},mxLayoutManager.prototype.executeLayout=function(t,e){var i=!1;return null!=t&&null!=e&&(t.execute(e),i=!0),i},mxLayoutManager.prototype.destroy=function(){this.setGraph(null)},__mxOutput.mxLayoutManager=void 0!==mxLayoutManager?mxLayoutManager:void 0,mxSwimlaneManager.prototype=new mxEventSource,mxSwimlaneManager.prototype.constructor=mxSwimlaneManager,mxSwimlaneManager.prototype.graph=null,mxSwimlaneManager.prototype.enabled=!0,mxSwimlaneManager.prototype.horizontal=!0,mxSwimlaneManager.prototype.addEnabled=!0,mxSwimlaneManager.prototype.resizeEnabled=!0,mxSwimlaneManager.prototype.addHandler=null,mxSwimlaneManager.prototype.resizeHandler=null,mxSwimlaneManager.prototype.isEnabled=function(){return this.enabled},mxSwimlaneManager.prototype.setEnabled=function(t){this.enabled=t},mxSwimlaneManager.prototype.isHorizontal=function(){return this.horizontal},mxSwimlaneManager.prototype.setHorizontal=function(t){this.horizontal=t},mxSwimlaneManager.prototype.isAddEnabled=function(){return this.addEnabled},mxSwimlaneManager.prototype.setAddEnabled=function(t){this.addEnabled=t},mxSwimlaneManager.prototype.isResizeEnabled=function(){return this.resizeEnabled},mxSwimlaneManager.prototype.setResizeEnabled=function(t){this.resizeEnabled=t},mxSwimlaneManager.prototype.getGraph=function(){return this.graph},mxSwimlaneManager.prototype.setGraph=function(t){null!=this.graph&&(this.graph.removeListener(this.addHandler),this.graph.removeListener(this.resizeHandler)),this.graph=t,null!=this.graph&&(this.graph.addListener(mxEvent.ADD_CELLS,this.addHandler),this.graph.addListener(mxEvent.CELLS_RESIZED,this.resizeHandler))},mxSwimlaneManager.prototype.isSwimlaneIgnored=function(t){return!this.getGraph().isSwimlane(t)},mxSwimlaneManager.prototype.isCellHorizontal=function(t){if(this.graph.isSwimlane(t)){var e=this.graph.getCellStyle(t);return 1==mxUtils.getValue(e,mxConstants.STYLE_HORIZONTAL,1)}return!this.isHorizontal()},mxSwimlaneManager.prototype.cellsAdded=function(t){if(null!=t){var e=this.getGraph().getModel();e.beginUpdate();try{for(var i=0;i<t.length;i++)this.isSwimlaneIgnored(t[i])||this.swimlaneAdded(t[i])}finally{e.endUpdate()}}},mxSwimlaneManager.prototype.swimlaneAdded=function(t){for(var e=this.getGraph().getModel(),i=e.getParent(t),n=e.getChildCount(i),r=null,o=0;o<n;o++){var s=e.getChildAt(i,o);if(s!=t&&!this.isSwimlaneIgnored(s)&&null!=(r=e.getGeometry(s)))break}if(null!=r){var a=null!=i?this.isCellHorizontal(i):this.horizontal;this.resizeSwimlane(t,r.width,r.height,a)}},mxSwimlaneManager.prototype.cellsResized=function(t){if(null!=t){var e=this.getGraph().getModel();e.beginUpdate();try{for(var i=0;i<t.length;i++)if(!this.isSwimlaneIgnored(t[i])){var n=e.getGeometry(t[i]);if(null!=n){for(var r=new mxRectangle(0,0,n.width,n.height),o=t[i],s=o;null!=s;){o=s,s=e.getParent(s);var a=this.graph.isSwimlane(s)?this.graph.getStartSize(s):new mxRectangle;r.width+=a.width,r.height+=a.height}var l=null!=s?this.isCellHorizontal(s):this.horizontal;this.resizeSwimlane(o,r.width,r.height,l)}}}finally{e.endUpdate()}}},mxSwimlaneManager.prototype.resizeSwimlane=function(t,e,i,n){var r=this.getGraph().getModel();r.beginUpdate();try{var o=this.isCellHorizontal(t);if(!this.isSwimlaneIgnored(t)){var s=r.getGeometry(t);null!=s&&(n&&s.height!=i||!n&&s.width!=e)&&(s=s.clone(),n?s.height=i:s.width=e,r.setGeometry(t,s))}var a=this.graph.isSwimlane(t)?this.graph.getStartSize(t):new mxRectangle;e-=a.width,i-=a.height;for(var l=r.getChildCount(t),h=0;h<l;h++){var u=r.getChildAt(t,h);this.resizeSwimlane(u,e,i,o)}}finally{r.endUpdate()}},mxSwimlaneManager.prototype.destroy=function(){this.setGraph(null)},__mxOutput.mxSwimlaneManager=void 0!==mxSwimlaneManager?mxSwimlaneManager:void 0,mxTemporaryCellStates.prototype.view=null,mxTemporaryCellStates.prototype.oldStates=null,mxTemporaryCellStates.prototype.oldBounds=null,mxTemporaryCellStates.prototype.oldScale=null,mxTemporaryCellStates.prototype.destroy=function(){this.view.setScale(this.oldScale),this.view.setStates(this.oldStates),this.view.setGraphBounds(this.oldBounds),this.view.validateCellState=this.oldValidateCellState,this.view.graph.cellRenderer.doRedrawShape=this.oldDoRedrawShape},__mxOutput.mxTemporaryCellStates=void 0!==mxTemporaryCellStates?mxTemporaryCellStates:void 0,mxCellStatePreview.prototype.graph=null,mxCellStatePreview.prototype.deltas=null,mxCellStatePreview.prototype.count=0,mxCellStatePreview.prototype.isEmpty=function(){return 0==this.count},mxCellStatePreview.prototype.moveState=function(t,e,i,n,r){n=null==n||n,r=null==r||r;var o=this.deltas.get(t.cell);return null==o?(o={point:new mxPoint(e,i),state:t},this.deltas.put(t.cell,o),this.count++):n?(o.point.x+=e,o.point.y+=i):(o.point.x=e,o.point.y=i),r&&this.addEdges(t),o.point},mxCellStatePreview.prototype.show=function(t){this.deltas.visit(mxUtils.bind(this,function(t,e){this.translateState(e.state,e.point.x,e.point.y)})),this.deltas.visit(mxUtils.bind(this,function(e,i){this.revalidateState(i.state,i.point.x,i.point.y,t)}))},mxCellStatePreview.prototype.translateState=function(t,e,i){if(null!=t){var n=this.graph.getModel();if(n.isVertex(t.cell)){t.view.updateCellState(t);var r=n.getGeometry(t.cell);0==e&&0==i||null==r||r.relative&&null==this.deltas.get(t.cell)||(t.x+=e,t.y+=i)}for(var o=n.getChildCount(t.cell),s=0;s<o;s++)this.translateState(t.view.getState(n.getChildAt(t.cell,s)),e,i)}},mxCellStatePreview.prototype.revalidateState=function(t,e,i,n){if(null!=t){var r=this.graph.getModel();r.isEdge(t.cell)&&t.view.updateCellState(t);var o=this.graph.getCellGeometry(t.cell),s=t.view.getState(r.getParent(t.cell));0==e&&0==i||null==o||!o.relative||!r.isVertex(t.cell)||null!=s&&!r.isVertex(s.cell)&&null==this.deltas.get(t.cell)||(t.x+=e,t.y+=i),this.graph.cellRenderer.redraw(t),null!=n&&n(t);for(var a=r.getChildCount(t.cell),l=0;l<a;l++)this.revalidateState(this.graph.view.getState(r.getChildAt(t.cell,l)),e,i,n)}},mxCellStatePreview.prototype.addEdges=function(t){for(var e=this.graph.getModel(),i=e.getEdgeCount(t.cell),n=0;n<i;n++){var r=t.view.getState(e.getEdgeAt(t.cell,n));null!=r&&this.moveState(r,0,0)}},__mxOutput.mxCellStatePreview=void 0!==mxCellStatePreview?mxCellStatePreview:void 0,mxConnectionConstraint.prototype.point=null,mxConnectionConstraint.prototype.perimeter=null,mxConnectionConstraint.prototype.name=null,mxConnectionConstraint.prototype.dx=null,mxConnectionConstraint.prototype.dy=null,__mxOutput.mxConnectionConstraint=void 0!==mxConnectionConstraint?mxConnectionConstraint:void 0,mxGraphHandler.prototype.graph=null,mxGraphHandler.prototype.maxCells=mxClient.IS_IE?20:50,mxGraphHandler.prototype.enabled=!0,mxGraphHandler.prototype.highlightEnabled=!0,mxGraphHandler.prototype.cloneEnabled=!0,mxGraphHandler.prototype.moveEnabled=!0,mxGraphHandler.prototype.guidesEnabled=!1,mxGraphHandler.prototype.guide=null,mxGraphHandler.prototype.currentDx=null,mxGraphHandler.prototype.currentDy=null,mxGraphHandler.prototype.updateCursor=!0,mxGraphHandler.prototype.selectEnabled=!0,mxGraphHandler.prototype.removeCellsFromParent=!0,mxGraphHandler.prototype.removeEmptyParents=!1,mxGraphHandler.prototype.connectOnDrop=!1,mxGraphHandler.prototype.scrollOnMove=!0,mxGraphHandler.prototype.minimumSize=6,mxGraphHandler.prototype.previewColor="black",mxGraphHandler.prototype.htmlPreview=!1,mxGraphHandler.prototype.shape=null,mxGraphHandler.prototype.scaleGrid=!1,mxGraphHandler.prototype.rotationEnabled=!0,mxGraphHandler.prototype.maxLivePreview=0,mxGraphHandler.prototype.allowLivePreview=mxClient.IS_SVG,mxGraphHandler.prototype.isEnabled=function(){return this.enabled},mxGraphHandler.prototype.setEnabled=function(t){this.enabled=t},mxGraphHandler.prototype.isCloneEnabled=function(){return this.cloneEnabled},mxGraphHandler.prototype.setCloneEnabled=function(t){this.cloneEnabled=t},mxGraphHandler.prototype.isMoveEnabled=function(){return this.moveEnabled},mxGraphHandler.prototype.setMoveEnabled=function(t){this.moveEnabled=t},mxGraphHandler.prototype.isSelectEnabled=function(){return this.selectEnabled},mxGraphHandler.prototype.setSelectEnabled=function(t){this.selectEnabled=t},mxGraphHandler.prototype.isRemoveCellsFromParent=function(){return this.removeCellsFromParent},mxGraphHandler.prototype.setRemoveCellsFromParent=function(t){this.removeCellsFromParent=t},mxGraphHandler.prototype.getInitialCellForEvent=function(t){return t.getCell()},mxGraphHandler.prototype.isDelayedSelection=function(t,e){return this.graph.isCellSelected(t)},mxGraphHandler.prototype.consumeMouseEvent=function(t,e){e.consume()},mxGraphHandler.prototype.mouseDown=function(t,e){if(!e.isConsumed()&&this.isEnabled()&&this.graph.isEnabled()&&null!=e.getState()&&!mxEvent.isMultiTouchEvent(e.getEvent())){var i=this.getInitialCellForEvent(e);if(this.delayedSelection=this.isDelayedSelection(i,e),this.cell=null,this.isSelectEnabled()&&!this.delayedSelection&&this.graph.selectCellForEvent(i,e.getEvent()),this.isMoveEnabled()){var n=this.graph.model,r=n.getGeometry(i);this.graph.isCellMovable(i)&&(!n.isEdge(i)||this.graph.getSelectionCount()>1||null!=r.points&&r.points.length>0||null==n.getTerminal(i,!0)||null==n.getTerminal(i,!1)||this.graph.allowDanglingEdges||this.graph.isCloneEvent(e.getEvent())&&this.graph.isCellsCloneable())?this.start(i,e.getX(),e.getY()):this.delayedSelection&&(this.cell=i),this.cellWasClicked=!0,this.consumeMouseEvent(mxEvent.MOUSE_DOWN,e)}}},mxGraphHandler.prototype.getGuideStates=function(){var t=this.graph.getDefaultParent(),e=this.graph.getModel(),i=mxUtils.bind(this,function(t){return null!=this.graph.view.getState(t)&&e.isVertex(t)&&null!=e.getGeometry(t)&&!e.getGeometry(t).relative});return this.graph.view.getCellStates(e.filterDescendants(i,t))},mxGraphHandler.prototype.getCells=function(t){return!this.delayedSelection&&this.graph.isCellMovable(t)?[t]:this.graph.getMovableCells(this.graph.getSelectionCells())},mxGraphHandler.prototype.getPreviewBounds=function(t){var e=this.getBoundingBox(t);if(null!=e){if(e.width=Math.max(0,e.width-1),e.height=Math.max(0,e.height-1),e.width<this.minimumSize){var i=this.minimumSize-e.width;e.x-=i/2,e.width=this.minimumSize}else e.x=Math.round(e.x),e.width=Math.ceil(e.width);this.graph.view.translate,this.graph.view.scale;if(e.height<this.minimumSize){var n=this.minimumSize-e.height;e.y-=n/2,e.height=this.minimumSize}else e.y=Math.round(e.y),e.height=Math.ceil(e.height)}return e},mxGraphHandler.prototype.getBoundingBox=function(t){var e=null;if(null!=t&&t.length>0)for(var i=this.graph.getModel(),n=0;n<t.length;n++)if(i.isVertex(t[n])||i.isEdge(t[n])){var r=this.graph.view.getState(t[n]);if(null!=r){var o=r;i.isVertex(t[n])&&null!=r.shape&&null!=r.shape.boundingBox&&(o=r.shape.boundingBox),null==e?e=mxRectangle.fromRectangle(o):e.add(o)}}return e},mxGraphHandler.prototype.createPreviewShape=function(t){var e=new mxRectangleShape(t,null,this.previewColor);return e.isDashed=!0,this.htmlPreview?(e.dialect=mxConstants.DIALECT_STRICTHTML,e.init(this.graph.container)):(e.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,e.init(this.graph.getView().getOverlayPane()),e.pointerEvents=!1,mxClient.IS_IOS&&(e.getSvgScreenOffset=function(){return 0})),e},mxGraphHandler.prototype.start=function(t,e,i){this.cell=t,this.first=mxUtils.convertPoint(this.graph.container,e,i),this.cells=this.getCells(this.cell),this.bounds=this.graph.getView().getBounds(this.cells),this.pBounds=this.getPreviewBounds(this.cells),this.allCells=new mxDictionary,this.cloning=!1,this.cellCount=0;for(var n=0;n<this.cells.length;n++)this.cellCount+=this.addStates(this.cells[n],this.allCells);if(this.guidesEnabled){this.guide=new mxGuide(this.graph,this.getGuideStates());var r=this.graph.model.getParent(t),o=this.graph.model.getChildCount(r)<2;this.guide.isStateIgnored=mxUtils.bind(this,function(t){var e=this.graph.model.getParent(t.cell);return null!=t.cell&&(!this.cloning&&this.isCellMoving(t.cell)||t.cell!=(this.target||r)&&!o&&(null==this.target||this.graph.model.getChildCount(this.target)>=2)&&e!=(this.target||r))})}},mxGraphHandler.prototype.addStates=function(t,e){var i=this.graph.view.getState(t),n=0;if(null!=i&&null==e.get(t)){e.put(t,i),n++;for(var r=this.graph.model.getChildCount(t),o=0;o<r;o++)n+=this.addStates(this.graph.model.getChildAt(t,o),e)}return n},mxGraphHandler.prototype.isCellMoving=function(t){return null!=this.allCells.get(t)},mxGraphHandler.prototype.useGuidesForEvent=function(t){return null==this.guide||this.guide.isEnabledForEvent(t.getEvent())},mxGraphHandler.prototype.snap=function(t){var e=this.scaleGrid?this.graph.view.scale:1;return t.x=this.graph.snap(t.x/e)*e,t.y=this.graph.snap(t.y/e)*e,t},mxGraphHandler.prototype.getDelta=function(t){var e=mxUtils.convertPoint(this.graph.container,t.getX(),t.getY()),i=this.graph.view.scale;return new mxPoint(this.roundLength((e.x-this.first.x-this.graph.panDx)/i)*i,this.roundLength((e.y-this.first.y-this.graph.panDy)/i)*i)},mxGraphHandler.prototype.updateHint=function(t){},mxGraphHandler.prototype.removeHint=function(){},mxGraphHandler.prototype.roundLength=function(t){return Math.round(2*t)/2},mxGraphHandler.prototype.mouseMove=function(t,e){var i=this.graph;if(!e.isConsumed()&&i.isMouseDown&&null!=this.cell&&null!=this.first&&null!=this.bounds){if(mxEvent.isMultiTouchEvent(e.getEvent()))return void this.reset();var n=this.getDelta(e),r=n.x,o=n.y,s=i.tolerance;if(null!=this.shape||this.livePreviewActive||Math.abs(r)>s||Math.abs(o)>s){null==this.highlight&&(this.highlight=new mxCellHighlight(this.graph,mxConstants.DROP_TARGET_COLOR,3));var a=i.isCloneEvent(e.getEvent())&&i.isCellsCloneable()&&this.isCloneEnabled(),l=i.isGridEnabledEvent(e.getEvent()),h=e.getCell(),u=!0,c=null;this.cloning=a,i.isDropEnabled()&&this.highlightEnabled&&(c=i.getDropTarget(this.cells,e.getEvent(),h,a));var d=i.getView().getState(c),p=!1;if(null==d||i.model.getParent(this.cell)==c&&!a){if(this.target=null,this.connectOnDrop&&null!=h&&1==this.cells.length&&i.getModel().isVertex(h)&&i.isCellConnectable(h)&&null!=(d=i.getView().getState(h))){var f=null==i.getEdgeValidationError(null,this.cell,h)?mxConstants.VALID_COLOR:mxConstants.INVALID_CONNECT_TARGET_COLOR;this.setHighlightColor(f),p=!0}}else this.target!=c&&(this.target=c,this.setHighlightColor(mxConstants.DROP_TARGET_COLOR)),p=!0;if(null!=d&&p?this.highlight.highlight(d):this.highlight.hide(),this.livePreviewActive&&a?(this.resetLivePreview(),this.livePreviewActive=!1):this.maxLivePreview>=this.cellCount&&!this.livePreviewActive&&this.allowLivePreview?(this.setHandlesVisibleForCells(this.cells,!1),this.livePreviewActive=!0,this.livePreviewUsed=!0):this.livePreviewUsed||null!=this.shape||(this.shape=this.createPreviewShape(this.bounds)),null!=this.guide&&this.useGuidesForEvent(e))u=!1,r=(n=this.guide.move(this.bounds,new mxPoint(r,o),l,a)).x,o=n.y;else if(l){var m=i.getView().translate,g=i.getView().scale,v=this.bounds.x-(i.snap(this.bounds.x/g-m.x)+m.x)*g,A=this.bounds.y-(i.snap(this.bounds.y/g-m.y)+m.y)*g,y=this.snap(new mxPoint(r,o));r=y.x-v,o=y.y-A}null!=this.guide&&u&&this.guide.hide(),i.isConstrainedEvent(e.getEvent())&&(Math.abs(r)>Math.abs(o)?o=0:r=0),this.currentDx=r,this.currentDy=o,this.updatePreview()}this.updateHint(e),this.consumeMouseEvent(mxEvent.MOUSE_MOVE,e),mxEvent.consume(e.getEvent())}else if((this.isMoveEnabled()||this.isCloneEnabled())&&this.updateCursor&&!e.isConsumed()&&(null!=e.getState()||null!=e.sourceState)&&!i.isMouseDown){var x=i.getCursorForMouseEvent(e);null==x&&i.isEnabled()&&i.isCellMovable(e.getCell())&&(x=i.getModel().isEdge(e.getCell())?mxConstants.CURSOR_MOVABLE_EDGE:mxConstants.CURSOR_MOVABLE_VERTEX),null!=x&&null!=e.sourceState&&e.sourceState.setCursor(x)}},mxGraphHandler.prototype.updatePreview=function(t){this.livePreviewUsed&&!t?null!=this.cells&&this.updateLivePreview(this.currentDx,this.currentDy):this.updatePreviewShape()},mxGraphHandler.prototype.updatePreviewShape=function(){null!=this.shape&&(this.shape.bounds=new mxRectangle(Math.round(this.pBounds.x+this.currentDx),Math.round(this.pBounds.y+this.currentDy),this.pBounds.width,this.pBounds.height),this.shape.redraw())},mxGraphHandler.prototype.updateLivePreview=function(t,e){var i=[];null!=this.allCells&&this.allCells.visit(mxUtils.bind(this,function(n,r){var o=r.clone();if(i.push([r,o]),null!=r.shape&&(null==r.shape.originalPointerEvents&&(r.shape.originalPointerEvents=r.shape.pointerEvents),r.shape.pointerEvents=!1,null!=r.text&&null!=r.text.node)){var s=r.text.node;null!=s.firstChild&&null!=s.firstChild.firstChild&&"foreignObject"==s.firstChild.firstChild.nodeName?s.firstChild.firstChild.setAttribute("pointer-events","none"):null!=s.ownerSVGElement?s.setAttribute("pointer-events","none"):s.style.pointerEvents="none"}this.graph.model.isVertex(r.cell)&&(r.x+=t,r.y+=e,this.cloning||(r.view.graph.cellRenderer.redraw(r,!0),r.view.invalidate(r.cell),r.invalid=!1),null!=r.control&&null!=r.control.node&&(r.control.node.style.visibility="hidden"))}));for(var n=this.graph.view.scale,r=0;r<i.length;r++){var o=i[r][0];if(this.graph.model.isEdge(o.cell)){var s=this.graph.getCellGeometry(o.cell),a=[];if(null!=s&&null!=s.points)for(var l=0;l<s.points.length;l++)null!=s.points[l]&&a.push(new mxPoint(s.points[l].x+t/n,s.points[l].y+e/n));var h=o.visibleSourceState,u=o.visibleTargetState,c=i[r][1].absolutePoints;if(null!=h&&this.isCellMoving(h.cell))o.view.updateFixedTerminalPoint(o,h,!0,this.graph.getConnectionConstraint(o,h,!0));else{var d=c[0];o.setAbsoluteTerminalPoint(new mxPoint(d.x+t,d.y+e),!0),h=null}if(null!=u&&this.isCellMoving(u.cell))o.view.updateFixedTerminalPoint(o,u,!1,this.graph.getConnectionConstraint(o,u,!1));else{var p=c[c.length-1];o.setAbsoluteTerminalPoint(new mxPoint(p.x+t,p.y+e),!1),u=null}o.view.updatePoints(o,a,h,u),o.view.updateFloatingTerminalPoints(o,h,u),o.invalid=!1,this.cloning||o.view.graph.cellRenderer.redraw(o,!0)}}this.graph.view.validate(),this.redrawHandles(i),this.resetPreviewStates(i)},mxGraphHandler.prototype.redrawHandles=function(t){for(var e=0;e<t.length;e++){var i=this.graph.selectionCellsHandler.getHandler(t[e][0].cell);null!=i&&i.redraw(!0)}},mxGraphHandler.prototype.resetPreviewStates=function(t){for(var e=0;e<t.length;e++)t[e][0].setState(t[e][1])},mxGraphHandler.prototype.resetLivePreview=function(){null!=this.allCells&&(this.allCells.visit(mxUtils.bind(this,function(t,e){if(null!=e.shape&&null!=e.shape.originalPointerEvents&&(e.shape.pointerEvents=e.shape.originalPointerEvents,e.shape.originalPointerEvents=null,e.shape.bounds=null,null!=e.text&&null!=e.text.node)){var i=e.text.node;null!=i.firstChild&&null!=i.firstChild.firstChild&&"foreignObject"==i.firstChild.firstChild.nodeName?i.firstChild.firstChild.setAttribute("pointer-events","all"):null!=i.ownerSVGElement?i.removeAttribute("pointer-events"):i.style.pointerEvents=""}null!=e.control&&null!=e.control.node&&(e.control.node.style.visibility=""),e.view.invalidate(e.cell)})),this.graph.view.validate())},mxGraphHandler.prototype.setHandlesVisibleForCells=function(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=this.graph.selectionCellsHandler.getHandler(n);null!=r&&(r.setHandlesVisible(e),e&&r.redraw())}},mxGraphHandler.prototype.setHighlightColor=function(t){null!=this.highlight&&this.highlight.setHighlightColor(t)},mxGraphHandler.prototype.mouseUp=function(t,e){if(!e.isConsumed())if(this.livePreviewUsed&&this.resetLivePreview(),null==this.cell||null==this.first||null==this.shape&&!this.livePreviewUsed||null==this.currentDx||null==this.currentDy)this.isSelectEnabled()&&this.delayedSelection&&null!=this.cell&&this.selectDelayed(e);else{var i=this.graph,n=e.getCell();if(this.connectOnDrop&&null==this.target&&null!=n&&i.getModel().isVertex(n)&&i.isCellConnectable(n)&&i.isEdgeValid(null,this.cell,n))i.connectionHandler.connect(this.cell,n,e.getEvent());else{var r=i.isCloneEvent(e.getEvent())&&i.isCellsCloneable()&&this.isCloneEnabled(),o=i.getView().scale,s=this.roundLength(this.currentDx/o),a=this.roundLength(this.currentDy/o),l=this.target;i.isSplitEnabled()&&i.isSplitTarget(l,this.cells,e.getEvent())?i.splitEdge(l,this.cells,null,s,a):this.moveCells(this.cells,s,a,r,this.target,e.getEvent())}}this.cellWasClicked&&this.consumeMouseEvent(mxEvent.MOUSE_UP,e),this.reset()},mxGraphHandler.prototype.selectDelayed=function(t){this.graph.isCellSelected(this.cell)&&this.graph.popupMenuHandler.isPopupTrigger(t)||this.graph.selectCellForEvent(this.cell,t.getEvent())},mxGraphHandler.prototype.reset=function(){this.livePreviewUsed&&(this.resetLivePreview(),this.setHandlesVisibleForCells(this.cells,!0)),this.destroyShapes(),this.removeHint(),this.delayedSelection=!1,this.livePreviewActive=null,this.livePreviewUsed=null,this.cellWasClicked=!1,this.currentDx=null,this.currentDy=null,this.cellCount=null,this.cloning=!1,this.allCells=null,this.guides=null,this.target=null,this.first=null,this.cells=null,this.cell=null},mxGraphHandler.prototype.shouldRemoveCellsFromParent=function(t,e,i){if(this.graph.getModel().isVertex(t)){var n=this.graph.getView().getState(t);if(null!=n){var r=mxUtils.convertPoint(this.graph.container,mxEvent.getClientX(i),mxEvent.getClientY(i)),o=mxUtils.toRadians(mxUtils.getValue(n.style,mxConstants.STYLE_ROTATION)||0);if(0!=o){var s=Math.cos(-o),a=Math.sin(-o),l=new mxPoint(n.getCenterX(),n.getCenterY());r=mxUtils.getRotatedPoint(r,s,a,l)}return!mxUtils.contains(n,r.x,r.y)}}return!1},mxGraphHandler.prototype.moveCells=function(t,e,i,n,r,o){n&&(t=this.graph.getCloneableCells(t));var s=this.graph.getModel().getParent(this.cell);null==r&&this.isRemoveCellsFromParent()&&this.shouldRemoveCellsFromParent(s,t,o)&&(r=this.graph.getDefaultParent()),n=n&&!this.graph.isCellLocked(r||this.graph.getDefaultParent()),this.graph.getModel().beginUpdate();try{var a=[];if(!n&&null!=r&&this.removeEmptyParents){for(var l=new mxDictionary,h=0;h<t.length;h++)l.put(t[h],!0);for(h=0;h<t.length;h++){var u=this.graph.model.getParent(t[h]);null==u||l.get(u)||(l.put(u,!0),a.push(u))}}t=this.graph.moveCells(t,e,i,n,r,o);var c=[];for(h=0;h<a.length;h++)this.shouldRemoveParent(a[h])&&c.push(a[h]);this.graph.removeCells(c,!1)}finally{this.graph.getModel().endUpdate()}n&&this.graph.setSelectionCells(t),this.isSelectEnabled()&&this.scrollOnMove&&this.graph.scrollCellToVisible(t[0])},mxGraphHandler.prototype.shouldRemoveParent=function(t){var e=this.graph.view.getState(t);if(null!=e&&(this.graph.model.isEdge(e.cell)||this.graph.model.isVertex(e.cell))&&this.graph.isCellDeletable(e.cell)&&0==this.graph.model.getChildCount(e.cell)){var i=mxUtils.getValue(e.style,mxConstants.STYLE_STROKECOLOR,mxConstants.NONE),n=mxUtils.getValue(e.style,mxConstants.STYLE_FILLCOLOR,mxConstants.NONE);return i==mxConstants.NONE&&n==mxConstants.NONE}return!1},mxGraphHandler.prototype.destroyShapes=function(){null!=this.shape&&(this.shape.destroy(),this.shape=null),null!=this.guide&&(this.guide.destroy(),this.guide=null),null!=this.highlight&&(this.highlight.destroy(),this.highlight=null)},mxGraphHandler.prototype.destroy=function(){this.graph.removeMouseListener(this),this.graph.removeListener(this.panHandler),null!=this.escapeHandler&&(this.graph.removeListener(this.escapeHandler),this.escapeHandler=null),null!=this.refreshHandler&&(this.graph.getModel().removeListener(this.refreshHandler),this.refreshHandler=null),this.destroyShapes(),this.removeHint()};__mxOutput.mxGraphHandler=void 0!==mxGraphHandler?mxGraphHandler:void 0,mxPanningHandler.prototype=new mxEventSource,mxPanningHandler.prototype.constructor=mxPanningHandler,mxPanningHandler.prototype.graph=null,mxPanningHandler.prototype.useLeftButtonForPanning=!1,mxPanningHandler.prototype.usePopupTrigger=!0,mxPanningHandler.prototype.ignoreCell=!1,mxPanningHandler.prototype.previewEnabled=!0,mxPanningHandler.prototype.useGrid=!1,mxPanningHandler.prototype.panningEnabled=!0,mxPanningHandler.prototype.pinchEnabled=!0,mxPanningHandler.prototype.maxScale=8,mxPanningHandler.prototype.minScale=.01,mxPanningHandler.prototype.dx=null,mxPanningHandler.prototype.dy=null,mxPanningHandler.prototype.startX=0,mxPanningHandler.prototype.startY=0,mxPanningHandler.prototype.isActive=function(){return this.active||null!=this.initialScale},mxPanningHandler.prototype.isPanningEnabled=function(){return this.panningEnabled},mxPanningHandler.prototype.setPanningEnabled=function(t){this.panningEnabled=t},mxPanningHandler.prototype.isPinchEnabled=function(){return this.pinchEnabled},mxPanningHandler.prototype.setPinchEnabled=function(t){this.pinchEnabled=t},mxPanningHandler.prototype.isPanningTrigger=function(t){var e=t.getEvent();return this.useLeftButtonForPanning&&null==t.getState()&&mxEvent.isLeftMouseButton(e)||mxEvent.isControlDown(e)&&mxEvent.isShiftDown(e)||this.usePopupTrigger&&mxEvent.isPopupTrigger(e)},mxPanningHandler.prototype.isForcePanningEvent=function(t){return this.ignoreCell||mxEvent.isMultiTouchEvent(t.getEvent())},mxPanningHandler.prototype.mouseDown=function(t,e){this.mouseDownEvent=e,!e.isConsumed()&&this.isPanningEnabled()&&!this.active&&this.isPanningTrigger(e)&&(this.start(e),this.consumePanningTrigger(e))},mxPanningHandler.prototype.start=function(t){this.dx0=-this.graph.container.scrollLeft,this.dy0=-this.graph.container.scrollTop,this.startX=t.getX(),this.startY=t.getY(),this.dx=null,this.dy=null,this.panningTrigger=!0},mxPanningHandler.prototype.consumePanningTrigger=function(t){t.consume()},mxPanningHandler.prototype.mouseMove=function(t,e){if(this.dx=e.getX()-this.startX,this.dy=e.getY()-this.startY,this.active)this.previewEnabled&&(this.useGrid&&(this.dx=this.graph.snap(this.dx),this.dy=this.graph.snap(this.dy)),this.graph.panGraph(this.dx+this.dx0,this.dy+this.dy0)),this.fireEvent(new mxEventObject(mxEvent.PAN,"event",e));else if(this.panningTrigger){var i=this.active;this.active=Math.abs(this.dx)>this.graph.tolerance||Math.abs(this.dy)>this.graph.tolerance,!i&&this.active&&this.fireEvent(new mxEventObject(mxEvent.PAN_START,"event",e))}(this.active||this.panningTrigger)&&e.consume()},mxPanningHandler.prototype.mouseUp=function(t,e){if(this.active){if(null!=this.dx&&null!=this.dy){if(!this.graph.useScrollbarsForPanning||!mxUtils.hasScrollbars(this.graph.container)){var i=this.graph.getView().scale,n=this.graph.getView().translate;this.graph.panGraph(0,0),this.panGraph(n.x+this.dx/i,n.y+this.dy/i)}e.consume()}this.fireEvent(new mxEventObject(mxEvent.PAN_END,"event",e))}this.reset()},mxPanningHandler.prototype.reset=function(){this.panningTrigger=!1,this.mouseDownEvent=null,this.active=!1,this.dx=null,this.dy=null},mxPanningHandler.prototype.panGraph=function(t,e){this.graph.getView().setTranslate(t,e)},mxPanningHandler.prototype.destroy=function(){this.graph.removeMouseListener(this),this.graph.removeListener(this.forcePanningHandler),this.graph.removeListener(this.gestureHandler),mxEvent.removeListener(document,"mouseup",this.mouseUpListener)},__mxOutput.mxPanningHandler=void 0!==mxPanningHandler?mxPanningHandler:void 0,mxPopupMenuHandler.prototype=new mxPopupMenu,mxPopupMenuHandler.prototype.constructor=mxPopupMenuHandler,mxPopupMenuHandler.prototype.graph=null,mxPopupMenuHandler.prototype.selectOnPopup=!0,mxPopupMenuHandler.prototype.clearSelectionOnBackground=!0,mxPopupMenuHandler.prototype.triggerX=null,mxPopupMenuHandler.prototype.triggerY=null,mxPopupMenuHandler.prototype.screenX=null,mxPopupMenuHandler.prototype.screenY=null,mxPopupMenuHandler.prototype.init=function(){mxPopupMenu.prototype.init.apply(this),mxEvent.addGestureListeners(this.div,mxUtils.bind(this,function(t){this.graph.tooltipHandler.hide()}))},mxPopupMenuHandler.prototype.isSelectOnPopup=function(t){return this.selectOnPopup},mxPopupMenuHandler.prototype.mouseDown=function(t,e){this.isEnabled()&&!mxEvent.isMultiTouchEvent(e.getEvent())&&(this.hideMenu(),this.triggerX=e.getGraphX(),this.triggerY=e.getGraphY(),this.screenX=mxEvent.getMainEvent(e.getEvent()).screenX,this.screenY=mxEvent.getMainEvent(e.getEvent()).screenY,this.popupTrigger=this.isPopupTrigger(e),this.inTolerance=!0)},mxPopupMenuHandler.prototype.mouseMove=function(t,e){this.inTolerance&&null!=this.screenX&&null!=this.screenY&&(Math.abs(mxEvent.getMainEvent(e.getEvent()).screenX-this.screenX)>this.graph.tolerance||Math.abs(mxEvent.getMainEvent(e.getEvent()).screenY-this.screenY)>this.graph.tolerance)&&(this.inTolerance=!1)},mxPopupMenuHandler.prototype.mouseUp=function(t,e){if(this.popupTrigger&&this.inTolerance&&null!=this.triggerX&&null!=this.triggerY){var i=this.getCellForPopupEvent(e);this.graph.isEnabled()&&this.isSelectOnPopup(e)&&null!=i&&!this.graph.isCellSelected(i)?this.graph.setSelectionCell(i):this.clearSelectionOnBackground&&null==i&&this.graph.clearSelection(),this.graph.tooltipHandler.hide();var n=mxUtils.getScrollOrigin();this.popup(e.getX()+n.x+1,e.getY()+n.y+1,i,e.getEvent()),e.consume()}this.popupTrigger=!1,this.inTolerance=!1},mxPopupMenuHandler.prototype.getCellForPopupEvent=function(t){return t.getCell()},mxPopupMenuHandler.prototype.destroy=function(){this.graph.removeMouseListener(this),this.graph.removeListener(this.gestureHandler),mxPopupMenu.prototype.destroy.apply(this)},__mxOutput.mxPopupMenuHandler=void 0!==mxPopupMenuHandler?mxPopupMenuHandler:void 0,mxUtils.extend(mxCellMarker,mxEventSource),mxCellMarker.prototype.graph=null,mxCellMarker.prototype.enabled=!0,mxCellMarker.prototype.hotspot=mxConstants.DEFAULT_HOTSPOT,mxCellMarker.prototype.hotspotEnabled=!1,mxCellMarker.prototype.validColor=null,mxCellMarker.prototype.invalidColor=null,mxCellMarker.prototype.currentColor=null,mxCellMarker.prototype.validState=null,mxCellMarker.prototype.markedState=null,mxCellMarker.prototype.setEnabled=function(t){this.enabled=t},mxCellMarker.prototype.isEnabled=function(){return this.enabled},mxCellMarker.prototype.setHotspot=function(t){this.hotspot=t},mxCellMarker.prototype.getHotspot=function(){return this.hotspot},mxCellMarker.prototype.setHotspotEnabled=function(t){this.hotspotEnabled=t},mxCellMarker.prototype.isHotspotEnabled=function(){return this.hotspotEnabled},mxCellMarker.prototype.hasValidState=function(){return null!=this.validState},mxCellMarker.prototype.getValidState=function(){return this.validState},mxCellMarker.prototype.getMarkedState=function(){return this.markedState},mxCellMarker.prototype.reset=function(){this.validState=null,null!=this.markedState&&(this.markedState=null,this.unmark())},mxCellMarker.prototype.process=function(t){var e=null;return this.isEnabled()&&(e=this.getState(t),this.setCurrentState(e,t)),e},mxCellMarker.prototype.setCurrentState=function(t,e,i){var n=null!=t&&this.isValidState(t);i=null!=i?i:this.getMarkerColor(e.getEvent(),t,n),this.validState=n?t:null,t==this.markedState&&i==this.currentColor||(this.currentColor=i,null!=t&&null!=this.currentColor?(this.markedState=t,this.mark()):null!=this.markedState&&(this.markedState=null,this.unmark()))},mxCellMarker.prototype.markCell=function(t,e){var i=this.graph.getView().getState(t);null!=i&&(this.currentColor=null!=e?e:this.validColor,this.markedState=i,this.mark())},mxCellMarker.prototype.mark=function(){this.highlight.setHighlightColor(this.currentColor),this.highlight.highlight(this.markedState),this.fireEvent(new mxEventObject(mxEvent.MARK,"state",this.markedState))},mxCellMarker.prototype.unmark=function(){this.mark()},mxCellMarker.prototype.isValidState=function(t){return!0},mxCellMarker.prototype.getMarkerColor=function(t,e,i){return i?this.validColor:this.invalidColor},mxCellMarker.prototype.getState=function(t){var e=this.graph.getView(),i=this.getCell(t),n=this.getStateToMark(e.getState(i));return null!=n&&this.intersects(n,t)?n:null},mxCellMarker.prototype.getCell=function(t){return t.getCell()},mxCellMarker.prototype.getStateToMark=function(t){return t},mxCellMarker.prototype.intersects=function(t,e){return!this.hotspotEnabled||mxUtils.intersectsHotspot(t,e.getGraphX(),e.getGraphY(),this.hotspot,mxConstants.MIN_HOTSPOT_SIZE,mxConstants.MAX_HOTSPOT_SIZE)},mxCellMarker.prototype.destroy=function(){this.graph.getView().removeListener(this.resetHandler),this.graph.getModel().removeListener(this.resetHandler),this.highlight.destroy()},__mxOutput.mxCellMarker=void 0!==mxCellMarker?mxCellMarker:void 0,mxUtils.extend(mxSelectionCellsHandler,mxEventSource),mxSelectionCellsHandler.prototype.graph=null,mxSelectionCellsHandler.prototype.enabled=!0,mxSelectionCellsHandler.prototype.refreshHandler=null,mxSelectionCellsHandler.prototype.maxHandlers=100,mxSelectionCellsHandler.prototype.handlers=null,mxSelectionCellsHandler.prototype.isEnabled=function(){return this.enabled},mxSelectionCellsHandler.prototype.setEnabled=function(t){this.enabled=t},mxSelectionCellsHandler.prototype.getHandler=function(t){return this.handlers.get(t)},mxSelectionCellsHandler.prototype.reset=function(){this.handlers.visit(function(t,e){e.reset.apply(e)})},mxSelectionCellsHandler.prototype.refresh=function(){var t=this.handlers;this.handlers=new mxDictionary;for(var e=this.graph.getSelectionCells(),i=0;i<e.length;i++){var n=this.graph.view.getState(e[i]);if(null!=n){var r=t.remove(e[i]);null!=r&&(r.state!=n?(r.destroy(),r=null):this.isHandlerActive(r)||(null!=r.refresh&&r.refresh(),r.redraw())),null==r&&(r=this.graph.createHandler(n),this.fireEvent(new mxEventObject(mxEvent.ADD,"state",n))),null!=r&&this.handlers.put(e[i],r)}}t.visit(mxUtils.bind(this,function(t,e){this.fireEvent(new mxEventObject(mxEvent.REMOVE,"state",e.state)),e.destroy()}))},mxSelectionCellsHandler.prototype.isHandlerActive=function(t){return null!=t.index},mxSelectionCellsHandler.prototype.updateHandler=function(t){var e=this.handlers.remove(t.cell);if(null!=e){var i=e.index,n=e.startX,r=e.startY;e.destroy(),null!=(e=this.graph.createHandler(t))&&(this.handlers.put(t.cell,e),null!=i&&null!=n&&null!=r&&e.start(n,r,i))}},mxSelectionCellsHandler.prototype.mouseDown=function(t,e){if(this.graph.isEnabled()&&this.isEnabled()){var i=[t,e];this.handlers.visit(function(t,e){e.mouseDown.apply(e,i)})}},mxSelectionCellsHandler.prototype.mouseMove=function(t,e){if(this.graph.isEnabled()&&this.isEnabled()){var i=[t,e];this.handlers.visit(function(t,e){e.mouseMove.apply(e,i)})}},mxSelectionCellsHandler.prototype.mouseUp=function(t,e){if(this.graph.isEnabled()&&this.isEnabled()){var i=[t,e];this.handlers.visit(function(t,e){e.mouseUp.apply(e,i)})}},mxSelectionCellsHandler.prototype.destroy=function(){this.graph.removeMouseListener(this),null!=this.refreshHandler&&(this.graph.getSelectionModel().removeListener(this.refreshHandler),this.graph.getModel().removeListener(this.refreshHandler),this.graph.getView().removeListener(this.refreshHandler),this.refreshHandler=null)},__mxOutput.mxSelectionCellsHandler=void 0!==mxSelectionCellsHandler?mxSelectionCellsHandler:void 0,mxUtils.extend(mxConnectionHandler,mxEventSource),mxConnectionHandler.prototype.graph=null,mxConnectionHandler.prototype.factoryMethod=!0,mxConnectionHandler.prototype.moveIconFront=!1,mxConnectionHandler.prototype.moveIconBack=!1,mxConnectionHandler.prototype.connectImage=null,mxConnectionHandler.prototype.targetConnectImage=!1,mxConnectionHandler.prototype.enabled=!0,mxConnectionHandler.prototype.select=!0,mxConnectionHandler.prototype.createTarget=!1,mxConnectionHandler.prototype.marker=null,mxConnectionHandler.prototype.constraintHandler=null,mxConnectionHandler.prototype.error=null,mxConnectionHandler.prototype.waypointsEnabled=!1,mxConnectionHandler.prototype.ignoreMouseDown=!1,mxConnectionHandler.prototype.first=null,mxConnectionHandler.prototype.connectIconOffset=new mxPoint(0,mxConstants.TOOLTIP_VERTICAL_OFFSET),mxConnectionHandler.prototype.edgeState=null,mxConnectionHandler.prototype.changeHandler=null,mxConnectionHandler.prototype.drillHandler=null,mxConnectionHandler.prototype.mouseDownCounter=0,mxConnectionHandler.prototype.movePreviewAway=mxClient.IS_VML,mxConnectionHandler.prototype.outlineConnect=!1,mxConnectionHandler.prototype.livePreview=!1,mxConnectionHandler.prototype.cursor=null,mxConnectionHandler.prototype.insertBeforeSource=!1,mxConnectionHandler.prototype.isEnabled=function(){return this.enabled},mxConnectionHandler.prototype.setEnabled=function(t){this.enabled=t},mxConnectionHandler.prototype.isInsertBefore=function(t,e,i,n,r){return this.insertBeforeSource&&e!=i},mxConnectionHandler.prototype.isCreateTarget=function(t){return this.createTarget},mxConnectionHandler.prototype.setCreateTarget=function(t){this.createTarget=t},mxConnectionHandler.prototype.createShape=function(){var t=this.livePreview&&null!=this.edgeState?this.graph.cellRenderer.createShape(this.edgeState):new mxPolyline([],mxConstants.INVALID_COLOR);return t.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,t.scale=this.graph.view.scale,t.pointerEvents=!1,t.isDashed=!0,t.init(this.graph.getView().getOverlayPane()),mxEvent.redirectMouseEvents(t.node,this.graph,null),t},mxConnectionHandler.prototype.init=function(){this.graph.addMouseListener(this),this.marker=this.createMarker(),this.constraintHandler=new mxConstraintHandler(this.graph),this.changeHandler=mxUtils.bind(this,function(t){null!=this.iconState&&(this.iconState=this.graph.getView().getState(this.iconState.cell)),null!=this.iconState?(this.redrawIcons(this.icons,this.iconState),this.constraintHandler.reset()):null!=this.previous&&null==this.graph.view.getState(this.previous.cell)&&this.reset()}),this.graph.getModel().addListener(mxEvent.CHANGE,this.changeHandler),this.graph.getView().addListener(mxEvent.SCALE,this.changeHandler),this.graph.getView().addListener(mxEvent.TRANSLATE,this.changeHandler),this.graph.getView().addListener(mxEvent.SCALE_AND_TRANSLATE,this.changeHandler),this.drillHandler=mxUtils.bind(this,function(t){this.reset()}),this.graph.addListener(mxEvent.START_EDITING,this.drillHandler),this.graph.getView().addListener(mxEvent.DOWN,this.drillHandler),this.graph.getView().addListener(mxEvent.UP,this.drillHandler)},mxConnectionHandler.prototype.isConnectableCell=function(t){return!0},mxConnectionHandler.prototype.createMarker=function(){var t=new mxCellMarker(this.graph);return t.hotspotEnabled=!0,t.getCell=mxUtils.bind(this,function(e){var i=mxCellMarker.prototype.getCell.apply(t,arguments);if(this.error=null,null==i&&null!=this.currentPoint&&(i=this.graph.getCellAt(this.currentPoint.x,this.currentPoint.y)),null!=i&&!this.graph.isCellConnectable(i)){var n=this.graph.getModel().getParent(i);this.graph.getModel().isVertex(n)&&this.graph.isCellConnectable(n)&&(i=n)}return(this.graph.isSwimlane(i)&&null!=this.currentPoint&&this.graph.hitsSwimlaneContent(i,this.currentPoint.x,this.currentPoint.y)||!this.isConnectableCell(i))&&(i=null),null!=i?this.isConnecting()?null!=this.previous&&(this.error=this.validateConnection(this.previous.cell,i),null!=this.error&&0==this.error.length&&(i=null,this.isCreateTarget(e.getEvent())&&(this.error=null))):this.isValidSource(i,e)||(i=null):!this.isConnecting()||this.isCreateTarget(e.getEvent())||this.graph.allowDanglingEdges||(this.error=""),i}),t.isValidState=mxUtils.bind(this,function(e){return this.isConnecting()?null==this.error:mxCellMarker.prototype.isValidState.apply(t,arguments)}),t.getMarkerColor=mxUtils.bind(this,function(e,i,n){return null==this.connectImage||this.isConnecting()?mxCellMarker.prototype.getMarkerColor.apply(t,arguments):null}),t.intersects=mxUtils.bind(this,function(e,i){return!(null==this.connectImage&&!this.isConnecting())||mxCellMarker.prototype.intersects.apply(t,arguments)}),t},mxConnectionHandler.prototype.start=function(t,e,i,n){this.previous=t,this.first=new mxPoint(e,i),this.edgeState=null!=n?n:this.createEdgeState(null),this.marker.currentColor=this.marker.validColor,this.marker.markedState=t,this.marker.mark(),this.fireEvent(new mxEventObject(mxEvent.START,"state",this.previous))},mxConnectionHandler.prototype.isConnecting=function(){return null!=this.first&&null!=this.shape},mxConnectionHandler.prototype.isValidSource=function(t,e){return this.graph.isValidSource(t)},mxConnectionHandler.prototype.isValidTarget=function(t){return!0},mxConnectionHandler.prototype.validateConnection=function(t,e){return this.isValidTarget(e)?this.graph.getEdgeValidationError(null,t,e):""},mxConnectionHandler.prototype.getConnectImage=function(t){return this.connectImage},mxConnectionHandler.prototype.isMoveIconToFrontForState=function(t){return null!=t.text&&t.text.node.parentNode==this.graph.container||this.moveIconFront},mxConnectionHandler.prototype.createIcons=function(t){var e=this.getConnectImage(t);if(null!=e&&null!=t){this.iconState=t;var i=[],n=new mxImageShape(new mxRectangle(0,0,e.width,e.height),e.src,null,null,0);n.preserveImageAspect=!1,this.isMoveIconToFrontForState(t)?(n.dialect=mxConstants.DIALECT_STRICTHTML,n.init(this.graph.container)):(n.dialect=this.graph.dialect==mxConstants.DIALECT_SVG?mxConstants.DIALECT_SVG:mxConstants.DIALECT_VML,n.init(this.graph.getView().getOverlayPane()),this.moveIconBack&&null!=n.node.previousSibling&&n.node.parentNode.insertBefore(n.node,n.node.parentNode.firstChild)),n.node.style.cursor=mxConstants.CURSOR_CONNECT;var r=mxUtils.bind(this,function(){return null!=this.currentState?this.currentState:t}),o=mxUtils.bind(this,function(t){mxEvent.isConsumed(t)||(this.icon=n,this.graph.fireMouseEvent(mxEvent.MOUSE_DOWN,new mxMouseEvent(t,r())))});return mxEvent.redirectMouseEvents(n.node,this.graph,r,o),i.push(n),this.redrawIcons(i,this.iconState),i}return null},mxConnectionHandler.prototype.redrawIcons=function(t,e){if(null!=t&&null!=t[0]&&null!=e){var i=this.getIconPosition(t[0],e);t[0].bounds.x=i.x,t[0].bounds.y=i.y,t[0].redraw()}},mxConnectionHandler.prototype.getIconPosition=function(t,e){var i=this.graph.getView().scale,n=e.getCenterX(),r=e.getCenterY();if(this.graph.isSwimlane(e.cell)){var o=this.graph.getStartSize(e.cell);n=0!=o.width?e.x+o.width*i/2:n,r=0!=o.height?e.y+o.height*i/2:r;var s=mxUtils.toRadians(mxUtils.getValue(e.style,mxConstants.STYLE_ROTATION)||0);if(0!=s){var a=Math.cos(s),l=Math.sin(s),h=new mxPoint(e.getCenterX(),e.getCenterY()),u=mxUtils.getRotatedPoint(new mxPoint(n,r),a,l,h);n=u.x,r=u.y}}return new mxPoint(n-t.bounds.width/2,r-t.bounds.height/2)},mxConnectionHandler.prototype.destroyIcons=function(){if(null!=this.icons){for(var t=0;t<this.icons.length;t++)this.icons[t].destroy();this.icons=null,this.icon=null,this.selectedIcon=null,this.iconState=null}},mxConnectionHandler.prototype.isStartEvent=function(t){return null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentConstraint||null!=this.previous&&null==this.error&&(null==this.icons||null!=this.icons&&null!=this.icon)},mxConnectionHandler.prototype.mouseDown=function(t,e){if(this.mouseDownCounter++,this.isEnabled()&&this.graph.isEnabled()&&!e.isConsumed()&&!this.isConnecting()&&this.isStartEvent(e)){if(null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentPoint?(this.sourceConstraint=this.constraintHandler.currentConstraint,this.previous=this.constraintHandler.currentFocus,this.first=this.constraintHandler.currentPoint.clone()):this.first=new mxPoint(e.getGraphX(),e.getGraphY()),this.edgeState=this.createEdgeState(e),this.mouseDownCounter=1,this.waypointsEnabled&&null==this.shape&&(this.waypoints=null,this.shape=this.createShape(),null!=this.edgeState&&this.shape.apply(this.edgeState)),null==this.previous&&null!=this.edgeState){var i=this.graph.getPointForEvent(e.getEvent());this.edgeState.cell.geometry.setTerminalPoint(i,!0)}this.fireEvent(new mxEventObject(mxEvent.START,"state",this.previous)),e.consume()}this.selectedIcon=this.icon,this.icon=null},mxConnectionHandler.prototype.isImmediateConnectSource=function(t){return!this.graph.isCellMovable(t.cell)},mxConnectionHandler.prototype.createEdgeState=function(t){return null},mxConnectionHandler.prototype.isOutlineConnectEvent=function(t){var e=mxUtils.getOffset(this.graph.container),i=t.getEvent(),n=mxEvent.getClientX(i),r=mxEvent.getClientY(i),o=document.documentElement,s=(window.pageXOffset||o.scrollLeft)-(o.clientLeft||0),a=(window.pageYOffset||o.scrollTop)-(o.clientTop||0),l=this.currentPoint.x-this.graph.container.scrollLeft+e.x-s,h=this.currentPoint.y-this.graph.container.scrollTop+e.y-a;return this.outlineConnect&&!mxEvent.isShiftDown(t.getEvent())&&(t.isSource(this.marker.highlight.shape)||mxEvent.isAltDown(t.getEvent())&&null!=t.getState()||this.marker.highlight.isHighlightAt(n,r)||(l!=n||h!=r)&&null==t.getState()&&this.marker.highlight.isHighlightAt(l,h))},mxConnectionHandler.prototype.updateCurrentState=function(t,e){if(this.constraintHandler.update(t,null==this.first,!1,null==this.first||t.isSource(this.marker.highlight.shape)?null:e),null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentConstraint)null!=this.marker.highlight&&null!=this.marker.highlight.state&&this.marker.highlight.state.cell==this.constraintHandler.currentFocus.cell?"transparent"!=this.marker.highlight.shape.stroke&&(this.marker.highlight.shape.stroke="transparent",this.marker.highlight.repaint()):this.marker.markCell(this.constraintHandler.currentFocus.cell,"transparent"),null!=this.previous&&(this.error=this.validateConnection(this.previous.cell,this.constraintHandler.currentFocus.cell),null==this.error?this.currentState=this.constraintHandler.currentFocus:this.constraintHandler.reset());else{this.graph.isIgnoreTerminalEvent(t.getEvent())?(this.marker.reset(),this.currentState=null):(this.marker.process(t),this.currentState=this.marker.getValidState(),null==this.currentState||this.isCellEnabled(this.currentState.cell)||(this.currentState=null));var i=this.isOutlineConnectEvent(t);if(null!=this.currentState&&i){t.isSource(this.marker.highlight.shape)&&(e=new mxPoint(t.getGraphX(),t.getGraphY()));var n=this.graph.getOutlineConstraint(e,this.currentState,t);this.constraintHandler.setFocus(t,this.currentState,!1),this.constraintHandler.currentConstraint=n,this.constraintHandler.currentPoint=e}if(this.outlineConnect&&null!=this.marker.highlight&&null!=this.marker.highlight.shape){var r=this.graph.view.scale;null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus?(this.marker.highlight.shape.stroke=mxConstants.OUTLINE_HIGHLIGHT_COLOR,this.marker.highlight.shape.strokewidth=mxConstants.OUTLINE_HIGHLIGHT_STROKEWIDTH/r/r,this.marker.highlight.repaint()):this.marker.hasValidState()&&(this.marker.getValidState()!=t.getState()?(this.marker.highlight.shape.stroke="transparent",this.currentState=null):this.marker.highlight.shape.stroke=mxConstants.DEFAULT_VALID_COLOR,this.marker.highlight.shape.strokewidth=mxConstants.HIGHLIGHT_STROKEWIDTH/r/r,this.marker.highlight.repaint())}}},mxConnectionHandler.prototype.isCellEnabled=function(t){return!0},mxConnectionHandler.prototype.convertWaypoint=function(t){var e=this.graph.getView().getScale(),i=this.graph.getView().getTranslate();t.x=t.x/e-i.x,t.y=t.y/e-i.y},mxConnectionHandler.prototype.snapToPreview=function(t,e){if(!mxEvent.isAltDown(t.getEvent())&&null!=this.previous){var i=this.graph.gridSize*this.graph.view.scale/2,n=null!=this.sourceConstraint?this.first:new mxPoint(this.previous.getCenterX(),this.previous.getCenterY());Math.abs(n.x-t.getGraphX())<i&&(e.x=n.x),Math.abs(n.y-t.getGraphY())<i&&(e.y=n.y)}},mxConnectionHandler.prototype.mouseMove=function(t,e){if(e.isConsumed()||!this.ignoreMouseDown&&null==this.first&&this.graph.isMouseDown)this.constraintHandler.reset();else{this.isEnabled()||null==this.currentState||(this.destroyIcons(),this.currentState=null);var i=this.graph.getView(),n=i.scale,r=i.translate,o=new mxPoint(e.getGraphX(),e.getGraphY());if(this.error=null,this.graph.isGridEnabledEvent(e.getEvent())&&(o=new mxPoint((this.graph.snap(o.x/n-r.x)+r.x)*n,(this.graph.snap(o.y/n-r.y)+r.y)*n)),this.snapToPreview(e,o),this.currentPoint=o,(null!=this.first||this.isEnabled()&&this.graph.isEnabled())&&(null!=this.shape||null==this.first||Math.abs(e.getGraphX()-this.first.x)>this.graph.tolerance||Math.abs(e.getGraphY()-this.first.y)>this.graph.tolerance)&&this.updateCurrentState(e,o),null!=this.first){var s=null,a=o;null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentPoint?(s=this.constraintHandler.currentConstraint,a=this.constraintHandler.currentPoint.clone()):null!=this.previous&&!this.graph.isIgnoreTerminalEvent(e.getEvent())&&mxEvent.isShiftDown(e.getEvent())&&(Math.abs(this.previous.getCenterX()-o.x)<Math.abs(this.previous.getCenterY()-o.y)?o.x=this.previous.getCenterX():o.y=this.previous.getCenterY());var l=this.first;if(null!=this.selectedIcon){var h=this.selectedIcon.bounds.width,u=this.selectedIcon.bounds.height;if(null!=this.currentState&&this.targetConnectImage){var c=this.getIconPosition(this.selectedIcon,this.currentState);this.selectedIcon.bounds.x=c.x,this.selectedIcon.bounds.y=c.y}else{var d=new mxRectangle(e.getGraphX()+this.connectIconOffset.x,e.getGraphY()+this.connectIconOffset.y,h,u);this.selectedIcon.bounds=d}this.selectedIcon.redraw()}if(null!=this.edgeState)this.updateEdgeState(a,s),a=this.edgeState.absolutePoints[this.edgeState.absolutePoints.length-1],l=this.edgeState.absolutePoints[0];else{if(null!=this.currentState)if(null==this.constraintHandler.currentConstraint)null!=(f=this.getTargetPerimeterPoint(this.currentState,e))&&(a=f);if(null==this.sourceConstraint&&null!=this.previous){var p=null!=this.waypoints&&this.waypoints.length>0?this.waypoints[0]:a;null!=(f=this.getSourcePerimeterPoint(this.previous,p,e))&&(l=f)}}if(null==this.currentState&&this.movePreviewAway){var f=l;if(null!=this.edgeState&&this.edgeState.absolutePoints.length>=2){var m=this.edgeState.absolutePoints[this.edgeState.absolutePoints.length-2];null!=m&&(f=m)}var g=a.x-f.x,v=a.y-f.y,A=Math.sqrt(g*g+v*v);if(0==A)return;this.originalPoint=a.clone(),a.x-=4*g/A,a.y-=4*v/A}else this.originalPoint=null;if(null==this.shape){g=Math.abs(e.getGraphX()-this.first.x),v=Math.abs(e.getGraphY()-this.first.y);(g>this.graph.tolerance||v>this.graph.tolerance)&&(this.shape=this.createShape(),null!=this.edgeState&&this.shape.apply(this.edgeState),this.updateCurrentState(e,o))}if(null!=this.shape){if(null!=this.edgeState)this.shape.points=this.edgeState.absolutePoints;else{var y=[l];null!=this.waypoints&&(y=y.concat(this.waypoints)),y.push(a),this.shape.points=y}this.drawPreview()}null!=this.cursor&&(this.graph.container.style.cursor=this.cursor),mxEvent.consume(e.getEvent()),e.consume()}else this.isEnabled()&&this.graph.isEnabled()?this.previous!=this.currentState&&null==this.edgeState?(this.destroyIcons(),null!=this.currentState&&null==this.error&&null==this.constraintHandler.currentConstraint&&(this.icons=this.createIcons(this.currentState),null==this.icons&&(this.currentState.setCursor(mxConstants.CURSOR_CONNECT),e.consume())),this.previous=this.currentState):this.previous!=this.currentState||null==this.currentState||null!=this.icons||this.graph.isMouseDown||e.consume():this.constraintHandler.reset();if(!this.graph.isMouseDown&&null!=this.currentState&&null!=this.icons){for(var x=!1,b=e.getSource(),C=0;C<this.icons.length&&!x;C++)x=b==this.icons[C].node||b.parentNode==this.icons[C].node;x||this.updateIcons(this.currentState,this.icons,e)}}},mxConnectionHandler.prototype.updateEdgeState=function(t,e){null!=this.sourceConstraint&&null!=this.sourceConstraint.point&&(this.edgeState.style[mxConstants.STYLE_EXIT_X]=this.sourceConstraint.point.x,this.edgeState.style[mxConstants.STYLE_EXIT_Y]=this.sourceConstraint.point.y),null!=e&&null!=e.point?(this.edgeState.style[mxConstants.STYLE_ENTRY_X]=e.point.x,this.edgeState.style[mxConstants.STYLE_ENTRY_Y]=e.point.y):(delete this.edgeState.style[mxConstants.STYLE_ENTRY_X],delete this.edgeState.style[mxConstants.STYLE_ENTRY_Y]),this.edgeState.absolutePoints=[null,null!=this.currentState?null:t],this.graph.view.updateFixedTerminalPoint(this.edgeState,this.previous,!0,this.sourceConstraint),null!=this.currentState&&(null==e&&(e=this.graph.getConnectionConstraint(this.edgeState,this.previous,!1)),this.edgeState.setAbsoluteTerminalPoint(null,!1),this.graph.view.updateFixedTerminalPoint(this.edgeState,this.currentState,!1,e));var i=null;if(null!=this.waypoints){i=[];for(var n=0;n<this.waypoints.length;n++){var r=this.waypoints[n].clone();this.convertWaypoint(r),i[n]=r}}this.graph.view.updatePoints(this.edgeState,i,this.previous,this.currentState),this.graph.view.updateFloatingTerminalPoints(this.edgeState,this.previous,this.currentState)},mxConnectionHandler.prototype.getTargetPerimeterPoint=function(t,e){var i=null,n=t.view,r=n.getPerimeterFunction(t);if(null!=r){var o=null!=this.waypoints&&this.waypoints.length>0?this.waypoints[this.waypoints.length-1]:new mxPoint(this.previous.getCenterX(),this.previous.getCenterY()),s=r(n.getPerimeterBounds(t),this.edgeState,o,!1);null!=s&&(i=s)}else i=new mxPoint(t.getCenterX(),t.getCenterY());return i},mxConnectionHandler.prototype.getSourcePerimeterPoint=function(t,e,i){var n=null,r=t.view,o=r.getPerimeterFunction(t),s=new mxPoint(t.getCenterX(),t.getCenterY());if(null!=o){var a=mxUtils.getValue(t.style,mxConstants.STYLE_ROTATION,0),l=-a*(Math.PI/180);0!=a&&(e=mxUtils.getRotatedPoint(new mxPoint(e.x,e.y),Math.cos(l),Math.sin(l),s));var h=o(r.getPerimeterBounds(t),t,e,!1);null!=h&&(0!=a&&(h=mxUtils.getRotatedPoint(new mxPoint(h.x,h.y),Math.cos(-l),Math.sin(-l),s)),n=h)}else n=s;return n},mxConnectionHandler.prototype.updateIcons=function(t,e,i){},mxConnectionHandler.prototype.isStopEvent=function(t){return null!=t.getState()},mxConnectionHandler.prototype.addWaypointForEvent=function(t){var e=mxUtils.convertPoint(this.graph.container,t.getX(),t.getY()),i=Math.abs(e.x-this.first.x),n=Math.abs(e.y-this.first.y);if(null!=this.waypoints||this.mouseDownCounter>1&&(i>this.graph.tolerance||n>this.graph.tolerance)){null==this.waypoints&&(this.waypoints=[]);var r=this.graph.view.scale;e=new mxPoint(this.graph.snap(t.getGraphX()/r)*r,this.graph.snap(t.getGraphY()/r)*r);this.waypoints.push(e)}},mxConnectionHandler.prototype.checkConstraints=function(t,e){return null==t||null==e||null==t.point||null==e.point||!t.point.equals(e.point)||t.dx!=e.dx||t.dy!=e.dy||t.perimeter!=e.perimeter},mxConnectionHandler.prototype.mouseUp=function(t,e){if(!e.isConsumed()&&this.isConnecting()){if(this.waypointsEnabled&&!this.isStopEvent(e))return this.addWaypointForEvent(e),void e.consume();var i=this.sourceConstraint,n=this.constraintHandler.currentConstraint,r=null!=this.previous?this.previous.cell:null,o=null;null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&(o=this.constraintHandler.currentFocus.cell),null==o&&null!=this.currentState&&(o=this.currentState.cell),null!=this.error||null!=r&&null!=o&&r==o&&!this.checkConstraints(i,n)?(null!=this.previous&&null!=this.marker.validState&&this.previous.cell==this.marker.validState.cell&&this.graph.selectCellForEvent(this.marker.source,e.getEvent()),null!=this.error&&this.error.length>0&&this.graph.validationAlert(this.error)):this.connect(r,o,e.getEvent(),e.getCell()),this.destroyIcons(),e.consume()}null!=this.first&&this.reset()},mxConnectionHandler.prototype.reset=function(){null!=this.shape&&(this.shape.destroy(),this.shape=null),null!=this.cursor&&null!=this.graph.container&&(this.graph.container.style.cursor=""),this.destroyIcons(),this.marker.reset(),this.constraintHandler.reset(),this.originalPoint=null,this.currentPoint=null,this.edgeState=null,this.previous=null,this.error=null,this.sourceConstraint=null,this.mouseDownCounter=0,this.first=null,this.fireEvent(new mxEventObject(mxEvent.RESET))},mxConnectionHandler.prototype.drawPreview=function(){this.updatePreview(null==this.error),this.shape.redraw()},mxConnectionHandler.prototype.updatePreview=function(t){this.shape.strokewidth=this.getEdgeWidth(t),this.shape.stroke=this.getEdgeColor(t)},mxConnectionHandler.prototype.getEdgeColor=function(t){return t?mxConstants.VALID_COLOR:mxConstants.INVALID_COLOR},mxConnectionHandler.prototype.getEdgeWidth=function(t){return t?3:1},mxConnectionHandler.prototype.connect=function(t,e,i,n){if(null!=e||this.isCreateTarget(i)||this.graph.allowDanglingEdges){var r=this.graph.getModel(),o=!1,s=null;r.beginUpdate();try{if(null!=t&&null==e&&!this.graph.isIgnoreTerminalEvent(i)&&this.isCreateTarget(i)&&null!=(e=this.createTargetVertex(i,t))){if(o=!0,null!=(n=this.graph.getDropTarget([e],i,n))&&this.graph.getModel().isEdge(n))n=this.graph.getDefaultParent();else{var a=this.graph.getView().getState(n);if(null!=a)(c=r.getGeometry(e)).x-=a.origin.x,c.y-=a.origin.y}this.graph.addCell(e,n)}var l=this.graph.getDefaultParent();null!=t&&null!=e&&r.getParent(t)==r.getParent(e)&&r.getParent(r.getParent(t))!=r.getRoot()&&(l=r.getParent(t),null!=t.geometry&&t.geometry.relative&&null!=e.geometry&&e.geometry.relative&&(l=r.getParent(l)));var h=null,u=null;if(null!=this.edgeState&&(h=this.edgeState.cell.value,u=this.edgeState.cell.style),null!=(s=this.insertEdge(l,null,h,t,e,u))){this.graph.setConnectionConstraint(s,t,!0,this.sourceConstraint),this.graph.setConnectionConstraint(s,e,!1,this.constraintHandler.currentConstraint),null!=this.edgeState&&r.setGeometry(s,this.edgeState.cell.geometry);l=r.getParent(t);if(this.isInsertBefore(s,t,e,i,n)){for(var c=t;null!=c.parent&&null!=c.geometry&&c.geometry.relative&&c.parent!=s.parent;)c=this.graph.model.getParent(c);null!=c&&null!=c.parent&&c.parent==s.parent&&r.add(l,s,c.parent.getIndex(c))}var d=r.getGeometry(s);if(null==d&&((d=new mxGeometry).relative=!0,r.setGeometry(s,d)),null!=this.waypoints&&this.waypoints.length>0){var p=this.graph.view.scale,f=this.graph.view.translate;d.points=[];for(var m=0;m<this.waypoints.length;m++){var g=this.waypoints[m];d.points.push(new mxPoint(g.x/p-f.x,g.y/p-f.y))}}if(null==e){var v=this.graph.view.translate;p=this.graph.view.scale;(g=null!=this.originalPoint?new mxPoint(this.originalPoint.x/p-v.x,this.originalPoint.y/p-v.y):new mxPoint(this.currentPoint.x/p-v.x,this.currentPoint.y/p-v.y)).x-=this.graph.panDx/this.graph.view.scale,g.y-=this.graph.panDy/this.graph.view.scale,d.setTerminalPoint(g,!1)}this.fireEvent(new mxEventObject(mxEvent.CONNECT,"cell",s,"terminal",e,"event",i,"target",n,"terminalInserted",o))}}catch(t){mxLog.show(),mxLog.debug(t.message)}finally{r.endUpdate()}this.select&&this.selectCells(s,o?e:null)}},mxConnectionHandler.prototype.selectCells=function(t,e){this.graph.setSelectionCell(t)},mxConnectionHandler.prototype.insertEdge=function(t,e,i,n,r,o){if(null==this.factoryMethod)return this.graph.insertEdge(t,e,i,n,r,o);var s=this.createEdge(i,n,r,o);return s=this.graph.addEdge(s,t,n,r)},mxConnectionHandler.prototype.createTargetVertex=function(t,e){for(var i=this.graph.getCellGeometry(e);null!=i&&i.relative;)e=this.graph.getModel().getParent(e),i=this.graph.getCellGeometry(e);var n=this.graph.cloneCell(e);if(null!=(i=this.graph.getModel().getGeometry(n))){var r=this.graph.view.translate,o=this.graph.view.scale,s=new mxPoint(this.currentPoint.x/o-r.x,this.currentPoint.y/o-r.y);i.x=Math.round(s.x-i.width/2-this.graph.panDx/o),i.y=Math.round(s.y-i.height/2-this.graph.panDy/o);var a=this.getAlignmentTolerance();if(a>0){var l=this.graph.view.getState(e);if(null!=l){var h=l.x/o-r.x,u=l.y/o-r.y;Math.abs(h-i.x)<=a&&(i.x=Math.round(h)),Math.abs(u-i.y)<=a&&(i.y=Math.round(u))}}}return n},mxConnectionHandler.prototype.getAlignmentTolerance=function(t){return this.graph.isGridEnabled()?this.graph.gridSize/2:this.graph.tolerance},mxConnectionHandler.prototype.createEdge=function(t,e,i,n){var r=null;if(null!=this.factoryMethod&&(r=this.factoryMethod(e,i,n)),null==r){(r=new mxCell(t||"")).setEdge(!0),r.setStyle(n);var o=new mxGeometry;o.relative=!0,r.setGeometry(o)}return r},mxConnectionHandler.prototype.destroy=function(){this.graph.removeMouseListener(this),null!=this.shape&&(this.shape.destroy(),this.shape=null),null!=this.marker&&(this.marker.destroy(),this.marker=null),null!=this.constraintHandler&&(this.constraintHandler.destroy(),this.constraintHandler=null),null!=this.changeHandler&&(this.graph.getModel().removeListener(this.changeHandler),this.graph.getView().removeListener(this.changeHandler),this.changeHandler=null),null!=this.drillHandler&&(this.graph.removeListener(this.drillHandler),this.graph.getView().removeListener(this.drillHandler),this.drillHandler=null),null!=this.escapeHandler&&(this.graph.removeListener(this.escapeHandler),this.escapeHandler=null)},__mxOutput.mxConnectionHandler=void 0!==mxConnectionHandler?mxConnectionHandler:void 0,mxConstraintHandler.prototype.pointImage=new mxImage(mxClient.imageBasePath+"/point.gif",5,5),mxConstraintHandler.prototype.graph=null,mxConstraintHandler.prototype.enabled=!0,mxConstraintHandler.prototype.highlightColor=mxConstants.DEFAULT_VALID_COLOR,mxConstraintHandler.prototype.isEnabled=function(){return this.enabled},mxConstraintHandler.prototype.setEnabled=function(t){this.enabled=t},mxConstraintHandler.prototype.reset=function(){if(null!=this.focusIcons){for(var t=0;t<this.focusIcons.length;t++)this.focusIcons[t].destroy();this.focusIcons=null}null!=this.focusHighlight&&(this.focusHighlight.destroy(),this.focusHighlight=null),this.currentConstraint=null,this.currentFocusArea=null,this.currentPoint=null,this.currentFocus=null,this.focusPoints=null},mxConstraintHandler.prototype.getTolerance=function(t){return this.graph.getTolerance()},mxConstraintHandler.prototype.getImageForConstraint=function(t,e,i){return this.pointImage},mxConstraintHandler.prototype.isEventIgnored=function(t,e){return!1},mxConstraintHandler.prototype.isStateIgnored=function(t,e){return!1},mxConstraintHandler.prototype.destroyIcons=function(){if(null!=this.focusIcons){for(var t=0;t<this.focusIcons.length;t++)this.focusIcons[t].destroy();this.focusIcons=null,this.focusPoints=null}},mxConstraintHandler.prototype.destroyFocusHighlight=function(){null!=this.focusHighlight&&(this.focusHighlight.destroy(),this.focusHighlight=null)},mxConstraintHandler.prototype.isKeepFocusEvent=function(t){return mxEvent.isShiftDown(t.getEvent())},mxConstraintHandler.prototype.getCellForEvent=function(t,e){var i=t.getCell();if(null!=i||null==e||t.getGraphX()==e.x&&t.getGraphY()==e.y||(i=this.graph.getCellAt(e.x,e.y)),null!=i&&!this.graph.isCellConnectable(i)){var n=this.graph.getModel().getParent(i);this.graph.getModel().isVertex(n)&&this.graph.isCellConnectable(n)&&(i=n)}return this.graph.isCellLocked(i)?null:i},mxConstraintHandler.prototype.update=function(t,e,i,n){if(this.isEnabled()&&!this.isEventIgnored(t)){null==this.mouseleaveHandler&&null!=this.graph.container&&(this.mouseleaveHandler=mxUtils.bind(this,function(){this.reset()}),mxEvent.addListener(this.graph.container,"mouseleave",this.resetHandler));var r=this.getTolerance(t),o=new mxRectangle((null!=n?n.x:t.getGraphX())-r,(null!=n?n.y:t.getGraphY())-r,2*r,2*r),s=new mxRectangle(t.getGraphX()-r,t.getGraphY()-r,2*r,2*r),a=this.graph.view.getState(this.getCellForEvent(t,n));this.isKeepFocusEvent(t)||null!=this.currentFocusArea&&null!=this.currentFocus&&null==a&&this.graph.getModel().isVertex(this.currentFocus.cell)&&mxUtils.intersects(this.currentFocusArea,s)||a==this.currentFocus||(this.currentFocusArea=null,this.currentFocus=null,this.setFocus(t,a,e)),this.currentConstraint=null,this.currentPoint=null;var l=null;if(null!=this.focusIcons&&null!=this.constraints&&(null==a||this.currentFocus==a))for(var h=s.getCenterX(),u=s.getCenterY(),c=0;c<this.focusIcons.length;c++){var d=h-this.focusIcons[c].bounds.getCenterX(),p=u-this.focusIcons[c].bounds.getCenterY(),f=d*d+p*p;if((this.intersects(this.focusIcons[c],s,e,i)||null!=n&&this.intersects(this.focusIcons[c],o,e,i))&&(null==l||f<l)){if(this.currentConstraint=this.constraints[c],this.currentPoint=this.focusPoints[c],l=f,(f=this.focusIcons[c].bounds.clone()).grow(mxConstants.HIGHLIGHT_SIZE+1),f.width-=1,f.height-=1,null==this.focusHighlight){var m=this.createHighlightShape();m.dialect=this.graph.dialect==mxConstants.DIALECT_SVG?mxConstants.DIALECT_SVG:mxConstants.DIALECT_VML,m.pointerEvents=!1,m.init(this.graph.getView().getOverlayPane()),this.focusHighlight=m;var g=mxUtils.bind(this,function(){return null!=this.currentFocus?this.currentFocus:a});mxEvent.redirectMouseEvents(m.node,this.graph,g)}this.focusHighlight.bounds=f,this.focusHighlight.redraw()}}null==this.currentConstraint&&this.destroyFocusHighlight()}else this.currentConstraint=null,this.currentFocus=null,this.currentPoint=null},mxConstraintHandler.prototype.redraw=function(){if(null!=this.currentFocus&&null!=this.constraints&&null!=this.focusIcons){var t=this.graph.view.getState(this.currentFocus.cell);this.currentFocus=t,this.currentFocusArea=new mxRectangle(t.x,t.y,t.width,t.height);for(var e=0;e<this.constraints.length;e++){var i=this.graph.getConnectionPoint(t,this.constraints[e]),n=this.getImageForConstraint(t,this.constraints[e],i),r=new mxRectangle(Math.round(i.x-n.width/2),Math.round(i.y-n.height/2),n.width,n.height);this.focusIcons[e].bounds=r,this.focusIcons[e].redraw(),this.currentFocusArea.add(this.focusIcons[e].bounds),this.focusPoints[e]=i}}},mxConstraintHandler.prototype.setFocus=function(t,e,i){if(this.constraints=null!=e&&!this.isStateIgnored(e,i)&&this.graph.isCellConnectable(e.cell)?this.isEnabled()&&this.graph.getAllConnectionConstraints(e,i)||[]:null,null!=this.constraints){if(this.currentFocus=e,this.currentFocusArea=new mxRectangle(e.x,e.y,e.width,e.height),null!=this.focusIcons){for(var n=0;n<this.focusIcons.length;n++)this.focusIcons[n].destroy();this.focusIcons=null,this.focusPoints=null}this.focusPoints=[],this.focusIcons=[];for(n=0;n<this.constraints.length;n++){var r=this.graph.getConnectionPoint(e,this.constraints[n]),o=this.getImageForConstraint(e,this.constraints[n],r),s=o.src,a=new mxImageShape(new mxRectangle(Math.round(r.x-o.width/2),Math.round(r.y-o.height/2),o.width,o.height),s);a.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_MIXEDHTML:mxConstants.DIALECT_SVG,a.preserveImageAspect=!1,a.init(this.graph.getView().getDecoratorPane()),(mxClient.IS_QUIRKS||8==document.documentMode)&&mxEvent.addListener(a.node,"dragstart",function(t){return mxEvent.consume(t),!1}),null!=a.node.previousSibling&&a.node.parentNode.insertBefore(a.node,a.node.parentNode.firstChild);var l=mxUtils.bind(this,function(){return null!=this.currentFocus?this.currentFocus:e});a.redraw(),mxEvent.redirectMouseEvents(a.node,this.graph,l),this.currentFocusArea.add(a.bounds),this.focusIcons.push(a),this.focusPoints.push(r)}this.currentFocusArea.grow(this.getTolerance(t))}else this.destroyIcons(),this.destroyFocusHighlight()},mxConstraintHandler.prototype.createHighlightShape=function(){var t=new mxRectangleShape(null,this.highlightColor,this.highlightColor,mxConstants.HIGHLIGHT_STROKEWIDTH);return t.opacity=mxConstants.HIGHLIGHT_OPACITY,t},mxConstraintHandler.prototype.intersects=function(t,e,i,n){return mxUtils.intersects(t.bounds,e)},mxConstraintHandler.prototype.destroy=function(){this.reset(),null!=this.resetHandler&&(this.graph.model.removeListener(this.resetHandler),this.graph.view.removeListener(this.resetHandler),this.graph.removeListener(this.resetHandler),this.resetHandler=null),null!=this.mouseleaveHandler&&null!=this.graph.container&&(mxEvent.removeListener(this.graph.container,"mouseleave",this.mouseleaveHandler),this.mouseleaveHandler=null)},__mxOutput.mxConstraintHandler=void 0!==mxConstraintHandler?mxConstraintHandler:void 0,mxRubberband.prototype.defaultOpacity=20,mxRubberband.prototype.enabled=!0,mxRubberband.prototype.div=null,mxRubberband.prototype.sharedDiv=null,mxRubberband.prototype.currentX=0,mxRubberband.prototype.currentY=0,mxRubberband.prototype.fadeOut=!1,mxRubberband.prototype.isEnabled=function(){return this.enabled},mxRubberband.prototype.setEnabled=function(t){this.enabled=t},mxRubberband.prototype.isForceRubberbandEvent=function(t){return mxEvent.isAltDown(t.getEvent())},mxRubberband.prototype.mouseDown=function(t,e){if(!e.isConsumed()&&this.isEnabled()&&this.graph.isEnabled()&&null==e.getState()&&!mxEvent.isMultiTouchEvent(e.getEvent())){var i=mxUtils.getOffset(this.graph.container),n=mxUtils.getScrollOrigin(this.graph.container);n.x-=i.x,n.y-=i.y,this.start(e.getX()+n.x,e.getY()+n.y),e.consume(!1)}},mxRubberband.prototype.start=function(t,e){this.first=new mxPoint(t,e);var i=this.graph.container;function n(t){var e=new mxMouseEvent(t),n=mxUtils.convertPoint(i,e.getX(),e.getY());return e.graphX=n.x,e.graphY=n.y,e}this.dragHandler=mxUtils.bind(this,function(t){this.mouseMove(this.graph,n(t))}),this.dropHandler=mxUtils.bind(this,function(t){this.mouseUp(this.graph,n(t))}),mxClient.IS_FF&&mxEvent.addGestureListeners(document,null,this.dragHandler,this.dropHandler)},mxRubberband.prototype.mouseMove=function(t,e){if(!e.isConsumed()&&null!=this.first){var i=mxUtils.getScrollOrigin(this.graph.container),n=mxUtils.getOffset(this.graph.container);i.x-=n.x,i.y-=n.y;var r=e.getX()+i.x,o=e.getY()+i.y,s=this.first.x-r,a=this.first.y-o,l=this.graph.tolerance;(null!=this.div||Math.abs(s)>l||Math.abs(a)>l)&&(null==this.div&&(this.div=this.createShape()),mxUtils.clearSelection(),this.update(r,o),e.consume())}},mxRubberband.prototype.createShape=function(){null==this.sharedDiv&&(this.sharedDiv=document.createElement("div"),this.sharedDiv.className="mxRubberband",mxUtils.setOpacity(this.sharedDiv,this.defaultOpacity)),this.graph.container.appendChild(this.sharedDiv);var t=this.sharedDiv;return mxClient.IS_SVG&&(!mxClient.IS_IE||document.documentMode>=10)&&this.fadeOut&&(this.sharedDiv=null),t},mxRubberband.prototype.isActive=function(t,e){return null!=this.div&&"none"!=this.div.style.display},mxRubberband.prototype.mouseUp=function(t,e){var i=this.isActive();this.reset(),i&&(this.execute(e.getEvent()),e.consume())},mxRubberband.prototype.execute=function(t){var e=new mxRectangle(this.x,this.y,this.width,this.height);this.graph.selectRegion(e,t)},mxRubberband.prototype.reset=function(){if(null!=this.div)if(mxClient.IS_SVG&&(!mxClient.IS_IE||document.documentMode>=10)&&this.fadeOut){var t=this.div;mxUtils.setPrefixedStyle(t.style,"transition","all 0.2s linear"),t.style.pointerEvents="none",t.style.opacity=0,window.setTimeout(function(){t.parentNode.removeChild(t)},200)}else this.div.parentNode.removeChild(this.div);mxEvent.removeGestureListeners(document,null,this.dragHandler,this.dropHandler),this.dragHandler=null,this.dropHandler=null,this.currentX=0,this.currentY=0,this.first=null,this.div=null},mxRubberband.prototype.update=function(t,e){this.currentX=t,this.currentY=e,this.repaint()},mxRubberband.prototype.repaint=function(){if(null!=this.div){var t=this.currentX-this.graph.panDx,e=this.currentY-this.graph.panDy;this.x=Math.min(this.first.x,t),this.y=Math.min(this.first.y,e),this.width=Math.max(this.first.x,t)-this.x,this.height=Math.max(this.first.y,e)-this.y;var i=mxClient.IS_VML?this.graph.panDx:0,n=mxClient.IS_VML?this.graph.panDy:0;this.div.style.left=this.x+i+"px",this.div.style.top=this.y+n+"px",this.div.style.width=Math.max(1,this.width)+"px",this.div.style.height=Math.max(1,this.height)+"px"}},mxRubberband.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.graph.removeMouseListener(this),this.graph.removeListener(this.forceRubberbandHandler),this.graph.removeListener(this.panHandler),this.reset(),null!=this.sharedDiv&&(this.sharedDiv=null))},__mxOutput.mxRubberband=void 0!==mxRubberband?mxRubberband:void 0,mxHandle.prototype.cursor="default",mxHandle.prototype.image=null,mxHandle.prototype.ignoreGrid=!1,mxHandle.prototype.getPosition=function(t){},mxHandle.prototype.setPosition=function(t,e,i){},mxHandle.prototype.execute=function(){},mxHandle.prototype.copyStyle=function(t){this.graph.setCellStyles(t,this.state.style[t],[this.state.cell])},mxHandle.prototype.processEvent=function(t){var e=this.graph.view.scale,i=this.graph.view.translate,n=new mxPoint(t.getGraphX()/e-i.x,t.getGraphY()/e-i.y);null!=this.shape&&null!=this.shape.bounds&&(n.x-=this.shape.bounds.width/e/4,n.y-=this.shape.bounds.height/e/4);var r=-mxUtils.toRadians(this.getRotation()),o=-mxUtils.toRadians(this.getTotalRotation())-r;n=this.flipPoint(this.rotatePoint(this.snapPoint(this.rotatePoint(n,r),this.ignoreGrid||!this.graph.isGridEnabledEvent(t.getEvent())),o)),this.setPosition(this.state.getPaintBounds(),n,t),this.positionChanged(),this.redraw()},mxHandle.prototype.positionChanged=function(){null!=this.state.text&&this.state.text.apply(this.state),null!=this.state.shape&&this.state.shape.apply(this.state),this.graph.cellRenderer.redraw(this.state,!0)},mxHandle.prototype.getRotation=function(){return null!=this.state.shape?this.state.shape.getRotation():0},mxHandle.prototype.getTotalRotation=function(){return null!=this.state.shape?this.state.shape.getShapeRotation():0},mxHandle.prototype.init=function(){var t=this.isHtmlRequired();null!=this.image?(this.shape=new mxImageShape(new mxRectangle(0,0,this.image.width,this.image.height),this.image.src),this.shape.preserveImageAspect=!1):this.shape=this.createShape(t),this.initShape(t)},mxHandle.prototype.createShape=function(t){return new mxRectangleShape(new mxRectangle(0,0,mxConstants.HANDLE_SIZE,mxConstants.HANDLE_SIZE),mxConstants.HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR)},mxHandle.prototype.initShape=function(t){t&&this.shape.isHtmlAllowed()?(this.shape.dialect=mxConstants.DIALECT_STRICTHTML,this.shape.init(this.graph.container)):(this.shape.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_MIXEDHTML:mxConstants.DIALECT_SVG,null!=this.cursor&&this.shape.init(this.graph.getView().getOverlayPane())),mxEvent.redirectMouseEvents(this.shape.node,this.graph,this.state),this.shape.node.style.cursor=this.cursor},mxHandle.prototype.redraw=function(){if(null!=this.shape&&null!=this.state.shape){var t=this.getPosition(this.state.getPaintBounds());if(null!=t){var e=mxUtils.toRadians(this.getTotalRotation());t=this.rotatePoint(this.flipPoint(t),e);var i=this.graph.view.scale,n=this.graph.view.translate;this.shape.bounds.x=Math.floor((t.x+n.x)*i-this.shape.bounds.width/2),this.shape.bounds.y=Math.floor((t.y+n.y)*i-this.shape.bounds.height/2),this.shape.redraw()}}},mxHandle.prototype.isHtmlRequired=function(){return null!=this.state.text&&this.state.text.node.parentNode==this.graph.container},mxHandle.prototype.rotatePoint=function(t,e){var i=this.state.getCellBounds(),n=new mxPoint(i.getCenterX(),i.getCenterY()),r=Math.cos(e),o=Math.sin(e);return mxUtils.getRotatedPoint(t,r,o,n)},mxHandle.prototype.flipPoint=function(t){if(null!=this.state.shape){var e=this.state.getCellBounds();this.state.shape.flipH&&(t.x=2*e.x+e.width-t.x),this.state.shape.flipV&&(t.y=2*e.y+e.height-t.y)}return t},mxHandle.prototype.snapPoint=function(t,e){return e||(t.x=this.graph.snap(t.x),t.y=this.graph.snap(t.y)),t},mxHandle.prototype.setVisible=function(t){null!=this.shape&&null!=this.shape.node&&(this.shape.node.style.display=t?"":"none")},mxHandle.prototype.reset=function(){this.setVisible(!0),this.state.style=this.graph.getCellStyle(this.state.cell),this.positionChanged()},mxHandle.prototype.destroy=function(){null!=this.shape&&(this.shape.destroy(),this.shape=null)},__mxOutput.mxHandle=void 0!==mxHandle?mxHandle:void 0,mxVertexHandler.prototype.graph=null,mxVertexHandler.prototype.state=null,mxVertexHandler.prototype.singleSizer=!1,mxVertexHandler.prototype.index=null,mxVertexHandler.prototype.allowHandleBoundsCheck=!0,mxVertexHandler.prototype.handleImage=null,mxVertexHandler.prototype.tolerance=0,mxVertexHandler.prototype.rotationEnabled=!1,mxVertexHandler.prototype.parentHighlightEnabled=!1,mxVertexHandler.prototype.rotationRaster=!0,mxVertexHandler.prototype.rotationCursor="crosshair",mxVertexHandler.prototype.livePreview=!1,mxVertexHandler.prototype.manageSizers=!1,mxVertexHandler.prototype.constrainGroupByChildren=!1,mxVertexHandler.prototype.rotationHandleVSpacing=-16,mxVertexHandler.prototype.horizontalOffset=0,mxVertexHandler.prototype.verticalOffset=0,mxVertexHandler.prototype.init=function(){if(this.graph=this.state.view.graph,this.selectionBounds=this.getSelectionBounds(this.state),this.bounds=new mxRectangle(this.selectionBounds.x,this.selectionBounds.y,this.selectionBounds.width,this.selectionBounds.height),this.selectionBorder=this.createSelectionShape(this.bounds),this.selectionBorder.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,this.selectionBorder.pointerEvents=!1,this.selectionBorder.rotation=Number(this.state.style[mxConstants.STYLE_ROTATION]||"0"),this.selectionBorder.init(this.graph.getView().getOverlayPane()),mxEvent.redirectMouseEvents(this.selectionBorder.node,this.graph,this.state),this.graph.isCellMovable(this.state.cell)&&this.selectionBorder.setCursor(mxConstants.CURSOR_MOVABLE_VERTEX),mxGraphHandler.prototype.maxCells<=0||this.graph.getSelectionCount()<mxGraphHandler.prototype.maxCells){var t=this.graph.isCellResizable(this.state.cell);if(this.sizers=[],t||this.graph.isLabelMovable(this.state.cell)&&this.state.width>=2&&this.state.height>=2){var e=0;t&&(this.singleSizer||(this.sizers.push(this.createSizer("nw-resize",e++)),this.sizers.push(this.createSizer("n-resize",e++)),this.sizers.push(this.createSizer("ne-resize",e++)),this.sizers.push(this.createSizer("w-resize",e++)),this.sizers.push(this.createSizer("e-resize",e++)),this.sizers.push(this.createSizer("sw-resize",e++)),this.sizers.push(this.createSizer("s-resize",e++))),this.sizers.push(this.createSizer("se-resize",e++)));var i=this.graph.model.getGeometry(this.state.cell);null==i||i.relative||this.graph.isSwimlane(this.state.cell)||!this.graph.isLabelMovable(this.state.cell)||(this.labelShape=this.createSizer(mxConstants.CURSOR_LABEL_HANDLE,mxEvent.LABEL_HANDLE,mxConstants.LABEL_HANDLE_SIZE,mxConstants.LABEL_HANDLE_FILLCOLOR),this.sizers.push(this.labelShape))}else this.graph.isCellMovable(this.state.cell)&&!this.graph.isCellResizable(this.state.cell)&&this.state.width<2&&this.state.height<2&&(this.labelShape=this.createSizer(mxConstants.CURSOR_MOVABLE_VERTEX,mxEvent.LABEL_HANDLE,null,mxConstants.LABEL_HANDLE_FILLCOLOR),this.sizers.push(this.labelShape))}this.isRotationHandleVisible()&&(this.rotationShape=this.createSizer(this.rotationCursor,mxEvent.ROTATION_HANDLE,mxConstants.HANDLE_SIZE+3,mxConstants.HANDLE_FILLCOLOR),this.sizers.push(this.rotationShape)),this.customHandles=this.createCustomHandles(),this.redraw(),this.constrainGroupByChildren&&this.updateMinBounds()},mxVertexHandler.prototype.isRotationHandleVisible=function(){return this.graph.isEnabled()&&this.rotationEnabled&&this.graph.isCellRotatable(this.state.cell)&&(mxGraphHandler.prototype.maxCells<=0||this.graph.getSelectionCount()<mxGraphHandler.prototype.maxCells)&&this.state.width>=2&&this.state.height>=2},mxVertexHandler.prototype.isConstrainedEvent=function(t){return mxEvent.isShiftDown(t.getEvent())||"fixed"==this.state.style[mxConstants.STYLE_ASPECT]},mxVertexHandler.prototype.isCenteredEvent=function(t,e){return!1},mxVertexHandler.prototype.createCustomHandles=function(){return null},mxVertexHandler.prototype.updateMinBounds=function(){var t=this.graph.getChildCells(this.state.cell);if(t.length>0&&(this.minBounds=this.graph.view.getBounds(t),null!=this.minBounds)){var e=this.state.view.scale,i=this.state.view.translate;this.minBounds.x-=this.state.x,this.minBounds.y-=this.state.y,this.minBounds.x/=e,this.minBounds.y/=e,this.minBounds.width/=e,this.minBounds.height/=e,this.x0=this.state.x/e-i.x,this.y0=this.state.y/e-i.y}},mxVertexHandler.prototype.getSelectionBounds=function(t){return new mxRectangle(Math.round(t.x),Math.round(t.y),Math.round(t.width),Math.round(t.height))},mxVertexHandler.prototype.createParentHighlightShape=function(t){return this.createSelectionShape(t)},mxVertexHandler.prototype.createSelectionShape=function(t){var e=new mxRectangleShape(t,null,this.getSelectionColor());return e.strokewidth=this.getSelectionStrokeWidth(),e.isDashed=this.isSelectionDashed(),e},mxVertexHandler.prototype.getSelectionColor=function(){return mxConstants.VERTEX_SELECTION_COLOR},mxVertexHandler.prototype.getSelectionStrokeWidth=function(){return mxConstants.VERTEX_SELECTION_STROKEWIDTH},mxVertexHandler.prototype.isSelectionDashed=function(){return mxConstants.VERTEX_SELECTION_DASHED},mxVertexHandler.prototype.createSizer=function(t,e,i,n){var r=new mxRectangle(0,0,i=i||mxConstants.HANDLE_SIZE,i),o=this.createSizerShape(r,e,n);return o.isHtmlAllowed()&&null!=this.state.text&&this.state.text.node.parentNode==this.graph.container?(o.bounds.height-=1,o.bounds.width-=1,o.dialect=mxConstants.DIALECT_STRICTHTML,o.init(this.graph.container)):(o.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_MIXEDHTML:mxConstants.DIALECT_SVG,o.init(this.graph.getView().getOverlayPane())),mxEvent.redirectMouseEvents(o.node,this.graph,this.state),this.graph.isEnabled()&&o.setCursor(t),this.isSizerVisible(e)||(o.visible=!1),o},mxVertexHandler.prototype.isSizerVisible=function(t){return!0},mxVertexHandler.prototype.createSizerShape=function(t,e,i){if(null!=this.handleImage){var n=new mxImageShape(t=new mxRectangle(t.x,t.y,this.handleImage.width,this.handleImage.height),this.handleImage.src);return n.preserveImageAspect=!1,n}return e==mxEvent.ROTATION_HANDLE?new mxEllipse(t,i||mxConstants.HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR):new mxRectangleShape(t,i||mxConstants.HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR)},mxVertexHandler.prototype.moveSizerTo=function(t,e,i){null!=t&&(t.bounds.x=Math.floor(e-t.bounds.width/2),t.bounds.y=Math.floor(i-t.bounds.height/2),null!=t.node&&"none"!=t.node.style.display&&t.redraw())},mxVertexHandler.prototype.getHandleForEvent=function(t){var e=mxEvent.isMouseEvent(t.getEvent())?1:this.tolerance,i=this.allowHandleBoundsCheck&&(mxClient.IS_IE||e>0)?new mxRectangle(t.getGraphX()-e,t.getGraphY()-e,2*e,2*e):null;function n(e){return null!=e&&(t.isSource(e)||null!=i&&mxUtils.intersects(e.bounds,i)&&"none"!=e.node.style.display&&"hidden"!=e.node.style.visibility)}if(null!=this.customHandles&&this.isCustomHandleEvent(t))for(var r=this.customHandles.length-1;r>=0;r--)if(n(this.customHandles[r].shape))return mxEvent.CUSTOM_HANDLE-r;if(n(this.rotationShape))return mxEvent.ROTATION_HANDLE;if(n(this.labelShape))return mxEvent.LABEL_HANDLE;if(null!=this.sizers)for(r=0;r<this.sizers.length;r++)if(n(this.sizers[r]))return r;return null},mxVertexHandler.prototype.isCustomHandleEvent=function(t){return!0},mxVertexHandler.prototype.mouseDown=function(t,e){var i=mxEvent.isMouseEvent(e.getEvent())?0:this.tolerance;if(!e.isConsumed()&&this.graph.isEnabled()&&(i>0||e.getState()==this.state)){var n=this.getHandleForEvent(e);null!=n&&(this.start(e.getGraphX(),e.getGraphY(),n),e.consume())}},mxVertexHandler.prototype.isLivePreviewBorder=function(){return null!=this.state.shape&&null==this.state.shape.fill&&null==this.state.shape.stroke},mxVertexHandler.prototype.start=function(t,e,i){if(null!=this.selectionBorder){this.livePreviewActive=this.livePreview&&0==this.graph.model.getChildCount(this.state.cell),this.inTolerance=!0,this.childOffsetX=0,this.childOffsetY=0,this.index=i,this.startX=t,this.startY=e;var n=this.state.view.graph.model,r=n.getParent(this.state.cell);if(this.state.view.currentRoot!=r&&(n.isVertex(r)||n.isEdge(r))&&(this.parentState=this.state.view.graph.view.getState(r)),this.selectionBorder.node.style.display=i==mxEvent.ROTATION_HANDLE?"inline":"none",this.livePreviewActive&&!this.isLivePreviewBorder()||(this.preview=this.createSelectionShape(this.bounds),mxClient.IS_SVG&&0!=Number(this.state.style[mxConstants.STYLE_ROTATION]||"0")||null==this.state.text||this.state.text.node.parentNode!=this.graph.container?(this.preview.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,this.preview.init(this.graph.view.getOverlayPane())):(this.preview.dialect=mxConstants.DIALECT_STRICTHTML,this.preview.init(this.graph.container))),this.livePreviewActive){this.hideSizers(),i==mxEvent.ROTATION_HANDLE?this.rotationShape.node.style.display="":i==mxEvent.LABEL_HANDLE?this.labelShape.node.style.display="":null!=this.sizers&&null!=this.sizers[i]?this.sizers[i].node.style.display="":i<=mxEvent.CUSTOM_HANDLE&&null!=this.customHandles&&this.customHandles[mxEvent.CUSTOM_HANDLE-i].setVisible(!0);var o=this.graph.getEdges(this.state.cell);this.edgeHandlers=[];for(var s=0;s<o.length;s++){var a=this.graph.selectionCellsHandler.getHandler(o[s]);null!=a&&this.edgeHandlers.push(a)}}}},mxVertexHandler.prototype.setHandlesVisible=function(t){if(null!=this.sizers)for(var e=0;e<this.sizers.length;e++)this.sizers[e].node.style.display=t?"":"none";if(null!=this.customHandles)for(e=0;e<this.customHandles.length;e++)this.customHandles[e].setVisible(t)},mxVertexHandler.prototype.hideSizers=function(){this.setHandlesVisible(!1)},mxVertexHandler.prototype.checkTolerance=function(t){this.inTolerance&&null!=this.startX&&null!=this.startY&&(mxEvent.isMouseEvent(t.getEvent())||Math.abs(t.getGraphX()-this.startX)>this.graph.tolerance||Math.abs(t.getGraphY()-this.startY)>this.graph.tolerance)&&(this.inTolerance=!1)},mxVertexHandler.prototype.updateHint=function(t){},mxVertexHandler.prototype.removeHint=function(){},mxVertexHandler.prototype.roundAngle=function(t){return Math.round(10*t)/10},mxVertexHandler.prototype.roundLength=function(t){return Math.round(t)},mxVertexHandler.prototype.mouseMove=function(t,e){e.isConsumed()||null==this.index?this.graph.isMouseDown||null==this.getHandleForEvent(e)||e.consume(!1):(this.checkTolerance(e),this.inTolerance||(this.index<=mxEvent.CUSTOM_HANDLE?null!=this.customHandles&&(this.customHandles[mxEvent.CUSTOM_HANDLE-this.index].processEvent(e),this.customHandles[mxEvent.CUSTOM_HANDLE-this.index].active=!0):this.index==mxEvent.LABEL_HANDLE?this.moveLabel(e):this.index==mxEvent.ROTATION_HANDLE?this.rotateVertex(e):this.resizeVertex(e),this.updateHint(e)),e.consume())},mxVertexHandler.prototype.moveLabel=function(t){var e=new mxPoint(t.getGraphX(),t.getGraphY()),i=this.graph.view.translate,n=this.graph.view.scale;this.graph.isGridEnabledEvent(t.getEvent())&&(e.x=(this.graph.snap(e.x/n-i.x)+i.x)*n,e.y=(this.graph.snap(e.y/n-i.y)+i.y)*n);var r=null!=this.rotationShape?this.sizers.length-2:this.sizers.length-1;this.moveSizerTo(this.sizers[r],e.x,e.y)},mxVertexHandler.prototype.rotateVertex=function(t){var e=new mxPoint(t.getGraphX(),t.getGraphY()),i=this.state.x+this.state.width/2-e.x,n=this.state.y+this.state.height/2-e.y;if(this.currentAlpha=0!=i?180*Math.atan(n/i)/Math.PI+90:n<0?180:0,i>0&&(this.currentAlpha-=180),this.rotationRaster&&this.graph.isGridEnabledEvent(t.getEvent())){i=e.x-this.state.getCenterX(),n=e.y-this.state.getCenterY();var r=3*Math.abs(Math.sqrt(i*i+n*n)-20),o=Math.max(1,5*Math.min(3,Math.max(0,Math.round(80/Math.abs(r)))));this.currentAlpha=Math.round(this.currentAlpha/o)*o}else this.currentAlpha=this.roundAngle(this.currentAlpha);this.selectionBorder.rotation=this.currentAlpha,this.selectionBorder.redraw(),this.livePreviewActive&&this.redrawHandles()},mxVertexHandler.prototype.resizeVertex=function(t){var e=new mxPoint(this.state.getCenterX(),this.state.getCenterY()),i=mxUtils.toRadians(this.state.style[mxConstants.STYLE_ROTATION]||"0"),n=new mxPoint(t.getGraphX(),t.getGraphY()),r=this.graph.view.translate,o=this.graph.view.scale,s=Math.cos(-i),a=Math.sin(-i),l=a*(p=n.x-this.startX)+s*(f=n.y-this.startY);p=s*p-a*f,f=l;var h=this.graph.getCellGeometry(this.state.cell);if(this.unscaledBounds=this.union(h,p/o,f/o,this.index,this.graph.isGridEnabledEvent(t.getEvent()),1,new mxPoint(0,0),this.isConstrainedEvent(t),this.isCenteredEvent(this.state,t)),!h.relative){var u=this.graph.getMaximumGraphBounds();if(null!=u&&null!=this.parentState&&((u=mxRectangle.fromRectangle(u)).x-=(this.parentState.x-r.x*o)/o,u.y-=(this.parentState.y-r.y*o)/o),this.graph.isConstrainChild(this.state.cell)){var c=this.graph.getCellContainmentArea(this.state.cell);if(null!=c){var d=this.graph.getOverlap(this.state.cell);d>0&&((c=mxRectangle.fromRectangle(c)).x-=c.width*d,c.y-=c.height*d,c.width+=2*c.width*d,c.height+=2*c.height*d),null==u?u=c:(u=mxRectangle.fromRectangle(u)).intersect(c)}}null!=u&&(this.unscaledBounds.x<u.x&&(this.unscaledBounds.width-=u.x-this.unscaledBounds.x,this.unscaledBounds.x=u.x),this.unscaledBounds.y<u.y&&(this.unscaledBounds.height-=u.y-this.unscaledBounds.y,this.unscaledBounds.y=u.y),this.unscaledBounds.x+this.unscaledBounds.width>u.x+u.width&&(this.unscaledBounds.width-=this.unscaledBounds.x+this.unscaledBounds.width-u.x-u.width),this.unscaledBounds.y+this.unscaledBounds.height>u.y+u.height&&(this.unscaledBounds.height-=this.unscaledBounds.y+this.unscaledBounds.height-u.y-u.height))}this.bounds=new mxRectangle((null!=this.parentState?this.parentState.x:r.x*o)+this.unscaledBounds.x*o,(null!=this.parentState?this.parentState.y:r.y*o)+this.unscaledBounds.y*o,this.unscaledBounds.width*o,this.unscaledBounds.height*o),h.relative&&null!=this.parentState&&(this.bounds.x+=this.state.x-this.parentState.x,this.bounds.y+=this.state.y-this.parentState.y),s=Math.cos(i),a=Math.sin(i);var p,f,m=new mxPoint(this.bounds.getCenterX(),this.bounds.getCenterY()),g=s*(p=m.x-e.x)-a*(f=m.y-e.y)-p,v=a*p+s*f-f,A=this.bounds.x-this.state.x,y=this.bounds.y-this.state.y,x=s*A-a*y,b=a*A+s*y;this.bounds.x+=g,this.bounds.y+=v,this.unscaledBounds.x=this.roundLength(this.unscaledBounds.x+g/o),this.unscaledBounds.y=this.roundLength(this.unscaledBounds.y+v/o),this.unscaledBounds.width=this.roundLength(this.unscaledBounds.width),this.unscaledBounds.height=this.roundLength(this.unscaledBounds.height),this.graph.isCellCollapsed(this.state.cell)||0==g&&0==v?(this.childOffsetX=0,this.childOffsetY=0):(this.childOffsetX=this.state.x-this.bounds.x+x,this.childOffsetY=this.state.y-this.bounds.y+b),this.livePreviewActive&&this.updateLivePreview(t),null!=this.preview&&this.drawPreview()},mxVertexHandler.prototype.updateLivePreview=function(t){var e=this.graph.view.scale,i=this.graph.view.translate,n=this.state.clone();this.state.x=this.bounds.x,this.state.y=this.bounds.y,this.state.origin=new mxPoint(this.state.x/e-i.x,this.state.y/e-i.y),this.state.width=this.bounds.width,this.state.height=this.bounds.height,this.state.unscaledWidth=null;var r=this.state.absoluteOffset;r=new mxPoint(r.x,r.y),this.state.absoluteOffset.x=0,this.state.absoluteOffset.y=0;var o=this.graph.getCellGeometry(this.state.cell);if(null!=o){var s=o.offset||this.EMPTY_POINT;null==s||o.relative||(this.state.absoluteOffset.x=this.state.view.scale*s.x,this.state.absoluteOffset.y=this.state.view.scale*s.y),this.state.view.updateVertexLabelOffset(this.state)}this.state.view.graph.cellRenderer.redraw(this.state,!0),this.state.view.invalidate(this.state.cell),this.state.invalid=!1,this.state.view.validate(),this.redrawHandles(),null!=this.state.control&&null!=this.state.control.node&&(this.state.control.node.style.visibility="hidden"),this.state.setState(n)},mxVertexHandler.prototype.mouseUp=function(t,e){if(null!=this.index&&null!=this.state){var i=new mxPoint(e.getGraphX(),e.getGraphY()),n=this.index;this.index=null,this.graph.getModel().beginUpdate();try{if(n<=mxEvent.CUSTOM_HANDLE)null!=this.customHandles&&(this.customHandles[mxEvent.CUSTOM_HANDLE-n].active=!1,this.customHandles[mxEvent.CUSTOM_HANDLE-n].execute());else if(n==mxEvent.ROTATION_HANDLE)if(null!=this.currentAlpha){var r=this.currentAlpha-(this.state.style[mxConstants.STYLE_ROTATION]||0);0!=r&&this.rotateCell(this.state.cell,r)}else this.rotateClick();else{var o=this.graph.isGridEnabledEvent(e.getEvent()),s=mxUtils.toRadians(this.state.style[mxConstants.STYLE_ROTATION]||"0"),a=Math.cos(-s),l=Math.sin(-s),h=i.x-this.startX,u=i.y-this.startY,c=l*h+a*u;h=a*h-l*u,u=c;var d=this.graph.view.scale,p=this.isRecursiveResize(this.state,e);this.resizeCell(this.state.cell,this.roundLength(h/d),this.roundLength(u/d),n,o,this.isConstrainedEvent(e),p)}}finally{this.graph.getModel().endUpdate()}e.consume(),this.reset()}},mxVertexHandler.prototype.isRecursiveResize=function(t,e){return this.graph.isRecursiveResize(this.state)},mxVertexHandler.prototype.rotateClick=function(){},mxVertexHandler.prototype.rotateCell=function(t,e,i){if(0!=e){var n=this.graph.getModel();if(n.isVertex(t)||n.isEdge(t)){if(!n.isEdge(t)){var r=this.graph.view.getState(t),o=null!=r?r.style:this.graph.getCellStyle(t);if(null!=o){var s=(o[mxConstants.STYLE_ROTATION]||0)+e;this.graph.setCellStyles(mxConstants.STYLE_ROTATION,s,[t])}}var a=this.graph.getCellGeometry(t);if(null!=a){var l=this.graph.getCellGeometry(i);if(null==l||n.isEdge(i)||((a=a.clone()).rotate(e,new mxPoint(l.width/2,l.height/2)),n.setGeometry(t,a)),n.isVertex(t)&&!a.relative||n.isEdge(t))for(var h=n.getChildCount(t),u=0;u<h;u++)this.rotateCell(n.getChildAt(t,u),e,t)}}}},mxVertexHandler.prototype.reset=function(){if(null!=this.sizers&&null!=this.index&&null!=this.sizers[this.index]&&"none"==this.sizers[this.index].node.style.display&&(this.sizers[this.index].node.style.display=""),this.currentAlpha=null,this.inTolerance=null,this.index=null,null!=this.preview&&(this.preview.destroy(),this.preview=null),this.livePreviewActive&&null!=this.sizers){for(var t=0;t<this.sizers.length;t++)null!=this.sizers[t]&&(this.sizers[t].node.style.display="");null!=this.state.control&&null!=this.state.control.node&&(this.state.control.node.style.visibility="")}if(null!=this.customHandles)for(t=0;t<this.customHandles.length;t++)this.customHandles[t].active?(this.customHandles[t].active=!1,this.customHandles[t].reset()):this.customHandles[t].setVisible(!0);null!=this.selectionBorder&&(this.selectionBorder.node.style.display="inline",this.selectionBounds=this.getSelectionBounds(this.state),this.bounds=new mxRectangle(this.selectionBounds.x,this.selectionBounds.y,this.selectionBounds.width,this.selectionBounds.height),this.drawPreview()),this.removeHint(),this.redrawHandles(),this.edgeHandlers=null,this.unscaledBounds=null,this.livePreviewActive=null},mxVertexHandler.prototype.resizeCell=function(t,e,i,n,r,o,s){var a=this.graph.model.getGeometry(t);if(null!=a)if(n==mxEvent.LABEL_HANDLE){var l=this.graph.view.scale;e=Math.round((this.labelShape.bounds.getCenterX()-this.startX)/l),i=Math.round((this.labelShape.bounds.getCenterY()-this.startY)/l),null==(a=a.clone()).offset?a.offset=new mxPoint(e,i):(a.offset.x+=e,a.offset.y+=i),this.graph.model.setGeometry(t,a)}else if(null!=this.unscaledBounds){l=this.graph.view.scale;0==this.childOffsetX&&0==this.childOffsetY||this.moveChildren(t,Math.round(this.childOffsetX/l),Math.round(this.childOffsetY/l)),this.graph.resizeCell(t,this.unscaledBounds,s)}},mxVertexHandler.prototype.moveChildren=function(t,e,i){for(var n=this.graph.getModel(),r=n.getChildCount(t),o=0;o<r;o++){var s=n.getChildAt(t,o),a=this.graph.getCellGeometry(s);null!=a&&((a=a.clone()).translate(e,i),n.setGeometry(s,a))}},mxVertexHandler.prototype.union=function(t,e,i,n,r,o,s,a,l){if(this.singleSizer){var h=t.x+t.width+e,u=t.y+t.height+i;r&&(h=this.graph.snap(h/o)*o,u=this.graph.snap(u/o)*o);var c=new mxRectangle(t.x,t.y,0,0);return c.add(new mxRectangle(h,u,0,0)),c}var d=t.width,p=t.height,f=t.x-s.x*o,m=f+d,g=t.y-s.y*o,v=g+p,A=f+d/2,y=g+p/2;n>4?(v+=i,r&&(v=this.graph.snap(v/o)*o)):n<3&&(g+=i,r&&(g=this.graph.snap(g/o)*o)),0==n||3==n||5==n?(f+=e,r&&(f=this.graph.snap(f/o)*o)):2!=n&&4!=n&&7!=n||(m+=e,r&&(m=this.graph.snap(m/o)*o));var x=m-f,b=v-g;if(a){var C=this.graph.getCellGeometry(this.state.cell);if(null!=C){var w=C.width/C.height;1==n||2==n||7==n||6==n?x=b*w:b=x/w,0==n&&(f=m-x,g=v-b)}}if(l){var E=A-(f+(x+=x-d)/2),S=y-(g+(b+=b-p)/2);f+=E,g+=S,m+=E,v+=S}x<0&&(f+=x,x=Math.abs(x)),b<0&&(g+=b,b=Math.abs(b));var T=new mxRectangle(f+s.x*o,g+s.y*o,x,b);return null!=this.minBounds&&(T.width=Math.max(T.width,this.minBounds.x*o+this.minBounds.width*o+Math.max(0,this.x0*o-T.x)),T.height=Math.max(T.height,this.minBounds.y*o+this.minBounds.height*o+Math.max(0,this.y0*o-T.y))),T},mxVertexHandler.prototype.redraw=function(t){this.selectionBounds=this.getSelectionBounds(this.state),this.bounds=new mxRectangle(this.selectionBounds.x,this.selectionBounds.y,this.selectionBounds.width,this.selectionBounds.height),this.drawPreview(),t||this.redrawHandles()},mxVertexHandler.prototype.getHandlePadding=function(){var t=new mxPoint(0,0),e=this.tolerance;return null!=this.sizers&&this.sizers.length>0&&null!=this.sizers[0]&&(this.bounds.width<2*this.sizers[0].bounds.width+2*e||this.bounds.height<2*this.sizers[0].bounds.height+2*e)&&(e/=2,t.x=this.sizers[0].bounds.width+e,t.y=this.sizers[0].bounds.height+e),t},mxVertexHandler.prototype.redrawHandles=function(){var t=this.tolerance;this.horizontalOffset=0,this.verticalOffset=0;var e=this.bounds;if(null!=this.sizers&&this.sizers.length>0&&null!=this.sizers[0]){if(null==this.index&&this.manageSizers&&this.sizers.length>=8){var i=this.getHandlePadding();this.horizontalOffset=i.x,this.verticalOffset=i.y,0==this.horizontalOffset&&0==this.verticalOffset||((e=new mxRectangle(e.x,e.y,e.width,e.height)).x-=this.horizontalOffset/2,e.width+=this.horizontalOffset,e.y-=this.verticalOffset/2,e.height+=this.verticalOffset),this.sizers.length>=8&&(e.width<2*this.sizers[0].bounds.width+2*t||e.height<2*this.sizers[0].bounds.height+2*t?(this.sizers[0].node.style.display="none",this.sizers[2].node.style.display="none",this.sizers[5].node.style.display="none",this.sizers[7].node.style.display="none"):(this.sizers[0].node.style.display="",this.sizers[2].node.style.display="",this.sizers[5].node.style.display="",this.sizers[7].node.style.display=""))}var n=e.x+e.width,r=e.y+e.height;if(this.singleSizer)this.moveSizerTo(this.sizers[0],n,r);else{var o=e.x+e.width/2,s=e.y+e.height/2;if(this.sizers.length>=8){var a=["nw-resize","n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize"],l=mxUtils.toRadians(this.state.style[mxConstants.STYLE_ROTATION]||"0"),h=Math.cos(l),u=Math.sin(l),c=Math.round(4*l/Math.PI),d=new mxPoint(e.getCenterX(),e.getCenterY()),p=mxUtils.getRotatedPoint(new mxPoint(e.x,e.y),h,u,d);this.moveSizerTo(this.sizers[0],p.x,p.y),this.sizers[0].setCursor(a[mxUtils.mod(0+c,a.length)]),p.x=o,p.y=e.y,p=mxUtils.getRotatedPoint(p,h,u,d),this.moveSizerTo(this.sizers[1],p.x,p.y),this.sizers[1].setCursor(a[mxUtils.mod(1+c,a.length)]),p.x=n,p.y=e.y,p=mxUtils.getRotatedPoint(p,h,u,d),this.moveSizerTo(this.sizers[2],p.x,p.y),this.sizers[2].setCursor(a[mxUtils.mod(2+c,a.length)]),p.x=e.x,p.y=s,p=mxUtils.getRotatedPoint(p,h,u,d),this.moveSizerTo(this.sizers[3],p.x,p.y),this.sizers[3].setCursor(a[mxUtils.mod(7+c,a.length)]),p.x=n,p.y=s,p=mxUtils.getRotatedPoint(p,h,u,d),this.moveSizerTo(this.sizers[4],p.x,p.y),this.sizers[4].setCursor(a[mxUtils.mod(3+c,a.length)]),p.x=e.x,p.y=r,p=mxUtils.getRotatedPoint(p,h,u,d),this.moveSizerTo(this.sizers[5],p.x,p.y),this.sizers[5].setCursor(a[mxUtils.mod(6+c,a.length)]),p.x=o,p.y=r,p=mxUtils.getRotatedPoint(p,h,u,d),this.moveSizerTo(this.sizers[6],p.x,p.y),this.sizers[6].setCursor(a[mxUtils.mod(5+c,a.length)]),p.x=n,p.y=r,p=mxUtils.getRotatedPoint(p,h,u,d),this.moveSizerTo(this.sizers[7],p.x,p.y),this.sizers[7].setCursor(a[mxUtils.mod(4+c,a.length)]),this.moveSizerTo(this.sizers[8],o+this.state.absoluteOffset.x,s+this.state.absoluteOffset.y)}else this.state.width>=2&&this.state.height>=2?this.moveSizerTo(this.sizers[0],o+this.state.absoluteOffset.x,s+this.state.absoluteOffset.y):this.moveSizerTo(this.sizers[0],this.state.x,this.state.y)}}if(null!=this.rotationShape){l=mxUtils.toRadians(null!=this.currentAlpha?this.currentAlpha:this.state.style[mxConstants.STYLE_ROTATION]||"0"),h=Math.cos(l),u=Math.sin(l),d=new mxPoint(this.state.getCenterX(),this.state.getCenterY()),p=mxUtils.getRotatedPoint(this.getRotationHandlePosition(),h,u,d);null!=this.rotationShape.node&&(this.moveSizerTo(this.rotationShape,p.x,p.y),this.rotationShape.node.style.visibility=this.state.view.graph.isEditing()?"hidden":"")}if(null!=this.selectionBorder&&(this.selectionBorder.rotation=Number(this.state.style[mxConstants.STYLE_ROTATION]||"0")),null!=this.edgeHandlers)for(var f=0;f<this.edgeHandlers.length;f++)this.edgeHandlers[f].redraw();if(null!=this.customHandles)for(f=0;f<this.customHandles.length;f++){var m=this.customHandles[f].shape.node.style.display;this.customHandles[f].redraw(),this.customHandles[f].shape.node.style.display=m,this.customHandles[f].shape.node.style.visibility=this.graph.isEditing()?"hidden":""}this.updateParentHighlight()},mxVertexHandler.prototype.getRotationHandlePosition=function(){return new mxPoint(this.bounds.x+this.bounds.width/2,this.bounds.y+this.rotationHandleVSpacing)},mxVertexHandler.prototype.updateParentHighlight=function(){if(null!=this.selectionBorder)if(null!=this.parentHighlight){var t=this.graph.model.getParent(this.state.cell);if(this.graph.model.isVertex(t)){var e=this.graph.view.getState(t),i=this.parentHighlight.bounds;null==e||i.x==e.x&&i.y==e.y&&i.width==e.width&&i.height==e.height||(this.parentHighlight.bounds=e,this.parentHighlight.redraw())}else this.parentHighlight.destroy(),this.parentHighlight=null}else if(this.parentHighlightEnabled){t=this.graph.model.getParent(this.state.cell);if(this.graph.model.isVertex(t))null!=(e=this.graph.view.getState(t))&&(this.parentHighlight=this.createParentHighlightShape(e),this.parentHighlight.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,this.parentHighlight.pointerEvents=!1,this.parentHighlight.rotation=Number(e.style[mxConstants.STYLE_ROTATION]||"0"),this.parentHighlight.init(this.graph.getView().getOverlayPane()))}},mxVertexHandler.prototype.drawPreview=function(){null!=this.preview&&(this.preview.bounds=this.bounds,this.preview.node.parentNode==this.graph.container&&(this.preview.bounds.width=Math.max(0,this.preview.bounds.width-1),this.preview.bounds.height=Math.max(0,this.preview.bounds.height-1)),this.preview.rotation=Number(this.state.style[mxConstants.STYLE_ROTATION]||"0"),this.preview.redraw()),this.selectionBorder.bounds=this.bounds,this.selectionBorder.redraw(),null!=this.parentHighlight&&this.parentHighlight.redraw()},mxVertexHandler.prototype.destroy=function(){if(null!=this.escapeHandler&&(this.state.view.graph.removeListener(this.escapeHandler),this.escapeHandler=null),null!=this.preview&&(this.preview.destroy(),this.preview=null),null!=this.parentHighlight&&(this.parentHighlight.destroy(),this.parentHighlight=null),null!=this.selectionBorder&&(this.selectionBorder.destroy(),this.selectionBorder=null),this.labelShape=null,this.removeHint(),null!=this.sizers){for(var t=0;t<this.sizers.length;t++)this.sizers[t].destroy();this.sizers=null}if(null!=this.customHandles){for(t=0;t<this.customHandles.length;t++)this.customHandles[t].destroy();this.customHandles=null}},__mxOutput.mxVertexHandler=void 0!==mxVertexHandler?mxVertexHandler:void 0,mxEdgeHandler.prototype.graph=null,mxEdgeHandler.prototype.state=null,mxEdgeHandler.prototype.marker=null,mxEdgeHandler.prototype.constraintHandler=null,mxEdgeHandler.prototype.error=null,mxEdgeHandler.prototype.shape=null,mxEdgeHandler.prototype.bends=null,mxEdgeHandler.prototype.labelShape=null,mxEdgeHandler.prototype.cloneEnabled=!0,mxEdgeHandler.prototype.addEnabled=!1,mxEdgeHandler.prototype.removeEnabled=!1,mxEdgeHandler.prototype.dblClickRemoveEnabled=!1,mxEdgeHandler.prototype.mergeRemoveEnabled=!1,mxEdgeHandler.prototype.straightRemoveEnabled=!1,mxEdgeHandler.prototype.virtualBendsEnabled=!1,mxEdgeHandler.prototype.virtualBendOpacity=20,mxEdgeHandler.prototype.parentHighlightEnabled=!1,mxEdgeHandler.prototype.preferHtml=!1,mxEdgeHandler.prototype.allowHandleBoundsCheck=!0,mxEdgeHandler.prototype.snapToTerminals=!1,mxEdgeHandler.prototype.handleImage=null,mxEdgeHandler.prototype.tolerance=0,mxEdgeHandler.prototype.outlineConnect=!1,mxEdgeHandler.prototype.manageLabelHandle=!1,mxEdgeHandler.prototype.init=function(){if(this.graph=this.state.view.graph,this.marker=this.createMarker(),this.constraintHandler=new mxConstraintHandler(this.graph),this.points=[],this.abspoints=this.getSelectionPoints(this.state),this.shape=this.createSelectionShape(this.abspoints),this.shape.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_MIXEDHTML:mxConstants.DIALECT_SVG,this.shape.init(this.graph.getView().getOverlayPane()),this.shape.pointerEvents=!1,this.shape.setCursor(mxConstants.CURSOR_MOVABLE_EDGE),mxEvent.redirectMouseEvents(this.shape.node,this.graph,this.state),this.preferHtml=null!=this.state.text&&this.state.text.node.parentNode==this.graph.container,!this.preferHtml){var t=this.state.getVisibleTerminalState(!0);if(null!=t&&(this.preferHtml=null!=t.text&&t.text.node.parentNode==this.graph.container),!this.preferHtml){var e=this.state.getVisibleTerminalState(!1);null!=e&&(this.preferHtml=null!=e.text&&e.text.node.parentNode==this.graph.container)}}if(this.parentHighlightEnabled){var i=this.graph.model.getParent(this.state.cell);if(this.graph.model.isVertex(i)){var n=this.graph.view.getState(i);null!=n&&(this.parentHighlight=this.createParentHighlightShape(n),this.parentHighlight.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,this.parentHighlight.pointerEvents=!1,this.parentHighlight.rotation=Number(n.style[mxConstants.STYLE_ROTATION]||"0"),this.parentHighlight.init(this.graph.getView().getOverlayPane()))}}(this.graph.getSelectionCount()<mxGraphHandler.prototype.maxCells||mxGraphHandler.prototype.maxCells<=0)&&(this.bends=this.createBends(),this.isVirtualBendsEnabled()&&(this.virtualBends=this.createVirtualBends())),this.label=new mxPoint(this.state.absoluteOffset.x,this.state.absoluteOffset.y),this.labelShape=this.createLabelHandleShape(),this.initBend(this.labelShape),this.labelShape.setCursor(mxConstants.CURSOR_LABEL_HANDLE),this.customHandles=this.createCustomHandles(),this.redraw()},mxEdgeHandler.prototype.createCustomHandles=function(){return null},mxEdgeHandler.prototype.isVirtualBendsEnabled=function(t){return this.virtualBendsEnabled&&(null==this.state.style[mxConstants.STYLE_EDGE]||this.state.style[mxConstants.STYLE_EDGE]==mxConstants.NONE||1==this.state.style[mxConstants.STYLE_NOEDGESTYLE])&&"arrow"!=mxUtils.getValue(this.state.style,mxConstants.STYLE_SHAPE,null)},mxEdgeHandler.prototype.isAddPointEvent=function(t){return mxEvent.isShiftDown(t)},mxEdgeHandler.prototype.isRemovePointEvent=function(t){return mxEvent.isShiftDown(t)},mxEdgeHandler.prototype.getSelectionPoints=function(t){return t.absolutePoints},mxEdgeHandler.prototype.createParentHighlightShape=function(t){var e=new mxRectangleShape(t,null,this.getSelectionColor());return e.strokewidth=this.getSelectionStrokeWidth(),e.isDashed=this.isSelectionDashed(),e},mxEdgeHandler.prototype.createSelectionShape=function(t){var e=new this.state.shape.constructor;return e.outline=!0,e.apply(this.state),e.isDashed=this.isSelectionDashed(),e.stroke=this.getSelectionColor(),e.isShadow=!1,e},mxEdgeHandler.prototype.getSelectionColor=function(){return mxConstants.EDGE_SELECTION_COLOR},mxEdgeHandler.prototype.getSelectionStrokeWidth=function(){return mxConstants.EDGE_SELECTION_STROKEWIDTH},mxEdgeHandler.prototype.isSelectionDashed=function(){return mxConstants.EDGE_SELECTION_DASHED},mxEdgeHandler.prototype.isConnectableCell=function(t){return!0},mxEdgeHandler.prototype.getCellAt=function(t,e){return this.outlineConnect?null:this.graph.getCellAt(t,e)},mxEdgeHandler.prototype.createMarker=function(){var t=new mxCellMarker(this.graph),e=this;return t.getCell=function(t){var i=mxCellMarker.prototype.getCell.apply(this,arguments);if(i!=e.state.cell&&null!=i||null==e.currentPoint||(i=e.graph.getCellAt(e.currentPoint.x,e.currentPoint.y)),null!=i&&!this.graph.isCellConnectable(i)){var n=this.graph.getModel().getParent(i);this.graph.getModel().isVertex(n)&&this.graph.isCellConnectable(n)&&(i=n)}var r=e.graph.getModel();return(this.graph.isSwimlane(i)&&null!=e.currentPoint&&this.graph.hitsSwimlaneContent(i,e.currentPoint.x,e.currentPoint.y)||!e.isConnectableCell(i)||i==e.state.cell||null!=i&&!e.graph.connectableEdges&&r.isEdge(i)||r.isAncestor(e.state.cell,i))&&(i=null),this.graph.isCellConnectable(i)||(i=null),i},t.isValidState=function(t){var i=e.graph.getModel(),n=e.graph.view.getTerminalPort(t,e.graph.view.getState(i.getTerminal(e.state.cell,!e.isSource)),!e.isSource),r=null!=n?n.cell:null,o=e.isSource?t.cell:r,s=e.isSource?r:t.cell;return e.error=e.validateConnection(o,s),null==e.error},t},mxEdgeHandler.prototype.validateConnection=function(t,e){return this.graph.getEdgeValidationError(this.state.cell,t,e)},mxEdgeHandler.prototype.createBends=function(){for(var t=this.state.cell,e=[],i=0;i<this.abspoints.length;i++)if(this.isHandleVisible(i)){var n=0==i,r=i==this.abspoints.length-1,o=n||r;(o||this.graph.isCellBendable(t))&&mxUtils.bind(this,function(t){var n=this.createHandleShape(t);this.initBend(n,mxUtils.bind(this,mxUtils.bind(this,function(){this.dblClickRemoveEnabled&&this.removePoint(this.state,t)}))),this.isHandleEnabled(i)&&n.setCursor(o?mxConstants.CURSOR_TERMINAL_HANDLE:mxConstants.CURSOR_BEND_HANDLE),e.push(n),o||(this.points.push(new mxPoint(0,0)),n.node.style.visibility="hidden")})(i)}return e},mxEdgeHandler.prototype.createVirtualBends=function(){var t=this.state.cell,e=(this.abspoints[0],[]);if(this.graph.isCellBendable(t))for(var i=1;i<this.abspoints.length;i++)mxUtils.bind(this,function(t){this.initBend(t),t.setCursor(mxConstants.CURSOR_VIRTUAL_BEND_HANDLE),e.push(t)})(this.createHandleShape());return e},mxEdgeHandler.prototype.isHandleEnabled=function(t){return!0},mxEdgeHandler.prototype.isHandleVisible=function(t){var e=this.state.getVisibleTerminalState(!0),i=this.state.getVisibleTerminalState(!1),n=this.graph.getCellGeometry(this.state.cell);return(null!=n?this.graph.view.getEdgeStyle(this.state,n.points,e,i):null)!=mxEdgeStyle.EntityRelation||0==t||t==this.abspoints.length-1},mxEdgeHandler.prototype.createHandleShape=function(t){if(null!=this.handleImage){var e=new mxImageShape(new mxRectangle(0,0,this.handleImage.width,this.handleImage.height),this.handleImage.src);return e.preserveImageAspect=!1,e}var i=mxConstants.HANDLE_SIZE;return this.preferHtml&&(i-=1),new mxRectangleShape(new mxRectangle(0,0,i,i),mxConstants.HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR)},mxEdgeHandler.prototype.createLabelHandleShape=function(){if(null!=this.labelHandleImage){var t=new mxImageShape(new mxRectangle(0,0,this.labelHandleImage.width,this.labelHandleImage.height),this.labelHandleImage.src);return t.preserveImageAspect=!1,t}var e=mxConstants.LABEL_HANDLE_SIZE;return new mxRectangleShape(new mxRectangle(0,0,e,e),mxConstants.LABEL_HANDLE_FILLCOLOR,mxConstants.HANDLE_STROKECOLOR)},mxEdgeHandler.prototype.initBend=function(t,e){this.preferHtml?(t.dialect=mxConstants.DIALECT_STRICTHTML,t.init(this.graph.container)):(t.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_MIXEDHTML:mxConstants.DIALECT_SVG,t.init(this.graph.getView().getOverlayPane())),mxEvent.redirectMouseEvents(t.node,this.graph,this.state,null,null,null,e),(mxClient.IS_QUIRKS||8==document.documentMode)&&mxEvent.addListener(t.node,"dragstart",function(t){return mxEvent.consume(t),!1}),mxClient.IS_TOUCH&&t.node.setAttribute("pointer-events","none")},mxEdgeHandler.prototype.getHandleForEvent=function(t){var e=mxEvent.isMouseEvent(t.getEvent())?1:this.tolerance,i=this.allowHandleBoundsCheck&&(mxClient.IS_IE||e>0)?new mxRectangle(t.getGraphX()-e,t.getGraphY()-e,2*e,2*e):null,n=null,r=null;function o(e){if(null!=e&&"none"!=e.node.style.display&&"hidden"!=e.node.style.visibility&&(t.isSource(e)||null!=i&&mxUtils.intersects(e.bounds,i))){var r=t.getGraphX()-e.bounds.getCenterX(),o=t.getGraphY()-e.bounds.getCenterY(),s=r*r+o*o;if(null==n||s<=n)return n=s,!0}return!1}if(null!=this.customHandles&&this.isCustomHandleEvent(t))for(var s=this.customHandles.length-1;s>=0;s--)if(o(this.customHandles[s].shape))return mxEvent.CUSTOM_HANDLE-s;if((t.isSource(this.state.text)||o(this.labelShape))&&(r=mxEvent.LABEL_HANDLE),null!=this.bends)for(s=0;s<this.bends.length;s++)o(this.bends[s])&&(r=s);if(null!=this.virtualBends&&this.isAddVirtualBendEvent(t))for(s=0;s<this.virtualBends.length;s++)o(this.virtualBends[s])&&(r=mxEvent.VIRTUAL_HANDLE-s);return r},mxEdgeHandler.prototype.isAddVirtualBendEvent=function(t){return!0},mxEdgeHandler.prototype.isCustomHandleEvent=function(t){return!0},mxEdgeHandler.prototype.mouseDown=function(t,e){var i=this.getHandleForEvent(e);if(null!=this.bends&&null!=this.bends[i]){var n=this.bends[i].bounds;this.snapPoint=new mxPoint(n.getCenterX(),n.getCenterY())}this.addEnabled&&null==i&&this.isAddPointEvent(e.getEvent())?(this.addPoint(this.state,e.getEvent()),e.consume()):null!=i&&!e.isConsumed()&&this.graph.isEnabled()&&(this.removeEnabled&&this.isRemovePointEvent(e.getEvent())?this.removePoint(this.state,i):(i!=mxEvent.LABEL_HANDLE||this.graph.isLabelMovable(e.getCell()))&&(i<=mxEvent.VIRTUAL_HANDLE&&mxUtils.setOpacity(this.virtualBends[mxEvent.VIRTUAL_HANDLE-i].node,100),this.start(e.getX(),e.getY(),i)),e.consume())},mxEdgeHandler.prototype.start=function(t,e,i){if(this.startX=t,this.startY=e,this.isSource=null!=this.bends&&0==i,this.isTarget=null!=this.bends&&i==this.bends.length-1,this.isLabel=i==mxEvent.LABEL_HANDLE,this.isSource||this.isTarget){var n=this.state.cell,r=this.graph.model.getTerminal(n,this.isSource);(null==r&&this.graph.isTerminalPointMovable(n,this.isSource)||null!=r&&this.graph.isCellDisconnectable(n,r,this.isSource))&&(this.index=i)}else this.index=i;if(this.index<=mxEvent.CUSTOM_HANDLE&&this.index>mxEvent.VIRTUAL_HANDLE&&null!=this.customHandles)for(var o=0;o<this.customHandles.length;o++)o!=mxEvent.CUSTOM_HANDLE-this.index&&this.customHandles[o].setVisible(!1)},mxEdgeHandler.prototype.clonePreviewState=function(t,e){return this.state.clone()},mxEdgeHandler.prototype.getSnapToTerminalTolerance=function(){return this.graph.gridSize*this.graph.view.scale/2},mxEdgeHandler.prototype.updateHint=function(t,e){},mxEdgeHandler.prototype.removeHint=function(){},mxEdgeHandler.prototype.roundLength=function(t){return Math.round(t)},mxEdgeHandler.prototype.isSnapToTerminalsEvent=function(t){return this.snapToTerminals&&!mxEvent.isAltDown(t.getEvent())},mxEdgeHandler.prototype.getPointForEvent=function(t){var e=this.graph.getView(),i=e.scale,n=new mxPoint(this.roundLength(t.getGraphX()/i)*i,this.roundLength(t.getGraphY()/i)*i),r=this.getSnapToTerminalTolerance(),o=!1,s=!1;if(r>0&&this.isSnapToTerminalsEvent(t)){function a(t){if(null!=t){var e=t.x;Math.abs(n.x-e)<r&&(n.x=e,o=!0);var i=t.y;Math.abs(n.y-i)<r&&(n.y=i,s=!0)}}function l(t){null!=t&&a.call(this,new mxPoint(e.getRoutingCenterX(t),e.getRoutingCenterY(t)))}if(l.call(this,this.state.getVisibleTerminalState(!0)),l.call(this,this.state.getVisibleTerminalState(!1)),null!=this.state.absolutePoints)for(var h=0;h<this.state.absolutePoints.length;h++)a.call(this,this.state.absolutePoints[h])}if(this.graph.isGridEnabledEvent(t.getEvent())){var u=e.translate;o||(n.x=(this.graph.snap(n.x/i-u.x)+u.x)*i),s||(n.y=(this.graph.snap(n.y/i-u.y)+u.y)*i)}return n},mxEdgeHandler.prototype.getPreviewTerminalState=function(t){if(this.constraintHandler.update(t,this.isSource,!0,t.isSource(this.marker.highlight.shape)?null:this.currentPoint),null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentConstraint){null!=this.marker.highlight&&null!=this.marker.highlight.state&&this.marker.highlight.state.cell==this.constraintHandler.currentFocus.cell?"transparent"!=this.marker.highlight.shape.stroke&&(this.marker.highlight.shape.stroke="transparent",this.marker.highlight.repaint()):this.marker.markCell(this.constraintHandler.currentFocus.cell,"transparent");var e=this.graph.getModel(),i=this.graph.view.getTerminalPort(this.state,this.graph.view.getState(e.getTerminal(this.state.cell,!this.isSource)),!this.isSource),n=null!=i?i.cell:null,r=this.isSource?this.constraintHandler.currentFocus.cell:n,o=this.isSource?n:this.constraintHandler.currentFocus.cell;this.error=this.validateConnection(r,o);var s=null;return null==this.error?s=this.constraintHandler.currentFocus:this.constraintHandler.reset(),s}if(this.graph.isIgnoreTerminalEvent(t.getEvent()))return this.marker.reset(),null;this.marker.process(t);var a=this.marker.getValidState();return null!=a&&this.graph.isCellLocked(a.cell)&&this.marker.reset(),this.marker.getValidState()},mxEdgeHandler.prototype.getPreviewPoints=function(t,e){var i,n,r=this.graph.getCellGeometry(this.state.cell),o=null!=r.points?r.points.slice():null,s=new mxPoint(t.x,t.y),a=null;if(this.isSource||this.isTarget)this.graph.resetEdgesOnConnect&&(o=null);else if(this.convertPoint(s,!1),null==o)o=[s];else{if(this.index<=mxEvent.VIRTUAL_HANDLE&&o.splice(mxEvent.VIRTUAL_HANDLE-this.index,0,s),!this.isSource&&!this.isTarget){for(var l=0;l<this.bends.length;l++)if(l!=this.index){var h=this.bends[l];null!=h&&mxUtils.contains(h.bounds,t.x,t.y)&&(this.index<=mxEvent.VIRTUAL_HANDLE?o.splice(mxEvent.VIRTUAL_HANDLE-this.index,1):o.splice(this.index-1,1),a=o)}if(null==a&&this.straightRemoveEnabled&&(null==e||!mxEvent.isAltDown(e.getEvent()))){var u=this.graph.tolerance*this.graph.tolerance,c=this.state.absolutePoints.slice();c[this.index]=t;var d=this.state.getVisibleTerminalState(!0);if(null!=d)null!=(p=this.graph.getConnectionConstraint(this.state,d,!0))&&null!=this.graph.getConnectionPoint(d,p)||(c[0]=new mxPoint(d.view.getRoutingCenterX(d),d.view.getRoutingCenterY(d)));var p,f=this.state.getVisibleTerminalState(!1);if(null!=f)null!=(p=this.graph.getConnectionConstraint(this.state,f,!1))&&null!=this.graph.getConnectionPoint(f,p)||(c[c.length-1]=new mxPoint(f.view.getRoutingCenterX(f),f.view.getRoutingCenterY(f)));i=this.index,n=t,i>0&&i<c.length-1&&mxUtils.ptSegDistSq(c[i-1].x,c[i-1].y,c[i+1].x,c[i+1].y,n.x,n.y)<u&&(o.splice(i-1,1),a=o)}}null==a&&this.index>mxEvent.VIRTUAL_HANDLE&&(o[this.index-1]=s)}return null!=a?a:o},mxEdgeHandler.prototype.isOutlineConnectEvent=function(t){var e=mxUtils.getOffset(this.graph.container),i=t.getEvent(),n=mxEvent.getClientX(i),r=mxEvent.getClientY(i),o=document.documentElement,s=(window.pageXOffset||o.scrollLeft)-(o.clientLeft||0),a=(window.pageYOffset||o.scrollTop)-(o.clientTop||0),l=this.currentPoint.x-this.graph.container.scrollLeft+e.x-s,h=this.currentPoint.y-this.graph.container.scrollTop+e.y-a;return this.outlineConnect&&!mxEvent.isShiftDown(t.getEvent())&&(t.isSource(this.marker.highlight.shape)||mxEvent.isAltDown(t.getEvent())&&null!=t.getState()||this.marker.highlight.isHighlightAt(n,r)||(l!=n||h!=r)&&null==t.getState()&&this.marker.highlight.isHighlightAt(l,h))},mxEdgeHandler.prototype.updatePreviewState=function(t,e,i,n,r){var o=this.isSource?i:this.state.getVisibleTerminalState(!0),s=this.isTarget?i:this.state.getVisibleTerminalState(!1),a=this.graph.getConnectionConstraint(t,o,!0),l=this.graph.getConnectionConstraint(t,s,!1),h=this.constraintHandler.currentConstraint;if(null==h&&r&&(null!=i?(n.isSource(this.marker.highlight.shape)&&(e=new mxPoint(n.getGraphX(),n.getGraphY())),h=this.graph.getOutlineConstraint(e,i,n),this.constraintHandler.setFocus(n,i,this.isSource),this.constraintHandler.currentConstraint=h,this.constraintHandler.currentPoint=e):h=new mxConnectionConstraint),this.outlineConnect&&null!=this.marker.highlight&&null!=this.marker.highlight.shape){var u=this.graph.view.scale;null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus?(this.marker.highlight.shape.stroke=r?mxConstants.OUTLINE_HIGHLIGHT_COLOR:"transparent",this.marker.highlight.shape.strokewidth=mxConstants.OUTLINE_HIGHLIGHT_STROKEWIDTH/u/u,this.marker.highlight.repaint()):this.marker.hasValidState()&&(this.marker.highlight.shape.stroke=this.marker.getValidState()==n.getState()?mxConstants.DEFAULT_VALID_COLOR:"transparent",this.marker.highlight.shape.strokewidth=mxConstants.HIGHLIGHT_STROKEWIDTH/u/u,this.marker.highlight.repaint())}this.isSource?a=h:this.isTarget&&(l=h),(this.isSource||this.isTarget)&&(null!=h&&null!=h.point?(t.style[this.isSource?mxConstants.STYLE_EXIT_X:mxConstants.STYLE_ENTRY_X]=h.point.x,t.style[this.isSource?mxConstants.STYLE_EXIT_Y:mxConstants.STYLE_ENTRY_Y]=h.point.y):(delete t.style[this.isSource?mxConstants.STYLE_EXIT_X:mxConstants.STYLE_ENTRY_X],delete t.style[this.isSource?mxConstants.STYLE_EXIT_Y:mxConstants.STYLE_ENTRY_Y])),t.setVisibleTerminalState(o,!0),t.setVisibleTerminalState(s,!1),this.isSource&&null==o||t.view.updateFixedTerminalPoint(t,o,!0,a),this.isTarget&&null==s||t.view.updateFixedTerminalPoint(t,s,!1,l),(this.isSource||this.isTarget)&&null==i&&(t.setAbsoluteTerminalPoint(e,this.isSource),null==this.marker.getMarkedState()&&(this.error=this.graph.allowDanglingEdges?null:"")),t.view.updatePoints(t,this.points,o,s),t.view.updateFloatingTerminalPoints(t,o,s)},mxEdgeHandler.prototype.mouseMove=function(t,e){if(null!=this.index&&null!=this.marker){if(this.currentPoint=this.getPointForEvent(e),this.error=null,!this.graph.isIgnoreTerminalEvent(e.getEvent())&&mxEvent.isShiftDown(e.getEvent())&&null!=this.snapPoint&&(Math.abs(this.snapPoint.x-this.currentPoint.x)<Math.abs(this.snapPoint.y-this.currentPoint.y)?this.currentPoint.x=this.snapPoint.x:this.currentPoint.y=this.snapPoint.y),this.index<=mxEvent.CUSTOM_HANDLE&&this.index>mxEvent.VIRTUAL_HANDLE)null!=this.customHandles&&this.customHandles[mxEvent.CUSTOM_HANDLE-this.index].processEvent(e);else if(this.isLabel)this.label.x=this.currentPoint.x,this.label.y=this.currentPoint.y;else{this.points=this.getPreviewPoints(this.currentPoint,e);var i=this.isSource||this.isTarget?this.getPreviewTerminalState(e):null;if(null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentPoint)this.currentPoint=this.constraintHandler.currentPoint.clone();else if(this.outlineConnect){var n=!(!this.isSource&&!this.isTarget)&&this.isOutlineConnectEvent(e);n?i=this.marker.highlight.state:null!=i&&i!=e.getState()&&null!=this.marker.highlight.shape&&(this.marker.highlight.shape.stroke="transparent",this.marker.highlight.repaint(),i=null)}null!=i&&this.graph.isCellLocked(i.cell)&&(i=null,this.marker.reset());var r=this.clonePreviewState(this.currentPoint,null!=i?i.cell:null);this.updatePreviewState(r,this.currentPoint,i,e,n);var o=null==this.error?this.marker.validColor:this.marker.invalidColor;this.setPreviewColor(o),this.abspoints=r.absolutePoints,this.active=!0}this.updateHint(e,this.currentPoint),this.drawPreview(),mxEvent.consume(e.getEvent()),e.consume()}else mxClient.IS_IE&&null!=this.getHandleForEvent(e)&&e.consume(!1)},mxEdgeHandler.prototype.mouseUp=function(t,e){if(null!=this.index&&null!=this.marker){var i=this.state.cell,n=this.index;if(this.index=null,e.getX()!=this.startX||e.getY()!=this.startY){var r=!this.graph.isIgnoreTerminalEvent(e.getEvent())&&this.graph.isCloneEvent(e.getEvent())&&this.cloneEnabled&&this.graph.isCellsCloneable();if(null!=this.error)this.error.length>0&&this.graph.validationAlert(this.error);else if(n<=mxEvent.CUSTOM_HANDLE&&n>mxEvent.VIRTUAL_HANDLE){if(null!=this.customHandles){(s=this.graph.getModel()).beginUpdate();try{this.customHandles[mxEvent.CUSTOM_HANDLE-n].execute()}finally{s.endUpdate()}}}else if(this.isLabel)this.moveLabel(this.state,this.label.x,this.label.y);else if(this.isSource||this.isTarget){var o=null;if(null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&(o=this.constraintHandler.currentFocus.cell),null==o&&this.marker.hasValidState()&&null!=this.marker.highlight&&null!=this.marker.highlight.shape&&"transparent"!=this.marker.highlight.shape.stroke&&"white"!=this.marker.highlight.shape.stroke&&(o=this.marker.validState.cell),null!=o){var s,a=(s=this.graph.getModel()).getParent(i);s.beginUpdate();try{if(r){var l=s.getGeometry(i);r=this.graph.cloneCell(i);s.add(a,r,s.getChildCount(a)),null!=l&&(l=l.clone(),s.setGeometry(r,l));var h=s.getTerminal(i,!this.isSource);this.graph.connectCell(r,h,!this.isSource),i=r}i=this.connect(i,o,this.isSource,r,e)}finally{s.endUpdate()}}else if(this.graph.isAllowDanglingEdges()){var u=this.abspoints[this.isSource?0:this.abspoints.length-1];u.x=this.roundLength(u.x/this.graph.view.scale-this.graph.view.translate.x),u.y=this.roundLength(u.y/this.graph.view.scale-this.graph.view.translate.y);var c=this.graph.getView().getState(this.graph.getModel().getParent(i));null!=c&&(u.x-=c.origin.x,u.y-=c.origin.y),u.x-=this.graph.panDx/this.graph.view.scale,u.y-=this.graph.panDy/this.graph.view.scale,i=this.changeTerminalPoint(i,u,this.isSource,r)}}else this.active?i=this.changePoints(i,this.points,r):(this.graph.getView().invalidate(this.state.cell),this.graph.getView().validate(this.state.cell))}null!=this.marker&&(this.reset(),i!=this.state.cell&&this.graph.setSelectionCell(i)),e.consume()}},mxEdgeHandler.prototype.reset=function(){if(this.active&&this.refresh(),this.error=null,this.index=null,this.label=null,this.points=null,this.snapPoint=null,this.isLabel=!1,this.isSource=!1,this.isTarget=!1,this.active=!1,this.livePreview&&null!=this.sizers)for(var t=0;t<this.sizers.length;t++)null!=this.sizers[t]&&(this.sizers[t].node.style.display="");if(null!=this.marker&&this.marker.reset(),null!=this.constraintHandler&&this.constraintHandler.reset(),null!=this.customHandles)for(t=0;t<this.customHandles.length;t++)this.customHandles[t].reset();this.setPreviewColor(mxConstants.EDGE_SELECTION_COLOR),this.removeHint(),this.redraw()},mxEdgeHandler.prototype.setPreviewColor=function(t){null!=this.shape&&(this.shape.stroke=t)},mxEdgeHandler.prototype.convertPoint=function(t,e){var i=this.graph.getView().getScale(),n=this.graph.getView().getTranslate();e&&(t.x=this.graph.snap(t.x),t.y=this.graph.snap(t.y)),t.x=Math.round(t.x/i-n.x),t.y=Math.round(t.y/i-n.y);var r=this.graph.getView().getState(this.graph.getModel().getParent(this.state.cell));return null!=r&&(t.x-=r.origin.x,t.y-=r.origin.y),t},mxEdgeHandler.prototype.moveLabel=function(t,e,i){var n=this.graph.getModel(),r=n.getGeometry(t.cell);if(null!=r){var o=this.graph.getView().scale;if((r=r.clone()).relative){var s=this.graph.getView().getRelativePoint(t,e,i);r.x=Math.round(1e4*s.x)/1e4,r.y=Math.round(s.y),r.offset=new mxPoint(0,0);s=this.graph.view.getPoint(t,r);r.offset=new mxPoint(Math.round((e-s.x)/o),Math.round((i-s.y)/o))}else{var a=t.absolutePoints,l=a[0],h=a[a.length-1];if(null!=l&&null!=h){var u=l.x+(h.x-l.x)/2,c=l.y+(h.y-l.y)/2;r.offset=new mxPoint(Math.round((e-u)/o),Math.round((i-c)/o)),r.x=0,r.y=0}}n.setGeometry(t.cell,r)}},mxEdgeHandler.prototype.connect=function(t,e,i,n,r){var o=this.graph.getModel();o.getParent(t);o.beginUpdate();try{var s=this.constraintHandler.currentConstraint;null==s&&(s=new mxConnectionConstraint),this.graph.connectCell(t,e,i,s)}finally{o.endUpdate()}return t},mxEdgeHandler.prototype.changeTerminalPoint=function(t,e,i,n){var r=this.graph.getModel();r.beginUpdate();try{if(n){var o=r.getParent(t),s=r.getTerminal(t,!i);t=this.graph.cloneCell(t),r.add(o,t,r.getChildCount(o)),r.setTerminal(t,s,!i)}var a=r.getGeometry(t);null!=a&&((a=a.clone()).setTerminalPoint(e,i),r.setGeometry(t,a),this.graph.connectCell(t,null,i,new mxConnectionConstraint))}finally{r.endUpdate()}return t},mxEdgeHandler.prototype.changePoints=function(t,e,i){var n=this.graph.getModel();n.beginUpdate();try{if(i){var r=n.getParent(t),o=n.getTerminal(t,!0),s=n.getTerminal(t,!1);t=this.graph.cloneCell(t),n.add(r,t,n.getChildCount(r)),n.setTerminal(t,o,!0),n.setTerminal(t,s,!1)}var a=n.getGeometry(t);null!=a&&((a=a.clone()).points=e,n.setGeometry(t,a))}finally{n.endUpdate()}return t},mxEdgeHandler.prototype.addPoint=function(t,e){var i=mxUtils.convertPoint(this.graph.container,mxEvent.getClientX(e),mxEvent.getClientY(e)),n=this.graph.isGridEnabledEvent(e);this.convertPoint(i,n),this.addPointAt(t,i.x,i.y),mxEvent.consume(e)},mxEdgeHandler.prototype.addPointAt=function(t,e,i){var n=this.graph.getCellGeometry(t.cell),r=new mxPoint(e,i);if(null!=n){n=n.clone();var o=this.graph.view.translate,s=this.graph.view.scale,a=new mxPoint(o.x*s,o.y*s),l=this.graph.model.getParent(this.state.cell);if(this.graph.model.isVertex(l)){var h=this.graph.view.getState(l);a=new mxPoint(h.x,h.y)}var u=mxUtils.findNearestSegment(t,r.x*s+a.x,r.y*s+a.y);null==n.points?n.points=[r]:n.points.splice(u,0,r),this.graph.getModel().setGeometry(t.cell,n),this.refresh(),this.redraw()}},mxEdgeHandler.prototype.removePoint=function(t,e){if(e>0&&e<this.abspoints.length-1){var i=this.graph.getCellGeometry(this.state.cell);null!=i&&null!=i.points&&((i=i.clone()).points.splice(e-1,1),this.graph.getModel().setGeometry(t.cell,i),this.refresh(),this.redraw())}},mxEdgeHandler.prototype.getHandleFillColor=function(t){var e=0==t,i=this.state.cell,n=this.graph.getModel().getTerminal(i,e),r=mxConstants.HANDLE_FILLCOLOR;return null!=n&&!this.graph.isCellDisconnectable(i,n,e)||null==n&&!this.graph.isTerminalPointMovable(i,e)?r=mxConstants.LOCKED_HANDLE_FILLCOLOR:null!=n&&this.graph.isCellDisconnectable(i,n,e)&&(r=mxConstants.CONNECT_HANDLE_FILLCOLOR),r},mxEdgeHandler.prototype.redraw=function(t){this.abspoints=this.state.absolutePoints.slice();var e=this.graph.getModel().getGeometry(this.state.cell).points;if(null!=this.bends&&this.bends.length>0&&null!=e){null==this.points&&(this.points=[]);for(var i=1;i<this.bends.length-1;i++)null!=this.bends[i]&&null!=this.abspoints[i]&&(this.points[i-1]=e[i-1])}this.drawPreview(),t||this.redrawHandles()},mxEdgeHandler.prototype.redrawHandles=function(){var t=this.state.cell,e=this.labelShape.bounds;this.label=new mxPoint(this.state.absoluteOffset.x,this.state.absoluteOffset.y),this.labelShape.bounds=new mxRectangle(Math.round(this.label.x-e.width/2),Math.round(this.label.y-e.height/2),e.width,e.height);var i=this.graph.getLabel(t);if(this.labelShape.visible=null!=i&&i.length>0&&this.graph.isLabelMovable(t),null!=this.bends&&this.bends.length>0){var n=this.abspoints.length-1,r=this.abspoints[0],o=r.x,s=r.y;e=this.bends[0].bounds,this.bends[0].bounds=new mxRectangle(Math.floor(o-e.width/2),Math.floor(s-e.height/2),e.width,e.height),this.bends[0].fill=this.getHandleFillColor(0),this.bends[0].redraw(),this.manageLabelHandle&&this.checkLabelHandle(this.bends[0].bounds);var a=this.abspoints[n],l=a.x,h=a.y,u=this.bends.length-1;e=this.bends[u].bounds,this.bends[u].bounds=new mxRectangle(Math.floor(l-e.width/2),Math.floor(h-e.height/2),e.width,e.height),this.bends[u].fill=this.getHandleFillColor(u),this.bends[u].redraw(),this.manageLabelHandle&&this.checkLabelHandle(this.bends[u].bounds),this.redrawInnerBends(r,a)}if(null!=this.abspoints&&null!=this.virtualBends&&this.virtualBends.length>0)for(var c=this.abspoints[0],d=0;d<this.virtualBends.length;d++)if(null!=this.virtualBends[d]&&null!=this.abspoints[d+1]){var p=this.abspoints[d+1],f=(e=this.virtualBends[d],c.x+(p.x-c.x)/2),m=c.y+(p.y-c.y)/2;e.bounds=new mxRectangle(Math.floor(f-e.bounds.width/2),Math.floor(m-e.bounds.height/2),e.bounds.width,e.bounds.height),e.redraw(),mxUtils.setOpacity(e.node,this.virtualBendOpacity),c=p,this.manageLabelHandle&&this.checkLabelHandle(e.bounds)}if(null!=this.labelShape&&this.labelShape.redraw(),null!=this.customHandles)for(d=0;d<this.customHandles.length;d++)this.customHandles[d].redraw()},mxEdgeHandler.prototype.setHandlesVisible=function(t){if(null!=this.bends)for(var e=0;e<this.bends.length;e++)this.bends[e].node.style.display=t?"":"none";if(null!=this.virtualBends)for(e=0;e<this.virtualBends.length;e++)this.virtualBends[e].node.style.display=t?"":"none";if(null!=this.labelShape&&(this.labelShape.node.style.display=t?"":"none"),null!=this.customHandles)for(e=0;e<this.customHandles.length;e++)this.customHandles[e].setVisible(t)},mxEdgeHandler.prototype.redrawInnerBends=function(t,e){for(var i=1;i<this.bends.length-1;i++)if(null!=this.bends[i])if(null!=this.abspoints[i]){var n=this.abspoints[i].x,r=this.abspoints[i].y,o=this.bends[i].bounds;this.bends[i].node.style.visibility="visible",this.bends[i].bounds=new mxRectangle(Math.round(n-o.width/2),Math.round(r-o.height/2),o.width,o.height),this.manageLabelHandle?this.checkLabelHandle(this.bends[i].bounds):null==this.handleImage&&this.labelShape.visible&&mxUtils.intersects(this.bends[i].bounds,this.labelShape.bounds)&&(w=mxConstants.HANDLE_SIZE+3,h=mxConstants.HANDLE_SIZE+3,this.bends[i].bounds=new mxRectangle(Math.round(n-w/2),Math.round(r-h/2),w,h)),this.bends[i].redraw()}else this.bends[i].destroy(),this.bends[i]=null},mxEdgeHandler.prototype.checkLabelHandle=function(t){if(null!=this.labelShape){var e=this.labelShape.bounds;mxUtils.intersects(t,e)&&(t.getCenterY()<e.getCenterY()?e.y=t.y+t.height:e.y=t.y-e.height)}},mxEdgeHandler.prototype.drawPreview=function(){if(this.isLabel){var t=this.labelShape.bounds,e=new mxRectangle(Math.round(this.label.x-t.width/2),Math.round(this.label.y-t.height/2),t.width,t.height);this.labelShape.bounds=e,this.labelShape.redraw()}else null!=this.shape&&(this.shape.apply(this.state),this.shape.points=this.abspoints,this.shape.scale=this.state.view.scale,this.shape.isDashed=this.isSelectionDashed(),this.shape.stroke=this.getSelectionColor(),this.shape.strokewidth=this.getSelectionStrokeWidth()/this.shape.scale/this.shape.scale,this.shape.isShadow=!1,this.shape.redraw());null!=this.parentHighlight&&this.parentHighlight.redraw()},mxEdgeHandler.prototype.refresh=function(){this.abspoints=this.getSelectionPoints(this.state),this.points=[],null!=this.shape&&(this.shape.points=this.abspoints),null!=this.bends&&(this.destroyBends(this.bends),this.bends=this.createBends()),null!=this.virtualBends&&(this.destroyBends(this.virtualBends),this.virtualBends=this.createVirtualBends()),null!=this.customHandles&&(this.destroyBends(this.customHandles),this.customHandles=this.createCustomHandles()),null!=this.labelShape&&null!=this.labelShape.node&&null!=this.labelShape.node.parentNode&&this.labelShape.node.parentNode.appendChild(this.labelShape.node)},mxEdgeHandler.prototype.destroyBends=function(t){if(null!=t)for(var e=0;e<t.length;e++)null!=t[e]&&t[e].destroy()},mxEdgeHandler.prototype.destroy=function(){null!=this.escapeHandler&&(this.state.view.graph.removeListener(this.escapeHandler),this.escapeHandler=null),null!=this.marker&&(this.marker.destroy(),this.marker=null),null!=this.shape&&(this.shape.destroy(),this.shape=null),null!=this.parentHighlight&&(this.parentHighlight.destroy(),this.parentHighlight=null),null!=this.labelShape&&(this.labelShape.destroy(),this.labelShape=null),null!=this.constraintHandler&&(this.constraintHandler.destroy(),this.constraintHandler=null),this.destroyBends(this.virtualBends),this.virtualBends=null,this.destroyBends(this.customHandles),this.customHandles=null,this.destroyBends(this.bends),this.bends=null,this.removeHint()},__mxOutput.mxEdgeHandler=void 0!==mxEdgeHandler?mxEdgeHandler:void 0,mxUtils.extend(mxElbowEdgeHandler,mxEdgeHandler),mxElbowEdgeHandler.prototype.flipEnabled=!0,mxElbowEdgeHandler.prototype.doubleClickOrientationResource="none"!=mxClient.language?"doubleClickOrientation":"",mxElbowEdgeHandler.prototype.createBends=function(){var t=[],e=this.createHandleShape(0);return this.initBend(e),e.setCursor(mxConstants.CURSOR_TERMINAL_HANDLE),t.push(e),t.push(this.createVirtualBend(mxUtils.bind(this,function(t){!mxEvent.isConsumed(t)&&this.flipEnabled&&(this.graph.flipEdge(this.state.cell,t),mxEvent.consume(t))}))),this.points.push(new mxPoint(0,0)),e=this.createHandleShape(2),this.initBend(e),e.setCursor(mxConstants.CURSOR_TERMINAL_HANDLE),t.push(e),t},mxElbowEdgeHandler.prototype.createVirtualBend=function(t){var e=this.createHandleShape();return this.initBend(e,t),e.setCursor(this.getCursorForBend()),this.graph.isCellBendable(this.state.cell)||(e.node.style.display="none"),e},mxElbowEdgeHandler.prototype.getCursorForBend=function(){return this.state.style[mxConstants.STYLE_EDGE]==mxEdgeStyle.TopToBottom||this.state.style[mxConstants.STYLE_EDGE]==mxConstants.EDGESTYLE_TOPTOBOTTOM||(this.state.style[mxConstants.STYLE_EDGE]==mxEdgeStyle.ElbowConnector||this.state.style[mxConstants.STYLE_EDGE]==mxConstants.EDGESTYLE_ELBOW)&&this.state.style[mxConstants.STYLE_ELBOW]==mxConstants.ELBOW_VERTICAL?"row-resize":"col-resize"},mxElbowEdgeHandler.prototype.getTooltipForNode=function(t){var e=null;return null==this.bends||null==this.bends[1]||t!=this.bends[1].node&&t.parentNode!=this.bends[1].node||(e=this.doubleClickOrientationResource,e=mxResources.get(e)||e),e},mxElbowEdgeHandler.prototype.convertPoint=function(t,e){var i=this.graph.getView().getScale(),n=this.graph.getView().getTranslate(),r=this.state.origin;return e&&(t.x=this.graph.snap(t.x),t.y=this.graph.snap(t.y)),t.x=Math.round(t.x/i-n.x-r.x),t.y=Math.round(t.y/i-n.y-r.y),t},mxElbowEdgeHandler.prototype.redrawInnerBends=function(t,e){var i=this.graph.getModel().getGeometry(this.state.cell),n=this.state.absolutePoints,r=null;n.length>1?(t=n[1],e=n[n.length-2]):null!=i.points&&i.points.length>0&&(r=n[0]),r=null==r?new mxPoint(t.x+(e.x-t.x)/2,t.y+(e.y-t.y)/2):new mxPoint(this.graph.getView().scale*(r.x+this.graph.getView().translate.x+this.state.origin.x),this.graph.getView().scale*(r.y+this.graph.getView().translate.y+this.state.origin.y));var o=this.bends[1].bounds,s=o.width,a=o.height,l=new mxRectangle(Math.round(r.x-s/2),Math.round(r.y-a/2),s,a);this.manageLabelHandle?this.checkLabelHandle(l):null==this.handleImage&&this.labelShape.visible&&mxUtils.intersects(l,this.labelShape.bounds)&&(s=mxConstants.HANDLE_SIZE+3,a=mxConstants.HANDLE_SIZE+3,l=new mxRectangle(Math.floor(r.x-s/2),Math.floor(r.y-a/2),s,a)),this.bends[1].bounds=l,this.bends[1].redraw(),this.manageLabelHandle&&this.checkLabelHandle(this.bends[1].bounds)},__mxOutput.mxElbowEdgeHandler=void 0!==mxElbowEdgeHandler?mxElbowEdgeHandler:void 0,mxUtils.extend(mxEdgeSegmentHandler,mxElbowEdgeHandler),mxEdgeSegmentHandler.prototype.getCurrentPoints=function(){var t=this.state.absolutePoints;if(null!=t){var e=Math.max(1,this.graph.view.scale);if(2==t.length||3==t.length&&(Math.abs(t[0].x-t[1].x)<e&&Math.abs(t[1].x-t[2].x)<e||Math.abs(t[0].y-t[1].y)<e&&Math.abs(t[1].y-t[2].y)<e)){var i=t[0].x+(t[t.length-1].x-t[0].x)/2,n=t[0].y+(t[t.length-1].y-t[0].y)/2;t=[t[0],new mxPoint(i,n),new mxPoint(i,n),t[t.length-1]]}}return t},mxEdgeSegmentHandler.prototype.getPreviewPoints=function(t){if(this.isSource||this.isTarget)return mxElbowEdgeHandler.prototype.getPreviewPoints.apply(this,arguments);var e=this.getCurrentPoints(),i=this.convertPoint(e[0].clone(),!1);t=this.convertPoint(t.clone(),!1);for(var n=[],r=1;r<e.length;r++){var o=this.convertPoint(e[r].clone(),!1);r==this.index&&(0==Math.round(i.x-o.x)&&(i.x=t.x,o.x=t.x),0==Math.round(i.y-o.y)&&(i.y=t.y,o.y=t.y)),r<e.length-1&&n.push(o),i=o}if(1==n.length){var s=this.state.getVisibleTerminalState(!0),a=this.state.getVisibleTerminalState(!1),l=this.state.view.getScale(),h=this.state.view.getTranslate(),u=n[0].x*l+h.x,c=n[0].y*l+h.y;(null!=s&&mxUtils.contains(s,u,c)||null!=a&&mxUtils.contains(a,u,c))&&(n=[t,t])}return n},mxEdgeSegmentHandler.prototype.updatePreviewState=function(t,e,i,n){if(mxEdgeHandler.prototype.updatePreviewState.apply(this,arguments),!this.isSource&&!this.isTarget){e=this.convertPoint(e.clone(),!1);for(var r=t.absolutePoints,o=r[0],s=r[1],a=[],l=2;l<r.length;l++){var h=r[l];0==Math.round(o.x-s.x)&&0==Math.round(s.x-h.x)||0==Math.round(o.y-s.y)&&0==Math.round(s.y-h.y)||a.push(this.convertPoint(s.clone(),!1)),o=s,s=h}var u=this.state.getVisibleTerminalState(!0),c=this.state.getVisibleTerminalState(!1),d=this.state.absolutePoints;if(0!=a.length||0!=Math.round(r[0].x-r[r.length-1].x)&&0!=Math.round(r[0].y-r[r.length-1].y)){if(5==r.length&&2==a.length&&null!=u&&null!=c&&null!=d&&0==Math.round(d[0].x-d[d.length-1].x)){var p=this.graph.getView(),f=p.getScale(),m=p.getTranslate(),g=p.getRoutingCenterY(u)/f-m.y,v=this.graph.getConnectionConstraint(t,u,!0);if(null!=v)null!=(A=this.graph.getConnectionPoint(u,v))&&(this.convertPoint(A,!1),g=A.y);var A,y=p.getRoutingCenterY(c)/f-m.y,x=this.graph.getConnectionConstraint(t,c,!1);if(x)null!=(A=this.graph.getConnectionPoint(c,x))&&(this.convertPoint(A,!1),y=A.y);a=[new mxPoint(e.x,g),new mxPoint(e.x,y)]}}else a=[e,e];this.points=a,t.view.updateFixedTerminalPoints(t,u,c),t.view.updatePoints(t,this.points,u,c),t.view.updateFloatingTerminalPoints(t,u,c)}},mxEdgeSegmentHandler.prototype.connect=function(t,e,i,n,r){var o=this.graph.getModel(),s=null;if(null!=(d=o.getGeometry(t))&&null!=d.points&&d.points.length>0){var a=this.abspoints,l=a[0],h=a[1];s=[];for(var u=2;u<a.length;u++){var c=a[u];0==Math.round(l.x-h.x)&&0==Math.round(h.x-c.x)||0==Math.round(l.y-h.y)&&0==Math.round(h.y-c.y)||s.push(this.convertPoint(h.clone(),!1)),l=h,h=c}}o.beginUpdate();try{var d;if(null!=s)null!=(d=o.getGeometry(t))&&((d=d.clone()).points=s,o.setGeometry(t,d));t=mxEdgeHandler.prototype.connect.apply(this,arguments)}finally{o.endUpdate()}return t},mxEdgeSegmentHandler.prototype.getTooltipForNode=function(t){return null},mxEdgeSegmentHandler.prototype.start=function(t,e,i){mxEdgeHandler.prototype.start.apply(this,arguments),null==this.bends||null==this.bends[i]||this.isSource||this.isTarget||mxUtils.setOpacity(this.bends[i].node,100)},mxEdgeSegmentHandler.prototype.createBends=function(){var t=[],e=this.createHandleShape(0);this.initBend(e),e.setCursor(mxConstants.CURSOR_TERMINAL_HANDLE),t.push(e);var i=this.getCurrentPoints();if(this.graph.isCellBendable(this.state.cell)){null==this.points&&(this.points=[]);for(var n=0;n<i.length-1;n++){e=this.createVirtualBend(),t.push(e);var r=0==Math.round(i[n].x-i[n+1].x);0==Math.round(i[n].y-i[n+1].y)&&n<i.length-2&&(r=0==Math.round(i[n].x-i[n+2].x)),e.setCursor(r?"col-resize":"row-resize"),this.points.push(new mxPoint(0,0))}}e=this.createHandleShape(i.length);return this.initBend(e),e.setCursor(mxConstants.CURSOR_TERMINAL_HANDLE),t.push(e),t},mxEdgeSegmentHandler.prototype.redraw=function(){this.refresh(),mxEdgeHandler.prototype.redraw.apply(this,arguments)},mxEdgeSegmentHandler.prototype.redrawInnerBends=function(t,e){if(this.graph.isCellBendable(this.state.cell)){var i=this.getCurrentPoints();if(null!=i&&i.length>1){var n=!1;if(4==i.length&&0==Math.round(i[1].x-i[2].x)&&0==Math.round(i[1].y-i[2].y))if(n=!0,0==Math.round(i[0].y-i[i.length-1].y)){var r=i[0].x+(i[i.length-1].x-i[0].x)/2;i[1]=new mxPoint(r,i[1].y),i[2]=new mxPoint(r,i[2].y)}else{var o=i[0].y+(i[i.length-1].y-i[0].y)/2;i[1]=new mxPoint(i[1].x,o),i[2]=new mxPoint(i[2].x,o)}for(var s=0;s<i.length-1;s++)if(null!=this.bends[s+1]){t=i[s],e=i[s+1];var a=new mxPoint(t.x+(e.x-t.x)/2,t.y+(e.y-t.y)/2),l=this.bends[s+1].bounds;this.bends[s+1].bounds=new mxRectangle(Math.floor(a.x-l.width/2),Math.floor(a.y-l.height/2),l.width,l.height),this.bends[s+1].redraw(),this.manageLabelHandle&&this.checkLabelHandle(this.bends[s+1].bounds)}n&&(mxUtils.setOpacity(this.bends[1].node,this.virtualBendOpacity),mxUtils.setOpacity(this.bends[3].node,this.virtualBendOpacity))}}},__mxOutput.mxEdgeSegmentHandler=void 0!==mxEdgeSegmentHandler?mxEdgeSegmentHandler:void 0,mxKeyHandler.prototype.graph=null,mxKeyHandler.prototype.target=null,mxKeyHandler.prototype.normalKeys=null,mxKeyHandler.prototype.shiftKeys=null,mxKeyHandler.prototype.controlKeys=null,mxKeyHandler.prototype.controlShiftKeys=null,mxKeyHandler.prototype.enabled=!0,mxKeyHandler.prototype.isEnabled=function(){return this.enabled},mxKeyHandler.prototype.setEnabled=function(t){this.enabled=t},mxKeyHandler.prototype.bindKey=function(t,e){this.normalKeys[t]=e},mxKeyHandler.prototype.bindShiftKey=function(t,e){this.shiftKeys[t]=e},mxKeyHandler.prototype.bindControlKey=function(t,e){this.controlKeys[t]=e},mxKeyHandler.prototype.bindControlShiftKey=function(t,e){this.controlShiftKeys[t]=e},mxKeyHandler.prototype.isControlDown=function(t){return mxEvent.isControlDown(t)},mxKeyHandler.prototype.getFunction=function(t){return null==t||mxEvent.isAltDown(t)?null:this.isControlDown(t)?mxEvent.isShiftDown(t)?this.controlShiftKeys[t.keyCode]:this.controlKeys[t.keyCode]:mxEvent.isShiftDown(t)?this.shiftKeys[t.keyCode]:this.normalKeys[t.keyCode]},mxKeyHandler.prototype.isGraphEvent=function(t){var e=mxEvent.getSource(t);return!!(e==this.target||e.parentNode==this.target||null!=this.graph.cellEditor&&this.graph.cellEditor.isEventSource(t))||mxUtils.isAncestorNode(this.graph.container,e)},mxKeyHandler.prototype.keyDown=function(t){if(this.isEnabledForEvent(t))if(27==t.keyCode)this.escape(t);else if(!this.isEventIgnored(t)){var e=this.getFunction(t);null!=e&&(e(t),mxEvent.consume(t))}},mxKeyHandler.prototype.isEnabledForEvent=function(t){return this.graph.isEnabled()&&!mxEvent.isConsumed(t)&&this.isGraphEvent(t)&&this.isEnabled()},mxKeyHandler.prototype.isEventIgnored=function(t){return this.graph.isEditing()},mxKeyHandler.prototype.escape=function(t){this.graph.isEscapeEnabled()&&this.graph.escape(t)},mxKeyHandler.prototype.destroy=function(){null!=this.target&&null!=this.keydownHandler&&(mxEvent.removeListener(this.target,"keydown",this.keydownHandler),this.keydownHandler=null),this.target=null},__mxOutput.mxKeyHandler=void 0!==mxKeyHandler?mxKeyHandler:void 0,mxTooltipHandler.prototype.zIndex=10005,mxTooltipHandler.prototype.graph=null,mxTooltipHandler.prototype.delay=null,mxTooltipHandler.prototype.ignoreTouchEvents=!0,mxTooltipHandler.prototype.hideOnHover=!1,mxTooltipHandler.prototype.destroyed=!1,mxTooltipHandler.prototype.enabled=!0,mxTooltipHandler.prototype.isEnabled=function(){return this.enabled},mxTooltipHandler.prototype.setEnabled=function(t){this.enabled=t},mxTooltipHandler.prototype.isHideOnHover=function(){return this.hideOnHover},mxTooltipHandler.prototype.setHideOnHover=function(t){this.hideOnHover=t},mxTooltipHandler.prototype.init=function(){null!=document.body&&(this.div=document.createElement("div"),this.div.className="mxTooltip",this.div.style.visibility="hidden",document.body.appendChild(this.div),mxEvent.addGestureListeners(this.div,mxUtils.bind(this,function(t){this.hideTooltip()})))},mxTooltipHandler.prototype.getStateForEvent=function(t){return t.getState()},mxTooltipHandler.prototype.mouseDown=function(t,e){this.reset(e,!1),this.hideTooltip()},mxTooltipHandler.prototype.mouseMove=function(t,e){if(e.getX()!=this.lastX||e.getY()!=this.lastY){this.reset(e,!0);var i=this.getStateForEvent(e);(this.isHideOnHover()||i!=this.state||e.getSource()!=this.node&&(!this.stateSource||null!=i&&this.stateSource==(e.isSource(i.shape)||!e.isSource(i.text))))&&this.hideTooltip()}this.lastX=e.getX(),this.lastY=e.getY()},mxTooltipHandler.prototype.mouseUp=function(t,e){this.reset(e,!0),this.hideTooltip()},mxTooltipHandler.prototype.resetTimer=function(){null!=this.thread&&(window.clearTimeout(this.thread),this.thread=null)},mxTooltipHandler.prototype.reset=function(t,e,i){if((!this.ignoreTouchEvents||mxEvent.isMouseEvent(t.getEvent()))&&(this.resetTimer(),i=null!=i?i:this.getStateForEvent(t),e&&this.isEnabled()&&null!=i&&(null==this.div||"hidden"==this.div.style.visibility))){var n=t.getSource(),r=t.getX(),o=t.getY(),s=t.isSource(i.shape)||t.isSource(i.text);this.thread=window.setTimeout(mxUtils.bind(this,function(){if(!this.graph.isEditing()&&!this.graph.popupMenuHandler.isMenuShowing()&&!this.graph.isMouseDown){var t=this.graph.getTooltip(i,n,r,o);this.show(t,r,o),this.state=i,this.node=n,this.stateSource=s}}),this.delay)}},mxTooltipHandler.prototype.hide=function(){this.resetTimer(),this.hideTooltip()},mxTooltipHandler.prototype.hideTooltip=function(){null!=this.div&&(this.div.style.visibility="hidden",this.div.innerHTML="")},mxTooltipHandler.prototype.show=function(t,e,i){if(!this.destroyed&&null!=t&&t.length>0){null==this.div&&this.init();var n=mxUtils.getScrollOrigin();this.div.style.zIndex=this.zIndex,this.div.style.left=e+n.x+"px",this.div.style.top=i+mxConstants.TOOLTIP_VERTICAL_OFFSET+n.y+"px",mxUtils.isNode(t)?(this.div.innerHTML="",this.div.appendChild(t)):this.div.innerHTML=t.replace(/\n/g,"<br>"),this.div.style.visibility="",mxUtils.fit(this.div)}},mxTooltipHandler.prototype.destroy=function(){this.destroyed||(this.graph.removeMouseListener(this),mxEvent.release(this.div),null!=this.div&&null!=this.div.parentNode&&this.div.parentNode.removeChild(this.div),this.destroyed=!0,this.div=null)},__mxOutput.mxTooltipHandler=void 0!==mxTooltipHandler?mxTooltipHandler:void 0,mxUtils.extend(mxCellTracker,mxCellMarker),mxCellTracker.prototype.mouseDown=function(t,e){},mxCellTracker.prototype.mouseMove=function(t,e){this.isEnabled()&&this.process(e)},mxCellTracker.prototype.mouseUp=function(t,e){},mxCellTracker.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.graph.removeMouseListener(this),mxCellMarker.prototype.destroy.apply(this))},__mxOutput.mxCellTracker=void 0!==mxCellTracker?mxCellTracker:void 0,mxCellHighlight.prototype.keepOnTop=!1,mxCellHighlight.prototype.graph=!0,mxCellHighlight.prototype.state=null,mxCellHighlight.prototype.spacing=2,mxCellHighlight.prototype.resetHandler=null,mxCellHighlight.prototype.setHighlightColor=function(t){this.highlightColor=t,null!=this.shape&&(this.shape.stroke=t)},mxCellHighlight.prototype.drawHighlight=function(){this.shape=this.createShape(),this.repaint(),this.keepOnTop||this.shape.node.parentNode.firstChild==this.shape.node||this.shape.node.parentNode.insertBefore(this.shape.node,this.shape.node.parentNode.firstChild)},mxCellHighlight.prototype.createShape=function(){var t=this.graph.cellRenderer.createShape(this.state);return t.svgStrokeTolerance=this.graph.tolerance,t.points=this.state.absolutePoints,t.apply(this.state),t.stroke=this.highlightColor,t.opacity=this.opacity,t.isDashed=this.dashed,t.isShadow=!1,t.dialect=this.graph.dialect!=mxConstants.DIALECT_SVG?mxConstants.DIALECT_VML:mxConstants.DIALECT_SVG,t.init(this.graph.getView().getOverlayPane()),mxEvent.redirectMouseEvents(t.node,this.graph,this.state),this.graph.dialect!=mxConstants.DIALECT_SVG?t.pointerEvents=!1:t.svgPointerEvents="stroke",t},mxCellHighlight.prototype.getStrokeWidth=function(t){return this.strokeWidth},mxCellHighlight.prototype.repaint=function(){null!=this.state&&null!=this.shape&&(this.shape.scale=this.state.view.scale,this.graph.model.isEdge(this.state.cell)?(this.shape.strokewidth=this.getStrokeWidth(),this.shape.points=this.state.absolutePoints,this.shape.outline=!1):(this.shape.bounds=new mxRectangle(this.state.x-this.spacing,this.state.y-this.spacing,this.state.width+2*this.spacing,this.state.height+2*this.spacing),this.shape.rotation=Number(this.state.style[mxConstants.STYLE_ROTATION]||"0"),this.shape.strokewidth=this.getStrokeWidth()/this.state.view.scale,this.shape.outline=!0),null!=this.state.shape&&this.shape.setCursor(this.state.shape.getCursor()),(mxClient.IS_QUIRKS||8==document.documentMode)&&("transparent"==this.shape.stroke?(this.shape.stroke="white",this.shape.opacity=1):this.shape.opacity=this.opacity),this.shape.redraw())},mxCellHighlight.prototype.hide=function(){this.highlight(null)},mxCellHighlight.prototype.highlight=function(t){this.state!=t&&(null!=this.shape&&(this.shape.destroy(),this.shape=null),this.state=t,null!=this.state&&this.drawHighlight())},mxCellHighlight.prototype.isHighlightAt=function(t,e){var i=!1;if(null!=this.shape&&null!=document.elementFromPoint&&!mxClient.IS_QUIRKS)for(var n=document.elementFromPoint(t,e);null!=n;){if(n==this.shape.node){i=!0;break}n=n.parentNode}return i},mxCellHighlight.prototype.destroy=function(){this.graph.getView().removeListener(this.resetHandler),this.graph.getView().removeListener(this.repaintHandler),this.graph.getModel().removeListener(this.repaintHandler),null!=this.shape&&(this.shape.destroy(),this.shape=null)},__mxOutput.mxCellHighlight=void 0!==mxCellHighlight?mxCellHighlight:void 0,mxDefaultKeyHandler.prototype.editor=null,mxDefaultKeyHandler.prototype.handler=null,mxDefaultKeyHandler.prototype.bindAction=function(t,e,i){var n=mxUtils.bind(this,function(){this.editor.execute(e)});i?this.handler.bindControlKey(t,n):this.handler.bindKey(t,n)},mxDefaultKeyHandler.prototype.destroy=function(){this.handler.destroy(),this.handler=null},__mxOutput.mxDefaultKeyHandler=void 0!==mxDefaultKeyHandler?mxDefaultKeyHandler:void 0,mxDefaultPopupMenu.prototype.imageBasePath=null,mxDefaultPopupMenu.prototype.config=null,mxDefaultPopupMenu.prototype.createMenu=function(t,e,i,n){if(null!=this.config){var r=this.createConditions(t,i,n),o=this.config.firstChild;this.addItems(t,e,i,n,r,o,null)}},mxDefaultPopupMenu.prototype.addItems=function(t,e,i,n,r,o,s){for(var a=!1;null!=o;){if("add"==o.nodeName){var l=o.getAttribute("if");if(null==l||r[l]){var h=o.getAttribute("as");h=mxResources.get(h)||h;var u=mxUtils.eval(mxUtils.getTextContent(o)),c=o.getAttribute("action"),d=o.getAttribute("icon"),p=o.getAttribute("iconCls"),f=o.getAttribute("enabled-if"),m=null==f||r[f];a&&(e.addSeparator(s),a=!1),null!=d&&this.imageBasePath&&(d=this.imageBasePath+d);var g=this.addAction(e,t,h,d,u,c,i,s,p,m);this.addItems(t,e,i,n,r,o.firstChild,g)}}else"separator"==o.nodeName&&(a=!0);o=o.nextSibling}},mxDefaultPopupMenu.prototype.addAction=function(t,e,i,n,r,o,s,a,l,h){return t.addItem(i,n,function(t){"function"==typeof r&&r.call(e,e,s,t),null!=o&&e.execute(o,s,t)},a,l,h)},mxDefaultPopupMenu.prototype.createConditions=function(t,e,i){var n=t.graph.getModel(),r=n.getChildCount(e),o=[];o.nocell=null==e,o.ncells=t.graph.getSelectionCount()>1,o.notRoot=n.getRoot()!=n.getParent(t.graph.getDefaultParent()),o.cell=null!=e;var s=null!=e&&1==t.graph.getSelectionCount();o.nonEmpty=s&&r>0,o.expandable=s&&t.graph.isCellFoldable(e,!1),o.collapsable=s&&t.graph.isCellFoldable(e,!0),o.validRoot=s&&t.graph.isValidRoot(e),o.emptyValidRoot=o.validRoot&&0==r,o.swimlane=s&&t.graph.isSwimlane(e);for(var a=this.config.getElementsByTagName("condition"),l=0;l<a.length;l++){var h=mxUtils.eval(mxUtils.getTextContent(a[l])),u=a[l].getAttribute("name");null!=u&&"function"==typeof h&&(o[u]=h(t,e,i))}return o},__mxOutput.mxDefaultPopupMenu=void 0!==mxDefaultPopupMenu?mxDefaultPopupMenu:void 0,mxDefaultToolbar.prototype.editor=null,mxDefaultToolbar.prototype.toolbar=null,mxDefaultToolbar.prototype.resetHandler=null,mxDefaultToolbar.prototype.spacing=4,mxDefaultToolbar.prototype.connectOnDrop=!1,mxDefaultToolbar.prototype.init=function(t){null!=t&&(this.toolbar=new mxToolbar(t),this.toolbar.addListener(mxEvent.SELECT,mxUtils.bind(this,function(t,e){var i=e.getProperty("function");this.editor.insertFunction=null!=i?mxUtils.bind(this,function(){i.apply(this,arguments),this.toolbar.resetMode()}):null})),this.resetHandler=mxUtils.bind(this,function(){null!=this.toolbar&&this.toolbar.resetMode(!0)}),this.editor.graph.addListener(mxEvent.DOUBLE_CLICK,this.resetHandler),this.editor.addListener(mxEvent.ESCAPE,this.resetHandler))},mxDefaultToolbar.prototype.addItem=function(t,e,i,n){var r=mxUtils.bind(this,function(){null!=i&&i.length>0&&this.editor.execute(i)});return this.toolbar.addItem(t,e,r,n)},mxDefaultToolbar.prototype.addSeparator=function(t){t=t||mxClient.imageBasePath+"/separator.gif",this.toolbar.addSeparator(t)},mxDefaultToolbar.prototype.addCombo=function(){return this.toolbar.addCombo()},mxDefaultToolbar.prototype.addActionCombo=function(t){return this.toolbar.addActionCombo(t)},mxDefaultToolbar.prototype.addActionOption=function(t,e,i){var n=mxUtils.bind(this,function(){this.editor.execute(i)});this.addOption(t,e,n)},mxDefaultToolbar.prototype.addOption=function(t,e,i){return this.toolbar.addOption(t,e,i)},mxDefaultToolbar.prototype.addMode=function(t,e,i,n,r){var o=mxUtils.bind(this,function(){this.editor.setMode(i),null!=r&&r(this.editor)});return this.toolbar.addSwitchMode(t,e,o,n)},mxDefaultToolbar.prototype.addPrototype=function(t,e,i,n,r,o){var s=mxUtils.bind(this,function(){return"function"==typeof i?i():null!=i?this.editor.graph.cloneCell(i):null}),a=mxUtils.bind(this,function(t,e){"function"==typeof r?r(this.editor,s(),t,e):this.drop(s(),t,e),this.toolbar.resetMode(),mxEvent.consume(t)}),l=this.toolbar.addMode(t,e,a,n,null,o);return this.installDropHandler(l,function(t,e,i){a(e,i)}),l},mxDefaultToolbar.prototype.drop=function(t,e,i){var n=this.editor.graph,r=n.getModel();if(null!=i&&!r.isEdge(i)&&this.connectOnDrop&&n.isCellConnectable(i))this.connect(t,e,i);else{for(;null!=i&&!n.isValidDropTarget(i,[t],e);)i=r.getParent(i);this.insert(t,e,i)}},mxDefaultToolbar.prototype.insert=function(t,e,i){var n=this.editor.graph;if(n.canImportCell(t)){var r=mxEvent.getClientX(e),o=mxEvent.getClientY(e),s=mxUtils.convertPoint(n.container,r,o);return n.isSplitEnabled()&&n.isSplitTarget(i,[t],e)?n.splitEdge(i,[t],null,s.x,s.y):this.editor.addVertex(i,t,s.x,s.y)}return null},mxDefaultToolbar.prototype.connect=function(t,e,i){var n=this.editor.graph,r=n.getModel();if(null!=i&&n.isCellConnectable(t)&&n.isEdgeValid(null,i,t)){var o=null;r.beginUpdate();try{var s=r.getGeometry(i),a=r.getGeometry(t).clone();a.x=s.x+(s.width-a.width)/2,a.y=s.y+(s.height-a.height)/2;var l=this.spacing*n.gridSize,h=20*r.getDirectedEdgeCount(i,!0);this.editor.horizontalFlow?a.x+=(a.width+s.width)/2+l+h:a.y+=(a.height+s.height)/2+l+h,t.setGeometry(a);var u=r.getParent(i);if(n.addCell(t,u),n.constrainChild(t),o=this.editor.createEdge(i,t),null==r.getGeometry(o)){var c=new mxGeometry;c.relative=!0,r.setGeometry(o,c)}n.addEdge(o,u,i,t)}finally{r.endUpdate()}n.setSelectionCells([t,o]),n.scrollCellToVisible(t)}},mxDefaultToolbar.prototype.installDropHandler=function(t,e){var i=document.createElement("img");i.setAttribute("src",t.getAttribute("src"));var n=mxUtils.bind(this,function(r){i.style.width=2*t.offsetWidth+"px",i.style.height=2*t.offsetHeight+"px",mxUtils.makeDraggable(t,this.editor.graph,e,i),mxEvent.removeListener(i,"load",n)});mxClient.IS_IE?n():mxEvent.addListener(i,"load",n)},mxDefaultToolbar.prototype.destroy=function(){null!=this.resetHandler&&(this.editor.graph.removeListener("dblclick",this.resetHandler),this.editor.removeListener("escape",this.resetHandler),this.resetHandler=null),null!=this.toolbar&&(this.toolbar.destroy(),this.toolbar=null)},__mxOutput.mxDefaultToolbar=void 0!==mxDefaultToolbar?mxDefaultToolbar:void 0,mxLoadResources?mxResources.add(mxClient.basePath+"/resources/editor"):mxClient.defaultBundles.push(mxClient.basePath+"/resources/editor"),mxEditor.prototype=new mxEventSource,mxEditor.prototype.constructor=mxEditor,mxEditor.prototype.askZoomResource="none"!=mxClient.language?"askZoom":"",mxEditor.prototype.lastSavedResource="none"!=mxClient.language?"lastSaved":"",mxEditor.prototype.currentFileResource="none"!=mxClient.language?"currentFile":"",mxEditor.prototype.propertiesResource="none"!=mxClient.language?"properties":"",mxEditor.prototype.tasksResource="none"!=mxClient.language?"tasks":"",mxEditor.prototype.helpResource="none"!=mxClient.language?"help":"",mxEditor.prototype.outlineResource="none"!=mxClient.language?"outline":"",mxEditor.prototype.outline=null,mxEditor.prototype.graph=null,mxEditor.prototype.graphRenderHint=null,mxEditor.prototype.toolbar=null,mxEditor.prototype.status=null,mxEditor.prototype.popupHandler=null,mxEditor.prototype.undoManager=null,mxEditor.prototype.keyHandler=null,mxEditor.prototype.actions=null,mxEditor.prototype.dblClickAction="edit",mxEditor.prototype.swimlaneRequired=!1,mxEditor.prototype.disableContextMenu=!0,mxEditor.prototype.insertFunction=null,mxEditor.prototype.forcedInserting=!1,mxEditor.prototype.templates=null,mxEditor.prototype.defaultEdge=null,mxEditor.prototype.defaultEdgeStyle=null,mxEditor.prototype.defaultGroup=null,mxEditor.prototype.groupBorderSize=null,mxEditor.prototype.filename=null,mxEditor.prototype.linefeed="&#xa;",mxEditor.prototype.postParameterName="xml",mxEditor.prototype.escapePostData=!0,mxEditor.prototype.urlPost=null,mxEditor.prototype.urlImage=null,mxEditor.prototype.horizontalFlow=!1,mxEditor.prototype.layoutDiagram=!1,mxEditor.prototype.swimlaneSpacing=0,mxEditor.prototype.maintainSwimlanes=!1,mxEditor.prototype.layoutSwimlanes=!1,mxEditor.prototype.cycleAttributeValues=null,mxEditor.prototype.cycleAttributeIndex=0,mxEditor.prototype.cycleAttributeName="fillColor",mxEditor.prototype.tasks=null,mxEditor.prototype.tasksWindowImage=null,mxEditor.prototype.tasksTop=20,mxEditor.prototype.help=null,mxEditor.prototype.helpWindowImage=null,mxEditor.prototype.urlHelp=null,mxEditor.prototype.helpWidth=300,mxEditor.prototype.helpHeight=260,mxEditor.prototype.propertiesWidth=240,mxEditor.prototype.propertiesHeight=null,mxEditor.prototype.movePropertiesDialog=!1,mxEditor.prototype.validating=!1,mxEditor.prototype.modified=!1,mxEditor.prototype.isModified=function(){return this.modified},mxEditor.prototype.setModified=function(t){this.modified=t},mxEditor.prototype.addActions=function(){this.addAction("save",function(t){t.save()}),this.addAction("print",function(t){new mxPrintPreview(t.graph,1).open()}),this.addAction("show",function(t){mxUtils.show(t.graph,null,10,10)}),this.addAction("exportImage",function(t){var e=t.getUrlImage();if(null==e||mxClient.IS_LOCAL)t.execute("show");else{var i=mxUtils.getViewXml(t.graph,1),n=mxUtils.getXml(i,"\n");mxUtils.submit(e,t.postParameterName+"="+encodeURIComponent(n),document,"_blank")}}),this.addAction("refresh",function(t){t.graph.refresh()}),this.addAction("cut",function(t){t.graph.isEnabled()&&mxClipboard.cut(t.graph)}),this.addAction("copy",function(t){t.graph.isEnabled()&&mxClipboard.copy(t.graph)}),this.addAction("paste",function(t){t.graph.isEnabled()&&mxClipboard.paste(t.graph)}),this.addAction("delete",function(t){t.graph.isEnabled()&&t.graph.removeCells()}),this.addAction("group",function(t){t.graph.isEnabled()&&t.graph.setSelectionCell(t.groupCells())}),this.addAction("ungroup",function(t){t.graph.isEnabled()&&t.graph.setSelectionCells(t.graph.ungroupCells())}),this.addAction("removeFromParent",function(t){t.graph.isEnabled()&&t.graph.removeCellsFromParent()}),this.addAction("undo",function(t){t.graph.isEnabled()&&t.undo()}),this.addAction("redo",function(t){t.graph.isEnabled()&&t.redo()}),this.addAction("zoomIn",function(t){t.graph.zoomIn()}),this.addAction("zoomOut",function(t){t.graph.zoomOut()}),this.addAction("actualSize",function(t){t.graph.zoomActual()}),this.addAction("fit",function(t){t.graph.fit()}),this.addAction("showProperties",function(t,e){t.showProperties(e)}),this.addAction("selectAll",function(t){t.graph.isEnabled()&&t.graph.selectAll()}),this.addAction("selectNone",function(t){t.graph.isEnabled()&&t.graph.clearSelection()}),this.addAction("selectVertices",function(t){t.graph.isEnabled()&&t.graph.selectVertices()}),this.addAction("selectEdges",function(t){t.graph.isEnabled()&&t.graph.selectEdges()}),this.addAction("edit",function(t,e){t.graph.isEnabled()&&t.graph.isCellEditable(e)&&t.graph.startEditingAtCell(e)}),this.addAction("toBack",function(t,e){t.graph.isEnabled()&&t.graph.orderCells(!0)}),this.addAction("toFront",function(t,e){t.graph.isEnabled()&&t.graph.orderCells(!1)}),this.addAction("enterGroup",function(t,e){t.graph.enterGroup(e)}),this.addAction("exitGroup",function(t){t.graph.exitGroup()}),this.addAction("home",function(t){t.graph.home()}),this.addAction("selectPrevious",function(t){t.graph.isEnabled()&&t.graph.selectPreviousCell()}),this.addAction("selectNext",function(t){t.graph.isEnabled()&&t.graph.selectNextCell()}),this.addAction("selectParent",function(t){t.graph.isEnabled()&&t.graph.selectParentCell()}),this.addAction("selectChild",function(t){t.graph.isEnabled()&&t.graph.selectChildCell()}),this.addAction("collapse",function(t){t.graph.isEnabled()&&t.graph.foldCells(!0)}),this.addAction("collapseAll",function(t){if(t.graph.isEnabled()){var e=t.graph.getChildVertices();t.graph.foldCells(!0,!1,e)}}),this.addAction("expand",function(t){t.graph.isEnabled()&&t.graph.foldCells(!1)}),this.addAction("expandAll",function(t){if(t.graph.isEnabled()){var e=t.graph.getChildVertices();t.graph.foldCells(!1,!1,e)}}),this.addAction("bold",function(t){t.graph.isEnabled()&&t.graph.toggleCellStyleFlags(mxConstants.STYLE_FONTSTYLE,mxConstants.FONT_BOLD)}),this.addAction("italic",function(t){t.graph.isEnabled()&&t.graph.toggleCellStyleFlags(mxConstants.STYLE_FONTSTYLE,mxConstants.FONT_ITALIC)}),this.addAction("underline",function(t){t.graph.isEnabled()&&t.graph.toggleCellStyleFlags(mxConstants.STYLE_FONTSTYLE,mxConstants.FONT_UNDERLINE)}),this.addAction("alignCellsLeft",function(t){t.graph.isEnabled()&&t.graph.alignCells(mxConstants.ALIGN_LEFT)}),this.addAction("alignCellsCenter",function(t){t.graph.isEnabled()&&t.graph.alignCells(mxConstants.ALIGN_CENTER)}),this.addAction("alignCellsRight",function(t){t.graph.isEnabled()&&t.graph.alignCells(mxConstants.ALIGN_RIGHT)}),this.addAction("alignCellsTop",function(t){t.graph.isEnabled()&&t.graph.alignCells(mxConstants.ALIGN_TOP)}),this.addAction("alignCellsMiddle",function(t){t.graph.isEnabled()&&t.graph.alignCells(mxConstants.ALIGN_MIDDLE)}),this.addAction("alignCellsBottom",function(t){t.graph.isEnabled()&&t.graph.alignCells(mxConstants.ALIGN_BOTTOM)}),this.addAction("alignFontLeft",function(t){t.graph.setCellStyles(mxConstants.STYLE_ALIGN,mxConstants.ALIGN_LEFT)}),this.addAction("alignFontCenter",function(t){t.graph.isEnabled()&&t.graph.setCellStyles(mxConstants.STYLE_ALIGN,mxConstants.ALIGN_CENTER)}),this.addAction("alignFontRight",function(t){t.graph.isEnabled()&&t.graph.setCellStyles(mxConstants.STYLE_ALIGN,mxConstants.ALIGN_RIGHT)}),this.addAction("alignFontTop",function(t){t.graph.isEnabled()&&t.graph.setCellStyles(mxConstants.STYLE_VERTICAL_ALIGN,mxConstants.ALIGN_TOP)}),this.addAction("alignFontMiddle",function(t){t.graph.isEnabled()&&t.graph.setCellStyles(mxConstants.STYLE_VERTICAL_ALIGN,mxConstants.ALIGN_MIDDLE)}),this.addAction("alignFontBottom",function(t){t.graph.isEnabled()&&t.graph.setCellStyles(mxConstants.STYLE_VERTICAL_ALIGN,mxConstants.ALIGN_BOTTOM)}),this.addAction("zoom",function(t){var e=100*t.graph.getView().scale,i=parseFloat(mxUtils.prompt(mxResources.get(t.askZoomResource)||t.askZoomResource,e))/100;isNaN(i)||t.graph.getView().setScale(i)}),this.addAction("toggleTasks",function(t){null!=t.tasks?t.tasks.setVisible(!t.tasks.isVisible()):t.showTasks()}),this.addAction("toggleHelp",function(t){null!=t.help?t.help.setVisible(!t.help.isVisible()):t.showHelp()}),this.addAction("toggleOutline",function(t){null==t.outline?t.showOutline():t.outline.setVisible(!t.outline.isVisible())}),this.addAction("toggleConsole",function(t){mxLog.setVisible(!mxLog.isVisible())})},mxEditor.prototype.configure=function(t){null!=t&&(new mxCodec(t.ownerDocument).decode(t,this),this.resetHistory())},mxEditor.prototype.resetFirstTime=function(){document.cookie="mxgraph=seen; expires=Fri, 27 Jul 2001 02:47:11 UTC; path=/"},mxEditor.prototype.resetHistory=function(){this.lastSnapshot=(new Date).getTime(),this.undoManager.clear(),this.ignoredChanges=0,this.setModified(!1)},mxEditor.prototype.addAction=function(t,e){this.actions[t]=e},mxEditor.prototype.execute=function(t,e,i){var n=this.actions[t];if(null!=n)try{var r=arguments;r[0]=this,n.apply(this,r)}catch(e){throw mxUtils.error("Cannot execute "+t+": "+e.message,280,!0),e}else mxUtils.error("Cannot find action "+t,280,!0)},mxEditor.prototype.addTemplate=function(t,e){this.templates[t]=e},mxEditor.prototype.getTemplate=function(t){return this.templates[t]},mxEditor.prototype.createGraph=function(){var t=new mxGraph(null,null,this.graphRenderHint);return t.setTooltips(!0),t.setPanning(!0),this.installDblClickHandler(t),this.installUndoHandler(t),this.installDrillHandler(t),this.installChangeHandler(t),this.installInsertHandler(t),t.popupMenuHandler.factoryMethod=mxUtils.bind(this,function(t,e,i){return this.createPopupMenu(t,e,i)}),t.connectionHandler.factoryMethod=mxUtils.bind(this,function(t,e){return this.createEdge(t,e)}),this.createSwimlaneManager(t),this.createLayoutManager(t),t},mxEditor.prototype.createSwimlaneManager=function(t){var e=new mxSwimlaneManager(t,!1);return e.isHorizontal=mxUtils.bind(this,function(){return this.horizontalFlow}),e.isEnabled=mxUtils.bind(this,function(){return this.maintainSwimlanes}),e},mxEditor.prototype.createLayoutManager=function(t){var e=new mxLayoutManager(t),i=this;return e.getLayout=function(e){var n=null,r=i.graph.getModel();return null!=r.getParent(e)&&(i.layoutSwimlanes&&t.isSwimlane(e)?(null==i.swimlaneLayout&&(i.swimlaneLayout=i.createSwimlaneLayout()),n=i.swimlaneLayout):i.layoutDiagram&&(t.isValidRoot(e)||null==r.getParent(r.getParent(e)))&&(null==i.diagramLayout&&(i.diagramLayout=i.createDiagramLayout()),n=i.diagramLayout)),n},e},mxEditor.prototype.setGraphContainer=function(t){null==this.graph.container&&(this.graph.init(t),this.rubberband=new mxRubberband(this.graph),this.disableContextMenu&&mxEvent.disableContextMenu(t),mxClient.IS_QUIRKS&&new mxDivResizer(t))},mxEditor.prototype.installDblClickHandler=function(t){t.addListener(mxEvent.DOUBLE_CLICK,mxUtils.bind(this,function(e,i){var n=i.getProperty("cell");null!=n&&t.isEnabled()&&null!=this.dblClickAction&&(this.execute(this.dblClickAction,n),i.consume())}))},mxEditor.prototype.installUndoHandler=function(t){var e=mxUtils.bind(this,function(t,e){var i=e.getProperty("edit");this.undoManager.undoableEditHappened(i)});t.getModel().addListener(mxEvent.UNDO,e),t.getView().addListener(mxEvent.UNDO,e);var i=function(e,i){var n=i.getProperty("edit").changes;t.setSelectionCells(t.getSelectionCellsForChanges(n))};this.undoManager.addListener(mxEvent.UNDO,i),this.undoManager.addListener(mxEvent.REDO,i)},mxEditor.prototype.installDrillHandler=function(t){var e=mxUtils.bind(this,function(t){this.fireEvent(new mxEventObject(mxEvent.ROOT))});t.getView().addListener(mxEvent.DOWN,e),t.getView().addListener(mxEvent.UP,e)},mxEditor.prototype.installChangeHandler=function(t){var e=mxUtils.bind(this,function(e,i){this.setModified(!0),1==this.validating&&t.validateGraph();for(var n=i.getProperty("edit").changes,r=0;r<n.length;r++){var o=n[r];if(o instanceof mxRootChange||o instanceof mxValueChange&&o.cell==this.graph.model.root||o instanceof mxCellAttributeChange&&o.cell==this.graph.model.root){this.fireEvent(new mxEventObject(mxEvent.ROOT));break}}});t.getModel().addListener(mxEvent.CHANGE,e)},mxEditor.prototype.installInsertHandler=function(t){var e=this,i={mouseDown:function(t,i){null==e.insertFunction||i.isPopupTrigger()||!e.forcedInserting&&null!=i.getState()||(e.graph.clearSelection(),e.insertFunction(i.getEvent(),i.getCell()),this.isActive=!0,i.consume())},mouseMove:function(t,e){this.isActive&&e.consume()},mouseUp:function(t,e){this.isActive&&(this.isActive=!1,e.consume())}};t.addMouseListener(i)},mxEditor.prototype.createDiagramLayout=function(){var t=this.graph.gridSize,e=new mxStackLayout(this.graph,!this.horizontalFlow,this.swimlaneSpacing,2*t,2*t);return e.isVertexIgnored=function(t){return!e.graph.isSwimlane(t)},e},mxEditor.prototype.createSwimlaneLayout=function(){return new mxCompactTreeLayout(this.graph,this.horizontalFlow)},mxEditor.prototype.createToolbar=function(){return new mxDefaultToolbar(null,this)},mxEditor.prototype.setToolbarContainer=function(t){this.toolbar.init(t),mxClient.IS_QUIRKS&&new mxDivResizer(t)},mxEditor.prototype.setStatusContainer=function(t){null==this.status&&(this.status=t,this.addListener(mxEvent.SAVE,mxUtils.bind(this,function(){var t=(new Date).toLocaleString();this.setStatus((mxResources.get(this.lastSavedResource)||this.lastSavedResource)+": "+t)})),this.addListener(mxEvent.OPEN,mxUtils.bind(this,function(){this.setStatus((mxResources.get(this.currentFileResource)||this.currentFileResource)+": "+this.filename)})),mxClient.IS_QUIRKS&&new mxDivResizer(t))},mxEditor.prototype.setStatus=function(t){null!=this.status&&null!=t&&(this.status.innerHTML=t)},mxEditor.prototype.setTitleContainer=function(t){this.addListener(mxEvent.ROOT,mxUtils.bind(this,function(e){t.innerHTML=this.getTitle()})),mxClient.IS_QUIRKS&&new mxDivResizer(t)},mxEditor.prototype.treeLayout=function(t,e){null!=t&&new mxCompactTreeLayout(this.graph,e).execute(t)},mxEditor.prototype.getTitle=function(){for(var t="",e=this.graph,i=e.getCurrentRoot();null!=i&&null!=e.getModel().getParent(e.getModel().getParent(i));)e.isValidRoot(i)&&(t=" > "+e.convertValueToString(i)+t),i=e.getModel().getParent(i);return this.getRootTitle()+t},mxEditor.prototype.getRootTitle=function(){var t=this.graph.getModel().getRoot();return this.graph.convertValueToString(t)},mxEditor.prototype.undo=function(){this.undoManager.undo()},mxEditor.prototype.redo=function(){this.undoManager.redo()},mxEditor.prototype.groupCells=function(){var t=null!=this.groupBorderSize?this.groupBorderSize:this.graph.gridSize;return this.graph.groupCells(this.createGroup(),t)},mxEditor.prototype.createGroup=function(){return this.graph.getModel().cloneCell(this.defaultGroup)},mxEditor.prototype.open=function(t){if(null!=t){var e=mxUtils.load(t).getXml();this.readGraphModel(e.documentElement),this.filename=t,this.fireEvent(new mxEventObject(mxEvent.OPEN,"filename",t))}},mxEditor.prototype.readGraphModel=function(t){new mxCodec(t.ownerDocument).decode(t,this.graph.getModel()),this.resetHistory()},mxEditor.prototype.save=function(t,e){if(null!=(t=t||this.getUrlPost())&&t.length>0){var i=this.writeGraphModel(e);this.postDiagram(t,i),this.setModified(!1)}this.fireEvent(new mxEventObject(mxEvent.SAVE,"url",t))},mxEditor.prototype.postDiagram=function(t,e){this.escapePostData&&(e=encodeURIComponent(e)),mxUtils.post(t,this.postParameterName+"="+e,mxUtils.bind(this,function(i){this.fireEvent(new mxEventObject(mxEvent.POST,"request",i,"url",t,"data",e))}))},mxEditor.prototype.writeGraphModel=function(t){t=null!=t?t:this.linefeed;var e=(new mxCodec).encode(this.graph.getModel());return mxUtils.getXml(e,t)},mxEditor.prototype.getUrlPost=function(){return this.urlPost},mxEditor.prototype.getUrlImage=function(){return this.urlImage},mxEditor.prototype.swapStyles=function(t,e){var i=this.graph.getStylesheet().styles[e];this.graph.getView().getStylesheet().putCellStyle(e,this.graph.getStylesheet().styles[t]),this.graph.getStylesheet().putCellStyle(t,i),this.graph.refresh()},mxEditor.prototype.showProperties=function(t){if(null==(t=t||this.graph.getSelectionCell())&&null==(t=this.graph.getCurrentRoot())&&(t=this.graph.getModel().getRoot()),null!=t){this.graph.stopEditing(!0);var e=mxUtils.getOffset(this.graph.container),i=e.x+10,n=e.y;if(null==this.properties||this.movePropertiesDialog){var r=this.graph.getCellBounds(t);null!=r&&(i+=r.x+Math.min(200,r.width),n+=r.y)}else i=this.properties.getX(),n=this.properties.getY();this.hideProperties();var o=this.createProperties(t);null!=o&&(this.properties=new mxWindow(mxResources.get(this.propertiesResource)||this.propertiesResource,o,i,n,this.propertiesWidth,this.propertiesHeight,!1),this.properties.setVisible(!0))}},mxEditor.prototype.isPropertiesVisible=function(){return null!=this.properties},mxEditor.prototype.createProperties=function(t){var e=this.graph.getModel(),i=e.getValue(t);if(mxUtils.isNode(i)){var n=new mxForm("properties");n.addText("ID",t.getId()).setAttribute("readonly","true");var r=null,o=null,s=null,a=null,l=null;e.isVertex(t)&&null!=(r=e.getGeometry(t))&&(o=n.addText("top",r.y),s=n.addText("left",r.x),a=n.addText("width",r.width),l=n.addText("height",r.height));for(var h=e.getStyle(t),u=n.addText("Style",h||""),c=i.attributes,d=[],p=0;p<c.length;p++){var f=c[p].value;d[p]=n.addTextarea(c[p].nodeName,f,"label"==c[p].nodeName?4:2)}var m=mxUtils.bind(this,function(){this.hideProperties(),e.beginUpdate();try{null!=r&&((r=r.clone()).x=parseFloat(s.value),r.y=parseFloat(o.value),r.width=parseFloat(a.value),r.height=parseFloat(l.value),e.setGeometry(t,r)),u.value.length>0?e.setStyle(t,u.value):e.setStyle(t,null);for(var i=0;i<c.length;i++){var n=new mxCellAttributeChange(t,c[i].nodeName,d[i].value);e.execute(n)}this.graph.isAutoSizeCell(t)&&this.graph.updateCellSize(t)}finally{e.endUpdate()}}),g=mxUtils.bind(this,function(){this.hideProperties()});return n.addButtons(m,g),n.table}return null},mxEditor.prototype.hideProperties=function(){null!=this.properties&&(this.properties.destroy(),this.properties=null)},mxEditor.prototype.showTasks=function(){if(null==this.tasks){var t=document.createElement("div");t.style.padding="4px",t.style.paddingLeft="20px";var e=document.body.clientWidth,i=new mxWindow(mxResources.get(this.tasksResource)||this.tasksResource,t,e-220,this.tasksTop,200);i.setClosable(!0),i.destroyOnClose=!1;var n=mxUtils.bind(this,function(e){mxEvent.release(t),t.innerHTML="",this.createTasks(t)});this.graph.getModel().addListener(mxEvent.CHANGE,n),this.graph.getSelectionModel().addListener(mxEvent.CHANGE,n),this.graph.addListener(mxEvent.ROOT,n),null!=this.tasksWindowImage&&i.setImage(this.tasksWindowImage),this.tasks=i,this.createTasks(t)}this.tasks.setVisible(!0)},mxEditor.prototype.refreshTasks=function(t){if(null!=this.tasks){t=this.tasks.content;mxEvent.release(t),t.innerHTML="",this.createTasks(t)}},mxEditor.prototype.createTasks=function(t){},mxEditor.prototype.showHelp=function(t){if(null==this.help){var e=document.createElement("iframe");e.setAttribute("src",mxResources.get("urlHelp")||this.urlHelp),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("frameBorder","0"),e.style.backgroundColor="white";var i=document.body.clientWidth,n=document.body.clientHeight||document.documentElement.clientHeight,r=new mxWindow(mxResources.get(this.helpResource)||this.helpResource,e,(i-this.helpWidth)/2,(n-this.helpHeight)/3,this.helpWidth,this.helpHeight);if(r.setMaximizable(!0),r.setClosable(!0),r.destroyOnClose=!1,r.setResizable(!0),null!=this.helpWindowImage&&r.setImage(this.helpWindowImage),mxClient.IS_NS){var o=function(t){var i=r.div.offsetHeight;e.setAttribute("height",i-26+"px")};r.addListener(mxEvent.RESIZE_END,o),r.addListener(mxEvent.MAXIMIZE,o),r.addListener(mxEvent.NORMALIZE,o),r.addListener(mxEvent.SHOW,o)}this.help=r}this.help.setVisible(!0)},mxEditor.prototype.showOutline=function(){if(null==this.outline){var t=document.createElement("div");t.style.overflow="hidden",t.style.position="relative",t.style.width="100%",t.style.height="100%",t.style.background="white",t.style.cursor="move",8==document.documentMode&&(t.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity=100)");var e=new mxWindow(mxResources.get(this.outlineResource)||this.outlineResource,t,600,480,200,200,!1),i=new mxOutline(this.graph,t);e.setClosable(!0),e.setResizable(!0),e.destroyOnClose=!1,e.addListener(mxEvent.RESIZE_END,function(){i.update()}),this.outline=e,this.outline.outline=i}this.outline.setVisible(!0),this.outline.outline.update(!0)},mxEditor.prototype.setMode=function(t){"select"==t?(this.graph.panningHandler.useLeftButtonForPanning=!1,this.graph.setConnectable(!1)):"connect"==t?(this.graph.panningHandler.useLeftButtonForPanning=!1,this.graph.setConnectable(!0)):"pan"==t&&(this.graph.panningHandler.useLeftButtonForPanning=!0,this.graph.setConnectable(!1))},mxEditor.prototype.createPopupMenu=function(t,e,i){this.popupHandler.createMenu(this,t,e,i)},mxEditor.prototype.createEdge=function(t,e){var i=null;if(null!=this.defaultEdge){i=this.graph.getModel().cloneCell(this.defaultEdge)}else{(i=new mxCell("")).setEdge(!0);var n=new mxGeometry;n.relative=!0,i.setGeometry(n)}var r=this.getEdgeStyle();return null!=r&&i.setStyle(r),i},mxEditor.prototype.getEdgeStyle=function(){return this.defaultEdgeStyle},mxEditor.prototype.consumeCycleAttribute=function(t){return null!=this.cycleAttributeValues&&this.cycleAttributeValues.length>0&&this.graph.isSwimlane(t)?this.cycleAttributeValues[this.cycleAttributeIndex++%this.cycleAttributeValues.length]:null},mxEditor.prototype.cycleAttribute=function(t){if(null!=this.cycleAttributeName){var e=this.consumeCycleAttribute(t);null!=e&&t.setStyle(t.getStyle()+";"+this.cycleAttributeName+"="+e)}},mxEditor.prototype.addVertex=function(t,e,i,n){for(var r=this.graph.getModel();null!=t&&!this.graph.isValidDropTarget(t);)t=r.getParent(t);t=null!=t?t:this.graph.getSwimlaneAt(i,n);var o=this.graph.getView().scale,s=r.getGeometry(e),a=r.getGeometry(t);if(this.graph.isSwimlane(e)&&!this.graph.swimlaneNesting)t=null;else{if(null==t&&this.swimlaneRequired)return null;if(null!=t&&null!=a){var l=this.graph.getView().getState(t);if(null!=l){if(i-=l.origin.x*o,n-=l.origin.y*o,this.graph.isConstrainedMoving){var h=s.width,u=s.height,c=l.x+l.width;i+h>c&&(i-=i+h-c),n+u>(c=l.y+l.height)&&(n-=n+u-c)}}else null!=a&&(i-=a.x*o,n-=a.y*o)}}(s=s.clone()).x=this.graph.snap(i/o-this.graph.getView().translate.x-this.graph.gridSize/2),s.y=this.graph.snap(n/o-this.graph.getView().translate.y-this.graph.gridSize/2),e.setGeometry(s),null==t&&(t=this.graph.getDefaultParent()),this.cycleAttribute(e),this.fireEvent(new mxEventObject(mxEvent.BEFORE_ADD_VERTEX,"vertex",e,"parent",t)),r.beginUpdate();try{null!=(e=this.graph.addCell(e,t))&&(this.graph.constrainChild(e),this.fireEvent(new mxEventObject(mxEvent.ADD_VERTEX,"vertex",e)))}finally{r.endUpdate()}return null!=e&&(this.graph.setSelectionCell(e),this.graph.scrollCellToVisible(e),this.fireEvent(new mxEventObject(mxEvent.AFTER_ADD_VERTEX,"vertex",e))),e},mxEditor.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,null!=this.tasks&&this.tasks.destroy(),null!=this.outline&&this.outline.destroy(),null!=this.properties&&this.properties.destroy(),null!=this.keyHandler&&this.keyHandler.destroy(),null!=this.rubberband&&this.rubberband.destroy(),null!=this.toolbar&&this.toolbar.destroy(),null!=this.graph&&this.graph.destroy(),this.status=null,this.templates=null)},__mxOutput.mxEditor=void 0!==mxEditor?mxEditor:void 0;var mxCodecRegistry={codecs:[],aliases:[],register:function(t){if(null!=t){var e=t.getName();mxCodecRegistry.codecs[e]=t;var i=mxUtils.getFunctionName(t.template.constructor);i!=e&&mxCodecRegistry.addAlias(i,e)}return t},addAlias:function(t,e){mxCodecRegistry.aliases[t]=e},getCodec:function(t){var e=null;if(null!=t){var i=mxUtils.getFunctionName(t),n=mxCodecRegistry.aliases[i];if(null!=n&&(i=n),null==(e=mxCodecRegistry.codecs[i]))try{e=new mxObjectCodec(new t),mxCodecRegistry.register(e)}catch(t){}}return e}},codec;function mxCodec(t){this.document=t||mxUtils.createXmlDocument(),this.objects=[]}function mxObjectCodec(t,e,i,n){for(var r in this.template=t,this.exclude=null!=e?e:[],this.idrefs=null!=i?i:[],this.mapping=null!=n?n:[],this.reverse=new Object,this.mapping)this.reverse[this.mapping[r]]=r}__mxOutput.mxCodecRegistry=void 0!==mxCodecRegistry?mxCodecRegistry:void 0,mxCodec.prototype.document=null,mxCodec.prototype.objects=null,mxCodec.prototype.elements=null,mxCodec.prototype.encodeDefaults=!1,mxCodec.prototype.putObject=function(t,e){return this.objects[t]=e,e},mxCodec.prototype.getObject=function(t){var e=null;if(null!=t&&null==(e=this.objects[t])&&null==(e=this.lookup(t))){var i=this.getElementById(t);null!=i&&(e=this.decode(i))}return e},mxCodec.prototype.lookup=function(t){return null},mxCodec.prototype.getElementById=function(t){return this.updateElements(),this.elements[t]},mxCodec.prototype.updateElements=function(){null==this.elements&&(this.elements=new Object,null!=this.document.documentElement&&this.addElement(this.document.documentElement))},mxCodec.prototype.addElement=function(t){if(t.nodeType==mxConstants.NODETYPE_ELEMENT){var e=t.getAttribute("id");if(null!=e)if(null==this.elements[e])this.elements[e]=t;else if(this.elements[e]!=t)throw new Error(e+": Duplicate ID")}for(t=t.firstChild;null!=t;)this.addElement(t),t=t.nextSibling},mxCodec.prototype.getId=function(t){var e=null;return null!=t&&null==(e=this.reference(t))&&t instanceof mxCell&&null==(e=t.getId())&&0==(e=mxCellPath.create(t)).length&&(e="root"),e},mxCodec.prototype.reference=function(t){return null},mxCodec.prototype.encode=function(t){var e=null;if(null!=t&&null!=t.constructor){var i=mxCodecRegistry.getCodec(t.constructor);null!=i?e=i.encode(this,t):mxUtils.isNode(t)?e=mxUtils.importNode(this.document,t,!0):mxLog.warn("mxCodec.encode: No codec for "+mxUtils.getFunctionName(t.constructor))}return e},mxCodec.prototype.decode=function(t,e){this.updateElements();var i=null;if(null!=t&&t.nodeType==mxConstants.NODETYPE_ELEMENT){var n=null;try{n=window[t.nodeName]}catch(t){}var r=mxCodecRegistry.getCodec(n);null!=r?i=r.decode(this,t,e):(i=t.cloneNode(!0)).removeAttribute("as")}return i},mxCodec.prototype.encodeCell=function(t,e,i){if(e.appendChild(this.encode(t)),null==i||i)for(var n=t.getChildCount(),r=0;r<n;r++)this.encodeCell(t.getChildAt(r),e)},mxCodec.prototype.isCellCodec=function(t){return null!=t&&"function"==typeof t.isCellCodec&&t.isCellCodec()},mxCodec.prototype.decodeCell=function(t,e){e=null==e||e;var i=null;if(null!=t&&t.nodeType==mxConstants.NODETYPE_ELEMENT){var n=mxCodecRegistry.getCodec(t.nodeName);if(!this.isCellCodec(n))for(var r=t.firstChild;null!=r&&!this.isCellCodec(n);)n=mxCodecRegistry.getCodec(r.nodeName),r=r.nextSibling;this.isCellCodec(n)||(n=mxCodecRegistry.getCodec(mxCell)),i=n.decode(this,t),e&&this.insertIntoGraph(i)}return i},mxCodec.prototype.insertIntoGraph=function(t){var e=t.parent,i=t.getTerminal(!0),n=t.getTerminal(!1);if(t.setTerminal(null,!1),t.setTerminal(null,!0),t.parent=null,null!=e){if(e==t)throw new Error(e.id+": Self Reference");e.insert(t)}null!=i&&i.insertEdge(t,!0),null!=n&&n.insertEdge(t,!1)},mxCodec.prototype.setAttribute=function(t,e,i){null!=e&&null!=i&&t.setAttribute(e,i)},__mxOutput.mxCodec=void 0!==mxCodec?mxCodec:void 0,mxObjectCodec.allowEval=!1,mxObjectCodec.prototype.template=null,mxObjectCodec.prototype.exclude=null,mxObjectCodec.prototype.idrefs=null,mxObjectCodec.prototype.mapping=null,mxObjectCodec.prototype.reverse=null,mxObjectCodec.prototype.getName=function(){return mxUtils.getFunctionName(this.template.constructor)},mxObjectCodec.prototype.cloneTemplate=function(){return new this.template.constructor},mxObjectCodec.prototype.getFieldName=function(t){if(null!=t){var e=this.reverse[t];null!=e&&(t=e)}return t},mxObjectCodec.prototype.getAttributeName=function(t){if(null!=t){var e=this.mapping[t];null!=e&&(t=e)}return t},mxObjectCodec.prototype.isExcluded=function(t,e,i,n){return e==mxObjectIdentity.FIELD_NAME||mxUtils.indexOf(this.exclude,e)>=0},mxObjectCodec.prototype.isReference=function(t,e,i,n){return mxUtils.indexOf(this.idrefs,e)>=0},mxObjectCodec.prototype.encode=function(t,e){var i=t.document.createElement(this.getName());return e=this.beforeEncode(t,e,i),this.encodeObject(t,e,i),this.afterEncode(t,e,i)},mxObjectCodec.prototype.encodeObject=function(t,e,i){for(var n in t.setAttribute(i,"id",t.getId(e)),e){var r=n,o=e[r];null==o||this.isExcluded(e,r,o,!0)||(mxUtils.isInteger(r)&&(r=null),this.encodeValue(t,e,r,o,i))}},mxObjectCodec.prototype.encodeValue=function(t,e,i,n,r){if(null!=n){if(this.isReference(e,i,n,!0)){var o=t.getId(n);if(null==o)return void mxLog.warn("mxObjectCodec.encode: No ID for "+this.getName()+"."+i+"="+n);n=o}var s=this.template[i];(null==i||t.encodeDefaults||s!=n)&&(i=this.getAttributeName(i),this.writeAttribute(t,e,i,n,r))}},mxObjectCodec.prototype.writeAttribute=function(t,e,i,n,r){"object"!=typeof n?this.writePrimitiveAttribute(t,e,i,n,r):this.writeComplexAttribute(t,e,i,n,r)},mxObjectCodec.prototype.writePrimitiveAttribute=function(t,e,i,n,r){if(n=this.convertAttributeToXml(t,e,i,n,r),null==i){var o=t.document.createElement("add");"function"==typeof n?o.appendChild(t.document.createTextNode(n)):t.setAttribute(o,"value",n),r.appendChild(o)}else"function"!=typeof n&&t.setAttribute(r,i,n)},mxObjectCodec.prototype.writeComplexAttribute=function(t,e,i,n,r){var o=t.encode(n);null!=o?(null!=i&&o.setAttribute("as",i),r.appendChild(o)):mxLog.warn("mxObjectCodec.encode: No node for "+this.getName()+"."+i+": "+n)},mxObjectCodec.prototype.convertAttributeToXml=function(t,e,i,n){return this.isBooleanAttribute(t,e,i,n)&&(n=1==n?"1":"0"),n},mxObjectCodec.prototype.isBooleanAttribute=function(t,e,i,n){return void 0===n.length&&(1==n||0==n)},mxObjectCodec.prototype.convertAttributeFromXml=function(t,e,i){var n=e.value;return this.isNumericAttribute(t,e,i)&&(n=parseFloat(n),!isNaN(n)&&isFinite(n)||(n=0)),n},mxObjectCodec.prototype.isNumericAttribute=function(t,e,i){return i.constructor==mxGeometry&&("x"==e.name||"y"==e.name||"width"==e.name||"height"==e.name)||i.constructor==mxPoint&&("x"==e.name||"y"==e.name)||mxUtils.isNumeric(e.value)},mxObjectCodec.prototype.beforeEncode=function(t,e,i){return e},mxObjectCodec.prototype.afterEncode=function(t,e,i){return i},mxObjectCodec.prototype.decode=function(t,e,i){var n=e.getAttribute("id"),r=t.objects[n];return null==r&&(r=i||this.cloneTemplate(),null!=n&&t.putObject(n,r)),e=this.beforeDecode(t,e,r),this.decodeNode(t,e,r),this.afterDecode(t,e,r)},mxObjectCodec.prototype.decodeNode=function(t,e,i){null!=e&&(this.decodeAttributes(t,e,i),this.decodeChildren(t,e,i))},mxObjectCodec.prototype.decodeAttributes=function(t,e,i){var n=e.attributes;if(null!=n)for(var r=0;r<n.length;r++)this.decodeAttribute(t,n[r],i)},mxObjectCodec.prototype.isIgnoredAttribute=function(t,e,i){return"as"==e.nodeName||"id"==e.nodeName},mxObjectCodec.prototype.decodeAttribute=function(t,e,i){if(!this.isIgnoredAttribute(t,e,i)){var n=e.nodeName,r=this.convertAttributeFromXml(t,e,i),o=this.getFieldName(n);if(this.isReference(i,o,r,!1)){var s=t.getObject(r);if(null==s)return void mxLog.warn("mxObjectCodec.decode: No object for "+this.getName()+"."+n+"="+r);r=s}this.isExcluded(i,n,r,!1)||(i[n]=r)}},mxObjectCodec.prototype.decodeChildren=function(t,e,i){for(var n=e.firstChild;null!=n;){var r=n.nextSibling;n.nodeType!=mxConstants.NODETYPE_ELEMENT||this.processInclude(t,n,i)||this.decodeChild(t,n,i),n=r}},mxObjectCodec.prototype.decodeChild=function(t,e,i){var n=this.getFieldName(e.getAttribute("as"));if(null==n||!this.isExcluded(i,n,e,!1)){var r=this.getFieldTemplate(i,n,e),o=null;"add"==e.nodeName?null==(o=e.getAttribute("value"))&&mxObjectCodec.allowEval&&(o=mxUtils.eval(mxUtils.getTextContent(e))):o=t.decode(e,r);try{this.addObjectValue(i,n,o,r)}catch(t){throw new Error(t.message+" for "+e.nodeName)}}},mxObjectCodec.prototype.getFieldTemplate=function(t,e,i){var n=t[e];return n instanceof Array&&n.length>0&&(n=null),n},mxObjectCodec.prototype.addObjectValue=function(t,e,i,n){null!=i&&i!=n&&(null!=e&&e.length>0?t[e]=i:t.push(i))},mxObjectCodec.prototype.processInclude=function(t,e,i){if("include"==e.nodeName){var n=e.getAttribute("name");if(null!=n)try{var r=mxUtils.load(n).getDocumentElement();null!=r&&t.decode(r,i)}catch(t){}return!0}return!1},mxObjectCodec.prototype.beforeDecode=function(t,e,i){return e},mxObjectCodec.prototype.afterDecode=function(t,e,i){return i},__mxOutput.mxObjectCodec=void 0!==mxObjectCodec?mxObjectCodec:void 0,mxCodecRegistry.register((codec=new mxObjectCodec(new mxCell,["children","edges","overlays","mxTransient"],["parent","source","target"]),codec.isCellCodec=function(){return!0},codec.isNumericAttribute=function(t,e,i){return"value"!==e.nodeName&&mxObjectCodec.prototype.isNumericAttribute.apply(this,arguments)},codec.isExcluded=function(t,e,i,n){return mxObjectCodec.prototype.isExcluded.apply(this,arguments)||n&&"value"==e&&i.nodeType==mxConstants.NODETYPE_ELEMENT},codec.afterEncode=function(t,e,i){if(null!=e.value&&e.value.nodeType==mxConstants.NODETYPE_ELEMENT){var n=i;(i=mxUtils.importNode(t.document,e.value,!0)).appendChild(n);var r=n.getAttribute("id");i.setAttribute("id",r),n.removeAttribute("id")}return i},codec.beforeDecode=function(t,e,i){var n=e.cloneNode(!0),r=this.getName();if(e.nodeName!=r){var o=e.getElementsByTagName(r)[0];null!=o&&o.parentNode==e?(mxUtils.removeWhitespace(o,!0),mxUtils.removeWhitespace(o,!1),o.parentNode.removeChild(o),n=o):n=null,i.value=e.cloneNode(!0);var s=i.value.getAttribute("id");null!=s&&(i.setId(s),i.value.removeAttribute("id"))}else i.setId(e.getAttribute("id"));if(null!=n)for(var a=0;a<this.idrefs.length;a++){var l=this.idrefs[a],h=n.getAttribute(l);if(null!=h){n.removeAttribute(l);var u=t.objects[h]||t.lookup(h);if(null==u){var c=t.getElementById(h);null!=c&&(u=(mxCodecRegistry.codecs[c.nodeName]||this).decode(t,c))}i[l]=u}}return n},codec)),__mxOutput.mxCellCodec="undefined"!=typeof mxCellCodec?mxCellCodec:void 0,mxCodecRegistry.register(function(){var t=new mxObjectCodec(new mxGraphModel);return t.encodeObject=function(t,e,i){var n=t.document.createElement("root");t.encodeCell(e.getRoot(),n),i.appendChild(n)},t.decodeChild=function(t,e,i){"root"==e.nodeName?this.decodeRoot(t,e,i):mxObjectCodec.prototype.decodeChild.apply(this,arguments)},t.decodeRoot=function(t,e,i){for(var n=null,r=e.firstChild;null!=r;){var o=t.decodeCell(r);null!=o&&null==o.getParent()&&(n=o),r=r.nextSibling}null!=n&&i.setRoot(n)},t}()),__mxOutput.mxModelCodec="undefined"!=typeof mxModelCodec?mxModelCodec:void 0,mxCodecRegistry.register(function(){var t=new mxObjectCodec(new mxRootChange,["model","previous","root"]);return t.afterEncode=function(t,e,i){return t.encodeCell(e.root,i),i},t.beforeDecode=function(t,e,i){if(null!=e.firstChild&&e.firstChild.nodeType==mxConstants.NODETYPE_ELEMENT){var n=(e=e.cloneNode(!0)).firstChild;i.root=t.decodeCell(n,!1);var r=n.nextSibling;for(n.parentNode.removeChild(n),n=r;null!=n;)r=n.nextSibling,t.decodeCell(n),n.parentNode.removeChild(n),n=r}return e},t.afterDecode=function(t,e,i){return i.previous=i.root,i},t}()),__mxOutput.mxRootChangeCodec="undefined"!=typeof mxRootChangeCodec?mxRootChangeCodec:void 0,mxCodecRegistry.register(function(){var t=new mxObjectCodec(new mxChildChange,["model","child","previousIndex"],["parent","previous"]);return t.isReference=function(t,e,i,n){return!("child"!=e||n&&!t.model.contains(t.previous))||mxUtils.indexOf(this.idrefs,e)>=0},t.isExcluded=function(t,e,i,n){return mxObjectCodec.prototype.isExcluded.apply(this,arguments)||n&&null!=i&&("previous"==e||"parent"==e)&&!t.model.contains(i)},t.afterEncode=function(t,e,i){return this.isReference(e,"child",e.child,!0)?i.setAttribute("child",t.getId(e.child)):t.encodeCell(e.child,i),i},t.beforeDecode=function(t,e,i){if(null!=e.firstChild&&e.firstChild.nodeType==mxConstants.NODETYPE_ELEMENT){var n=(e=e.cloneNode(!0)).firstChild;i.child=t.decodeCell(n,!1);var r=n.nextSibling;for(n.parentNode.removeChild(n),n=r;null!=n;){if(r=n.nextSibling,n.nodeType==mxConstants.NODETYPE_ELEMENT){var o=n.getAttribute("id");null==t.lookup(o)&&t.decodeCell(n)}n.parentNode.removeChild(n),n=r}}else{var s=e.getAttribute("child");i.child=t.getObject(s)}return e},t.afterDecode=function(t,e,i){return null!=i.child&&(null!=i.child.parent&&null!=i.previous&&i.child.parent!=i.previous&&(i.previous=i.child.parent),i.child.parent=i.previous,i.previous=i.parent,i.previousIndex=i.index),i},t}()),__mxOutput.mxChildChangeCodec="undefined"!=typeof mxChildChangeCodec?mxChildChangeCodec:void 0,mxCodecRegistry.register(function(){var t=new mxObjectCodec(new mxTerminalChange,["model","previous"],["cell","terminal"]);return t.afterDecode=function(t,e,i){return i.previous=i.terminal,i},t}()),__mxOutput.mxTerminalChangeCodec="undefined"!=typeof mxTerminalChangeCodec?mxTerminalChangeCodec:void 0;var mxGenericChangeCodec=function(t,e){var i=new mxObjectCodec(t,["model","previous"],["cell"]);return i.afterDecode=function(t,i,n){return mxUtils.isNode(n.cell)&&(n.cell=t.decodeCell(n.cell,!1)),n.previous=n[e],n},i};mxCodecRegistry.register(mxGenericChangeCodec(new mxValueChange,"value")),mxCodecRegistry.register(mxGenericChangeCodec(new mxStyleChange,"style")),mxCodecRegistry.register(mxGenericChangeCodec(new mxGeometryChange,"geometry")),mxCodecRegistry.register(mxGenericChangeCodec(new mxCollapseChange,"collapsed")),mxCodecRegistry.register(mxGenericChangeCodec(new mxVisibleChange,"visible")),mxCodecRegistry.register(mxGenericChangeCodec(new mxCellAttributeChange,"value")),__mxOutput.mxGenericChangeCodec=void 0!==mxGenericChangeCodec?mxGenericChangeCodec:void 0,mxCodecRegistry.register(new mxObjectCodec(new mxGraph,["graphListeners","eventListeners","view","container","cellRenderer","editor","selection"])),__mxOutput.mxGraphCodec="undefined"!=typeof mxGraphCodec?mxGraphCodec:void 0,mxCodecRegistry.register(function(){var t=new mxObjectCodec(new mxGraphView);return t.encode=function(t,e){return this.encodeCell(t,e,e.graph.getModel().getRoot())},t.encodeCell=function(t,e,i){var n=e.graph.getModel(),r=e.getState(i),o=n.getParent(i);if(null==o||null!=r){var s=n.getChildCount(i),a=e.graph.getCellGeometry(i),l=null;if(o==n.getRoot()?l="layer":null==o?l="graph":n.isEdge(i)?l="edge":s>0&&null!=a?l="group":n.isVertex(i)&&(l="vertex"),null!=l){var h=t.document.createElement(l);if(null!=e.graph.getLabel(i)&&(h.setAttribute("label",e.graph.getLabel(i)),e.graph.isHtmlLabel(i)&&h.setAttribute("html",!0)),null==o){var u=e.getGraphBounds();null!=u&&(h.setAttribute("x",Math.round(u.x)),h.setAttribute("y",Math.round(u.y)),h.setAttribute("width",Math.round(u.width)),h.setAttribute("height",Math.round(u.height))),h.setAttribute("scale",e.scale)}else if(null!=r&&null!=a){for(var c in r.style){var d=r.style[c];"function"==typeof d&&"object"==typeof d&&(d=mxStyleRegistry.getName(d)),null!=d&&"function"!=typeof d&&"object"!=typeof d&&h.setAttribute(c,d)}var p=r.absolutePoints;if(null!=p&&p.length>0){var f=Math.round(p[0].x)+","+Math.round(p[0].y);for(c=1;c<p.length;c++)f+=" "+Math.round(p[c].x)+","+Math.round(p[c].y);h.setAttribute("points",f)}else h.setAttribute("x",Math.round(r.x)),h.setAttribute("y",Math.round(r.y)),h.setAttribute("width",Math.round(r.width)),h.setAttribute("height",Math.round(r.height));var m=r.absoluteOffset;null!=m&&(0!=m.x&&h.setAttribute("dx",Math.round(m.x)),0!=m.y&&h.setAttribute("dy",Math.round(m.y)))}for(c=0;c<s;c++){var g=this.encodeCell(t,e,n.getChildAt(i,c));null!=g&&h.appendChild(g)}}}return h},t}()),__mxOutput.mxGraphViewCodec="undefined"!=typeof mxGraphViewCodec?mxGraphViewCodec:void 0;var mxStylesheetCodec=mxCodecRegistry.register(function(){var t=new mxObjectCodec(new mxStylesheet);return t.encode=function(t,e){var i=t.document.createElement(this.getName());for(var n in e.styles){var r=e.styles[n],o=t.document.createElement("add");if(null!=n){for(var s in o.setAttribute("as",n),r){var a=this.getStringValue(s,r[s]);if(null!=a){var l=t.document.createElement("add");l.setAttribute("value",a),l.setAttribute("as",s),o.appendChild(l)}}o.childNodes.length>0&&i.appendChild(o)}}return i},t.getStringValue=function(t,e){var i=typeof e;return"function"==i?e=mxStyleRegistry.getName(e):"object"==i&&(e=null),e},t.decode=function(t,e,i){var n=i||new this.template.constructor,r=e.getAttribute("id");for(null!=r&&(t.objects[r]=n),e=e.firstChild;null!=e;){if(!this.processInclude(t,e,n)&&"add"==e.nodeName){var o=e.getAttribute("as");if(null!=o){var s=e.getAttribute("extend"),a=null!=s?mxUtils.clone(n.styles[s]):null;null==a&&(null!=s&&mxLog.warn("mxStylesheetCodec.decode: stylesheet "+s+" not found to extend"),a=new Object);for(var l=e.firstChild;null!=l;){if(l.nodeType==mxConstants.NODETYPE_ELEMENT){var h=l.getAttribute("as");if("add"==l.nodeName){var u=mxUtils.getTextContent(l),c=null;null!=u&&u.length>0&&mxStylesheetCodec.allowEval?c=mxUtils.eval(u):(c=l.getAttribute("value"),mxUtils.isNumeric(c)&&(c=parseFloat(c))),null!=c&&(a[h]=c)}else"remove"==l.nodeName&&delete a[h]}l=l.nextSibling}n.putCellStyle(o,a)}}e=e.nextSibling}return n},t}());mxStylesheetCodec.allowEval=!0,__mxOutput.mxStylesheetCodec=void 0!==mxStylesheetCodec?mxStylesheetCodec:void 0,mxCodecRegistry.register(function(){var t=new mxObjectCodec(new mxDefaultKeyHandler);return t.encode=function(t,e){return null},t.decode=function(t,e,i){if(null!=i){i.editor;for(e=e.firstChild;null!=e;){if(!this.processInclude(t,e,i)&&"add"==e.nodeName){var n=e.getAttribute("as"),r=e.getAttribute("action"),o=e.getAttribute("control");i.bindAction(n,r,o)}e=e.nextSibling}}return i},t}()),__mxOutput.mxDefaultKeyHandlerCodec="undefined"!=typeof mxDefaultKeyHandlerCodec?mxDefaultKeyHandlerCodec:void 0;var mxDefaultToolbarCodec=mxCodecRegistry.register(function(){var t=new mxObjectCodec(new mxDefaultToolbar);return t.encode=function(t,e){return null},t.decode=function(t,e,i){if(null!=i){var n=i.editor;for(e=e.firstChild;null!=e;){if(e.nodeType==mxConstants.NODETYPE_ELEMENT&&!this.processInclude(t,e,i))if("separator"==e.nodeName)i.addSeparator();else if("br"==e.nodeName)i.toolbar.addBreak();else if("hr"==e.nodeName)i.toolbar.addLine();else if("add"==e.nodeName){var r=e.getAttribute("as");r=mxResources.get(r)||r;var o=e.getAttribute("icon"),s=e.getAttribute("pressedIcon"),a=e.getAttribute("action"),l=e.getAttribute("mode"),h=e.getAttribute("template"),u="0"!=e.getAttribute("toggle"),c=mxUtils.getTextContent(e),d=null;if(null!=a)d=i.addItem(r,o,a,s);else if(null!=l){var p=mxDefaultToolbarCodec.allowEval?mxUtils.eval(c):null;d=i.addMode(r,o,l,s,p)}else if(null!=h||null!=c&&c.length>0){var f=n.templates[h],m=e.getAttribute("style");null!=f&&null!=m&&(f=n.graph.cloneCell(f)).setStyle(m);var g=null;null!=c&&c.length>0&&mxDefaultToolbarCodec.allowEval&&(g=mxUtils.eval(c)),d=i.addPrototype(r,o,f,s,g,u)}else{var v=mxUtils.getChildNodes(e);if(v.length>0)if(null==o)for(var A=i.addActionCombo(r),y=0;y<v.length;y++){if("separator"==(E=v[y]).nodeName)i.addOption(A,"---");else if("add"==E.nodeName){var x=E.getAttribute("as"),b=E.getAttribute("action");i.addActionOption(A,x,b)}}else{var C=null,w=i.addPrototype(r,o,function(){var t=n.templates[C.value];if(null!=t){var e=t.clone(),i=C.options[C.selectedIndex].cellStyle;return null!=i&&e.setStyle(i),e}return mxLog.warn("Template "+t+" not found"),null},null,null,u);C=i.addCombo(),mxEvent.addListener(C,"change",function(){i.toolbar.selectMode(w,function(t){var e=mxUtils.convertPoint(n.graph.container,mxEvent.getClientX(t),mxEvent.getClientY(t));return n.addVertex(null,p(),e.x,e.y)}),i.toolbar.noReset=!1});for(y=0;y<v.length;y++){var E;if("separator"==(E=v[y]).nodeName)i.addOption(C,"---");else if("add"==E.nodeName){x=E.getAttribute("as");var S=E.getAttribute("template");i.addOption(C,x,S||h).cellStyle=E.getAttribute("style")}}}}if(null!=d){var T=e.getAttribute("id");null!=T&&T.length>0&&d.setAttribute("id",T)}}e=e.nextSibling}}return i},t}());return mxDefaultToolbarCodec.allowEval=!0,__mxOutput.mxDefaultToolbarCodec=void 0!==mxDefaultToolbarCodec?mxDefaultToolbarCodec:void 0,mxCodecRegistry.register(function(){var t=new mxObjectCodec(new mxDefaultPopupMenu);return t.encode=function(t,e){return null},t.decode=function(t,e,i){var n=e.getElementsByTagName("include")[0];return null!=n?this.processInclude(t,n,i):null!=i&&(i.config=e),i},t}()),__mxOutput.mxDefaultPopupMenuCodec="undefined"!=typeof mxDefaultPopupMenuCodec?mxDefaultPopupMenuCodec:void 0,mxCodecRegistry.register(function(){var t=new mxObjectCodec(new mxEditor,["modified","lastSnapshot","ignoredChanges","undoManager","graphContainer","toolbarContainer"]);return t.afterDecode=function(t,e,i){var n=e.getAttribute("defaultEdge");null!=n&&(e.removeAttribute("defaultEdge"),i.defaultEdge=i.templates[n]);var r=e.getAttribute("defaultGroup");return null!=r&&(e.removeAttribute("defaultGroup"),i.defaultGroup=i.templates[r]),i},t.decodeChild=function(t,e,i){if("Array"==e.nodeName){if("templates"==e.getAttribute("as"))return void this.decodeTemplates(t,e,i)}else if("ui"==e.nodeName)return void this.decodeUi(t,e,i);mxObjectCodec.prototype.decodeChild.apply(this,arguments)},t.decodeUi=function(t,e,i){for(var n=e.firstChild;null!=n;){if("add"==n.nodeName){var r=n.getAttribute("as"),o=n.getAttribute("element"),s=n.getAttribute("style"),a=null;if(null!=o)null!=(a=document.getElementById(o))&&null!=s&&(a.style.cssText+=";"+s);else{var l=parseInt(n.getAttribute("x")),h=parseInt(n.getAttribute("y")),u=n.getAttribute("width"),c=n.getAttribute("height");(a=document.createElement("div")).style.cssText=s,new mxWindow(mxResources.get(r)||r,a,l,h,u,c,!1,!0).setVisible(!0)}"graph"==r?i.setGraphContainer(a):"toolbar"==r?i.setToolbarContainer(a):"title"==r?i.setTitleContainer(a):"status"==r?i.setStatusContainer(a):"map"==r&&i.setMapContainer(a)}else"resource"==n.nodeName?mxResources.add(n.getAttribute("basename")):"stylesheet"==n.nodeName&&mxClient.link("stylesheet",n.getAttribute("name"));n=n.nextSibling}},t.decodeTemplates=function(t,e,i){null==i.templates&&(i.templates=[]);for(var n=mxUtils.getChildNodes(e),r=0;r<n.length;r++){for(var o=n[r].getAttribute("as"),s=n[r].firstChild;null!=s&&1!=s.nodeType;)s=s.nextSibling;null!=s&&(i.templates[o]=t.decodeCell(s))}},t}()),__mxOutput.mxEditorCodec="undefined"!=typeof mxEditorCodec?mxEditorCodec:void 0,__mxOutput}},__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"1kS7":function(t,e){e.f=Object.getOwnPropertySymbols},"1oZe":function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t){return{methods:{focus:function(){this.$refs[t].focus()}}}}},"2kvA":function(t,e,i){"use strict";e.__esModule=!0,e.isInContainer=e.getScrollContainer=e.isScroll=e.getStyle=e.once=e.off=e.on=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.hasClass=f,e.addClass=function(t,e){if(!t)return;for(var i=t.className,n=(e||"").split(" "),r=0,o=n.length;r<o;r++){var s=n[r];s&&(t.classList?t.classList.add(s):f(t,s)||(i+=" "+s))}t.classList||(t.className=i)},e.removeClass=function(t,e){if(!t||!e)return;for(var i=e.split(" "),n=" "+t.className+" ",r=0,o=i.length;r<o;r++){var s=i[r];s&&(t.classList?t.classList.remove(s):f(t,s)&&(n=n.replace(" "+s+" "," ")))}t.classList||(t.className=u(n))},e.setStyle=function t(e,i,r){if(!e||!i)return;if("object"===(void 0===i?"undefined":n(i)))for(var o in i)i.hasOwnProperty(o)&&t(e,o,i[o]);else"opacity"===(i=c(i))&&h<9?e.style.filter=isNaN(r)?"":"alpha(opacity="+100*r+")":e.style[i]=r};var r,o=i("7+uW");var s=((r=o)&&r.__esModule?r:{default:r}).default.prototype.$isServer,a=/([\:\-\_]+(.))/g,l=/^moz([A-Z])/,h=s?0:Number(document.documentMode),u=function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},c=function(t){return t.replace(a,function(t,e,i,n){return n?i.toUpperCase():i}).replace(l,"Moz$1")},d=e.on=!s&&document.addEventListener?function(t,e,i){t&&e&&i&&t.addEventListener(e,i,!1)}:function(t,e,i){t&&e&&i&&t.attachEvent("on"+e,i)},p=e.off=!s&&document.removeEventListener?function(t,e,i){t&&e&&t.removeEventListener(e,i,!1)}:function(t,e,i){t&&e&&t.detachEvent("on"+e,i)};e.once=function(t,e,i){d(t,e,function n(){i&&i.apply(this,arguments),p(t,e,n)})};function f(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}var m=e.getStyle=h<9?function(t,e){if(!s){if(!t||!e)return null;"float"===(e=c(e))&&(e="styleFloat");try{switch(e){case"opacity":try{return t.filters.item("alpha").opacity/100}catch(t){return 1}default:return t.style[e]||t.currentStyle?t.currentStyle[e]:null}}catch(i){return t.style[e]}}}:function(t,e){if(!s){if(!t||!e)return null;"float"===(e=c(e))&&(e="cssFloat");try{var i=document.defaultView.getComputedStyle(t,"");return t.style[e]||i?i[e]:null}catch(i){return t.style[e]}}};var g=e.isScroll=function(t,e){if(!s)return m(t,null!==e||void 0!==e?e?"overflow-y":"overflow-x":"overflow").match(/(scroll|auto)/)};e.getScrollContainer=function(t,e){if(!s){for(var i=t;i;){if([window,document,document.documentElement].includes(i))return window;if(g(i,e))return i;i=i.parentNode}return i}},e.isInContainer=function(t,e){if(s||!t||!e)return!1;var i=t.getBoundingClientRect(),n=void 0;return n=[window,document,document.documentElement,null,void 0].includes(e)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:e.getBoundingClientRect(),i.top<n.bottom&&i.bottom>n.top&&i.right>n.left&&i.left<n.right}},"3Eo+":function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},"3fo+":function(t,e,i){t.exports=i("YAhB")},"3fs2":function(t,e,i){var n=i("RY/4"),r=i("dSzd")("iterator"),o=i("/bQp");t.exports=i("FeBl").getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[n(t)]}},"4mcu":function(t,e){t.exports=function(){}},"52gC":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"5QVw":function(t,e,i){t.exports={default:i("BwfY"),__esModule:!0}},"5zde":function(t,e,i){i("zQR9"),i("qyJz"),t.exports=i("FeBl").Array.from},"6Twh":function(t,e,i){"use strict";e.__esModule=!0,e.default=function(){if(o.default.prototype.$isServer)return 0;if(void 0!==s)return s;var t=document.createElement("div");t.className="el-scrollbar__wrap",t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",t.appendChild(i);var n=i.offsetWidth;return t.parentNode.removeChild(t),s=e-n};var n,r=i("7+uW"),o=(n=r)&&n.__esModule?n:{default:n};var s=void 0},"7+uW":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){
/*!
 * Vue.js v2.5.17
 * (c) 2014-2018 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({});function n(t){return void 0===t||null===t}function r(t){return void 0!==t&&null!==t}function o(t){return!0===t}function s(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function a(t){return null!==t&&"object"==typeof t}var l=Object.prototype.toString;function h(t){return"[object Object]"===l.call(t)}function u(t){return"[object RegExp]"===l.call(t)}function c(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function d(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function p(t){var e=parseFloat(t);return isNaN(e)?t:e}function f(t,e){for(var i=Object.create(null),n=t.split(","),r=0;r<n.length;r++)i[n[r]]=!0;return e?function(t){return i[t.toLowerCase()]}:function(t){return i[t]}}var m=f("slot,component",!0),g=f("key,ref,slot,slot-scope,is");function v(t,e){if(t.length){var i=t.indexOf(e);if(i>-1)return t.splice(i,1)}}var A=Object.prototype.hasOwnProperty;function y(t,e){return A.call(t,e)}function x(t){var e=Object.create(null);return function(i){return e[i]||(e[i]=t(i))}}var b=/-(\w)/g,C=x(function(t){return t.replace(b,function(t,e){return e?e.toUpperCase():""})}),w=x(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),E=/\B([A-Z])/g,S=x(function(t){return t.replace(E,"-$1").toLowerCase()});var T=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function i(i){var n=arguments.length;return n?n>1?t.apply(e,arguments):t.call(e,i):t.call(e)}return i._length=t.length,i};function _(t,e){e=e||0;for(var i=t.length-e,n=new Array(i);i--;)n[i]=t[i+e];return n}function M(t,e){for(var i in e)t[i]=e[i];return t}function k(t){for(var e={},i=0;i<t.length;i++)t[i]&&M(e,t[i]);return e}function B(t,e,i){}var O=function(t,e,i){return!1},P=function(t){return t};function L(t,e){if(t===e)return!0;var i=a(t),n=a(e);if(!i||!n)return!i&&!n&&String(t)===String(e);try{var r=Array.isArray(t),o=Array.isArray(e);if(r&&o)return t.length===e.length&&t.every(function(t,i){return L(t,e[i])});if(r||o)return!1;var s=Object.keys(t),l=Object.keys(e);return s.length===l.length&&s.every(function(i){return L(t[i],e[i])})}catch(t){return!1}}function N(t,e){for(var i=0;i<t.length;i++)if(L(t[i],e))return i;return-1}function I(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var D="data-server-rendered",R=["component","directive","filter"],F=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],H={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:O,isReservedAttr:O,isUnknownElement:O,getTagNamespace:B,parsePlatformTagName:P,mustUseProp:O,_lifecycleHooks:F};function U(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function V(t,e,i,n){Object.defineProperty(t,e,{value:i,enumerable:!!n,writable:!0,configurable:!0})}var j=/[^\w.$]/;var G,z="__proto__"in{},Q="undefined"!=typeof window,Y="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,K=Y&&WXEnvironment.platform.toLowerCase(),X=Q&&window.navigator.userAgent.toLowerCase(),$=X&&/msie|trident/.test(X),W=X&&X.indexOf("msie 9.0")>0,q=X&&X.indexOf("edge/")>0,J=(X&&X.indexOf("android"),X&&/iphone|ipad|ipod|ios/.test(X)||"ios"===K),Z=(X&&/chrome\/\d+/.test(X),{}.watch),tt=!1;if(Q)try{var et={};Object.defineProperty(et,"passive",{get:function(){tt=!0}}),window.addEventListener("test-passive",null,et)}catch(t){}var it=function(){return void 0===G&&(G=!Q&&!Y&&void 0!==t&&"server"===t.process.env.VUE_ENV),G},nt=Q&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function rt(t){return"function"==typeof t&&/native code/.test(t.toString())}var ot,st="undefined"!=typeof Symbol&&rt(Symbol)&&"undefined"!=typeof Reflect&&rt(Reflect.ownKeys);ot="undefined"!=typeof Set&&rt(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var at=B,lt=0,ht=function(){this.id=lt++,this.subs=[]};ht.prototype.addSub=function(t){this.subs.push(t)},ht.prototype.removeSub=function(t){v(this.subs,t)},ht.prototype.depend=function(){ht.target&&ht.target.addDep(this)},ht.prototype.notify=function(){for(var t=this.subs.slice(),e=0,i=t.length;e<i;e++)t[e].update()},ht.target=null;var ut=[];function ct(t){ht.target&&ut.push(ht.target),ht.target=t}function dt(){ht.target=ut.pop()}var pt=function(t,e,i,n,r,o,s,a){this.tag=t,this.data=e,this.children=i,this.text=n,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},ft={child:{configurable:!0}};ft.child.get=function(){return this.componentInstance},Object.defineProperties(pt.prototype,ft);var mt=function(t){void 0===t&&(t="");var e=new pt;return e.text=t,e.isComment=!0,e};function gt(t){return new pt(void 0,void 0,void 0,String(t))}function vt(t){var e=new pt(t.tag,t.data,t.children,t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.isCloned=!0,e}var At=Array.prototype,yt=Object.create(At);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=At[t];V(yt,t,function(){for(var i=[],n=arguments.length;n--;)i[n]=arguments[n];var r,o=e.apply(this,i),s=this.__ob__;switch(t){case"push":case"unshift":r=i;break;case"splice":r=i.slice(2)}return r&&s.observeArray(r),s.dep.notify(),o})});var xt=Object.getOwnPropertyNames(yt),bt=!0;function Ct(t){bt=t}var wt=function(t){(this.value=t,this.dep=new ht,this.vmCount=0,V(t,"__ob__",this),Array.isArray(t))?((z?Et:St)(t,yt,xt),this.observeArray(t)):this.walk(t)};function Et(t,e,i){t.__proto__=e}function St(t,e,i){for(var n=0,r=i.length;n<r;n++){var o=i[n];V(t,o,e[o])}}function Tt(t,e){var i;if(a(t)&&!(t instanceof pt))return y(t,"__ob__")&&t.__ob__ instanceof wt?i=t.__ob__:bt&&!it()&&(Array.isArray(t)||h(t))&&Object.isExtensible(t)&&!t._isVue&&(i=new wt(t)),e&&i&&i.vmCount++,i}function _t(t,e,i,n,r){var o=new ht,s=Object.getOwnPropertyDescriptor(t,e);if(!s||!1!==s.configurable){var a=s&&s.get;a||2!==arguments.length||(i=t[e]);var l=s&&s.set,h=!r&&Tt(i);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):i;return ht.target&&(o.depend(),h&&(h.dep.depend(),Array.isArray(e)&&function t(e){for(var i=void 0,n=0,r=e.length;n<r;n++)(i=e[n])&&i.__ob__&&i.__ob__.dep.depend(),Array.isArray(i)&&t(i)}(e))),e},set:function(e){var n=a?a.call(t):i;e===n||e!=e&&n!=n||(l?l.call(t,e):i=e,h=!r&&Tt(e),o.notify())}})}}function Mt(t,e,i){if(Array.isArray(t)&&c(e))return t.length=Math.max(t.length,e),t.splice(e,1,i),i;if(e in t&&!(e in Object.prototype))return t[e]=i,i;var n=t.__ob__;return t._isVue||n&&n.vmCount?i:n?(_t(n.value,e,i),n.dep.notify(),i):(t[e]=i,i)}function kt(t,e){if(Array.isArray(t)&&c(e))t.splice(e,1);else{var i=t.__ob__;t._isVue||i&&i.vmCount||y(t,e)&&(delete t[e],i&&i.dep.notify())}}wt.prototype.walk=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)_t(t,e[i])},wt.prototype.observeArray=function(t){for(var e=0,i=t.length;e<i;e++)Tt(t[e])};var Bt=H.optionMergeStrategies;function Ot(t,e){if(!e)return t;for(var i,n,r,o=Object.keys(e),s=0;s<o.length;s++)n=t[i=o[s]],r=e[i],y(t,i)?h(n)&&h(r)&&Ot(n,r):Mt(t,i,r);return t}function Pt(t,e,i){return i?function(){var n="function"==typeof e?e.call(i,i):e,r="function"==typeof t?t.call(i,i):t;return n?Ot(n,r):r}:e?t?function(){return Ot("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Lt(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function Nt(t,e,i,n){var r=Object.create(t||null);return e?M(r,e):r}Bt.data=function(t,e,i){return i?Pt(t,e,i):e&&"function"!=typeof e?t:Pt(t,e)},F.forEach(function(t){Bt[t]=Lt}),R.forEach(function(t){Bt[t+"s"]=Nt}),Bt.watch=function(t,e,i,n){if(t===Z&&(t=void 0),e===Z&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};for(var o in M(r,t),e){var s=r[o],a=e[o];s&&!Array.isArray(s)&&(s=[s]),r[o]=s?s.concat(a):Array.isArray(a)?a:[a]}return r},Bt.props=Bt.methods=Bt.inject=Bt.computed=function(t,e,i,n){if(!t)return e;var r=Object.create(null);return M(r,t),e&&M(r,e),r},Bt.provide=Pt;var It=function(t,e){return void 0===e?t:e};function Dt(t,e,i){"function"==typeof e&&(e=e.options),function(t,e){var i=t.props;if(i){var n,r,o={};if(Array.isArray(i))for(n=i.length;n--;)"string"==typeof(r=i[n])&&(o[C(r)]={type:null});else if(h(i))for(var s in i)r=i[s],o[C(s)]=h(r)?r:{type:r};t.props=o}}(e),function(t,e){var i=t.inject;if(i){var n=t.inject={};if(Array.isArray(i))for(var r=0;r<i.length;r++)n[i[r]]={from:i[r]};else if(h(i))for(var o in i){var s=i[o];n[o]=h(s)?M({from:o},s):{from:s}}}}(e),function(t){var e=t.directives;if(e)for(var i in e){var n=e[i];"function"==typeof n&&(e[i]={bind:n,update:n})}}(e);var n=e.extends;if(n&&(t=Dt(t,n,i)),e.mixins)for(var r=0,o=e.mixins.length;r<o;r++)t=Dt(t,e.mixins[r],i);var s,a={};for(s in t)l(s);for(s in e)y(t,s)||l(s);function l(n){var r=Bt[n]||It;a[n]=r(t[n],e[n],i,n)}return a}function Rt(t,e,i,n){if("string"==typeof i){var r=t[e];if(y(r,i))return r[i];var o=C(i);if(y(r,o))return r[o];var s=w(o);return y(r,s)?r[s]:r[i]||r[o]||r[s]}}function Ft(t,e,i,n){var r=e[t],o=!y(i,t),s=i[t],a=Vt(Boolean,r.type);if(a>-1)if(o&&!y(r,"default"))s=!1;else if(""===s||s===S(t)){var l=Vt(String,r.type);(l<0||a<l)&&(s=!0)}if(void 0===s){s=function(t,e,i){if(!y(e,"default"))return;var n=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[i]&&void 0!==t._props[i])return t._props[i];return"function"==typeof n&&"Function"!==Ht(e.type)?n.call(t):n}(n,r,t);var h=bt;Ct(!0),Tt(s),Ct(h)}return s}function Ht(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Ut(t,e){return Ht(t)===Ht(e)}function Vt(t,e){if(!Array.isArray(e))return Ut(e,t)?0:-1;for(var i=0,n=e.length;i<n;i++)if(Ut(e[i],t))return i;return-1}function jt(t,e,i){if(e)for(var n=e;n=n.$parent;){var r=n.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{if(!1===r[o].call(n,t,e,i))return}catch(t){Gt(t,n,"errorCaptured hook")}}Gt(t,e,i)}function Gt(t,e,i){if(H.errorHandler)try{return H.errorHandler.call(null,t,e,i)}catch(t){zt(t,null,"config.errorHandler")}zt(t,e,i)}function zt(t,e,i){if(!Q&&!Y||"undefined"==typeof console)throw t;console.error(t)}var Qt,Yt,Kt=[],Xt=!1;function $t(){Xt=!1;var t=Kt.slice(0);Kt.length=0;for(var e=0;e<t.length;e++)t[e]()}var Wt=!1;if("undefined"!=typeof setImmediate&&rt(setImmediate))Yt=function(){setImmediate($t)};else if("undefined"==typeof MessageChannel||!rt(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())Yt=function(){setTimeout($t,0)};else{var qt=new MessageChannel,Jt=qt.port2;qt.port1.onmessage=$t,Yt=function(){Jt.postMessage(1)}}if("undefined"!=typeof Promise&&rt(Promise)){var Zt=Promise.resolve();Qt=function(){Zt.then($t),J&&setTimeout(B)}}else Qt=Yt;function te(t,e){var i;if(Kt.push(function(){if(t)try{t.call(e)}catch(t){jt(t,e,"nextTick")}else i&&i(e)}),Xt||(Xt=!0,Wt?Yt():Qt()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){i=t})}var ee=new ot;function ie(t){!function t(e,i){var n,r;var o=Array.isArray(e);if(!o&&!a(e)||Object.isFrozen(e)||e instanceof pt)return;if(e.__ob__){var s=e.__ob__.dep.id;if(i.has(s))return;i.add(s)}if(o)for(n=e.length;n--;)t(e[n],i);else for(r=Object.keys(e),n=r.length;n--;)t(e[r[n]],i)}(t,ee),ee.clear()}var ne,re=x(function(t){var e="&"===t.charAt(0),i="~"===(t=e?t.slice(1):t).charAt(0),n="!"===(t=i?t.slice(1):t).charAt(0);return{name:t=n?t.slice(1):t,once:i,capture:n,passive:e}});function oe(t){function e(){var t=arguments,i=e.fns;if(!Array.isArray(i))return i.apply(null,arguments);for(var n=i.slice(),r=0;r<n.length;r++)n[r].apply(null,t)}return e.fns=t,e}function se(t,e,i,r,o){var s,a,l,h;for(s in t)a=t[s],l=e[s],h=re(s),n(a)||(n(l)?(n(a.fns)&&(a=t[s]=oe(a)),i(h.name,a,h.once,h.capture,h.passive,h.params)):a!==l&&(l.fns=a,t[s]=l));for(s in e)n(t[s])&&r((h=re(s)).name,e[s],h.capture)}function ae(t,e,i){var s;t instanceof pt&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function l(){i.apply(this,arguments),v(s.fns,l)}n(a)?s=oe([l]):r(a.fns)&&o(a.merged)?(s=a).fns.push(l):s=oe([a,l]),s.merged=!0,t[e]=s}function le(t,e,i,n,o){if(r(e)){if(y(e,i))return t[i]=e[i],o||delete e[i],!0;if(y(e,n))return t[i]=e[n],o||delete e[n],!0}return!1}function he(t){return s(t)?[gt(t)]:Array.isArray(t)?function t(e,i){var a=[];var l,h,u,c;for(l=0;l<e.length;l++)n(h=e[l])||"boolean"==typeof h||(u=a.length-1,c=a[u],Array.isArray(h)?h.length>0&&(ue((h=t(h,(i||"")+"_"+l))[0])&&ue(c)&&(a[u]=gt(c.text+h[0].text),h.shift()),a.push.apply(a,h)):s(h)?ue(c)?a[u]=gt(c.text+h):""!==h&&a.push(gt(h)):ue(h)&&ue(c)?a[u]=gt(c.text+h.text):(o(e._isVList)&&r(h.tag)&&n(h.key)&&r(i)&&(h.key="__vlist"+i+"_"+l+"__"),a.push(h)));return a}(t):void 0}function ue(t){return r(t)&&r(t.text)&&!1===t.isComment}function ce(t,e){return(t.__esModule||st&&"Module"===t[Symbol.toStringTag])&&(t=t.default),a(t)?e.extend(t):t}function de(t){return t.isComment&&t.asyncFactory}function pe(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var i=t[e];if(r(i)&&(r(i.componentOptions)||de(i)))return i}}function fe(t,e,i){i?ne.$once(t,e):ne.$on(t,e)}function me(t,e){ne.$off(t,e)}function ge(t,e,i){ne=t,se(e,i||{},fe,me),ne=void 0}function ve(t,e){var i={};if(!t)return i;for(var n=0,r=t.length;n<r;n++){var o=t[n],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==e&&o.fnContext!==e||!s||null==s.slot)(i.default||(i.default=[])).push(o);else{var a=s.slot,l=i[a]||(i[a]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var h in i)i[h].every(Ae)&&delete i[h];return i}function Ae(t){return t.isComment&&!t.asyncFactory||" "===t.text}function ye(t,e){e=e||{};for(var i=0;i<t.length;i++)Array.isArray(t[i])?ye(t[i],e):e[t[i].key]=t[i].fn;return e}var xe=null;function be(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Ce(t,e){if(e){if(t._directInactive=!1,be(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var i=0;i<t.$children.length;i++)Ce(t.$children[i]);we(t,"activated")}}function we(t,e){ct();var i=t.$options[e];if(i)for(var n=0,r=i.length;n<r;n++)try{i[n].call(t)}catch(i){jt(i,t,e+" hook")}t._hasHookEvent&&t.$emit("hook:"+e),dt()}var Ee=[],Se=[],Te={},_e=!1,Me=!1,ke=0;function Be(){var t,e;for(Me=!0,Ee.sort(function(t,e){return t.id-e.id}),ke=0;ke<Ee.length;ke++)e=(t=Ee[ke]).id,Te[e]=null,t.run();var i=Se.slice(),n=Ee.slice();ke=Ee.length=Se.length=0,Te={},_e=Me=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Ce(t[e],!0)}(i),function(t){var e=t.length;for(;e--;){var i=t[e],n=i.vm;n._watcher===i&&n._isMounted&&we(n,"updated")}}(n),nt&&H.devtools&&nt.emit("flush")}var Oe=0,Pe=function(t,e,i,n,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++Oe,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ot,this.newDepIds=new ot,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!j.test(t)){var e=t.split(".");return function(t){for(var i=0;i<e.length;i++){if(!t)return;t=t[e[i]]}return t}}}(e),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};Pe.prototype.get=function(){var t;ct(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;jt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ie(t),dt(),this.cleanupDeps()}return t},Pe.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},Pe.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},Pe.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==Te[e]){if(Te[e]=!0,Me){for(var i=Ee.length-1;i>ke&&Ee[i].id>t.id;)i--;Ee.splice(i+1,0,t)}else Ee.push(t);_e||(_e=!0,te(Be))}}(this)},Pe.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||a(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){jt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},Pe.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Pe.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},Pe.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||v(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var Le={enumerable:!0,configurable:!0,get:B,set:B};function Ne(t,e,i){Le.get=function(){return this[e][i]},Le.set=function(t){this[e][i]=t},Object.defineProperty(t,i,Le)}function Ie(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var i=t.$options.propsData||{},n=t._props={},r=t.$options._propKeys=[];t.$parent&&Ct(!1);var o=function(o){r.push(o);var s=Ft(o,e,i,t);_t(n,o,s),o in t||Ne(t,"_props",o)};for(var s in e)o(s);Ct(!0)}(t,e.props),e.methods&&function(t,e){t.$options.props;for(var i in e)t[i]=null==e[i]?B:T(e[i],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;h(e=t._data="function"==typeof e?function(t,e){ct();try{return t.call(e,e)}catch(t){return jt(t,e,"data()"),{}}finally{dt()}}(e,t):e||{})||(e={});var i=Object.keys(e),n=t.$options.props,r=(t.$options.methods,i.length);for(;r--;){var o=i[r];0,n&&y(n,o)||U(o)||Ne(t,"_data",o)}Tt(e,!0)}(t):Tt(t._data={},!0),e.computed&&function(t,e){var i=t._computedWatchers=Object.create(null),n=it();for(var r in e){var o=e[r],s="function"==typeof o?o:o.get;0,n||(i[r]=new Pe(t,s||B,B,De)),r in t||Re(t,r,o)}}(t,e.computed),e.watch&&e.watch!==Z&&function(t,e){for(var i in e){var n=e[i];if(Array.isArray(n))for(var r=0;r<n.length;r++)He(t,i,n[r]);else He(t,i,n)}}(t,e.watch)}var De={lazy:!0};function Re(t,e,i){var n=!it();"function"==typeof i?(Le.get=n?Fe(e):i,Le.set=B):(Le.get=i.get?n&&!1!==i.cache?Fe(e):i.get:B,Le.set=i.set?i.set:B),Object.defineProperty(t,e,Le)}function Fe(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),ht.target&&e.depend(),e.value}}function He(t,e,i,n){return h(i)&&(n=i,i=i.handler),"string"==typeof i&&(i=t[i]),t.$watch(e,i,n)}function Ue(t,e){if(t){for(var i=Object.create(null),n=st?Reflect.ownKeys(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}):Object.keys(t),r=0;r<n.length;r++){for(var o=n[r],s=t[o].from,a=e;a;){if(a._provided&&y(a._provided,s)){i[o]=a._provided[s];break}a=a.$parent}if(!a)if("default"in t[o]){var l=t[o].default;i[o]="function"==typeof l?l.call(e):l}else 0}return i}}function Ve(t,e){var i,n,o,s,l;if(Array.isArray(t)||"string"==typeof t)for(i=new Array(t.length),n=0,o=t.length;n<o;n++)i[n]=e(t[n],n);else if("number"==typeof t)for(i=new Array(t),n=0;n<t;n++)i[n]=e(n+1,n);else if(a(t))for(s=Object.keys(t),i=new Array(s.length),n=0,o=s.length;n<o;n++)l=s[n],i[n]=e(t[l],l,n);return r(i)&&(i._isVList=!0),i}function je(t,e,i,n){var r,o=this.$scopedSlots[t];if(o)i=i||{},n&&(i=M(M({},n),i)),r=o(i)||e;else{var s=this.$slots[t];s&&(s._rendered=!0),r=s||e}var a=i&&i.slot;return a?this.$createElement("template",{slot:a},r):r}function Ge(t){return Rt(this.$options,"filters",t)||P}function ze(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Qe(t,e,i,n,r){var o=H.keyCodes[e]||i;return r&&n&&!H.keyCodes[e]?ze(r,n):o?ze(o,t):n?S(n)!==e:void 0}function Ye(t,e,i,n,r){if(i)if(a(i)){var o;Array.isArray(i)&&(i=k(i));var s=function(s){if("class"===s||"style"===s||g(s))o=t;else{var a=t.attrs&&t.attrs.type;o=n||H.mustUseProp(e,a,s)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}s in o||(o[s]=i[s],r&&((t.on||(t.on={}))["update:"+s]=function(t){i[s]=t}))};for(var l in i)s(l)}else;return t}function Ke(t,e){var i=this._staticTrees||(this._staticTrees=[]),n=i[t];return n&&!e?n:($e(n=i[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),n)}function Xe(t,e,i){return $e(t,"__once__"+e+(i?"_"+i:""),!0),t}function $e(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]&&"string"!=typeof t[n]&&We(t[n],e+"_"+n,i);else We(t,e,i)}function We(t,e,i){t.isStatic=!0,t.key=e,t.isOnce=i}function qe(t,e){if(e)if(h(e)){var i=t.on=t.on?M({},t.on):{};for(var n in e){var r=i[n],o=e[n];i[n]=r?[].concat(r,o):o}}else;return t}function Je(t){t._o=Xe,t._n=p,t._s=d,t._l=Ve,t._t=je,t._q=L,t._i=N,t._m=Ke,t._f=Ge,t._k=Qe,t._b=Ye,t._v=gt,t._e=mt,t._u=ye,t._g=qe}function Ze(t,e,n,r,s){var a,l=s.options;y(r,"_uid")?(a=Object.create(r))._original=r:(a=r,r=r._original);var h=o(l._compiled),u=!h;this.data=t,this.props=e,this.children=n,this.parent=r,this.listeners=t.on||i,this.injections=Ue(l.inject,r),this.slots=function(){return ve(n,r)},h&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=t.scopedSlots||i),l._scopeId?this._c=function(t,e,i,n){var o=ai(a,t,e,i,n,u);return o&&!Array.isArray(o)&&(o.fnScopeId=l._scopeId,o.fnContext=r),o}:this._c=function(t,e,i,n){return ai(a,t,e,i,n,u)}}function ti(t,e,i,n){var r=vt(t);return r.fnContext=i,r.fnOptions=n,e.slot&&((r.data||(r.data={})).slot=e.slot),r}function ei(t,e){for(var i in e)t[C(i)]=e[i]}Je(Ze.prototype);var ii={init:function(t,e,i,n){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var o=t;ii.prepatch(o,o)}else{(t.componentInstance=function(t,e,i,n){var o={_isComponent:!0,parent:e,_parentVnode:t,_parentElm:i||null,_refElm:n||null},s=t.data.inlineTemplate;r(s)&&(o.render=s.render,o.staticRenderFns=s.staticRenderFns);return new t.componentOptions.Ctor(o)}(t,xe,i,n)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,r,o){var s=!!(o||t.$options._renderChildren||r.data.scopedSlots||t.$scopedSlots!==i);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=o,t.$attrs=r.data.attrs||i,t.$listeners=n||i,e&&t.$options.props){Ct(!1);for(var a=t._props,l=t.$options._propKeys||[],h=0;h<l.length;h++){var u=l[h],c=t.$options.props;a[u]=Ft(u,c,e,t)}Ct(!0),t.$options.propsData=e}n=n||i;var d=t.$options._parentListeners;t.$options._parentListeners=n,ge(t,n,d),s&&(t.$slots=ve(o,r.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e,i=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,we(n,"mounted")),t.data.keepAlive&&(i._isMounted?((e=n)._inactive=!1,Se.push(e)):Ce(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,i){if(!(i&&(e._directInactive=!0,be(e))||e._inactive)){e._inactive=!0;for(var n=0;n<e.$children.length;n++)t(e.$children[n]);we(e,"deactivated")}}(e,!0):e.$destroy())}},ni=Object.keys(ii);function ri(t,e,s,l,h){if(!n(t)){var u=s.$options._base;if(a(t)&&(t=u.extend(t)),"function"==typeof t){var c;if(n(t.cid)&&void 0===(t=function(t,e,i){if(o(t.error)&&r(t.errorComp))return t.errorComp;if(r(t.resolved))return t.resolved;if(o(t.loading)&&r(t.loadingComp))return t.loadingComp;if(!r(t.contexts)){var s=t.contexts=[i],l=!0,h=function(){for(var t=0,e=s.length;t<e;t++)s[t].$forceUpdate()},u=I(function(i){t.resolved=ce(i,e),l||h()}),c=I(function(e){r(t.errorComp)&&(t.error=!0,h())}),d=t(u,c);return a(d)&&("function"==typeof d.then?n(t.resolved)&&d.then(u,c):r(d.component)&&"function"==typeof d.component.then&&(d.component.then(u,c),r(d.error)&&(t.errorComp=ce(d.error,e)),r(d.loading)&&(t.loadingComp=ce(d.loading,e),0===d.delay?t.loading=!0:setTimeout(function(){n(t.resolved)&&n(t.error)&&(t.loading=!0,h())},d.delay||200)),r(d.timeout)&&setTimeout(function(){n(t.resolved)&&c(null)},d.timeout))),l=!1,t.loading?t.loadingComp:t.resolved}t.contexts.push(i)}(c=t,u,s)))return function(t,e,i,n,r){var o=mt();return o.asyncFactory=t,o.asyncMeta={data:e,context:i,children:n,tag:r},o}(c,e,s,l,h);e=e||{},hi(t),r(e.model)&&function(t,e){var i=t.model&&t.model.prop||"value",n=t.model&&t.model.event||"input";(e.props||(e.props={}))[i]=e.model.value;var o=e.on||(e.on={});r(o[n])?o[n]=[e.model.callback].concat(o[n]):o[n]=e.model.callback}(t.options,e);var d=function(t,e,i){var o=e.options.props;if(!n(o)){var s={},a=t.attrs,l=t.props;if(r(a)||r(l))for(var h in o){var u=S(h);le(s,l,h,u,!0)||le(s,a,h,u,!1)}return s}}(e,t);if(o(t.options.functional))return function(t,e,n,o,s){var a=t.options,l={},h=a.props;if(r(h))for(var u in h)l[u]=Ft(u,h,e||i);else r(n.attrs)&&ei(l,n.attrs),r(n.props)&&ei(l,n.props);var c=new Ze(n,l,s,o,t),d=a.render.call(null,c._c,c);if(d instanceof pt)return ti(d,n,c.parent,a);if(Array.isArray(d)){for(var p=he(d)||[],f=new Array(p.length),m=0;m<p.length;m++)f[m]=ti(p[m],n,c.parent,a);return f}}(t,d,e,s,l);var p=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var f=e.slot;e={},f&&(e.slot=f)}!function(t){for(var e=t.hook||(t.hook={}),i=0;i<ni.length;i++){var n=ni[i];e[n]=ii[n]}}(e);var m=t.options.name||h;return new pt("vue-component-"+t.cid+(m?"-"+m:""),e,void 0,void 0,void 0,s,{Ctor:t,propsData:d,listeners:p,tag:h,children:l},c)}}}var oi=1,si=2;function ai(t,e,i,l,h,u){return(Array.isArray(i)||s(i))&&(h=l,l=i,i=void 0),o(u)&&(h=si),function(t,e,i,s,l){if(r(i)&&r(i.__ob__))return mt();r(i)&&r(i.is)&&(e=i.is);if(!e)return mt();0;Array.isArray(s)&&"function"==typeof s[0]&&((i=i||{}).scopedSlots={default:s[0]},s.length=0);l===si?s=he(s):l===oi&&(s=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(s));var h,u;if("string"==typeof e){var c;u=t.$vnode&&t.$vnode.ns||H.getTagNamespace(e),h=H.isReservedTag(e)?new pt(H.parsePlatformTagName(e),i,s,void 0,void 0,t):r(c=Rt(t.$options,"components",e))?ri(c,i,t,s,e):new pt(e,i,s,void 0,void 0,t)}else h=ri(e,i,t,s);return Array.isArray(h)?h:r(h)?(r(u)&&function t(e,i,s){e.ns=i;"foreignObject"===e.tag&&(i=void 0,s=!0);if(r(e.children))for(var a=0,l=e.children.length;a<l;a++){var h=e.children[a];r(h.tag)&&(n(h.ns)||o(s)&&"svg"!==h.tag)&&t(h,i,s)}}(h,u),r(i)&&function(t){a(t.style)&&ie(t.style);a(t.class)&&ie(t.class)}(i),h):mt()}(t,e,i,l,h)}var li=0;function hi(t){var e=t.options;if(t.super){var i=hi(t.super);if(i!==t.superOptions){t.superOptions=i;var n=function(t){var e,i=t.options,n=t.extendOptions,r=t.sealedOptions;for(var o in i)i[o]!==r[o]&&(e||(e={}),e[o]=ui(i[o],n[o],r[o]));return e}(t);n&&M(t.extendOptions,n),(e=t.options=Dt(i,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function ui(t,e,i){if(Array.isArray(t)){var n=[];i=Array.isArray(i)?i:[i],e=Array.isArray(e)?e:[e];for(var r=0;r<t.length;r++)(e.indexOf(t[r])>=0||i.indexOf(t[r])<0)&&n.push(t[r]);return n}return t}function ci(t){this._init(t)}function di(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var i=this,n=i.cid,r=t._Ctor||(t._Ctor={});if(r[n])return r[n];var o=t.name||i.options.name;var s=function(t){this._init(t)};return(s.prototype=Object.create(i.prototype)).constructor=s,s.cid=e++,s.options=Dt(i.options,t),s.super=i,s.options.props&&function(t){var e=t.options.props;for(var i in e)Ne(t.prototype,"_props",i)}(s),s.options.computed&&function(t){var e=t.options.computed;for(var i in e)Re(t.prototype,i,e[i])}(s),s.extend=i.extend,s.mixin=i.mixin,s.use=i.use,R.forEach(function(t){s[t]=i[t]}),o&&(s.options.components[o]=s),s.superOptions=i.options,s.extendOptions=t,s.sealedOptions=M({},s.options),r[n]=s,s}}function pi(t){return t&&(t.Ctor.options.name||t.tag)}function fi(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!u(t)&&t.test(e)}function mi(t,e){var i=t.cache,n=t.keys,r=t._vnode;for(var o in i){var s=i[o];if(s){var a=pi(s.componentOptions);a&&!e(a)&&gi(i,o,n,r)}}}function gi(t,e,i,n){var r=t[e];!r||n&&r.tag===n.tag||r.componentInstance.$destroy(),t[e]=null,v(i,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=li++,e._isVue=!0,t&&t._isComponent?function(t,e){var i=t.$options=Object.create(t.constructor.options),n=e._parentVnode;i.parent=e.parent,i._parentVnode=n,i._parentElm=e._parentElm,i._refElm=e._refElm;var r=n.componentOptions;i.propsData=r.propsData,i._parentListeners=r.listeners,i._renderChildren=r.children,i._componentTag=r.tag,e.render&&(i.render=e.render,i.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Dt(hi(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,i=e.parent;if(i&&!e.abstract){for(;i.$options.abstract&&i.$parent;)i=i.$parent;i.$children.push(t)}t.$parent=i,t.$root=i?i.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&ge(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=ve(e._renderChildren,r),t.$scopedSlots=i,t._c=function(e,i,n,r){return ai(t,e,i,n,r,!1)},t.$createElement=function(e,i,n,r){return ai(t,e,i,n,r,!0)};var o=n&&n.data;_t(t,"$attrs",o&&o.attrs||i,null,!0),_t(t,"$listeners",e._parentListeners||i,null,!0)}(e),we(e,"beforeCreate"),function(t){var e=Ue(t.$options.inject,t);e&&(Ct(!1),Object.keys(e).forEach(function(i){_t(t,i,e[i])}),Ct(!0))}(e),Ie(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),we(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(ci),function(t){var e={get:function(){return this._data}},i={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",i),t.prototype.$set=Mt,t.prototype.$delete=kt,t.prototype.$watch=function(t,e,i){if(h(e))return He(this,t,e,i);(i=i||{}).user=!0;var n=new Pe(this,t,e,i);return i.immediate&&e.call(this,n.value),function(){n.teardown()}}}(ci),function(t){var e=/^hook:/;t.prototype.$on=function(t,i){if(Array.isArray(t))for(var n=0,r=t.length;n<r;n++)this.$on(t[n],i);else(this._events[t]||(this._events[t]=[])).push(i),e.test(t)&&(this._hasHookEvent=!0);return this},t.prototype.$once=function(t,e){var i=this;function n(){i.$off(t,n),e.apply(i,arguments)}return n.fn=e,i.$on(t,n),i},t.prototype.$off=function(t,e){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(t)){for(var n=0,r=t.length;n<r;n++)this.$off(t[n],e);return i}var o=i._events[t];if(!o)return i;if(!e)return i._events[t]=null,i;if(e)for(var s,a=o.length;a--;)if((s=o[a])===e||s.fn===e){o.splice(a,1);break}return i},t.prototype.$emit=function(t){var e=this,i=e._events[t];if(i){i=i.length>1?_(i):i;for(var n=_(arguments,1),r=0,o=i.length;r<o;r++)try{i[r].apply(e,n)}catch(i){jt(i,e,'event handler for "'+t+'"')}}return e}}(ci),function(t){t.prototype._update=function(t,e){var i=this;i._isMounted&&we(i,"beforeUpdate");var n=i.$el,r=i._vnode,o=xe;xe=i,i._vnode=t,r?i.$el=i.__patch__(r,t):(i.$el=i.__patch__(i.$el,t,e,!1,i.$options._parentElm,i.$options._refElm),i.$options._parentElm=i.$options._refElm=null),xe=o,n&&(n.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){we(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||v(e.$children,t),t._watcher&&t._watcher.teardown();for(var i=t._watchers.length;i--;)t._watchers[i].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),we(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(ci),function(t){Je(t.prototype),t.prototype.$nextTick=function(t){return te(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,o=n._parentVnode;o&&(e.$scopedSlots=o.data.scopedSlots||i),e.$vnode=o;try{t=r.call(e._renderProxy,e.$createElement)}catch(i){jt(i,e,"render"),t=e._vnode}return t instanceof pt||(t=mt()),t.parent=o,t}}(ci);var vi=[String,RegExp,Array],Ai={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:vi,exclude:vi,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)gi(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){mi(t,function(t){return fi(e,t)})}),this.$watch("exclude",function(e){mi(t,function(t){return!fi(e,t)})})},render:function(){var t=this.$slots.default,e=pe(t),i=e&&e.componentOptions;if(i){var n=pi(i),r=this.include,o=this.exclude;if(r&&(!n||!fi(r,n))||o&&n&&fi(o,n))return e;var s=this.cache,a=this.keys,l=null==e.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):e.key;s[l]?(e.componentInstance=s[l].componentInstance,v(a,l),a.push(l)):(s[l]=e,a.push(l),this.max&&a.length>parseInt(this.max)&&gi(s,a[0],a,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return H}};Object.defineProperty(t,"config",e),t.util={warn:at,extend:M,mergeOptions:Dt,defineReactive:_t},t.set=Mt,t.delete=kt,t.nextTick=te,t.options=Object.create(null),R.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,M(t.options.components,Ai),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var i=_(arguments,1);return i.unshift(this),"function"==typeof t.install?t.install.apply(t,i):"function"==typeof t&&t.apply(null,i),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Dt(this.options,t),this}}(t),di(t),function(t){R.forEach(function(e){t[e]=function(t,i){return i?("component"===e&&h(i)&&(i.name=i.name||t,i=this.options._base.extend(i)),"directive"===e&&"function"==typeof i&&(i={bind:i,update:i}),this.options[e+"s"][t]=i,i):this.options[e+"s"][t]}})}(t)}(ci),Object.defineProperty(ci.prototype,"$isServer",{get:it}),Object.defineProperty(ci.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(ci,"FunctionalRenderContext",{value:Ze}),ci.version="2.5.17";var yi=f("style,class"),xi=f("input,textarea,option,select,progress"),bi=function(t,e,i){return"value"===i&&xi(t)&&"button"!==e||"selected"===i&&"option"===t||"checked"===i&&"input"===t||"muted"===i&&"video"===t},Ci=f("contenteditable,draggable,spellcheck"),wi=f("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Ei="http://www.w3.org/1999/xlink",Si=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Ti=function(t){return Si(t)?t.slice(6,t.length):""},_i=function(t){return null==t||!1===t};function Mi(t){for(var e=t.data,i=t,n=t;r(n.componentInstance);)(n=n.componentInstance._vnode)&&n.data&&(e=ki(n.data,e));for(;r(i=i.parent);)i&&i.data&&(e=ki(e,i.data));return function(t,e){if(r(t)||r(e))return Bi(t,Oi(e));return""}(e.staticClass,e.class)}function ki(t,e){return{staticClass:Bi(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function Bi(t,e){return t?e?t+" "+e:t:e||""}function Oi(t){return Array.isArray(t)?function(t){for(var e,i="",n=0,o=t.length;n<o;n++)r(e=Oi(t[n]))&&""!==e&&(i&&(i+=" "),i+=e);return i}(t):a(t)?function(t){var e="";for(var i in t)t[i]&&(e&&(e+=" "),e+=i);return e}(t):"string"==typeof t?t:""}var Pi={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Li=f("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Ni=f("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Ii=function(t){return Li(t)||Ni(t)};function Di(t){return Ni(t)?"svg":"math"===t?"math":void 0}var Ri=Object.create(null);var Fi=f("text,number,password,search,email,tel,url");function Hi(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}var Ui=Object.freeze({createElement:function(t,e){var i=document.createElement(t);return"select"!==t?i:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i)},createElementNS:function(t,e){return document.createElementNS(Pi[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,i){t.insertBefore(e,i)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),Vi={create:function(t,e){ji(e)},update:function(t,e){t.data.ref!==e.data.ref&&(ji(t,!0),ji(e))},destroy:function(t){ji(t,!0)}};function ji(t,e){var i=t.data.ref;if(r(i)){var n=t.context,o=t.componentInstance||t.elm,s=n.$refs;e?Array.isArray(s[i])?v(s[i],o):s[i]===o&&(s[i]=void 0):t.data.refInFor?Array.isArray(s[i])?s[i].indexOf(o)<0&&s[i].push(o):s[i]=[o]:s[i]=o}}var Gi=new pt("",{},[]),zi=["create","activate","update","remove","destroy"];function Qi(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&r(t.data)===r(e.data)&&function(t,e){if("input"!==t.tag)return!0;var i,n=r(i=t.data)&&r(i=i.attrs)&&i.type,o=r(i=e.data)&&r(i=i.attrs)&&i.type;return n===o||Fi(n)&&Fi(o)}(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&n(e.asyncFactory.error))}function Yi(t,e,i){var n,o,s={};for(n=e;n<=i;++n)r(o=t[n].key)&&(s[o]=n);return s}var Ki={create:Xi,update:Xi,destroy:function(t){Xi(t,Gi)}};function Xi(t,e){(t.data.directives||e.data.directives)&&function(t,e){var i,n,r,o=t===Gi,s=e===Gi,a=Wi(t.data.directives,t.context),l=Wi(e.data.directives,e.context),h=[],u=[];for(i in l)n=a[i],r=l[i],n?(r.oldValue=n.value,Ji(r,"update",e,t),r.def&&r.def.componentUpdated&&u.push(r)):(Ji(r,"bind",e,t),r.def&&r.def.inserted&&h.push(r));if(h.length){var c=function(){for(var i=0;i<h.length;i++)Ji(h[i],"inserted",e,t)};o?ae(e,"insert",c):c()}u.length&&ae(e,"postpatch",function(){for(var i=0;i<u.length;i++)Ji(u[i],"componentUpdated",e,t)});if(!o)for(i in a)l[i]||Ji(a[i],"unbind",t,t,s)}(t,e)}var $i=Object.create(null);function Wi(t,e){var i,n,r=Object.create(null);if(!t)return r;for(i=0;i<t.length;i++)(n=t[i]).modifiers||(n.modifiers=$i),r[qi(n)]=n,n.def=Rt(e.$options,"directives",n.name);return r}function qi(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Ji(t,e,i,n,r){var o=t.def&&t.def[e];if(o)try{o(i.elm,t,i,n,r)}catch(n){jt(n,i.context,"directive "+t.name+" "+e+" hook")}}var Zi=[Vi,Ki];function tn(t,e){var i=e.componentOptions;if(!(r(i)&&!1===i.Ctor.options.inheritAttrs||n(t.data.attrs)&&n(e.data.attrs))){var o,s,a=e.elm,l=t.data.attrs||{},h=e.data.attrs||{};for(o in r(h.__ob__)&&(h=e.data.attrs=M({},h)),h)s=h[o],l[o]!==s&&en(a,o,s);for(o in($||q)&&h.value!==l.value&&en(a,"value",h.value),l)n(h[o])&&(Si(o)?a.removeAttributeNS(Ei,Ti(o)):Ci(o)||a.removeAttribute(o))}}function en(t,e,i){t.tagName.indexOf("-")>-1?nn(t,e,i):wi(e)?_i(i)?t.removeAttribute(e):(i="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,i)):Ci(e)?t.setAttribute(e,_i(i)||"false"===i?"false":"true"):Si(e)?_i(i)?t.removeAttributeNS(Ei,Ti(e)):t.setAttributeNS(Ei,e,i):nn(t,e,i)}function nn(t,e,i){if(_i(i))t.removeAttribute(e);else{if($&&!W&&"TEXTAREA"===t.tagName&&"placeholder"===e&&!t.__ieph){var n=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",n)};t.addEventListener("input",n),t.__ieph=!0}t.setAttribute(e,i)}}var rn={create:tn,update:tn};function on(t,e){var i=e.elm,o=e.data,s=t.data;if(!(n(o.staticClass)&&n(o.class)&&(n(s)||n(s.staticClass)&&n(s.class)))){var a=Mi(e),l=i._transitionClasses;r(l)&&(a=Bi(a,Oi(l))),a!==i._prevClass&&(i.setAttribute("class",a),i._prevClass=a)}}var sn,an,ln,hn,un,cn,dn={create:on,update:on},pn=/[\w).+\-_$\]]/;function fn(t){var e,i,n,r,o,s=!1,a=!1,l=!1,h=!1,u=0,c=0,d=0,p=0;for(n=0;n<t.length;n++)if(i=e,e=t.charCodeAt(n),s)39===e&&92!==i&&(s=!1);else if(a)34===e&&92!==i&&(a=!1);else if(l)96===e&&92!==i&&(l=!1);else if(h)47===e&&92!==i&&(h=!1);else if(124!==e||124===t.charCodeAt(n+1)||124===t.charCodeAt(n-1)||u||c||d){switch(e){case 34:a=!0;break;case 39:s=!0;break;case 96:l=!0;break;case 40:d++;break;case 41:d--;break;case 91:c++;break;case 93:c--;break;case 123:u++;break;case 125:u--}if(47===e){for(var f=n-1,m=void 0;f>=0&&" "===(m=t.charAt(f));f--);m&&pn.test(m)||(h=!0)}}else void 0===r?(p=n+1,r=t.slice(0,n).trim()):g();function g(){(o||(o=[])).push(t.slice(p,n).trim()),p=n+1}if(void 0===r?r=t.slice(0,n).trim():0!==p&&g(),o)for(n=0;n<o.length;n++)r=mn(r,o[n]);return r}function mn(t,e){var i=e.indexOf("(");if(i<0)return'_f("'+e+'")('+t+")";var n=e.slice(0,i),r=e.slice(i+1);return'_f("'+n+'")('+t+(")"!==r?","+r:r)}function gn(t){console.error("[Vue compiler]: "+t)}function vn(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function An(t,e,i){(t.props||(t.props=[])).push({name:e,value:i}),t.plain=!1}function yn(t,e,i){(t.attrs||(t.attrs=[])).push({name:e,value:i}),t.plain=!1}function xn(t,e,i){t.attrsMap[e]=i,t.attrsList.push({name:e,value:i})}function bn(t,e,i,n,r,o){(t.directives||(t.directives=[])).push({name:e,rawName:i,value:n,arg:r,modifiers:o}),t.plain=!1}function Cn(t,e,n,r,o,s){var a;(r=r||i).capture&&(delete r.capture,e="!"+e),r.once&&(delete r.once,e="~"+e),r.passive&&(delete r.passive,e="&"+e),"click"===e&&(r.right?(e="contextmenu",delete r.right):r.middle&&(e="mouseup")),r.native?(delete r.native,a=t.nativeEvents||(t.nativeEvents={})):a=t.events||(t.events={});var l={value:n.trim()};r!==i&&(l.modifiers=r);var h=a[e];Array.isArray(h)?o?h.unshift(l):h.push(l):a[e]=h?o?[l,h]:[h,l]:l,t.plain=!1}function wn(t,e,i){var n=En(t,":"+e)||En(t,"v-bind:"+e);if(null!=n)return fn(n);if(!1!==i){var r=En(t,e);if(null!=r)return JSON.stringify(r)}}function En(t,e,i){var n;if(null!=(n=t.attrsMap[e]))for(var r=t.attrsList,o=0,s=r.length;o<s;o++)if(r[o].name===e){r.splice(o,1);break}return i&&delete t.attrsMap[e],n}function Sn(t,e,i){var n=i||{},r=n.number,o="$$v";n.trim&&(o="(typeof $$v === 'string'? $$v.trim(): $$v)"),r&&(o="_n("+o+")");var s=Tn(e,o);t.model={value:"("+e+")",expression:'"'+e+'"',callback:"function ($$v) {"+s+"}"}}function Tn(t,e){var i=function(t){if(t=t.trim(),sn=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<sn-1)return(hn=t.lastIndexOf("."))>-1?{exp:t.slice(0,hn),key:'"'+t.slice(hn+1)+'"'}:{exp:t,key:null};an=t,hn=un=cn=0;for(;!Mn();)kn(ln=_n())?On(ln):91===ln&&Bn(ln);return{exp:t.slice(0,un),key:t.slice(un+1,cn)}}(t);return null===i.key?t+"="+e:"$set("+i.exp+", "+i.key+", "+e+")"}function _n(){return an.charCodeAt(++hn)}function Mn(){return hn>=sn}function kn(t){return 34===t||39===t}function Bn(t){var e=1;for(un=hn;!Mn();)if(kn(t=_n()))On(t);else if(91===t&&e++,93===t&&e--,0===e){cn=hn;break}}function On(t){for(var e=t;!Mn()&&(t=_n())!==e;);}var Pn,Ln="__r",Nn="__c";function In(t,e,i,n,r){var o;e=(o=e)._withTask||(o._withTask=function(){Wt=!0;var t=o.apply(null,arguments);return Wt=!1,t}),i&&(e=function(t,e,i){var n=Pn;return function r(){null!==t.apply(null,arguments)&&Dn(e,r,i,n)}}(e,t,n)),Pn.addEventListener(t,e,tt?{capture:n,passive:r}:n)}function Dn(t,e,i,n){(n||Pn).removeEventListener(t,e._withTask||e,i)}function Rn(t,e){if(!n(t.data.on)||!n(e.data.on)){var i=e.data.on||{},o=t.data.on||{};Pn=e.elm,function(t){if(r(t[Ln])){var e=$?"change":"input";t[e]=[].concat(t[Ln],t[e]||[]),delete t[Ln]}r(t[Nn])&&(t.change=[].concat(t[Nn],t.change||[]),delete t[Nn])}(i),se(i,o,In,Dn,e.context),Pn=void 0}}var Fn={create:Rn,update:Rn};function Hn(t,e){if(!n(t.data.domProps)||!n(e.data.domProps)){var i,o,s=e.elm,a=t.data.domProps||{},l=e.data.domProps||{};for(i in r(l.__ob__)&&(l=e.data.domProps=M({},l)),a)n(l[i])&&(s[i]="");for(i in l){if(o=l[i],"textContent"===i||"innerHTML"===i){if(e.children&&(e.children.length=0),o===a[i])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===i){s._value=o;var h=n(o)?"":String(o);Un(s,h)&&(s.value=h)}else s[i]=o}}}function Un(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var i=!0;try{i=document.activeElement!==t}catch(t){}return i&&t.value!==e}(t,e)||function(t,e){var i=t.value,n=t._vModifiers;if(r(n)){if(n.lazy)return!1;if(n.number)return p(i)!==p(e);if(n.trim)return i.trim()!==e.trim()}return i!==e}(t,e))}var Vn={create:Hn,update:Hn},jn=x(function(t){var e={},i=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var n=t.split(i);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e});function Gn(t){var e=zn(t.style);return t.staticStyle?M(t.staticStyle,e):e}function zn(t){return Array.isArray(t)?k(t):"string"==typeof t?jn(t):t}var Qn,Yn=/^--/,Kn=/\s*!important$/,Xn=function(t,e,i){if(Yn.test(e))t.style.setProperty(e,i);else if(Kn.test(i))t.style.setProperty(e,i.replace(Kn,""),"important");else{var n=Wn(e);if(Array.isArray(i))for(var r=0,o=i.length;r<o;r++)t.style[n]=i[r];else t.style[n]=i}},$n=["Webkit","Moz","ms"],Wn=x(function(t){if(Qn=Qn||document.createElement("div").style,"filter"!==(t=C(t))&&t in Qn)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<$n.length;i++){var n=$n[i]+e;if(n in Qn)return n}});function qn(t,e){var i=e.data,o=t.data;if(!(n(i.staticStyle)&&n(i.style)&&n(o.staticStyle)&&n(o.style))){var s,a,l=e.elm,h=o.staticStyle,u=o.normalizedStyle||o.style||{},c=h||u,d=zn(e.data.style)||{};e.data.normalizedStyle=r(d.__ob__)?M({},d):d;var p=function(t,e){var i,n={};if(e)for(var r=t;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(i=Gn(r.data))&&M(n,i);(i=Gn(t.data))&&M(n,i);for(var o=t;o=o.parent;)o.data&&(i=Gn(o.data))&&M(n,i);return n}(e,!0);for(a in c)n(p[a])&&Xn(l,a,"");for(a in p)(s=p[a])!==c[a]&&Xn(l,a,null==s?"":s)}}var Jn={create:qn,update:qn};function Zn(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var i=" "+(t.getAttribute("class")||"")+" ";i.indexOf(" "+e+" ")<0&&t.setAttribute("class",(i+e).trim())}}function tr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var i=" "+(t.getAttribute("class")||"")+" ",n=" "+e+" ";i.indexOf(n)>=0;)i=i.replace(n," ");(i=i.trim())?t.setAttribute("class",i):t.removeAttribute("class")}}function er(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&M(e,ir(t.name||"v")),M(e,t),e}return"string"==typeof t?ir(t):void 0}}var ir=x(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),nr=Q&&!W,rr="transition",or="animation",sr="transition",ar="transitionend",lr="animation",hr="animationend";nr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(sr="WebkitTransition",ar="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(lr="WebkitAnimation",hr="webkitAnimationEnd"));var ur=Q?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function cr(t){ur(function(){ur(t)})}function dr(t,e){var i=t._transitionClasses||(t._transitionClasses=[]);i.indexOf(e)<0&&(i.push(e),Zn(t,e))}function pr(t,e){t._transitionClasses&&v(t._transitionClasses,e),tr(t,e)}function fr(t,e,i){var n=gr(t,e),r=n.type,o=n.timeout,s=n.propCount;if(!r)return i();var a=r===rr?ar:hr,l=0,h=function(){t.removeEventListener(a,u),i()},u=function(e){e.target===t&&++l>=s&&h()};setTimeout(function(){l<s&&h()},o+1),t.addEventListener(a,u)}var mr=/\b(transform|all)(,|$)/;function gr(t,e){var i,n=window.getComputedStyle(t),r=n[sr+"Delay"].split(", "),o=n[sr+"Duration"].split(", "),s=vr(r,o),a=n[lr+"Delay"].split(", "),l=n[lr+"Duration"].split(", "),h=vr(a,l),u=0,c=0;return e===rr?s>0&&(i=rr,u=s,c=o.length):e===or?h>0&&(i=or,u=h,c=l.length):c=(i=(u=Math.max(s,h))>0?s>h?rr:or:null)?i===rr?o.length:l.length:0,{type:i,timeout:u,propCount:c,hasTransform:i===rr&&mr.test(n[sr+"Property"])}}function vr(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,i){return Ar(e)+Ar(t[i])}))}function Ar(t){return 1e3*Number(t.slice(0,-1))}function yr(t,e){var i=t.elm;r(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var o=er(t.data.transition);if(!n(o)&&!r(i._enterCb)&&1===i.nodeType){for(var s=o.css,l=o.type,h=o.enterClass,u=o.enterToClass,c=o.enterActiveClass,d=o.appearClass,f=o.appearToClass,m=o.appearActiveClass,g=o.beforeEnter,v=o.enter,A=o.afterEnter,y=o.enterCancelled,x=o.beforeAppear,b=o.appear,C=o.afterAppear,w=o.appearCancelled,E=o.duration,S=xe,T=xe.$vnode;T&&T.parent;)S=(T=T.parent).context;var _=!S._isMounted||!t.isRootInsert;if(!_||b||""===b){var M=_&&d?d:h,k=_&&m?m:c,B=_&&f?f:u,O=_&&x||g,P=_&&"function"==typeof b?b:v,L=_&&C||A,N=_&&w||y,D=p(a(E)?E.enter:E);0;var R=!1!==s&&!W,F=Cr(P),H=i._enterCb=I(function(){R&&(pr(i,B),pr(i,k)),H.cancelled?(R&&pr(i,M),N&&N(i)):L&&L(i),i._enterCb=null});t.data.show||ae(t,"insert",function(){var e=i.parentNode,n=e&&e._pending&&e._pending[t.key];n&&n.tag===t.tag&&n.elm._leaveCb&&n.elm._leaveCb(),P&&P(i,H)}),O&&O(i),R&&(dr(i,M),dr(i,k),cr(function(){pr(i,M),H.cancelled||(dr(i,B),F||(br(D)?setTimeout(H,D):fr(i,l,H)))})),t.data.show&&(e&&e(),P&&P(i,H)),R||F||H()}}}function xr(t,e){var i=t.elm;r(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var o=er(t.data.transition);if(n(o)||1!==i.nodeType)return e();if(!r(i._leaveCb)){var s=o.css,l=o.type,h=o.leaveClass,u=o.leaveToClass,c=o.leaveActiveClass,d=o.beforeLeave,f=o.leave,m=o.afterLeave,g=o.leaveCancelled,v=o.delayLeave,A=o.duration,y=!1!==s&&!W,x=Cr(f),b=p(a(A)?A.leave:A);0;var C=i._leaveCb=I(function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[t.key]=null),y&&(pr(i,u),pr(i,c)),C.cancelled?(y&&pr(i,h),g&&g(i)):(e(),m&&m(i)),i._leaveCb=null});v?v(w):w()}function w(){C.cancelled||(t.data.show||((i.parentNode._pending||(i.parentNode._pending={}))[t.key]=t),d&&d(i),y&&(dr(i,h),dr(i,c),cr(function(){pr(i,h),C.cancelled||(dr(i,u),x||(br(b)?setTimeout(C,b):fr(i,l,C)))})),f&&f(i,C),y||x||C())}}function br(t){return"number"==typeof t&&!isNaN(t)}function Cr(t){if(n(t))return!1;var e=t.fns;return r(e)?Cr(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function wr(t,e){!0!==e.data.show&&yr(e)}var Er=function(t){var e,i,a={},l=t.modules,h=t.nodeOps;for(e=0;e<zi.length;++e)for(a[zi[e]]=[],i=0;i<l.length;++i)r(l[i][zi[e]])&&a[zi[e]].push(l[i][zi[e]]);function u(t){var e=h.parentNode(t);r(e)&&h.removeChild(e,t)}function c(t,e,i,n,s,l,u){if(r(t.elm)&&r(l)&&(t=l[u]=vt(t)),t.isRootInsert=!s,!function(t,e,i,n){var s=t.data;if(r(s)){var l=r(t.componentInstance)&&s.keepAlive;if(r(s=s.hook)&&r(s=s.init)&&s(t,!1,i,n),r(t.componentInstance))return d(t,e),o(l)&&function(t,e,i,n){for(var o,s=t;s.componentInstance;)if(s=s.componentInstance._vnode,r(o=s.data)&&r(o=o.transition)){for(o=0;o<a.activate.length;++o)a.activate[o](Gi,s);e.push(s);break}p(i,t.elm,n)}(t,e,i,n),!0}}(t,e,i,n)){var c=t.data,f=t.children,g=t.tag;r(g)?(t.elm=t.ns?h.createElementNS(t.ns,g):h.createElement(g,t),A(t),m(t,f,e),r(c)&&v(t,e),p(i,t.elm,n)):o(t.isComment)?(t.elm=h.createComment(t.text),p(i,t.elm,n)):(t.elm=h.createTextNode(t.text),p(i,t.elm,n))}}function d(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,g(t)?(v(t,e),A(t)):(ji(t),e.push(t))}function p(t,e,i){r(t)&&(r(i)?i.parentNode===t&&h.insertBefore(t,e,i):h.appendChild(t,e))}function m(t,e,i){if(Array.isArray(e))for(var n=0;n<e.length;++n)c(e[n],i,t.elm,null,!0,e,n);else s(t.text)&&h.appendChild(t.elm,h.createTextNode(String(t.text)))}function g(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return r(t.tag)}function v(t,i){for(var n=0;n<a.create.length;++n)a.create[n](Gi,t);r(e=t.data.hook)&&(r(e.create)&&e.create(Gi,t),r(e.insert)&&i.push(t))}function A(t){var e;if(r(e=t.fnScopeId))h.setStyleScope(t.elm,e);else for(var i=t;i;)r(e=i.context)&&r(e=e.$options._scopeId)&&h.setStyleScope(t.elm,e),i=i.parent;r(e=xe)&&e!==t.context&&e!==t.fnContext&&r(e=e.$options._scopeId)&&h.setStyleScope(t.elm,e)}function y(t,e,i,n,r,o){for(;n<=r;++n)c(i[n],o,t,e,!1,i,n)}function x(t){var e,i,n=t.data;if(r(n))for(r(e=n.hook)&&r(e=e.destroy)&&e(t),e=0;e<a.destroy.length;++e)a.destroy[e](t);if(r(e=t.children))for(i=0;i<t.children.length;++i)x(t.children[i])}function b(t,e,i,n){for(;i<=n;++i){var o=e[i];r(o)&&(r(o.tag)?(C(o),x(o)):u(o.elm))}}function C(t,e){if(r(e)||r(t.data)){var i,n=a.remove.length+1;for(r(e)?e.listeners+=n:e=function(t,e){function i(){0==--i.listeners&&u(t)}return i.listeners=e,i}(t.elm,n),r(i=t.componentInstance)&&r(i=i._vnode)&&r(i.data)&&C(i,e),i=0;i<a.remove.length;++i)a.remove[i](t,e);r(i=t.data.hook)&&r(i=i.remove)?i(t,e):e()}else u(t.elm)}function w(t,e,i,n){for(var o=i;o<n;o++){var s=e[o];if(r(s)&&Qi(t,s))return o}}function E(t,e,i,s){if(t!==e){var l=e.elm=t.elm;if(o(t.isAsyncPlaceholder))r(e.asyncFactory.resolved)?_(t.elm,e,i):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var u,d=e.data;r(d)&&r(u=d.hook)&&r(u=u.prepatch)&&u(t,e);var p=t.children,f=e.children;if(r(d)&&g(e)){for(u=0;u<a.update.length;++u)a.update[u](t,e);r(u=d.hook)&&r(u=u.update)&&u(t,e)}n(e.text)?r(p)&&r(f)?p!==f&&function(t,e,i,o,s){for(var a,l,u,d=0,p=0,f=e.length-1,m=e[0],g=e[f],v=i.length-1,A=i[0],x=i[v],C=!s;d<=f&&p<=v;)n(m)?m=e[++d]:n(g)?g=e[--f]:Qi(m,A)?(E(m,A,o),m=e[++d],A=i[++p]):Qi(g,x)?(E(g,x,o),g=e[--f],x=i[--v]):Qi(m,x)?(E(m,x,o),C&&h.insertBefore(t,m.elm,h.nextSibling(g.elm)),m=e[++d],x=i[--v]):Qi(g,A)?(E(g,A,o),C&&h.insertBefore(t,g.elm,m.elm),g=e[--f],A=i[++p]):(n(a)&&(a=Yi(e,d,f)),n(l=r(A.key)?a[A.key]:w(A,e,d,f))?c(A,o,t,m.elm,!1,i,p):Qi(u=e[l],A)?(E(u,A,o),e[l]=void 0,C&&h.insertBefore(t,u.elm,m.elm)):c(A,o,t,m.elm,!1,i,p),A=i[++p]);d>f?y(t,n(i[v+1])?null:i[v+1].elm,i,p,v,o):p>v&&b(0,e,d,f)}(l,p,f,i,s):r(f)?(r(t.text)&&h.setTextContent(l,""),y(l,null,f,0,f.length-1,i)):r(p)?b(0,p,0,p.length-1):r(t.text)&&h.setTextContent(l,""):t.text!==e.text&&h.setTextContent(l,e.text),r(d)&&r(u=d.hook)&&r(u=u.postpatch)&&u(t,e)}}}function S(t,e,i){if(o(i)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var n=0;n<e.length;++n)e[n].data.hook.insert(e[n])}var T=f("attrs,class,staticClass,staticStyle,key");function _(t,e,i,n){var s,a=e.tag,l=e.data,h=e.children;if(n=n||l&&l.pre,e.elm=t,o(e.isComment)&&r(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(r(l)&&(r(s=l.hook)&&r(s=s.init)&&s(e,!0),r(s=e.componentInstance)))return d(e,i),!0;if(r(a)){if(r(h))if(t.hasChildNodes())if(r(s=l)&&r(s=s.domProps)&&r(s=s.innerHTML)){if(s!==t.innerHTML)return!1}else{for(var u=!0,c=t.firstChild,p=0;p<h.length;p++){if(!c||!_(c,h[p],i,n)){u=!1;break}c=c.nextSibling}if(!u||c)return!1}else m(e,h,i);if(r(l)){var f=!1;for(var g in l)if(!T(g)){f=!0,v(e,i);break}!f&&l.class&&ie(l.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,i,s,l,u){if(!n(e)){var d,p=!1,f=[];if(n(t))p=!0,c(e,f,l,u);else{var m=r(t.nodeType);if(!m&&Qi(t,e))E(t,e,f,s);else{if(m){if(1===t.nodeType&&t.hasAttribute(D)&&(t.removeAttribute(D),i=!0),o(i)&&_(t,e,f))return S(e,f,!0),t;d=t,t=new pt(h.tagName(d).toLowerCase(),{},[],void 0,d)}var v=t.elm,A=h.parentNode(v);if(c(e,f,v._leaveCb?null:A,h.nextSibling(v)),r(e.parent))for(var y=e.parent,C=g(e);y;){for(var w=0;w<a.destroy.length;++w)a.destroy[w](y);if(y.elm=e.elm,C){for(var T=0;T<a.create.length;++T)a.create[T](Gi,y);var M=y.data.hook.insert;if(M.merged)for(var k=1;k<M.fns.length;k++)M.fns[k]()}else ji(y);y=y.parent}r(A)?b(0,[t],0,0):r(t.tag)&&x(t)}}return S(e,f,p),e.elm}r(t)&&x(t)}}({nodeOps:Ui,modules:[rn,dn,Fn,Vn,Jn,Q?{create:wr,activate:wr,remove:function(t,e){!0!==t.data.show?xr(t,e):e()}}:{}].concat(Zi)});W&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Pr(t,"input")});var Sr={inserted:function(t,e,i,n){"select"===i.tag?(n.elm&&!n.elm._vOptions?ae(i,"postpatch",function(){Sr.componentUpdated(t,e,i)}):Tr(t,e,i.context),t._vOptions=[].map.call(t.options,kr)):("textarea"===i.tag||Fi(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Br),t.addEventListener("compositionend",Or),t.addEventListener("change",Or),W&&(t.vmodel=!0)))},componentUpdated:function(t,e,i){if("select"===i.tag){Tr(t,e,i.context);var n=t._vOptions,r=t._vOptions=[].map.call(t.options,kr);if(r.some(function(t,e){return!L(t,n[e])}))(t.multiple?e.value.some(function(t){return Mr(t,r)}):e.value!==e.oldValue&&Mr(e.value,r))&&Pr(t,"change")}}};function Tr(t,e,i){_r(t,e,i),($||q)&&setTimeout(function(){_r(t,e,i)},0)}function _r(t,e,i){var n=e.value,r=t.multiple;if(!r||Array.isArray(n)){for(var o,s,a=0,l=t.options.length;a<l;a++)if(s=t.options[a],r)o=N(n,kr(s))>-1,s.selected!==o&&(s.selected=o);else if(L(kr(s),n))return void(t.selectedIndex!==a&&(t.selectedIndex=a));r||(t.selectedIndex=-1)}}function Mr(t,e){return e.every(function(e){return!L(e,t)})}function kr(t){return"_value"in t?t._value:t.value}function Br(t){t.target.composing=!0}function Or(t){t.target.composing&&(t.target.composing=!1,Pr(t.target,"input"))}function Pr(t,e){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0),t.dispatchEvent(i)}function Lr(t){return!t.componentInstance||t.data&&t.data.transition?t:Lr(t.componentInstance._vnode)}var Nr={model:Sr,show:{bind:function(t,e,i){var n=e.value,r=(i=Lr(i)).data&&i.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;n&&r?(i.data.show=!0,yr(i,function(){t.style.display=o})):t.style.display=n?o:"none"},update:function(t,e,i){var n=e.value;!n!=!e.oldValue&&((i=Lr(i)).data&&i.data.transition?(i.data.show=!0,n?yr(i,function(){t.style.display=t.__vOriginalDisplay}):xr(i,function(){t.style.display="none"})):t.style.display=n?t.__vOriginalDisplay:"none")},unbind:function(t,e,i,n,r){r||(t.style.display=t.__vOriginalDisplay)}}},Ir={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Dr(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Dr(pe(e.children)):t}function Rr(t){var e={},i=t.$options;for(var n in i.propsData)e[n]=t[n];var r=i._parentListeners;for(var o in r)e[C(o)]=r[o];return e}function Fr(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var Hr={name:"transition",props:Ir,abstract:!0,render:function(t){var e=this,i=this.$slots.default;if(i&&(i=i.filter(function(t){return t.tag||de(t)})).length){0;var n=this.mode;0;var r=i[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return r;var o=Dr(r);if(!o)return r;if(this._leaving)return Fr(t,r);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var l=(o.data||(o.data={})).transition=Rr(this),h=this._vnode,u=Dr(h);if(o.data.directives&&o.data.directives.some(function(t){return"show"===t.name})&&(o.data.show=!0),u&&u.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(o,u)&&!de(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var c=u.data.transition=M({},l);if("out-in"===n)return this._leaving=!0,ae(c,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Fr(t,r);if("in-out"===n){if(de(o))return h;var d,p=function(){d()};ae(l,"afterEnter",p),ae(l,"enterCancelled",p),ae(c,"delayLeave",function(t){d=t})}}return r}}},Ur=M({tag:String,moveClass:String},Ir);function Vr(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function jr(t){t.data.newPos=t.elm.getBoundingClientRect()}function Gr(t){var e=t.data.pos,i=t.data.newPos,n=e.left-i.left,r=e.top-i.top;if(n||r){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+n+"px,"+r+"px)",o.transitionDuration="0s"}}delete Ur.mode;var zr={Transition:Hr,TransitionGroup:{props:Ur,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),n=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],s=Rr(this),a=0;a<r.length;a++){var l=r[a];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),i[l.key]=l,(l.data||(l.data={})).transition=s;else;}if(n){for(var h=[],u=[],c=0;c<n.length;c++){var d=n[c];d.data.transition=s,d.data.pos=d.elm.getBoundingClientRect(),i[d.key]?h.push(d):u.push(d)}this.kept=t(e,null,h),this.removed=u}return t(e,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Vr),t.forEach(jr),t.forEach(Gr),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var i=t.elm,n=i.style;dr(i,e),n.transform=n.WebkitTransform=n.transitionDuration="",i.addEventListener(ar,i._moveCb=function t(n){n&&!/transform$/.test(n.propertyName)||(i.removeEventListener(ar,t),i._moveCb=null,pr(i,e))})}}))},methods:{hasMove:function(t,e){if(!nr)return!1;if(this._hasMove)return this._hasMove;var i=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){tr(i,t)}),Zn(i,e),i.style.display="none",this.$el.appendChild(i);var n=gr(i);return this.$el.removeChild(i),this._hasMove=n.hasTransform}}}};ci.config.mustUseProp=bi,ci.config.isReservedTag=Ii,ci.config.isReservedAttr=yi,ci.config.getTagNamespace=Di,ci.config.isUnknownElement=function(t){if(!Q)return!0;if(Ii(t))return!1;if(t=t.toLowerCase(),null!=Ri[t])return Ri[t];var e=document.createElement(t);return t.indexOf("-")>-1?Ri[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Ri[t]=/HTMLUnknownElement/.test(e.toString())},M(ci.options.directives,Nr),M(ci.options.components,zr),ci.prototype.__patch__=Q?Er:B,ci.prototype.$mount=function(t,e){return function(t,e,i){return t.$el=e,t.$options.render||(t.$options.render=mt),we(t,"beforeMount"),new Pe(t,function(){t._update(t._render(),i)},B,null,!0),i=!1,null==t.$vnode&&(t._isMounted=!0,we(t,"mounted")),t}(this,t=t&&Q?Hi(t):void 0,e)},Q&&setTimeout(function(){H.devtools&&nt&&nt.emit("init",ci)},0);var Qr=/\{\{((?:.|\n)+?)\}\}/g,Yr=/[-.*+?^${}()|[\]\/\\]/g,Kr=x(function(t){var e=t[0].replace(Yr,"\\$&"),i=t[1].replace(Yr,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+i,"g")});function Xr(t,e){var i=e?Kr(e):Qr;if(i.test(t)){for(var n,r,o,s=[],a=[],l=i.lastIndex=0;n=i.exec(t);){(r=n.index)>l&&(a.push(o=t.slice(l,r)),s.push(JSON.stringify(o)));var h=fn(n[1].trim());s.push("_s("+h+")"),a.push({"@binding":h}),l=r+n[0].length}return l<t.length&&(a.push(o=t.slice(l)),s.push(JSON.stringify(o))),{expression:s.join("+"),tokens:a}}}var $r={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var i=En(t,"class");i&&(t.staticClass=JSON.stringify(i));var n=wn(t,"class",!1);n&&(t.classBinding=n)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}};var Wr,qr={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var i=En(t,"style");i&&(t.staticStyle=JSON.stringify(jn(i)));var n=wn(t,"style",!1);n&&(t.styleBinding=n)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}},Jr=function(t){return(Wr=Wr||document.createElement("div")).innerHTML=t,Wr.textContent},Zr=f("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),to=f("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),eo=f("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),io=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,no="[a-zA-Z_][\\w\\-\\.]*",ro="((?:"+no+"\\:)?"+no+")",oo=new RegExp("^<"+ro),so=/^\s*(\/?)>/,ao=new RegExp("^<\\/"+ro+"[^>]*>"),lo=/^<!DOCTYPE [^>]+>/i,ho=/^<!\--/,uo=/^<!\[/,co=!1;"x".replace(/x(.)?/g,function(t,e){co=""===e});var po=f("script,style,textarea",!0),fo={},mo={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"},go=/&(?:lt|gt|quot|amp);/g,vo=/&(?:lt|gt|quot|amp|#10|#9);/g,Ao=f("pre,textarea",!0),yo=function(t,e){return t&&Ao(t)&&"\n"===e[0]};function xo(t,e){var i=e?vo:go;return t.replace(i,function(t){return mo[t]})}var bo,Co,wo,Eo,So,To,_o,Mo,ko=/^@|^v-on:/,Bo=/^v-|^@|^:/,Oo=/([^]*?)\s+(?:in|of)\s+([^]*)/,Po=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Lo=/^\(|\)$/g,No=/:(.*)$/,Io=/^:|^v-bind:/,Do=/\.[^.]+/g,Ro=x(Jr);function Fo(t,e,i){return{type:1,tag:t,attrsList:e,attrsMap:function(t){for(var e={},i=0,n=t.length;i<n;i++)e[t[i].name]=t[i].value;return e}(e),parent:i,children:[]}}function Ho(t,e){bo=e.warn||gn,To=e.isPreTag||O,_o=e.mustUseProp||O,Mo=e.getTagNamespace||O,wo=vn(e.modules,"transformNode"),Eo=vn(e.modules,"preTransformNode"),So=vn(e.modules,"postTransformNode"),Co=e.delimiters;var i,n,r=[],o=!1!==e.preserveWhitespace,s=!1,a=!1;function l(t){t.pre&&(s=!1),To(t.tag)&&(a=!1);for(var i=0;i<So.length;i++)So[i](t,e)}return function(t,e){for(var i,n,r=[],o=e.expectHTML,s=e.isUnaryTag||O,a=e.canBeLeftOpenTag||O,l=0;t;){if(i=t,n&&po(n)){var h=0,u=n.toLowerCase(),c=fo[u]||(fo[u]=new RegExp("([\\s\\S]*?)(</"+u+"[^>]*>)","i")),d=t.replace(c,function(t,i,n){return h=n.length,po(u)||"noscript"===u||(i=i.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),yo(u,i)&&(i=i.slice(1)),e.chars&&e.chars(i),""});l+=t.length-d.length,t=d,T(u,l-h,l)}else{var p=t.indexOf("<");if(0===p){if(ho.test(t)){var f=t.indexOf("--\x3e");if(f>=0){e.shouldKeepComment&&e.comment(t.substring(4,f)),w(f+3);continue}}if(uo.test(t)){var m=t.indexOf("]>");if(m>=0){w(m+2);continue}}var g=t.match(lo);if(g){w(g[0].length);continue}var v=t.match(ao);if(v){var A=l;w(v[0].length),T(v[1],A,l);continue}var y=E();if(y){S(y),yo(n,t)&&w(1);continue}}var x=void 0,b=void 0,C=void 0;if(p>=0){for(b=t.slice(p);!(ao.test(b)||oo.test(b)||ho.test(b)||uo.test(b)||(C=b.indexOf("<",1))<0);)p+=C,b=t.slice(p);x=t.substring(0,p),w(p)}p<0&&(x=t,t=""),e.chars&&x&&e.chars(x)}if(t===i){e.chars&&e.chars(t);break}}function w(e){l+=e,t=t.substring(e)}function E(){var e=t.match(oo);if(e){var i,n,r={tagName:e[1],attrs:[],start:l};for(w(e[0].length);!(i=t.match(so))&&(n=t.match(io));)w(n[0].length),r.attrs.push(n);if(i)return r.unarySlash=i[1],w(i[0].length),r.end=l,r}}function S(t){var i=t.tagName,l=t.unarySlash;o&&("p"===n&&eo(i)&&T(n),a(i)&&n===i&&T(i));for(var h=s(i)||!!l,u=t.attrs.length,c=new Array(u),d=0;d<u;d++){var p=t.attrs[d];co&&-1===p[0].indexOf('""')&&(""===p[3]&&delete p[3],""===p[4]&&delete p[4],""===p[5]&&delete p[5]);var f=p[3]||p[4]||p[5]||"",m="a"===i&&"href"===p[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;c[d]={name:p[1],value:xo(f,m)}}h||(r.push({tag:i,lowerCasedTag:i.toLowerCase(),attrs:c}),n=i),e.start&&e.start(i,c,h,t.start,t.end)}function T(t,i,o){var s,a;if(null==i&&(i=l),null==o&&(o=l),t&&(a=t.toLowerCase()),t)for(s=r.length-1;s>=0&&r[s].lowerCasedTag!==a;s--);else s=0;if(s>=0){for(var h=r.length-1;h>=s;h--)e.end&&e.end(r[h].tag,i,o);r.length=s,n=s&&r[s-1].tag}else"br"===a?e.start&&e.start(t,[],!0,i,o):"p"===a&&(e.start&&e.start(t,[],!1,i,o),e.end&&e.end(t,i,o))}T()}(t,{warn:bo,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,start:function(t,o,h){var u=n&&n.ns||Mo(t);$&&"svg"===u&&(o=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];zo.test(n.name)||(n.name=n.name.replace(Qo,""),e.push(n))}return e}(o));var c,d=Fo(t,o,n);u&&(d.ns=u),"style"!==(c=d).tag&&("script"!==c.tag||c.attrsMap.type&&"text/javascript"!==c.attrsMap.type)||it()||(d.forbidden=!0);for(var p=0;p<Eo.length;p++)d=Eo[p](d,e)||d;function f(t){0}if(s||(!function(t){null!=En(t,"v-pre")&&(t.pre=!0)}(d),d.pre&&(s=!0)),To(d.tag)&&(a=!0),s?function(t){var e=t.attrsList.length;if(e)for(var i=t.attrs=new Array(e),n=0;n<e;n++)i[n]={name:t.attrsList[n].name,value:JSON.stringify(t.attrsList[n].value)};else t.pre||(t.plain=!0)}(d):d.processed||(Vo(d),function(t){var e=En(t,"v-if");if(e)t.if=e,jo(t,{exp:e,block:t});else{null!=En(t,"v-else")&&(t.else=!0);var i=En(t,"v-else-if");i&&(t.elseif=i)}}(d),function(t){null!=En(t,"v-once")&&(t.once=!0)}(d),Uo(d,e)),i?r.length||i.if&&(d.elseif||d.else)&&(f(),jo(i,{exp:d.elseif,block:d})):(i=d,f()),n&&!d.forbidden)if(d.elseif||d.else)!function(t,e){var i=function(t){var e=t.length;for(;e--;){if(1===t[e].type)return t[e];t.pop()}}(e.children);i&&i.if&&jo(i,{exp:t.elseif,block:t})}(d,n);else if(d.slotScope){n.plain=!1;var m=d.slotTarget||'"default"';(n.scopedSlots||(n.scopedSlots={}))[m]=d}else n.children.push(d),d.parent=n;h?l(d):(n=d,r.push(d))},end:function(){var t=r[r.length-1],e=t.children[t.children.length-1];e&&3===e.type&&" "===e.text&&!a&&t.children.pop(),r.length-=1,n=r[r.length-1],l(t)},chars:function(t){if(n&&(!$||"textarea"!==n.tag||n.attrsMap.placeholder!==t)){var e,i,r=n.children;if(t=a||t.trim()?"script"===(e=n).tag||"style"===e.tag?t:Ro(t):o&&r.length?" ":"")!s&&" "!==t&&(i=Xr(t,Co))?r.push({type:2,expression:i.expression,tokens:i.tokens,text:t}):" "===t&&r.length&&" "===r[r.length-1].text||r.push({type:3,text:t})}},comment:function(t){n.children.push({type:3,text:t,isComment:!0})}}),i}function Uo(t,e){var i,n;(n=wn(i=t,"key"))&&(i.key=n),t.plain=!t.key&&!t.attrsList.length,function(t){var e=wn(t,"ref");e&&(t.ref=e,t.refInFor=function(t){var e=t;for(;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(t))}(t),function(t){if("slot"===t.tag)t.slotName=wn(t,"name");else{var e;"template"===t.tag?(e=En(t,"scope"),t.slotScope=e||En(t,"slot-scope")):(e=En(t,"slot-scope"))&&(t.slotScope=e);var i=wn(t,"slot");i&&(t.slotTarget='""'===i?'"default"':i,"template"===t.tag||t.slotScope||yn(t,"slot",i))}}(t),function(t){var e;(e=wn(t,"is"))&&(t.component=e);null!=En(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var r=0;r<wo.length;r++)t=wo[r](t,e)||t;!function(t){var e,i,n,r,o,s,a,l=t.attrsList;for(e=0,i=l.length;e<i;e++){if(n=r=l[e].name,o=l[e].value,Bo.test(n))if(t.hasBindings=!0,(s=Go(n))&&(n=n.replace(Do,"")),Io.test(n))n=n.replace(Io,""),o=fn(o),a=!1,s&&(s.prop&&(a=!0,"innerHtml"===(n=C(n))&&(n="innerHTML")),s.camel&&(n=C(n)),s.sync&&Cn(t,"update:"+C(n),Tn(o,"$event"))),a||!t.component&&_o(t.tag,t.attrsMap.type,n)?An(t,n,o):yn(t,n,o);else if(ko.test(n))n=n.replace(ko,""),Cn(t,n,o,s,!1);else{var h=(n=n.replace(Bo,"")).match(No),u=h&&h[1];u&&(n=n.slice(0,-(u.length+1))),bn(t,n,r,o,u,s)}else yn(t,n,JSON.stringify(o)),!t.component&&"muted"===n&&_o(t.tag,t.attrsMap.type,n)&&An(t,n,"true")}}(t)}function Vo(t){var e;if(e=En(t,"v-for")){var i=function(t){var e=t.match(Oo);if(!e)return;var i={};i.for=e[2].trim();var n=e[1].trim().replace(Lo,""),r=n.match(Po);r?(i.alias=n.replace(Po,""),i.iterator1=r[1].trim(),r[2]&&(i.iterator2=r[2].trim())):i.alias=n;return i}(e);i&&M(t,i)}}function jo(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function Go(t){var e=t.match(Do);if(e){var i={};return e.forEach(function(t){i[t.slice(1)]=!0}),i}}var zo=/^xmlns:NS\d+/,Qo=/^NS\d+:/;function Yo(t){return Fo(t.tag,t.attrsList.slice(),t.parent)}var Ko=[$r,qr,{preTransformNode:function(t,e){if("input"===t.tag){var i,n=t.attrsMap;if(!n["v-model"])return;if((n[":type"]||n["v-bind:type"])&&(i=wn(t,"type")),n.type||i||!n["v-bind"]||(i="("+n["v-bind"]+").type"),i){var r=En(t,"v-if",!0),o=r?"&&("+r+")":"",s=null!=En(t,"v-else",!0),a=En(t,"v-else-if",!0),l=Yo(t);Vo(l),xn(l,"type","checkbox"),Uo(l,e),l.processed=!0,l.if="("+i+")==='checkbox'"+o,jo(l,{exp:l.if,block:l});var h=Yo(t);En(h,"v-for",!0),xn(h,"type","radio"),Uo(h,e),jo(l,{exp:"("+i+")==='radio'"+o,block:h});var u=Yo(t);return En(u,"v-for",!0),xn(u,":type",i),Uo(u,e),jo(l,{exp:r,block:u}),s?l.else=!0:a&&(l.elseif=a),l}}}}];var Xo,$o,Wo={expectHTML:!0,modules:Ko,directives:{model:function(t,e,i){i;var n=e.value,r=e.modifiers,o=t.tag,s=t.attrsMap.type;if(t.component)return Sn(t,n,r),!1;if("select"===o)!function(t,e,i){var n='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(i&&i.number?"_n(val)":"val")+"});";n=n+" "+Tn(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),Cn(t,"change",n,null,!0)}(t,n,r);else if("input"===o&&"checkbox"===s)!function(t,e,i){var n=i&&i.number,r=wn(t,"value")||"null",o=wn(t,"true-value")||"true",s=wn(t,"false-value")||"false";An(t,"checked","Array.isArray("+e+")?_i("+e+","+r+")>-1"+("true"===o?":("+e+")":":_q("+e+","+o+")")),Cn(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+s+");if(Array.isArray($$a)){var $$v="+(n?"_n("+r+")":r)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Tn(e,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Tn(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Tn(e,"$$c")+"}",null,!0)}(t,n,r);else if("input"===o&&"radio"===s)!function(t,e,i){var n=i&&i.number,r=wn(t,"value")||"null";An(t,"checked","_q("+e+","+(r=n?"_n("+r+")":r)+")"),Cn(t,"change",Tn(e,r),null,!0)}(t,n,r);else if("input"===o||"textarea"===o)!function(t,e,i){var n=t.attrsMap.type,r=i||{},o=r.lazy,s=r.number,a=r.trim,l=!o&&"range"!==n,h=o?"change":"range"===n?Ln:"input",u="$event.target.value";a&&(u="$event.target.value.trim()"),s&&(u="_n("+u+")");var c=Tn(e,u);l&&(c="if($event.target.composing)return;"+c),An(t,"value","("+e+")"),Cn(t,h,c,null,!0),(a||s)&&Cn(t,"blur","$forceUpdate()")}(t,n,r);else if(!H.isReservedTag(o))return Sn(t,n,r),!1;return!0},text:function(t,e){e.value&&An(t,"textContent","_s("+e.value+")")},html:function(t,e){e.value&&An(t,"innerHTML","_s("+e.value+")")}},isPreTag:function(t){return"pre"===t},isUnaryTag:Zr,mustUseProp:bi,canBeLeftOpenTag:to,isReservedTag:Ii,getTagNamespace:Di,staticKeys:function(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}(Ko)},qo=x(function(t){return f("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(t?","+t:""))});function Jo(t,e){t&&(Xo=qo(e.staticKeys||""),$o=e.isReservedTag||O,function t(e){e.static=function(t){if(2===t.type)return!1;if(3===t.type)return!0;return!(!t.pre&&(t.hasBindings||t.if||t.for||m(t.tag)||!$o(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(Xo)))}(e);if(1===e.type){if(!$o(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var i=0,n=e.children.length;i<n;i++){var r=e.children[i];t(r),r.static||(e.static=!1)}if(e.ifConditions)for(var o=1,s=e.ifConditions.length;o<s;o++){var a=e.ifConditions[o].block;t(a),a.static||(e.static=!1)}}}(t),function t(e,i){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=i),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var n=0,r=e.children.length;n<r;n++)t(e.children[n],i||!!e.for);if(e.ifConditions)for(var o=1,s=e.ifConditions.length;o<s;o++)t(e.ifConditions[o].block,i)}}(t,!1))}var Zo=/^([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,ts=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,es={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},is={esc:"Escape",tab:"Tab",enter:"Enter",space:" ",up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete"]},ns=function(t){return"if("+t+")return null;"},rs={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:ns("$event.target !== $event.currentTarget"),ctrl:ns("!$event.ctrlKey"),shift:ns("!$event.shiftKey"),alt:ns("!$event.altKey"),meta:ns("!$event.metaKey"),left:ns("'button' in $event && $event.button !== 0"),middle:ns("'button' in $event && $event.button !== 1"),right:ns("'button' in $event && $event.button !== 2")};function os(t,e,i){var n=e?"nativeOn:{":"on:{";for(var r in t)n+='"'+r+'":'+ss(r,t[r])+",";return n.slice(0,-1)+"}"}function ss(t,e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return ss(t,e)}).join(",")+"]";var i=ts.test(e.value),n=Zo.test(e.value);if(e.modifiers){var r="",o="",s=[];for(var a in e.modifiers)if(rs[a])o+=rs[a],es[a]&&s.push(a);else if("exact"===a){var l=e.modifiers;o+=ns(["ctrl","shift","alt","meta"].filter(function(t){return!l[t]}).map(function(t){return"$event."+t+"Key"}).join("||"))}else s.push(a);return s.length&&(r+=function(t){return"if(!('button' in $event)&&"+t.map(as).join("&&")+")return null;"}(s)),o&&(r+=o),"function($event){"+r+(i?"return "+e.value+"($event)":n?"return ("+e.value+")($event)":e.value)+"}"}return i||n?e.value:"function($event){"+e.value+"}"}function as(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var i=es[t],n=is[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(i)+",$event.key,"+JSON.stringify(n)+")"}var ls={on:function(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}},bind:function(t,e){t.wrapData=function(i){return"_b("+i+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}},cloak:B},hs=function(t){this.options=t,this.warn=t.warn||gn,this.transforms=vn(t.modules,"transformCode"),this.dataGenFns=vn(t.modules,"genData"),this.directives=M(M({},ls),t.directives);var e=t.isReservedTag||O;this.maybeComponent=function(t){return!e(t.tag)},this.onceId=0,this.staticRenderFns=[]};function us(t,e){var i=new hs(e);return{render:"with(this){return "+(t?cs(t,i):'_c("div")')+"}",staticRenderFns:i.staticRenderFns}}function cs(t,e){if(t.staticRoot&&!t.staticProcessed)return ds(t,e);if(t.once&&!t.onceProcessed)return ps(t,e);if(t.for&&!t.forProcessed)return function(t,e,i,n){var r=t.for,o=t.alias,s=t.iterator1?","+t.iterator1:"",a=t.iterator2?","+t.iterator2:"";0;return t.forProcessed=!0,(n||"_l")+"(("+r+"),function("+o+s+a+"){return "+(i||cs)(t,e)+"})"}(t,e);if(t.if&&!t.ifProcessed)return fs(t,e);if("template"!==t.tag||t.slotTarget){if("slot"===t.tag)return function(t,e){var i=t.slotName||'"default"',n=vs(t,e),r="_t("+i+(n?","+n:""),o=t.attrs&&"{"+t.attrs.map(function(t){return C(t.name)+":"+t.value}).join(",")+"}",s=t.attrsMap["v-bind"];!o&&!s||n||(r+=",null");o&&(r+=","+o);s&&(r+=(o?"":",null")+","+s);return r+")"}(t,e);var i;if(t.component)i=function(t,e,i){var n=e.inlineTemplate?null:vs(e,i,!0);return"_c("+t+","+ms(e,i)+(n?","+n:"")+")"}(t.component,t,e);else{var n=t.plain?void 0:ms(t,e),r=t.inlineTemplate?null:vs(t,e,!0);i="_c('"+t.tag+"'"+(n?","+n:"")+(r?","+r:"")+")"}for(var o=0;o<e.transforms.length;o++)i=e.transforms[o](t,i);return i}return vs(t,e)||"void 0"}function ds(t,e){return t.staticProcessed=!0,e.staticRenderFns.push("with(this){return "+cs(t,e)+"}"),"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function ps(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return fs(t,e);if(t.staticInFor){for(var i="",n=t.parent;n;){if(n.for){i=n.key;break}n=n.parent}return i?"_o("+cs(t,e)+","+e.onceId+++","+i+")":cs(t,e)}return ds(t,e)}function fs(t,e,i,n){return t.ifProcessed=!0,function t(e,i,n,r){if(!e.length)return r||"_e()";var o=e.shift();return o.exp?"("+o.exp+")?"+s(o.block)+":"+t(e,i,n,r):""+s(o.block);function s(t){return n?n(t,i):t.once?ps(t,i):cs(t,i)}}(t.ifConditions.slice(),e,i,n)}function ms(t,e){var i="{",n=function(t,e){var i=t.directives;if(!i)return;var n,r,o,s,a="directives:[",l=!1;for(n=0,r=i.length;n<r;n++){o=i[n],s=!0;var h=e.directives[o.name];h&&(s=!!h(t,o,e.warn)),s&&(l=!0,a+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?',arg:"'+o.arg+'"':"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}if(l)return a.slice(0,-1)+"]"}(t,e);n&&(i+=n+","),t.key&&(i+="key:"+t.key+","),t.ref&&(i+="ref:"+t.ref+","),t.refInFor&&(i+="refInFor:true,"),t.pre&&(i+="pre:true,"),t.component&&(i+='tag:"'+t.tag+'",');for(var r=0;r<e.dataGenFns.length;r++)i+=e.dataGenFns[r](t);if(t.attrs&&(i+="attrs:{"+xs(t.attrs)+"},"),t.props&&(i+="domProps:{"+xs(t.props)+"},"),t.events&&(i+=os(t.events,!1,e.warn)+","),t.nativeEvents&&(i+=os(t.nativeEvents,!0,e.warn)+","),t.slotTarget&&!t.slotScope&&(i+="slot:"+t.slotTarget+","),t.scopedSlots&&(i+=function(t,e){return"scopedSlots:_u(["+Object.keys(t).map(function(i){return gs(i,t[i],e)}).join(",")+"])"}(t.scopedSlots,e)+","),t.model&&(i+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var o=function(t,e){var i=t.children[0];0;if(1===i.type){var n=us(i,e.options);return"inlineTemplate:{render:function(){"+n.render+"},staticRenderFns:["+n.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}(t,e);o&&(i+=o+",")}return i=i.replace(/,$/,"")+"}",t.wrapData&&(i=t.wrapData(i)),t.wrapListeners&&(i=t.wrapListeners(i)),i}function gs(t,e,i){return e.for&&!e.forProcessed?function(t,e,i){var n=e.for,r=e.alias,o=e.iterator1?","+e.iterator1:"",s=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,"_l(("+n+"),function("+r+o+s+"){return "+gs(t,e,i)+"})"}(t,e,i):"{key:"+t+",fn:"+("function("+String(e.slotScope)+"){return "+("template"===e.tag?e.if?e.if+"?"+(vs(e,i)||"undefined")+":undefined":vs(e,i)||"undefined":cs(e,i))+"}")+"}"}function vs(t,e,i,n,r){var o=t.children;if(o.length){var s=o[0];if(1===o.length&&s.for&&"template"!==s.tag&&"slot"!==s.tag)return(n||cs)(s,e);var a=i?function(t,e){for(var i=0,n=0;n<t.length;n++){var r=t[n];if(1===r.type){if(As(r)||r.ifConditions&&r.ifConditions.some(function(t){return As(t.block)})){i=2;break}(e(r)||r.ifConditions&&r.ifConditions.some(function(t){return e(t.block)}))&&(i=1)}}return i}(o,e.maybeComponent):0,l=r||ys;return"["+o.map(function(t){return l(t,e)}).join(",")+"]"+(a?","+a:"")}}function As(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function ys(t,e){return 1===t.type?cs(t,e):3===t.type&&t.isComment?(n=t,"_e("+JSON.stringify(n.text)+")"):"_v("+(2===(i=t).type?i.expression:bs(JSON.stringify(i.text)))+")";var i,n}function xs(t){for(var e="",i=0;i<t.length;i++){var n=t[i];e+='"'+n.name+'":'+bs(n.value)+","}return e.slice(0,-1)}function bs(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");function Cs(t,e){try{return new Function(t)}catch(i){return e.push({err:i,code:t}),B}}var ws,Es,Ss=(ws=function(t,e){var i=Ho(t.trim(),e);!1!==e.optimize&&Jo(i,e);var n=us(i,e);return{ast:i,render:n.render,staticRenderFns:n.staticRenderFns}},function(t){function e(e,i){var n=Object.create(t),r=[],o=[];if(n.warn=function(t,e){(e?o:r).push(t)},i)for(var s in i.modules&&(n.modules=(t.modules||[]).concat(i.modules)),i.directives&&(n.directives=M(Object.create(t.directives||null),i.directives)),i)"modules"!==s&&"directives"!==s&&(n[s]=i[s]);var a=ws(e,n);return a.errors=r,a.tips=o,a}return{compile:e,compileToFunctions:function(t){var e=Object.create(null);return function(i,n,r){(n=M({},n)).warn,delete n.warn;var o=n.delimiters?String(n.delimiters)+i:i;if(e[o])return e[o];var s=t(i,n),a={},l=[];return a.render=Cs(s.render,l),a.staticRenderFns=s.staticRenderFns.map(function(t){return Cs(t,l)}),e[o]=a}}(e)}})(Wo).compileToFunctions;function Ts(t){return(Es=Es||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',Es.innerHTML.indexOf("&#10;")>0}var _s=!!Q&&Ts(!1),Ms=!!Q&&Ts(!0),ks=x(function(t){var e=Hi(t);return e&&e.innerHTML}),Bs=ci.prototype.$mount;ci.prototype.$mount=function(t,e){if((t=t&&Hi(t))===document.body||t===document.documentElement)return this;var i=this.$options;if(!i.render){var n=i.template;if(n)if("string"==typeof n)"#"===n.charAt(0)&&(n=ks(n));else{if(!n.nodeType)return this;n=n.innerHTML}else t&&(n=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(n){0;var r=Ss(n,{shouldDecodeNewlines:_s,shouldDecodeNewlinesForHref:Ms,delimiters:i.delimiters,comments:i.comments},this),o=r.render,s=r.staticRenderFns;i.render=o,i.staticRenderFns=s}}return Bs.call(this,t,e)},ci.compile=Ss,e.default=ci}.call(e,i("DuR2"))},"77Pl":function(t,e,i){var n=i("EqjI");t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},"7J9s":function(t,e,i){"use strict";e.__esModule=!0,e.PopupManager=void 0;var n=l(i("7+uW")),r=l(i("jmaC")),o=l(i("OAzY")),s=l(i("6Twh")),a=i("2kvA");function l(t){return t&&t.__esModule?t:{default:t}}var h=1,u=void 0;e.default={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount:function(){this._popupId="popup-"+h++,o.default.register(this._popupId,this)},beforeDestroy:function(){o.default.deregister(this._popupId),o.default.closeModal(this._popupId),this.restoreBodyStyle()},data:function(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible:function(t){var e=this;if(t){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,n.default.nextTick(function(){e.open()}))}else this.close()}},methods:{open:function(t){var e=this;this.rendered||(this.rendered=!0);var i=(0,r.default)({},this.$props||this,t);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var n=Number(i.openDelay);n>0?this._openTimer=setTimeout(function(){e._openTimer=null,e.doOpen(i)},n):this.doOpen(i)},doOpen:function(t){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0;var e=this.$el,i=t.modal,n=t.zIndex;if(n&&(o.default.zIndex=n),i&&(this._closing&&(o.default.closeModal(this._popupId),this._closing=!1),o.default.openModal(this._popupId,o.default.nextZIndex(),this.modalAppendToBody?void 0:e,t.modalClass,t.modalFade),t.lockScroll)){this.withoutHiddenClass=!(0,a.hasClass)(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt((0,a.getStyle)(document.body,"paddingRight"),10)),u=(0,s.default)();var r=document.documentElement.clientHeight<document.body.scrollHeight,l=(0,a.getStyle)(document.body,"overflowY");u>0&&(r||"scroll"===l)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+u+"px"),(0,a.addClass)(document.body,"el-popup-parent--hidden")}"static"===getComputedStyle(e).position&&(e.style.position="absolute"),e.style.zIndex=o.default.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var t=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var e=Number(this.closeDelay);e>0?this._closeTimer=setTimeout(function(){t._closeTimer=null,t.doClose()},e):this.doClose()}},doClose:function(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose:function(){o.default.closeModal(this._popupId),this._closing=!1},restoreBodyStyle:function(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,(0,a.removeClass)(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},e.PopupManager=o.default},"7KvD":function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},"7UMu":function(t,e,i){var n=i("R9M2");t.exports=Array.isArray||function(t){return"Array"==n(t)}},"835U":function(t,e,i){"use strict";e.__esModule=!0,e.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},e.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},e.isHtmlElement=function(t){return t&&t.nodeType===Node.ELEMENT_NODE};e.isFunction=function(t){return t&&"[object Function]"==={}.toString.call(t)},e.isUndefined=function(t){return void 0===t},e.isDefined=function(t){return void 0!==t&&null!==t}},"880/":function(t,e,i){t.exports=i("hJx8")},"8ZKb":function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i={inserted:function(t,e,i){var n=i.context.$refs[e.arg]||i.context.$refs[e.value],r="[object Array]"===Object.prototype.toString.call(n)?n[0]:n;r.addRef({el:t,vnode:i}),r.$contextmenuId=t.id||r._uid}};var n={name:"VContextmenu",provide:function(){return{$$contextmenu:this}},props:{eventType:{type:String,default:"contextmenu"},theme:{type:String,default:"default"},autoPlacement:{type:Boolean,default:!0},disabled:Boolean},data:function(){return{visible:!1,references:[],style:{top:0,left:0}}},computed:{clickOutsideHandler:function(){return this.visible?this.hide:function(){}},isClick:function(){return"click"===this.eventType},contextmenuCls:function(){return["v-contextmenu","v-contextmenu--"+this.theme]}},watch:{visible:function(t){t?(this.$emit("show",this),document.body.addEventListener("click",this.handleBodyClick)):(this.$emit("hide",this),document.body.removeEventListener("click",this.handleBodyClick))}},mounted:function(){var t,e,i;document.body.appendChild(this.$el),window.$$VContextmenu?window.$$VContextmenu[this.$contextmenuId]=this:window.$$VContextmenu=(t={},e=this.$contextmenuId,i=this,e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t)},beforeDestroy:function(){var t=this;document.body.removeChild(this.$el),delete window.$$VContextmenu[this.$contextmenuId],this.references.forEach(function(e){e.el.removeEventListener(t.eventType,t.handleReferenceContextmenu)}),document.body.removeEventListener("click",this.handleBodyClick)},methods:{addRef:function(t){this.references.push(t),t.el.addEventListener(this.eventType,this.handleReferenceContextmenu)},handleReferenceContextmenu:function(t){var e=this;if(t.preventDefault(),!this.disabled){var i=this.references.find(function(e){return e.el.contains(t.target)});this.$emit("contextmenu",i?i.vnode:null);var n=t.pageX,r=t.pageY;this.show(),this.$nextTick(function(){var t={top:r,left:n};if(e.autoPlacement){var i=e.$refs.contextmenu.clientWidth,o=e.$refs.contextmenu.clientHeight;o+r>=window.innerHeight&&(t.top-=o),i+n>=window.innerWidth&&(t.left-=i)}e.style={top:t.top+"px",left:t.left+"px"}})}},handleBodyClick:function(t){this.$el.contains(t.target)||this.isClick&&this.references.some(function(e){return e.el.contains(t.target)})||(this.visible=!1)},show:function(t){var e=this;Object.keys(window.$$VContextmenu).forEach(function(t){t!==e.$contextmenuId&&window.$$VContextmenu[t].hide()}),t&&(this.style={top:t.top+"px",left:t.left+"px"}),this.visible=!0},hide:function(){this.visible=!1},hideAll:function(){Object.keys(window.$$VContextmenu).forEach(function(t){window.$$VContextmenu[t].hide()})}}},r=function(){var t=this.$createElement;return(this._self._c||t)("ul",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],ref:"contextmenu",class:this.contextmenuCls,style:this.style},[this._t("default")],2)};r._withStripped=!0;var o,s,a,l,h=(o=void 0!==r?{render:r,staticRenderFns:[]}:{},s=void 0,a=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(l=(void 0===n?{}:n)||{}).__file="/Users/stephen/repos/heynext/v-contextmenu/src/components/Contextmenu.vue",l.render||(l.render=o.render,l.staticRenderFns=o.staticRenderFns,l._compiled=!0,a&&(l.functional=!0)),l._scopeId=s,l),u={name:"VContextmenuItem",inject:["$$contextmenu"],props:{divider:Boolean,disabled:Boolean,autoHide:{type:Boolean,default:!0}},data:function(){return{hover:!1}},computed:{classname:function(){return{"v-contextmenu-item":!this.divider,"v-contextmenu-item--hover":this.hover,"v-contextmenu-item--disabled":this.disabled}}},methods:{handleMouseenter:function(t){this.disabled||(this.hover=!0,this.$emit("mouseenter",this,t))},handleMouseleave:function(t){this.disabled||(this.hover=!1,this.$emit("mouseleave",this,t))},handleClick:function(t){this.disabled||(this.$emit("click",this,t),this.autoHide&&this.$$contextmenu.hide())}}},c=function(){var t=this.$createElement,e=this._self._c||t;return this.divider?e("li",{staticClass:"v-contextmenu-divider"}):e("li",{class:this.classname,on:{click:this.handleClick,mouseenter:this.handleMouseenter,mouseleave:this.handleMouseleave}},[this._t("default")],2)};c._withStripped=!0;var d=function(t,e,i,n,r,o,s,a){var l=i||{};return l.__file="/Users/stephen/repos/heynext/v-contextmenu/src/components/ContextmenuItem.vue",l.render||(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}(void 0!==c?{render:c,staticRenderFns:[]}:{},0,void 0===u?{}:u,void 0,!1,0,0,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__);var p={name:"VContextmenuSubmenu",props:{title:String,disabled:Boolean},data:function(){return{hover:!1,submenuPlacement:[]}},computed:{classname:function(){return{"v-contextmenu-item":!0,"v-contextmenu-submenu":!0,"v-contextmenu-item--hover":this.hover,"v-contextmenu-item--disabled":this.disabled}},submenuCls:function(){return["v-contextmenu"].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(this.submenuPlacement))}},methods:{handleMouseenter:function(t){var e=this;if(!this.disabled){var i=t.target.getBoundingClientRect();this.hover=!0,this.$emit("mouseenter",this,t),this.$nextTick(function(){var t=e.$refs.submenu.clientWidth,n=e.$refs.submenu.clientHeight,r=[];i.right+t>=window.innerWidth?r.push("left"):r.push("right"),i.bottom+n>=window.innerHeight?r.push("bottom"):r.push("top"),e.submenuPlacement=r})}},handleMouseleave:function(t){this.disabled||(this.hover=!1,this.$emit("mouseleave",this,t))}}},f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{class:t.classname,on:{mouseenter:t.handleMouseenter,mouseleave:t.handleMouseleave}},[i("span",{staticClass:"v-contextmenu-submenu__title"},[t._t("title",[t._v(t._s(t.title))]),t._v(" "),i("span",{staticClass:"v-contextmenu-iconfont v-contextmenu-submenu__icon"})],2),t._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.hover,expression:"hover"}],ref:"submenu",class:t.submenuCls},[t._t("default")],2)])};f._withStripped=!0;var m=function(t,e,i,n,r,o,s,a){var l=i||{};return l.__file="/Users/stephen/repos/heynext/v-contextmenu/src/components/ContextmenuSubmenu.vue",l.render||(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}(void 0!==f?{render:f,staticRenderFns:[]}:{},0,void 0===p?{}:p,void 0,!1,0,0,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__),g={name:"VContextmenuGroup",props:{maxWidth:[Number,String]},computed:{menusStyle:function(){return this.maxWidth?{"max-width":"number"==typeof this.maxWidth?this.maxWidth+"px":this.maxWidth,"overflow-x":"auto"}:null}}},v=function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"v-contextmenu-group"},[e("ul",{staticClass:"v-contextmenu-group__menus",style:this.menusStyle},[this._t("default")],2)])};v._withStripped=!0;var A=function(t,e,i,n,r,o,s,a){var l=i||{};return l.__file="/Users/stephen/repos/heynext/v-contextmenu/src/components/ContextmenuGroup.vue",l.render||(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=n,l}(void 0!==v?{render:v,staticRenderFns:[]}:{},0,void 0===g?{}:g,void 0,!1,0,0,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__),y=function(t){t.directive("contextmenu",i),t.component(h.name,h),t.component(d.name,d),t.component(m.name,m),t.component(A.name,A)};"undefined"!=typeof window&&window.Vue&&y(window.Vue);var x={install:y};e.directive=i,e.Contextmenu=h,e.ContextmenuItem=d,e.ContextmenuSubmenu=m,e.ContextmenuGroup=A,e.default=x},"94VQ":function(t,e,i){"use strict";var n=i("Yobk"),r=i("X8DO"),o=i("e6n0"),s={};i("hJx8")(s,i("dSzd")("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(s,{next:r(1,i)}),o(t,e+" Iterator")}},AMCD:function(t,e,i){"use strict";e.__esModule=!0,e.validateRangeInOneMonth=e.extractTimeFormat=e.extractDateFormat=e.nextYear=e.prevYear=e.nextMonth=e.prevMonth=e.changeYearMonthAndClampDate=e.timeWithinRange=e.limitTimeRange=e.clearMilliseconds=e.clearTime=e.modifyWithTimeString=e.modifyTime=e.modifyDate=e.range=e.getRangeMinutes=e.getMonthDays=e.getPrevMonthLastDays=e.getRangeHours=e.getWeekNumber=e.getStartDateOfMonth=e.nextDate=e.prevDate=e.getFirstDayOfMonth=e.getDayCountOfYear=e.getDayCountOfMonth=e.parseDate=e.formatDate=e.isDateObject=e.isDate=e.toDate=e.getI18nSettings=void 0;var n,r=i("eNfa"),o=(n=r)&&n.__esModule?n:{default:n},s=i("urW8");var a=["sun","mon","tue","wed","thu","fri","sat"],l=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],h=e.getI18nSettings=function(){return{dayNamesShort:a.map(function(t){return(0,s.t)("el.datepicker.weeks."+t)}),dayNames:a.map(function(t){return(0,s.t)("el.datepicker.weeks."+t)}),monthNamesShort:l.map(function(t){return(0,s.t)("el.datepicker.months."+t)}),monthNames:l.map(function(t,e){return(0,s.t)("el.datepicker.month"+(e+1))}),amPm:["am","pm"]}},u=e.toDate=function(t){return c(t)?new Date(t):null},c=e.isDate=function(t){return null!==t&&void 0!==t&&(!isNaN(new Date(t).getTime())&&!Array.isArray(t))},d=(e.isDateObject=function(t){return t instanceof Date},e.formatDate=function(t,e){return(t=u(t))?o.default.format(t,e||"yyyy-MM-dd",h()):""},e.parseDate=function(t,e){return o.default.parse(t,e||"yyyy-MM-dd",h())}),p=e.getDayCountOfMonth=function(t,e){return 3===e||5===e||8===e||10===e?30:1===e?t%4==0&&t%100!=0||t%400==0?29:28:31},f=(e.getDayCountOfYear=function(t){return t%400==0||t%100!=0&&t%4==0?366:365},e.getFirstDayOfMonth=function(t){var e=new Date(t.getTime());return e.setDate(1),e.getDay()},e.prevDate=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Date(t.getFullYear(),t.getMonth(),t.getDate()-e)});e.nextDate=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e)},e.getStartDateOfMonth=function(t,e){var i=new Date(t,e,1),n=i.getDay();return f(i,0===n?7:n)},e.getWeekNumber=function(t){if(!c(t))return null;var e=new Date(t.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var i=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-i.getTime())/864e5-3+(i.getDay()+6)%7)/7)},e.getRangeHours=function(t){var e=[],i=[];if((t||[]).forEach(function(t){var e=t.map(function(t){return t.getHours()});i=i.concat(function(t,e){for(var i=[],n=t;n<=e;n++)i.push(n);return i}(e[0],e[1]))}),i.length)for(var n=0;n<24;n++)e[n]=-1===i.indexOf(n);else for(var r=0;r<24;r++)e[r]=!1;return e},e.getPrevMonthLastDays=function(t,e){if(e<=0)return[];var i=new Date(t.getTime());i.setDate(0);var n=i.getDate();return g(e).map(function(t,i){return n-(e-i-1)})},e.getMonthDays=function(t){var e=new Date(t.getFullYear(),t.getMonth()+1,0).getDate();return g(e).map(function(t,e){return e+1})};function m(t,e,i,n){for(var r=e;r<i;r++)t[r]=n}e.getRangeMinutes=function(t,e){var i=new Array(60);return t.length>0?t.forEach(function(t){var n=t[0],r=t[1],o=n.getHours(),s=n.getMinutes(),a=r.getHours(),l=r.getMinutes();o===e&&a!==e?m(i,s,60,!0):o===e&&a===e?m(i,s,l+1,!0):o!==e&&a===e?m(i,0,l+1,!0):o<e&&a>e&&m(i,0,60,!0)}):m(i,0,60,!0),i};var g=e.range=function(t){return Array.apply(null,{length:t}).map(function(t,e){return e})},v=e.modifyDate=function(t,e,i,n){return new Date(e,i,n,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())},A=e.modifyTime=function(t,e,i,n){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),e,i,n,t.getMilliseconds())},y=(e.modifyWithTimeString=function(t,e){return null!=t&&e?(e=d(e,"HH:mm:ss"),A(t,e.getHours(),e.getMinutes(),e.getSeconds())):t},e.clearTime=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.clearMilliseconds=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),0)},e.limitTimeRange=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"HH:mm:ss";if(0===e.length)return t;var n=function(t){return o.default.parse(o.default.format(t,i),i)},r=n(t),s=e.map(function(t){return t.map(n)});if(s.some(function(t){return r>=t[0]&&r<=t[1]}))return t;var a=s[0][0],l=s[0][0];return s.forEach(function(t){a=new Date(Math.min(t[0],a)),l=new Date(Math.max(t[1],a))}),v(r<a?a:l,t.getFullYear(),t.getMonth(),t.getDate())}),x=(e.timeWithinRange=function(t,e,i){return y(t,e,i).getTime()===t.getTime()},e.changeYearMonthAndClampDate=function(t,e,i){var n=Math.min(t.getDate(),p(e,i));return v(t,e,i,n)});e.prevMonth=function(t){var e=t.getFullYear(),i=t.getMonth();return 0===i?x(t,e-1,11):x(t,e,i-1)},e.nextMonth=function(t){var e=t.getFullYear(),i=t.getMonth();return 11===i?x(t,e+1,0):x(t,e,i+1)},e.prevYear=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=t.getFullYear(),n=t.getMonth();return x(t,i-e,n)},e.nextYear=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=t.getFullYear(),n=t.getMonth();return x(t,i+e,n)},e.extractDateFormat=function(t){return t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim()},e.extractTimeFormat=function(t){return t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?y{2,4}/g,"").trim()},e.validateRangeInOneMonth=function(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}},BwfY:function(t,e,i){i("fWfb"),i("M6a0"),i("OYls"),i("QWe/"),t.exports=i("FeBl").Symbol},D2L2:function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},DQJY:function(t,e,i){"use strict";e.__esModule=!0;var n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=i("hyEB"),s=(n=o)&&n.__esModule?n:{default:n};var a,l=l||{};l.Dialog=function(t,e,i){var n=this;if(this.dialogNode=t,null===this.dialogNode||"dialog"!==this.dialogNode.getAttribute("role"))throw new Error("Dialog() requires a DOM element with ARIA role of dialog.");"string"==typeof e?this.focusAfterClosed=document.getElementById(e):"object"===(void 0===e?"undefined":r(e))?this.focusAfterClosed=e:this.focusAfterClosed=null,"string"==typeof i?this.focusFirst=document.getElementById(i):"object"===(void 0===i?"undefined":r(i))?this.focusFirst=i:this.focusFirst=null,this.focusFirst?this.focusFirst.focus():s.default.focusFirstDescendant(this.dialogNode),this.lastFocus=document.activeElement,a=function(t){n.trapFocus(t)},this.addListeners()},l.Dialog.prototype.addListeners=function(){document.addEventListener("focus",a,!0)},l.Dialog.prototype.removeListeners=function(){document.removeEventListener("focus",a,!0)},l.Dialog.prototype.closeDialog=function(){var t=this;this.removeListeners(),this.focusAfterClosed&&setTimeout(function(){t.focusAfterClosed.focus()})},l.Dialog.prototype.trapFocus=function(t){s.default.IgnoreUtilFocusChanges||(this.dialogNode.contains(t.target)?this.lastFocus=t.target:(s.default.focusFirstDescendant(this.dialogNode),this.lastFocus===document.activeElement&&s.default.focusLastDescendant(this.dialogNode),this.lastFocus=document.activeElement))},e.default=l.Dialog},Dd8w:function(t,e,i){"use strict";e.__esModule=!0;var n,r=i("woOf"),o=(n=r)&&n.__esModule?n:{default:n};e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}},DuR2:function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},"E/TR":function(t,e){t.exports=function(){return Function.call.apply(Array.prototype.concat,arguments)}},"E/in":function(t,e,i){"use strict";e.__esModule=!0,e.isDef=function(t){return void 0!==t&&null!==t},e.isKorean=function(t){return/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(t)}},EGZi:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},EKTV:function(t,e,i){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=83)}({0:function(t,e,i){"use strict";function n(t,e,i,n,r,o,s,a){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),n&&(h.functional=!0),o&&(h._scopeId="data-v-"+o),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},h._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return n})},4:function(t,e){t.exports=i("fPll")},83:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"el-checkbox",class:[t.border&&t.checkboxSize?"el-checkbox--"+t.checkboxSize:"",{"is-disabled":t.isDisabled},{"is-bordered":t.border},{"is-checked":t.isChecked}],attrs:{id:t.id}},[i("span",{staticClass:"el-checkbox__input",class:{"is-disabled":t.isDisabled,"is-checked":t.isChecked,"is-indeterminate":t.indeterminate,"is-focus":t.focus},attrs:{tabindex:!!t.indeterminate&&0,role:!!t.indeterminate&&"checkbox","aria-checked":!!t.indeterminate&&"mixed"}},[i("span",{staticClass:"el-checkbox__inner"}),t.trueLabel||t.falseLabel?i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":t.indeterminate?"true":"false",name:t.name,disabled:t.isDisabled,"true-value":t.trueLabel,"false-value":t.falseLabel},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t._q(t.model,t.trueLabel)},on:{change:[function(e){var i=t.model,n=e.target,r=n.checked?t.trueLabel:t.falseLabel;if(Array.isArray(i)){var o=t._i(i,null);n.checked?o<0&&(t.model=i.concat([null])):o>-1&&(t.model=i.slice(0,o).concat(i.slice(o+1)))}else t.model=r},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":t.indeterminate?"true":"false",disabled:t.isDisabled,name:t.name},domProps:{value:t.label,checked:Array.isArray(t.model)?t._i(t.model,t.label)>-1:t.model},on:{change:[function(e){var i=t.model,n=e.target,r=!!n.checked;if(Array.isArray(i)){var o=t.label,s=t._i(i,o);n.checked?s<0&&(t.model=i.concat([o])):s>-1&&(t.model=i.slice(0,s).concat(i.slice(s+1)))}else t.model=r},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}})]),t.$slots.default||t.label?i("span",{staticClass:"el-checkbox__label"},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2):t._e()])};n._withStripped=!0;var r=i(4),o={name:"ElCheckbox",mixins:[i.n(r).a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElCheckbox",data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},computed:{model:{get:function(){return this.isGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(t){this.isGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&t.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&t.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[t])):(this.$emit("input",t),this.selfModel=t)}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?this.model.indexOf(this.label)>-1:null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},isGroup:function(){for(var t=this.$parent;t;){if("ElCheckboxGroup"===t.$options.componentName)return this._checkboxGroup=t,!0;t=t.$parent}return!1},store:function(){return this._checkboxGroup?this._checkboxGroup.value:this.value},isLimitDisabled:function(){var t=this._checkboxGroup,e=t.max,i=t.min;return!(!e&&!i)&&this.model.length>=e&&!this.isChecked||this.model.length<=i&&this.isChecked},isDisabled:function(){return this.isGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxSize:function(){var t=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._checkboxGroup.checkboxGroupSize||t}},props:{value:{},label:{},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number],id:String,controls:String,border:Boolean,size:String},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(t){var e=this;if(!this.isLimitExceeded){var i=void 0;i=t.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",i,t),this.$nextTick(function(){e.isGroup&&e.dispatch("ElCheckboxGroup","change",[e._checkboxGroup.value])})}}},created:function(){this.checked&&this.addToStore()},mounted:function(){this.indeterminate&&this.$el.setAttribute("aria-controls",this.controls)},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",t)}}},s=i(0),a=Object(s.a)(o,n,[],!1,null,null,null);a.options.__file="packages/checkbox/src/checkbox.vue";var l=a.exports;l.install=function(t){t.component(l.name,l)};e.default=l}})},EKta:function(t,e,i){"use strict";e.byteLength=function(t){var e=h(t),i=e[0],n=e[1];return 3*(i+n)/4-n},e.toByteArray=function(t){for(var e,i=h(t),n=i[0],s=i[1],a=new o(function(t,e,i){return 3*(e+i)/4-i}(0,n,s)),l=0,u=s>0?n-4:n,c=0;c<u;c+=4)e=r[t.charCodeAt(c)]<<18|r[t.charCodeAt(c+1)]<<12|r[t.charCodeAt(c+2)]<<6|r[t.charCodeAt(c+3)],a[l++]=e>>16&255,a[l++]=e>>8&255,a[l++]=255&e;2===s&&(e=r[t.charCodeAt(c)]<<2|r[t.charCodeAt(c+1)]>>4,a[l++]=255&e);1===s&&(e=r[t.charCodeAt(c)]<<10|r[t.charCodeAt(c+1)]<<4|r[t.charCodeAt(c+2)]>>2,a[l++]=e>>8&255,a[l++]=255&e);return a},e.fromByteArray=function(t){for(var e,i=t.length,r=i%3,o=[],s=0,a=i-r;s<a;s+=16383)o.push(u(t,s,s+16383>a?a:s+16383));1===r?(e=t[i-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===r&&(e=(t[i-2]<<8)+t[i-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)n[a]=s[a],r[s.charCodeAt(a)]=a;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function u(t,e,i){for(var r,o,s=[],a=e;a<i;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=r)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},EqjI:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},EuP9:function(t,e,i){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=i("EKta"),r=i("ujcs"),o=i("sOR5");function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,i){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return h(this,t,e,i)}function h(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=d(t,e);return t}(t,e,i,n):"string"==typeof e?function(t,e,i){"string"==typeof i&&""!==i||(i="utf8");if(!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(e,i),r=(t=a(t,n)).write(e,i);r!==n&&(t=t.slice(0,r));return t}(t,e,i):function(t,e){if(l.isBuffer(e)){var i=0|p(e.length);return 0===(t=a(t,i)).length?t:(e.copy(t,0,0,i),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?a(t,0):d(t,e);if("Buffer"===e.type&&o(e.data))return d(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(u(e),t=a(t,e<0?0:0|p(e)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function d(t,e){var i=e.length<0?0:0|p(e.length);t=a(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function f(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return V(t).length;default:if(n)return U(t).length;e=(""+e).toLowerCase(),n=!0}}function m(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function g(t,e,i,n,r){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof e&&(e=l.from(e,n)),l.isBuffer(e))return 0===e.length?-1:v(t,e,i,n,r);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):v(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function v(t,e,i,n,r){var o,s=1,a=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,l/=2,i/=2}function h(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var u=-1;for(o=i;o<a;o++)if(h(t,o)===h(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(i+l>a&&(i=a-l),o=i;o>=0;o--){for(var c=!0,d=0;d<l;d++)if(h(t,o+d)!==h(e,d)){c=!1;break}if(c)return o}return-1}function A(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n))>r&&(n=r):n=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[i+s]=a}return s}function y(t,e,i,n){return j(U(e,t.length-i),t,i,n)}function x(t,e,i,n){return j(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,n)}function b(t,e,i,n){return x(t,e,i,n)}function C(t,e,i,n){return j(V(e),t,i,n)}function w(t,e,i,n){return j(function(t,e){for(var i,n,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)i=t.charCodeAt(s),n=i>>8,r=i%256,o.push(r),o.push(n);return o}(e,t.length-i),t,i,n)}function E(t,e,i){return 0===e&&i===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,i))}function S(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;r<i;){var o,s,a,l,h=t[r],u=null,c=h>239?4:h>223?3:h>191?2:1;if(r+c<=i)switch(c){case 1:h<128&&(u=h);break;case 2:128==(192&(o=t[r+1]))&&(l=(31&h)<<6|63&o)>127&&(u=l);break;case 3:o=t[r+1],s=t[r+2],128==(192&o)&&128==(192&s)&&(l=(15&h)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&h)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(u=l)}null===u?(u=65533,c=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),r+=c}return function(t){var e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);var i="",n=0;for(;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=T));return i}(n)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,i){return h(null,t,e,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,i){return function(t,e,i,n){return u(e),e<=0?a(t,e):void 0!==i?"string"==typeof n?a(t,e).fill(i,n):a(t,e).fill(i):a(t,e)}(null,t,e,i)},l.allocUnsafe=function(t){return c(null,t)},l.allocUnsafeSlow=function(t){return c(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,o=Math.min(i,n);r<o;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=l.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var s=t[i];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,r),r+=s.length}return n},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):function(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return k(this,e,i);case"utf8":case"utf-8":return S(this,e,i);case"ascii":return _(this,e,i);case"latin1":case"binary":return M(this,e,i);case"base64":return E(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,i,n,r){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,n>>>=0,r>>>=0,this===t)return 0;for(var o=r-n,s=i-e,a=Math.min(o,s),h=this.slice(n,r),u=t.slice(e,i),c=0;c<a;++c)if(h[c]!==u[c]){o=h[c],s=u[c];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},l.prototype.indexOf=function(t,e,i){return g(this,t,e,i,!0)},l.prototype.lastIndexOf=function(t,e,i){return g(this,t,e,i,!1)},l.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return A(this,t,e,i);case"utf8":case"utf-8":return y(this,t,e,i);case"ascii":return x(this,t,e,i);case"latin1":case"binary":return b(this,t,e,i);case"base64":return C(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function _(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function M(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function k(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",o=e;o<i;++o)r+=H(t[o]);return r}function B(t,e,i){for(var n=t.slice(e,i),r="",o=0;o<n.length;o+=2)r+=String.fromCharCode(n[o]+256*n[o+1]);return r}function O(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,i,n,r,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function L(t,e,i,n){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-i,2);r<o;++r)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function N(t,e,i,n){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-i,4);r<o;++r)t[i+r]=e>>>8*(n?r:3-r)&255}function I(t,e,i,n,r,o){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function D(t,e,i,n,o){return o||I(t,0,i,4),r.write(t,e,i,n,23,4),i+4}function R(t,e,i,n,o){return o||I(t,0,i,8),r.write(t,e,i,n,52,8),i+8}l.prototype.slice=function(t,e){var i,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=l.prototype;else{var r=e-t;i=new l(r,void 0);for(var o=0;o<r;++o)i[o]=this[o+t]}return i},l.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||O(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return n},l.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||O(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},l.prototype.readUInt8=function(t,e){return e||O(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||O(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||O(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||O(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*e)),n},l.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||O(t,e,this.length);for(var n=e,r=1,o=this[t+--n];n>0&&(r*=256);)o+=this[t+--n]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||O(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(t,e){e||O(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(t,e){return e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),r.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),r.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),r.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||O(t,8,this.length),r.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||P(this,t,e,i,Math.pow(2,8*i)-1,0);var r=1,o=0;for(this[e]=255&t;++o<i&&(r*=256);)this[e+o]=t/r&255;return e+i},l.prototype.writeUIntBE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||P(this,t,e,i,Math.pow(2,8*i)-1,0);var r=i-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+i},l.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);P(this,t,e,i,r-1,-r)}var o=0,s=1,a=0;for(this[e]=255&t;++o<i&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+i},l.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);P(this,t,e,i,r-1,-r)}var o=i-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+i},l.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,i){return D(this,t,e,!0,i)},l.prototype.writeFloatBE=function(t,e,i){return D(this,t,e,!1,i)},l.prototype.writeDoubleLE=function(t,e,i){return R(this,t,e,!0,i)},l.prototype.writeDoubleBE=function(t,e,i){return R(this,t,e,!1,i)},l.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,o=n-i;if(this===t&&i<e&&e<n)for(r=o-1;r>=0;--r)t[r+e]=this[r+i];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+o),e);return o},l.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var o;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(o=e;o<i;++o)this[o]=t;else{var s=l.isBuffer(t)?t:U(new l(t,n).toString()),a=s.length;for(o=0;o<i-e;++o)this[o+e]=s[o%a]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function H(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var i;e=e||1/0;for(var n=t.length,r=null,o=[],s=0;s<n;++s){if((i=t.charCodeAt(s))>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;o.push(i)}else if(i<2048){if((e-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function V(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function j(t,e,i,n){for(var r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}}).call(e,i("DuR2"))},FeBl:function(t,e){var i=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=i)},GegP:function(t,e){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=119)}({0:function(t,e,i){"use strict";function n(t,e,i,n,r,o,s,a){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),n&&(h.functional=!0),o&&(h._scopeId="data-v-"+o),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},h._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return n})},119:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-progress",class:["el-progress--"+t.type,t.status?"is-"+t.status:"",{"el-progress--without-text":!t.showText,"el-progress--text-inside":t.textInside}],attrs:{role:"progressbar","aria-valuenow":t.percentage,"aria-valuemin":"0","aria-valuemax":"100"}},["line"===t.type?i("div",{staticClass:"el-progress-bar"},[i("div",{staticClass:"el-progress-bar__outer",style:{height:t.strokeWidth+"px"}},[i("div",{staticClass:"el-progress-bar__inner",style:t.barStyle},[t.showText&&t.textInside?i("div",{staticClass:"el-progress-bar__innerText"},[t._v(t._s(t.content))]):t._e()])])]):i("div",{staticClass:"el-progress-circle",style:{height:t.width+"px",width:t.width+"px"}},[i("svg",{attrs:{viewBox:"0 0 100 100"}},[i("path",{staticClass:"el-progress-circle__track",style:t.trailPathStyle,attrs:{d:t.trackPath,stroke:"#e5e9f2","stroke-width":t.relativeStrokeWidth,fill:"none"}}),i("path",{staticClass:"el-progress-circle__path",style:t.circlePathStyle,attrs:{d:t.trackPath,stroke:t.stroke,fill:"none","stroke-linecap":t.strokeLinecap,"stroke-width":t.percentage?t.relativeStrokeWidth:0}})])]),t.showText&&!t.textInside?i("div",{staticClass:"el-progress__text",style:{fontSize:t.progressTextSize+"px"}},[t.status?i("i",{class:t.iconClass}):[t._v(t._s(t.content))]],2):t._e()])};n._withStripped=!0;var r={name:"ElProgress",props:{type:{type:String,default:"line",validator:function(t){return["line","circle","dashboard"].indexOf(t)>-1}},percentage:{type:Number,default:0,required:!0,validator:function(t){return t>=0&&t<=100}},status:{type:String,validator:function(t){return["success","exception","warning"].indexOf(t)>-1}},strokeWidth:{type:Number,default:6},strokeLinecap:{type:String,default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:[String,Array,Function],default:""},format:Function},computed:{barStyle:function(){var t={};return t.width=this.percentage+"%",t.backgroundColor=this.getCurrentColor(this.percentage),t},relativeStrokeWidth:function(){return(this.strokeWidth/this.width*100).toFixed(1)},radius:function(){return"circle"===this.type||"dashboard"===this.type?parseInt(50-parseFloat(this.relativeStrokeWidth)/2,10):0},trackPath:function(){var t=this.radius,e="dashboard"===this.type;return"\n        M 50 50\n        m 0 "+(e?"":"-")+t+"\n        a "+t+" "+t+" 0 1 1 0 "+(e?"-":"")+2*t+"\n        a "+t+" "+t+" 0 1 1 0 "+(e?"":"-")+2*t+"\n        "},perimeter:function(){return 2*Math.PI*this.radius},rate:function(){return"dashboard"===this.type?.75:1},strokeDashoffset:function(){return-1*this.perimeter*(1-this.rate)/2+"px"},trailPathStyle:function(){return{strokeDasharray:this.perimeter*this.rate+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset}},circlePathStyle:function(){return{strokeDasharray:this.perimeter*this.rate*(this.percentage/100)+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"}},stroke:function(){var t=void 0;if(this.color)t=this.getCurrentColor(this.percentage);else switch(this.status){case"success":t="#13ce66";break;case"exception":t="#ff4949";break;case"warning":t="#e6a23c";break;default:t="#20a0ff"}return t},iconClass:function(){return"warning"===this.status?"el-icon-warning":"line"===this.type?"success"===this.status?"el-icon-circle-check":"el-icon-circle-close":"success"===this.status?"el-icon-check":"el-icon-close"},progressTextSize:function(){return"line"===this.type?12+.4*this.strokeWidth:.111111*this.width+2},content:function(){return"function"==typeof this.format?this.format(this.percentage)||"":this.percentage+"%"}},methods:{getCurrentColor:function(t){return"function"==typeof this.color?this.color(t):"string"==typeof this.color?this.color:this.getLevelColor(t)},getLevelColor:function(t){for(var e=this.getColorArray().sort(function(t,e){return t.percentage-e.percentage}),i=0;i<e.length;i++)if(e[i].percentage>t)return e[i].color;return e[e.length-1].color},getColorArray:function(){var t=this.color,e=100/t.length;return t.map(function(t,i){return"string"==typeof t?{color:t,progress:(i+1)*e}:t})}}},o=i(0),s=Object(o.a)(r,n,[],!1,null,null,null);s.options.__file="packages/progress/src/progress.vue";var a=s.exports;a.install=function(t){t.component(a.name,a)};e.default=a}})},H8dH:function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t||!e)throw new Error("instance & callback is required");var r=!1,o=function(){r||(r=!0,e&&e.apply(null,arguments))};n?t.$once("after-leave",o):t.$on("after-leave",o),setTimeout(function(){o()},i+100)}},HJMx:function(t,e,i){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=76)}({0:function(t,e,i){"use strict";function n(t,e,i,n,r,o,s,a){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),n&&(h.functional=!0),o&&(h._scopeId="data-v-"+o),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},h._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return n})},11:function(t,e){t.exports=i("aW5l")},21:function(t,e){t.exports=i("E/in")},4:function(t,e){t.exports=i("fPll")},76:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["textarea"===t.type?"el-textarea":"el-input",t.inputSize?"el-input--"+t.inputSize:"",{"is-disabled":t.inputDisabled,"is-exceed":t.inputExceed,"el-input-group":t.$slots.prepend||t.$slots.append,"el-input-group--append":t.$slots.append,"el-input-group--prepend":t.$slots.prepend,"el-input--prefix":t.$slots.prefix||t.prefixIcon,"el-input--suffix":t.$slots.suffix||t.suffixIcon||t.clearable||t.showPassword}],on:{mouseenter:function(e){t.hovering=!0},mouseleave:function(e){t.hovering=!1}}},["textarea"!==t.type?[t.$slots.prepend?i("div",{staticClass:"el-input-group__prepend"},[t._t("prepend")],2):t._e(),"textarea"!==t.type?i("input",t._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:t.tabindex,type:t.showPassword?t.passwordVisible?"text":"password":t.type,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"input",t.$attrs,!1)):t._e(),t.$slots.prefix||t.prefixIcon?i("span",{staticClass:"el-input__prefix"},[t._t("prefix"),t.prefixIcon?i("i",{staticClass:"el-input__icon",class:t.prefixIcon}):t._e()],2):t._e(),t.getSuffixVisible()?i("span",{staticClass:"el-input__suffix"},[i("span",{staticClass:"el-input__suffix-inner"},[t.showClear&&t.showPwdVisible&&t.isWordLimitVisible?t._e():[t._t("suffix"),t.suffixIcon?i("i",{staticClass:"el-input__icon",class:t.suffixIcon}):t._e()],t.showClear?i("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(t){t.preventDefault()},click:t.clear}}):t._e(),t.showPwdVisible?i("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:t.handlePasswordVisible}}):t._e(),t.isWordLimitVisible?i("span",{staticClass:"el-input__count"},[i("span",{staticClass:"el-input__count-inner"},[t._v("\n            "+t._s(t.textLength)+"/"+t._s(t.upperLimit)+"\n          ")])]):t._e()],2),t.validateState?i("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",t.validateIcon]}):t._e()]):t._e(),t.$slots.append?i("div",{staticClass:"el-input-group__append"},[t._t("append")],2):t._e()]:i("textarea",t._b({ref:"textarea",staticClass:"el-textarea__inner",style:t.textareaStyle,attrs:{tabindex:t.tabindex,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"textarea",t.$attrs,!1)),t.isWordLimitVisible&&"textarea"===t.type?i("span",{staticClass:"el-input__count"},[t._v(t._s(t.textLength)+"/"+t._s(t.upperLimit))]):t._e()],2)};n._withStripped=!0;var r=i(4),o=i.n(r),s=i(11),a=i.n(s),l=void 0,h="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",u=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l||(l=document.createElement("textarea"),document.body.appendChild(l));var n=function(t){var e=window.getComputedStyle(t),i=e.getPropertyValue("box-sizing"),n=parseFloat(e.getPropertyValue("padding-bottom"))+parseFloat(e.getPropertyValue("padding-top")),r=parseFloat(e.getPropertyValue("border-bottom-width"))+parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:u.map(function(t){return t+":"+e.getPropertyValue(t)}).join(";"),paddingSize:n,borderSize:r,boxSizing:i}}(t),r=n.paddingSize,o=n.borderSize,s=n.boxSizing,a=n.contextStyle;l.setAttribute("style",a+";"+h),l.value=t.value||t.placeholder||"";var c=l.scrollHeight,d={};"border-box"===s?c+=o:"content-box"===s&&(c-=r),l.value="";var p=l.scrollHeight-r;if(null!==e){var f=p*e;"border-box"===s&&(f=f+r+o),c=Math.max(f,c),d.minHeight=f+"px"}if(null!==i){var m=p*i;"border-box"===s&&(m=m+r+o),c=Math.min(m,c)}return d.height=c+"px",l.parentNode&&l.parentNode.removeChild(l),l=null,d}var d=i(9),p=i.n(d),f=i(21),m={name:"ElInput",componentName:"ElInput",mixins:[o.a,a.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(t){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return p()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return"number"==typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(t){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[t])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var t=this;this.$nextTick(function(){t.setNativeInputValue(),t.resizeTextarea(),t.updateIconOffset()})}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(t){this.focused=!1,this.$emit("blur",t),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var t=this.autosize;if("textarea"===this.type)if(t){var e=t.minRows,i=t.maxRows;this.textareaCalcStyle=c(this.$refs.textarea,e,i)}else this.textareaCalcStyle={minHeight:c(this.$refs.textarea).minHeight}}},setNativeInputValue:function(){var t=this.getInput();t&&t.value!==this.nativeInputValue&&(t.value=this.nativeInputValue)},handleFocus:function(t){this.focused=!0,this.$emit("focus",t)},handleCompositionStart:function(){this.isComposing=!0},handleCompositionUpdate:function(t){var e=t.target.value,i=e[e.length-1]||"";this.isComposing=!Object(f.isKorean)(i)},handleCompositionEnd:function(t){this.isComposing&&(this.isComposing=!1,this.handleInput(t))},handleInput:function(t){this.isComposing||t.target.value!==this.nativeInputValue&&(this.$emit("input",t.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(t){this.$emit("change",t.target.value)},calcIconOffset:function(t){var e=[].slice.call(this.$el.querySelectorAll(".el-input__"+t)||[]);if(e.length){for(var i=null,n=0;n<e.length;n++)if(e[n].parentNode===this.$el){i=e[n];break}if(i){var r={suffix:"append",prefix:"prepend"}[t];this.$slots[r]?i.style.transform="translateX("+("suffix"===t?"-":"")+this.$el.querySelector(".el-input-group__"+r).offsetWidth+"px)":i.removeAttribute("style")}}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){this.passwordVisible=!this.passwordVisible,this.focus()},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},g=i(0),v=Object(g.a)(m,n,[],!1,null,null,null);v.options.__file="packages/input/src/input.vue";var A=v.exports;A.install=function(t){t.component(A.name,A)};e.default=A},9:function(t,e){t.exports=i("jmaC")}})},HzcN:function(t,e,i){var n=i("uY1a"),r=i("ON3O");t.exports={throttle:n,debounce:r}},ISYW:function(t,e,i){"use strict";e.__esModule=!0;var n,r=i("7+uW"),o=(n=r)&&n.__esModule?n:{default:n},s=i("2kvA");var a=[],l="@@clickoutsideContext",h=void 0,u=0;function c(t,e,i){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(i&&i.context&&n.target&&r.target)||t.contains(n.target)||t.contains(r.target)||t===n.target||i.context.popperElm&&(i.context.popperElm.contains(n.target)||i.context.popperElm.contains(r.target))||(e.expression&&t[l].methodName&&i.context[t[l].methodName]?i.context[t[l].methodName]():t[l].bindingFn&&t[l].bindingFn())}}!o.default.prototype.$isServer&&(0,s.on)(document,"mousedown",function(t){return h=t}),!o.default.prototype.$isServer&&(0,s.on)(document,"mouseup",function(t){a.forEach(function(e){return e[l].documentHandler(t,h)})}),e.default={bind:function(t,e,i){a.push(t);var n=u++;t[l]={id:n,documentHandler:c(t,e,i),methodName:e.expression,bindingFn:e.value}},update:function(t,e,i){t[l].documentHandler=c(t,e,i),t[l].methodName=e.expression,t[l].bindingFn=e.value},unbind:function(t){for(var e=a.length,i=0;i<e;i++)if(a[i][l].id===t[l].id){a.splice(i,1);break}delete t[l]}}},Ibhu:function(t,e,i){var n=i("D2L2"),r=i("TcQ7"),o=i("vFc/")(!1),s=i("ax3d")("IE_PROTO");t.exports=function(t,e){var i,a=r(t),l=0,h=[];for(i in a)i!=s&&n(a,i)&&h.push(i);for(;e.length>l;)n(a,i=e[l++])&&(~o(h,i)||h.push(i));return h}},Kh4W:function(t,e,i){e.f=i("dSzd")},LKZe:function(t,e,i){var n=i("NpIQ"),r=i("X8DO"),o=i("TcQ7"),s=i("MmMw"),a=i("D2L2"),l=i("SfB7"),h=Object.getOwnPropertyDescriptor;e.f=i("+E39")?h:function(t,e){if(t=o(t),e=s(e,!0),l)try{return h(t,e)}catch(t){}if(a(t,e))return r(!n.f.call(t,e),t[e])}},M6a0:function(t,e){},MU5D:function(t,e,i){var n=i("R9M2");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},Mhyx:function(t,e,i){var n=i("/bQp"),r=i("dSzd")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[r]===t)}},MmMw:function(t,e,i){var n=i("EqjI");t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},NMof:function(t,e,i){"use strict";var n,r;"function"==typeof Symbol&&Symbol.iterator;void 0===(r="function"==typeof(n=function(){var t=window,e={placement:"bottom",gpuAcceleration:!0,offset:0,boundariesElement:"viewport",boundariesPadding:5,preventOverflowOrder:["left","right","top","bottom"],flipBehavior:"flip",arrowElement:"[x-arrow]",arrowOffset:0,modifiers:["shift","offset","preventOverflow","keepTogether","arrow","flip","applyStyle"],modifiersIgnored:[],forceAbsolute:!1};function i(t,i,n){this._reference=t.jquery?t[0]:t,this.state={};var r=void 0===i||null===i,o=i&&"[object Object]"===Object.prototype.toString.call(i);return this._popper=r||o?this.parse(o?i:{}):i.jquery?i[0]:i,this._options=Object.assign({},e,n),this._options.modifiers=this._options.modifiers.map(function(t){if(-1===this._options.modifiersIgnored.indexOf(t))return"applyStyle"===t&&this._popper.setAttribute("x-placement",this._options.placement),this.modifiers[t]||t}.bind(this)),this.state.position=this._getPosition(this._popper,this._reference),u(this._popper,{position:this.state.position,top:0}),this.update(),this._setupEventListeners(),this}function n(e){var i=e.style.display,n=e.style.visibility;e.style.display="block",e.style.visibility="hidden";e.offsetWidth;var r=t.getComputedStyle(e),o=parseFloat(r.marginTop)+parseFloat(r.marginBottom),s=parseFloat(r.marginLeft)+parseFloat(r.marginRight),a={width:e.offsetWidth+s,height:e.offsetHeight+o};return e.style.display=i,e.style.visibility=n,a}function r(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function o(t){var e=Object.assign({},t);return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function s(t,e){var i,n=0;for(i in t){if(t[i]===e)return n;n++}return null}function a(e,i){return t.getComputedStyle(e,null)[i]}function l(e){var i=e.offsetParent;return i!==t.document.body&&i?i:t.document.documentElement}function h(e){var i=e.parentNode;return i?i===t.document?t.document.body.scrollTop||t.document.body.scrollLeft?t.document.body:t.document.documentElement:-1!==["scroll","auto"].indexOf(a(i,"overflow"))||-1!==["scroll","auto"].indexOf(a(i,"overflow-x"))||-1!==["scroll","auto"].indexOf(a(i,"overflow-y"))?i:h(e.parentNode):e}function u(t,e){Object.keys(e).forEach(function(i){var n,r="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&(""!==(n=e[i])&&!isNaN(parseFloat(n))&&isFinite(n))&&(r="px"),t.style[i]=e[i]+r})}function c(t){var e={width:t.offsetWidth,height:t.offsetHeight,left:t.offsetLeft,top:t.offsetTop};return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function d(t){var e=t.getBoundingClientRect(),i=-1!=navigator.userAgent.indexOf("MSIE")&&"HTML"===t.tagName?-t.scrollTop:e.top;return{left:e.left,top:i,right:e.right,bottom:e.bottom,width:e.right-e.left,height:e.bottom-i}}function p(e){for(var i=["","ms","webkit","moz","o"],n=0;n<i.length;n++){var r=i[n]?i[n]+e.charAt(0).toUpperCase()+e.slice(1):e;if(void 0!==t.document.body.style[r])return r}return null}return i.prototype.destroy=function(){return this._popper.removeAttribute("x-placement"),this._popper.style.left="",this._popper.style.position="",this._popper.style.top="",this._popper.style[p("transform")]="",this._removeEventListeners(),this._options.removeOnDestroy&&this._popper.remove(),this},i.prototype.update=function(){var t={instance:this,styles:{}};t.placement=this._options.placement,t._originalPlacement=this._options.placement,t.offsets=this._getOffsets(this._popper,this._reference,t.placement),t.boundaries=this._getBoundaries(t,this._options.boundariesPadding,this._options.boundariesElement),t=this.runModifiers(t,this._options.modifiers),"function"==typeof this.state.updateCallback&&this.state.updateCallback(t)},i.prototype.onCreate=function(t){return t(this),this},i.prototype.onUpdate=function(t){return this.state.updateCallback=t,this},i.prototype.parse=function(e){var i={tagName:"div",classNames:["popper"],attributes:[],parent:t.document.body,content:"",contentType:"text",arrowTagName:"div",arrowClassNames:["popper__arrow"],arrowAttributes:["x-arrow"]};e=Object.assign({},i,e);var n=t.document,r=n.createElement(e.tagName);if(a(r,e.classNames),l(r,e.attributes),"node"===e.contentType?r.appendChild(e.content.jquery?e.content[0]:e.content):"html"===e.contentType?r.innerHTML=e.content:r.textContent=e.content,e.arrowTagName){var o=n.createElement(e.arrowTagName);a(o,e.arrowClassNames),l(o,e.arrowAttributes),r.appendChild(o)}var s=e.parent.jquery?e.parent[0]:e.parent;if("string"==typeof s){if((s=n.querySelectorAll(e.parent)).length>1&&console.warn("WARNING: the given `parent` query("+e.parent+") matched more than one element, the first one will be used"),0===s.length)throw"ERROR: the given `parent` doesn't exists!";s=s[0]}return s.length>1&&s instanceof Element==!1&&(console.warn("WARNING: you have passed as parent a list of elements, the first one will be used"),s=s[0]),s.appendChild(r),r;function a(t,e){e.forEach(function(e){t.classList.add(e)})}function l(t,e){e.forEach(function(e){t.setAttribute(e.split(":")[0],e.split(":")[1]||"")})}},i.prototype._getPosition=function(e,i){l(i);return this._options.forceAbsolute?"absolute":function e(i){if(i===t.document.body)return!1;if("fixed"===a(i,"position"))return!0;return i.parentNode?e(i.parentNode):i}(i)?"fixed":"absolute"},i.prototype._getOffsets=function(t,e,i){i=i.split("-")[0];var r={};r.position=this.state.position;var o="fixed"===r.position,s=function(t,e,i){var n=d(t),r=d(e);if(i){var o=h(e);r.top+=o.scrollTop,r.bottom+=o.scrollTop,r.left+=o.scrollLeft,r.right+=o.scrollLeft}return{top:n.top-r.top,left:n.left-r.left,bottom:n.top-r.top+n.height,right:n.left-r.left+n.width,width:n.width,height:n.height}}(e,l(t),o),a=n(t);return-1!==["right","left"].indexOf(i)?(r.top=s.top+s.height/2-a.height/2,r.left="left"===i?s.left-a.width:s.right):(r.left=s.left+s.width/2-a.width/2,r.top="top"===i?s.top-a.height:s.bottom),r.width=a.width,r.height=a.height,{popper:r,reference:s}},i.prototype._setupEventListeners=function(){if(this.state.updateBound=this.update.bind(this),t.addEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement){var e=h(this._reference);e!==t.document.body&&e!==t.document.documentElement||(e=t),e.addEventListener("scroll",this.state.updateBound),this.state.scrollTarget=e}},i.prototype._removeEventListeners=function(){t.removeEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement&&this.state.scrollTarget&&(this.state.scrollTarget.removeEventListener("scroll",this.state.updateBound),this.state.scrollTarget=null),this.state.updateBound=null},i.prototype._getBoundaries=function(e,i,n){var r,o,s={};if("window"===n){var a=t.document.body,u=t.document.documentElement;r=Math.max(a.scrollHeight,a.offsetHeight,u.clientHeight,u.scrollHeight,u.offsetHeight),s={top:0,right:Math.max(a.scrollWidth,a.offsetWidth,u.clientWidth,u.scrollWidth,u.offsetWidth),bottom:r,left:0}}else if("viewport"===n){var d=l(this._popper),p=h(this._popper),f=c(d),m="fixed"===e.offsets.popper.position?0:(o=p)==document.body?Math.max(document.documentElement.scrollTop,document.body.scrollTop):o.scrollTop,g="fixed"===e.offsets.popper.position?0:function(t){return t==document.body?Math.max(document.documentElement.scrollLeft,document.body.scrollLeft):t.scrollLeft}(p);s={top:0-(f.top-m),right:t.document.documentElement.clientWidth-(f.left-g),bottom:t.document.documentElement.clientHeight-(f.top-m),left:0-(f.left-g)}}else s=l(this._popper)===n?{top:0,left:0,right:n.clientWidth,bottom:n.clientHeight}:c(n);return s.left+=i,s.right-=i,s.top=s.top+i,s.bottom=s.bottom-i,s},i.prototype.runModifiers=function(t,e,i){var n=e.slice();return void 0!==i&&(n=this._options.modifiers.slice(0,s(this._options.modifiers,i))),n.forEach(function(e){var i;(i=e)&&"[object Function]"==={}.toString.call(i)&&(t=e.call(this,t))}.bind(this)),t},i.prototype.isModifierRequired=function(t,e){var i=s(this._options.modifiers,t);return!!this._options.modifiers.slice(0,i).filter(function(t){return t===e}).length},i.prototype.modifiers={},i.prototype.modifiers.applyStyle=function(t){var e,i={position:t.offsets.popper.position},n=Math.round(t.offsets.popper.left),r=Math.round(t.offsets.popper.top);return this._options.gpuAcceleration&&(e=p("transform"))?(i[e]="translate3d("+n+"px, "+r+"px, 0)",i.top=0,i.left=0):(i.left=n,i.top=r),Object.assign(i,t.styles),u(this._popper,i),this._popper.setAttribute("x-placement",t.placement),this.isModifierRequired(this.modifiers.applyStyle,this.modifiers.arrow)&&t.offsets.arrow&&u(t.arrowElement,t.offsets.arrow),t},i.prototype.modifiers.shift=function(t){var e=t.placement,i=e.split("-")[0],n=e.split("-")[1];if(n){var r=t.offsets.reference,s=o(t.offsets.popper),a={y:{start:{top:r.top},end:{top:r.top+r.height-s.height}},x:{start:{left:r.left},end:{left:r.left+r.width-s.width}}},l=-1!==["bottom","top"].indexOf(i)?"x":"y";t.offsets.popper=Object.assign(s,a[l][n])}return t},i.prototype.modifiers.preventOverflow=function(t){var e=this._options.preventOverflowOrder,i=o(t.offsets.popper),n={left:function(){var e=i.left;return i.left<t.boundaries.left&&(e=Math.max(i.left,t.boundaries.left)),{left:e}},right:function(){var e=i.left;return i.right>t.boundaries.right&&(e=Math.min(i.left,t.boundaries.right-i.width)),{left:e}},top:function(){var e=i.top;return i.top<t.boundaries.top&&(e=Math.max(i.top,t.boundaries.top)),{top:e}},bottom:function(){var e=i.top;return i.bottom>t.boundaries.bottom&&(e=Math.min(i.top,t.boundaries.bottom-i.height)),{top:e}}};return e.forEach(function(e){t.offsets.popper=Object.assign(i,n[e]())}),t},i.prototype.modifiers.keepTogether=function(t){var e=o(t.offsets.popper),i=t.offsets.reference,n=Math.floor;return e.right<n(i.left)&&(t.offsets.popper.left=n(i.left)-e.width),e.left>n(i.right)&&(t.offsets.popper.left=n(i.right)),e.bottom<n(i.top)&&(t.offsets.popper.top=n(i.top)-e.height),e.top>n(i.bottom)&&(t.offsets.popper.top=n(i.bottom)),t},i.prototype.modifiers.flip=function(t){if(!this.isModifierRequired(this.modifiers.flip,this.modifiers.preventOverflow))return console.warn("WARNING: preventOverflow modifier is required by flip modifier in order to work, be sure to include it before flip!"),t;if(t.flipped&&t.placement===t._originalPlacement)return t;var e=t.placement.split("-")[0],i=r(e),n=t.placement.split("-")[1]||"",s=[];return(s="flip"===this._options.flipBehavior?[e,i]:this._options.flipBehavior).forEach(function(a,l){if(e===a&&s.length!==l+1){e=t.placement.split("-")[0],i=r(e);var h=o(t.offsets.popper),u=-1!==["right","bottom"].indexOf(e);(u&&Math.floor(t.offsets.reference[e])>Math.floor(h[i])||!u&&Math.floor(t.offsets.reference[e])<Math.floor(h[i]))&&(t.flipped=!0,t.placement=s[l+1],n&&(t.placement+="-"+n),t.offsets.popper=this._getOffsets(this._popper,this._reference,t.placement).popper,t=this.runModifiers(t,this._options.modifiers,this._flip))}}.bind(this)),t},i.prototype.modifiers.offset=function(t){var e=this._options.offset,i=t.offsets.popper;return-1!==t.placement.indexOf("left")?i.top-=e:-1!==t.placement.indexOf("right")?i.top+=e:-1!==t.placement.indexOf("top")?i.left-=e:-1!==t.placement.indexOf("bottom")&&(i.left+=e),t},i.prototype.modifiers.arrow=function(t){var e=this._options.arrowElement,i=this._options.arrowOffset;if("string"==typeof e&&(e=this._popper.querySelector(e)),!e)return t;if(!this._popper.contains(e))return console.warn("WARNING: `arrowElement` must be child of its popper element!"),t;if(!this.isModifierRequired(this.modifiers.arrow,this.modifiers.keepTogether))return console.warn("WARNING: keepTogether modifier is required by arrow modifier in order to work, be sure to include it before arrow!"),t;var r={},s=t.placement.split("-")[0],a=o(t.offsets.popper),l=t.offsets.reference,h=-1!==["left","right"].indexOf(s),u=h?"height":"width",c=h?"top":"left",d=h?"left":"top",p=h?"bottom":"right",f=n(e)[u];l[p]-f<a[c]&&(t.offsets.popper[c]-=a[c]-(l[p]-f)),l[c]+f>a[p]&&(t.offsets.popper[c]+=l[c]+f-a[p]);var m=l[c]+(i||l[u]/2-f/2)-a[c];return m=Math.max(Math.min(a[u]-f-8,m),8),r[c]=m,r[d]="",t.offsets.arrow=r,t.arrowElement=e,t},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(void 0!==n&&null!==n){n=Object(n);for(var r=Object.keys(n),o=0,s=r.length;o<s;o++){var a=r[o],l=Object.getOwnPropertyDescriptor(n,a);void 0!==l&&l.enumerable&&(e[a]=n[a])}}}return e}}),i})?n.call(e,i,e,t):n)||(t.exports=r)},NpIQ:function(t,e){e.f={}.propertyIsEnumerable},O4g8:function(t,e){t.exports=!0},OAzY:function(t,e,i){"use strict";e.__esModule=!0;var n,r=i("7+uW"),o=(n=r)&&n.__esModule?n:{default:n},s=i("2kvA");var a=!1,l=!1,h=void 0,u=function(){if(!o.default.prototype.$isServer){var t=d.modalDom;return t?a=!0:(a=!1,t=document.createElement("div"),d.modalDom=t,t.addEventListener("touchmove",function(t){t.preventDefault(),t.stopPropagation()}),t.addEventListener("click",function(){d.doOnModalClick&&d.doOnModalClick()})),t}},c={},d={modalFade:!0,getInstance:function(t){return c[t]},register:function(t,e){t&&e&&(c[t]=e)},deregister:function(t){t&&(c[t]=null,delete c[t])},nextZIndex:function(){return d.zIndex++},modalStack:[],doOnModalClick:function(){var t=d.modalStack[d.modalStack.length-1];if(t){var e=d.getInstance(t.id);e&&e.closeOnClickModal&&e.close()}},openModal:function(t,e,i,n,r){if(!o.default.prototype.$isServer&&t&&void 0!==e){this.modalFade=r;for(var l=this.modalStack,h=0,c=l.length;h<c;h++){if(l[h].id===t)return}var d=u();if((0,s.addClass)(d,"v-modal"),this.modalFade&&!a&&(0,s.addClass)(d,"v-modal-enter"),n)n.trim().split(/\s+/).forEach(function(t){return(0,s.addClass)(d,t)});setTimeout(function(){(0,s.removeClass)(d,"v-modal-enter")},200),i&&i.parentNode&&11!==i.parentNode.nodeType?i.parentNode.appendChild(d):document.body.appendChild(d),e&&(d.style.zIndex=e),d.tabIndex=0,d.style.display="",this.modalStack.push({id:t,zIndex:e,modalClass:n})}},closeModal:function(t){var e=this.modalStack,i=u();if(e.length>0){var n=e[e.length-1];if(n.id===t){if(n.modalClass)n.modalClass.trim().split(/\s+/).forEach(function(t){return(0,s.removeClass)(i,t)});e.pop(),e.length>0&&(i.style.zIndex=e[e.length-1].zIndex)}else for(var r=e.length-1;r>=0;r--)if(e[r].id===t){e.splice(r,1);break}}0===e.length&&(this.modalFade&&(0,s.addClass)(i,"v-modal-leave"),setTimeout(function(){0===e.length&&(i.parentNode&&i.parentNode.removeChild(i),i.style.display="none",d.modalDom=void 0),(0,s.removeClass)(i,"v-modal-leave")},200))}};Object.defineProperty(d,"zIndex",{configurable:!0,get:function(){return l||(h=h||(o.default.prototype.$ELEMENT||{}).zIndex||2e3,l=!0),h},set:function(t){h=t}});o.default.prototype.$isServer||window.addEventListener("keydown",function(t){if(27===t.keyCode){var e=function(){if(!o.default.prototype.$isServer&&d.modalStack.length>0){var t=d.modalStack[d.modalStack.length-1];if(!t)return;return d.getInstance(t.id)}}();e&&e.closeOnPressEscape&&(e.handleClose?e.handleClose():e.handleAction?e.handleAction("cancel"):e.close())}}),e.default=d},ON07:function(t,e,i){var n=i("EqjI"),r=i("7KvD").document,o=n(r)&&n(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},ON3O:function(t,e,i){var n=i("uY1a");t.exports=function(t,e,i){return void 0===i?n(t,e,!1):n(t,i,!1!==e)}},OYls:function(t,e,i){i("crlp")("asyncIterator")},PFUz:function(t,e,i){(function(e){!function(){var i;function n(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:function(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}(t)}}function r(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}var o,s="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)o=Object.setPrototypeOf;else{var a;t:{var l={};try{l.__proto__={a:!0},a=l.a;break t}catch(t){}a=!1}o=a?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var h=o;function u(t,e){if(t.prototype=s(e.prototype),t.prototype.constructor=t,h)h(t,e);else for(var i in e)if("prototype"!=i)if(Object.defineProperties){var n=Object.getOwnPropertyDescriptor(e,i);n&&Object.defineProperty(t,i,n)}else t[i]=e[i];t.AA=e.prototype}var c="undefined"!=typeof window&&window===self?self:void 0!==e&&null!=e?e:self,d="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,i){t!=Array.prototype&&t!=Object.prototype&&(t[e]=i.value)};!function(t){if(t){for(var e=c,i=["Array","prototype","fill"],n=0;n<i.length-1;n++){var r=i[n];r in e||(e[r]={}),e=e[r]}(t=t(n=e[i=i[i.length-1]]))!=n&&null!=t&&d(e,i,{writable:!0,value:t})}}(function(t){return t||function(t,e,i){var n=this.length||0;for(0>e&&(e=Math.max(0,n+e)),(null==i||i>n)&&(i=n),0>(i=Number(i))&&(i=Math.max(0,n+i)),e=Number(e||0);e<i;e++)this[e]=t;return this}});var p="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||"object"==typeof window&&window.window===window&&window||{};function f(){}function m(t,e){var i=-1;return function(){var n=this,r=arguments;-1!==i&&p.clearTimeout(i),i=g(function(){i=-1,t.apply(n,r)},e)}}function g(t,e){return p.setTimeout(t,e)}function v(t){return p.document.createElement(t)}function A(t){throw Error(t)}function y(t,e){t="The object is frozen, so its properties cannot be set: "+t.toString(),void 0!==e&&(t+="  to value: "+e),A(t)}function x(t,e,i,n){i=null===i?"*":"string"==typeof i?i:"function"==typeof i&&"string"==typeof i.className?i.className:"",void 0!==n&&(i+="."+n),A(i+" is not in the range "+e+": "+t)}function b(t){p.console&&p.console.log(t)}function C(){p.console&&p.console.log("Warning: List/Map/Set constructors no longer take an argument that enforces type.Instead they take an optional collection of Values to add to the collection. See 2.0 changelog for details.")}function w(t){return"object"==typeof t&&null!==t}function E(t){return Array.isArray(t)||p.NodeList&&t instanceof p.NodeList||p.HTMLCollection&&t instanceof p.HTMLCollection}function S(t){return Array.prototype.slice.call(t)}function T(t,e,i){Array.isArray(t)?e>=t.length?t.push(i):t.splice(e,0,i):A("Cannot insert an object into an HTMLCollection or NodeList: "+i+" at "+e)}function _(t,e){Array.isArray(t)?e>=t.length?t.pop():t.splice(e,1):A("Cannot remove an object from an HTMLCollection or NodeList at "+e)}function M(){var t=j.pop();return void 0===t?[]:t}function k(t){t.length=0,j.push(t)}function B(t){if("function"==typeof t){if(t.className)return t.className;if(t.name)return t.name;var e=t.toString();if(""!==(e=e.substring(9,e.indexOf("(")).trim()))return t._className=e}else if(w(t)&&t.constructor)return B(t.constructor);return typeof t}function O(t){var e=t;return w(t)&&(t.text?e=t.text:t.name?e=t.name:void 0!==t.key?e=t.key:void 0!==t.id?e=t.id:t.constructor===Object&&(t.Text?e=t.Text:t.Name?e=t.Name:void 0!==t.Key?e=t.Key:void 0!==t.Id?e=t.Id:void 0!==t.ID&&(e=t.ID))),void 0===e?"undefined":null===e?"null":e.toString()}function P(t,e){if(t.hasOwnProperty(e))return!0;for(t=Object.getPrototypeOf(t);t&&t!==Function;){if(t.hasOwnProperty(e))return!0;var i=t.uA;if(i&&i[e])return!0;t=Object.getPrototypeOf(t)}return!1}function L(t,e,i){Object.defineProperty(Mi.prototype,t,{get:e,set:i})}function N(){var t=G;if(0===t.length)for(var e=p.document.getElementsByTagName("canvas"),i=e.length,n=0;n<i;n++){var r=e[n];r.parentElement&&r.parentElement.B&&t.push(r.parentElement.B)}return t}function I(t){for(var e=[],i=0;256>i;i++)e["0123456789abcdef".charAt(i>>4)+"0123456789abcdef".charAt(15&i)]=String.fromCharCode(i);t.length%2&&(t="0"+t),i=[];for(var n=0,r=0;r<t.length;r+=2)i[n++]=e[t.substr(r,2)];for(t=""===(t=i.join(""))?"0":t,e=[],i=0;256>i;i++)e[i]=i;for(i=n=0;256>i;i++)n=(n+e[i]+119)%256,r=e[i],e[i]=e[n],e[n]=r;n=i=0;for(var o="",s=0;s<t.length;s++)n=(n+e[i=(i+1)%256])%256,r=e[i],e[i]=e[n],e[n]=r,o+=String.fromCharCode(t.charCodeAt(s)^e[(e[i]+e[n])%256]);return o}void 0===p.requestAnimationFrame&&(p.requestAnimationFrame=p.setImmediate);var D=void 0!==p.navigator&&0<p.navigator.userAgent.indexOf("MSIE 9.0"),R=void 0!==p.navigator&&0<p.navigator.userAgent.indexOf("MSIE 10.0"),F=void 0!==p.navigator&&0<p.navigator.userAgent.indexOf("Trident/7"),H=void 0!==p.navigator&&0<p.navigator.userAgent.indexOf("Edge/"),U=void 0!==p.navigator&&void 0!==p.navigator.platform&&0<=p.navigator.platform.toUpperCase().indexOf("MAC"),V=void 0!==p.navigator&&void 0!==p.navigator.platform&&null!==p.navigator.platform.match(/(iPhone|iPod|iPad)/i),j=[];Object.freeze([]);var G=[];function z(t,e,i){it(this),this.l=t,this.Qa=e,this.u=i}function Q(t,e){return void 0===e||null===e||""===e?null:t[e]}function Y(){this.vw=[]}function K(){}function X(){}f.className="Util",f.Dx="32ab5ff3b26f42dc0ed90f224d2913b5",f.adym="gojs.net",f.vfo="28e647fdb1",f.className="Util",z.prototype.toString=function(){return"EnumValue."+this.Qa},c.Object.defineProperties(z.prototype,{classType:{get:function(){return this.l}},name:{get:function(){return this.Qa}},value:{get:function(){return this.u}}}),z.className="EnumValue",Y.prototype.toString=function(){return this.vw.join("")},Y.prototype.add=function(t){""!==t&&this.vw.push(t)},Y.className="StringBuilder",K.className="PropertyCollection",X.prototype.reset=function(){},X.prototype.next=function(){return!1},X.prototype.fd=function(){return!1},X.prototype.first=function(){return null},X.prototype.any=function(){return!1},X.prototype.all=function(){return!0},X.prototype.each=function(){return this},X.prototype.map=function(){return this},X.prototype.filter=function(){return this},X.prototype.Ad=function(){},X.prototype.toString=function(){return"EmptyIterator"},c.Object.defineProperties(X.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 0}}}),X.prototype.first=X.prototype.first,X.prototype.hasNext=X.prototype.fd,X.prototype.next=X.prototype.next,X.prototype.reset=X.prototype.reset;var $;function W(t){this.key=-1,this.value=t}function q(t){this.lb=t,this.We=null,t.Ga=null,this.ia=t.xa,this.Oa=-1}function J(t){this.lb=t,t.Zg=null,this.ia=t.xa,this.Oa=t.j.length}function Z(t){it(this),this.s=!1,this.j=[],this.xa=0,this.Zg=this.Ga=null,void 0!==t&&("function"==typeof t||"string"==typeof t?C():this.addAll(t))}function tt(t){this.og=t,t.Ga=null,this.ia=t.xa,this.ka=null}function et(t){it(this),this.s=!1,this.Eb={},this.Db=0,this.Ga=null,this.xa=0,this.Re=this.ba=null,void 0!==t&&("function"==typeof t||"string"==typeof t?C():this.addAll(t))}function it(t){t.__gohashid=ot++}function nt(t){var e=t.__gohashid;return void 0===e&&(e=ot++,t.__gohashid=e),e}function rt(t){return t.__gohashid}X.className="EmptyIterator",$=new X,W.prototype.reset=function(){this.key=-1},W.prototype.next=function(){return-1===this.key&&(this.key=0,!0)},W.prototype.fd=function(){return this.next()},W.prototype.first=function(){return this.key=0,this.value},W.prototype.any=function(t){return this.key=-1,t(this.value)},W.prototype.all=function(t){return this.key=-1,t(this.value)},W.prototype.each=function(t){return this.key=-1,t(this.value),this},W.prototype.map=function(t){return new W(t(this.value))},W.prototype.filter=function(t){return t(this.value)?new W(this.value):$},W.prototype.Ad=function(){this.value=null},W.prototype.toString=function(){return"SingletonIterator("+this.value+")"},c.Object.defineProperties(W.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 1}}}),W.prototype.first=W.prototype.first,W.prototype.hasNext=W.prototype.fd,W.prototype.next=W.prototype.next,W.prototype.reset=W.prototype.reset,W.className="SingletonIterator",q.prototype.reset=function(){var t=this.lb;t.Ga=null,this.ia=t.xa,this.Oa=-1},q.prototype.next=function(){var t=this.lb;if(t.xa!==this.ia&&0>this.key)return!1;var e=(t=t.j).length,i=++this.Oa,n=this.We;if(null!==n)for(;i<e;){var r=t[i];if(n(r))return this.key=this.Oa=i,this.value=r,!0;i++}else{if(i<e)return this.key=i,this.value=t[i],!0;this.Ad()}return!1},q.prototype.fd=function(){return this.next()},q.prototype.first=function(){var t=this.lb;this.ia=t.xa,this.Oa=0;var e=(t=t.j).length,i=this.We;if(null!==i){for(var n=0;n<e;){var r=t[n];if(i(r))return this.key=this.Oa=n,this.value=r;n++}return null}return 0<e?(t=t[0],this.key=0,this.value=t):null},q.prototype.any=function(t){var e=this.lb;e.Ga=null,this.Oa=-1;for(var i=(e=e.j).length,n=this.We,r=0;r<i;r++){var o=e[r];if((null===n||n(o))&&t(o))return!0}return!1},q.prototype.all=function(t){var e=this.lb;e.Ga=null,this.Oa=-1;for(var i=(e=e.j).length,n=this.We,r=0;r<i;r++){var o=e[r];if((null===n||n(o))&&!t(o))return!1}return!0},q.prototype.each=function(t){var e=this.lb;e.Ga=null,this.Oa=-1;for(var i=(e=e.j).length,n=this.We,r=0;r<i;r++){var o=e[r];(null===n||n(o))&&t(o)}return this},q.prototype.map=function(t){var e=this.lb;e.Ga=null,this.Oa=-1;for(var i=[],n=(e=e.j).length,r=this.We,o=0;o<n;o++){var s=e[o];(null===r||r(s))&&i.push(t(s))}return(t=new Z).j=i,t.ib(),t.iterator},q.prototype.filter=function(t){var e=this.lb;e.Ga=null,this.Oa=-1;for(var i=[],n=(e=e.j).length,r=this.We,o=0;o<n;o++){var s=e[o];(null===r||r(s))&&t(s)&&i.push(s)}return(t=new Z).j=i,t.ib(),t.iterator},q.prototype.Ad=function(){this.key=-1,this.value=null,this.ia=-1,this.We=null,this.lb.Ga=this},q.prototype.toString=function(){return"ListIterator@"+this.Oa+"/"+this.lb.count},c.Object.defineProperties(q.prototype,{iterator:{get:function(){return this}},predicate:{get:function(){return this.We},set:function(t){this.We=t}},count:{get:function(){var t=this.We;if(null!==t){for(var e=0,i=this.lb.j,n=i.length,r=0;r<n;r++)t(i[r])&&e++;return e}return this.lb.j.length}}}),q.prototype.first=q.prototype.first,q.prototype.hasNext=q.prototype.fd,q.prototype.next=q.prototype.next,q.prototype.reset=q.prototype.reset,q.className="ListIterator",J.prototype.reset=function(){var t=this.lb;t.Zg=null,this.ia=t.xa,this.Oa=t.j.length},J.prototype.next=function(){var t=this.lb;if(t.xa!==this.ia&&0>this.key)return!1;var e=--this.Oa;return 0<=e?(this.key=e,this.value=t.j[e],!0):(this.Ad(),!1)},J.prototype.fd=function(){return this.next()},J.prototype.first=function(){var t=this.lb;this.ia=t.xa;var e=t.j;return this.Oa=t=e.length-1,0<=t?(e=e[t],this.key=t,this.value=e):null},J.prototype.any=function(t){var e=this.lb;e.Zg=null;var i=(e=e.j).length;for(this.Oa=i,--i;0<=i;i--)if(t(e[i]))return!0;return!1},J.prototype.all=function(t){var e=this.lb;e.Zg=null;var i=(e=e.j).length;for(this.Oa=i,--i;0<=i;i--)if(!t(e[i]))return!1;return!0},J.prototype.each=function(t){var e=this.lb;e.Zg=null;var i=(e=e.j).length;for(this.Oa=i,--i;0<=i;i--)t(e[i]);return this},J.prototype.map=function(t){var e=this.lb;e.Zg=null;var i=[],n=(e=e.j).length;for(this.Oa=n,--n;0<=n;n--)i.push(t(e[n]));return(t=new Z).j=i,t.ib(),t.iterator},J.prototype.filter=function(t){var e=this.lb;e.Zg=null;var i=[],n=(e=e.j).length;for(this.Oa=n,--n;0<=n;n--){var r=e[n];t(r)&&i.push(r)}return(t=new Z).j=i,t.ib(),t.iterator},J.prototype.Ad=function(){this.key=-1,this.value=null,this.ia=-1,this.lb.Zg=this},J.prototype.toString=function(){return"ListIteratorBackwards("+this.Oa+"/"+this.lb.count+")"},c.Object.defineProperties(J.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.lb.j.length}}}),J.prototype.first=J.prototype.first,J.prototype.hasNext=J.prototype.fd,J.prototype.next=J.prototype.next,J.prototype.reset=J.prototype.reset,J.className="ListIteratorBackwards",(i=Z.prototype).ib=function(){var t=this.xa;999999999<++t&&(t=0),this.xa=t},i.freeze=function(){return this.s=!0,this},i.ea=function(){return this.s=!1,this},i.toString=function(){return"List()#"+rt(this)},i.add=function(t){return null===t?this:(this.s&&y(this,t),this.j.push(t),this.ib(),this)},i.push=function(t){this.add(t)},i.addAll=function(t){if(null===t)return this;this.s&&y(this);var e=this.j;if(E(t))for(var i=t.length,n=0;n<i;n++)e.push(t[n]);else for(t=t.iterator;t.next();)e.push(t.value);return this.ib(),this},i.clear=function(){this.s&&y(this),this.j.length=0,this.ib()},i.contains=function(t){return null!==t&&-1!==this.j.indexOf(t)},i.has=function(t){return this.contains(t)},i.indexOf=function(t){return null===t?-1:this.j.indexOf(t)},i.L=function(t){var e=this.j;return(0>t||t>=e.length)&&x(t,"0 <= i < length",Z,"elt:i"),e[t]},i.get=function(t){return this.L(t)},i.hd=function(t,e){var i=this.j;(0>t||t>=i.length)&&x(t,"0 <= i < length",Z,"setElt:i"),this.s&&y(this,t),i[t]=e},i.set=function(t,e){this.hd(t,e)},i.first=function(){var t=this.j;return 0===t.length?null:t[0]},i.Vb=function(){var t=this.j,e=t.length;return 0<e?t[e-1]:null},i.pop=function(){this.s&&y(this);var t=this.j;return 0<t.length?t.pop():null},Z.prototype.any=function(t){for(var e=this.j,i=e.length,n=0;n<i;n++)if(t(e[n]))return!0;return!1},Z.prototype.all=function(t){for(var e=this.j,i=e.length,n=0;n<i;n++)if(!t(e[n]))return!1;return!0},Z.prototype.each=function(t){for(var e=this.j,i=e.length,n=0;n<i;n++)t(e[n]);return this},Z.prototype.map=function(t){for(var e=new Z,i=[],n=this.j,r=n.length,o=0;o<r;o++)i.push(t(n[o]));return e.j=i,e.ib(),e},Z.prototype.filter=function(t){for(var e=new Z,i=[],n=this.j,r=n.length,o=0;o<r;o++){var s=n[o];t(s)&&i.push(s)}return e.j=i,e.ib(),e},(i=Z.prototype).Kb=function(t,e){0>t&&x(t,">= 0",Z,"insertAt:i"),this.s&&y(this,t);var i=this.j;t>=i.length?i.push(e):i.splice(t,0,e),this.ib()},i.remove=function(t){if(null===t)return!1;this.s&&y(this,t);var e=this.j;return-1!==(t=e.indexOf(t))&&(t===e.length-1?e.pop():e.splice(t,1),this.ib(),!0)},i.delete=function(t){return this.remove(t)},i.jb=function(t){var e=this.j;(0>t||t>=e.length)&&x(t,"0 <= i < length",Z,"removeAt:i"),this.s&&y(this,t),t===e.length-1?e.pop():e.splice(t,1),this.ib()},i.removeRange=function(t,e){var i=this.j,n=i.length;if(0>t)t=0;else if(t>=n)return this;if(0>e)return this;if(e>=n&&(e=n-1),t>e)return this;this.s&&y(this);for(var r=t,o=e+1;o<n;)i[r++]=i[o++];return i.length=n-(e-t+1),this.ib(),this},Z.prototype.copy=function(){var t=new Z,e=this.j;return 0<e.length&&(t.j=Array.prototype.slice.call(e)),t},(i=Z.prototype).ma=function(){for(var t=this.j,e=this.count,i=Array(e),n=0;n<e;n++)i[n]=t[n];return i},i.Yv=function(){for(var t=new et,e=this.j,i=this.count,n=0;n<i;n++)t.add(e[n]);return t},i.sort=function(t){return this.s&&y(this),this.j.sort(t),this.ib(),this},i.$i=function(t,e,i){var n=this.j,r=n.length;void 0===e&&(e=0),void 0===i&&(i=r),this.s&&y(this);var o=i-e;if(1>=o)return this;if((0>e||e>=r-1)&&x(e,"0 <= from < length",Z,"sortRange:from"),2===o)return 0<t(i=n[e],r=n[e+1])&&(n[e]=r,n[e+1]=i,this.ib()),this;if(0===e)if(i>=r)n.sort(t);else for((e=n.slice(0,i)).sort(t),t=0;t<i;t++)n[t]=e[t];else if(i>=r)for((i=n.slice(e)).sort(t),t=e;t<r;t++)n[t]=i[t-e];else for((r=n.slice(e,i)).sort(t),t=e;t<i;t++)n[t]=r[t-e];return this.ib(),this},i.reverse=function(){return this.s&&y(this),this.j.reverse(),this.ib(),this},c.Object.defineProperties(Z.prototype,{_dataArray:{get:function(){return this.j}},count:{get:function(){return this.j.length}},size:{get:function(){return this.j.length}},length:{get:function(){return this.j.length}},iterator:{get:function(){if(0>=this.j.length)return $;var t=this.Ga;return null!==t?(t.reset(),t):new q(this)}},iteratorBackwards:{get:function(){if(0>=this.j.length)return $;var t=this.Zg;return null!==t?(t.reset(),t):new J(this)}}}),Z.prototype.reverse=Z.prototype.reverse,Z.prototype.sortRange=Z.prototype.$i,Z.prototype.sort=Z.prototype.sort,Z.prototype.toSet=Z.prototype.Yv,Z.prototype.toArray=Z.prototype.ma,Z.prototype.removeRange=Z.prototype.removeRange,Z.prototype.removeAt=Z.prototype.jb,Z.prototype.delete=Z.prototype.delete,Z.prototype.remove=Z.prototype.remove,Z.prototype.insertAt=Z.prototype.Kb,Z.prototype.pop=Z.prototype.pop,Z.prototype.last=Z.prototype.Vb,Z.prototype.first=Z.prototype.first,Z.prototype.set=Z.prototype.set,Z.prototype.setElt=Z.prototype.hd,Z.prototype.get=Z.prototype.get,Z.prototype.elt=Z.prototype.L,Z.prototype.indexOf=Z.prototype.indexOf,Z.prototype.has=Z.prototype.has,Z.prototype.contains=Z.prototype.contains,Z.prototype.clear=Z.prototype.clear,Z.prototype.addAll=Z.prototype.addAll,Z.prototype.push=Z.prototype.push,Z.prototype.add=Z.prototype.add,Z.prototype.thaw=Z.prototype.ea,Z.prototype.freeze=Z.prototype.freeze,Z.className="List",tt.prototype.reset=function(){var t=this.og;t.Ga=null,this.ia=t.xa,this.ka=null},tt.prototype.next=function(){var t=this.og;if(t.xa!==this.ia&&null===this.key)return!1;var e=this.ka;return null!==(e=null===e?t.ba:e.na)?(this.ka=e,this.value=e.value,this.key=e.key,!0):(this.Ad(),!1)},tt.prototype.fd=function(){return this.next()},tt.prototype.first=function(){var t=this.og;if(this.ia=t.xa,null!==(t=t.ba)){this.ka=t;var e=t.value;return this.key=t.key,this.value=e}return null},tt.prototype.any=function(t){var e=this.og;for(this.ka=e.Ga=null,e=e.ba;null!==e;){if(t(e.value))return!0;e=e.na}return!1},tt.prototype.all=function(t){var e=this.og;for(this.ka=e.Ga=null,e=e.ba;null!==e;){if(!t(e.value))return!1;e=e.na}return!0},tt.prototype.each=function(t){var e=this.og;for(this.ka=e.Ga=null,e=e.ba;null!==e;)t(e.value),e=e.na;return this},tt.prototype.map=function(t){var e=this.og;e.Ga=null;var i=new Z;for(e=e.ba;null!==e;)i.add(t(e.value)),e=e.na;return i.iterator},tt.prototype.filter=function(t){var e=this.og;e.Ga=null;var i=new Z;for(e=e.ba;null!==e;){var n=e.value;t(n)&&i.add(n),e=e.na}return i.iterator},tt.prototype.Ad=function(){this.value=this.key=null,this.ia=-1,this.og.Ga=this},tt.prototype.toString=function(){return null!==this.ka?"SetIterator@"+this.ka.value:"SetIterator"},c.Object.defineProperties(tt.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.og.Db}}}),tt.prototype.first=tt.prototype.first,tt.prototype.hasNext=tt.prototype.fd,tt.prototype.next=tt.prototype.next,tt.prototype.reset=tt.prototype.reset,tt.className="SetIterator",(i=et.prototype).ib=function(){var t=this.xa;999999999<++t&&(t=0),this.xa=t},i.freeze=function(){return this.s=!0,this},i.ea=function(){return this.s=!1,this},i.toString=function(){return"Set()#"+rt(this)},i.add=function(t){if(null===t)return this;this.s&&y(this,t);var e=t;return w(t)&&(e=nt(t)),void 0===this.Eb[e]&&(this.Db++,t=new ht(t,t),this.Eb[e]=t,null===(e=this.Re)?this.ba=t:(t.Bl=e,e.na=t),this.Re=t,this.ib()),this},i.addAll=function(t){if(null===t)return this;if(this.s&&y(this),E(t))for(var e=t.length,i=0;i<e;i++)this.add(t[i]);else for(t=t.iterator;t.next();)this.add(t.value);return this},i.contains=function(t){if(null===t)return!1;var e=t;return(!w(t)||void 0!==(e=rt(t)))&&void 0!==this.Eb[e]},i.has=function(t){return this.contains(t)},i.Jy=function(t){if(null===t)return!0;for(t=t.iterator;t.next();)if(!this.contains(t.value))return!1;return!0},i.Ky=function(t){if(null===t)return!0;for(t=t.iterator;t.next();)if(this.contains(t.value))return!0;return!1},i.first=function(){var t=this.ba;return null===t?null:t.value},et.prototype.any=function(t){for(var e=this.ba;null!==e;){if(t(e.value))return!0;e=e.na}return!1},et.prototype.all=function(t){for(var e=this.ba;null!==e;){if(!t(e.value))return!1;e=e.na}return!0},et.prototype.each=function(t){for(var e=this.ba;null!==e;)t(e.value),e=e.na;return this},et.prototype.map=function(t){for(var e=new et,i=this.ba;null!==i;)e.add(t(i.value)),i=i.na;return e},et.prototype.filter=function(t){for(var e=new et,i=this.ba;null!==i;){var n=i.value;t(n)&&e.add(n),i=i.na}return e},(i=et.prototype).remove=function(t){if(null===t)return!1;this.s&&y(this,t);var e=t;if(w(t)&&void 0===(e=rt(t)))return!1;if(void 0===(t=this.Eb[e]))return!1;var i=t.na,n=t.Bl;return null!==i&&(i.Bl=n),null!==n&&(n.na=i),this.ba===t&&(this.ba=i),this.Re===t&&(this.Re=n),delete this.Eb[e],this.Db--,this.ib(),!0},i.delete=function(t){return this.remove(t)},i.uq=function(t){if(null===t)return this;if(this.s&&y(this),E(t))for(var e=t.length,i=0;i<e;i++)this.remove(t[i]);else for(t=t.iterator;t.next();)this.remove(t.value);return this},i.fA=function(t){if(null===t||0===this.count)return this;this.s&&y(this);var e=new et;e.addAll(t),t=[];for(var i=this.iterator;i.next();){var n=i.value;e.contains(n)||t.push(n)}return this.uq(t),this},i.clear=function(){this.s&&y(this),this.Eb={},this.Db=0,null!==this.Ga&&this.Ga.reset(),this.Re=this.ba=null,this.ib()},et.prototype.copy=function(){var t,e=new et,i=this.Eb;for(t in i)e.add(i[t].value);return e},et.prototype.ma=function(){var t,e=Array(this.Db),i=this.Eb,n=0;for(t in i)e[n]=i[t].value,n++;return e},et.prototype.Xv=function(){var t,e=new Z,i=this.Eb;for(t in i)e.add(i[t].value);return e},c.Object.defineProperties(et.prototype,{count:{get:function(){return this.Db}},size:{get:function(){return this.Db}},iterator:{get:function(){if(0>=this.Db)return $;var t=this.Ga;return null!==t?(t.reset(),t):new tt(this)}}}),et.prototype.toList=et.prototype.Xv,et.prototype.toArray=et.prototype.ma,et.prototype.clear=et.prototype.clear,et.prototype.retainAll=et.prototype.fA,et.prototype.removeAll=et.prototype.uq,et.prototype.delete=et.prototype.delete,et.prototype.remove=et.prototype.remove,et.prototype.first=et.prototype.first,et.prototype.containsAny=et.prototype.Ky,et.prototype.containsAll=et.prototype.Jy,et.prototype.has=et.prototype.has,et.prototype.contains=et.prototype.contains,et.prototype.addAll=et.prototype.addAll,et.prototype.add=et.prototype.add,et.prototype.thaw=et.prototype.ea,et.prototype.freeze=et.prototype.freeze;var ot=1;function st(t){this.fa=t,this.ia=t.xa,this.ka=null}function at(t){et.call(this),it(this),this.s=!0,this.fa=t}function lt(t){this.fa=t,t.Qe=null,this.ia=t.xa,this.ka=null}function ht(t,e){this.key=t,this.value=e,this.Bl=this.na=null}function ut(t){this.fa=t,t.Ga=null,this.ia=t.xa,this.ka=null}function ct(t){it(this),this.s=!1,this.Eb={},this.Db=0,this.Qe=this.Ga=null,this.xa=0,this.Re=this.ba=null,void 0!==t&&("function"==typeof t||"string"==typeof t?C():this.addAll(t))}function dt(t,e){void 0===t?this.y=this.x=0:"number"==typeof t&&"number"==typeof e?(this.x=t,this.y=e):A("Invalid arguments to Point constructor: "+t+", "+e),this.s=!1}function pt(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];n&&(i=parseFloat(n));for(var r=0;""===t[e];)e++;return(n=t[e++])&&(r=parseFloat(n)),new dt(i,r)}return new dt}function ft(t){return t.x.toString()+" "+t.y.toString()}function mt(t,e){if(0===t)return 0<e?90:0>e?270:0;if(0===e)return 0<t?0:180;if(isNaN(t)||isNaN(e))return 0;var i=180*Math.atan(Math.abs(e/t))/Math.PI;return 0>t?i=0>e?i+180:180-i:0>e&&(i=360-i),i}function gt(t,e){return e.Td(t),t}function vt(t,e,i,n,r,o){var s=r-i,a=o-n,l=s*s+a*a,h=-(i-=t)*s-(n-=e)*a;return 0>=h||h>=l?(s=r-t,a=o-e,Math.min(i*i+n*n,s*s+a*a)):(t=s*n-a*i)*t/l}function At(t,e,i,n){return(t=i-t)*t+(e=n-e)*e}function yt(t,e,i,n){return e=n-e,0===(t=i-t)?0<e?90:0>e?270:0:0===e?0<t?0:180:isNaN(t)||isNaN(e)?0:(n=180*Math.atan(Math.abs(e/t))/Math.PI,0>t?n=0>e?n+180:180-n:0>e&&(n=360-n),n)}et.className="Set",et.uniqueHash=it,et.hashIdUnique=nt,et.hashId=rt,st.prototype.reset=function(){this.ia=this.fa.xa,this.ka=null},st.prototype.next=function(){var t=this.fa;if(t.xa!==this.ia&&null===this.key)return!1;var e=this.ka;return null!==(e=null===e?t.ba:e.na)?(this.ka=e,this.value=this.key=t=e.key,!0):(this.Ad(),!1)},st.prototype.fd=function(){return this.next()},st.prototype.first=function(){var t=this.fa;return this.ia=t.xa,null!==(t=t.ba)?(this.ka=t,this.value=this.key=t=t.key):null},st.prototype.any=function(t){var e=this.fa;for(this.ka=null,e=e.ba;null!==e;){if(t(e.key))return!0;e=e.na}return!1},st.prototype.all=function(t){var e=this.fa;for(this.ka=null,e=e.ba;null!==e;){if(!t(e.key))return!1;e=e.na}return!0},st.prototype.each=function(t){var e=this.fa;for(this.ka=null,e=e.ba;null!==e;)t(e.key),e=e.na;return this},st.prototype.map=function(t){var e=this.fa;this.ka=null;var i=new Z;for(e=e.ba;null!==e;)i.add(t(e.key)),e=e.na;return i.iterator},st.prototype.filter=function(t){var e=this.fa;this.ka=null;var i=new Z;for(e=e.ba;null!==e;){var n=e.key;t(n)&&i.add(n),e=e.na}return i.iterator},st.prototype.Ad=function(){this.value=this.key=null,this.ia=-1},st.prototype.toString=function(){return null!==this.ka?"MapKeySetIterator@"+this.ka.value:"MapKeySetIterator"},c.Object.defineProperties(st.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.fa.Db}}}),st.prototype.first=st.prototype.first,st.prototype.hasNext=st.prototype.fd,st.prototype.next=st.prototype.next,st.prototype.reset=st.prototype.reset,st.className="MapKeySetIterator",u(at,et),(i=at.prototype).freeze=function(){return this},i.ea=function(){return this},i.toString=function(){return"MapKeySet("+this.fa.toString()+")"},i.add=function(){return A("This Set is read-only: "+this.toString()),this},i.contains=function(t){return this.fa.contains(t)},i.has=function(t){return this.contains(t)},i.remove=function(){return A("This Set is read-only: "+this.toString()),!1},i.delete=function(t){return this.remove(t)},i.clear=function(){A("This Set is read-only: "+this.toString())},i.first=function(){var t=this.fa.ba;return null!==t?t.key:null},at.prototype.any=function(t){for(var e=this.fa.ba;null!==e;){if(t(e.key))return!0;e=e.na}return!1},at.prototype.all=function(t){for(var e=this.fa.ba;null!==e;){if(!t(e.key))return!1;e=e.na}return!0},at.prototype.each=function(t){for(var e=this.fa.ba;null!==e;)t(e.key),e=e.na;return this},at.prototype.map=function(t){for(var e=new et,i=this.fa.ba;null!==i;)e.add(t(i.key)),i=i.na;return e},at.prototype.filter=function(t){for(var e=new et,i=this.fa.ba;null!==i;){var n=i.key;t(n)&&e.add(n),i=i.na}return e},at.prototype.copy=function(){return new at(this.fa)},at.prototype.Yv=function(){var t,e=new et,i=this.fa.Eb;for(t in i)e.add(i[t].key);return e},at.prototype.ma=function(){var t,e=this.fa.Eb,i=Array(this.fa.Db),n=0;for(t in e)i[n]=e[t].key,n++;return i},at.prototype.Xv=function(){var t,e=new Z,i=this.fa.Eb;for(t in i)e.add(i[t].key);return e},c.Object.defineProperties(at.prototype,{count:{get:function(){return this.fa.Db}},size:{get:function(){return this.fa.Db}},iterator:{get:function(){return 0>=this.fa.Db?$:new st(this.fa)}}}),at.prototype.toList=at.prototype.Xv,at.prototype.toArray=at.prototype.ma,at.prototype.toSet=at.prototype.Yv,at.prototype.first=at.prototype.first,at.prototype.clear=at.prototype.clear,at.prototype.delete=at.prototype.delete,at.prototype.remove=at.prototype.remove,at.prototype.has=at.prototype.has,at.prototype.contains=at.prototype.contains,at.prototype.add=at.prototype.add,at.prototype.thaw=at.prototype.ea,at.prototype.freeze=at.prototype.freeze,at.className="MapKeySet",lt.prototype.reset=function(){var t=this.fa;t.Qe=null,this.ia=t.xa,this.ka=null},lt.prototype.next=function(){var t=this.fa;if(t.xa!==this.ia&&null===this.key)return!1;var e=this.ka;return null!==(e=null===e?t.ba:e.na)?(this.ka=e,this.value=e.value,this.key=e.key,!0):(this.Ad(),!1)},lt.prototype.fd=function(){return this.next()},lt.prototype.first=function(){var t=this.fa;if(this.ia=t.xa,null!==(t=t.ba)){this.ka=t;var e=t.value;return this.key=t.key,this.value=e}return null},lt.prototype.any=function(t){var e=this.fa;for(this.ka=e.Qe=null,e=e.ba;null!==e;){if(t(e.value))return!0;e=e.na}return!1},lt.prototype.all=function(t){var e=this.fa;for(this.ka=e.Qe=null,e=e.ba;null!==e;){if(!t(e.value))return!1;e=e.na}return!0},lt.prototype.each=function(t){var e=this.fa;for(this.ka=e.Qe=null,e=e.ba;null!==e;)t(e.value),e=e.na;return this},lt.prototype.map=function(t){var e=this.fa;this.ka=e.Qe=null;var i=new Z;for(e=e.ba;null!==e;)i.add(t(e.value)),e=e.na;return i.iterator},lt.prototype.filter=function(t){var e=this.fa;this.ka=e.Qe=null;var i=new Z;for(e=e.ba;null!==e;){var n=e.value;t(n)&&i.add(n),e=e.na}return i.iterator},lt.prototype.Ad=function(){this.value=this.key=null,this.ia=-1,this.fa.Qe=this},lt.prototype.toString=function(){return null!==this.ka?"MapValueSetIterator@"+this.ka.value:"MapValueSetIterator"},c.Object.defineProperties(lt.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.fa.Db}}}),lt.prototype.first=lt.prototype.first,lt.prototype.hasNext=lt.prototype.fd,lt.prototype.next=lt.prototype.next,lt.prototype.reset=lt.prototype.reset,lt.className="MapValueSetIterator",ht.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"},ht.className="KeyValuePair",ut.prototype.reset=function(){var t=this.fa;t.Ga=null,this.ia=t.xa,this.ka=null},ut.prototype.next=function(){var t=this.fa;if(t.xa!==this.ia&&null===this.key)return!1;var e=this.ka;return null!==(e=null===e?t.ba:e.na)?(this.ka=e,this.key=e.key,this.value=e.value,!0):(this.Ad(),!1)},ut.prototype.fd=function(){return this.next()},ut.prototype.first=function(){var t=this.fa;return this.ia=t.xa,null!==(t=t.ba)?(this.ka=t,this.key=t.key,this.value=t.value,t):null},ut.prototype.any=function(t){var e=this.fa;for(this.ka=e.Ga=null,e=e.ba;null!==e;){if(t(e))return!0;e=e.na}return!1},ut.prototype.all=function(t){var e=this.fa;for(this.ka=e.Ga=null,e=e.ba;null!==e;){if(!t(e))return!1;e=e.na}return!0},ut.prototype.each=function(t){var e=this.fa;for(this.ka=e.Ga=null,e=e.ba;null!==e;)t(e),e=e.na;return this},ut.prototype.map=function(t){var e=this.fa;this.ka=e.Ga=null;var i=new Z;for(e=e.ba;null!==e;)i.add(t(e)),e=e.na;return i.iterator},ut.prototype.filter=function(t){var e=this.fa;this.ka=e.Ga=null;var i=new Z;for(e=e.ba;null!==e;)t(e)&&i.add(e),e=e.na;return i.iterator},ut.prototype.Ad=function(){this.value=this.key=null,this.ia=-1,this.fa.Ga=this},ut.prototype.toString=function(){return null!==this.ka?"MapIterator@"+this.ka:"MapIterator"},c.Object.defineProperties(ut.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.fa.Db}}}),ut.prototype.first=ut.prototype.first,ut.prototype.hasNext=ut.prototype.fd,ut.prototype.next=ut.prototype.next,ut.prototype.reset=ut.prototype.reset,ut.className="MapIterator",(i=ct.prototype).ib=function(){var t=this.xa;999999999<++t&&(t=0),this.xa=t},i.freeze=function(){return this.s=!0,this},i.ea=function(){return this.s=!1,this},i.toString=function(){return"Map()#"+rt(this)},i.add=function(t,e){this.s&&y(this,t);var i=t;w(t)&&(i=nt(t));var n=this.Eb[i];return void 0===n?(this.Db++,t=new ht(t,e),this.Eb[i]=t,null===(i=this.Re)?this.ba=t:(t.Bl=i,i.na=t),this.Re=t,this.ib()):n.value=e,this},i.set=function(t,e){return this.add(t,e)},i.addAll=function(t){if(null===t)return this;if(E(t))for(var e=t.length,i=0;i<e;i++){var n=t[i];this.add(n.key,n.value)}else if(t instanceof ct)for(t=t.iterator;t.next();)this.add(t.key,t.value);else for(t=t.iterator;t.next();)e=t.value,this.add(e.key,e.value);return this},i.first=function(){return this.ba},ct.prototype.any=function(t){for(var e=this.ba;null!==e;){if(t(e))return!0;e=e.na}return!1},ct.prototype.all=function(t){for(var e=this.ba;null!==e;){if(!t(e))return!1;e=e.na}return!0},ct.prototype.each=function(t){for(var e=this.ba;null!==e;)t(e),e=e.na;return this},ct.prototype.map=function(t){for(var e=new ct,i=this.ba;null!==i;)e.add(i.key,t(i)),i=i.na;return e},ct.prototype.filter=function(t){for(var e=new ct,i=this.ba;null!==i;)t(i)&&e.add(i.key,i.value),i=i.na;return e},(i=ct.prototype).contains=function(t){var e=t;return(!w(t)||void 0!==(e=rt(t)))&&void 0!==this.Eb[e]},i.has=function(t){return this.contains(t)},i.H=function(t){var e=t;return w(t)&&void 0===(e=rt(t))?null:void 0===(t=this.Eb[e])?null:t.value},i.get=function(t){return this.H(t)},i.remove=function(t){if(null===t)return!1;this.s&&y(this,t);var e=t;if(w(t)&&void 0===(e=rt(t)))return!1;if(void 0===(t=this.Eb[e]))return!1;var i=t.na,n=t.Bl;return null!==i&&(i.Bl=n),null!==n&&(n.na=i),this.ba===t&&(this.ba=i),this.Re===t&&(this.Re=n),delete this.Eb[e],this.Db--,this.ib(),!0},i.delete=function(t){return this.remove(t)},i.clear=function(){this.s&&y(this),this.Eb={},this.Db=0,null!==this.Ga&&this.Ga.reset(),null!==this.Qe&&this.Qe.reset(),this.Re=this.ba=null,this.ib()},ct.prototype.copy=function(){var t,e=new ct,i=this.Eb;for(t in i){var n=i[t];e.add(n.key,n.value)}return e},ct.prototype.ma=function(){var t,e=this.Eb,i=Array(this.Db),n=0;for(t in e){var r=e[t];i[n]=new ht(r.key,r.value),n++}return i},ct.prototype.Af=function(){return new at(this)},c.Object.defineProperties(ct.prototype,{count:{get:function(){return this.Db}},size:{get:function(){return this.Db}},iterator:{get:function(){if(0>=this.count)return $;var t=this.Ga;return null!==t?(t.reset(),t):new ut(this)}},iteratorKeys:{get:function(){return 0>=this.count?$:new st(this)}},iteratorValues:{get:function(){if(0>=this.count)return $;var t=this.Qe;return null!==t?(t.reset(),t):new lt(this)}}}),ct.prototype.toKeySet=ct.prototype.Af,ct.prototype.toArray=ct.prototype.ma,ct.prototype.clear=ct.prototype.clear,ct.prototype.delete=ct.prototype.delete,ct.prototype.remove=ct.prototype.remove,ct.prototype.get=ct.prototype.get,ct.prototype.getValue=ct.prototype.H,ct.prototype.has=ct.prototype.has,ct.prototype.contains=ct.prototype.contains,ct.prototype.first=ct.prototype.first,ct.prototype.addAll=ct.prototype.addAll,ct.prototype.set=ct.prototype.set,ct.prototype.add=ct.prototype.add,ct.prototype.thaw=ct.prototype.ea,ct.prototype.freeze=ct.prototype.freeze,ct.className="Map",dt.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this},dt.prototype.h=function(t,e){return this.x=t,this.y=e,this},dt.prototype.Cg=function(t,e){return this.x=t,this.y=e,this},dt.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},dt.prototype.copy=function(){var t=new dt;return t.x=this.x,t.y=this.y,t},(i=dt.prototype).ca=function(){return this.s=!0,Object.freeze(this),this},i.G=function(){return this.s||Object.isFrozen(this)?this:this.copy().freeze()},i.freeze=function(){return this.s=!0,this},i.ea=function(){return Object.isFrozen(this)&&A("cannot thaw constant: "+this),this.s=!1,this},i.toString=function(){return"Point("+this.x+","+this.y+")"},i.A=function(t){return t instanceof dt&&(this.x===t.x&&this.y===t.y)},i.Li=function(t,e){return this.x===t&&this.y===e},i.Ma=function(t){return Ye.w(this.x,t.x)&&Ye.w(this.y,t.y)},i.add=function(t){return this.x+=t.x,this.y+=t.y,this},i.Xd=function(t){return this.x-=t.x,this.y-=t.y,this},i.offset=function(t,e){return this.x+=t,this.y+=e,this},dt.prototype.rotate=function(t){if(0===t)return this;var e=this.x,i=this.y;if(0===e&&0===i)return this;if(360<=t?t-=360:0>t&&(t+=360),90===t){t=0;var n=1}else 180===t?(t=-1,n=0):270===t?(t=0,n=-1):(n=t*Math.PI/180,t=Math.cos(n),n=Math.sin(n));return this.x=t*e-n*i,this.y=n*e+t*i,this},(i=dt.prototype).scale=function(t,e){return this.x*=t,this.y*=e,this},i.we=function(t){var e=t.x-this.x;return e*e+(t=t.y-this.y)*t},i.ed=function(t,e){return(t-=this.x)*t+(e-=this.y)*e},i.normalize=function(){var t=this.x,e=this.y,i=Math.sqrt(t*t+e*e);return 0<i&&(this.x=t/i,this.y=e/i),this},i.Sa=function(t){return mt(t.x-this.x,t.y-this.y)},i.direction=function(t,e){return mt(t-this.x,e-this.y)},i.$z=function(t,e,i,n){return Ye.Xi(t,e,i,n,this.x,this.y,this),this},i.aA=function(t,e){return Ye.Xi(t.x,t.y,e.x,e.y,this.x,this.y,this),this},i.lA=function(t,e,i,n){return Ye.aq(this.x,this.y,t,e,i,n,this),this},i.mA=function(t,e){return Ye.aq(this.x,this.y,t.x,t.y,e.width,e.height,this),this},i.Zi=function(t,e){return this.x=t.x+e.x*t.width+e.offsetX,this.y=t.y+e.y*t.height+e.offsetY,this},i.sk=function(t,e,i,n,r){return this.x=t+r.x*i+r.offsetX,this.y=e+r.y*n+r.offsetY,this},i.transform=function(t){return t.ra(this),this},i.v=function(){return isFinite(this.x)&&isFinite(this.y)},dt.alloc=function(){var t=Pt.pop();return void 0===t?new dt:t},dt.allocAt=function(t,e){var i=Pt.pop();return void 0===i?new dt(t,e):(i.x=t,i.y=e,i)},dt.free=function(t){Pt.push(t)},dt.prototype.isReal=dt.prototype.v,dt.prototype.setSpot=dt.prototype.sk,dt.prototype.setRectSpot=dt.prototype.Zi,dt.prototype.snapToGridPoint=dt.prototype.mA,dt.prototype.snapToGrid=dt.prototype.lA,dt.prototype.projectOntoLineSegmentPoint=dt.prototype.aA,dt.prototype.projectOntoLineSegment=dt.prototype.$z,dt.prototype.direction=dt.prototype.direction,dt.prototype.directionPoint=dt.prototype.Sa,dt.prototype.normalize=dt.prototype.normalize,dt.prototype.distanceSquared=dt.prototype.ed,dt.prototype.distanceSquaredPoint=dt.prototype.we,dt.prototype.scale=dt.prototype.scale,dt.prototype.rotate=dt.prototype.rotate,dt.prototype.offset=dt.prototype.offset,dt.prototype.subtract=dt.prototype.Xd,dt.prototype.add=dt.prototype.add,dt.prototype.equalsApprox=dt.prototype.Ma,dt.prototype.equalTo=dt.prototype.Li,dt.prototype.equals=dt.prototype.A,dt.prototype.set=dt.prototype.set,dt.prototype.setTo=dt.prototype.Cg;var xt,bt,Ct,wt,Et,St,Tt,_t=null,Mt=null,kt=null,Bt=null,Ot=null,Pt=[];function Lt(t,e){void 0===t?this.height=this.width=0:"number"==typeof t&&(0<=t||isNaN(t))&&"number"==typeof e&&(0<=e||isNaN(e))?(this.width=t,this.height=e):A("Invalid arguments to Size constructor: "+t+", "+e),this.s=!1}function Nt(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];n&&(i=parseFloat(n));for(var r=0;""===t[e];)e++;return(n=t[e++])&&(r=parseFloat(n)),new Lt(i,r)}return new Lt}function It(t){return t.width.toString()+" "+t.height.toString()}dt.className="Point",dt.parse=pt,dt.stringify=ft,dt.distanceLineSegmentSquared=vt,dt.distanceSquared=At,dt.direction=yt,dt.Origin=_t=new dt(0,0).ca(),dt.InfiniteTopLeft=Mt=new dt(-1/0,-1/0).ca(),dt.InfiniteBottomRight=kt=new dt(1/0,1/0).ca(),dt.SixPoint=Bt=new dt(6,6).ca(),dt.NoPoint=Ot=new dt(NaN,NaN).ca(),dt.parse=pt,dt.stringify=ft,dt.distanceLineSegmentSquared=vt,dt.distanceSquared=At,dt.direction=yt,Lt.prototype.assign=function(t){return this.width=t.width,this.height=t.height,this},Lt.prototype.h=function(t,e){return this.width=t,this.height=e,this},Lt.prototype.Cg=function(t,e){return this.width=t,this.height=e,this},Lt.prototype.set=function(t){return this.width=t.width,this.height=t.height,this},Lt.prototype.copy=function(){var t=new Lt;return t.width=this.width,t.height=this.height,t},(i=Lt.prototype).ca=function(){return this.s=!0,Object.freeze(this),this},i.G=function(){return this.s||Object.isFrozen(this)?this:this.copy().freeze()},i.freeze=function(){return this.s=!0,this},i.ea=function(){return Object.isFrozen(this)&&A("cannot thaw constant: "+this),this.s=!1,this},i.toString=function(){return"Size("+this.width+","+this.height+")"},i.A=function(t){return t instanceof Lt&&(this.width===t.width&&this.height===t.height)},i.Li=function(t,e){return this.width===t&&this.height===e},i.Ma=function(t){return Ye.w(this.width,t.width)&&Ye.w(this.height,t.height)},i.v=function(){return isFinite(this.width)&&isFinite(this.height)},Lt.alloc=function(){var t=Dt.pop();return void 0===t?new Lt:t},Lt.free=function(t){Dt.push(t)},Lt.prototype.isReal=Lt.prototype.v,Lt.prototype.equalsApprox=Lt.prototype.Ma,Lt.prototype.equalTo=Lt.prototype.Li,Lt.prototype.equals=Lt.prototype.A,Lt.prototype.set=Lt.prototype.set,Lt.prototype.setTo=Lt.prototype.Cg;var Dt=[];function Rt(t,e,i,n){void 0===t?this.height=this.width=this.y=this.x=0:t instanceof dt?(i=t.x,t=t.y,e instanceof dt?(n=e.x,e=e.y,this.x=Math.min(i,n),this.y=Math.min(t,e),this.width=Math.abs(i-n),this.height=Math.abs(t-e)):e instanceof Lt?(this.x=i,this.y=t,this.width=e.width,this.height=e.height):A("Incorrect arguments supplied to Rect constructor")):"number"==typeof t&&"number"==typeof e&&"number"==typeof i&&(0<=i||isNaN(i))&&"number"==typeof n&&(0<=n||isNaN(n))?(this.x=t,this.y=e,this.width=i,this.height=n):A("Invalid arguments to Rect constructor: "+t+", "+e+", "+i+", "+n),this.s=!1}function Ft(t,e,i){t.width=e,t.height=i}function Ht(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];n&&(i=parseFloat(n));for(var r=0;""===t[e];)e++;(n=t[e++])&&(r=parseFloat(n));for(var o=0;""===t[e];)e++;(n=t[e++])&&(o=parseFloat(n));for(var s=0;""===t[e];)e++;return(n=t[e++])&&(s=parseFloat(n)),new Rt(i,r,o,s)}return new Rt}function Ut(t){return t.x.toString()+" "+t.y.toString()+" "+t.width.toString()+" "+t.height.toString()}function Vt(t,e){return Ye.Z(t.x,e.x)&&Ye.Z(t.y,e.y)&&Ye.Z(t.width,e.width)&&Ye.Z(t.height,e.height)}function jt(t,e,i,n,r){var o=t.width;return i+r<=-o?(t.x+=o/2,t.width=0):(t.x-=r,t.width+=i+r),e+n<=-(i=t.height)?(t.y+=i/2,t.height=0):(t.y-=e,t.height+=e+n),t}function Gt(t,e,i,n,r){var o=Math.max(t.x,e),s=Math.max(t.y,i);return e=Math.min(t.x+t.width,e+n),i=Math.min(t.y+t.height,i+r),t.x=o,t.y=s,t.width=Math.max(0,e-o),t.height=Math.max(0,i-s),t}function zt(t,e,i){var n=t.width,r=t.x,o=e.x-i;return!(r>e.width+i+i+o||o>n+r)&&(n=t.height,t=t.y,r=e.y-i,!(t>e.height+i+i+r||r>n+t))}function Qt(t,e,i,n,r){var o=Math.min(t.x,e),s=Math.min(t.y,i);return e=Math.max(t.x+t.width,e+n),i=Math.max(t.y+t.height,i+r),t.x=o,t.y=s,t.width=e-o,t.height=i-s,t}function Yt(t,e,i,n,r,o,s,a){return void 0===s&&(s=0),void 0===a&&(a=0),t<=r&&r+s<=t+i&&e<=o&&o+a<=e+n}function Kt(t,e,i,n,r,o,s,a){return!(t>s+r||r>i+t)&&!(e>a+o||o>n+e)}Lt.className="Size",Lt.parse=Nt,Lt.stringify=It,Lt.ZeroSize=xt=new Lt(0,0).ca(),Lt.OneSize=bt=new Lt(1,1).ca(),Lt.SixSize=Ct=new Lt(6,6).ca(),Lt.EightSize=wt=new Lt(8,8).ca(),Lt.TenSize=Et=new Lt(10,10).ca(),Lt.InfiniteSize=St=new Lt(1/0,1/0).ca(),Lt.NoSize=Tt=new Lt(NaN,NaN).ca(),Lt.parse=Nt,Lt.stringify=It,(i=Rt.prototype).assign=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},i.h=function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},i.Cg=function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},i.set=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},i.jd=function(t){return this.x=t.x,this.y=t.y,this},i.jA=function(t){return this.width=t.width,this.height=t.height,this},Rt.prototype.copy=function(){var t=new Rt;return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},(i=Rt.prototype).ca=function(){return this.s=!0,Object.freeze(this),this},i.G=function(){return this.s||Object.isFrozen(this)?this:this.copy().freeze()},i.freeze=function(){return this.s=!0,this},i.ea=function(){return Object.isFrozen(this)&&A("cannot thaw constant: "+this),this.s=!1,this},i.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"},i.A=function(t){return t instanceof Rt&&(this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height)},i.Li=function(t,e,i,n){return this.x===t&&this.y===e&&this.width===i&&this.height===n},i.Ma=function(t){return Ye.w(this.x,t.x)&&Ye.w(this.y,t.y)&&Ye.w(this.width,t.width)&&Ye.w(this.height,t.height)},i.$=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y},i.nf=function(t){return this.x<=t.x&&t.x+t.width<=this.x+this.width&&this.y<=t.y&&t.y+t.height<=this.y+this.height},i.contains=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),this.x<=t&&t+i<=this.x+this.width&&this.y<=e&&e+n<=this.y+this.height},i.reset=function(){this.height=this.width=this.y=this.x=0},i.offset=function(t,e){return this.x+=t,this.y+=e,this},i.Tc=function(t,e){return jt(this,e,t,e,t)},i.Tp=function(t){return jt(this,t.top,t.right,t.bottom,t.left)},i.Wv=function(t){return jt(this,-t.top,-t.right,-t.bottom,-t.left)},i.Dz=function(t,e,i,n){return jt(this,t,e,i,n)},i.Hz=function(t){return Gt(this,t.x,t.y,t.width,t.height)},i.pv=function(t,e,i,n){return Gt(this,t,e,i,n)},i.Gc=function(t){return this.qv(t.x,t.y,t.width,t.height)},i.qv=function(t,e,i,n){var r=this.width,o=this.x;return!(1/0!==r&&1/0!==i&&(r+=o,i+=t,isNaN(i)||isNaN(r)||o>i||t>r))&&(t=this.height,i=this.y,!(1/0!==t&&1/0!==n&&(t+=i,n+=e,isNaN(n)||isNaN(t)||i>n||e>t)))},i.Ce=function(t){return Qt(this,t.x,t.y,0,0)},i.Hc=function(t){return Qt(this,t.x,t.y,t.width,t.height)},i.cw=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),Qt(this,t,e,i,n)},i.sk=function(t,e,i){return this.x=t-i.offsetX-i.x*this.width,this.y=e-i.offsetY-i.y*this.height,this},i.v=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},i.Jz=function(){return 0===this.width&&0===this.height},Rt.alloc=function(){var t=Wt.pop();return void 0===t?new Rt:t},Rt.allocAt=function(t,e,i,n){var r=Wt.pop();return void 0===r?new Rt(t,e,i,n):r.h(t,e,i,n)},Rt.free=function(t){Wt.push(t)},c.Object.defineProperties(Rt.prototype,{left:{get:function(){return this.x},set:function(t){this.x=t}},top:{get:function(){return this.y},set:function(t){this.y=t}},right:{get:function(){return this.x+this.width},set:function(t){this.x+=t-(this.x+this.width)}},bottom:{get:function(){return this.y+this.height},set:function(t){this.y+=t-(this.y+this.height)}},position:{get:function(){return new dt(this.x,this.y)},set:function(t){this.x=t.x,this.y=t.y}},size:{get:function(){return new Lt(this.width,this.height)},set:function(t){this.width=t.width,this.height=t.height}},center:{get:function(){return new dt(this.x+this.width/2,this.y+this.height/2)},set:function(t){this.x=t.x-this.width/2,this.y=t.y-this.height/2}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}}),Rt.prototype.isEmpty=Rt.prototype.Jz,Rt.prototype.isReal=Rt.prototype.v,Rt.prototype.setSpot=Rt.prototype.sk,Rt.prototype.union=Rt.prototype.cw,Rt.prototype.unionRect=Rt.prototype.Hc,Rt.prototype.unionPoint=Rt.prototype.Ce,Rt.prototype.intersects=Rt.prototype.qv,Rt.prototype.intersectsRect=Rt.prototype.Gc,Rt.prototype.intersect=Rt.prototype.pv,Rt.prototype.intersectRect=Rt.prototype.Hz,Rt.prototype.grow=Rt.prototype.Dz,Rt.prototype.subtractMargin=Rt.prototype.Wv,Rt.prototype.addMargin=Rt.prototype.Tp,Rt.prototype.inflate=Rt.prototype.Tc,Rt.prototype.offset=Rt.prototype.offset,Rt.prototype.contains=Rt.prototype.contains,Rt.prototype.containsRect=Rt.prototype.nf,Rt.prototype.containsPoint=Rt.prototype.$,Rt.prototype.equalsApprox=Rt.prototype.Ma,Rt.prototype.equalTo=Rt.prototype.Li,Rt.prototype.equals=Rt.prototype.A,Rt.prototype.setSize=Rt.prototype.jA,Rt.prototype.setPoint=Rt.prototype.jd,Rt.prototype.set=Rt.prototype.set,Rt.prototype.setTo=Rt.prototype.Cg;var Xt=null,$t=null,Wt=[];function qt(t,e,i,n){void 0===t?this.left=this.bottom=this.right=this.top=0:void 0===e?this.left=this.bottom=this.right=this.top=t:void 0===i?(this.top=t,this.right=e,this.bottom=t,this.left=e):void 0!==n?(this.top=t,this.right=e,this.bottom=i,this.left=n):A("Invalid arguments to Margin constructor: "+t+", "+e+", "+i+", "+n),this.s=!1}function Jt(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=NaN;""===t[e];)e++;var n=t[e++];if(n&&(i=parseFloat(n)),isNaN(i))return new qt;for(var r=NaN;""===t[e];)e++;if((n=t[e++])&&(r=parseFloat(n)),isNaN(r))return new qt(i);for(var o=NaN;""===t[e];)e++;if((n=t[e++])&&(o=parseFloat(n)),isNaN(o))return new qt(i,r);for(var s=NaN;""===t[e];)e++;return(n=t[e++])&&(s=parseFloat(n)),isNaN(s)?new qt(i,r):new qt(i,r,o,s)}return new qt}function Zt(t){return t.top.toString()+" "+t.right.toString()+" "+t.bottom.toString()+" "+t.left.toString()}Rt.className="Rect",Rt.parse=Ht,Rt.stringify=Ut,Rt.contains=Yt,Rt.intersects=Kt,Rt.ZeroRect=Xt=new Rt(0,0,0,0).ca(),Rt.NoRect=$t=new Rt(NaN,NaN,NaN,NaN).ca(),Rt.parse=Ht,Rt.stringify=Ut,Rt.contains=Yt,Rt.intersects=Kt,qt.prototype.assign=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},qt.prototype.Cg=function(t,e,i,n){return this.top=t,this.right=e,this.bottom=i,this.left=n,this},qt.prototype.set=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},qt.prototype.copy=function(){var t=new qt;return t.top=this.top,t.right=this.right,t.bottom=this.bottom,t.left=this.left,t},(i=qt.prototype).ca=function(){return this.s=!0,Object.freeze(this),this},i.G=function(){return this.s||Object.isFrozen(this)?this:this.copy().freeze()},i.freeze=function(){return this.s=!0,this},i.ea=function(){return Object.isFrozen(this)&&A("cannot thaw constant: "+this),this.s=!1,this},i.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"},i.A=function(t){return t instanceof qt&&(this.top===t.top&&this.right===t.right&&this.bottom===t.bottom&&this.left===t.left)},i.Li=function(t,e,i,n){return this.top===t&&this.right===e&&this.bottom===i&&this.left===n},i.Ma=function(t){return Ye.w(this.top,t.top)&&Ye.w(this.right,t.right)&&Ye.w(this.bottom,t.bottom)&&Ye.w(this.left,t.left)},i.v=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)},qt.alloc=function(){var t=Fe.pop();return void 0===t?new qt:t},qt.free=function(t){Fe.push(t)},qt.prototype.isReal=qt.prototype.v,qt.prototype.equalsApprox=qt.prototype.Ma,qt.prototype.equalTo=qt.prototype.Li,qt.prototype.equals=qt.prototype.A,qt.prototype.set=qt.prototype.set,qt.prototype.setTo=qt.prototype.Cg;var te,ee,ie,ne,re,oe,se,ae,le,he,ue,ce,de,pe,fe,me,ge,ve,Ae,ye,xe,be,Ce,we,Ee,Se,Te,_e,Me,ke,Be,Oe,Pe,Le,Ne,Ie,De=null,Re=null,Fe=[];function He(t,e,i,n){void 0===t?this.offsetY=this.offsetX=this.y=this.x=0:(void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.offsetX=i,this.offsetY=n),this.s=!1}function Ue(t,e){return t.x=NaN,t.y=NaN,t.offsetX=e,t}function Ve(t){if("string"==typeof t){if("None"===(t=t.trim()))return te;if("TopLeft"===t)return ee;if("Top"===t||"TopCenter"===t||"MiddleTop"===t)return ie;if("TopRight"===t)return ne;if("Left"===t||"LeftCenter"===t||"MiddleLeft"===t)return re;if("Center"===t)return oe;if("Right"===t||"RightCenter"===t||"MiddleRight"===t)return se;if("BottomLeft"===t)return ae;if("Bottom"===t||"BottomCenter"===t||"MiddleBottom"===t)return le;if("BottomRight"===t)return he;if("TopSide"===t)return ue;if("LeftSide"===t)return ce;if("RightSide"===t)return de;if("BottomSide"===t)return pe;if("TopBottomSides"===t)return fe;if("LeftRightSides"===t)return me;if("TopLeftSides"===t)return ge;if("TopRightSides"===t)return ve;if("BottomLeftSides"===t)return Ae;if("BottomRightSides"===t)return ye;if("NotTopSide"===t)return xe;if("NotLeftSide"===t)return be;if("NotRightSide"===t)return Ce;if("NotBottomSide"===t)return we;if("AllSides"===t)return Ee;if("Default"===t)return Se;t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];void 0!==n&&0<n.length&&(i=parseFloat(n));for(var r=0;""===t[e];)e++;void 0!==(n=t[e++])&&0<n.length&&(r=parseFloat(n));for(var o=0;""===t[e];)e++;void 0!==(n=t[e++])&&0<n.length&&(o=parseFloat(n));for(var s=0;""===t[e];)e++;return void 0!==(n=t[e++])&&0<n.length&&(s=parseFloat(n)),new He(i,r,o,s)}return new He}function je(t){return t.eb()?t.x.toString()+" "+t.y.toString()+" "+t.offsetX.toString()+" "+t.offsetY.toString():t.toString()}qt.className="Margin",qt.parse=Jt,qt.stringify=Zt,qt.ZeroMargin=De=new qt(0,0,0,0).ca(),qt.TwoMargin=Re=new qt(2,2,2,2).ca(),qt.parse=Jt,qt.stringify=Zt,He.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},He.prototype.Cg=function(t,e,i,n){return this.x=t,this.y=e,this.offsetX=i,this.offsetY=n,this},He.prototype.set=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},He.prototype.copy=function(){var t=new He;return t.x=this.x,t.y=this.y,t.offsetX=this.offsetX,t.offsetY=this.offsetY,t},(i=He.prototype).ca=function(){return this.s=!0,Object.freeze(this),this},i.G=function(){return this.s||Object.isFrozen(this)?this:this.copy().freeze()},i.freeze=function(){return this.s=!0,this},i.ea=function(){return Object.isFrozen(this)&&A("cannot thaw constant: "+this),this.s=!1,this},i.toString=function(){return this.eb()?0===this.offsetX&&0===this.offsetY?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.A(te)?"None":this.A(ee)?"TopLeft":this.A(ie)?"Top":this.A(ne)?"TopRight":this.A(re)?"Left":this.A(oe)?"Center":this.A(se)?"Right":this.A(ae)?"BottomLeft":this.A(le)?"Bottom":this.A(he)?"BottomRight":this.A(ue)?"TopSide":this.A(ce)?"LeftSide":this.A(de)?"RightSide":this.A(pe)?"BottomSide":this.A(fe)?"TopBottomSides":this.A(me)?"LeftRightSides":this.A(ge)?"TopLeftSides":this.A(ve)?"TopRightSides":this.A(Ae)?"BottomLeftSides":this.A(ye)?"BottomRightSides":this.A(xe)?"NotTopSide":this.A(be)?"NotLeftSide":this.A(Ce)?"NotRightSide":this.A(we)?"NotBottomSide":this.A(Ee)?"AllSides":this.A(Se)?"Default":"None"},i.A=function(t){return t instanceof He&&((this.x===t.x||isNaN(this.x)&&isNaN(t.x))&&(this.y===t.y||isNaN(this.y)&&isNaN(t.y))&&this.offsetX===t.offsetX&&this.offsetY===t.offsetY)},i.Av=function(){return new He(.5-(this.x-.5),.5-(this.y-.5),-this.offsetX,-this.offsetY)},i.sf=function(t){if(!this.uf())return!1;if(!t.uf())if(t.A(Te))t=ce;else if(t.A(_e))t=de;else if(t.A(Me))t=ue;else{if(!t.A(ke))return!1;t=pe}return t=t.offsetY,(this.offsetY&t)===t},i.eb=function(){return!isNaN(this.x)&&!isNaN(this.y)},i.jc=function(){return isNaN(this.x)||isNaN(this.y)},i.uf=function(){return isNaN(this.x)&&isNaN(this.y)&&1===this.offsetX&&0!==this.offsetY},i.it=function(){return isNaN(this.x)&&isNaN(this.y)&&0===this.offsetX&&0===this.offsetY},i.Mb=function(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY},He.alloc=function(){var t=Ge.pop();return void 0===t?new He:t},He.free=function(t){Ge.push(t)},He.prototype.isDefault=He.prototype.Mb,He.prototype.isNone=He.prototype.it,He.prototype.isSide=He.prototype.uf,He.prototype.isNoSpot=He.prototype.jc,He.prototype.isSpot=He.prototype.eb,He.prototype.includesSide=He.prototype.sf,He.prototype.opposite=He.prototype.Av,He.prototype.equals=He.prototype.A,He.prototype.set=He.prototype.set,He.prototype.setTo=He.prototype.Cg;var Ge=[];function ze(){this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0}He.className="Spot",He.parse=Ve,He.stringify=je,He.None=te=Ue(new He(0,0,0,0),0).ca(),He.Default=Se=Ue(new He(0,0,-1,0),-1).ca(),He.TopLeft=ee=new He(0,0,0,0).ca(),He.TopCenter=ie=new He(.5,0,0,0).ca(),He.TopRight=ne=new He(1,0,0,0).ca(),He.LeftCenter=re=new He(0,.5,0,0).ca(),He.Center=oe=new He(.5,.5,0,0).ca(),He.RightCenter=se=new He(1,.5,0,0).ca(),He.BottomLeft=ae=new He(0,1,0,0).ca(),He.BottomCenter=le=new He(.5,1,0,0).ca(),He.BottomRight=he=new He(1,1,0,0).ca(),He.MiddleTop=Be=ie,He.MiddleLeft=Oe=re,He.MiddleRight=Pe=se,He.MiddleBottom=Le=le,He.Top=Me=ie,He.Left=Te=re,He.Right=_e=se,He.Bottom=ke=le,He.TopSide=ue=Ue(new He(0,0,1,1),1).ca(),He.LeftSide=ce=Ue(new He(0,0,1,2),1).ca(),He.RightSide=de=Ue(new He(0,0,1,4),1).ca(),He.BottomSide=pe=Ue(new He(0,0,1,8),1).ca(),He.TopBottomSides=fe=Ue(new He(0,0,1,9),1).ca(),He.LeftRightSides=me=Ue(new He(0,0,1,6),1).ca(),He.TopLeftSides=ge=Ue(new He(0,0,1,3),1).ca(),He.TopRightSides=ve=Ue(new He(0,0,1,5),1).ca(),He.BottomLeftSides=Ae=Ue(new He(0,0,1,10),1).ca(),He.BottomRightSides=ye=Ue(new He(0,0,1,12),1).ca(),He.NotTopSide=xe=Ue(new He(0,0,1,14),1).ca(),He.NotLeftSide=be=Ue(new He(0,0,1,13),1).ca(),He.NotRightSide=Ce=Ue(new He(0,0,1,11),1).ca(),He.NotBottomSide=we=Ue(new He(0,0,1,7),1).ca(),He.AllSides=Ee=Ue(new He(0,0,1,15),1).ca(),Ne=new He(.156,.156).ca(),Ie=new He(.844,.844).ca(),He.parse=Ve,He.stringify=je,ze.prototype.set=function(t){return this.m11=t.m11,this.m12=t.m12,this.m21=t.m21,this.m22=t.m22,this.dx=t.dx,this.dy=t.dy,this},ze.prototype.copy=function(){var t=new ze;return t.m11=this.m11,t.m12=this.m12,t.m21=this.m21,t.m22=this.m22,t.dx=this.dx,t.dy=this.dy,t},(i=ze.prototype).toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"},i.A=function(t){return t instanceof ze&&(this.m11===t.m11&&this.m12===t.m12&&this.m21===t.m21&&this.m22===t.m22&&this.dx===t.dx&&this.dy===t.dy)},i.gt=function(){return 0===this.dx&&0===this.dy&&1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22},i.reset=function(){return this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0,this},i.multiply=function(t){var e=this.m11*t.m11+this.m21*t.m12,i=this.m12*t.m11+this.m22*t.m12,n=this.m11*t.m21+this.m21*t.m22,r=this.m12*t.m21+this.m22*t.m22;return this.dx=this.m11*t.dx+this.m21*t.dy+this.dx,this.dy=this.m12*t.dx+this.m22*t.dy+this.dy,this.m11=e,this.m12=i,this.m21=n,this.m22=r,this},i.wv=function(t){var e=1/(t.m11*t.m22-t.m12*t.m21),i=t.m22*e,n=-t.m12*e,r=-t.m21*e,o=t.m11*e,s=e*(t.m21*t.dy-t.m22*t.dx);return t=e*(t.m12*t.dx-t.m11*t.dy),e=this.m11*i+this.m21*n,i=this.m12*i+this.m22*n,n=this.m11*r+this.m21*o,r=this.m12*r+this.m22*o,this.dx=this.m11*s+this.m21*t+this.dx,this.dy=this.m12*s+this.m22*t+this.dy,this.m11=e,this.m12=i,this.m21=n,this.m22=r,this},i.ft=function(){var t=1/(this.m11*this.m22-this.m12*this.m21),e=-this.m12*t,i=-this.m21*t,n=this.m11*t,r=t*(this.m21*this.dy-this.m22*this.dx),o=t*(this.m12*this.dx-this.m11*this.dy);return this.m11=this.m22*t,this.m12=e,this.m21=i,this.m22=n,this.dx=r,this.dy=o,this},ze.prototype.rotate=function(t,e,i){if(360<=t?t-=360:0>t&&(t+=360),0===t)return this;if(this.translate(e,i),90===t){t=0;var n=1}else 180===t?(t=-1,n=0):270===t?(t=0,n=-1):(n=t*Math.PI/180,t=Math.cos(n),n=Math.sin(n));var r=this.m12*t+this.m22*n,o=this.m11*-n+this.m21*t,s=this.m12*-n+this.m22*t;return this.m11=this.m11*t+this.m21*n,this.m12=r,this.m21=o,this.m22=s,this.translate(-e,-i),this},(i=ze.prototype).translate=function(t,e){return this.dx+=this.m11*t+this.m21*e,this.dy+=this.m12*t+this.m22*e,this},i.scale=function(t,e){return void 0===e&&(e=t),this.m11*=t,this.m12*=t,this.m21*=e,this.m22*=e,this},i.ra=function(t){var e=t.x,i=t.y;return t.h(e*this.m11+i*this.m21+this.dx,e*this.m12+i*this.m22+this.dy)},i.Td=function(t){var e=1/(this.m11*this.m22-this.m12*this.m21),i=t.x,n=t.y;return t.h(i*this.m22*e+n*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),i*-this.m12*e+n*this.m11*e+e*(this.m12*this.dx-this.m11*this.dy))},i.bw=function(t){var e=t.x,i=t.y,n=e+t.width,r=i+t.height,o=this.m11,s=this.m12,a=this.m21,l=this.m22,h=this.dx,u=this.dy,c=e*o+i*a+h,d=e*s+i*l+u,p=n*o+i*a+h,f=n*s+i*l+u;return i=e*o+r*a+h,e=e*s+r*l+u,o=n*o+r*a+h,n=n*s+r*l+u,r=Math.min(c,p),c=Math.max(c,p),p=Math.min(d,f),d=Math.max(d,f),r=Math.min(r,i),c=Math.max(c,i),p=Math.min(p,e),d=Math.max(d,e),r=Math.min(r,o),c=Math.max(c,o),p=Math.min(p,n),d=Math.max(d,n),t.h(r,p,c-r,d-p),t},ze.alloc=function(){var t=Qe.pop();return void 0===t?new ze:t},ze.free=function(t){Qe.push(t)},ze.prototype.transformRect=ze.prototype.bw,ze.prototype.invertedTransformPoint=ze.prototype.Td,ze.prototype.transformPoint=ze.prototype.ra,ze.prototype.scale=ze.prototype.scale,ze.prototype.translate=ze.prototype.translate,ze.prototype.rotate=ze.prototype.rotate,ze.prototype.invert=ze.prototype.ft,ze.prototype.multiplyInverted=ze.prototype.wv,ze.prototype.multiply=ze.prototype.multiply,ze.prototype.reset=ze.prototype.reset,ze.prototype.isIdentity=ze.prototype.gt,ze.prototype.equals=ze.prototype.A,ze.prototype.set=ze.prototype.set;var Qe=[];ze.className="Transform",ze.xF="54a702f3e53909c447824c6706603faf4c";var Ye={sA:"7da71ca0ad381e90",Fg:(Math.sqrt(2)-1)/3*4,ow:null,sqrt:function(t){if(0>=t)return 0;var e=Ye.ow;if(null===e){e=[];for(var i=0;2e3>=i;i++)e[i]=Math.sqrt(i);Ye.ow=e}return 1>t?2e3>=(i=1/t)?1/e[0|i]:Math.sqrt(t):2e3>=t?e[0|t]:Math.sqrt(t)},w:function(t,e){return.5>(t-=e)&&-.5<t},Z:function(t,e){return 5e-8>(t-=e)&&-5e-8<t},Wb:function(t,e,i,n,r,o,s){if(0>=r&&(r=1e-6),t<i)var a=t,l=i;else a=i,l=t;if(e<n)var h=e,u=n;else h=n,u=e;if(t===i)return h<=s&&s<=u&&t-r<=o&&o<=t+r;if(e===n)return a<=o&&o<=l&&e-r<=s&&s<=e+r;if(l+=r,(a-=r)<=o&&o<=l&&(u+=r,(h-=r)<=s&&s<=u))if(l-a>u-h){if(!(t-i>r||i-t>r))return!0;if((o=(n-e)/(i-t)*(o-t)+e)-r<=s&&s<=o+r)return!0}else{if(!(e-n>r||n-e>r))return!0;if((s=(i-t)/(n-e)*(s-e)+t)-r<=o&&o<=s+r)return!0}return!1},Ms:function(t,e,i,n,r,o,s,a,l,h,u,c){if(Ye.Wb(t,e,s,a,c,i,n)&&Ye.Wb(t,e,s,a,c,r,o))return Ye.Wb(t,e,s,a,c,h,u);var d=(t+i)/2,p=(e+n)/2,f=(i+r)/2,m=(n+o)/2,g=((n=(d+f)/2)+(f=(f+(r=(r+s)/2))/2))/2,v=((i=(p+m)/2)+(m=(m+(o=(o+a)/2))/2))/2;return Ye.Ms(t,e,d,p,n,i,g,v,l,h,u,c)||Ye.Ms(g,v,f,m,r,o,s,a,l,h,u,c)},Fy:function(t,e,i,n,r,o,s,a,l){var h=(i+r)/2,u=(n+o)/2;return l.h((((t+i)/2+h)/2+(h+(r+s)/2)/2)/2,(((e+n)/2+u)/2+(u+(o+a)/2)/2)/2),l},Ey:function(t,e,i,n,r,o,s,a){var l=(i+r)/2,h=(n+o)/2;return yt(((t+i)/2+l)/2,((e+n)/2+h)/2,(l+(r+s)/2)/2,(h+(o+a)/2)/2)},Xl:function(t,e,i,n,r,o,s,a,l,h){if(Ye.Wb(t,e,s,a,l,i,n)&&Ye.Wb(t,e,s,a,l,r,o))Qt(h,t,e,0,0),Qt(h,s,a,0,0);else{var u=(t+i)/2,c=(e+n)/2,d=(i+r)/2,p=(n+o)/2,f=((n=(u+d)/2)+(d=(d+(r=(r+s)/2))/2))/2,m=((i=(c+p)/2)+(p=(p+(o=(o+a)/2))/2))/2;Ye.Xl(t,e,u,c,n,i,f,m,l,h),Ye.Xl(f,m,d,p,r,o,s,a,l,h)}return h},ve:function(t,e,i,n,r,o,s,a,l,h){if(Ye.Wb(t,e,s,a,l,i,n)&&Ye.Wb(t,e,s,a,l,r,o))0===h.length&&(h.push(t),h.push(e)),h.push(s),h.push(a);else{var u=(t+i)/2,c=(e+n)/2,d=(i+r)/2,p=(n+o)/2,f=((n=(u+d)/2)+(d=(d+(r=(r+s)/2))/2))/2,m=((i=(c+p)/2)+(p=(p+(o=(o+a)/2))/2))/2;Ye.ve(t,e,u,c,n,i,f,m,l,h),Ye.ve(f,m,d,p,r,o,s,a,l,h)}return h},Dv:function(t,e,i,n,r,o,s,a,l,h){if(Ye.Wb(t,e,r,o,h,i,n))return Ye.Wb(t,e,r,o,h,a,l);var u=(t+i)/2,c=(e+n)/2,d=(u+(i=(i+r)/2))/2,p=(c+(n=(n+o)/2))/2;return Ye.Dv(t,e,u,c,d,p,s,a,l,h)||Ye.Dv(d,p,i,n,r,o,s,a,l,h)},yA:function(t,e,i,n,r,o,s){return s.h(((t+i)/2+(i+r)/2)/2,((e+n)/2+(n+o)/2)/2),s},Cv:function(t,e,i,n,r,o,s,a){if(Ye.Wb(t,e,r,o,s,i,n))Qt(a,t,e,0,0),Qt(a,r,o,0,0);else{var l=(t+i)/2,h=(e+n)/2,u=(l+(i=(i+r)/2))/2,c=(h+(n=(n+o)/2))/2;Ye.Cv(t,e,l,h,u,c,s,a),Ye.Cv(u,c,i,n,r,o,s,a)}return a},rq:function(t,e,i,n,r,o,s,a){if(Ye.Wb(t,e,r,o,s,i,n))0===a.length&&(a.push(t),a.push(e)),a.push(r),a.push(o);else{var l=(t+i)/2,h=(e+n)/2,u=(l+(i=(i+r)/2))/2,c=(h+(n=(n+o)/2))/2;Ye.rq(t,e,l,h,u,c,s,a),Ye.rq(u,c,i,n,r,o,s,a)}return a},Up:function(t,e,i,n,r,o,s,a,l,h,u,c,d,p){if(Ye.Wb(t,e,s,a,d,i,n)&&Ye.Wb(t,e,s,a,d,r,o)){var f=(t-s)*(h-c)-(e-a)*(l-u);if(0===f)return!1;if(d=((t*a-e*s)*(l-u)-(t-s)*(l*c-h*u))/f,f=((t*a-e*s)*(h-c)-(e-a)*(l*c-h*u))/f,(l>u?l-u:u-l)<(h>c?h-c:c-h)){if(e<a?s=e:(s=a,a=e),f<s||f>a)return!1}else if(t<s?a=t:(a=s,s=t),d<a||d>s)return!1;return p.h(d,f),!0}var m=(e+n)/2,g=((f=(t+i)/2)+(i=(i+r)/2))/2,v=(m+(n=(n+o)/2))/2,A=(g+(i=(i+(r=(r+s)/2))/2))/2,y=(v+(n=(n+(o=(o+a)/2))/2))/2,x=(u-l)*(u-l)+(c-h)*(c-h),b=!1;return Ye.Up(t,e,f,m,g,v,A,y,l,h,u,c,d,p)&&((t=(p.x-l)*(p.x-l)+(p.y-h)*(p.y-h))<x&&(x=t,b=!0)),t=p.x,e=p.y,Ye.Up(A,y,i,n,r,o,s,a,l,h,u,c,d,p)&&((p.x-l)*(p.x-l)+(p.y-h)*(p.y-h)<x?b=!0:p.h(t,e)),b},Vp:function(t,e,i,n,r,o,s,a,l,h,u,c,d){var p=0;if(Ye.Wb(t,e,s,a,d,i,n)&&Ye.Wb(t,e,s,a,d,r,o)){if(0===(d=(t-s)*(h-c)-(e-a)*(l-u)))return p;var f=((t*a-e*s)*(l-u)-(t-s)*(l*c-h*u))/d,m=((t*a-e*s)*(h-c)-(e-a)*(l*c-h*u))/d;if(f>=u)return p;if((l>u?l-u:u-l)<(h>c?h-c:c-h)){if(e<a?(t=e,e=a):t=a,m<t||m>e)return p}else if(t<s?(e=t,t=s):e=s,f<e||f>t)return p;0<d?p++:0>d&&p--}else{m=(e+n)/2;var g=(i+r)/2,v=(n+o)/2,A=((n=((f=(t+i)/2)+g)/2)+(g=(g+(r=(r+s)/2))/2))/2,y=((i=(m+v)/2)+(v=(v+(o=(o+a)/2))/2))/2;p+=Ye.Vp(t,e,f,m,n,i,A,y,l,h,u,c,d),p+=Ye.Vp(A,y,g,v,r,o,s,a,l,h,u,c,d)}return p},Xi:function(t,e,i,n,r,o,s){return Ye.Z(t,i)?(e<n?(i=e,e=n):i=n,o<i?(s.h(t,i),!1):o>e?(s.h(t,e),!1):(s.h(t,o),!0)):Ye.Z(e,n)?(t<i?(n=t,t=i):n=i,r<n?(s.h(n,e),!1):r>t?(s.h(t,e),!1):(s.h(r,e),!0)):-5e-6>(r=((t-r)*(t-i)+(e-o)*(e-n))/((i-t)*(i-t)+(n-e)*(n-e)))?(s.h(t,e),!1):1.000005<r?(s.h(i,n),!1):(s.h(t+r*(i-t),e+r*(n-e)),!0)},ze:function(t,e,i,n,r,o,s,a,l){return Ye.w(t,i)&&Ye.w(e,n)?(l.h(t,e),!1):Ye.Z(r,s)?Ye.Z(t,i)?(Ye.Xi(t,e,i,n,r,o,l),!1):Ye.Xi(t,e,i,n,r,(n-e)/(i-t)*(r-t)+e,l):(a=(a-o)/(s-r),Ye.Z(t,i)?(i=a*(t-r)+o,e<n?(r=e,e=n):r=n,i<r?(l.h(t,r),!1):i>e?(l.h(t,e),!1):(l.h(t,i),!0)):(s=(n-e)/(i-t),Ye.Z(a,s)?(Ye.Xi(t,e,i,n,r,o,l),!1):(r=(s*t-a*r+o-e)/(s-a),Ye.Z(s,0)?(t<i?(n=t,t=i):n=i,r<n?(l.h(n,e),!1):r>t?(l.h(t,e),!1):(l.h(r,e),!0)):Ye.Xi(t,e,i,n,r,s*(r-t)+e,l))))},xA:function(t,e,i,n,r){return Ye.ze(i.x,i.y,n.x,n.y,t.x,t.y,e.x,e.y,r)},wA:function(t,e,i,n,r,o,s,a,l,h){function u(i,n){var r=(i-t)*(i-t)+(n-e)*(n-e);r<c&&(c=r,l.h(i,n))}var c=1/0;u(l.x,l.y);var d=0,p=0,f=0,m=0;if(r<s?(d=r,p=s):(d=s,p=r),o<a?(f=r,m=s):(f=s,m=r),d=(p-d)/2+h,h=(m-f)/2+h,r=(r+s)/2,o=(o+a)/2,0===d||0===h)return l;if(.5>(i>t?i-t:t-i)){if(0>(d=1-(i-r)*(i-r)/(d*d)))return l;n=-h*(d=Math.sqrt(d))+o,u(i,h*d+o),u(i,n)}else{if(0>(d=(a=2*(i=(n-e)/(i-t))*(e-i*t)/(h*h)-2*i*o/(h*h)-2*r/(d*d))*a-4*(n=1/(d*d)+i*i/(h*h))*(2*i*t*o/(h*h)-2*e*o/(h*h)+o*o/(h*h)+r*r/(d*d)-1+(e-i*t)*(e-i*t)/(h*h))))return l;u(h=(-a+(d=Math.sqrt(d)))/(2*n),i*h-i*t+e),u(d=(-a-d)/(2*n),i*d-i*t+e)}return l},Sc:function(t,e,i,n,r,o,s,a,l){var h=1e21,u=t,c=e;if(Ye.ze(t,e,t,n,r,o,s,a,l)){var d=(l.x-r)*(l.x-r)+(l.y-o)*(l.y-o);d<h&&(h=d,u=l.x,c=l.y)}return Ye.ze(i,e,i,n,r,o,s,a,l)&&((d=(l.x-r)*(l.x-r)+(l.y-o)*(l.y-o))<h&&(h=d,u=l.x,c=l.y)),Ye.ze(t,e,i,e,r,o,s,a,l)&&((e=(l.x-r)*(l.x-r)+(l.y-o)*(l.y-o))<h&&(h=e,u=l.x,c=l.y)),Ye.ze(t,n,i,n,r,o,s,a,l)&&((t=(l.x-r)*(l.x-r)+(l.y-o)*(l.y-o))<h&&(h=t,u=l.x,c=l.y)),l.h(u,c),1e21>h},vA:function(t,e,i,n,r,o,s,a,l){return s=r-s,0===(i=t-i)||0===s?0===i?r=(e=(o-a)/s)*(a=t)+(o-e*r):r=(o=(e-n)/i)*(a=r)+(e-o*t):r=(n=(e-n)/i)*(a=(o-(a=(o-a)/s)*r-(t=e-n*t))/(n-a))+t,l.h(a,r),l},dt:function(t,e,i){var n=e.x,r=e.y,o=i.x,s=i.y,a=t.left,l=t.right,h=t.top,u=t.bottom;return n===o?(r<s?(o=r,r=s):o=s,a<=n&&n<=l&&o<=u&&r>=h):r===s?(n<o?(s=n,n=o):s=o,h<=r&&r<=u&&s<=l&&n>=a):!!(t.$(e)||t.$(i)||Ye.ct(a,h,l,h,n,r,o,s)||Ye.ct(l,h,l,u,n,r,o,s)||Ye.ct(l,u,a,u,n,r,o,s)||Ye.ct(a,u,a,h,n,r,o,s))},ct:function(t,e,i,n,r,o,s,a){return 0>=Ye.Ps(t,e,i,n,r,o)*Ye.Ps(t,e,i,n,s,a)&&0>=Ye.Ps(r,o,s,a,t,e)*Ye.Ps(r,o,s,a,i,n)},Ps:function(t,e,i,n,r,o){return i-=t,0===(o=(t=r-t)*(n-=e)-(e=o-e)*i)&&(0<(o=t*i+e*n)&&(0>(o=(t-i)*i+(e-n)*n)&&(o=0))),0>o?-1:0<o?1:0},oq:function(t){return 0>t&&(t+=360),360<=t&&(t-=360),t},sx:function(t,e,i,n,r,o){var s=Math.PI;o||(n*=s/180,r*=s/180);var a=n>r?-1:1;o=[];var l=s/2,h=n;if(1e-5>(n=Math.min(2*s,Math.abs(r-n))))return l=h+a*Math.min(n,l),a=t+i*Math.cos(h),h=e+i*Math.sin(h),t+=i*Math.cos(l),e+=i*Math.sin(l),i=(a+t)/2,l=(h+e)/2,o.push([a,h,i,l,i,l,t,e]),o;for(;1e-5<n;)r=h+a*Math.min(n,l),o.push(Ye.My(i,h,r,t,e)),n-=Math.abs(r-h),h=r;return o},My:function(t,e,i,n,r){var o=(i-e)/2,s=t*Math.cos(o),a=t*Math.sin(o),l=-a,h=s*s+l*l,u=h+s*s+l*a;return a=s-(h=4/3*(Math.sqrt(2*h*u)-u)/(s*a-l*s))*l,l=-(s=l+h*s),h=o+e,o=Math.cos(h),h=Math.sin(h),[n+t*Math.cos(e),r+t*Math.sin(e),n+a*o-s*h,r+a*h+s*o,n+a*o-l*h,r+a*h+l*o,n+t*Math.cos(i),r+t*Math.sin(i)]},aq:function(t,e,i,n,r,o,s){i=Math.floor((t-i)/r)*r+i,n=Math.floor((e-n)/o)*o+n;var a=i;return i+r-t<r/2&&(a=i+r),t=n,n+o-e<o/2&&(t=n+o),s.h(a,t),s},Bx:function(t,e){var i,n=Math.max(t,e);t=Math.min(t,e);do{e=n%t,n=i=t,t=e}while(0<e);return i},Ry:function(t,e,i,n){var r=0>i,o=0>n;if(t<e)var s=1,a=0;else s=0,a=1;var l=0===s?t:e,h=0===s?i:n;return(0===s?r:o)&&(h=-h),i=0===(s=a)?i:n,(0===s?r:o)&&(i=-i),Ye.Sy(l,0===s?t:e,h,i,0,0)},Sy:function(t,e,i,n,r,o){if(0<n)if(0<i){r=t*t,t*=i;var s=e*n,a=-(o=e*e)+s,l=-o+Math.sqrt(t*t+s*s);e=a;for(var h=0;9999999999>h&&((e=.5*(a+l))!==a&&e!==l);++h){var u=t/(e+r),c=s/(e+o);if(0<(u=u*u+c*c-1))a=e;else{if(!(0>u))break;l=e}}i=r*i/(e+r)-i,n=o*n/(e+o)-n,i=Math.sqrt(i*i+n*n)}else i=Math.abs(n-e);else(o=t*i)<(n=t*t-e*e)?(n=o/n,o=e*Math.sqrt(Math.abs(1-n*n)),i=t*n-i,i=Math.sqrt(i*i+o*o)):i=Math.abs(i-t);return i},Ee:new K,Hm:new K,Cf:new K,Df:0};function Ke(t){it(this),this.s=!1,void 0===t&&(t=si),this.qa=t,this.Ac=this.mc=this.ad=this.$c=0,this.kj=new Z,this.qr=this.kj.xa,this.ar=(new Rt).freeze(),this.pa=!0,this.Rm=this.Ak=null,this.Sm=NaN,this.df=ee,this.ef=he,this.gl=this.il=NaN,this.Mf=Qo}function Xe(t,e){return t.type===ni&&e.type===si&&!!(1===e.figures.count&&(e=e.figures.L(0),1===e.segments.count&&Ye.w(t.startX,e.startX)&&Ye.w(t.startY,e.startY)&&(e=e.segments.L(0),e.type===di&&Ye.w(t.endX,e.endX)&&Ye.w(t.endY,e.endY))))}function $e(t){return t.toString()}function We(t,e){function i(){return m>=x-1||null!==l[m+1].match(/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/)}function n(){return l[++m]}function r(){var t=new dt(parseFloat(n()),parseFloat(n()));return g===g.toLowerCase()&&(t.x=y.x+t.x,t.y=y.y+t.y),t}function o(){return y=r()}function s(){return A=r()}function a(){var t=v.toLowerCase();return"c"!==t&&"s"!==t&&"q"!==t&&"t"!==t?y:new dt(2*y.x-A.x,2*y.y-A.y)}void 0===e&&(e=!1);var l=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/,/gm," ")).replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,"$1 $2")).replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,"$1 $2")).replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([^\s])/gm,"$1 $2")).replace(/([^\s])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2")).replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 ")).replace(/[\s\r\t\n]+/gm," ")).replace(/^\s+|\s+$/g,"")).split(" ");for(t=0;t<l.length;t++){var h=l[t];if(null!==h.match(/(\.[0-9]*)(\.)/gm)){for(var u=M(),c="",d=!1,p=0;p<h.length;p++){var f=h[p];"."!==f||d?"."===f?(u.push(c),c="."):c+=f:(d=!0,c+=f)}for(u.push(c),l.splice(t,1),h=0;h<u.length;h++)l.splice(t+h,0,u[h]);t+=u.length-1,k(u)}}var m=-1,g="",v="";u=new dt(0,0);var A=new dt(0,0),y=new dt(0,0),x=l.length;for(t=Qh(null),c=h=!1,d=!0,p=null;!(m>=x-1);)if(v=g,""!==(g=n()))switch(g.toUpperCase()){case"X":d=!0,c=h=!1;break;case"M":for(p=o(),null===t.ec||!0===d?(Uh(t,p.x,p.y,h,!c),d=!1):t.moveTo(p.x,p.y),u=y;!i();)p=o(),t.lineTo(p.x,p.y);break;case"L":for(;!i();)p=o(),t.lineTo(p.x,p.y);break;case"H":for(;!i();)y=new dt((g===g.toLowerCase()?y.x:0)+parseFloat(n()),y.y),t.lineTo(y.x,y.y);break;case"V":for(;!i();)y=new dt(y.x,(g===g.toLowerCase()?y.y:0)+parseFloat(n())),t.lineTo(y.x,y.y);break;case"C":for(;!i();){p=r(),f=s();var b=o();jh(t,p.x,p.y,f.x,f.y,b.x,b.y)}break;case"S":for(;!i();)p=a(),f=s(),b=o(),jh(t,p.x,p.y,f.x,f.y,b.x,b.y);break;case"Q":for(;!i();)p=s(),f=o(),Gh(t,p.x,p.y,f.x,f.y);break;case"T":for(;!i();)A=p=a(),f=o(),Gh(t,p.x,p.y,f.x,f.y);break;case"B":for(;!i();){p=parseFloat(n()),f=parseFloat(n()),b=parseFloat(n());var C=parseFloat(n()),w=parseFloat(n()),E=w,S=!1;i()||(E=parseFloat(n()),i()||(S=0!==parseFloat(n()))),g===g.toLowerCase()&&(b+=y.x,C+=y.y),t.arcTo(p,f,b,C,w,E,S)}break;case"A":for(;!i();)zh(t,p=Math.abs(parseFloat(n())),f=Math.abs(parseFloat(n())),b=parseFloat(n()),C=!!parseFloat(n()),w=!!parseFloat(n()),(E=o()).x,E.y);break;case"Z":Vh(t),y=u;break;case"F":for(p="",f=1;l[m+f];)if(null!==l[m+f].match(/[Uu]/))f++;else{if(null!==l[m+f].match(/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/)){p=l[m+f];break}f++}p.match(/[Mm]/)?h=!0:0<t.ec.segments.length&&(t.ec.isFilled=!0);break;case"U":for(p="",f=1;l[m+f];)if(null!==l[m+f].match(/[Ff]/))f++;else{if(null!==l[m+f].match(/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/)){p=l[m+f];break}f++}p.match(/[Mm]/)?c=!0:t.Aq(!1)}if(u=t.Ys,Yh=t,e)for(e=u.figures.iterator;e.next();)e.value.isFilled=!0;return u}function qe(t,e){for(var i=t.length,n=dt.alloc(),r=0;r<i;r++){var o=t[r];n.x=o[0],n.y=o[1],e.ra(n),o[0]=n.x,o[1]=n.y,n.x=o[2],n.y=o[3],e.ra(n),o[2]=n.x,o[3]=n.y,n.x=o[4],n.y=o[5],e.ra(n),o[4]=n.x,o[5]=n.y,n.x=o[6],n.y=o[7],e.ra(n),o[6]=n.x,o[7]=n.y}dt.free(n)}function Je(t,e,i){switch(t.type){case ni:case ri:case oi:i?e.h(t.$c,t.ad,0,0):Qt(e,t.$c,t.ad,0,0),Qt(e,t.mc,t.Ac,0,0);break;case si:var n=t.figures;t=n.j,n=n.length;for(var r=0;r<n;r++){var o=t[r];i&&0===r?e.h(o.startX,o.startY,0,0):Qt(e,o.startX,o.startY,0,0);for(var s=o.segments.j,a=s.length,l=o.startX,h=o.startY,u=0;u<a;u++){var c=s[u];switch(c.type){case di:case ci:Qt(e,l=c.endX,h=c.endY,0,0);break;case pi:Ye.Xl(l,h,c.point1X,c.point1Y,c.point2X,c.point2Y,c.endX,c.endY,.5,e),l=c.endX,h=c.endY;break;case fi:Ye.Cv(l,h,c.point1X,c.point1Y,c.endX,c.endY,.5,e),l=c.endX,h=c.endY;break;case mi:case gi:var d=c.type===mi?hi(c,o):ui(c,o,l,h),p=d.length;if(0===p){Qt(e,l=c.centerX,h=c.centerY,0,0);break}c=null;for(var f=0;f<p;f++)c=d[f],Ye.Xl(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],.5,e);null!==c&&(l=c[6],h=c[7]);break;default:A("Unknown Segment type: "+c.type)}}}break;default:A("Unknown Geometry type: "+t.type)}}function Ze(t,e,i,n,r,o,s,a){if(Ye.Wb(r,o,s,a,.05,t,e))return NaN;var l=(t-i)*(o-a);if(0===l)return 0;var h=((t*n-e*i)*(r-s)-(t-i)*(r*a-o*s))/l;if(e=(t*n-e*i)*(o-a)/l,h>=t)return 0;if((r>s?r-s:s-r)<(o>a?o-a:a-o)){if(o<a){if(e<o||e>a)return 0}else if(e<a||e>o)return 0}else if(r<s){if(h<r||h>s)return 0}else if(h<s||h>r)return 0;return 0<l?1:-1}function ti(t,e,i,n){for(var r=(t=t.figures.j).length,o=0;o<r;o++)if(t[o].$(e,i,n))return!0;return!1}function ei(t){if(null===t.Ak){var e=t.Ak=[],i=t.Rm=[],n=[],r=[];if(t.type===ni)n.push(t.startX),n.push(t.startY),n.push(t.endX),n.push(t.endY),e.push(n),r.push(Math.sqrt((t.startX-t.endX)*(t.startX-t.endX)+(t.startY-t.endY)*(t.startY-t.endY))),i.push(r);else if(t.type===ri)n.push(t.startX),n.push(t.startY),n.push(t.endX),n.push(t.startY),n.push(t.endX),n.push(t.endY),n.push(t.startX),n.push(t.endY),n.push(t.startX),n.push(t.startY),e.push(n),r.push(Math.abs(t.startX-t.endX)),r.push(Math.abs(t.startY-t.endY)),r.push(Math.abs(t.startX-t.endX)),r.push(Math.abs(t.startY-t.endY)),i.push(r);else if(t.type===oi){var o=new ai;o.startX=t.endX,o.startY=(t.startY+t.endY)/2;var s=new li(mi);if(s.startAngle=0,s.sweepAngle=360,s.centerX=(t.startX+t.endX)/2,s.centerY=(t.startY+t.endY)/2,s.radiusX=Math.abs(t.startX-t.endX)/2,s.radiusY=Math.abs(t.startY-t.endY)/2,o.add(s),0===(r=(t=hi(s,o)).length))n.push(s.centerX),n.push(s.centerY);else{s=o.startX,o=o.startY;for(var a=0;a<r;a++){var l=t[a];Ye.ve(s,o,l[2],l[3],l[4],l[5],l[6],l[7],.5,n),s=l[6],o=l[7]}}e.push(n),i.push(ii(n))}else for(t=t.figures.iterator;t.next();){r=t.value,(n=[]).push(r.startX),n.push(r.startY),a=s=r.startX,l=o=r.startY;for(var h=r.segments.j,u=h.length,c=0;c<u;c++){var d=h[c];switch(d.type){case ci:4<=n.length&&(e.push(n),i.push(ii(n))),(n=[]).push(d.endX),n.push(d.endY),a=s=d.endX,l=o=d.endY;break;case di:n.push(d.endX),n.push(d.endY),s=d.endX,o=d.endY;break;case pi:Ye.ve(s,o,d.point1X,d.point1Y,d.point2X,d.point2Y,d.endX,d.endY,.5,n),s=d.endX,o=d.endY;break;case fi:Ye.rq(s,o,d.point1X,d.point1Y,d.endX,d.endY,.5,n),s=d.endX,o=d.endY;break;case mi:var p=hi(d,r),f=p.length;if(0===f){n.push(d.centerX),n.push(d.centerY),s=d.centerX,o=d.centerY;break}for(var m=0;m<f;m++){var g=p[m];Ye.ve(s,o,g[2],g[3],g[4],g[5],g[6],g[7],.5,n),s=g[6],o=g[7]}break;case gi:if(0===(f=(p=ui(d,r,s,o)).length)){n.push(d.centerX),n.push(d.centerY),s=d.centerX,o=d.centerY;break}for(m=0;m<f;m++)g=p[m],Ye.ve(s,o,g[2],g[3],g[4],g[5],g[6],g[7],.5,n),s=g[6],o=g[7];break;default:A("Segment not of valid type: "+d.type)}d.isClosed&&(n.push(a),n.push(l))}4<=n.length&&(e.push(n),i.push(ii(n)))}}}function ii(t){for(var e=[],i=0,n=0,r=t.length,o=0;o<r;o+=2){var s=t[o],a=t[o+1];0!==o&&e.push(Math.sqrt(At(i,n,s,a))),i=s,n=a}return e}Ye.za=Ye.sA,Ke.prototype.copy=function(){var t=new Ke;t.qa=this.qa,t.$c=this.$c,t.ad=this.ad,t.mc=this.mc,t.Ac=this.Ac;for(var e=this.kj.j,i=e.length,n=t.kj,r=0;r<i;r++){var o=e[r].copy();n.add(o)}return t.qr=this.qr,t.ar.assign(this.ar),t.pa=this.pa,t.Ak=this.Ak,t.Rm=this.Rm,t.Sm=this.Sm,t.df=this.df.G(),t.ef=this.ef.G(),t.il=this.il,t.gl=this.gl,t.Mf=this.Mf,t},(i=Ke.prototype).ca=function(){return this.freeze(),Object.freeze(this),this},i.freeze=function(){this.s=!0;var t=this.figures;t.freeze();for(var e=(t=t.j).length,i=0;i<e;i++)t[i].freeze();return this},i.ea=function(){Object.isFrozen(this)&&A("cannot thaw constant: "+this),this.s=!1;var t=this.figures;t.ea();for(var e=(t=t.j).length,i=0;i<e;i++)t[i].ea();return this},i.Ma=function(t){if(!(t instanceof Ke))return!1;if(this.type!==t.type)return this.type===ni&&t.type===si?Xe(this,t):t.type===ni&&this.type===si&&Xe(t,this);if(this.type===si){var e=this.figures.j;t=t.figures.j;var i=e.length;if(i!==t.length)return!1;for(var n=0;n<i;n++)if(!e[n].Ma(t[n]))return!1;return!0}return Ye.w(this.startX,t.startX)&&Ye.w(this.startY,t.startY)&&Ye.w(this.endX,t.endX)&&Ye.w(this.endY,t.endY)},i.cb=function(t){t.classType===Ke&&(this.type=t)},i.toString=function(t){switch(void 0===t&&(t=-1),this.type){case ni:return 0>t?"M"+this.startX.toString()+" "+this.startY.toString()+"L"+this.endX.toString()+" "+this.endY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t)+"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);case ri:var e=new Rt(this.startX,this.startY,0,0);return e.cw(this.endX,this.endY,0,0),0>t?"M"+e.x.toString()+" "+e.y.toString()+"H"+e.right.toString()+"V"+e.bottom.toString()+"H"+e.left.toString()+"z":"M"+e.x.toFixed(t)+" "+e.y.toFixed(t)+"H"+e.right.toFixed(t)+"V"+e.bottom.toFixed(t)+"H"+e.left.toFixed(t)+"z";case oi:if((e=new Rt(this.startX,this.startY,0,0)).cw(this.endX,this.endY,0,0),0>t)return"M"+(t=e.left.toString()+" "+(e.y+e.height/2).toString())+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+e.right.toString()+" "+(e.y+e.height/2).toString()+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+t;var i=e.left.toFixed(t)+" "+(e.y+e.height/2).toFixed(t);return"M"+i+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+e.right.toFixed(t)+" "+(e.y+e.height/2).toFixed(t)+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+i;case si:e="";for(var n=(i=this.figures.j).length,r=0;r<n;r++){var o=i[r];0<r&&(e+=" x "),o.isFilled&&(e+="F "),e+=o.toString(t)}return e;default:return this.type.toString()}},i.uv=function(){if(this.pa||this.qr!==this.figures.xa)return!0;for(var t=this.figures.j,e=t.length,i=0;i<e;i++)if(t[i].uv())return!0;return!1},Ke.prototype.computeBounds=function(){this.pa=!1,this.Rm=this.Ak=null,this.Sm=NaN,this.qr=this.figures.xa;for(var t=this.figures.j,e=t.length,i=0;i<e;i++){var n=t[i];n.pa=!1;var r=n.segments;n.vs=r.xa,r=(n=r.j).length;for(var o=0;o<r;o++){var s=n[o];s.pa=!1,s.Ge=null}}(t=this.ar).ea(),isNaN(this.il)||isNaN(this.gl)?t.h(0,0,0,0):t.h(0,0,this.il,this.gl),Je(this,t,!1),Qt(t,0,0,0,0),t.freeze()},Ke.prototype.qx=function(){var t=new Rt;return Je(this,t,!0),t},Ke.prototype.normalize=function(){this.s&&y(this);var t=this.qx();return this.offset(-t.x,-t.y),new dt(-t.x,-t.y)},Ke.prototype.offset=function(t,e){return this.s&&y(this),this.transform(1,0,0,1,t,e),this},Ke.prototype.scale=function(t,e){return this.s&&y(this),this.transform(t,0,0,e,0,0),this},Ke.prototype.rotate=function(t,e,i){this.s&&y(this),void 0===e&&(e=0),void 0===i&&(i=0);var n=ze.alloc();return n.reset(),n.rotate(t,e,i),this.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),ze.free(n),this},(i=Ke.prototype).transform=function(t,e,i,n,r,o){switch(this.type){case ni:case ri:case oi:var s=this.$c,a=this.ad;this.$c=s*t+a*i+r,this.ad=s*e+a*n+o,s=this.mc,a=this.Ac,this.mc=s*t+a*i+r,this.Ac=s*e+a*n+o;break;case si:for(var l=this.figures.j,h=l.length,u=0;u<h;u++){var c=l[u];s=c.startX,a=c.startY,c.startX=s*t+a*i+r,c.startY=s*e+a*n+o;for(var d=(c=c.segments.j).length,p=0;p<d;p++){var f=c[p];switch(f.type){case di:case ci:s=f.endX,a=f.endY,f.endX=s*t+a*i+r,f.endY=s*e+a*n+o;break;case pi:s=f.point1X,a=f.point1Y,f.point1X=s*t+a*i+r,f.point1Y=s*e+a*n+o,s=f.point2X,a=f.point2Y,f.point2X=s*t+a*i+r,f.point2Y=s*e+a*n+o,s=f.endX,a=f.endY,f.endX=s*t+a*i+r,f.endY=s*e+a*n+o;break;case fi:s=f.point1X,a=f.point1Y,f.point1X=s*t+a*i+r,f.point1Y=s*e+a*n+o,s=f.endX,a=f.endY,f.endX=s*t+a*i+r,f.endY=s*e+a*n+o;break;case mi:s=f.centerX,a=f.centerY,f.centerX=s*t+a*i+r,f.centerY=s*e+a*n+o,0!==e&&(0>(s=180*Math.atan2(e,t)/Math.PI)&&(s+=360),f.startAngle+=s),0>t&&(f.startAngle=180-f.startAngle,f.sweepAngle=-f.sweepAngle),0>n&&(f.startAngle=-f.startAngle,f.sweepAngle=-f.sweepAngle),f.radiusX*=Math.sqrt(t*t+i*i),void 0!==f.radiusY&&(f.radiusY*=Math.sqrt(e*e+n*n));break;case gi:s=f.endX,a=f.endY,f.endX=s*t+a*i+r,f.endY=s*e+a*n+o,0!==e&&(0>(s=180*Math.atan2(e,t)/Math.PI)&&(s+=360),f.xAxisRotation+=s),0>t&&(f.xAxisRotation=180-f.xAxisRotation,f.isClockwiseArc=!f.isClockwiseArc),0>n&&(f.xAxisRotation=-f.xAxisRotation,f.isClockwiseArc=!f.isClockwiseArc),f.radiusX*=Math.sqrt(t*t+i*i),f.radiusY*=Math.sqrt(e*e+n*n);break;default:A("Unknown Segment type: "+f.type)}}}}return this.pa=!0,this},i.$=function(t,e,i,n){var r=t.x;t=t.y;for(var o,s,a,l,h,u=this.bounds.x-20,c=0,d=this.figures.j,p=d.length,f=0;f<p;f++){var m=d[f];if(m.isFilled){if(i&&m.$(r,t,e))return!0;for(var g=m.segments,v=o=m.startX,y=s=m.startY,x=g.j,b=0;b<=g.length;b++){var C=void 0;if(b!==g.length){var w=(C=x[b]).type;l=C.endX,h=C.endY}else w=di,l=v,h=y;switch(w){case ci:if(v=Ze(r,t,u,t,o,s,v,y),isNaN(v))return!0;c+=v,v=l,y=h;break;case di:if(o=Ze(r,t,u,t,o,s,l,h),isNaN(o))return!0;c+=o;break;case pi:c+=a=Ye.Vp(o,s,C.point1X,C.point1Y,C.point2X,C.point2Y,l,h,u,t,r,t,.5);break;case fi:c+=a=Ye.Vp(o,s,(o+2*C.point1X)/3,(s+2*C.point1Y)/3,(2*C.point1X+l)/3,(2*C.point1Y+h)/3,l,h,u,t,r,t,.5);break;case mi:case gi:var E=(w=C.type===mi?hi(C,m):ui(C,m,o,s)).length;if(0===E){if(o=Ze(r,t,u,t,o,s,C.centerX,C.centerY),isNaN(o))return!0;c+=o;break}C=null;for(var S=0;S<E;S++){if(C=w[S],0===S){if(a=Ze(r,t,u,t,o,s,C[0],C[1]),isNaN(a))return!0;c+=a}c+=a=Ye.Vp(C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],u,t,r,t,.5)}null!==C&&(l=C[6],h=C[7]);break;default:A("Unknown Segment type: "+C.type)}o=l,s=h}if(0!==c)return!0;c=0}else if(m.$(r,t,n?e:e+2))return!0}return 0!==c},i.lv=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=new dt),this.type===ni)return e.h(this.startX+t*(this.endX-this.startX),this.startY+t*(this.endY-this.startY)),e;for(var i=this.flattenedSegments,n=this.flattenedLengths,r=i.length,o=this.flattenedTotalLength*t,s=0,a=0;a<r;a++){var l=n[a],h=l.length;for(t=0;t<h;t++){var u=l[t];if(s+u>=o)return n=o-s,n=0===u?0:n/u,a=(i=i[a])[2*t],r=i[2*t+1],e.h(a+(i[2*t+2]-a)*n,r+(i[2*t+3]-r)*n),e;s+=u}}return e},i.Cx=function(t){if(this.type===ni){var e=this.startX,i=this.startY,n=this.endX,r=this.endY;if(e!==n||i!==r){var o=t.x;if(t=t.y,e===n){if(i<r){var s=i;n=r}else s=r,n=i;return t<=s?s===i?0:1:t>=n?n===i?0:1:Math.abs(t-i)/(n-s)}return i===r?(e<n?s=e:(s=n,n=e),o<=s?s===e?0:1:o>=n?n===e?0:1:Math.abs(o-e)/(n-s)):((o-e)*(o-e)+(t-i)*(t-i))/((n-e)*(n-e)+(r-i)*(r-i))}}else{if(this.type!==ri){e=this.flattenedSegments,i=this.flattenedLengths,o=this.flattenedTotalLength,n=dt.alloc(),r=1/0,g=s=0,v=e.length;for(var a=A=0,l=0;l<v;l++)for(var h=e[l],u=i[l],c=h.length,d=0;d<c;d+=2){var p=h[d],f=h[d+1];if(0!==d){Ye.Xi(A,a,p,f,t.x,t.y,n);var m=(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y);m<r&&(r=m,s=g,s+=Math.sqrt((n.x-A)*(n.x-A)+(n.y-a)*(n.y-a))),g+=u[(d-2)/2]}A=p,a=f}return dt.free(n),0>(t=s/o)?0:1<t?1:t}s=this.startX;var g=this.startY,v=this.endX;if(r=this.endY,s!==v||g!==r){o=2*(e=v-s)+2*(i=r-g),n=t.x,t=t.y,n=Math.min(Math.max(n,s),v),t=Math.min(Math.max(t,g),r),s=Math.abs(n-s),v=Math.abs(n-v),g=Math.abs(t-g),r=Math.abs(t-r);var A=Math.min(s,v,g,r);if(A===g)return n/o;if(A===v)return(e+t)/o;if(A===r)return(2*e+i-n)/o;if(A===s)return(2*e+2*i-t)/o}}return 0},i.add=function(t){return this.kj.add(t),this},i.Dm=function(t,e,i,n,r,o,s,a){return this.s&&y(this),this.df=new He(t,e,r,o).freeze(),this.ef=new He(i,n,s,a).freeze(),this},c.Object.defineProperties(Ke.prototype,{flattenedSegments:{get:function(){return ei(this),this.Ak}},flattenedLengths:{get:function(){return ei(this),this.Rm}},flattenedTotalLength:{get:function(){var t=this.Sm;if(isNaN(t)){if(this.type===ni){t=Math.abs(this.endX-this.startX);var e=Math.abs(this.endY-this.startY);t=Math.sqrt(t*t+e*e)}else if(this.type===ri)t=2*Math.abs(this.endX-this.startX)+2*Math.abs(this.endY-this.startY);else for(var i=(e=this.flattenedLengths).length,n=t=0;n<i;n++)for(var r=e[n],o=r.length,s=0;s<o;s++)t+=r[s];this.Sm=t}return t}},type:{get:function(){return this.qa},set:function(t){this.qa!==t&&(this.s&&y(this,t),this.qa=t,this.pa=!0)}},startX:{get:function(){return this.$c},set:function(t){this.$c!==t&&(this.s&&y(this,t),this.$c=t,this.pa=!0)}},startY:{get:function(){return this.ad},set:function(t){this.ad!==t&&(this.s&&y(this,t),this.ad=t,this.pa=!0)}},endX:{get:function(){return this.mc},set:function(t){this.mc!==t&&(this.s&&y(this,t),this.mc=t,this.pa=!0)}},endY:{get:function(){return this.Ac},set:function(t){this.Ac!==t&&(this.s&&y(this,t),this.Ac=t,this.pa=!0)}},figures:{get:function(){return this.kj},set:function(t){this.kj!==t&&(this.s&&y(this,t),this.kj=t,this.pa=!0)}},spot1:{get:function(){return this.df},set:function(t){this.s&&y(this,t),this.df=t.G()}},spot2:{get:function(){return this.ef},set:function(t){this.s&&y(this,t),this.ef=t.G()}},defaultStretch:{get:function(){return this.Mf},set:function(t){this.s&&y(this,t),this.Mf=t}},bounds:{get:function(){return this.uv()&&this.computeBounds(),this.ar}}}),Ke.prototype.setSpots=Ke.prototype.Dm,Ke.prototype.add=Ke.prototype.add,Ke.prototype.getFractionForPoint=Ke.prototype.Cx,Ke.prototype.getPointAlongPath=Ke.prototype.lv,Ke.prototype.transform=Ke.prototype.transform,Ke.prototype.rotate=Ke.prototype.rotate,Ke.prototype.scale=Ke.prototype.scale,Ke.prototype.offset=Ke.prototype.offset,Ke.prototype.normalize=Ke.prototype.normalize,Ke.prototype.computeBoundsWithoutOrigin=Ke.prototype.qx,Ke.prototype.equalsApprox=Ke.prototype.Ma;var ni=new z(Ke,"Line",0),ri=new z(Ke,"Rectangle",1),oi=new z(Ke,"Ellipse",2),si=new z(Ke,"Path",3);function ai(t,e,i,n){it(this),this.s=!1,void 0===i&&(i=!0),this.Fr=i,void 0===n&&(n=!0),this.Jr=n,this.$c=void 0!==t?t:0,this.ad=void 0!==e?e:0,this.Gl=new Z,this.vs=this.Gl.xa,this.pa=!0}function li(t,e,i,n,r,o,s,a){it(this),this.s=!1,void 0===t&&(t=di),this.qa=t,this.mc=void 0!==e?e:0,this.Ac=void 0!==i?i:0,void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===s&&(s=0),t===gi?(0>(t=o%360)&&(t+=360),this.re=t,this.vi=0,this.wi=Math.max(n,0),this.hh=Math.max(r,0),this.ol="boolean"==typeof s&&!!s,this.Fk=!!a):(this.re=n,this.vi=r,t===mi&&(o=Math.max(o,0)),this.wi=o,"number"==typeof s?(t===mi&&(s=Math.max(s,0)),this.hh=s):this.hh=0,this.Fk=this.ol=!1),this.pj=!1,this.pa=!0,this.Ge=null}function hi(t,e){if(null!==t.Ge&&!1===e.pa)return t.Ge;var i=t.radiusX,n=t.radiusY;if(void 0===n&&(n=i),0===i||0===n)return t.Ge=[],t.Ge;e=t.re;var r=t.vi,o=Ye.sx(0,0,i<n?i:n,t.startAngle,t.startAngle+t.sweepAngle,!1);if(i!==n){var s=ze.alloc();s.reset(),i<n?s.scale(1,n/i):s.scale(i/n,1),qe(o,s),ze.free(s)}for(i=o.length,n=0;n<i;n++)(s=o[n])[0]+=e,s[1]+=r,s[2]+=e,s[3]+=r,s[4]+=e,s[5]+=r,s[6]+=e,s[7]+=r;return t.Ge=o,t.Ge}function ui(t,e,i,n){function r(t,e,i,n){return(t*n<e*i?-1:1)*Math.acos((t*i+e*n)/(Math.sqrt(t*t+e*e)*Math.sqrt(i*i+n*n)))}if(null!==t.Ge&&!1===e.pa)return t.Ge;e=t.wi;var o=t.hh;0===e&&(e=1e-4),0===o&&(o=1e-4);var s=Math.PI/180*t.re,a=t.ol,l=t.Fk,h=t.mc,u=t.Ac,c=Math.cos(s),d=Math.sin(s),p=c*(i-h)/2+d*(n-u)/2,f=p*p/(e*e)+(s=-d*(i-h)/2+c*(n-u)/2)*s/(o*o);return 1<f&&(e*=Math.sqrt(f),o*=Math.sqrt(f)),f=(a===l?-1:1)*Math.sqrt((e*e*o*o-e*e*s*s-o*o*p*p)/(e*e*s*s+o*o*p*p)),isNaN(f)&&(f=0),a=f*e*s/o,f=f*-o*p/e,isNaN(a)&&(a=0),isNaN(f)&&(f=0),i=(i+h)/2+c*a-d*f,n=(n+u)/2+d*a+c*f,u=r(1,0,(p-a)/e,(s-f)/o),s=r(c=(p-a)/e,h=(s-f)/o,p=(-p-a)/e,a=(-s-f)/o),-1>=(p=(c*p+h*a)/(Math.sqrt(c*c+h*h)*Math.sqrt(p*p+a*a)))?s=Math.PI:1<=p&&(s=0),!l&&0<s&&(s-=2*Math.PI),l&&0>s&&(s+=2*Math.PI),l=e>o?1:e/o,p=e>o?o/e:1,e=Ye.sx(0,0,e>o?e:o,u,u+s,!0),(o=ze.alloc()).reset(),o.translate(i,n),o.rotate(t.re,0,0),o.scale(l,p),qe(e,o),ze.free(o),t.Ge=e,t.Ge}Ke.className="Geometry",Ke.stringify=$e,Ke.fillPath=function(t){for(var e=(t=t.split(/[Xx]/)).length,i="",n=0;n<e;n++){var r=t[n];i=null!==r.match(/[Ff]/)?0===n?i+r:i+"X"+(" "===r[0]?"":" ")+r:i+(0===n?"":"X ")+"F"+(" "===r[0]?"":" ")+r}return i},Ke.parse=We,Ke.Line=ni,Ke.Rectangle=ri,Ke.Ellipse=oi,Ke.Path=si,ai.prototype.copy=function(){var t=new ai;t.Fr=this.Fr,t.Jr=this.Jr,t.$c=this.$c,t.ad=this.ad;for(var e=this.Gl.j,i=e.length,n=t.Gl,r=0;r<i;r++){var o=e[r].copy();n.add(o)}return t.vs=this.vs,t.pa=this.pa,t},(i=ai.prototype).Ma=function(t){if(!(t instanceof ai&&Ye.w(this.startX,t.startX)&&Ye.w(this.startY,t.startY)))return!1;var e=this.segments.j;t=t.segments.j;var i=e.length;if(i!==t.length)return!1;for(var n=0;n<i;n++)if(!e[n].Ma(t[n]))return!1;return!0},i.toString=function(t){void 0===t&&(t=-1);for(var e=0>t?"M"+this.startX.toString()+" "+this.startY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t),i=this.segments.j,n=i.length,r=0;r<n;r++)e+=" "+i[r].toString(t);return e},i.freeze=function(){this.s=!0;var t=this.segments;t.freeze();var e=t.j;t=t.length;for(var i=0;i<t;i++)e[i].freeze();return this},i.ea=function(){this.s=!1;var t=this.segments;t.ea();for(var e=(t=t.j).length,i=0;i<e;i++)t[i].ea();return this},i.uv=function(){if(this.pa)return!0;var t=this.segments;if(this.vs!==t.xa)return!0;for(var e=(t=t.j).length,i=0;i<e;i++)if(t[i].pa)return!0;return!1},i.add=function(t){return this.Gl.add(t),this},i.$=function(t,e,i){for(var n=this.startX,r=this.startY,o=n,s=r,a=this.segments.j,l=a.length,h=0;h<l;h++){var u=a[h];switch(u.type){case ci:o=u.endX,s=u.endY,n=u.endX,r=u.endY;break;case di:if(Ye.Wb(n,r,u.endX,u.endY,i,t,e))return!0;n=u.endX,r=u.endY;break;case pi:if(Ye.Ms(n,r,u.point1X,u.point1Y,u.point2X,u.point2Y,u.endX,u.endY,.5,t,e,i))return!0;n=u.endX,r=u.endY;break;case fi:if(Ye.Dv(n,r,u.point1X,u.point1Y,u.endX,u.endY,.5,t,e,i))return!0;n=u.endX,r=u.endY;break;case mi:case gi:var c=u.type===mi?hi(u,this):ui(u,this,n,r),d=c.length;if(0===d){if(Ye.Wb(n,r,u.centerX,u.centerY,i,t,e))return!0;n=u.centerX,r=u.centerY;break}for(var p=null,f=0;f<d;f++)if(p=c[f],0===f&&Ye.Wb(n,r,p[0],p[1],i,t,e)||Ye.Ms(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],.5,t,e,i))return!0;null!==p&&(n=p[6],r=p[7]);break;default:A("Unknown Segment type: "+u.type)}if(u.isClosed&&(n!==o||r!==s)&&Ye.Wb(n,r,o,s,i,t,e))return!0}return!1},c.Object.defineProperties(ai.prototype,{isFilled:{get:function(){return this.Fr},set:function(t){this.s&&y(this,t),this.Fr=t}},isShadowed:{get:function(){return this.Jr},set:function(t){this.s&&y(this,t),this.Jr=t}},startX:{get:function(){return this.$c},set:function(t){this.s&&y(this,t),this.$c=t,this.pa=!0}},startY:{get:function(){return this.ad},set:function(t){this.s&&y(this,t),this.ad=t,this.pa=!0}},segments:{get:function(){return this.Gl},set:function(t){this.s&&y(this,t),this.Gl=t,this.pa=!0}}}),ai.prototype.add=ai.prototype.add,ai.prototype.equalsApprox=ai.prototype.Ma,ai.className="PathFigure",li.prototype.copy=function(){var t=new li;return t.qa=this.qa,t.mc=this.mc,t.Ac=this.Ac,t.re=this.re,t.vi=this.vi,t.wi=this.wi,t.hh=this.hh,t.ol=this.ol,t.Fk=this.Fk,t.pj=this.pj,t.pa=this.pa,t},(i=li.prototype).Ma=function(t){if(!(t instanceof li)||this.type!==t.type||this.isClosed!==t.isClosed)return!1;switch(this.type){case ci:case di:return Ye.w(this.endX,t.endX)&&Ye.w(this.endY,t.endY);case pi:return Ye.w(this.endX,t.endX)&&Ye.w(this.endY,t.endY)&&Ye.w(this.point1X,t.point1X)&&Ye.w(this.point1Y,t.point1Y)&&Ye.w(this.point2X,t.point2X)&&Ye.w(this.point2Y,t.point2Y);case fi:return Ye.w(this.endX,t.endX)&&Ye.w(this.endY,t.endY)&&Ye.w(this.point1X,t.point1X)&&Ye.w(this.point1Y,t.point1Y);case mi:return Ye.w(this.startAngle,t.startAngle)&&Ye.w(this.sweepAngle,t.sweepAngle)&&Ye.w(this.centerX,t.centerX)&&Ye.w(this.centerY,t.centerY)&&Ye.w(this.radiusX,t.radiusX)&&Ye.w(this.radiusY,t.radiusY);case gi:return this.isClockwiseArc===t.isClockwiseArc&&this.isLargeArc===t.isLargeArc&&Ye.w(this.xAxisRotation,t.xAxisRotation)&&Ye.w(this.endX,t.endX)&&Ye.w(this.endY,t.endY)&&Ye.w(this.radiusX,t.radiusX)&&Ye.w(this.radiusY,t.radiusY);default:return!1}},i.cb=function(t){t.classType===li&&(this.type=t)},i.toString=function(t){switch(void 0===t&&(t=-1),this.type){case ci:t=0>t?"M"+this.endX.toString()+" "+this.endY.toString():"M"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case di:t=0>t?"L"+this.endX.toString()+" "+this.endY.toString():"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case pi:t=0>t?"C"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.point2X.toString()+" "+this.point2Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"C"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.point2X.toFixed(t)+" "+this.point2Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case fi:t=0>t?"Q"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"Q"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case mi:t=0>t?"B"+this.startAngle.toString()+" "+this.sweepAngle.toString()+" "+this.centerX.toString()+" "+this.centerY.toString()+" "+this.radiusX.toString()+" "+this.radiusY.toString():"B"+this.startAngle.toFixed(t)+" "+this.sweepAngle.toFixed(t)+" "+this.centerX.toFixed(t)+" "+this.centerY.toFixed(t)+" "+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t);break;case gi:t=0>t?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.xAxisRotation.toString()+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toString()+" "+this.endY.toString():"A"+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t)+" "+this.xAxisRotation.toFixed(t)+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;default:t=this.type.toString()}return t+(this.pj?"z":"")},i.freeze=function(){return this.s=!0,this},i.ea=function(){return this.s=!1,this},i.close=function(){return this.pj=!0,this},c.Object.defineProperties(li.prototype,{isClosed:{get:function(){return this.pj},set:function(t){this.pj!==t&&(this.pj=t,this.pa=!0)}},type:{get:function(){return this.qa},set:function(t){this.s&&y(this,t),this.qa=t,this.pa=!0}},endX:{get:function(){return this.mc},set:function(t){this.s&&y(this,t),this.mc=t,this.pa=!0}},endY:{get:function(){return this.Ac},set:function(t){this.s&&y(this,t),this.Ac=t,this.pa=!0}},point1X:{get:function(){return this.re},set:function(t){this.s&&y(this,t),this.re=t,this.pa=!0}},point1Y:{get:function(){return this.vi},set:function(t){this.s&&y(this,t),this.vi=t,this.pa=!0}},point2X:{get:function(){return this.wi},set:function(t){this.s&&y(this,t),this.wi=t,this.pa=!0}},point2Y:{get:function(){return this.hh},set:function(t){this.s&&y(this,t),this.hh=t,this.pa=!0}},centerX:{get:function(){return this.re},set:function(t){this.s&&y(this,t),this.re=t,this.pa=!0}},centerY:{get:function(){return this.vi},set:function(t){this.s&&y(this,t),this.vi=t,this.pa=!0}},radiusX:{get:function(){return this.wi},set:function(t){0>t&&x(t,">= zero",li,"radiusX"),this.s&&y(this,t),this.wi=t,this.pa=!0}},radiusY:{get:function(){return this.hh},set:function(t){0>t&&x(t,">= zero",li,"radiusY"),this.s&&y(this,t),this.hh=t,this.pa=!0}},startAngle:{get:function(){return this.mc},set:function(t){this.mc!==t&&(this.s&&y(this,t),0>(t%=360)&&(t+=360),this.mc=t,this.pa=!0)}},sweepAngle:{get:function(){return this.Ac},set:function(t){this.s&&y(this,t),360<t&&(t=360),-360>t&&(t=-360),this.Ac=t,this.pa=!0}},isClockwiseArc:{get:function(){return this.Fk},set:function(t){this.s&&y(this,t),this.Fk=t,this.pa=!0}},isLargeArc:{get:function(){return this.ol},set:function(t){this.s&&y(this,t),this.ol=t,this.pa=!0}},xAxisRotation:{get:function(){return this.re},set:function(t){0>(t%=360)&&(t+=360),this.s&&y(this,t),this.re=t,this.pa=!0}}}),li.prototype.equalsApprox=li.prototype.Ma;var ci=new z(li,"Move",0),di=new z(li,"Line",1),pi=new z(li,"Bezier",2),fi=new z(li,"QuadraticBezier",3),mi=new z(li,"Arc",4),gi=new z(li,"SvgArc",4);function vi(){this.B=null,this.Lu=new dt(0,0).freeze(),this.Vt=new dt(0,0).freeze(),this.Uq=this.Yr=0,this.Vq=1,this.Nr="",this.Hs=this.ir=!1,this.hr=this.Xq=0,this.Kg=this.yr=this.Hr=!1,this.pr=null,this.Es=0,this.bd=this.Ds=null}function Ai(){this.B=null,this.Qa="",this.hs=this.Bs=null}function yi(){this.Zm=bi,this.Ye=this.Xr="",this.Do=this.Eo=this.Jo=this.Ko=this.Io=this.B=this.ac=null}li.className="PathSegment",li.Move=ci,li.Line=di,li.Bezier=pi,li.QuadraticBezier=fi,li.Arc=mi,li.SvgArc=gi,vi.prototype.copy=function(){var t=new vi;return this.clone(t)},vi.prototype.clone=function(t){return t.B=this.B,t.Lu.assign(this.viewPoint),t.Vt.assign(this.documentPoint),t.Yr=this.Yr,t.Uq=this.Uq,t.Vq=this.Vq,t.Nr=this.Nr,t.ir=this.ir,t.Hs=this.Hs,t.Xq=this.Xq,t.hr=this.hr,t.Hr=this.Hr,t.yr=this.yr,t.Kg=this.Kg,t.pr=this.pr,t.Es=this.Es,t.Ds=this.Ds,t.bd=this.bd,t},vi.prototype.toString=function(){var t="^";return 0!==this.modifiers&&(t+="M:"+this.modifiers),0!==this.button&&(t+="B:"+this.button),""!==this.key&&(t+="K:"+this.key),0!==this.clickCount&&(t+="C:"+this.clickCount),0!==this.delta&&(t+="D:"+this.delta),this.handled&&(t+="h"),this.bubbles&&(t+="b"),null!==this.documentPoint&&(t+="@"+this.documentPoint.toString()),t},vi.prototype.eq=function(t,e){var i=this.diagram;return null===i?e:(Zr(i,this.event,t,e),e)},vi.prototype.sz=function(t,e){var i=this.diagram;return null===i?e:(Zr(i,this.event,t,e),e.assign(i.Bt(e)),e)},c.Object.defineProperties(vi.prototype,{diagram:{get:function(){return this.B},set:function(t){this.B=t}},viewPoint:{get:function(){return this.Lu},set:function(t){this.Lu.assign(t)}},documentPoint:{get:function(){return this.Vt},set:function(t){this.Vt.assign(t)}},modifiers:{get:function(){return this.Yr},set:function(t){this.Yr=t}},button:{get:function(){return this.Uq},set:function(t){if(this.Uq=t,null===this.event)switch(t){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2}}},buttons:{get:function(){return this.Vq},set:function(t){this.Vq=t}},key:{get:function(){return this.Nr},set:function(t){this.Nr=t}},down:{get:function(){return this.ir},set:function(t){this.ir=t}},up:{get:function(){return this.Hs},set:function(t){this.Hs=t}},clickCount:{get:function(){return this.Xq},set:function(t){this.Xq=t}},delta:{get:function(){return this.hr},set:function(t){this.hr=t}},isMultiTouch:{get:function(){return this.Hr},set:function(t){this.Hr=t}},handled:{get:function(){return this.yr},set:function(t){this.yr=t}},bubbles:{get:function(){return this.Kg},set:function(t){this.Kg=t}},event:{get:function(){return this.pr},set:function(t){this.pr=t}},isTouchEvent:{get:function(){var t=p.TouchEvent,e=this.event;return!!(t&&e instanceof t)||(t=p.PointerEvent)&&e instanceof t&&("touch"===e.pointerType||"pen"===e.pointerType)}},timestamp:{get:function(){return this.Es},set:function(t){this.Es=t}},targetDiagram:{get:function(){return this.Ds},set:function(t){this.Ds=t}},targetObject:{get:function(){return this.bd},set:function(t){this.bd=t}},control:{get:function(){return 0!=(1&this.modifiers)},set:function(t){this.modifiers=t?1|this.modifiers:-2&this.modifiers}},shift:{get:function(){return 0!=(4&this.modifiers)},set:function(t){this.modifiers=t?4|this.modifiers:-5&this.modifiers}},alt:{get:function(){return 0!=(2&this.modifiers)},set:function(t){this.modifiers=t?2|this.modifiers:-3&this.modifiers}},meta:{get:function(){return 0!=(8&this.modifiers)},set:function(t){this.modifiers=t?8|this.modifiers:-9&this.modifiers}},left:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(1&this.buttons):0===this.button},set:function(t){this.buttons=t?1|this.buttons:-2&this.buttons}},right:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(2&this.buttons):2===this.button},set:function(t){this.buttons=t?2|this.buttons:-3&this.buttons}},middle:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(4&this.buttons):1===this.button},set:function(t){this.buttons=t?4|this.buttons:-5&this.buttons}}}),vi.prototype.getMultiTouchDocumentPoint=vi.prototype.sz,vi.prototype.getMultiTouchViewPoint=vi.prototype.eq,vi.className="InputEvent",Ai.prototype.copy=function(){var t=new Ai;return t.B=this.B,t.Qa=this.Qa,t.Bs=this.Bs,t.hs=this.hs,t},Ai.prototype.toString=function(){var t="*"+this.name;return null!==this.subject&&(t+=":"+this.subject.toString()),null!==this.parameter&&(t+="("+this.parameter.toString()+")"),t},c.Object.defineProperties(Ai.prototype,{diagram:{get:function(){return this.B},set:function(t){this.B=t}},name:{get:function(){return this.Qa},set:function(t){this.Qa=t}},subject:{get:function(){return this.Bs},set:function(t){this.Bs=t}},parameter:{get:function(){return this.hs},set:function(t){this.hs=t}}}),Ai.className="DiagramEvent",yi.prototype.clear=function(){this.Do=this.Eo=this.Jo=this.Ko=this.Io=this.B=this.ac=null},yi.prototype.copy=function(){var t=new yi;t.Zm=this.Zm,t.Xr=this.Xr,t.Ye=this.Ye,t.ac=this.ac,t.B=this.B,t.Io=this.Io;var e=this.Ko;return t.Ko=w(e)&&"function"==typeof e.G?e.G():e,e=this.Jo,t.Jo=w(e)&&"function"==typeof e.G?e.G():e,e=this.Eo,t.Eo=w(e)&&"function"==typeof e.G?e.G():e,e=this.Do,t.Do=w(e)&&"function"==typeof e.G?e.G():e,t},yi.prototype.cb=function(t){t.classType===yi&&(this.change=t)},yi.prototype.toString=function(){var t="";return t=this.change===xi?t+"* ":this.change===bi?t+(null!==this.model?"!m":"!d"):t+(null!==this.model?"!m":"!d")+this.change,this.propertyName&&"string"==typeof this.propertyName&&(t+=" "+this.propertyName),this.modelChange&&this.modelChange!==this.propertyName&&(t+=" "+this.modelChange),t+=": ",this.change===xi?null!==this.oldValue&&(t+=" "+this.oldValue):(null!==this.object&&(t+=O(this.object)),null!==this.oldValue&&(t+="  old: "+O(this.oldValue)),null!==this.oldParam&&(t+=" "+this.oldParam),null!==this.newValue&&(t+="  new: "+O(this.newValue)),null!==this.newParam&&(t+=" "+this.newParam)),t},yi.prototype.H=function(t){return t?this.oldValue:this.newValue},yi.prototype.vz=function(t){return t?this.oldParam:this.newParam},yi.prototype.canUndo=function(){return null!==this.model||null!==this.diagram},yi.prototype.undo=function(){this.canUndo()&&(null!==this.model?this.model.Sj(this,!0):null!==this.diagram&&this.diagram.Sj(this,!0))},yi.prototype.canRedo=function(){return null!==this.model||null!==this.diagram},yi.prototype.redo=function(){this.canRedo()&&(null!==this.model?this.model.Sj(this,!1):null!==this.diagram&&this.diagram.Sj(this,!1))},c.Object.defineProperties(yi.prototype,{model:{get:function(){return this.ac},set:function(t){this.ac=t}},diagram:{get:function(){return this.B},set:function(t){this.B=t}},change:{get:function(){return this.Zm},set:function(t){this.Zm=t}},modelChange:{get:function(){return this.Xr},set:function(t){this.Xr=t}},propertyName:{get:function(){return this.Ye},set:function(t){this.Ye=t}},isTransactionFinished:{get:function(){return this.Zm===xi&&("CommittedTransaction"===this.Ye||"FinishedUndo"===this.Ye||"FinishedRedo"===this.Ye)}},object:{get:function(){return this.Io},set:function(t){this.Io=t}},oldValue:{get:function(){return this.Ko},set:function(t){this.Ko=t}},oldParam:{get:function(){return this.Jo},set:function(t){this.Jo=t}},newValue:{get:function(){return this.Eo},set:function(t){this.Eo=t}},newParam:{get:function(){return this.Do},set:function(t){this.Do=t}}}),yi.prototype.redo=yi.prototype.redo,yi.prototype.canRedo=yi.prototype.canRedo,yi.prototype.undo=yi.prototype.undo,yi.prototype.canUndo=yi.prototype.canUndo,yi.prototype.getParam=yi.prototype.vz,yi.prototype.getValue=yi.prototype.H,yi.prototype.clear=yi.prototype.clear;var xi=new z(yi,"Transaction",-1),bi=new z(yi,"Property",0),Ci=new z(yi,"Insert",1),wi=new z(yi,"Remove",2);function Ei(){this.u=(new Z).freeze(),this.Qa="",this.l=!1}function Si(){this.mu=new et,this.Lc=!1,this.I=(new Z).freeze(),this.fe=-1,this.u=999,this.ge=!1,this.fr=null,this.Gi=0,this.l=!1,this.ne=(new Z).freeze(),this.xl=new Z,this.bu=!0,this.gu=!1}function Ti(t,e,i){if(t.isUndoingRedoing)return!1;t.checksTransactionLevel&&1>t.transactionLevel&&b("Ending transaction without having started a transaction: "+i);var n=1===t.transactionLevel;n&&e&&t.yb("CommittingTransaction",i,t.currentTransaction);var r=0;if(0<t.transactionLevel&&(t.Gi--,t.isEnabled)){var o=t.ne.count;0<o&&(""===i&&(i=t.ne.L(0)),t.ne.ea(),t.ne.jb(o-1),t.ne.freeze()),0<(o=t.xl.count)&&(r=t.xl.L(o-1),t.xl.jb(o-1))}if(o=t.currentTransaction,n){if(e){if(t.gu=!1,t.isEnabled&&null!==o){for((e=o).isComplete=!0,e.name=i,(n=t.history).ea(),r=n.count-1;r>t.historyIndex;r--)null!==(o=n.L(r))&&o.clear(),n.jb(r),t.gu=!0;0<=(r=t.maxHistoryLength)&&(0===r?n.clear():n.count>=r&&(null!==(o=n.L(0))&&o.clear(),n.jb(0),t.fe--)),0!==r&&(n.add(e),t.fe++),n.freeze(),o=e}t.yb("CommittedTransaction",i,o)}else{t.ge=!0;try{t.isEnabled&&null!==o&&(o.isComplete=!0,o.undo())}finally{t.yb("RolledBackTransaction",i,o),t.ge=!1}null!==o&&o.clear()}return t.fr=null,!0}if(t.isEnabled&&!e&&null!==o){for(t=r,e=(i=o.changes).count-1;e>=t;e--)null!==(n=i.L(e))&&n.undo(),i.ea(),i.jb(e);i.freeze()}return!1}function _i(){it(this),this.B=es,this.Qa="",this.Lc=!0,this.kd=!1,this.nw=null,this.ty=new vi,this.Ks=-1}function Mi(){_i.call(this),this.name="ToolManager",this.Ic=new Z,this.Vc=new Z,this.Bf=new Z,this.Y=this.Ia=850,this.u=new Lt(2,2).ca(),this.Za=5e3,this.Ja=Bi,this.I=Li,this.er=this.l=null,this.Kj=-1}function ki(t,e){t.standardMouseOver(),t.isBeyondDragSize()&&t.standardWaitAfter(t.isActive?t.holdDelay:t.hoverDelay,e.lastInput)}yi.className="ChangedEvent",yi.Transaction=xi,yi.Property=bi,yi.Insert=Ci,yi.Remove=wi,Ei.prototype.toString=function(t){var e="Transaction: "+this.name+" "+this.changes.count.toString()+(this.isComplete?"":", incomplete");if(void 0!==t&&0<t){t=this.changes.count;for(var i=0;i<t;i++){var n=this.changes.L(i);null!==n&&(e+="\n  "+n.toString())}}return e},Ei.prototype.clear=function(){var t=this.changes;t.ea();for(var e=t.count-1;0<=e;e--){var i=t.L(e);null!==i&&i.clear()}t.clear(),t.freeze()},Ei.prototype.canUndo=function(){return this.isComplete},Ei.prototype.undo=function(){if(this.canUndo())for(var t=this.changes.count-1;0<=t;t--){var e=this.changes.L(t);null!==e&&e.undo()}},Ei.prototype.canRedo=function(){return this.isComplete},Ei.prototype.redo=function(){if(this.canRedo())for(var t=this.changes.count,e=0;e<t;e++){var i=this.changes.L(e);null!==i&&i.redo()}},c.Object.defineProperties(Ei.prototype,{changes:{get:function(){return this.u}},name:{get:function(){return this.Qa},set:function(t){this.Qa=t}},isComplete:{get:function(){return this.l},set:function(t){this.l=t}}}),Ei.prototype.redo=Ei.prototype.redo,Ei.prototype.canRedo=Ei.prototype.canRedo,Ei.prototype.undo=Ei.prototype.undo,Ei.prototype.canUndo=Ei.prototype.canUndo,Ei.prototype.clear=Ei.prototype.clear,Ei.className="Transaction",Si.prototype.toString=function(t){var e="UndoManager "+this.historyIndex+"<"+this.history.count+"<="+this.maxHistoryLength;e+="[";for(var i=this.nestedTransactionNames.count,n=0;n<i;n++)0<n&&(e+=" "),e+=this.nestedTransactionNames.L(n);if(e+="]",void 0!==t&&0<t)for(i=this.history.count,n=0;n<i;n++)e+="\n "+this.history.L(n).toString(t-1);return e},Si.prototype.clear=function(){var t=this.history;t.ea();for(var e=t.count-1;0<=e;e--){var i=t.L(e);null!==i&&i.clear()}t.clear(),this.fe=-1,t.freeze(),this.ge=!1,this.fr=null,this.Gi=0,this.ne.ea(),this.ne.clear(),this.ne.freeze(),this.xl.clear()},Si.prototype.copyProperties=function(t){this.isEnabled=t.isEnabled,this.maxHistoryLength=t.maxHistoryLength,this.checksTransactionLevel=t.checksTransactionLevel},(i=Si.prototype).ix=function(t){this.mu.add(t)},i.Qx=function(t){this.mu.remove(t)},i.ta=function(t){if(void 0===t&&(t=""),null===t&&(t=""),this.isUndoingRedoing)return!1;!0===this.bu&&(this.bu=!1,this.Gi++,this.yb("StartingFirstTransaction",t,this.currentTransaction),0<this.Gi&&this.Gi--),this.isEnabled&&(this.ne.ea(),this.ne.add(t),this.ne.freeze(),null===this.currentTransaction?this.xl.add(0):this.xl.add(this.currentTransaction.changes.count)),this.Gi++;var e=1===this.transactionLevel;return e&&this.yb("StartedTransaction",t,this.currentTransaction),e},i.Ua=function(t){return void 0===t&&(t=""),Ti(this,!0,t)},i.yf=function(){return Ti(this,!1,"")},Si.prototype.canUndo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToUndo;return!(null===t||!t.canUndo())},Si.prototype.undo=function(){if(this.canUndo()){var t=this.transactionToUndo;try{this.ge=!0,this.yb("StartingUndo","Undo",t),this.fe--,t.undo()}catch(t){b("undo error: "+t.toString())}finally{this.yb("FinishedUndo","Undo",t),this.ge=!1}}},Si.prototype.canRedo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToRedo;return!(null===t||!t.canRedo())},Si.prototype.redo=function(){if(this.canRedo()){var t=this.transactionToRedo;try{this.ge=!0,this.yb("StartingRedo","Redo",t),this.fe++,t.redo()}catch(t){b("redo error: "+t.toString())}finally{this.yb("FinishedRedo","Redo",t),this.ge=!1}}},Si.prototype.yb=function(t,e,i){void 0===i&&(i=null);var n=new yi;for(n.change=xi,n.propertyName=t,n.object=i,n.oldValue=e,t=this.models;t.next();)e=t.value,n.model=e,e.Ns(n)},Si.prototype.ov=function(t){if(this.isEnabled&&!this.isUndoingRedoing&&!this.skipsEvent(t)){var e=this.currentTransaction;null===e&&(this.fr=e=new Ei);var i=t.copy();(e=e.changes).ea(),e.add(i),e.freeze(),this.checksTransactionLevel&&0>=this.transactionLevel&&!this.bu&&(null!==(t=t.diagram)&&!1===t.fk||b("Change not within a transaction: "+i.toString()))}},Si.prototype.skipsEvent=function(t){if(null===t||0>t.change.value)return!0;if(void 0!==(t=t.object).layer){if(null!==(t=t.layer)&&t.isTemporary)return!0}else if(t.isTemporary)return!0;return!1},c.Object.defineProperties(Si.prototype,{models:{get:function(){return this.mu.iterator}},isEnabled:{get:function(){return this.Lc},set:function(t){this.Lc=t}},transactionToUndo:{get:function(){return 0<=this.historyIndex&&this.historyIndex<=this.history.count-1?this.history.L(this.historyIndex):null}},transactionToRedo:{get:function(){return this.historyIndex<this.history.count-1?this.history.L(this.historyIndex+1):null}},isUndoingRedoing:{get:function(){return this.ge}},history:{get:function(){return this.I}},maxHistoryLength:{get:function(){return this.u},set:function(t){this.u=t}},historyIndex:{get:function(){return this.fe}},currentTransaction:{get:function(){return this.fr}},transactionLevel:{get:function(){return this.Gi}},isInTransaction:{get:function(){return 0<this.Gi}},checksTransactionLevel:{get:function(){return this.l},set:function(t){this.l=t}},nestedTransactionNames:{get:function(){return this.ne}}}),Si.prototype.handleChanged=Si.prototype.ov,Si.prototype.redo=Si.prototype.redo,Si.prototype.undo=Si.prototype.undo,Si.prototype.canUndo=Si.prototype.canUndo,Si.prototype.rollbackTransaction=Si.prototype.yf,Si.prototype.commitTransaction=Si.prototype.Ua,Si.prototype.startTransaction=Si.prototype.ta,Si.prototype.removeModel=Si.prototype.Qx,Si.prototype.addModel=Si.prototype.ix,Si.prototype.clear=Si.prototype.clear,Si.className="UndoManager",_i.prototype.toString=function(){return""!==this.name?this.name+" Tool":B(this.constructor)},_i.prototype.updateAdornments=function(){},_i.prototype.canStart=function(){return this.isEnabled},_i.prototype.doStart=function(){},_i.prototype.doActivate=function(){this.isActive=!0},_i.prototype.doDeactivate=function(){this.isActive=!1},_i.prototype.doStop=function(){},_i.prototype.doCancel=function(){this.transactionResult=null,this.stopTool()},_i.prototype.stopTool=function(){var t=this.diagram;t.currentTool===this&&(t.currentTool=null,t.currentCursor="")},_i.prototype.doMouseDown=function(){!this.isActive&&this.canStart()&&this.doActivate()},_i.prototype.doMouseMove=function(){},_i.prototype.doMouseUp=function(){this.stopTool()},_i.prototype.doMouseWheel=function(){},_i.prototype.canStartMultiTouch=function(){return!0},_i.prototype.standardPinchZoomStart=function(){var t=this.diagram,e=t.lastInput,i=e.eq(0,dt.allocAt(NaN,NaN)),n=e.eq(1,dt.allocAt(NaN,NaN));if(i.v()&&n.v()&&(this.doCancel(),t.gm("hasGestureZoom"))){t.Lo=t.scale;var r=n.x-i.x,o=n.y-i.y;t.Uw=Math.sqrt(r*r+o*o),e.bubbles=!1}dt.free(i),dt.free(n)},_i.prototype.standardPinchZoomMove=function(){var t=this.diagram,e=t.lastInput,i=e.eq(0,dt.allocAt(NaN,NaN)),n=e.eq(1,dt.allocAt(NaN,NaN));if(i.v()&&n.v()&&(this.doCancel(),t.gm("hasGestureZoom"))){var r=n.x-i.x,o=n.y-i.y;o=Math.sqrt(r*r+o*o)/t.Uw,r=new dt((Math.min(n.x,i.x)+Math.max(n.x,i.x))/2,(Math.min(n.y,i.y)+Math.max(n.y,i.y))/2),o*=t.Lo;var s=t.commandHandler;if(o!==t.scale&&s.canResetZoom(o)){var a=t.zoomPoint;t.zoomPoint=r,s.resetZoom(o),t.zoomPoint=a}e.bubbles=!1}dt.free(i),dt.free(n)},_i.prototype.doKeyDown=function(){"Esc"===this.diagram.lastInput.key&&this.doCancel()},_i.prototype.doKeyUp=function(){},_i.prototype.ta=function(t){return void 0===t&&(t=this.name),this.transactionResult=null,this.diagram.ta(t)},_i.prototype.Eg=function(){var t=this.diagram;return null===this.transactionResult?t.yf():t.Ua(this.transactionResult)},_i.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var e=t.lastInput,i=t.em(e.documentPoint,!1);if(null!==i){if(U?e.meta:e.control){for(t.R("ChangingSelection",t.selection),e=i;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&(e.isSelected=!e.isSelected),t.R("ChangedSelection",t.selection)}else if(e.shift){if(!i.isSelected){for(t.R("ChangingSelection",t.selection),e=i;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&(e.isSelected=!0),t.R("ChangedSelection",t.selection)}}else if(!i.isSelected){for(e=i;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&t.select(e)}}else!e.left||(U?e.meta:e.control)||e.shift||t.Tu()}},_i.prototype.standardMouseClick=function(t,e){void 0===t&&(t=null),void 0===e&&(e=function(t){return!t.layer.isTemporary});var i=this.diagram,n=i.lastInput;return t=i.Sb(n.documentPoint,t,e),n.targetObject=t,function(t,e,i){if(e.handled=!1,null===t||t.Bg()){var n=0;e.left?n=1===e.clickCount?1:2===e.clickCount?2:1:e.right&&1===e.clickCount&&(n=3);var r="ObjectSingleClicked";if(null!==t){switch(n){case 1:r="ObjectSingleClicked";break;case 2:r="ObjectDoubleClicked";break;case 3:r="ObjectContextClicked"}0!==n&&i.R(r,t)}else{switch(n){case 1:r="BackgroundSingleClicked";break;case 2:r="BackgroundDoubleClicked";break;case 3:r="BackgroundContextClicked"}0!==n&&i.R(r)}if(null!==t)for(;null!==t;){switch(i=null,n){case 1:i=t.click;break;case 2:i=t.doubleClick?t.doubleClick:t.click;break;case 3:i=t.contextClick}if(null!==i&&(i(e,t),e.handled))break;t=t.panel}else{switch(t=null,n){case 1:t=i.click;break;case 2:t=i.doubleClick?i.doubleClick:i.click;break;case 3:t=i.contextClick}null!==t&&t(e)}}}(t,n,i),n.handled},_i.prototype.standardMouseOver=function(){var t=this.diagram,e=t.lastInput;if(!0!==t.animationManager.ic){var i=t.skipsUndoManager;t.skipsUndoManager=!0;var n=t.viewportBounds.$(e.documentPoint)?t.Sb(e.documentPoint,null,null):null;e.targetObject=n;var r=!1;if(n!==t.Kk){var o=t.Kk,s=o;for(t.Kk=n,this.doCurrentObjectChanged(o,n),e.handled=!1;null!==o;){var a=o.mouseLeave;if(null!==a){if(n===o)break;if(null!==n&&n.Ag(o))break;if(a(e,o,n),r=!0,e.handled)break}o=o.panel}for(o=s,e.handled=!1;null!==n;){if(null!==(s=n.mouseEnter)){if(o===n)break;if(null!==o&&o.Ag(n))break;if(s(e,n,o),r=!0,e.handled)break}n=n.panel}n=t.Kk}if(null!==n){for(o=n,s="";null!==o&&""===(s=o.cursor);)o=o.panel;for(t.currentCursor=s,e.handled=!1,o=n;null!==o&&(null===(n=o.mouseOver)||(n(e,o),r=!0,!e.handled));)o=o.panel}else t.currentCursor="",null!==(n=t.mouseOver)&&(n(e),r=!0);r&&t.Xb(),t.skipsUndoManager=i}},_i.prototype.doCurrentObjectChanged=function(){},_i.prototype.standardMouseWheel=function(){var t=this.diagram,e=t.lastInput,i=e.delta;if(0!==i&&t.documentBounds.v()){var n=t.commandHandler,r=t.toolManager.mouseWheelBehavior;if(null!==n&&(r===Oi&&!e.shift||r===Bi&&e.control))(0<i?n.canIncreaseZoom():n.canDecreaseZoom())&&(r=t.zoomPoint,t.zoomPoint=e.viewPoint,0<i?n.increaseZoom():n.decreaseZoom(),t.zoomPoint=r),e.bubbles=!1;else if(r===Oi&&e.shift||r===Bi&&!e.control){n=t.position.copy();var o=0<i?i:-i,s=e.event,a=s.deltaMode;if(r=s.deltaX,s=s.deltaY,(R||F||H)&&(a=1,0<r&&(r=3),0>r&&(r=-3),0<s&&(s=3),0>s&&(s=-3)),void 0===a||void 0===r||void 0===s||0===r&&0===s||e.shift)!e.shift&&t.allowVerticalScroll?(o=3*o*t.scrollVerticalLineChange,0<i?t.scroll("pixel","up",o):t.scroll("pixel","down",o)):e.shift&&t.allowHorizontalScroll&&(o=3*o*t.scrollHorizontalLineChange,0<i?t.scroll("pixel","left",o):t.scroll("pixel","right",o));else{switch(a){case 0:i="pixel";break;case 1:i="line";break;case 2:i="page";break;default:i="pixel"}0!==r&&t.allowHorizontalScroll&&(0<(r*=t.scrollHorizontalLineChange/16)?t.scroll(i,"left",-r):t.scroll(i,"right",r)),0!==s&&t.allowVerticalScroll&&(0<(s*=t.scrollVerticalLineChange/16)?t.scroll(i,"up",-s):t.scroll(i,"down",s))}t.position.A(n)||(e.bubbles=!1)}}},_i.prototype.standardWaitAfter=function(t,e){void 0===e&&(e=this.diagram.lastInput),this.cancelWaitAfter();var i=this,n=e.clone(this.ty);this.Ks=g(function(){i.doWaitAfter(n)},t)},_i.prototype.cancelWaitAfter=function(){-1!==this.Ks&&p.clearTimeout(this.Ks),this.Ks=-1},_i.prototype.doWaitAfter=function(){},_i.prototype.findToolHandleAt=function(t,e){return null===(t=this.diagram.Sb(t,function(t){for(;null!==t&&!(t.panel instanceof fu);)t=t.panel;return t}))?null:t.part.category===e?t:null},_i.prototype.isBeyondDragSize=function(t,e){var i=this.diagram;void 0===t&&(t=i.firstInput.viewPoint),void 0===e&&(e=i.lastInput.viewPoint);var n=i.toolManager.dragSize,r=n.width;return n=n.height,i.firstInput.isTouchEvent&&(r+=6,n+=6),Math.abs(e.x-t.x)>r||Math.abs(e.y-t.y)>n},c.Object.defineProperties(_i.prototype,{diagram:{get:function(){return this.B},set:function(t){t instanceof Br&&(this.B=t)}},name:{get:function(){return this.Qa},set:function(t){this.Qa=t}},isEnabled:{get:function(){return this.Lc},set:function(t){this.Lc=t}},isActive:{get:function(){return this.kd},set:function(t){this.kd=t}},transactionResult:{get:function(){return this.nw},set:function(t){this.nw=t}}}),_i.prototype.stopTransaction=_i.prototype.Eg,_i.prototype.startTransaction=_i.prototype.ta,_i.className="Tool",u(Mi,_i),Mi.prototype.initializeStandardTools=function(){},Mi.prototype.updateAdornments=function(t){var e=this.currentToolTip;if(e instanceof fu&&this.er===t){var i=e.adornedObject;(null!==t?i.part===t:null===i)?this.showToolTip(e,i):this.hideToolTip()}},Mi.prototype.doMouseDown=function(){var t=this.diagram,e=t.lastInput;if(e.isTouchEvent&&this.gestureBehavior===Ni&&(e.bubbles=!1),e.isMultiTouch){if(this.cancelWaitAfter(),this.gestureBehavior===Ii)return void(e.bubbles=!0);if(this.gestureBehavior===Ni)return;if(t.currentTool.canStartMultiTouch())return void t.currentTool.standardPinchZoomStart()}for(var i=this.mouseDownTools.length,n=0;n<i;n++){var r=this.mouseDownTools.L(n);if(r.diagram=this.diagram,r.canStart())return t.doFocus(),t.currentTool=r,void(t.currentTool===r&&(r.isActive||r.doActivate(),r.doMouseDown()))}1===t.lastInput.button&&(this.mouseWheelBehavior===Bi?this.mouseWheelBehavior=Oi:this.mouseWheelBehavior===Oi&&(this.mouseWheelBehavior=Bi)),this.doActivate(),this.standardWaitAfter(this.holdDelay,e)},Mi.prototype.doMouseMove=function(){var t=this.diagram,e=t.lastInput;if(e.isMultiTouch){if(this.gestureBehavior===Ii)return void(e.bubbles=!0);if(this.gestureBehavior===Ni)return;if(t.currentTool.canStartMultiTouch())return void t.currentTool.standardPinchZoomMove()}if(this.isActive)for(var i=this.mouseMoveTools.length,n=0;n<i;n++){var r=this.mouseMoveTools.L(n);if(r.diagram=this.diagram,r.canStart())return t.doFocus(),t.currentTool=r,void(t.currentTool===r&&(r.isActive||r.doActivate(),r.doMouseMove()))}ki(this,t),null===(t=e.event)||"mousemove"!==t.type&&"pointermove"!==t.type&&t.cancelable||(e.bubbles=!0)},Mi.prototype.doCurrentObjectChanged=function(t,e){null===(t=this.currentToolTip)||null!==e&&t instanceof fu&&(e===t||e.Ag(t))||this.hideToolTip()},Mi.prototype.doWaitAfter=function(t){var e=this.diagram;e.Ba&&(this.doMouseHover(),this.isActive||this.doToolTip(),t.isTouchEvent&&!e.lastInput.handled&&((t=t.copy()).button=2,t.buttons=2,e.lastInput=t,e.Ql=!0,e.doMouseUp()))},Mi.prototype.doMouseHover=function(){var t=this.diagram,e=t.lastInput;null===e.targetObject&&(e.targetObject=t.Sb(e.documentPoint,null,null));var i=e.targetObject;if(null!==i)for(e.handled=!1;null!==i&&(null===(t=this.isActive?i.mouseHold:i.mouseHover)||(t(e,i),!e.handled));)i=i.panel;else null!==(i=this.isActive?t.mouseHold:t.mouseHover)&&i(e)},Mi.prototype.doToolTip=function(){var t=this.diagram,e=t.lastInput;if(null===e.targetObject&&(e.targetObject=t.Sb(e.documentPoint,null,null)),null!==(e=e.targetObject)){if(!((t=this.currentToolTip)instanceof fu)||e!==t&&!e.Ag(t)){for(;null!==e;){if(null!==(t=e.toolTip))return void this.showToolTip(t,e);e=e.panel}this.hideToolTip()}}else null!==(e=t.toolTip)?this.showToolTip(e,null):this.hideToolTip()},Mi.prototype.showToolTip=function(t,e){var i=this.diagram;if(t!==this.currentToolTip&&this.hideToolTip(),t instanceof fu){t.layerName="Tool",t.selectable=!1,t.scale=1/i.scale,t.category="ToolTip",null!==t.placeholder&&(t.placeholder.scale=i.scale);var n=t.diagram;null!==n&&n!==i&&n.remove(t),i.add(t),null!==e?t.adornedObject=e:t.data=i.model,t.zb(),this.positionToolTip(t,e)}else t instanceof _n&&t!==this.currentToolTip&&t.show(e,i,this);if(this.currentToolTip=t,-1!==this.Kj&&(p.clearTimeout(this.Kj),this.Kj=-1),0<(t=this.toolTipDuration)&&1/0!==t){var r=this;this.Kj=g(function(){r.hideToolTip()},t)}},Mi.prototype.positionToolTip=function(t){if(null===t.placeholder){var e=this.diagram,i=e.lastInput.documentPoint.copy(),n=t.measuredBounds,r=e.viewportBounds;e.lastInput.isTouchEvent&&(i.x-=n.width),i.x+n.width>r.right&&(i.x-=n.width+5/e.scale),i.x<r.x&&(i.x=r.x),i.y=i.y+20/e.scale+n.height>r.bottom?i.y-(n.height+5/e.scale):i.y+20/e.scale,i.y<r.y&&(i.y=r.y),t.position=i}},Mi.prototype.hideToolTip=function(){-1!==this.Kj&&(p.clearTimeout(this.Kj),this.Kj=-1);var t=this.diagram,e=this.currentToolTip;null!==e&&(e instanceof fu?(t.remove(e),null!==this.er&&this.er.xf(e.category),e.data=null,e.adornedObject=null):e instanceof _n&&null!==e.hide&&e.hide(t,this),this.currentToolTip=null)},Mi.prototype.doMouseUp=function(){this.cancelWaitAfter();var t=this.diagram;if(this.isActive)for(var e=this.mouseUpTools.length,i=0;i<e;i++){var n=this.mouseUpTools.L(i);if(n.diagram=this.diagram,n.canStart())return t.doFocus(),t.currentTool=n,void(t.currentTool===n&&(n.isActive||n.doActivate(),n.doMouseUp()))}t.doFocus(),this.doDeactivate()},Mi.prototype.doMouseWheel=function(){this.standardMouseWheel()},Mi.prototype.doKeyDown=function(){var t=this.diagram;null!==t.commandHandler&&t.commandHandler.doKeyDown()},Mi.prototype.doKeyUp=function(){var t=this.diagram;null!==t.commandHandler&&t.commandHandler.doKeyUp()},Mi.prototype.findTool=function(t){for(var e=this.mouseDownTools.length,i=0;i<e;i++){var n=this.mouseDownTools.L(i);if(n.name===t)return n}for(e=this.mouseMoveTools.length,i=0;i<e;i++)if((n=this.mouseMoveTools.L(i)).name===t)return n;for(e=this.mouseUpTools.length,i=0;i<e;i++)if((n=this.mouseUpTools.L(i)).name===t)return n;return null},Mi.prototype.replaceTool=function(t,e){null!==e&&(e.diagram=this.diagram);for(var i=this.mouseDownTools.length,n=0;n<i;n++){var r=this.mouseDownTools.L(n);if(r.name===t)return null!==e?this.mouseDownTools.hd(n,e):this.mouseDownTools.jb(n),r}for(i=this.mouseMoveTools.length,n=0;n<i;n++)if((r=this.mouseMoveTools.L(n)).name===t)return null!==e?this.mouseMoveTools.hd(n,e):this.mouseMoveTools.jb(n),r;for(i=this.mouseUpTools.length,n=0;n<i;n++)if((r=this.mouseUpTools.L(n)).name===t)return null!==e?this.mouseUpTools.hd(n,e):this.mouseUpTools.jb(n),r;return null},Mi.prototype.Va=function(t,e,i){null!==e&&(e.name=t,e.diagram=this.diagram),this.findTool(t)?this.replaceTool(t,e):null!==e&&i.add(e)},c.Object.defineProperties(Mi.prototype,{mouseWheelBehavior:{get:function(){return this.Ja},set:function(t){this.Ja=t}},gestureBehavior:{get:function(){return this.I},set:function(t){this.I=t}},currentToolTip:{get:function(){return this.l},set:function(t){this.l=t,this.er=null!==t&&t instanceof fu?t.adornedPart:null}},mouseDownTools:{get:function(){return this.Ic}},mouseMoveTools:{get:function(){return this.Vc}},mouseUpTools:{get:function(){return this.Bf}},hoverDelay:{get:function(){return this.Ia},set:function(t){this.Ia=t}},holdDelay:{get:function(){return this.Y},set:function(t){this.Y=t}},dragSize:{get:function(){return this.u},set:function(t){this.u=t.G()}},toolTipDuration:{get:function(){return this.Za},set:function(t){this.Za=t}}}),Mi.prototype.replaceStandardTool=Mi.prototype.Va;var Bi=new z(Mi,"WheelScroll",0),Oi=new z(Mi,"WheelZoom",1),Pi=new z(Mi,"WheelNone",2),Li=new z(Mi,"GestureZoom",3),Ni=new z(Mi,"GestureCancel",4),Ii=new z(Mi,"GestureNone",5);function Di(){_i.call(this),this.name="Dragging",this.I=this.Vc=!0,this.u=this.Za=this.Ia=this.kg=null,this.wn=this.Bf=!1,this.Ll=new dt(NaN,NaN),this.zs=new dt,this.Ic=!0,this.Rk=100,this.Qg=[],this.dj=(new et).freeze(),this.Ja=new Bs,this.ao=null,this.Y="copy",this.Ih="",this.De="no-drop"}function Ri(t,e){if(t.dragsLink){var i=t.diagram;i.allowRelink&&(i.model.dk()&&1===e.count&&e.first()instanceof Lu?(t.draggedLink=e.first(),t.draggedLink.canRelinkFrom()&&t.draggedLink.canRelinkTo()&&t.draggedLink.Tj(),t.kg=i.toolManager.findTool("Relinking"),null===t.kg&&(t.kg=new dn,t.kg.diagram=i)):(t.draggedLink=null,t.kg=null))}}function Fi(t){var e=t.diagram,i=e.skipsUndoManager;e.skipsUndoManager=!0,Xi(t,e.lastInput,null),e.skipsUndoManager=i,t.Qg.length=0}function Hi(){var t=rn;ji(t),Qi(t);var e=t.diagram;t.Ll.v()&&(e.position=t.Ll),e.zf()}function Ui(t,e){var i=1/0,n=1/0,r=-1/0,o=-1/0;for(t=t.iterator;t.next();){var s=t.value;if(s.Ub()&&s.isVisible()){var a=s.location;s=a.x,a=a.y,isNaN(s)||isNaN(a)||(s<i&&(i=s),a<n&&(n=a),s>r&&(r=s),a>o&&(o=a))}}1/0===i?e.h(0,0,0,0):e.h(i,n,r-i,o-n)}function Vi(t,e){if(null===t.copiedParts){var i=t.diagram;if((!e||!i.isReadOnly&&!i.isModelReadOnly)&&null!==t.draggedParts){var n=i.undoManager;for(n.isEnabled&&n.isInTransaction?null!==n.currentTransaction&&0<n.currentTransaction.changes.count&&(i.undoManager.yf(),i.ta("Drag")):Qi(t),i.skipsUndoManager=!e,i.partManager.addsToTemporaryLayer=!e,t.startPoint=i.firstInput.documentPoint,e=t.copiesEffectiveCollection?t.draggedParts.Af():i.selection,e=(i=i.Yj(e,i,!0)).iterator;e.next();)e.value.location=e.key.location;for(Ui(i,e=Rt.alloc()),Rt.free(e),e=new ct,n=t.draggedParts.iterator;n.next();){var r=n.key;r.Ub()&&r.canCopy()&&(null!==(r=i.H(r))&&(r.zb(),e.add(r,t.qd(r.location))))}for(i=i.iterator;i.next();)(n=i.value)instanceof Lu&&n.canCopy()&&e.add(n,t.qd());t.copiedParts=e,Ri(t,e.Af()),null!==t.draggedLink&&(e=(i=t.draggedLink).routeBounds,Du(i,t.startPoint.x-(e.x+e.width/2),t.startPoint.y-(e.y+e.height/2)))}}}function ji(t){var e=t.diagram;if(null!==t.copiedParts&&(e.vt(t.copiedParts.Af(),!1),t.copiedParts=null,null!==t.draggedParts))for(var i=t.draggedParts.iterator;i.next();)i.key instanceof Lu&&(i.value.point=new dt(0,0));e.skipsUndoManager=!1,e.partManager.addsToTemporaryLayer=!1,t.startPoint=e.firstInput.documentPoint}function Gi(t){if(null!==t.draggedLink){if(t.dragsLink&&null!==t.kg){var e=t.kg;e.diagram.remove(e.temporaryFromNode),e.diagram.remove(e.temporaryToNode)}t.draggedLink=null,t.kg=null}}function zi(t,e,i){var n=t.diagram,r=t.startPoint,o=dt.alloc();o.assign(n.lastInput.documentPoint),t.moveParts(e,o.Xd(r),i),dt.free(o),!0===n.xe("temporaryPixelRatio")&&null===n.qh&&30<n.lx&&(Nr(n),n.tt())}function Qi(t){if(null!==t.draggedParts){for(var e=t.diagram,i=t.draggedParts.iterator;i.next();){var n=i.key;n.Ub()&&(n.location=i.value.point)}for(i=t.draggedParts.iterator;i.next();)if((n=i.key)instanceof Lu&&n.suspendsRouting){var r=i.value.point;t.draggedParts.add(n,t.qd()),Du(n,-r.x,-r.y)}e.ud()}}function Yi(t,e){return null===e||!!(null===(e=e.part)||e instanceof fu||e.layer.isTemporary||t.draggedParts&&t.draggedParts.contains(e)||t.copiedParts&&t.copiedParts.contains(e))}function Ki(t,e){var i=t.diagram;t.dragsLink&&(null!==t.draggedLink&&(t.draggedLink.fromNode=null,t.draggedLink.toNode=null),qi(t,!1));var n=Qr(i,e,null,function(e){return!Yi(t,e)}),r=i.lastInput;r.targetObject=n,t.doUpdateCursor(n);var o=i.skipsUndoManager,s=!1;try{if(i.skipsUndoManager=!0,s=Xi(t,r,n),!t.isActive&&null===rn)return;var a=null!==n?n.part:null;if(null===a||i.handlesDragDropForTopLevelParts&&a.isTopLevel&&!(a instanceof ku)){var l=i.mouseDragOver;null!==l&&(l(r),s=!0)}if(!t.isActive&&null===rn)return;if(t.doDragOver(e,n),!t.isActive&&null===rn)return}finally{i.skipsUndoManager=o,s&&i.ud()}t.ao=n,i.isReadOnly||!i.allowMove&&!i.allowCopy||!i.allowHorizontalScroll&&!i.allowVerticalScroll||i.Ss(r.viewPoint)}function Xi(t,e,i){var n=!1,r=t.Qg.length,o=0<r?t.Qg[0]:null;if(i===o)return!1;e.handled=!1;for(var s=0;s<r;s++){var a=t.Qg[s],l=a.mouseDragLeave;if(null!==l&&(l(e,a,i),n=!0,e.handled))break}if(t.Qg.length=0,!t.isActive&&null===rn||null===i)return n;for(e.handled=!1,r=i;null!==r;)t.Qg.push(r),r=$i(r);for(r=t.Qg.length,i=0;i<r&&(null===(a=(s=t.Qg[i]).mouseDragEnter)||(a(e,s,o),n=!0,!e.handled));i++);return n}function $i(t){var e=t.panel;return null!==e?e:t instanceof Xh&&!(t instanceof ku)&&(null!==(t=t.containingGroup)&&t.handlesDragDropForMembers)?t:null}function Wi(t,e,i){var n=t.kg;if(null===n)return null;var r=t.diagram.xg(e,n.portGravity,function(t){return n.findValidLinkablePort(t,i)});t=dt.alloc();var o=1/0,s=null;for(r=r.iterator;r.next();){var a=r.value;if(null!==a.part){var l=a.ga(oe,t);(l=e.we(l))<o&&(s=a,o=l)}}return dt.free(t),s}function qi(t,e){var i=t.draggedLink;if(null!==i&&!(2>i.pointsCount)){var n=t.diagram;if(!n.isReadOnly){var r=t.kg;if(null!==r){var o=null,s=null;null===i.fromNode&&(null!==(o=Wi(t,i.i(0),!1))&&(s=o.part));var a=null,l=null;null===i.toNode&&(null!==(a=Wi(t,i.i(i.pointsCount-1),!0))&&(l=a.part)),r.isValidLink(s,o,l,a)?e?(i.defaultFromPoint=i.i(0),i.defaultToPoint=i.i(i.pointsCount-1),i.suspendsRouting=!1,i.fromNode=s,null!==o&&(i.fromPortId=o.portId),i.toNode=l,null!==a&&(i.toPortId=a.portId),i.fromPort!==n.Lx&&n.R("LinkRelinked",i,n.Lx),i.toPort!==n.Mx&&n.R("LinkRelinked",i,n.Mx)):pn(r,s,o,l,a):pn(r,null,null,null,null)}}}}function Ji(t,e){var i=t.diagram;t.dragsLink&&qi(t,!0),Fi(t);var n=Qr(i,e,null,function(e){return!Yi(t,e)}),r=i.lastInput;if(r.targetObject=n,null!==n){r.handled=!1;for(var o=n;null!==o;){var s=o.mouseDrop;if(null!==s&&(s(r,o),r.handled))break;Zi(t,r,o),o=$i(o)}}else null!==(o=i.mouseDrop)&&o(r);if(t.isActive||null!==rn){for(r=(t.copiedParts||t.draggedParts).iterator;r.next();)(o=r.key)instanceof mu&&o.linksConnected.each(function(t){t.suspendsRouting=!1});if(t.doDropOnto(e,n),t.isActive||null!==rn){for(e=Rt.alloc(),n=i.selection.iterator;n.next();)(r=n.value)instanceof mu&&tn(t,i,r,e);Rt.free(e)}}}function Zi(t,e,i){t=t.diagram,i=i.part,!t.handlesDragDropForTopLevelParts||!i.isTopLevel||i instanceof ku||null!==(i=t.mouseDrop)&&i(e)}function tn(t,e,i,n){var r=!1;for(i.getAvoidableRect(n),e.viewportBounds.nf(n)&&(r=!0),e=e.links,t=t.copiedParts||t.draggedParts;e.next();){var o=e.value;r&&!hu(o)||t.contains(o)&&t.contains(i)||!o.Ud(i)&&o.isAvoiding&&zt(o.actualBounds,n,0)&&o.Na()}}function en(t,e,i,n){if(null===t.copiedParts){var r=t.diagram;if(!r.isReadOnly&&!r.isModelReadOnly){r.skipsUndoManager=!i,r.partManager.addsToTemporaryLayer=!i,t.startPoint=n.documentPoint,i=r.Yj(e,r,!0);var o=Rt.alloc();Ui(e,o),n=o.x+o.width/2,r=o.y+o.height/2,Rt.free(o),o=t.zs;var s=new ct,a=dt.alloc();for(e=e.iterator;e.next();){var l=e.value,h=i.H(l);l.Ub()&&l.canCopy()?(l=l.location,a.h(o.x-(n-l.x),o.y-(r-l.y)),h.location=a,h.zb(),s.add(h,t.qd(a))):h instanceof Lu&&l.canCopy()&&(Du(h,o.x-n,o.y-r),s.add(h,t.qd()))}dt.free(a),t.copiedParts=s,Ri(t,s.Af()),null!==t.draggedLink&&(n=(i=t.draggedLink).routeBounds,Du(i,t.startPoint.x-(n.x+n.width/2),t.startPoint.y-(n.y+n.height/2)))}}}Mi.className="ToolManager",Mi.WheelScroll=Bi,Mi.WheelZoom=Oi,Mi.WheelNone=Pi,Mi.GestureZoom=Li,Mi.GestureCancel=Ni,Mi.GestureNone=Ii,u(Di,_i),Di.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly&&!t.allowDragOut||!t.allowMove&&!t.allowCopy&&!t.allowDragOut||!t.allowSelect)return!1;var e=t.lastInput;return!(!e.left||t.currentTool!==this&&(!this.isBeyondDragSize()||e.isTouchEvent&&e.timestamp-t.firstInput.timestamp<this.Rk))&&null!==this.findDraggablePart()},Di.prototype.findDraggablePart=function(){var t=this.diagram;if(null===(t=t.em(t.firstInput.documentPoint,!1)))return null;for(;null!==t&&!t.canSelect();)t=t.containingGroup;return null!==t&&(t.canMove()||t.canCopy())?t:null},Di.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var e=t.em(t.firstInput.documentPoint,!1);if(null!==e){for(;null!==e&&!e.canSelect();)e=e.containingGroup;this.currentPart=e,null===this.currentPart||this.currentPart.isSelected||(t.R("ChangingSelection",t.selection),e=t.lastInput,(U?e.meta:e.control)||e.shift||Eo(t),this.currentPart.isSelected=!0,t.R("ChangedSelection",t.selection))}}},Di.prototype.doActivate=function(){var t=this.diagram;this.ao=null,null===this.currentPart&&this.standardMouseSelect();var e=this.currentPart;null!==e&&(e.canMove()||e.canCopy())&&(rn=null,this.isActive=!0,this.Ll.set(t.position),Ri(this,t.selection),this.Qg.length=0,this.draggedParts=this.computeEffectiveCollection(t.selection,this.dragOptions),t.At=!0,!0===t.xe("temporaryPixelRatio")&&30<t.lx&&Nr(t),Ao(t,this.draggedParts),this.ta("Drag"),this.startPoint=t.firstInput.documentPoint,t.isMouseCaptured=!0,t.allowDragOut&&(this.isDragOutStarted=!0,this.wn=!1,rn=this,on=this.diagram,this.doSimulatedDragOut()))},Di.prototype.computeEffectiveCollection=function(t,e){return this.diagram.commandHandler.computeEffectiveCollection(t,e)},Di.prototype.qd=function(t){return void 0===t?new Ms(_t):this.isGridSnapEnabled?new Ms(new dt(Math.round(t.x),Math.round(t.y))):new Ms(t.copy())},Di.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;if(t.zf(),Fi(this),yo(t,this.draggedParts),this.draggedParts=this.currentPart=this.ao=null,this.wn=this.isDragOutStarted=!1,0<nn.count){for(var e=nn,i=e.length,n=0;n<i;n++){var r=e.L(n);Gi(r),ji(r),Fi(r),r.diagram.zf()}e.clear()}Gi(this),this.Ll.h(NaN,NaN),rn=on=null,ji(this),t.isMouseCaptured=!1,t.currentCursor="",t.At=!1,this.Eg(),Ir(t,!0)},Di.prototype.doCancel=function(){ji(this),Qi(this);var t=this.diagram;this.Ll.v()&&(t.position=this.Ll),this.stopTool()},Di.prototype.doKeyDown=function(){this.isActive&&("Esc"===this.diagram.lastInput.key?this.doCancel():this.doMouseMove())},Di.prototype.doKeyUp=function(){this.isActive&&this.doMouseMove()},Di.prototype.moveParts=function(t,e,i){var n=this.diagram;null!==n&&mo(n,t,e,this.dragOptions,i)},Di.prototype.doUpdateCursor=function(t){var e=this.diagram;this.ao!==t&&(!this.diagram.currentTool.isActive||this.mayCopy()?e.currentCursor=this.copyCursor:this.mayMove()?e.currentCursor=this.moveCursor:this.mayDragOut()&&(e.currentCursor=this.nodropCursor))},Di.prototype.doDragOver=function(){},Di.prototype.doDropOnto=function(){},Di.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram,e=t.lastInput;this.simulatedMouseMove(e.event,e.documentPoint,e.targetDiagram)||null===this.currentPart||null===this.draggedParts||(this.mayCopy()?(Vi(this,!1),Ao(t,this.copiedParts),zi(this,this.copiedParts,!1),yo(t,this.copiedParts)):this.mayMove()?(ji(this),zi(this,this.draggedParts,!0)):this.mayDragOut()?(Vi(this,!1),zi(this,this.copiedParts,!1)):ji(this),Ki(this,t.lastInput.documentPoint))}},Di.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram,e=t.lastInput;if(!this.simulatedMouseUp(e.event,e.documentPoint,e.targetDiagram)){e=!1;var i=this.mayCopy();if(i&&null!==this.copiedParts?(ji(this),Vi(this,!0),Ao(t,this.copiedParts),zi(this,this.copiedParts,!1),yo(t,this.copiedParts),null!==this.copiedParts&&(t.R("ChangingSelection",t.selection),Eo(t),this.copiedParts.iteratorKeys.each(function(t){t.isSelected=!0}))):(e=!0,ji(this),this.mayMove()&&(zi(this,this.draggedParts,!0),Ki(this,t.lastInput.documentPoint))),this.wn=!0,Ji(this,t.lastInput.documentPoint),this.isActive){var n=i?this.copiedParts.Af():this.draggedParts.Af();this.copiedParts=null,e&&function(t){if(null!==t.draggedParts)for(var e=t.draggedParts.iterator;e.next();){var i=e.key;i instanceof mu&&(null===(i=i.containingGroup)||null===i.placeholder||t.draggedParts.contains(i)||i.placeholder.o())}}(this),t.Ta(),yo(t,this.draggedParts),this.transactionResult=i?"Copy":"Move",t.R(i?"SelectionCopied":"SelectionMoved",n)}this.stopTool(),i&&t.R("ChangedSelection",t.selection)}}},Di.prototype.simulatedMouseMove=function(t,e,i){if(null===rn)return!1;var n=rn.diagram;i instanceof Br||(i=null);var r=on;return i!==r&&(null!==r&&r!==n&&(r.zf(),rn.isDragOutStarted=!1,null!==(r=r.toolManager.findTool("Dragging"))&&r.doSimulatedDragLeave()),on=i,null!==i&&i!==n&&(Hi(),null!==(r=i.toolManager.findTool("Dragging"))&&(nn.contains(r)||nn.add(r),r.doSimulatedDragEnter()))),!(null===i||i===n||!i.allowDrop||i.isReadOnly||!i.allowInsert)&&(null!==(n=i.toolManager.findTool("Dragging"))&&(null!==t&&(void 0!==t.targetTouches&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),e=i.getMouse(t)),i.lastInput.documentPoint=e,i.lastInput.viewPoint=i.Cq(e),i.lastInput.down=!1,i.lastInput.up=!1,n.doSimulatedDragOver()),!0)},Di.prototype.simulatedMouseUp=function(t,e,i){if(null===rn)return!1;var n=on,r=rn.diagram;if(null===i)return rn.doCancel(),!0;if(i!==n){var o=n.toolManager.findTool("Dragging");if(null!==n&&n!==r&&null!==o)return n.zf(),rn.isDragOutStarted=!1,o.doSimulatedDragLeave(),!1;on=i,null!==(n=i.toolManager.findTool("Dragging"))&&(Hi(),nn.contains(n)||nn.add(n),n.doSimulatedDragEnter())}return i!==this.diagram&&(null!==t?(void 0!==t.targetTouches&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),e=i.getMouse(t)):null===e&&(e=new dt),i.lastInput.documentPoint=e,i.lastInput.viewPoint=i.Cq(e),i.lastInput.down=!1,i.lastInput.up=!0,null!==(t=i.toolManager.findTool("Dragging"))&&t.doSimulatedDrop(),null!==(t=rn)&&(i=t.mayCopy(),t.transactionResult=i?"Copy":"Move",t.stopTool()),!0)},Di.prototype.mayCopy=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowCopy||(U?!t.lastInput.alt:!t.lastInput.control))return!1;for(t=t.selection.iterator;t.next();){var e=t.value;if(e.Ub()&&e.canCopy())return!0}return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},Di.prototype.mayDragOut=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(!t.allowDragOut||!t.allowCopy||t.allowMove)return!1;for(t=t.selection.iterator;t.next();){var e=t.value;if(e.Ub()&&e.canCopy())return!0}return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},Di.prototype.mayMove=function(){var t=this.diagram;if(t.isReadOnly||!t.allowMove)return!1;for(t=t.selection.iterator;t.next();){var e=t.value;if(e.Ub()&&e.canMove())return!0}return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canMove())},Di.prototype.computeBorder=function(t,e,i){return this.wn||null===this.draggedParts||this.draggedParts.contains(t)?null:i.assign(e)},Di.prototype.pz=function(){return rn},Di.prototype.mayDragIn=function(){var t=this.diagram;if(!t.allowDrop||t.isReadOnly||t.isModelReadOnly||!t.allowInsert)return!1;return null!==rn&&rn.diagram.model.dataFormat===t.model.dataFormat},Di.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var t=this.diagram;t.animationManager.Uc(),eo(t),t.animationManager.Uc();null!==rn&&(rn.diagram.At=!1),this.doUpdateCursor(t.grid)}},Di.prototype.doSimulatedDragLeave=function(){null!==rn&&rn.doSimulatedDragOut(),this.doCancel()},Di.prototype.doSimulatedDragOver=function(){var t=this.diagram,e=rn;null!==e&&null!==e.draggedParts&&this.mayDragIn()&&(en(this,e.draggedParts.Af(),!1,t.firstInput),zi(this,this.copiedParts,!1),Ki(this,t.lastInput.documentPoint))},Di.prototype.doSimulatedDrop=function(){var t=this.diagram,e=rn;if(null!==e){var i=e.diagram;e.wn=!0,ji(this),this.mayDragIn()&&(t.R("ChangingSelection",t.selection),this.ta("Drop"),en(this,e.draggedParts.Af(),!0,t.lastInput),zi(this,this.copiedParts,!1),null!==this.copiedParts&&(Eo(t),this.copiedParts.iteratorKeys.each(function(t){t.isSelected=!0})),Ji(this,t.lastInput.documentPoint),t.Ta(),e=t.selection,null!==this.copiedParts?this.transactionResult="ExternalCopy":e=new et,this.copiedParts=null,t.doFocus(),t.R("ExternalObjectsDropped",e,i),this.Eg(),t.R("ChangedSelection",t.selection))}},Di.prototype.doSimulatedDragOut=function(){var t=this.diagram;t.At=!1,this.mayCopy()||this.mayMove()?t.currentCursor="":t.currentCursor=this.nodropCursor,this.ao=null},Di.prototype.computeMove=function(t,e,i,n){return null!==(i=this.diagram)?i.computeMove(t,e,this.dragOptions,n):new dt},c.Object.defineProperties(Di.prototype,{isCopyEnabled:{get:function(){return this.Vc},set:function(t){this.Vc=t}},copiesEffectiveCollection:{get:function(){return this.I},set:function(t){this.I=t}},dragOptions:{get:function(){return this.Ja},set:function(t){this.Ja=t}},isGridSnapEnabled:{get:function(){return this.dragOptions.isGridSnapEnabled},set:function(t){this.dragOptions.isGridSnapEnabled=t}},isComplexRoutingRealtime:{get:function(){return this.Ic},set:function(t){this.Ic=t}},isGridSnapRealtime:{get:function(){return this.dragOptions.isGridSnapRealtime},set:function(t){this.dragOptions.isGridSnapRealtime=t}},gridSnapCellSize:{get:function(){return this.dragOptions.gridSnapCellSize},set:function(t){this.dragOptions.gridSnapCellSize.A(t)||(t=t.G(),this.dragOptions.gridSnapCellSize=t)}},gridSnapCellSpot:{get:function(){return this.dragOptions.gridSnapCellSpot},set:function(t){this.dragOptions.gridSnapCellSpot.A(t)||(t=t.G(),this.dragOptions.gridSnapCellSpot=t)}},gridSnapOrigin:{get:function(){return this.dragOptions.gridSnapOrigin},set:function(t){this.dragOptions.gridSnapOrigin.A(t)||(t=t.G(),this.dragOptions.gridSnapOrigin=t)}},dragsLink:{get:function(){return this.dragOptions.dragsLink},set:function(t){this.dragOptions.dragsLink=t}},dragsTree:{get:function(){return this.dragOptions.dragsTree},set:function(t){this.dragOptions.dragsTree=t}},copyCursor:{get:function(){return this.Y},set:function(t){this.Y=t}},moveCursor:{get:function(){return this.Ih},set:function(t){this.Ih=t}},nodropCursor:{get:function(){return this.De},set:function(t){this.De=t}},currentPart:{get:function(){return this.Ia},set:function(t){this.Ia=t}},copiedParts:{get:function(){return this.u},set:function(t){this.u=t}},draggedParts:{get:function(){return this.Za},set:function(t){this.Za=t}},draggingParts:{get:function(){return null!==this.copiedParts?this.copiedParts.Af():null!==this.draggedParts?this.draggedParts.Af():this.dj}},draggedLink:{get:function(){return this.diagram.draggedLink},set:function(t){this.diagram.draggedLink=t}},isDragOutStarted:{get:function(){return this.Bf},set:function(t){this.Bf=t}},startPoint:{get:function(){return this.zs},set:function(t){this.zs.A(t)||this.zs.assign(t)}},delay:{get:function(){return this.Rk},set:function(t){this.Rk=t}}}),Di.prototype.getDraggingSource=Di.prototype.pz;var nn=null,rn=null,on=null;function sn(){_i.call(this),this.Bf=100,this.Y=!1,this.$h="pointer";var t=new Lu,e=new Ql;e.isPanelMain=!0,e.stroke="blue",t.add(e),(e=new Ql).toArrow="Standard",e.fill="blue",e.stroke="blue",t.add(e),t.layerName="Tool",this.Km=t,t=new mu,(e=new Ql).portId="",e.figure="Rectangle",e.fill=null,e.stroke="magenta",e.strokeWidth=2,e.desiredSize=bt,t.add(e),t.selectable=!1,t.layerName="Tool",this.Im=t,this.Jm=e,t=new mu,(e=new Ql).portId="",e.figure="Rectangle",e.fill=null,e.stroke="magenta",e.strokeWidth=2,e.desiredSize=bt,t.add(e),t.selectable=!1,t.layerName="Tool",this.Hq=t,this.mw=e,this.Vc=this.Ic=this.Ja=this.Ia=this.Za=null,this.I=!0,this.iy=new ct,this.Ih=this.ri=this.dj=null}function an(t,e,i,n,r){if(e===i)return!0;if(null===e||null===i)return!1;for(var o=e.linksConnected;o.next();){var s=o.value;if(s!==n&&(!r||s.isTreeLink)&&s.toNode===e&&((s=s.fromNode)!==e&&an(t,s,i,n,r)))return!0}return!1}function ln(){sn.call(this),this.name="Linking",this.u={},this.l=null,this.J=hn,this.De=null}Di.className="DraggingTool",nn=new Z,L("draggingTool",function(){return this.findTool("Dragging")},function(t){this.Va("Dragging",t,this.mouseMoveTools)}),Mi.prototype.doCancel=function(){null!==rn&&rn.doCancel(),_i.prototype.doCancel.call(this)},u(sn,_i),sn.prototype.doStop=function(){this.diagram.zf(),this.originalToPort=this.originalToNode=this.originalFromPort=this.originalFromNode=this.originalLink=null,this.validPortsCache.clear(),this.targetPort=null},sn.prototype.copyPortProperties=function(t,e,i,n,r){if(null!==t&&null!==e&&null!==i&&null!==n){var o=e.qf(),s=Lt.alloc();s.width=e.naturalBounds.width*o,s.height=e.naturalBounds.height*o,n.desiredSize=s,Lt.free(s),r?(n.toSpot=e.toSpot,n.toEndSegmentLength=e.toEndSegmentLength):(n.fromSpot=e.fromSpot,n.fromEndSegmentLength=e.fromEndSegmentLength),i.locationSpot=oe,o=dt.alloc(),i.location=e.ga(oe,o),dt.free(o),n.angle=e.Ri(),null!==this.portTargeted&&this.portTargeted(t,e,i,n,r)}},sn.prototype.setNoTargetPortProperties=function(t,e,i){null!==e&&(e.desiredSize=bt,e.fromSpot=te,e.toSpot=te),null!==t&&(t.location=this.diagram.lastInput.documentPoint),null!==this.portTargeted&&this.portTargeted(null,null,t,e,i)},sn.prototype.doMouseDown=function(){this.isActive&&this.doMouseMove()},sn.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram;if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort&&this.targetPort.part instanceof mu){var e=this.targetPort.part;this.isForwards?this.copyPortProperties(e,this.targetPort,this.temporaryToNode,this.temporaryToPort,!0):this.copyPortProperties(e,this.targetPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else this.isForwards?this.setNoTargetPortProperties(this.temporaryToNode,this.temporaryToPort,!0):this.setNoTargetPortProperties(this.temporaryFromNode,this.temporaryFromPort,!1);(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.Ss(t.lastInput.viewPoint)}},sn.prototype.findValidLinkablePort=function(t,e){if(null===t)return null;var i=t.part;if(!(i instanceof mu))return null;for(;null!==t;){var n=e?t.toLinkable:t.fromLinkable;if(!0===n&&(null!==t.portId||t instanceof mu)&&(e?this.isValidTo(i,t):this.isValidFrom(i,t)))return t;if(!1===n)break;t=t.panel}return null},sn.prototype.findTargetPort=function(t){var e=this.diagram,i=e.lastInput.documentPoint,n=this.portGravity;0>=n&&(n=.1);var r=this,o=e.xg(i,n,function(e){return r.findValidLinkablePort(e,t)},null,!0);for(n=1/0,e=null,o=o.iterator;o.next();){var s=o.value,a=s.part;if(a instanceof mu){var l=s.ga(oe,dt.alloc()),h=i.x-l.x,u=i.y-l.y;dt.free(l),(l=h*h+u*u)<n&&(null!==(h=this.validPortsCache.H(s))?h&&(e=s,n=l):t&&this.isValidLink(this.originalFromNode,this.originalFromPort,a,s)||!t&&this.isValidLink(a,s,this.originalToNode,this.originalToPort)?(this.validPortsCache.add(s,!0),e=s,n=l):this.validPortsCache.add(s,!1))}}return null!==e&&((i=e.part)instanceof mu&&(null===i.layer||i.layer.allowLink))?e:null},sn.prototype.isValidFrom=function(t,e){if(null===t||null===e)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==t.layer&&!t.layer.allowLink||!0!==e.fromLinkable))return!1;var i=e.fromMaxLinks;if(1/0>i){if(null!==this.originalLink&&t===this.originalFromNode&&e===this.originalFromPort)return!0;if(null===(e=e.portId)&&(e=""),t.$p(e).count>=i)return!1}return!0},sn.prototype.isValidTo=function(t,e){if(null===t||null===e)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==t.layer&&!t.layer.allowLink||!0!==e.toLinkable))return!1;var i=e.toMaxLinks;if(1/0>i){if(null!==this.originalLink&&t===this.originalToNode&&e===this.originalToPort)return!0;if(null===(e=e.portId)&&(e=""),t.td(e).count>=i)return!1}return!0},sn.prototype.isInSameNode=function(t,e){return null!==t&&null!==e&&(t===e||(t=t.part,e=e.part,null!==t&&t===e))},sn.prototype.isLinked=function(t,e){if(null===t||null===e)return!1;var i=t.part;if(!(i instanceof mu))return!1;null===(t=t.portId)&&(t="");var n=e.part;if(!(n instanceof mu))return!1;for(null===(e=e.portId)&&(e=""),e=n.td(e);e.next();)if((n=e.value).fromNode===i&&n.fromPortId===t)return!0;return!1},sn.prototype.isValidLink=function(t,e,i,n){if(!this.isValidFrom(t,e)||!this.isValidTo(i,n)||!(null===e||null===n||(e.fromLinkableSelfNode&&n.toLinkableSelfNode||!this.isInSameNode(e,n))&&(e.fromLinkableDuplicates&&n.toLinkableDuplicates||!this.isLinked(e,n)))||null!==this.originalLink&&(null!==t&&this.isLabelDependentOnLink(t,this.originalLink)||null!==i&&this.isLabelDependentOnLink(i,this.originalLink))||null!==t&&null!==i&&(null===t.data&&null!==i.data||null!==t.data&&null===i.data)||!this.isValidCycle(t,i,this.originalLink))return!1;if(null!==t){var r=t.linkValidation;if(null!==r&&!r(t,e,i,n,this.originalLink))return!1}return!(null!==i&&null!==(r=i.linkValidation)&&!r(t,e,i,n,this.originalLink))&&(null===(r=this.linkValidation)||r(t,e,i,n,this.originalLink))},sn.prototype.isLabelDependentOnLink=function(t,e){if(null===t)return!1;var i=t.labeledLink;if(null===i)return!1;if(i===e)return!0;var n=new et;return n.add(t),function t(e,i,n,r){if(i===n)return!0;var o=i.fromNode;if(null!==o&&o.isLinkLabel&&(r.add(o),t(e,o.labeledLink,n,r)))return!0;i=i.toNode;return!(null===i||!i.isLinkLabel||(r.add(i),!t(e,i.labeledLink,n,r)))}(this,i,e,n)},sn.prototype.isValidCycle=function(t,e,i){if(void 0===i&&(i=null),null===t||null===e)return this.isUnconnectedLinkValid;var n=this.diagram.validCycle;if(n!==cs){if(n===ms){if(null!==(n=i||this.temporaryLink)&&!n.isTreeLink)return!0;for(n=e.linksConnected;n.next();){var r=n.value;if(r!==i&&r.isTreeLink&&r.toNode===e)return!1}return!an(this,t,e,i,!0)}if(n===gs){if(null!==(n=i||this.temporaryLink)&&!n.isTreeLink)return!0;for(n=t.linksConnected;n.next();)if((r=n.value)!==i&&r.isTreeLink&&r.fromNode===t)return!1;return!an(this,t,e,i,!0)}if(n===ds)return t===e?t=!0:((n=new et).add(e),t=function t(e,i,n,r,o){if(n===r)return!0;if(null===n||null===r||i.contains(n))return!1;i.add(n);for(var s=n.linksConnected;s.next();){var a=s.value;if(a!==o&&a.toNode===n&&((a=a.fromNode)!==n&&t(e,i,a,r,o)))return!0}return!1}(this,n,t,e,i)),!t;if(n===ps)return!an(this,t,e,i,!1);if(n===fs)return t===e?t=!0:((n=new et).add(e),t=function t(e,i,n,r,o){if(n===r)return!0;if(null===n||null===r||i.contains(n))return!1;i.add(n);for(var s=n.linksConnected;s.next();){var a=s.value;if(a!==o){var l=a.fromNode;if(a=a.toNode,(l=l===n?a:l)!==n&&t(e,i,l,r,o))return!0}}return!1}(this,n,t,e,i)),!t}return!0},c.Object.defineProperties(sn.prototype,{portGravity:{get:function(){return this.Bf},set:function(t){0<=t&&(this.Bf=t)}},isUnconnectedLinkValid:{get:function(){return this.Y},set:function(t){this.Y=t}},linkingCursor:{get:function(){return this.$h},set:function(t){this.$h=t}},temporaryLink:{get:function(){return this.Km},set:function(t){this.Km=t}},temporaryFromNode:{get:function(){return this.Im},set:function(t){this.Im=t}},temporaryFromPort:{get:function(){return this.Jm},set:function(t){this.Jm=t}},temporaryToNode:{get:function(){return this.Hq},set:function(t){this.Hq=t}},temporaryToPort:{get:function(){return this.mw},set:function(t){this.mw=t}},originalLink:{get:function(){return this.Za},set:function(t){this.Za=t}},originalFromNode:{get:function(){return this.Ia},set:function(t){this.Ia=t}},originalFromPort:{get:function(){return this.Ja},set:function(t){this.Ja=t}},originalToNode:{get:function(){return this.Ic},set:function(t){this.Ic=t}},originalToPort:{get:function(){return this.Vc},set:function(t){this.Vc=t}},isForwards:{get:function(){return this.I},set:function(t){this.I=t}},validPortsCache:{get:function(){return this.iy}},targetPort:{get:function(){return this.dj},set:function(t){this.dj=t}},linkValidation:{get:function(){return this.ri},set:function(t){this.ri=t}},portTargeted:{get:function(){return this.Ih},set:function(t){this.Ih=t}}}),sn.className="LinkingBaseTool",u(ln,sn),ln.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowLink||!t.model.ht()||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())&&null!==this.findLinkablePort()},ln.prototype.findLinkablePort=function(){var t=this.diagram,e=this.startObject;if(null===e&&(e=t.Sb(t.firstInput.documentPoint,null,null)),null===e||!(e.part instanceof mu))return null;if((t=this.direction)===hn||t===un){var i=this.findValidLinkablePort(e,!1);if(null!==i)return this.isForwards=!0,i}return t!==hn&&t!==cn||null===(e=this.findValidLinkablePort(e,!0))?null:(this.isForwards=!1,e)},ln.prototype.doActivate=function(){var t=this.diagram,e=this.findLinkablePort();null!==e&&(this.ta(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.isForwards?(null===this.temporaryToNode||this.temporaryToNode.location.v()||(this.temporaryToNode.location=t.lastInput.documentPoint),this.originalFromPort=e,(e=this.originalFromPort.part)instanceof mu&&(this.originalFromNode=e),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1)):(null===this.temporaryFromNode||this.temporaryFromNode.location.v()||(this.temporaryFromNode.location=t.lastInput.documentPoint),this.originalToPort=e,(e=this.originalToPort.part)instanceof mu&&(this.originalToNode=e),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0)),t.add(this.temporaryFromNode),t.add(this.temporaryToNode),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.temporaryLink.isTreeLink=this.isNewTreeLink(),this.temporaryLink.Na(),t.add(this.temporaryLink)),this.isActive=!0)},ln.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.Eg()},ln.prototype.doStop=function(){sn.prototype.doStop.call(this),this.startObject=null},ln.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.transactionResult=null,i=null,n=null,r=null,o=null;try{var s=this.targetPort=this.findTargetPort(this.isForwards);if(null!==s){var a=s.part;a instanceof mu&&(this.isForwards?(null!==this.originalFromNode&&(e=this.originalFromNode,i=this.originalFromPort),n=a,r=s):(e=a,i=s,null!==this.originalToNode&&(n=this.originalToNode,r=this.originalToPort)))}else this.isForwards?null!==this.originalFromNode&&this.isUnconnectedLinkValid&&(e=this.originalFromNode,i=this.originalFromPort):null!==this.originalToNode&&this.isUnconnectedLinkValid&&(n=this.originalToNode,r=this.originalToPort);null!==e||null!==n?null!==(o=this.insertLink(e,i,n,r))?(null===s&&(this.isForwards?o.defaultToPoint=t.lastInput.documentPoint:o.defaultFromPoint=t.lastInput.documentPoint),t.allowSelect&&(t.R("ChangingSelection",t.selection),o.isSelected=!0),this.transactionResult=this.name,t.R("LinkDrawn",o)):(t.model.Uu(),this.doNoLink(e,i,n,r)):this.isForwards?this.doNoLink(this.originalFromNode,this.originalFromPort,null,null):this.doNoLink(null,null,this.originalToNode,this.originalToPort)}finally{this.stopTool(),o&&t.allowSelect&&t.R("ChangedSelection",t.selection)}}},ln.prototype.isNewTreeLink=function(){var t=this.archetypeLinkData;if(null===t)return!0;if(t instanceof Lu)return t.isTreeLink;var e=this.diagram;return null===e||(t=e.partManager.getLinkCategoryForData(t),null===(e=e.partManager.findLinkTemplateForCategory(t))||e.isTreeLink)},ln.prototype.insertLink=function(t,e,i,n){return this.diagram.partManager.insertLink(t,e,i,n)},ln.prototype.doNoLink=function(){},c.Object.defineProperties(ln.prototype,{archetypeLinkData:{get:function(){return this.u},set:function(t){this.u=t}},archetypeLabelNodeData:{get:function(){return this.l},set:function(t){this.l=t}},direction:{get:function(){return this.J},set:function(t){this.J=t}},startObject:{get:function(){return this.De},set:function(t){this.De=t}}});var hn=new z(ln,"Either",0),un=new z(ln,"ForwardsOnly",0),cn=new z(ln,"BackwardsOnly",0);function dn(){sn.call(this),this.name="Relinking";var t=new Ql;t.figure="Diamond",t.desiredSize=wt,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=0,this.u=t,(t=new Ql).figure="Diamond",t.desiredSize=wt,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=-1,this.De=t,this.l=null,this.Pw=new Rt}function pn(t,e,i,n,r){null!==e?(t.copyPortProperties(e,i,t.temporaryFromNode,t.temporaryFromPort,!1),t.diagram.add(t.temporaryFromNode)):t.diagram.remove(t.temporaryFromNode),null!==n?(t.copyPortProperties(n,r,t.temporaryToNode,t.temporaryToPort,!0),t.diagram.add(t.temporaryToNode)):t.diagram.remove(t.temporaryToNode)}function fn(){_i.call(this),this.name="LinkReshaping";var t=new Ql;t.figure="Rectangle",t.desiredSize=Ct,t.fill="lightblue",t.stroke="dodgerblue",this.u=t,(t=new Ql).figure="Diamond",t.desiredSize=wt,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="move",this.I=t,this.Y=3,this.Jt=this.l=null,this.zl=new dt,this.gs=new Z}function mn(t,e,i,n,r,o){return o?Math.abs(e.y-i.y)<t.resegmentingDistance&&Math.abs(i.y-n.y)<t.resegmentingDistance&&Math.abs(n.y-r.y)<t.resegmentingDistance:Math.abs(e.x-i.x)<t.resegmentingDistance&&Math.abs(i.x-n.x)<t.resegmentingDistance&&Math.abs(n.x-r.x)<t.resegmentingDistance}ln.className="LinkingTool",ln.Either=hn,ln.ForwardsOnly=un,ln.BackwardsOnly=cn,u(dn,sn),dn.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Lu){var e="RelinkFrom",i=null;if(t.isSelected&&!this.diagram.isReadOnly){var n=t.selectionObject;null!==n&&t.canRelinkFrom()&&t.actualBounds.v()&&t.isVisible()&&n.actualBounds.v()&&n.vf()&&(null===(i=t.ak(e))&&(i=this.makeAdornment(n,!1),t.xh(e,i)))}null===i&&t.xf(e),e="RelinkTo",i=null,t.isSelected&&!this.diagram.isReadOnly&&(null!==(n=t.selectionObject)&&t.canRelinkTo()&&t.actualBounds.v()&&t.isVisible()&&n.actualBounds.v()&&n.vf()&&(null===(i=t.ak(e))?(i=this.makeAdornment(n,!0),t.xh(e,i)):i.o())),null===i&&t.xf(e)}},dn.prototype.makeAdornment=function(t,e){var i=new fu;return i.type=Al.Link,null!==(e=e?this.toHandleArchetype:this.fromHandleArchetype)&&i.add(e.copy()),i.adornedObject=t,i},dn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowRelink||!t.model.ht()||!t.lastInput.left)return!1;var e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom");return null===e&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo")),null!==e},dn.prototype.doActivate=function(){var t=this.diagram;if(null===this.originalLink){var e=this.handle;if(null===e&&(null===(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom"))&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo"))),null===e)return;var i=e.part;if(!(i instanceof fu&&i.adornedPart instanceof Lu))return;this.handle=e,this.isForwards=null===i||"RelinkTo"===i.category,this.originalLink=i.adornedPart}this.ta(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.originalFromPort=this.originalLink.fromPort,this.originalFromNode=this.originalLink.fromNode,this.originalToPort=this.originalLink.toPort,this.originalToNode=this.originalLink.toNode,this.Pw.set(this.originalLink.actualBounds),null!==this.originalLink&&0<this.originalLink.pointsCount&&(null===this.originalLink.fromNode&&(null!==this.temporaryFromPort&&(this.temporaryFromPort.desiredSize=xt),null!==this.temporaryFromNode&&(this.temporaryFromNode.location=this.originalLink.i(0))),null===this.originalLink.toNode&&(null!==this.temporaryToPort&&(this.temporaryToPort.desiredSize=xt),null!==this.temporaryToNode&&(this.temporaryToNode.location=this.originalLink.i(this.originalLink.pointsCount-1)))),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0),t.add(this.temporaryFromNode),t.add(this.temporaryToNode),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.copyLinkProperties(this.originalLink,this.temporaryLink),this.temporaryLink.Na(),t.add(this.temporaryLink)),this.isActive=!0},dn.prototype.copyLinkProperties=function(t,e){if(null!==t&&null!==e){e.adjusting=t.adjusting,e.corner=t.corner;var i=t.curve;i!==oc&&i!==rc||(i=ic),e.curve=i,e.curviness=t.curviness,e.isTreeLink=t.isTreeLink,e.points=t.points,e.routing=t.routing,e.smoothness=t.smoothness,e.fromSpot=t.fromSpot,e.fromEndSegmentLength=t.fromEndSegmentLength,e.fromShortLength=t.fromShortLength,e.toSpot=t.toSpot,e.toEndSegmentLength=t.toEndSegmentLength,e.toShortLength=t.toShortLength}},dn.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.Eg()},dn.prototype.doStop=function(){sn.prototype.doStop.call(this),this.handle=null},dn.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;this.transactionResult=null;var e=this.originalFromNode,i=this.originalFromPort,n=this.originalToNode,r=this.originalToPort,o=this.originalLink;if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort){var s=this.targetPort.part;s instanceof mu&&(this.isForwards?(n=s,r=this.targetPort):(e=s,i=this.targetPort))}else this.isUnconnectedLinkValid?this.isForwards?r=n=null:i=e=null:o=null;null!==o?(this.reconnectLink(o,this.isForwards?n:e,this.isForwards?r:i,this.isForwards),null===this.targetPort&&(this.isForwards?o.defaultToPoint=t.lastInput.documentPoint:o.defaultFromPoint=t.lastInput.documentPoint,o.Na()),t.allowSelect&&(o.isSelected=!0),this.transactionResult=this.name,t.R("LinkRelinked",o,this.isForwards?this.originalToPort:this.originalFromPort)):this.doNoRelink(this.originalLink,this.isForwards),this.originalLink.iq(this.Pw)}this.stopTool()},dn.prototype.reconnectLink=function(t,e,i,n){return i=null!==i&&null!==i.portId?i.portId:"",n?(t.toNode=e,t.toPortId=i):(t.fromNode=e,t.fromPortId=i),!0},dn.prototype.doNoRelink=function(){},c.Object.defineProperties(dn.prototype,{fromHandleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},toHandleArchetype:{get:function(){return this.De},set:function(t){this.De=t}},handle:{get:function(){return this.l},set:function(t){if(null!==t&&!(t.part instanceof fu))throw Error("new handle is not in an Adornment: "+t);this.l=t}}}),dn.className="RelinkingTool",L("linkingTool",function(){return this.findTool("Linking")},function(t){this.Va("Linking",t,this.mouseMoveTools)}),L("relinkingTool",function(){return this.findTool("Relinking")},function(t){this.Va("Relinking",t,this.mouseDownTools)}),u(fn,_i),fn.prototype.mv=function(t){return t&&t.ms&&0!==t.ms.value?t.ms:gn},fn.prototype.Cm=function(t,e){t.ms=e},fn.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Lu){var e=null;if(t.isSelected&&!this.diagram.isReadOnly){var i=t.path;null!==i&&t.canReshape()&&t.actualBounds.v()&&t.isVisible()&&i.actualBounds.v()&&i.vf()&&(null===(e=t.ak(this.name))||e.Mw!==t.pointsCount||e.ex!==t.resegmentable)&&(null!==(e=this.makeAdornment(i))&&(e.Mw=t.pointsCount,e.ex=t.resegmentable,t.xh(this.name,e)))}null===e&&t.xf(this.name)}},fn.prototype.makeAdornment=function(t){var e=t.part,i=e.pointsCount,n=e.isOrthogonal,r=null;if(null!==e.points&&1<i){(r=new fu).type=Al.Link,i=e.firstPickIndex;var o=e.lastPickIndex,s=n?1:0;if(e.resegmentable&&e.computeCurve()!==nc)for(var a=i+s;a<o-s;a++){var l=this.makeResegmentHandle(t,a);null!==l&&(l.segmentIndex=a,l.segmentFraction=.5,l.fromMaxLinks=999,r.add(l))}for(s=i+1;s<o;s++)if(null!==(a=this.makeHandle(t,s))){if(a.segmentIndex=s,s!==i)if(s===i+1&&n){l=e.i(i);var h=e.i(i+1);Ye.w(l.x,h.x)&&Ye.w(l.y,h.y)&&(h=e.i(i-1)),Ye.w(l.x,h.x)?(this.Cm(a,An),a.cursor="n-resize"):Ye.w(l.y,h.y)&&(this.Cm(a,vn),a.cursor="w-resize")}else s===o-1&&n?(l=e.i(o-1),h=e.i(o),Ye.w(l.x,h.x)&&Ye.w(l.y,h.y)&&(l=e.i(o+1)),Ye.w(l.x,h.x)?(this.Cm(a,An),a.cursor="n-resize"):Ye.w(l.y,h.y)&&(this.Cm(a,vn),a.cursor="w-resize")):s!==o&&(this.Cm(a,yn),a.cursor="move");r.add(a)}r.adornedObject=t}return r},fn.prototype.makeHandle=function(){var t=this.handleArchetype;return null===t?null:t.copy()},fn.prototype.makeResegmentHandle=function(){var t=this.midHandleArchetype;return null===t?null:t.copy()},fn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowReshape||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},fn.prototype.doActivate=function(){var t=this.diagram;if(null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null!==this.handle){var e=this.handle.part.adornedPart;if(e instanceof Lu){if(this.Jt=e,t.isMouseCaptured=!0,this.ta(this.name),e.resegmentable&&999===this.handle.fromMaxLinks){var i=e.points.copy(),n=this.getResegmentingPoint();if(i.Kb(this.handle.segmentIndex+1,n),e.isOrthogonal&&i.Kb(this.handle.segmentIndex+1,n),e.points=i,e.Lb(),e.updateAdornments(),this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name),null===this.handle)return void this.doDeactivate()}this.zl=e.i(this.handle.segmentIndex),this.gs=e.points.copy(),this.isActive=!0}}},fn.prototype.doDeactivate=function(){this.Eg(),this.Jt=this.handle=null,this.isActive=this.diagram.isMouseCaptured=!1},fn.prototype.doCancel=function(){var t=this.adornedLink;null!==t&&(t.points=this.gs),this.stopTool()},fn.prototype.getResegmentingPoint=function(){return this.handle.ga(oe)},fn.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeReshape(t.lastInput.documentPoint),this.reshape(t))},fn.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.computeReshape(t.lastInput.documentPoint);if(this.reshape(e),null!==(e=this.adornedLink)&&e.resegmentable){var i=this.handle.segmentIndex,n=e.i(i-1),r=e.i(i),o=e.i(i+1);if(e.isOrthogonal){if(i>e.firstPickIndex+1&&i<e.lastPickIndex-1){var s=e.i(i-2);if(Math.abs(n.x-r.x)<this.resegmentingDistance&&Math.abs(n.y-r.y)<this.resegmentingDistance&&(mn(this,s,n,r,o,!0)||mn(this,s,n,r,o,!1))){var a=e.points.copy();mn(this,s,n,r,o,!0)?(a.hd(i-2,new dt(s.x,(o.y+s.y)/2)),a.hd(i+1,new dt(o.x,(o.y+s.y)/2))):(a.hd(i-2,new dt((o.x+s.x)/2,s.y)),a.hd(i+1,new dt((o.x+s.x)/2,o.y))),a.jb(i),a.jb(i-1),e.points=a,e.Lb()}else s=e.i(i+2),Math.abs(r.x-o.x)<this.resegmentingDistance&&Math.abs(r.y-o.y)<this.resegmentingDistance&&(mn(this,n,r,o,s,!0)||mn(this,n,r,o,s,!1))&&(a=e.points.copy(),mn(this,n,r,o,s,!0)?(a.hd(i-1,new dt(n.x,(n.y+s.y)/2)),a.hd(i+2,new dt(s.x,(n.y+s.y)/2))):(a.hd(i-1,new dt((n.x+s.x)/2,n.y)),a.hd(i+2,new dt((n.x+s.x)/2,s.y))),a.jb(i+1),a.jb(i),e.points=a,e.Lb())}}else s=dt.alloc(),Ye.Xi(n.x,n.y,o.x,o.y,r.x,r.y,s)&&s.we(r)<this.resegmentingDistance*this.resegmentingDistance&&((n=e.points.copy()).jb(i),e.points=n,e.Lb()),dt.free(s)}t.Ta(),this.transactionResult=this.name,t.R("LinkReshaped",this.adornedLink,this.gs)}this.stopTool()},fn.prototype.reshape=function(t){var e=this.adornedLink;e.Hh();var i=this.handle.segmentIndex,n=this.mv(this.handle);if(e.isOrthogonal)if(i===e.firstPickIndex+1)i=e.firstPickIndex+1,n===An?(e.K(i,e.i(i-1).x,t.y),e.K(i+1,e.i(i+2).x,t.y)):n===vn&&(e.K(i,t.x,e.i(i-1).y),e.K(i+1,t.x,e.i(i+2).y));else if(i===e.lastPickIndex-1)i=e.lastPickIndex-1,n===An?(e.K(i-1,e.i(i-2).x,t.y),e.K(i,e.i(i+1).x,t.y)):n===vn&&(e.K(i-1,t.x,e.i(i-2).y),e.K(i,t.x,e.i(i+1).y));else{n=i;var r=e.i(n),o=e.i(n-1),s=e.i(n+1);Ye.w(o.x,r.x)&&Ye.w(r.y,s.y)?(Ye.w(o.x,e.i(n-2).x)&&!Ye.w(o.y,e.i(n-2).y)?(e.m(n,t.x,o.y),i++,n++):e.K(n-1,t.x,o.y),Ye.w(s.y,e.i(n+2).y)&&!Ye.w(s.x,e.i(n+2).x)?e.m(n+1,s.x,t.y):e.K(n+1,s.x,t.y)):Ye.w(o.y,r.y)&&Ye.w(r.x,s.x)?(Ye.w(o.y,e.i(n-2).y)&&!Ye.w(o.x,e.i(n-2).x)?(e.m(n,o.x,t.y),i++,n++):e.K(n-1,o.x,t.y),Ye.w(s.x,e.i(n+2).x)&&!Ye.w(s.y,e.i(n+2).y)?e.m(n+1,t.x,s.y):e.K(n+1,t.x,s.y)):Ye.w(o.x,r.x)&&Ye.w(r.x,s.x)?(Ye.w(o.x,e.i(n-2).x)&&!Ye.w(o.y,e.i(n-2).y)?(e.m(n,t.x,o.y),i++,n++):e.K(n-1,t.x,o.y),Ye.w(s.x,e.i(n+2).x)&&!Ye.w(s.y,e.i(n+2).y)?e.m(n+1,t.x,s.y):e.K(n+1,t.x,s.y)):Ye.w(o.y,r.y)&&Ye.w(r.y,s.y)&&(Ye.w(o.y,e.i(n-2).y)&&!Ye.w(o.x,e.i(n-2).x)?(e.m(n,o.x,t.y),i++,n++):e.K(n-1,o.x,t.y),Ye.w(s.y,e.i(n+2).y)&&!Ye.w(s.x,e.i(n+2).x)?e.m(n+1,s.x,t.y):e.K(n+1,s.x,t.y)),e.K(i,t.x,t.y)}else e.K(i,t.x,t.y),n=e.fromNode,r=e.fromPort,null!==n&&(null!==(o=n.findVisibleNode())&&o!==n&&(r=(n=o).port)),1===i&&e.computeSpot(!0,r).jc()&&(o=r.ga(oe,dt.alloc()),n=e.getLinkPointFromPoint(n,r,o,t,!0,dt.alloc()),e.K(0,n.x,n.y),dt.free(o),dt.free(n)),n=e.toNode,r=e.toPort,null!==n&&(null!==(o=n.findVisibleNode())&&o!==n&&(r=(n=o).port)),i===e.pointsCount-2&&e.computeSpot(!1,r).jc()&&(i=r.ga(oe,dt.alloc()),t=e.getLinkPointFromPoint(n,r,i,t,!1,dt.alloc()),e.K(e.pointsCount-1,t.x,t.y),dt.free(i),dt.free(t));e.mf()},fn.prototype.computeReshape=function(t){var e=this.adornedLink,i=this.handle.segmentIndex;switch(this.mv(this.handle)){case yn:return t;case An:return new dt(e.i(i).x,t.y);case vn:return new dt(t.x,e.i(i).y);default:case gn:return e.i(i)}},c.Object.defineProperties(fn.prototype,{handleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},midHandleArchetype:{get:function(){return this.I},set:function(t){this.I=t}},handle:{get:function(){return this.l},set:function(t){if(null!==t&&!(t.part instanceof fu))throw Error("new handle is not in an Adornment: "+t);this.l=t}},adornedLink:{get:function(){return this.Jt}},resegmentingDistance:{get:function(){return this.Y},set:function(t){this.Y=t}},originalPoint:{get:function(){return this.zl}},originalPoints:{get:function(){return this.gs}}}),fn.prototype.setReshapingBehavior=fn.prototype.Cm,fn.prototype.getReshapingBehavior=fn.prototype.mv;var gn=new z(fn,"None",0),vn=new z(fn,"Horizontal",1),An=new z(fn,"Vertical",2),yn=new z(fn,"All",3);function xn(){_i.call(this),this.name="Resizing",this.Zf=new Lt(1,1).freeze(),this.Yf=new Lt(9999,9999).freeze(),this.Lg=new Lt(NaN,NaN).freeze(),this.I=!1,this.Zd=null;var t=new Ql;t.alignmentFocus=oe,t.figure="Rectangle",t.desiredSize=Ct,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.u=t,this.l=null,this.zl=new dt,this.Ow=new Lt,this.Mo=new dt,this.$t=new Lt(0,0),this.Zt=new Lt(1/0,1/0),this.Yt=new Lt(1,1),this.Lw=!0}function bn(){_i.call(this),this.name="Rotating",this.Ja=45,this.Ia=2,this.Mo=new dt,this.Zd=null;var t=new Ql;t.figure="Ellipse",t.desiredSize=wt,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.u=t,this.l=null,this.Nw=0,this.wu=new dt(NaN,NaN),this.I=0,this.Y=50}function Cn(){_i.call(this),this.name="ClickSelecting"}function wn(){_i.call(this),this.name="Action",this.wk=null}function En(){_i.call(this),this.name="ClickCreating",this.ej=null,this.u=!0,this.l=!1,this.Ew=new dt(0,0)}function Sn(){_i.call(this),this.name="DragSelecting",this.Rk=175,this.u=!1;var t=new Xh;t.layerName="Tool",t.selectable=!1;var e=new Ql;e.name="SHAPE",e.figure="Rectangle",e.fill=null,e.stroke="magenta",t.add(e),this.l=t}function Tn(){_i.call(this),this.name="Panning",this.qu=new dt,this.sy=new dt,this.Kg=!1;var t=this;this.Vw=function(){var e=t.diagram;null!==e&&e.removeEventListener(p.document,"scroll",t.Vw,!1),t.stopTool()}}function _n(){this.Y=this.I=this.l=this.u=null}function Mn(t,e,i){this.text=t,this.px=e,this.visible=i}function kn(){_i.call(this),this.name="ContextMenu",this.u=this.Pt=this.l=null,this.Kw=new dt,this.Qt=null,this.fu=!1;var t=this;this.Iu=function(){t.stopTool()}}function Bn(t){return t.preventDefault(),!1}function On(t){var e=t.diagram;if(t.isActive){var i=t.currentContextMenu;if(null!==i){if(!(i instanceof _n)){var n=e.Sb(e.lastInput.documentPoint,null,null);null!==n&&n.Ag(i)&&t.standardMouseClick(null,null)}t.stopTool(),t.canStart()&&(e.currentTool=t,t.doMouseUp())}}else t.canStart()&&(Pn(t,!0),t.isActive||t.stopTool())}function Pn(t,e,i){if(void 0===i&&(i=null),!t.fu&&(t.fu=!0,e&&t.standardMouseSelect(),e=t.standardMouseClick(),t.fu=!1,!e))if(t.isActive=!0,e=Ln,null===i&&(i=t.findObjectWithContextMenu()),null!==i){var n=i.contextMenu;null!==n?(t.currentObject=i instanceof Rs?i:null,t.showContextMenu(n,t.currentObject)):null!==e&&t.showContextMenu(e,t.currentObject)}else null!==e&&t.showContextMenu(e,null)}fn.className="LinkReshapingTool",fn.None=gn,fn.Horizontal=vn,fn.Vertical=An,fn.All=yn,L("linkReshapingTool",function(){return this.findTool("LinkReshaping")},function(t){this.Va("LinkReshaping",t,this.mouseDownTools)}),u(xn,_i),xn.prototype.updateAdornments=function(t){if(!(null===t||t instanceof Lu)){if(t.isSelected&&!this.diagram.isReadOnly){var e=t.resizeObject,i=t.ak(this.name);if(null!==e&&t.canResize()&&t.actualBounds.v()&&t.isVisible()&&e.actualBounds.v()&&e.vf()&&(null!==i&&i.adornedObject===e||(i=this.makeAdornment(e)),null!==i))return e=e.Ri(),hu(t)&&this.updateResizeHandles(i,e),void t.xh(this.name,i)}t.xf(this.name)}},xn.prototype.makeAdornment=function(t){var e=t.part.resizeAdornmentTemplate;if(null===e){(e=new fu).type=Al.Spot,e.locationSpot=oe;var i=new Pu;i.isPanelMain=!0,e.add(i),e.add(this.makeHandle(t,ee)),e.add(this.makeHandle(t,ne)),e.add(this.makeHandle(t,he)),e.add(this.makeHandle(t,ae)),e.add(this.makeHandle(t,Be)),e.add(this.makeHandle(t,Pe)),e.add(this.makeHandle(t,Le)),e.add(this.makeHandle(t,Oe))}else if(Ol(e),null===(e=e.copy()))return null;return e.adornedObject=t,e},xn.prototype.makeHandle=function(t,e){return null===(t=this.handleArchetype)?null:((t=t.copy()).alignment=e,t)},xn.prototype.updateResizeHandles=function(t,e){if(null!==t)if(!t.alignment.Mb()&&("pointer"===t.cursor||0<t.cursor.indexOf("resize")))t:{var i=t.alignment;if(i.jc()&&(i=oe),0>=i.x)e=0>=i.y?e+225:1<=i.y?e+135:e+180;else if(1<=i.x)0>=i.y?e+=315:1<=i.y&&(e+=45);else if(0>=i.y)e+=270;else{if(!(1<=i.y))break t;e+=90}0>e?e+=360:360<=e&&(e-=360),t.cursor=22.5>e?"e-resize":67.5>e?"se-resize":112.5>e?"s-resize":157.5>e?"sw-resize":202.5>e?"w-resize":247.5>e?"nw-resize":292.5>e?"n-resize":337.5>e?"ne-resize":"e-resize"}else if(t instanceof Al)for(t=t.elements;t.next();)this.updateResizeHandles(t.value,e)},xn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowResize||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},xn.prototype.doActivate=function(){var t=this.diagram;null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null!==this.handle&&(this.adornedObject=this.handle.part.adornedObject,null!==this.adornedObject&&(this.zl.set(this.adornedObject.ga(this.handle.alignment.Av())),this.Mo.set(this.adornedObject.part.location),this.Ow.set(this.adornedObject.desiredSize),this.Yt=this.computeCellSize(),this.$t=this.computeMinSize(),this.Zt=this.computeMaxSize(),t.isMouseCaptured=!0,this.Lw=t.animationManager.isEnabled,t.animationManager.isEnabled=!1,this.ta(this.name),this.isActive=!0))},xn.prototype.doDeactivate=function(){var t=this.diagram;this.Eg(),this.Zd=this.handle=null,this.isActive=t.isMouseCaptured=!1,t.animationManager.isEnabled=this.Lw},xn.prototype.doCancel=function(){null!==this.adornedObject&&(this.adornedObject.desiredSize=this.originalDesiredSize,this.adornedObject.part.location=this.originalLocation),this.stopTool()},xn.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive){var e=this.$t,i=this.Zt,n=this.Yt,r=this.adornedObject.$s(t.lastInput.documentPoint,dt.alloc()),o=this.computeReshape();e=this.computeResize(r,this.handle.alignment,e,i,n,o),this.resize(e),t.ud(),dt.free(r)}},xn.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.$t,i=this.Zt,n=this.Yt,r=this.adornedObject.$s(t.lastInput.documentPoint,dt.alloc()),o=this.computeReshape();e=this.computeResize(r,this.handle.alignment,e,i,n,o),this.resize(e),dt.free(r),t.Ta(),this.transactionResult=this.name,t.R("PartResized",this.adornedObject,this.originalDesiredSize)}this.stopTool()},xn.prototype.resize=function(t){var e=this.diagram,i=this.adornedObject,n=i.part;i.desiredSize=t.size,n.zb(),t=this.adornedObject.ga(this.handle.alignment.Av()),n instanceof ku?((i=new Z).add(n),e.moveParts(i,this.zl.copy().Xd(t),!0)):n.location=n.location.copy().Xd(t).add(this.zl)},xn.prototype.computeResize=function(t,e,i,n,r,o){e.jc()&&(e=oe);var s=this.adornedObject.naturalBounds,a=s.x,l=s.y,h=s.x+s.width,u=s.y+s.height,c=1;if(!o){c=s.width;var d=s.height;0>=c&&(c=1),0>=d&&(d=1),c=d/c}return d=dt.alloc(),Ye.aq(t.x,t.y,a,l,r.width,r.height,d),t=s.copy(),0>=e.x?0>=e.y?(t.x=Math.max(d.x,h-n.width),t.x=Math.min(t.x,h-i.width),t.width=Math.max(h-t.x,i.width),t.y=Math.max(d.y,u-n.height),t.y=Math.min(t.y,u-i.height),t.height=Math.max(u-t.y,i.height),o||(1<=t.height/t.width?(t.height=Math.max(Math.min(c*t.width,n.height),i.height),t.width=t.height/c):(t.width=Math.max(Math.min(t.height/c,n.width),i.width),t.height=c*t.width),t.x=h-t.width,t.y=u-t.height)):1<=e.y?(t.x=Math.max(d.x,h-n.width),t.x=Math.min(t.x,h-i.width),t.width=Math.max(h-t.x,i.width),t.height=Math.max(Math.min(d.y-l,n.height),i.height),o||(1<=t.height/t.width?(t.height=Math.max(Math.min(c*t.width,n.height),i.height),t.width=t.height/c):(t.width=Math.max(Math.min(t.height/c,n.width),i.width),t.height=c*t.width),t.x=h-t.width)):(t.x=Math.max(d.x,h-n.width),t.x=Math.min(t.x,h-i.width),t.width=h-t.x,o||(t.height=Math.max(Math.min(c*t.width,n.height),i.height),t.width=t.height/c,t.y=l+.5*(u-l-t.height))):1<=e.x?0>=e.y?(t.width=Math.max(Math.min(d.x-a,n.width),i.width),t.y=Math.max(d.y,u-n.height),t.y=Math.min(t.y,u-i.height),t.height=Math.max(u-t.y,i.height),o||(1<=t.height/t.width?(t.height=Math.max(Math.min(c*t.width,n.height),i.height),t.width=t.height/c):(t.width=Math.max(Math.min(t.height/c,n.width),i.width),t.height=c*t.width),t.y=u-t.height)):1<=e.y?(t.width=Math.max(Math.min(d.x-a,n.width),i.width),t.height=Math.max(Math.min(d.y-l,n.height),i.height),o||(1<=t.height/t.width?(t.height=Math.max(Math.min(c*t.width,n.height),i.height),t.width=t.height/c):(t.width=Math.max(Math.min(t.height/c,n.width),i.width),t.height=c*t.width))):(t.width=Math.max(Math.min(d.x-a,n.width),i.width),o||(t.height=Math.max(Math.min(c*t.width,n.height),i.height),t.width=t.height/c,t.y=l+.5*(u-l-t.height))):0>=e.y?(t.y=Math.max(d.y,u-n.height),t.y=Math.min(t.y,u-i.height),t.height=u-t.y,o||(t.width=Math.max(Math.min(t.height/c,n.width),i.width),t.height=c*t.width,t.x=a+.5*(h-a-t.width))):1<=e.y&&(t.height=Math.max(Math.min(d.y-l,n.height),i.height),o||(t.width=Math.max(Math.min(t.height/c,n.width),i.width),t.height=c*t.width,t.x=a+.5*(h-a-t.width))),dt.free(d),t},xn.prototype.computeReshape=function(){var t=Yo;return this.adornedObject instanceof Ql&&(t=Kl(this.adornedObject)),!(t===Ko||this.diagram.lastInput.shift)},xn.prototype.computeMinSize=function(){var t=this.adornedObject.minSize.copy(),e=this.minSize;return!isNaN(e.width)&&e.width>t.width&&(t.width=e.width),!isNaN(e.height)&&e.height>t.height&&(t.height=e.height),t},xn.prototype.computeMaxSize=function(){var t=this.adornedObject.maxSize.copy(),e=this.maxSize;return!isNaN(e.width)&&e.width<t.width&&(t.width=e.width),!isNaN(e.height)&&e.height<t.height&&(t.height=e.height),t},xn.prototype.computeCellSize=function(){var t=new Lt(NaN,NaN),e=this.adornedObject.part;return null!==e&&(e=e.resizeCellSize,!isNaN(e.width)&&0<e.width&&(t.width=e.width),!isNaN(e.height)&&0<e.height&&(t.height=e.height)),e=this.cellSize,isNaN(t.width)&&!isNaN(e.width)&&0<e.width&&(t.width=e.width),isNaN(t.height)&&!isNaN(e.height)&&0<e.height&&(t.height=e.height),e=this.diagram,(isNaN(t.width)||isNaN(t.height))&&e&&(null!==(e=e.grid)&&e.visible&&this.isGridSnapEnabled&&(e=e.gridCellSize,isNaN(t.width)&&!isNaN(e.width)&&0<e.width&&(t.width=e.width),isNaN(t.height)&&!isNaN(e.height)&&0<e.height&&(t.height=e.height))),(isNaN(t.width)||0===t.width||1/0===t.width)&&(t.width=1),(isNaN(t.height)||0===t.height||1/0===t.height)&&(t.height=1),t},c.Object.defineProperties(xn.prototype,{handleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},handle:{get:function(){return this.l},set:function(t){if(null!==t&&!(t.part instanceof fu))throw Error("new handle is not in an Adornment: "+t);this.l=t}},adornedObject:{get:function(){return this.Zd},set:function(t){if(null!==t&&t.part instanceof fu)throw Error("new handle must not be in an Adornment: "+t);this.Zd=t}},minSize:{get:function(){return this.Zf},set:function(t){if(!this.Zf.A(t)){var e=t.width;isNaN(e)&&(e=0),t=t.height,isNaN(t)&&(t=0),this.Zf.h(e,t)}}},maxSize:{get:function(){return this.Yf},set:function(t){if(!this.Yf.A(t)){var e=t.width;isNaN(e)&&(e=1/0),t=t.height,isNaN(t)&&(t=1/0),this.Yf.h(e,t)}}},cellSize:{get:function(){return this.Lg},set:function(t){this.Lg.A(t)||this.Lg.assign(t)}},isGridSnapEnabled:{get:function(){return this.I},set:function(t){this.I=t}},originalDesiredSize:{get:function(){return this.Ow}},originalLocation:{get:function(){return this.Mo}}}),xn.className="ResizingTool",L("resizingTool",function(){return this.findTool("Resizing")},function(t){this.Va("Resizing",t,this.mouseDownTools)}),u(bn,_i),bn.prototype.updateAdornments=function(t){if(null!==t){if(t.Fh()){var e=t.rotateObject;if(e===t||e===t.path||e.isPanelMain)return}if(t.isSelected&&!this.diagram.isReadOnly&&(null!==(e=t.rotateObject)&&t.canRotate()&&t.actualBounds.v()&&t.isVisible()&&e.actualBounds.v()&&e.vf())){var i=t.ak(this.name);if(null!==i&&i.adornedObject===e||(i=this.makeAdornment(e)),null!==i)return i.angle=e.Ri(),null===i.placeholder&&(i.location=this.computeAdornmentLocation(e)),void t.xh(this.name,i)}t.xf(this.name)}},bn.prototype.makeAdornment=function(t){var e=t.part.rotateAdornmentTemplate;if(null===e){(e=new fu).type=Al.Position,e.locationSpot=oe;var i=this.handleArchetype;null!==i&&e.add(i.copy())}else if(Ol(e),null===(e=e.copy()))return null;return e.adornedObject=t,e},bn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowRotate||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},bn.prototype.doActivate=function(){var t=this.diagram;if(null===this.adornedObject){if(null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null===this.handle)return;this.adornedObject=this.handle.part.adornedObject}null!==this.adornedObject&&(this.Nw=this.adornedObject.angle,this.wu=this.computeRotationPoint(this.adornedObject),this.Mo=this.adornedObject.part.location.copy(),t.isMouseCaptured=!0,t.delaysLayout=!0,this.ta(this.name),this.isActive=!0)},bn.prototype.computeRotationPoint=function(t){var e=t.part,i=e.locationObject;return e.rotationSpot.eb()?t.ga(e.rotationSpot):t===e||t===i?i.ga(e.locationSpot):t.ga(oe)},bn.prototype.computeAdornmentLocation=function(t){var e=this.rotationPoint;e.v()||(e=this.computeRotationPoint(t)),e=t.$s(e);var i=this.handleAngle;0>i?i+=360:360<=i&&(i-=360),i=Math.round(45*Math.round(i/45));var n=this.handleDistance;return 0===i?e.x=t.naturalBounds.width+n:45===i?(e.x=t.naturalBounds.width+n,e.y=t.naturalBounds.height+n):90===i?e.y=t.naturalBounds.height+n:135===i?(e.x=-n,e.y=t.naturalBounds.height+n):180===i?e.x=-n:225===i?(e.x=-n,e.y=-n):270===i?e.y=-n:315===i&&(e.x=t.naturalBounds.width+n,e.y=-n),t.ga(e)},bn.prototype.doDeactivate=function(){var t=this.diagram;this.Eg(),this.Zd=this.handle=null,this.wu=new dt(NaN,NaN),this.isActive=t.isMouseCaptured=!1},bn.prototype.doCancel=function(){this.diagram.delaysLayout=!1,this.rotate(this.originalAngle),this.stopTool()},bn.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeRotate(t.lastInput.documentPoint),this.rotate(t))},bn.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){t.delaysLayout=!1;var e=this.computeRotate(t.lastInput.documentPoint);this.rotate(e),t.Ta(),this.transactionResult=this.name,t.R("PartRotated",this.adornedObject,this.originalAngle)}this.stopTool()},bn.prototype.rotate=function(t){var e=this.adornedObject;if(null!==e){e.angle=t,(e=e.part).zb();var i=e.locationObject,n=e.rotateObject;(i===n||i.Ag(n))&&(i=this.Mo.copy(),e.location=i.Xd(this.rotationPoint).rotate(t-this.originalAngle).add(this.rotationPoint))}},bn.prototype.computeRotate=function(t){t=this.rotationPoint.Sa(t)-this.handleAngle;var e=this.adornedObject.panel;null!==e&&(t-=e.Ri()),360<=t?t-=360:0>t&&(t+=360),e=Math.min(Math.abs(this.snapAngleMultiple),180);var i=Math.min(Math.abs(this.snapAngleEpsilon),e/2);return!this.diagram.lastInput.shift&&0<e&&0<i&&(t%e<i?t=Math.floor(t/e)*e:t%e>e-i&&(t=(Math.floor(t/e)+1)*e)),360<=t?t-=360:0>t&&(t+=360),t},c.Object.defineProperties(bn.prototype,{handleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},handle:{get:function(){return this.l},set:function(t){if(null!==t&&!(t.part instanceof fu))throw Error("new handle is not in an Adornment: "+t);this.l=t}},adornedObject:{get:function(){return this.Zd},set:function(t){if(null!==t&&t.part instanceof fu)throw Error("new handle must not be in an Adornment: "+t);this.Zd=t}},snapAngleMultiple:{get:function(){return this.Ja},set:function(t){this.Ja=t}},snapAngleEpsilon:{get:function(){return this.Ia},set:function(t){this.Ia=t}},originalAngle:{get:function(){return this.Nw}},rotationPoint:{get:function(){return this.wu}},handleAngle:{get:function(){return this.I},set:function(t){this.I=t}},handleDistance:{get:function(){return this.Y},set:function(t){this.Y=t}}}),bn.className="RotatingTool",L("rotatingTool",function(){return this.findTool("Rotating")},function(t){this.Va("Rotating",t,this.mouseDownTools)}),u(Cn,_i),Cn.prototype.canStart=function(){return!(!this.isEnabled||this.isBeyondDragSize())},Cn.prototype.doMouseUp=function(){this.isActive&&(this.standardMouseSelect(),!this.standardMouseClick()&&this.diagram.lastInput.isTouchEvent&&this.diagram.toolManager.doToolTip()),this.stopTool()},Cn.className="ClickSelectingTool",u(wn,_i),wn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram,e=t.lastInput,i=t.Sb(e.documentPoint,function(t){for(;null!==t.panel&&!t.isActionable;)t=t.panel;return t});return null!==i&&(!!i.isActionable&&(this.wk=i,t.Kk=t.Sb(e.documentPoint,null,null),!0))},wn.prototype.doMouseDown=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.wk;null!==e&&(t.targetObject=e,null!==e.actionDown&&e.actionDown(t,e))}else this.canStart()&&this.doActivate()},wn.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.wk;null!==e&&(t.targetObject=e,null!==e.actionMove&&e.actionMove(t,e))}},wn.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.wk;if(null===e)return;t.targetObject=e,null!==e.actionUp&&e.actionUp(t,e),this.standardMouseClick(function(t){for(;null!==t.panel&&(!t.isActionable||t!==e);)t=t.panel;return t},function(t){return t===e})}this.stopTool()},wn.prototype.doCancel=function(){var t=this.diagram.lastInput,e=this.wk;null!==e&&(t.targetObject=e,null!==e.actionCancel&&e.actionCancel(t,e),this.stopTool())},wn.prototype.doStop=function(){this.wk=null},wn.className="ActionTool",u(En,_i),En.prototype.canStart=function(){if(!this.isEnabled||null===this.archetypeNodeData)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.lastInput.left||this.isBeyondDragSize())return!1;if(this.isDoubleClick){if(1===t.lastInput.clickCount&&(this.Ew=t.lastInput.viewPoint.copy()),2!==t.lastInput.clickCount||this.isBeyondDragSize(this.Ew))return!1}else if(1!==t.lastInput.clickCount)return!1;return t.currentTool===this||null===t.em(t.lastInput.documentPoint,!0)},En.prototype.doMouseUp=function(){var t=this.diagram;this.isActive&&this.insertPart(t.lastInput.documentPoint),this.stopTool()},En.prototype.insertPart=function(t){var e=this.diagram,i=this.archetypeNodeData;if(null===i)return null;var n=null;try{if(e.R("ChangingSelection",e.selection),this.ta(this.name),i instanceof Xh)i.Ub()&&(Ol(i),null!==(n=i.copy())&&e.add(n));else if(null!==i){var r=e.model.copyNodeData(i);w(r)&&(e.model.kf(r),n=e.vc(r))}if(null!==n){var o=dt.allocAt(t.x,t.y);this.isGridSnapEnabled&&vo(this.diagram,n,t,o),n.location=o,e.allowSelect&&(Eo(e),n.isSelected=!0),dt.free(o)}e.Ta(),this.transactionResult=this.name,e.R("PartCreated",n)}finally{this.Eg(),e.R("ChangedSelection",e.selection)}return n},c.Object.defineProperties(En.prototype,{archetypeNodeData:{get:function(){return this.ej},set:function(t){this.ej=t}},isDoubleClick:{get:function(){return this.u},set:function(t){this.u=t}},isGridSnapEnabled:{get:function(){return this.l},set:function(t){this.l=t}}}),En.className="ClickCreatingTool",u(Sn,_i),Sn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(!t.allowSelect)return!1;var e=t.lastInput;return!(!e.left||t.currentTool!==this&&(!this.isBeyondDragSize()||e.timestamp-t.firstInput.timestamp<this.delay||null!==t.em(e.documentPoint,!0)))},Sn.prototype.doActivate=function(){var t=this.diagram;this.isActive=!0,t.isMouseCaptured=!0,t.skipsUndoManager=!0,t.add(this.box),this.doMouseMove()},Sn.prototype.doDeactivate=function(){var t=this.diagram;t.zf(),t.remove(this.box),t.skipsUndoManager=!1,this.isActive=t.isMouseCaptured=!1},Sn.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive&&null!==this.box){var e=this.computeBoxBounds(),i=this.box.Xa("SHAPE");null===i&&(i=this.box.Ab());var n=Lt.alloc().h(e.width,e.height);e=dt.allocAt(e.x,e.y),i.desiredSize=n,this.box.position=e,Lt.free(n),dt.free(e),(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.Ss(t.lastInput.viewPoint)}},Sn.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;t.remove(this.box);try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),this.selectInRect(this.computeBoxBounds()),t.R("ChangedSelection",t.selection)}finally{t.currentCursor=""}}this.stopTool()},Sn.prototype.computeBoxBounds=function(){var t=this.diagram;return new Rt(t.firstInput.documentPoint,t.lastInput.documentPoint)},Sn.prototype.selectInRect=function(t){var e=this.diagram,i=e.lastInput;if(t=e.Ax(t,this.isPartialInclusion),U?i.meta:i.control)if(i.shift)for(t=t.iterator;t.next();)(e=t.value).isSelected&&(e.isSelected=!1);else for(t=t.iterator;t.next();)(e=t.value).isSelected=!e.isSelected;else if(i.shift)for(t=t.iterator;t.next();)(e=t.value).isSelected||(e.isSelected=!0);else{for(i=new Z,e=e.selection.iterator;e.next();){var n=e.value;t.contains(n)||i.add(n)}for(e=i.iterator;e.next();)e.value.isSelected=!1;for(t=t.iterator;t.next();)(e=t.value).isSelected||(e.isSelected=!0)}},c.Object.defineProperties(Sn.prototype,{delay:{get:function(){return this.Rk},set:function(t){this.Rk=t}},isPartialInclusion:{get:function(){return this.u},set:function(t){this.u=t}},box:{get:function(){return this.l},set:function(t){this.l=t}}}),Sn.className="DragSelectingTool",u(Tn,_i),Tn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(!t.allowHorizontalScroll&&!t.allowVerticalScroll||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())},Tn.prototype.doActivate=function(){var t=this.diagram;this.Kg?(t.lastInput.bubbles=!0,t.addEventListener(p.document,"scroll",this.Vw,!1)):(t.currentCursor="move",t.isMouseCaptured=!0,this.qu.assign(t.position)),this.isActive=!0},Tn.prototype.doDeactivate=function(){var t=this.diagram;t.currentCursor="",this.isActive=t.isMouseCaptured=!1},Tn.prototype.doCancel=function(){var t=this.diagram;t.position=this.qu,t.isMouseCaptured=!1,this.stopTool()},Tn.prototype.doMouseMove=function(){this.move()},Tn.prototype.doMouseUp=function(){this.move(),this.stopTool()},Tn.prototype.move=function(){var t=this.diagram;if(this.isActive&&t)if(this.Kg)t.lastInput.bubbles=!0;else{var e=t.position,i=t.firstInput.documentPoint,n=t.lastInput.documentPoint,r=e.x+i.x-n.x;i=e.y+i.y-n.y,t.allowHorizontalScroll||(r=e.x),t.allowVerticalScroll||(i=e.y),t.position=this.sy.h(r,i)}},c.Object.defineProperties(Tn.prototype,{bubbles:{get:function(){return this.Kg},set:function(t){this.Kg=t}},originalPosition:{get:function(){return this.qu}}}),Tn.className="PanningTool",L("clickCreatingTool",function(){return this.findTool("ClickCreating")},function(t){this.Va("ClickCreating",t,this.mouseUpTools)}),L("clickSelectingTool",function(){return this.findTool("ClickSelecting")},function(t){this.Va("ClickSelecting",t,this.mouseUpTools)}),L("panningTool",function(){return this.findTool("Panning")},function(t){this.Va("Panning",t,this.mouseMoveTools)}),L("dragSelectingTool",function(){return this.findTool("DragSelecting")},function(t){this.Va("DragSelecting",t,this.mouseMoveTools)}),L("actionTool",function(){return this.findTool("Action")},function(t){this.Va("Action",t,this.mouseDownTools)}),c.Object.defineProperties(_n.prototype,{mainElement:{get:function(){return this.I},set:function(t){this.I=t}},show:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},hide:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t)}},valueFunction:{get:function(){return this.Y},set:function(t){this.Y=t}}}),_n.className="HTMLInfo",Mn.className="ContextMenuButtonInfo",u(kn,_i),kn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(this.isBeyondDragSize()||!t.lastInput.right)&&!!(t.lastInput.isTouchEvent&&null!==this.defaultTouchContextMenu||null!==this.findObjectWithContextMenu())},kn.prototype.doStart=function(){this.Kw.set(this.diagram.firstInput.documentPoint)},kn.prototype.doStop=function(){this.hideContextMenu(),this.currentObject=null},kn.prototype.findObjectWithContextMenu=function(t){void 0===t&&(t=null);var e=this.diagram,i=e.lastInput,n=null;if(t instanceof Br||(n=t instanceof Rs?t:e.Sb(i.documentPoint,null,function(t){return!t.layer.isTemporary})),null!==n){for(t=n;null!==t;){if(null!==t.contextMenu)return t;t=t.panel}if(e.lastInput.isTouchEvent&&this.defaultTouchContextMenu)return n.part}else if(null!==e.contextMenu)return e;return null},kn.prototype.doActivate=function(){},kn.prototype.doMouseDown=function(){if(_i.prototype.doMouseDown.call(this),this.isActive&&this.currentContextMenu instanceof fu){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.canStart()&&(t.doActivate(),t.doMouseDown(),t.doDeactivate())}this.diagram.toolManager.mouseDownTools.contains(this)&&On(this)},kn.prototype.doMouseUp=function(){if(this.isActive&&this.currentContextMenu instanceof fu){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.canStart()&&(t.doActivate(),t.doCancel(),t.doDeactivate())}On(this)},kn.prototype.doMouseMove=function(){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.doMouseMove(),this.isActive&&this.diagram.toolManager.doMouseMove()},kn.prototype.showContextMenu=function(t,e){var i=this.diagram;if(t!==this.currentContextMenu&&this.hideContextMenu(),t instanceof fu){t.layerName="Tool",t.selectable=!1,t.scale=1/i.scale,t.category=this.name,null!==t.placeholder&&(t.placeholder.scale=i.scale);var n=t.diagram;null!==n&&n!==i&&n.remove(t),i.add(t),null!==e?t.adornedObject=e:t.data=i.model,t.zb(),this.positionContextMenu(t,e)}else t instanceof _n&&t.show(e,i,this);this.currentContextMenu=t},kn.prototype.positionContextMenu=function(t){if(null===t.placeholder){var e=this.diagram,i=e.lastInput.documentPoint.copy(),n=t.measuredBounds,r=e.viewportBounds;e.lastInput.isTouchEvent&&(i.x-=n.width),i.x+n.width>r.right&&(i.x-=n.width+5/e.scale),i.x<r.x&&(i.x=r.x),i.y+n.height>r.bottom&&(i.y-=n.height+5/e.scale),i.y<r.y&&(i.y=r.y),t.position=i}},kn.prototype.hideContextMenu=function(){var t=this.diagram,e=this.currentContextMenu;null!==e&&(e instanceof fu?(t.remove(e),null!==this.Pt&&this.Pt.xf(e.category),e.data=null,e.adornedObject=null):e instanceof _n&&(null!==e.hide?e.hide(t,this):null!==e.mainElement&&(e.mainElement.style.display="none")),this.currentContextMenu=null,this.standardMouseOver())},kn.prototype.showDefaultContextMenu=function(){var t=this.diagram;null===this.Qt&&(this.Qt=function(t){var e=new Z;return e.add(new Mn("Copy",function(t){t.commandHandler.copySelection()},function(t){return t.commandHandler.canCopySelection()})),e.add(new Mn("Cut",function(t){t.commandHandler.cutSelection()},function(t){return t.commandHandler.canCutSelection()})),e.add(new Mn("Delete",function(t){t.commandHandler.deleteSelection()},function(t){return t.commandHandler.canDeleteSelection()})),e.add(new Mn("Paste",function(e){e.commandHandler.pasteSelection(t.mouseDownPoint)},function(e){return e.commandHandler.canPasteSelection(t.mouseDownPoint)})),e.add(new Mn("Select All",function(t){t.commandHandler.selectAll()},function(t){return t.commandHandler.canSelectAll()})),e.add(new Mn("Undo",function(t){t.commandHandler.undo()},function(t){return t.commandHandler.canUndo()})),e.add(new Mn("Redo",function(t){t.commandHandler.redo()},function(t){return t.commandHandler.canRedo()})),e.add(new Mn("Scroll To Part",function(t){t.commandHandler.scrollToPart()},function(t){return t.commandHandler.canScrollToPart()})),e.add(new Mn("Zoom To Fit",function(t){t.commandHandler.zoomToFit()},function(t){return t.commandHandler.canZoomToFit()})),e.add(new Mn("Reset Zoom",function(t){t.commandHandler.resetZoom()},function(t){return t.commandHandler.canResetZoom()})),e.add(new Mn("Group Selection",function(t){t.commandHandler.groupSelection()},function(t){return t.commandHandler.canGroupSelection()})),e.add(new Mn("Ungroup Selection",function(t){t.commandHandler.ungroupSelection()},function(t){return t.commandHandler.canUngroupSelection()})),e.add(new Mn("Edit Text",function(t){t.commandHandler.editTextBlock()},function(t){return t.commandHandler.canEditTextBlock()})),e}(this)),Dn.innerHTML="",In.addEventListener("click",this.Iu,!1);var e=this,i=v("ul");i.className="goCXul",Dn.appendChild(i),i.innerHTML="";for(var n=this.Qt.iterator;n.next();){var r=n.value,o=r.visible;if("function"==typeof r.px&&("function"!=typeof o||o(t))){(o=v("li")).className="goCXli";var s=v("a");s.className="goCXa",s.href="#",s.ky=r.px,s.addEventListener("click",function(i){return this.ky(t),e.stopTool(),i.preventDefault(),!1},!1),s.textContent=r.text,o.appendChild(s),i.appendChild(o)}}Dn.style.display="block",In.style.display="block"},kn.prototype.hideDefaultContextMenu=function(){if(null!==this.currentContextMenu&&this.currentContextMenu===Ln){Dn.style.display="none",In.style.display="none";var t=this.diagram;null!==t&&t.removeEventListener(In,"click",this.Iu,!1),this.currentContextMenu=null}},c.Object.defineProperties(kn.prototype,{currentContextMenu:{get:function(){return this.l},set:function(t){this.l=t,this.Pt=t instanceof fu?t.adornedPart:null}},defaultTouchContextMenu:{get:function(){return!1===Nn&&null===Ln&&os&&function(t){var e=new _n;e.show=function(t,e,i){i.showDefaultContextMenu()},e.hide=function(t,e){e.hideDefaultContextMenu()},Ln=e,t.Iu=function(){t.stopTool()},e=v("div");var i=v("div");e.style.cssText="top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",i.style.cssText="z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";var n=v("style");p.document.getElementsByTagName("head")[0].appendChild(n),n.sheet.insertRule(".goCXul { list-style: none; }",0),n.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),n.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0),null!==(n=t.diagram)&&(n.addEventListener(e,"contextmenu",Bn,!1),n.addEventListener(e,"selectstart",Bn,!1),n.addEventListener(i,"contextmenu",Bn,!1)),e.className="goCXforeground",i.className="goCXbackground",p.document.body&&(p.document.body.appendChild(e),p.document.body.appendChild(i)),Dn=e,In=i,Nn=!0}(this),Ln},set:function(t){null===t&&(Nn=!0),Ln=t}},currentObject:{get:function(){return this.u},set:function(t){this.u=t}},mouseDownPoint:{get:function(){return this.Kw}}});var Ln=null,Nn=!1,In=null,Dn=null;function Rn(){_i.call(this),this.name="TextEditing",this.rh=new eh,this.Ja=null,this.Ia=zn,this.Di=null,this.ia=Yn,this.I=1,this.Y=!0,this.u=null,this.l=new _n,this.Rt=null,function(t,e){if(os){var i=v("textarea");t.Rt=i,i.addEventListener("input",function(){if(null!==t.textBlock){var e=t.Kx(this.value);this.style.width=20+e.measuredBounds.width*this.nA+"px",this.rows=e.lineCount}},!1),i.addEventListener("keydown",function(e){if(null!==t.textBlock){var i=e.which;13===i?(!1===t.textBlock.isMultiline&&e.preventDefault(),t.acceptText(jn)):9===i?(t.acceptText(Vn),e.preventDefault()):27===i&&(t.doCancel(),null!==t.diagram&&t.diagram.doFocus())}},!1),i.addEventListener("focus",function(){if(null!==t.currentTextEditor&&t.state!==Yn){var e=t.Rt;t.ia===Kn&&(t.ia=Xn),"function"==typeof e.select&&t.selectsTextOnActivate&&(e.select(),e.setSelectionRange(0,9999))}},!1),i.addEventListener("blur",function(){if(null!==t.currentTextEditor&&t.state!==Yn){var e=t.Rt;"function"==typeof e.focus&&e.focus(),"function"==typeof e.select&&t.selectsTextOnActivate&&(e.select(),e.setSelectionRange(0,9999))}},!1),e.valueFunction=function(){return i.value},e.mainElement=i,e.show=function(t,e,n){if(t instanceof eh&&n instanceof Rn)if(n.state===Wn)i.style.border="3px solid red",i.focus();else{var r=t.ga(oe),o=e.position,s=e.scale,a=t.qf()*s;a<n.minimumEditorScale&&(a=n.minimumEditorScale);var l=t.naturalBounds.width*a+6,h=t.naturalBounds.height*a+2,u=(r.x-o.x)*s;r=(r.y-o.y)*s,i.value=t.text,e.div.style.font=t.font,i.style.position="absolute",i.style.zIndex="100",i.style.font="inherit",i.style.fontSize=100*a+"%",i.style.lineHeight="normal",i.style.width=l+"px",i.style.left=(u-l/2|0)-1+"px",i.style.top=(r-h/2|0)-1+"px",i.style.textAlign=t.textAlign,i.style.margin="0",i.style.padding="1px",i.style.border="0",i.style.outline="none",i.style.whiteSpace="pre-wrap",i.style.overflow="hidden",i.rows=t.lineCount,i.nA=a,i.className="goTXarea",e.div.appendChild(i),i.focus(),n.selectsTextOnActivate&&(i.select(),i.setSelectionRange(0,9999))}},e.hide=function(t){t.div.removeChild(i)}}}(this,this.l)}function Fn(t){var e=t.textBlock,i=t.diagram,n=t.currentTextEditor;if(null!==e&&null!==n){var r=e.text,o="";if(null!==n.valueFunction&&(o=n.valueFunction()),t.isValidText(e,r,o))t.ta(t.name),t.ia=qn,t.transactionResult=t.name,e.text=o,null!==(n=t.textBlock).textEdited&&n.textEdited(n,r,o),null!==i&&i.R("TextEdited",e,r),t.Eg(),t.stopTool(),null!==i&&i.doFocus();else{t.ia=Wn;var s=t.textBlock;null!==s.errorFunction&&s.errorFunction(t,r,o),n.show(e,i,t)}}}kn.className="ContextMenuTool",L("contextMenuTool",function(){return this.findTool("ContextMenu")},function(t){this.Va("ContextMenu",t,this.mouseUpTools)}),u(Rn,_i),Rn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(null===t||t.isReadOnly||!t.lastInput.left||this.isBeyondDragSize())return!1;var e=t.Sb(t.lastInput.documentPoint);return!!(null!==e&&e instanceof eh&&e.editable&&e.part.canEdit())&&!(null===(e=e.part)||this.starting===zn&&!e.isSelected||this.starting===Qn&&2>t.lastInput.clickCount)},Rn.prototype.doStart=function(){this.isActive||null===this.textBlock||this.doActivate()},Rn.prototype.doActivate=function(){if(!this.isActive){var t=this.diagram;if(null!==t){var e=this.textBlock;if(null===e&&(e=t.Sb(t.lastInput.documentPoint)),null!==e&&e instanceof eh&&(this.textBlock=e,null!==e.part)){this.isActive=!0,this.ia=Kn;var i=this.defaultTextEditor;null!==e.textEditor&&(i=e.textEditor),this.rh=this.textBlock.copy();var n=new Rt(this.textBlock.ga(ee),this.textBlock.ga(he));t.Ov(n),i.show(e,t,this),this.currentTextEditor=i}}}},Rn.prototype.doCancel=function(){this.stopTool()},Rn.prototype.doMouseUp=function(){!this.isActive&&this.canStart()&&this.doActivate()},Rn.prototype.doMouseDown=function(){this.isActive&&this.acceptText(Un)},Rn.prototype.acceptText=function(t){switch(t){case Un:this.ia===qn?this.currentTextEditor instanceof HTMLElement&&this.currentTextEditor.focus():this.ia!==Kn&&this.ia!==Wn&&this.ia!==Xn||(this.ia=$n,Fn(this));break;case Hn:case jn:case Vn:jn===t&&!0===this.textBlock.isMultiline||this.ia!==Kn&&this.ia!==Wn&&this.ia!==Xn||(this.ia=$n,Fn(this))}},Rn.prototype.doDeactivate=function(){var t=this.diagram;null!==t&&(this.ia=Yn,this.textBlock=null,null!==this.currentTextEditor&&this.currentTextEditor.hide(t,this),this.isActive=!1)},Rn.prototype.isValidText=function(t,e,i){var n=this.textValidation;return!(null!==n&&!n(t,e,i))&&!(null!==(n=t.textValidation)&&!n(t,e,i))},Rn.prototype.Kx=function(t){var e=this.rh;return e.text=t,e.measure(this.textBlock.mi,1/0),e},c.Object.defineProperties(Rn.prototype,{textBlock:{get:function(){return this.Ja},set:function(t){this.Ja=t}},currentTextEditor:{get:function(){return this.u},set:function(t){this.u=t}},defaultTextEditor:{get:function(){return this.l},set:function(t){this.l=t}},starting:{get:function(){return this.Ia},set:function(t){this.Ia=t}},textValidation:{get:function(){return this.Di},set:function(t){this.Di=t}},minimumEditorScale:{get:function(){return this.I},set:function(t){this.I=t}},selectsTextOnActivate:{get:function(){return this.Y},set:function(t){this.Y=t}},state:{get:function(){return this.ia},set:function(t){this.ia!==t&&(this.ia=t)}}}),Rn.prototype.measureTemporaryTextBlock=Rn.prototype.Kx;var Hn=new z(Rn,"LostFocus",0),Un=new z(Rn,"MouseDown",1),Vn=new z(Rn,"Tab",2),jn=new z(Rn,"Enter",3),Gn=new z(Rn,"SingleClick",0),zn=new z(Rn,"SingleClickSelected",1),Qn=new z(Rn,"DoubleClick",2),Yn=new z(Rn,"StateNone",0),Kn=new z(Rn,"StateActive",1),Xn=new z(Rn,"StateEditing",2),$n=new z(Rn,"StateValidating",3),Wn=new z(Rn,"StateInvalid",4),qn=new z(Rn,"StateValidated",5);function Jn(){hr||(ar(),hr=!0),this.B=es,this.dl=this.Ve=this.ic=this.Kr=this.gc=!1,this.$w=!0,this.el=ur,this.ii=this.Lc=!0,this.Rg=600,this.tw=this.Zw=!1,this.Fe=new et,this.zd=new pr,this.zd.zc=this,this.xk=new et,this.Eu=new et,this.Fs=new et}function Zn(t,e){tr(t,e)&&(t.Ve=!0)}function tr(t,e){return!(!t.Lc||!t.canStart(e))&&(t.Fe.add(e),t.defaultAnimation.isAnimating&&t.Uc(),t.ic=!0)}function er(t){if(t.Lc&&t.ic){var e=t.zd,i=t.B,n=t.Fe.contains("Model");n&&(t.dl=!0,t.el===ur?(e.isViewportUnconstrained=!0,e.qc.clear(),e.add(i,"position",i.position.copy().offset(0,-200),i.position),e.add(i,"opacity",0,1)):t.el===dr&&e.qc.clear(),i.R("InitialAnimationStarting",t)),n&&!t.ii||0===e.qc.count?(t.Fe.clear(),t.ic=!1,t.Ve=!1,e.qc.clear(),fr(e),t.dl=!1,i.N()):(t.Fe.clear(),i.cd=!1,p.requestAnimationFrame(function(){!1===t.ic||e.gc||(i.xe("temporaryPixelRatio")&&Nr(i),Dr(i),t.ic=!1,t.Ve=!1,t.$w=!(!n||t.el!==cr||!i.Rw.A(i.la)),e.start(),nr(t),i.Ta(),Ar(e,0),eo(i,!0),rr(t),i.R("AnimationStarting",t))}))}}function ir(t,e,i,n){e instanceof Lu&&(null!==e.fromNode||null!==e.toNode)||t.zd.add(e,"position",i,n,!1)}function nr(t){if(!t.Kr){var e=t.B;t.Zw=e.skipsUndoManager,t.tw=e.skipsModelSourceBindings,e.skipsUndoManager=!0,e.skipsModelSourceBindings=!0,t.Kr=!0}}function rr(t){var e=t.B;e.skipsUndoManager=t.Zw,e.skipsModelSourceBindings=t.tw,t.Kr=!1}function or(t,e,i){t.Ve&&!e.A(i)&&(t.B.fk||(e=i.copy()),mr(t.zd,t.B,"position",e,i))}function sr(t,e,i,n,r){null===t&&(t="rgba(0,0,0,0)"),null===e&&(e="rgba(0,0,0,0)"),Na(t),Ia();var o=Za.l,s=Za.I,a=Za.u;t=Za.Y,Na(e),Ia();var l=Za.I,h=Za.u;return e=Za.Y,"hsla("+(o=r(i,o,Za.l-o,n))+", "+(s=r(i,s,l-s,n))+"%, "+(a=r(i,a,h-a,n))+"%, "+(i=r(i,t,e-t,n))+")"}function ar(){var t=new ct;t.add("position:diagram",function(t,e,i,n,r,o){t.position=new dt(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o))}),t.add("position",function(t,e,i,n,r,o){r!==o?t.zq(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o),!1):t.position=new dt(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o))}),t.add("location",function(t,e,i,n,r,o){r!==o?t.zq(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o),!0):t.location=new dt(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o))}),t.add("position:placeholder",function(t,e,i,n,r,o){r!==o?t.zq(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o),!1):t.position=new dt(n(r,e.x,i.x-e.x,o),n(r,e.y,i.y-e.y,o))}),t.add("position:node",function(t,e,i,n,r,o){var s=t.actualBounds,a=i.actualBounds;i=a.x+a.width/2-s.width/2,s=a.y+a.height/2-s.height/2,r!==o?t.zq(n(r,e.x,i-e.x,o),n(r,e.y,s-e.y,o),!1):t.position=new dt(n(r,e.x,i-e.x,o),n(r,e.y,s-e.y,o))}),t.add("desiredSize",function(t,e,i,n,r,o){t.desiredSize=new Rt(n(r,e.width,i.width-e.width,o),n(r,e.height,i.height-e.height,o))}),t.add("width",function(t,e,i,n,r,o){t.width=n(r,e,i-e,o)}),t.add("height",function(t,e,i,n,r,o){t.height=n(r,e,i-e,o)}),t.add("fill",function(t,e,i,n,r,o){t.fill=sr(e,i,r,o,n)}),t.add("stroke",function(t,e,i,n,r,o){t.stroke=sr(e,i,r,o,n)}),t.add("strokeWidth",function(t,e,i,n,r,o){t.strokeWidth=n(r,e,i-e,o)}),t.add("strokeDashOffset",function(t,e,i,n,r,o){t.strokeDashOffset=n(r,e,i-e,o)}),t.add("background",function(t,e,i,n,r,o){t.background=sr(e,i,r,o,n)}),t.add("areaBackground",function(t,e,i,n,r,o){t.areaBackground=sr(e,i,r,o,n)}),t.add("opacity",function(t,e,i,n,r,o){t.opacity=n(r,e,i-e,o)}),t.add("scale",function(t,e,i,n,r,o){t.scale=n(r,e,i-e,o)}),t.add("angle",function(t,e,i,n,r,o){t.angle=n(r,e,i-e,o)}),lr=t}Rn.className="TextEditingTool",Rn.LostFocus=Hn,Rn.MouseDown=Un,Rn.Tab=Vn,Rn.Enter=jn,Rn.SingleClick=Gn,Rn.SingleClickSelected=zn,Rn.DoubleClick=Qn,Rn.StateNone=Yn,Rn.StateActive=Kn,Rn.StateEditing=Xn,Rn.StateValidating=$n,Rn.StateInvalid=Wn,Rn.StateValidated=qn,L("textEditingTool",function(){return this.findTool("TextEditing")},function(t){this.Va("TextEditing",t,this.mouseUpTools)}),Jn.prototype.Wd=function(t){this.B=t},Jn.prototype.canStart=function(){return!0},(i=Jn.prototype).pt=function(t){return this.zd.pt(t)},i.sv=function(t){return this.zd.sv(t)},i.Uc=function(t){var e=this.zd;if(!0===this.ic&&(this.dl=this.Ve=this.ic=!1,this.Fe.clear(),0<e.qc.count&&this.B.Xb()),this.gc&&this.Lc){if(e.bm(!0),e.qc.clear(),fr(e),!0===t)for(t=this.xk.ma(),e=0;e<t.length;e++)t[e].bm(!0)}else e.qc.clear(),fr(e)},i.bm=function(t){t===this.defaultAnimation&&this.defaultAnimation.qc.clear(),this.xk.remove(t),0===this.xk.count&&(this.gc=!1,this.B.Xb()),t===this.defaultAnimation&&(this.defaultAnimation.qc.clear(),this.B.R("AnimationFinished",this))},i.Pj=function(t,e){this.Ve&&(this.Fe.contains("Expand Tree")||this.Fe.contains("Expand SubGraph"))&&this.zd.Pj(t,e)},i.Nj=function(t,e){this.Ve&&(this.Fe.contains("Collapse Tree")||this.Fe.contains("Collapse SubGraph"))&&(this.zd.Nj(t,e),mr(this.zd,e,"position",e.position,e.position))},c.Object.defineProperties(Jn.prototype,{animationReasons:{get:function(){return this.Fe}},isEnabled:{get:function(){return this.Lc},set:function(t){this.Lc=t}},duration:{get:function(){return this.Rg},set:function(t){1>t&&x(t,">= 1",Jn,"duration"),this.Rg=t}},isAnimating:{get:function(){return this.gc}},isTicking:{get:function(){return this.Kr}},isInitial:{get:function(){return this.ii},set:function(t){this.ii=t}},defaultAnimation:{get:function(){return this.zd}},activeAnimations:{get:function(){return this.xk}},initialAnimationStyle:{get:function(){return this.el},set:function(t){this.el=t}}}),Jn.prototype.stopAnimation=Jn.prototype.Uc;var lr=null,hr=!1,ur=new z(Jn,"Default",1),cr=new z(Jn,"AnimateLocations",2),dr=new z(Jn,"None",3);function pr(){this.Ku=this.Yw=this.zc=this.B=null,this.ll=this.gc=this.l=!1,this.Bn=this.rd=0,this.dr=this.Xt=yr,this.kl=this.$o=!1,this.yu=1,this.vu=0,this.md=this.Rg=NaN,this.ww=0,this.Cn=null,this.u=_t,this.qc=new ct,this.ou=new ct,this.Tl=new et,this.pu=new et,this.uw=vs}function fr(t){t.ou.clear(),t.kl=!1,t.vu=0,t.md=NaN,0<t.Tl.count&&t.Tl.clear(),0<t.pu.count&&t.pu.clear()}function mr(t,e,i,n,r,o){var s=t.qc;if(e instanceof Br&&"position"===i&&(i="position:diagram"),s.contains(e)){var a=s.H(e),l=a.start,h=a.end;void 0===l[i]&&(l[i]=gr(n)),h[i]=gr(r)}else h={},(l={})[i]=gr(n),h[i]=gr(r),a=l.position,e instanceof Rs&&a instanceof dt&&!a.v()&&e.diagram.animationManager.Fe.contains("Expand SubGraph")&&a.assign(h.position),a=new br(l,h,o),s.add(e,a);(s=l[i])instanceof dt&&!s.v()&&s.assign(t.u),o&&0===i.indexOf("position:")&&e instanceof Xh?a.cv.location=gr(e.location):o&&(a.cv[i]=gr(n))}function gr(t){return t instanceof dt?t.copy():t instanceof Lt?t.copy():t}function vr(t,e){if(!t.ll||e){var i=t.zc;if(!1!==t.gc){var n=+new Date,r=n>t.Bn?t.md:n-t.rd;e&&((r=t.ww)<t.md?(t.rd=+new Date-r,t.Bn=t.rd+t.md):r=t.md),nr(i),Ar(t,r),eo(t.B,!0),rr(i),n>t.Bn&&(t.$o&&!t.kl?(t.rd=+new Date,t.Bn=t.rd+t.md,t.kl=!0):t.bm(!1))}}}function Ar(t,e){for(var i=t.md,n=t.qc.iterator,r=t.kl;n.next();){var o=n.key;if(!(o instanceof Rs&&null===o.diagram)){var s=n.value,a=r?s.end:s.start;s=r?s.start:s.end;var l,h=lr;for(l in s)"position"===l&&(s["position:placeholder"]||s["position:node"])||null===h.get(l)||h.get(l)(o,a[l],s[l],t.dr,e,i,t)}}}function yr(t,e,i,n){return 1>(t/=n/2)?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}function xr(t,e,i,n){return t===n?e+i:i*(1-Math.pow(2,-10*t/n))+e}function br(t,e,i){this.start=t,this.end=e,this.cv={},this.Yu=i,this.Fv=!1}function Cr(t,e,i){this.bd=null,this.Ye=t,this.Cp=i||wr,this.Bk=null,void 0!==e&&(this.Bk=e,void 0===i&&(this.Cp=Er))}Jn.className="AnimationManager",Jn.defineAnimationEffect=function(t,e){hr||(ar(),hr=!0),lr.add(t,e)},Jn.Default=ur,Jn.AnimateLocations=cr,Jn.None=dr,pr.prototype.suspend=function(){this.ll=!0},pr.prototype.advanceTo=function(t,e){e&&(this.ll=!1),this.$o&&t>=this.md&&(this.kl=!0,t-=this.md),this.ww=t,vr(this,!0),nr(this.zc),eo(this.B),rr(this.zc),this.B.wf()},(i=pr.prototype).start=function(){if(0!==this.qc.count&&!this.gc){for(var t=this.B,e=this.qc.iterator;e.next();){var i=e.value.end,n=e.key;if(i["position:placeholder"]){var r=n.findVisibleNode();if(r instanceof ku&&null!==r.placeholder){var o=r.placeholder;r=o.ga(ee),o=o.padding,r.x+=o.left,r.y+=o.top,i["position:placeholder"]=r}}null===t&&(n instanceof Br?t=n:n instanceof Rs&&(t=n.diagram))}null!==t&&(this.B=t,e=this.zc=t.animationManager,this.md=isNaN(this.Rg)?e.duration:this.Rg,this.dr=this.Xt,e.dl&&e.el===ur&&this===e.defaultAnimation&&(this.dr=xr,this.md=isNaN(this.Rg)?600===e.duration?900:e.duration:this.Rg),this.uw=t.scrollMode,this.isViewportUnconstrained&&(t.Ai=As),nr(e),this.Tl.each(function(e){e.data=null,t.add(e)}),rr(e),this.gc=!0,this.rd=+new Date,this.Bn=this.rd+this.md,function(t,e){function i(){if(0<r.Fs.count&&(n.addAll(r.Fs),r.Fs.clear(),r.gc=!0),!1!==r.gc&&0!==n.count){r.Eu.addAll(n);for(var t=r.Eu.iterator;t.next();){var e=t.value;if(!1!==e.gc){t:if(0<e.Tl.count)var o=!0;else{for(o=e.qc.iterator;o.next();){var s=o.key;if(s instanceof Rs&&null!==s.diagram||s instanceof Br){o=!0;break t}}o=!1}o?vr(e,!1):e.ll=!0}}r.Eu.clear(),nr(r),eo(r.B),rr(r),p.requestAnimationFrame(i)}}var n=t.xk,r=t;t.gc?t.Fs.add(e):(t.gc=!0,n.add(e),p.requestAnimationFrame(function(){i()}))}(e,this))}},i.Ay=function(t,e){t.Ub()&&(this.Tl.add(t),this.B=e)},i.add=function(t,e,i,n,r){"position"===e&&i.A(n)||(null===this.B&&(t instanceof Br?this.B=t:t instanceof Rs&&null!==t.diagram&&(this.B=t.diagram)),t instanceof Xh&&!t.isAnimated||mr(this,t,e,i,n,r))},i.pt=function(t){return!!this.gc&&(null!==(t=this.qc.H(t))&&t.Fv)},i.sv=function(t){return!!this.gc&&(null!==(t=this.qc.H(t))&&(t.start.position||t.start.location))},i.stop=function(){this.gc&&this.bm(!0)},i.bm=function(t){if(null!==this.Ku&&this.Ku.jp.remove(this.Yw),this.gc){var e=this.B,i=this.zc;this.ll=this.gc=i.dl=!1,nr(i);for(var n=this.qc,r=this.Tl.iterator;r.next();)e.remove(r.value);for(r=this.pu.iterator;r.next();)r.value.o();r=this.$o,n=n.iterator;for(var o=lr;n.next();){var s,a=n.key,l=n.value,h=r?l.end:l.start,u=r?l.start:l.end,c=l.cv;for(s in u)if(null!==o.get(s)){var d=s;!l.Yu||"position:node"!==d&&"position:placeholder"!==d||(d="position"),o.get(d)(a,h[s],void 0!==c[s]?c[s]:l.Yu?h[s]:u[s],this.dr,this.md,this.md,this)}l.Yu&&void 0!==c.location&&a instanceof Xh&&(a.location=c.location),l.Fv&&a instanceof Xh&&a.Nb(!1)}if(i.defaultAnimation===this)for(s=this.B.links;s.next();)null===(r=s.value).jh?null!==(n=r.path)&&(r.yc=!1,r.o(),n.o()):(r.points=r.jh,r.jh=null);e.kt.clear(),Ir(e,!1),e.Ta(),e.N(),eo(e,!0),this.isViewportUnconstrained&&(e.scrollMode=this.uw),rr(i),this.vu++,!t&&this.yu>this.vu?(this.kl=!1,this.start()):(this.Cn&&this.Cn(this),fr(this),i.bm(this),e.Xb())}},i.Pj=function(t,e){var i=e.actualBounds,n=null;if(e instanceof ku&&(n=e.placeholder),null!==n?(i=n.ga(ee),n=n.padding,i.x+=n.left,i.y+=n.top,this.add(t,"position",i,t.position,!1)):this.add(t,"position",new dt(i.x+i.width/2,i.y+i.height/2),t.position,!1),this.add(t,"scale",.01,t.scale,!1),t instanceof ku)for(t=t.memberParts;t.next();)(n=t.value)instanceof mu&&this.Pj(n,e)},i.Nj=function(t,e){if(t.isVisible()){var i=null;if(e instanceof ku&&(i=e.placeholder),null!==i?this.add(t,"position:placeholder",t.position,i,!0):this.add(t,"position:node",t.position,e,!0),this.add(t,"scale",t.scale,.01,!0),(i=this.qc).contains(t)&&(i.H(t).Fv=!0),t instanceof ku)for(t=t.memberParts;t.next();)(i=t.value)instanceof mu&&this.Nj(i,e)}},i.wz=function(t){var e=this.ou.get(t);return null===e&&(e={},this.ou.add(t,e)),e},c.Object.defineProperties(pr.prototype,{duration:{get:function(){return this.Rg},set:function(t){1>t&&x(t,">= 1",pr,"duration"),this.Rg=t}},reversible:{get:function(){return this.$o},set:function(t){this.$o=t}},runCount:{get:function(){return this.yu},set:function(t){0<t?this.yu=t:A("Animation.runCount value must be a positive integer.")}},finished:{get:function(){return this.Cn},set:function(t){this.Cn!==t&&(this.Cn=t)}},easing:{get:function(){return this.Xt},set:function(t){this.Xt=t}},isViewportUnconstrained:{get:function(){return this.l},set:function(t){this.l=t}},isAnimating:{get:function(){return this.gc}}}),pr.prototype.getTemporaryState=pr.prototype.wz,pr.prototype.stop=pr.prototype.stop,pr.prototype.add=pr.prototype.add,pr.prototype.addTemporaryPart=pr.prototype.Ay,pr.className="Animation",pr.EaseLinear=function(t,e,i,n){return i*t/n+e},pr.EaseInOutQuad=yr,pr.EaseInQuad=function(t,e,i,n){return i*(t/=n)*t+e},pr.EaseOutQuad=function(t,e,i,n){return-i*(t/=n)*(t-2)+e},pr.EaseInExpo=function(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e},pr.EaseOutExpo=xr,br.className="AnimationState",Cr.prototype.copy=function(){var t=new Cr(this.Ye);t.Cp=this.Cp;var e=this.Bk;if(null!==e){var i={};void 0!==e.duration&&(i.wx=e.duration),void 0!==e.finished&&(i.wx=e.finished),void 0!==e.easing&&(i.wx=e.easing),t.Bk=i}return t},c.Object.defineProperties(Cr.prototype,{propertyName:{get:function(){return this.Ye},set:function(t){this.Ye=t}},animationSettings:{get:function(){return this.Bk},set:function(t){this.Bk=t}},startCondition:{get:function(){return this.Cp},set:function(t){this.Cp=t}}});var wr=new z(Cr,"Default",1),Er=new z(Cr,"Immediate",2),Sr=new z(Cr,"Bundled",3);function Tr(){it(this),this.B=null,this.Ca=new Z,this.Qa="",this.ob=1,this.u=!1,this.Ej=this.I=this.Uh=this.Th=this.Sh=this.Rh=this.Ph=this.Qh=this.Oh=this.Wh=this.Nh=this.Vh=this.Mh=this.Lh=!0,this.l=!1,this.No=[]}function _r(t,e){var i=1;return 1!==t.ob&&(i=e.globalAlpha,e.globalAlpha=i*t.ob),i}function Mr(t,e){var i=e.actualBounds,n=e.naturalBounds;if(0!==i.width&&0!==i.height&&!isNaN(i.x)&&!isNaN(i.y)&&e.isVisible()){var r=e.transform;null!==e.areaBackground&&(zs(e,t,e.areaBackground,!0,!0,n,i),t.fillRect(i.x,i.y,i.width,i.height)),null===e.areaBackground&&null===e.background&&(zs(e,t,"rgba(0,0,0,0.3)",!0,!1,n,i),t.fillRect(i.x,i.y,i.width,i.height)),null!==e.background&&(t.transform(r.m11,r.m12,r.m21,r.m22,r.dx,r.dy),zs(e,t,e.background,!0,!1,n,i),t.fillRect(0,0,n.width/2,n.height/2),r.gt()||(e=1/(r.m11*r.m22-r.m12*r.m21),t.transform(r.m22*e,-r.m12*e,-r.m21*e,r.m11*e,e*(r.m21*r.dy-r.m22*r.dx),e*(r.m12*r.dx-r.m11*r.dy))))}}function kr(t,e,i){if(e=function(t,e,i){var n=i.zOrder;if(isNaN(n))return e;var r=(t=t.Ca).count;if(1>=r)return e;if(0>e&&(e=t.indexOf(i)),0>e)return-1;for(var o=e-1,s=NaN;0<=o&&(s=t.L(o).zOrder,isNaN(s));)o--;for(var a=e+1,l=NaN;a<r&&(l=t.L(a).zOrder,isNaN(l));)a++;if(!isNaN(s)&&s>n)for(;;){if(-1===o||s<=n){if(++o===e)break;return t.jb(e),t.Kb(o,i),o}for(s=NaN;0<=--o&&(s=t.L(o).zOrder,isNaN(s)););}else if(!isNaN(l)&&l<n)for(;;){if(a===r||l>=n){if(--a===e)break;return t.jb(e),t.Kb(a,i),a}for(l=NaN;++a<r&&(l=t.L(a).zOrder,isNaN(l)););}return e}(t,e,i),i instanceof ku&&null!==i&&isNaN(i.zOrder)){if(0!==i.memberParts.count){for(var n=-1,r=t.Ca.j,o=r.length,s=0;s<o;s++){var a=r[s];if(a===i&&(e=s,0<=n))break;if(0>n&&a.containingGroup===i&&(n=s,0<=e))break}!(0>n)&&n<e&&((r=t.Ca).jb(e),r.Kb(n,i))}null!==(i=i.containingGroup)&&kr(t,-1,i)}}function Br(t){1<arguments.length&&A("Diagram constructor can only take one optional argument, the DIV HTML element or its id."),Es||(function(){if(os){var t=p.document.createElement("canvas"),e=t.getContext("2d"),i=I("7ca11abfd022028846");e[i]=I("398c3597c01238");for(var n=["5da73c80a36455d5038e4972187c3cae51fd22",f.Dx+"4ae6247590da4bb21c324ba3a84e385776",ze.xF+"fb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387",Ye.za],r=1;5>r;r++)e[I("7ca11abfd7330390")](I(n[r-1]),10,15*r);for(e[i]=I("39f046ebb36e4b"),i=1;5>i;i++)e[I("7ca11abfd7330390")](I(n[i-1]),10,15*i);t}}(),Es=!0),it(this),es=this,G=[],this.Gb=!0,this.zc=new Jn,this.zc.Wd(this),this.qb=17,this.Tn=this.Sw=!1,this.xu="default",this.Fa=null;var e=this;os&&(null!==p.document.body?this.setRTL():e.addEventListener(p.document,"DOMContentLoaded",function t(){e.removeEventListener(p.document,"DOMContentLoaded",t,!1),e.setRTL()},!1)),this.Ka=new Z,this.ua=this.va=0,this.Ba=null,this.uu=new ct,this.lg=this.Xc=null,this.Mv(),this.hl=null,this.Lv(),this.ob=1,this.la=new dt(NaN,NaN).freeze(),this.Rw=new dt(NaN,NaN),this.gr=this.ya=1,this.Br=new dt(NaN,NaN).freeze(),this.Cr=NaN,this.Wr=1e-4,this.Ur=100,this.rb=new ze,this.Ls=new dt(NaN,NaN).freeze(),this.sr=new Rt(NaN,NaN,NaN,NaN).freeze(),this.zi=new qt(0,0,0,0).freeze(),this.Ai=vs,this.us=!1,this.ps=this.ls=null,this.Jg=ls,this.gj=Se,this.Tf=ls,this.On=Se,this.Dr=this.Ar=ee,this.nc=!0,this.Pn=!1,this.Gd=new et,this.di=new ct,this.vn=!0,this.Wm=250,this.Ck=-1,this.Xm=new qt(16,16,16,16).freeze(),this.Sk=this.cd=!1,this.Xk=!0,this.ei=new vi,this.ei.diagram=this,this.Xe=new vi,this.Xe.diagram=this,this.uj=new vi,this.uj.diagram=this,this.le=this.If=null,this.Ql=!1,this.Tt=this.Ut=null,this.Rq=p.PointerEvent&&(R||F||H)&&p.navigator&&!1!==p.navigator.msPointerEnabled,Io(this),this.Fi=new et,this.Lr=!0,this.Gs=ys,this.kd=!1,this.Is=cs,this.Ja=null,is.add("Model",nd),this.Y=this.Ia=this.Za=null,this.cr="",this.sn="auto",this.$f=this.Zr=this.bg=this.cg=this.eg=this.Kf=this.Of=this.Jf=null,this.zr=!1,this.Lf=this.qg=this.dg=this.ag=null,this.nu=!1,this.su={},this.Al=[null,null],this.I=null,this.St=this.Du=this.De=this.lh=!1,this.Vc=!0,this.qj=this.$b=!1,this.ac=null;var i=this;this.Bf=function(t){var e=i.partManager;if(t.model===e.diagram.model&&e.diagram.aa){e.diagram.aa=!1;try{var n=t.change;""===t.modelChange&&n===bi&&e.updateDataBindings(t.object,t.propertyName)}finally{e.diagram.aa=!0}}},this.Ih=function(t){i.partManager.doModelChanged(t)},this.bx=!0,this.fe=-2,this.Fj=new ct,this.ru=new Z,this.Uf=!1,this.Mh=this.Lh=this.Jq=this.Lc=!0,this.Kq=!1,this.Qq=this.Oq=this.Uh=this.Th=this.Sh=this.Rh=this.Ph=this.Qh=this.Oh=this.Nq=this.Wh=this.Nh=this.Vh=this.Lq=!0,this.Yg=this.Ic=!1,this.Pq=this.Mq=this.al=this.$k=!0,this.ts=this.rs=16,this.Au=this.qs=!1,this.lp=this.ss=null,this.Bu=this.Cu=0,this.bb=new qt(5).freeze(),this.Tw=(new et).freeze(),this.Vr=999999999,this.Gw=(new et).freeze(),this.hi=this.oj=this.nj=!0,this.Rf=this.Ne=!1,this.hc=null,this.Ig=!0,this.Oe=!1,this.Hq=new et,this.Hw=new et,this.Qb=null,this.Lo=1,this.Uw=0,this.te={scale:1,position:new dt,bounds:new Rt,Hx:!1},this.ax=new Rt(NaN,NaN,NaN,NaN).freeze(),this.Np=new Lt(NaN,NaN).freeze(),this.tn=new Rt(NaN,NaN,NaN,NaN).freeze(),this.Mr=!1,this.kr=null,Rr(this),this.Rr=this.xr=this.cs=this.yw=this.xw=this.zw=this.ah=this.fi=this.fg=null,Lr(this),this.Fb=null,this.wr=!1,this.Kk=null,this.partManager=new nd,this.toolManager=new Mi,this.toolManager.initializeStandardTools(),this.currentTool=this.defaultTool=this.toolManager,this.jr=null,this.Mk=new Bs,this.fs=this.es=null,this.Ep=!1,this.commandHandler=Pr(),this.model=Vd(),this.lh=!0,this.layout=new Dc,this.lh=!1,this.Bw=this.Wt=null,this.Pb=1,this.qh=null,this.ke=1,this.xo=0,this.yo=[0,0,0,0,0],this.zo=0,this.Jd=1,this.pl=0,this.Or=new dt,this.Ju=500,this.Sq=new dt,this.Pe=!1,this.preventDefault=this.tt=this.pm=this.qm=this.om=this.nm=this.lk=this.nk=this.mk=this.jk=this.kk=this.gw=this.Zv=this.$v=this.aw=this.yi=this.fp=this.xi=this.ep=null,this.u=!1,this.gi=new Ss,this.Cs=!1,void 0!==t&&_s(this,t),this.Gb=!1,this.ur=null,this.vr=Ot}function Or(t,e){t.animationManager.Uc(!0),t.Tw=(new et).freeze(),t.Gw=(new et).freeze();var i=t.skipsUndoManager;null!==t.model&&(t.skipsUndoManager=!0);var n=null;null!==t.Fb&&(null!==(n=t.Fb.part)&&t.remove(n));var r=[],o=t.Ka.length;if(e){for(e=0;e<o;e++)for(var s=t.Ka.j[e].parts;s.next();){var a=s.value;a!==n&&null===a.data&&r.push(a)}for(e=0;e<r.length;e++)t.remove(r[e])}for(e=0;e<o;e++)t.Ka.j[e].clear();return t.Gd.clear(),t.di.clear(),t.Fi.clear(),t.Kk=null,j=[],null!==n&&(t.add(n),t.partManager.parts.remove(n)),null!==t.model&&(t.skipsUndoManager=i),r}function Pr(){return null}function Lr(t){t.fg=new ct;var e=new mu,i=new eh;i.bind(new Xd("text","",O)),e.add(i),t.zw=e,t.fg.add("",e),e=new mu,(i=new eh).stroke="brown",i.bind(new Xd("text","",O)),e.add(i),t.fg.add("Comment",e),(e=new mu).selectable=!1,e.avoidable=!1,(i=new Ql).figure="Ellipse",i.fill="black",i.stroke=null,i.desiredSize=new Lt(3,3).ca(),e.add(i),t.fg.add("LinkLabel",e),t.fi=new ct,(e=new ku).selectionObjectName="GROUPPANEL",e.type=Al.Vertical,(i=new eh).font="bold 12pt sans-serif",i.bind(new Xd("text","",O)),e.add(i),(i=new Al(Al.Auto)).name="GROUPPANEL";var n=new Ql;n.figure="Rectangle",n.fill="rgba(128,128,128,0.2)",n.stroke="black",i.add(n),(n=new Pu).padding=new qt(5,5,5,5).ca(),i.add(n),e.add(i),t.xw=e,t.fi.add("",e),t.ah=new ct,e=new Lu,(i=new Ql).isPanelMain=!0,e.add(i),(i=new Ql).toArrow="Standard",i.fill="black",i.stroke=null,i.strokeWidth=0,e.add(i),t.yw=e,t.ah.add("",e),e=new Lu,(i=new Ql).isPanelMain=!0,i.stroke="brown",e.add(i),t.ah.add("Comment",e),(e=new fu).type=Al.Auto,(i=new Ql).fill=null,i.stroke="dodgerblue",i.strokeWidth=3,e.add(i),(i=new Pu).margin=new qt(1.5,1.5,1.5,1.5).ca(),e.add(i),t.cs=e,t.xr=e,(e=new fu).type=Al.Link,(i=new Ql).isPanelMain=!0,i.fill=null,i.stroke="dodgerblue",i.strokeWidth=3,e.add(i),t.Rr=e}function Nr(t){30<t.xo&&(t.qh=1)}function Ir(t,e){null!==t.qh&&(t.qh=null,e&&t.tt(),t.xo=0,t.yo=[0,0,0,0,0],t.zo=0)}function Dr(t){if(null!==t.Ba){var e=t.Fa;if(0!==e.clientWidth&&0!==e.clientHeight){t.Sw||t.setScrollWidth();var i=t.Rf?t.qb:0,n=t.Ne?t.qb:0,r=t.Pb;t.Pb=t.computePixelRatio(),t.Pb!==r&&(t.Pn=!0,t.Xb()),e.clientWidth===t.va+i&&e.clientHeight===t.ua+n||(t.oj=!0,t.nc=!0,null!==(e=t.layout)&&e.isViewportSized&&t.autoScale===ls&&(t.Sk=!0,e.C()),t.$b||t.Xb())}}}function Rr(t){var e=new Tr;e.name="Background",t.Vl(e),(e=new Tr).name="",t.Vl(e),(e=new Tr).name="Foreground",t.Vl(e),(e=new Tr).name="Adornment",e.isTemporary=!0,t.Vl(e),(e=new Tr).name="Tool",e.isTemporary=!0,e.isBoundsIncluded=!0,t.Vl(e),(e=new Tr).name="Grid",e.allowSelect=!1,e.pickable=!1,e.isTemporary=!0,t.hx(e,t.dm("Background"))}function Fr(t){t.Fb=new Al(Al.Grid),t.Fb.name="GRID";var e=new Ql;e.figure="LineH",e.stroke="lightgray",e.strokeWidth=.5,e.interval=1,t.Fb.add(e),(e=new Ql).figure="LineH",e.stroke="gray",e.strokeWidth=.5,e.interval=5,t.Fb.add(e),(e=new Ql).figure="LineH",e.stroke="gray",e.strokeWidth=1,e.interval=10,t.Fb.add(e),(e=new Ql).figure="LineV",e.stroke="lightgray",e.strokeWidth=.5,e.interval=1,t.Fb.add(e),(e=new Ql).figure="LineV",e.stroke="gray",e.strokeWidth=.5,e.interval=5,t.Fb.add(e),(e=new Ql).figure="LineV",e.stroke="gray",e.strokeWidth=1,e.interval=10,t.Fb.add(e),(e=new Xh).add(t.Fb),e.layerName="Grid",e.zOrder=0,e.isInDocumentBounds=!1,e.isAnimated=!1,e.pickable=!1,e.locationObjectName="GRID",t.add(e),t.partManager.parts.remove(e),t.Fb.visible=!1}function Hr(){this.B.Au?this.B.Au=!1:this.B.isEnabled?this.B.tx(this):co(this.B)}function Ur(t){this.B.isEnabled?(this.B.Cu=t.target.scrollTop,this.B.Bu=t.target.scrollLeft):co(this.B)}function Vr(t){if(t.fixedBounds.v()){var e=t.fixedBounds.copy();return e.Tp(t.bb),e}for(var i=!0,n=t.Ka.j,r=n.length,o=0;o<r;o++){var s=n[o];if(s.visible&&(!s.isTemporary||s.isBoundsIncluded))for(var a=(s=s.Ca.j).length,l=0;l<a;l++){var h=s[l];h.isInDocumentBounds&&h.isVisible()&&((h=h.actualBounds).v()&&(i?(i=!1,e=h.copy()):e.Hc(h)))}}return i&&(e=new Rt(0,0,0,0)),e.Tp(t.bb),e}function jr(t,e){if((e||t.Oe)&&!t.Gb&&null!==t.Ba&&t.documentBounds.v()){if(e){var i=t.initialPosition;if(i.v())return void(t.position=i);(i=dt.alloc()).Zi(t.documentBounds,t.initialDocumentSpot);var n=t.viewportBounds;n=Rt.allocAt(0,0,n.width,n.height);var r=dt.alloc();r.Zi(n,t.initialViewportSpot),r.h(i.x-r.x,i.y-r.y),t.position=r,Rt.free(n),dt.free(r),dt.free(i)}t.Gb=!0,i=t.Jg,e&&t.Tf!==ls&&(i=t.Tf),n=i!==ls?Gr(t,i):t.scale,i=t.viewportBounds.copy(),r=t.va/n;var o=t.ua/n,s=t.gj,a=t.On;e&&!s.eb()&&(a.eb()||a.Mb())&&(s=a.Mb()?oe:a),zr(t,t.documentBounds,r,o,s,e),e=t.scale,t.scale=n,t.Gb=!1,(n=t.viewportBounds).Ma(i)||t.qq(i,n,e,!1),ao(t),to(t,!0,!1)}}function Gr(t,e){var i=t.gr;if(null===t.Ba)return i;Bo(t);var n=t.documentBounds;if(!n.v())return i;var r=n.width;n=n.height;var o=t.va+(t.Rf?t.qb:0),s=t.ua+(t.Ne?t.qb:0),a=o/r,l=s/n;return e===hs?((e=Math.min(l,a))>i&&(e=i),e<t.minScale&&(e=t.minScale),e>t.maxScale&&(e=t.maxScale),e):e===us?((e=l>a?(s-t.qb)/n:(o-t.qb)/r)>i&&(e=i),e<t.minScale&&(e=t.minScale),e>t.maxScale&&(e=t.maxScale),e):t.scale}function zr(t,e,i,n,r,o){var s=dt.allocAt(t.la.x,t.la.y),a=s.x,l=s.y;if(null!==t.ur){var h=dt.alloc();a=(h=t.ur.ga(ee,h)).x-t.vr.x/t.scale,l=h.y-t.vr.y/t.scale,r=te,dt.free(h)}(o||t.scrollMode===vs)&&(r.eb()&&(i>e.width&&(a=e.x+(r.x*e.width+r.offsetX)-(r.x*i-r.offsetX)),n>e.height&&(l=e.y+(r.y*e.height+r.offsetY)-(r.y*n-r.offsetY))),r=t.zi,o=i-e.width,i<e.width+r.left+r.right?(a=Math.min(a+i/2,e.right+Math.max(o,r.right)-i/2),a=Math.max(a,e.left-Math.max(o,r.left)+i/2),a-=i/2):a>e.left?a=e.left:a<e.right-i&&(a=e.right-i),i=n-e.height,n<e.height+r.top+r.bottom?(l=Math.min(l+n/2,e.bottom+Math.max(i,r.bottom)-n/2),l=Math.max(l,e.top-Math.max(i,r.top)+n/2),l-=n/2):l>e.top?l=e.top:l<e.bottom-n&&(l=e.bottom-n)),s.x=isFinite(a)?a:-t.bb.left,s.y=isFinite(l)?l:-t.bb.top,null!==t.positionComputation&&(e=t.positionComputation(t,s),s.x=e.x,s.y=e.y),t.zc.ic&&or(t.zc,t.la,s),t.la.h(s.x,s.y),dt.free(s)}function Qr(t,e,i,n){for(void 0===i&&(i=null),void 0===n&&(n=null),io(t),t=t.Ka.iteratorBackwards;t.next();){var r=t.value;if(r.visible&&!r.isTemporary&&null!==(r=r.Sb(e,i,n)))return r}return null}function Yr(t,e,i){var n=t.Xe;return t.Xe=t.uj,t.uj=n,n.diagram=t,n.event=e,i?Jr(t,e,n):(n.viewPoint=t.Xe.viewPoint,n.documentPoint=t.Xe.documentPoint),t=0,e.ctrlKey&&(t+=1),e.altKey&&(t+=2),e.shiftKey&&(t+=4),e.metaKey&&(t+=8),n.modifiers=t,n.button=e.button,void 0===e.buttons||D||(n.buttons=e.buttons),U&&0===e.button&&e.ctrlKey&&(n.button=2),n.down=!1,n.up=!1,n.clickCount=1,n.delta=0,n.handled=!1,n.bubbles=!1,n.timestamp=e.timeStamp,n.isMultiTouch=!1,n.targetDiagram=Kr(e),n.targetObject=null,n}function Kr(t){var e=t.target.B;if(!e){var i=t.path;i||"function"!=typeof t.composedPath||(i=t.composedPath()),i&&i[0]&&(e=i[0].B)}return e||null}function Xr(t,e,i,n){var r=Wr(t,e,!0,!1,!0,n);return Jr(t,i,r),r.targetDiagram=Kr(e),r.targetObject=null,n||r.clone(t.ei),r}function $r(t,e,i,n){var r;return n=Wr(t,e,!1,!1,!1,n),null!==i?((r=p.document.elementFromPoint(i.clientX,i.clientY))&&r.B?(e=i,i=r.B):(e=void 0!==e.targetTouches?e.targetTouches[0]:e,i=t),n.targetDiagram=i,Jr(t,e,n)):null!==t.Xe?(n.documentPoint=t.Xe.documentPoint,n.viewPoint=t.Xe.viewPoint,n.targetDiagram=t.Xe.targetDiagram):null!==t.ei&&(n.documentPoint=t.ei.documentPoint,n.viewPoint=t.ei.viewPoint,n.targetDiagram=t.ei.targetDiagram),n.targetObject=null,n}function Wr(t,e,i,n,r,o){var s=t.Xe;t.Xe=t.uj,t.uj=s,s.diagram=t,s.clickCount=1;var a=s.delta=0;return e.ctrlKey&&(a+=1),e.altKey&&(a+=2),e.shiftKey&&(a+=4),e.metaKey&&(a+=8),s.modifiers=a,s.button=0,s.buttons=1,s.event=e,s.timestamp=e.timeStamp,t.Rq&&e instanceof p.PointerEvent&&"touch"!==e.pointerType&&(s.button=e.button,void 0===e.buttons||D||(s.buttons=e.buttons),U&&0===e.button&&e.ctrlKey&&(s.button=2)),s.down=i,s.up=n,s.handled=!1,s.bubbles=r,s.isMultiTouch=o,s}function qr(t,e){return!!t.bubbles||(void 0!==e.stopPropagation&&e.stopPropagation(),!1!==e.cancelable&&e.preventDefault(),e.cancelBubble=!0,!1)}function Jr(t,e,i){var n=t.Ba,r=t.va,o=t.ua,s=0,a=0;null!==n&&(n=n.getBoundingClientRect(),s=e.clientX-r/n.width*n.left,a=e.clientY-o/n.height*n.top),i.viewPoint.h(s,a),null!==t.rb?(e=dt.allocAt(s,a),t.rb.Td(e),i.documentPoint.assign(e),dt.free(e)):i.documentPoint.h(s,a)}function Zr(t,e,i,n){if(void 0!==e.targetTouches){if(2>e.targetTouches.length)return;e=e.targetTouches[i]}else{if(null===t.Al[0])return;e=t.Al[i]}null!==(i=t.Ba)&&(i=i.getBoundingClientRect(),n.h(e.clientX-t.va/i.width*i.left,e.clientY-t.ua/i.height*i.top))}function to(t,e,i){t.animationManager.defaultAnimation.isAnimating||t.Gb||!t.oj||co(t)||(e&&io(t),i&&jr(t,!1))}function eo(t,e){if(!t.$b&&(t.cd=!1,null!==t.Fa||t.Np.v())){t.$b=!0;var i=t.animationManager,n=t.ru;if(!i.isAnimating&&0!==n.length){for(var r=n.j,o=r.length,s=0;s<o;s++){var a=r[s];na(a,!1),a.o()}n.clear()}0<(n=t.Hw).count&&(n.each(function(t){t.fw()}),n.clear()),r=n=!1,i.isAnimating&&(r=!0,n=t.skipsUndoManager,t.skipsUndoManager=!0),i.ic||Dr(t),null!==t.Fb&&(t.Fb.visible&&!t.wr&&(wo(t),t.wr=!0),!t.Fb.visible&&t.wr&&(t.wr=!1)),io(t),o=!1,t.Oe&&!t.Ig||(t.Oe?Lo(t,!t.Sk):(t.ta("Initial Layout"),!1===i.isEnabled&&i.Uc(),Lo(t,!1)),o=!0),t.Sk=!1,io(t),t.Du||function(t){t.$b||io(t),Bo(t)}(t),s=!1,o?(t.Oe||(s=t.Oe=!0,function(t){var e=t.Ka.j;t.xd(e,e.length,t),t.Tf!==ls?t.scale=Gr(t,t.Tf):t.Jg!==ls?t.scale=Gr(t,t.Jg):(e=t.initialScale,isFinite(e)&&0<e&&(t.scale=e)),jr(t,!0),t.Rw.assign(t.la),t.R("InitialLayoutCompleted"),wo(t)}(t)),t.R("LayoutCompleted")):i.dl&&i.$w&&(t.Tf!==ls?t.scale=Gr(t,t.Tf):t.Jg!==ls?t.scale=Gr(t,t.Jg):(i=t.initialScale,isFinite(i)&&0<i&&(t.scale=i)),jr(t,!0)),io(t),to(t,!0,!1),o&&s&&(t.Ua("Initial Layout"),t.skipsUndoManager||t.undoManager.clear(),g(function(){t.isModified=!1},1)),t.Su(),e||t.tb(t.Xc),r&&(t.skipsUndoManager=n),t.$b=!1}}function io(t){if((t.$b||!t.animationManager.isTicking)&&0!==t.Gd.count){for(var e=0;23>e;e++){var i=t.Gd.iterator;if(null===i||0===t.Gd.count)break;t.Gd=new et,t.fw(i,t.Gd)}t.nodes.each(function(t){t instanceof ku&&0!=(65536&t.P)!=!1&&(t.P=65536^t.P)})}}function no(t,e){for(var i=M(),n=M(),r=e.memberParts;r.next();){var o=r.value;o.isVisible()&&(o instanceof ku?(ia(o)||ra(o)||su(o))&&no(t,o):o instanceof Lu?o.fromNode===e||o.toNode===e?n.push(o):i.push(o):(o.measure(1/0,1/0),o.arrange()))}for(t=i.length,r=0;r<t;r++)(o=i[r]).measure(1/0,1/0),o.arrange();for(k(i),e.measure(1/0,1/0),e.arrange(),t=n.length,e=0;e<t;e++)(i=n[e]).measure(1/0,1/0),i.arrange();k(n)}function ro(t,e,i,n,r,o,s,a,l,h){if(null!==t.Fa){null===t.Ba&&A("No canvas specified"),void 0===s&&(s=null),void 0===a&&(a=null),void 0===l&&(l=!1),void 0===h&&(h=!1),ho(t),t.Xc.Qc(!0),lo(t),t.qj=!0;var u=t.ya;t.ya=r;var c=t.Ka.j,d=c.length;try{var p=new Rt(o.x,o.y,n.width/r,n.height/r),f=p.copy();f.Tp(i),wo(t,f),io(t),t.xd(c,d,t,p);var m=t.Pb;e.setTransform(1,0,0,1,0,0),e.scale(m,m),e.clearRect(0,0,n.width,n.height),null!==a&&""!==a&&(e.fillStyle=a,e.fillRect(0,0,n.width,n.height));var g=ze.alloc();if(g.reset(),g.translate(i.left,i.top),g.scale(r),0===o.x&&0===o.y||g.translate(-o.x,-o.y),e.setTransform(g.m11,g.m12,g.m21,g.m22,g.dx,g.dy),ze.free(g),oo(t,e),e.globalAlpha=t.ob,null!==s){var v=new et,y=s.iterator;for(y.reset();y.next();){var x=y.value;!1===h&&"Grid"===x.layer.name||null===x||v.add(x)}var b=function(i){var n=l;if(i.visible&&0!==i.ob&&(void 0===n&&(n=!0),n||!i.isTemporary)){var r=(n=i.Ca.j).length;if(0!==r){var o=_r(i,e);(i=i.No).length=0;for(var s=t.scale,a=0;a<r;a++){var h=n[a];if(hu(h)&&v.contains(h)){if(h instanceof Lu&&(h.isOrthogonal&&i.push(h),!1===h.yc))continue;var u=h.actualBounds;u.width*s>t.ke||u.height*s>t.ke?h.tb(e,t):Mr(e,h)}}e.globalAlpha=o}}}}else if(!l&&h){var C=t.grid.part,w=C.layer;b=function(i){i===w?C.tb(e,t):i.tb(e,t,l)}}else b=function(i){i.tb(e,t,l)};for(i=0;i<d;i++)b(c[i]);t.qj=!1,t.gi&&Ts(t.gi,t)&&t.kr()}finally{t.ya=u,t.Xc.Qc(!0),lo(t),t.xd(c,d,t),wo(t)}}}function oo(t,e){null!==(t=t.lg)&&(void 0!==t.imageSmoothingEnabled&&e.Wx(!!t.imageSmoothingEnabled),void 0!==(t=t.defaultFont)&&null!==t&&(e.font=t))}function so(t,e){var i,n=t instanceof Al,r=t instanceof Br;for(i in e){""===i&&A("Setting properties requires non-empty property names");var o=t,s=i;if(n||r){var a=i.indexOf(".");if(0<a){var l=i.substring(0,a);n?o=t.Xa(l):(void 0===(o=t[l])||null===o)&&(o=t.toolManager[l]),w(o)?s=i.substr(a+1):A("Unable to find object named: "+l+" in "+t.toString()+" when trying to set property: "+i)}}if("_"!==s[0]&&!P(o,s)){if(r&&"ModelChanged"===s){t.jx(e[s]);continue}if(r&&"Changed"===s){t.yh(e[s]);continue}if(r&&P(t.toolManager,s))o=t.toolManager;else{if(r&&Do(t,s)){t.Oj(s,e[s]);continue}if(t instanceof xd&&"Changed"===s){t.yh(e[s]);continue}A('Trying to set undefined property "'+s+'" on object: '+o.toString())}}o[s]=e[i],"_"===s[0]&&o instanceof Rs&&o.gx(s)}}function ao(t){!1===t.oj&&(t.oj=!0)}function lo(t){!1===t.hi&&(t.hi=!0)}function ho(t){!1!==t.Pn&&(t.Pn=!1,uo(t,t.va,t.ua))}function uo(t,e,i){var n=t.Pb;t.Ba.resize(e*n,i*n,e,i)&&(t.nc=!0,t.Xc.Qc(!0))}function co(t){var e=t.Ba;if(null===e)return!0;var i=t.Fa,n=t.va,r=t.ua,o=t.ax.copy();if(isNaN(o.width)||isNaN(o.height))return!0;var s=!1,a=t.Rf?t.qb:0,l=t.Ne?t.qb:0,h=i.clientWidth||n+a,u=i.clientHeight||r+l;if(h===n+a&&u===r+l||(t.Rf=!1,t.Ne=!1,l=a=0,t.va=h,t.ua=u,s=t.Pn=!0),!(s||t.Rf||t.Ne||t.$k||t.al))return!0;t.oj=!1;var c=t.viewportBounds,d=t.documentBounds,p=0,f=0,m=0,g=0;i=c.width;var v=c.height,A=t.zi;t.contentAlignment.eb()?(d.width>i&&(p=A.left,f=A.right),d.height>v&&(m=A.top,g=A.bottom)):(p=A.left,f=A.right,m=A.top,g=A.bottom),A=d.width+p+f;var y=d.height+m+g;p=d.x-p;var x=c.x;f=d.right+f;var b=c.right+a;m=d.y-m;var C=c.y;d=d.bottom+g,c=c.bottom+l;var w="1px",E="1px";if(h=A>h/(g=t.scale),u=y>u/g,t.scrollMode===vs&&(h||u)&&(h&&t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(h=1,p+1<x&&(h=Math.max((x-p)*g+t.va,h)),f>b+1&&(h=Math.max((f-b)*g+t.va,h)),i+a+1<A&&(h=Math.max((A-i)*g+t.va,h)),w=h.toString()+"px"),u&&t.hasVerticalScrollbar&&t.allowVerticalScroll&&(h=1,m+1<C&&(h=Math.max((C-m)*g+t.ua,h)),d>c+1&&(h=Math.max((d-c)*g+t.ua,h)),v+l+1<y&&(h=Math.max((y-v)*g+t.ua,h)),E=h.toString()+"px")),u="1px"!==E,(h="1px"!==w)&&u||!h&&!u||(u&&(b-=t.qb),h&&(c-=t.qb),A<i+a||!t.hasHorizontalScrollbar||!t.allowHorizontalScroll||(a=1,p+1<x&&(a=Math.max((x-p)*g+t.va,a)),f>b+1&&(a=Math.max((f-b)*g+t.va,a)),i+1<A&&(a=Math.max((A-i)*g+t.va,a)),w=a.toString()+"px"),h="1px"!==w,a=t.ua,h!==t.Ne&&(a=h?t.ua-t.qb:t.ua+t.qb),y<v+l||!t.hasVerticalScrollbar||!t.allowVerticalScroll||(l=1,m+1<C&&(l=Math.max((C-m)*g+a,l)),d>c+1&&(l=Math.max((d-c)*g+a,l)),v+1<y&&(l=Math.max((y-v)*g+a,l)),E=l.toString()+"px"),u="1px"!==E),t.qs&&h===t.Ne&&u===t.Rf)return n===t.va&&r===t.ua||t.ud(),!1;if(h!==t.Ne&&(t.ua="1px"===w?t.ua+t.qb:Math.max(t.ua-t.qb,1),s=!0),t.Ne=h,t.lp.style.width=w,u!==t.Rf&&(t.va="1px"===E?t.va+t.qb:Math.max(t.va-t.qb,1),s=!0,t.Tn&&(l=dt.alloc(),u?(e.style.left=t.qb+"px",t.position=l.h(t.la.x+t.qb/t.scale,t.la.y)):(e.style.left="0px",t.position=l.h(t.la.x-t.qb/t.scale,t.la.y)),dt.free(l))),t.Rf=u,t.lp.style.height=E,t.Au=!0,s&&(t.Pn=!0),l=(e=t.ss).scrollLeft,t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(i+1<A?l=(t.position.x-p)*g:p+1<x?l=e.scrollWidth-e.clientWidth:f>b+1&&(l=t.position.x*g)),t.Tn)switch(t.xu){case"negative":l=-(e.scrollWidth-l-e.clientWidth);break;case"reverse":l=e.scrollWidth-l-e.clientWidth}return e.scrollLeft=l,t.hasVerticalScrollbar&&t.allowVerticalScroll&&(v+1<y?e.scrollTop=(t.position.y-m)*g:m+1<C?e.scrollTop=e.scrollHeight-e.clientHeight:d>c+1&&(e.scrollTop=t.position.y*g)),h=t.va,u=t.ua,e.style.width=h+(t.Rf?t.qb:0)+"px",e.style.height=u+(t.Ne?t.qb:0)+"px",n===h&&r===u&&!t.animationManager.ic||(t.qq(o,t.viewportBounds,g,s),!1)}function po(t,e,i){var n=e.layer;null!==n&&n.diagram===t&&(e.isSelected=!1,e.isHighlighted=!1,e.C(2),i&&e.Zj(),0<=(i=n.Fc(-1,e,!1))&&t.Ya(wi,"parts",n,e,null,i,null),null!==(t=e.layerChanged)&&t(e,n,null))}function fo(t,e,i,n,r,o){if(!e.contains(i)&&(void 0===o&&(o=!1),!n||o||i.canMove()||i.canCopy()))if(void 0===r&&(r=go(t)),i instanceof mu){if(e.add(i,t.qd(r,i,i.location)),i instanceof ku)for(o=i.memberParts;o.next();)fo(t,e,o.value,n,r,r.Bz);for(o=i.linksConnected;o.next();){var s=o.value;if(!e.contains(s)){var a=s.fromNode,l=s.toNode;null!==a&&e.contains(a)&&null!==l&&e.contains(l)&&fo(t,e,s,n,r)}}if(r.dragsTree)for(i=i.iv();i.next();)fo(t,e,i.value,n,r)}else if(i instanceof Lu)for(e.add(i,t.qd(r,i)),i=i.labelNodes;i.next();)fo(t,e,i.value,n,r);else i instanceof fu||e.add(i,t.qd(r,i,i.location))}function mo(t,e,i,n,r){if(null!==e&&0!==e.count){var o=dt.alloc(),s=dt.alloc();s.assign(i),isNaN(s.x)&&(s.x=0),isNaN(s.y)&&(s.y=0),(i=t.Ep)||Ao(t,e);for(var a=M(),l=M(),h=e.iterator,u=dt.alloc();h.next();){var c=h.key,d=h.value;if(c.Ub()){var p=xo(t,c,e);null!==p?a.push(new ks(c,d,p)):r&&!c.canMove()||(p=d.point,o.assign(p),t.computeMove(c,o.add(s),n,u),c.location=u,void 0===d.shifted&&(d.shifted=new dt),d.shifted.assign(u.Xd(p)))}else h.key instanceof Lu&&l.push(h.ka)}for(dt.free(u),r=a.length,h=0;h<r;h++)c=a[h],o.assign(c.info.point),void 0===c.nv.shifted&&(c.nv.shifted=new dt),c.node.location=o.add(c.nv.shifted);for(r=dt.alloc(),h=dt.alloc(),c=l.length,d=0;d<c;d++){var f=l[d];if((p=f.key)instanceof Lu)if(p.suspendsRouting){p.jh=null,u=p.fromNode;var m=p.toNode;if(null!==t.draggedLink&&n.dragsLink)if(m=f.value.point,null===p.dragComputation)e.add(p,t.qd(n,p,s)),Du(p,s.x-m.x,s.y-m.y);else{f=dt.allocAt(0,0),(u=p.i(0))&&u.v()&&f.assign(u);var g=u=dt.alloc().assign(f).add(s);n.isGridSnapEnabled&&(n.isGridSnapRealtime||t.lastInput.up)&&vo(t,p,u,g=dt.alloc(),n),u.assign(p.dragComputation(p,u,g)).Xd(f),e.add(p,t.qd(n,p,u)),Du(p,u.x-m.x,u.y-m.y),dt.free(f),dt.free(u),g!==u&&dt.free(g)}else null!==u&&(r.assign(u.location),null!==(g=e.H(u))&&r.Xd(g.point)),null!==m&&(h.assign(m.location),null!==(g=e.H(m))&&h.Xd(g.point)),null!==u&&null!==m?r.Ma(h)?(u=f.value.point,(m=o).assign(r),m.Xd(u),e.add(p,t.qd(n,p,r)),Du(p,m.x,m.y)):(p.suspendsRouting=!1,p.Na()):(f=f.value.point,u=null!==u?r:null!==m?h:s,e.add(p,t.qd(n,p,u)),Du(p,u.x-f.x,u.y-f.y))}else null!==p.fromNode&&null!==p.toNode||(u=f.value.point,e.add(p,t.qd(n,p,s)),Du(p,s.x-u.x,s.y-u.y))}dt.free(o),dt.free(s),dt.free(r),dt.free(h),k(a),k(l),i||(io(t),yo(t,e))}}function go(t){var e=t.toolManager.findTool("Dragging");return null!==e?e.dragOptions:t.Mk}function vo(t,e,i,n,r){if(void 0===r&&(r=go(t)),n.assign(i),null!==e){var o=t.grid;t=(e=r.gridSnapCellSize).width,e=e.height;var s=r.gridSnapOrigin,a=s.x;if(s=s.y,r=r.gridSnapCellSpot,null!==o){var l=o.gridCellSize;isNaN(t)&&(t=l.width),isNaN(e)&&(e=l.height),o=o.gridOrigin,isNaN(a)&&(a=o.x),isNaN(s)&&(s=o.y)}(o=dt.allocAt(0,0)).sk(0,0,t,e,r),Ye.aq(i.x,i.y,a+o.x,s+o.y,t,e,n),dt.free(o)}}function Ao(t,e){if(null!==e)for(t.Ep=!0,t=e.iterator;t.next();)(e=t.key)instanceof Lu&&(e.suspendsRouting=!0)}function yo(t,e){if(null!==e){for(e=e.iterator;e.next();){var i=e.key;i instanceof Lu&&(i.suspendsRouting=!1,Vu(i)&&i.Na())}t.Ep=!1}}function xo(t,e,i){if(null!==(e=e.containingGroup)){if(null!==(t=xo(t,e,i)))return t;if(null!==(t=i.H(e)))return t}return null}function bo(t,e,i){if(null!==e.diagram&&e.diagram!==t&&A("Cannot share a Layer with another Diagram: "+e+" of "+e.diagram),null===i?null!==e.diagram&&A("Cannot add an existing Layer to this Diagram again: "+e):(i.diagram!==t&&A("Existing Layer must be in this Diagram: "+i+" not in "+i.diagram),e===i&&A("Cannot move a Layer before or after itself: "+e)),e.diagram!==t){e=e.name,i=(t=t.Ka).count;for(var n=0;n<i;n++)t.L(n).name===e&&A("Cannot add Layer with the name '"+e+"'; a Layer with the same name is already present in this Diagram.")}}function Co(t,e,i){var n=t.animationManager;if(t.Gb||t.$b)t.ya=i,n.Ve&&n.zd.add(n.B,"scale",e,t.ya);else if(t.Gb=!0,null===t.Ba)t.ya=i;else{var r=t.viewportBounds.copy(),o=t.va,s=t.ua;r.width=t.va/e,r.height=t.ua/e;var a=t.zoomPoint.x,l=t.zoomPoint.y,h=t.contentAlignment;isNaN(a)&&(h.uf()?h.sf(ce)?a=0:h.sf(de)&&(a=o-1):a=h.eb()?h.x*(o-1):o/2),isNaN(l)&&(h.uf()?h.sf(ue)?l=0:h.sf(pe)&&(l=s-1):l=h.eb()?h.y*(s-1):s/2),null===t.scaleComputation||t.animationManager.isAnimating||(i=t.scaleComputation(t,i)),i<t.minScale&&(i=t.minScale),i>t.maxScale&&(i=t.maxScale),o=dt.allocAt(t.la.x+a/e-a/i,t.la.y+l/e-l/i),t.position=o,dt.free(o),t.ya=i,t.qq(r,t.viewportBounds,e,!1),t.Gb=!1,jr(t,!1),n.Ve&&n.zd.add(n.B,"scale",e,t.ya),t.N(),ao(t)}}function wo(t,e){void 0===e&&(e=null);var i=t.Fb;if(null!==i&&i.visible){for(var n=Lt.alloc(),r=1,o=1,s=i.W.j,a=s.length,l=0;l<a;l++){var h=s[l],u=h.interval;2>u||(Cl(h.figure)?o=o*u/Ye.Bx(o,u):r=r*u/Ye.Bx(r,u))}if(s=i.gridCellSize,n.h(o*s.width,r*s.height),null!==e)r=e.width,o=e.height,t=e.x,s=e.y;else{if(e=Rt.alloc(),t=t.viewportBounds,e.h(t.x,t.y,t.width,t.height),!e.v())return void Rt.free(e);r=e.width,o=e.height,t=e.x,s=e.y,Rt.free(e)}i.width=r+2*n.width,i.height=o+2*n.height,e=dt.alloc(),Ye.aq(t,s,0,0,n.width,n.height,e),e.offset(-n.width,-n.height),Lt.free(n),i.part.location=e,dt.free(e)}}function Eo(t){if(0<(t=t.selection).count){for(var e=t.ma(),i=e.length,n=0;n<i;n++)e[n].isSelected=!1;t.ea(),t.clear(),t.freeze()}}function So(t){var e=t.isModified;t.bx!==e&&(t.bx=e,t.R("Modified"))}function To(t,e){for(var i=(e=e.W.j).length,n=0;n<i;n++)_o(t,e[n])}function _o(t,e){if(e instanceof kh){var i=e.element;if(null!==i&&i instanceof HTMLImageElement){var n=e.Sg;if(null!==n&&(n.Zk instanceof Event&&null!==e.Bc&&e.Bc(e,n.Zk),!0===n.Gr&&(null!==e.ff&&e.ff(e,n.zu),null!==e.diagram&&e.diagram.ru.add(e))),i=i.getAttribute("src"),null===(n=t.Fj.H(i)))(n=[]).push(e),t.Fj.add(i,n);else{for(t=0;t<n.length;t++)if(n[t]===e)return;n.push(e)}}}}function Mo(t,e){if(e instanceof kh){var i=e.element;if(null!==i&&i instanceof HTMLImageElement){i=i.getAttribute("src");var n=t.Fj.H(i);if(null!==n)for(var r=0;r<n.length;r++)if(n[r]===e){n.splice(r,1),0===n.length&&(t.Fj.remove(i),Bh(i));break}}}}function ko(t,e){t.nj=!1;var i=t.tn;i.A(e)||(e=e.G(),t.tn=e,jr(t,!1),t.R("DocumentBoundsChanged",null,i.copy()),ao(t))}function Bo(t){t.nj&&ko(t,t.computeBounds())}function Oo(t,e){for(var i=t.Fi.iterator;i.next();)Po(t,i.value,e);null!==t.layout&&(e?t.layout.isValidLayout=!1:t.layout.C())}function Po(t,e,i){if(null!==e){for(var n=e.wl.iterator;n.next();)Po(t,n.value,i);null!==e.layout&&(i?e.layout.isValidLayout=!1:e.layout.C())}}function Lo(t,e){if(t.Ig&&!t.St){var i=t.aa;t.aa=!0;var n=t.undoManager.transactionLevel,r=t.layout;try{0===n&&t.ta("Layout");var o=t.animationManager;1>=n&&!o.isAnimating&&!o.ic&&(e||Zn(o,"Layout")),t.Ig=!1;for(var s=t.Fi.iterator;s.next();)No(t,s.value,e,n);r.isValidLayout||(!e||r.isRealtime||null===r.isRealtime||0===n?(r.doLayout(t),io(t),r.isValidLayout=!0):t.Ig=!0)}finally{0===n&&t.Ua("Layout"),t.Ig=!r.isValidLayout,t.aa=i}}}function No(t,e,i,n){if(null!==e){for(var r=e.wl.iterator;r.next();)No(t,r.value,i,n);null===(r=e.layout)||r.isValidLayout||(!i||r.isRealtime||0===n?(e.pk=!e.location.v(),r.doLayout(e),e.C(32),no(t,e),r.isValidLayout=!0):t.Ig=!0)}}function Io(t){function e(t){var e=t.toLowerCase(),r=new Z;i.add(t,r),i.add(e,r),n.add(t,t),n.add(e,t)}var i=new ct,n=new ct;e("InitialAnimationStarting"),e("AnimationStarting"),e("AnimationFinished"),e("BackgroundSingleClicked"),e("BackgroundDoubleClicked"),e("BackgroundContextClicked"),e("ClipboardChanged"),e("ClipboardPasted"),e("DocumentBoundsChanged"),e("ExternalObjectsDropped"),e("GainedFocus"),e("InitialLayoutCompleted"),e("LayoutCompleted"),e("LinkDrawn"),e("LinkRelinked"),e("LinkReshaped"),e("LostFocus"),e("Modified"),e("ObjectSingleClicked"),e("ObjectDoubleClicked"),e("ObjectContextClicked"),e("PartCreated"),e("PartResized"),e("PartRotated"),e("SelectionMoved"),e("SelectionCopied"),e("SelectionDeleting"),e("SelectionDeleted"),e("SelectionGrouped"),e("SelectionUngrouped"),e("ChangingSelection"),e("ChangedSelection"),e("SubGraphCollapsed"),e("SubGraphExpanded"),e("TextEdited"),e("TreeCollapsed"),e("TreeExpanded"),e("ViewportBoundsChanged"),e("InvalidateDraw"),t.Ut=i,t.Tt=n}function Do(t,e){var i=t.Tt.H(e);return null!==i?i:t.Tt.H(e.toLowerCase())}function Ro(t,e){var i=t.Ut.H(e);return null!==i?i:null!==(i=t.Ut.H(e.toLowerCase()))?i:(A("Unknown DiagramEvent name: "+e),null)}function Fo(t){if(t.animationManager.isAnimating)return!1;var e=t.currentTool;return e!==t.toolManager.findTool("Dragging")||(!t.Ep||e.isComplexRoutingRealtime)}function Ho(t,e,i,n){if(null===t.Qb&&(t.Qb=new Ac),t.Qb.et||t.Qb.group!==i||t.Qb.$x!==n){if(null===i){(e=t.computeOccupiedArea()).Tc(100,100),t.Qb.initialize(e),e=Rt.alloc();for(var r=t.nodes;r.next();){var o=r.value,s=o.layer;null!==s&&s.visible&&!s.isTemporary&&Uo(t,o,n,e)}Rt.free(e)}else{for(0<i.memberParts.count&&((e=t.computePartsBounds(i.memberParts,!1)).Tc(20,20),t.Qb.initialize(e)),e=Rt.alloc(),r=i.memberParts;r.next();)(o=r.value)instanceof mu&&Uo(t,o,n,e);Rt.free(e)}t.Qb.group=i,t.Qb.$x=n,t.Qb.et=!1}else e&&Cc(t.Qb);return t.Qb}function Uo(t,e,i,n){if(e!==i)if(e.isVisible()&&e.avoidable&&!e.isLinkLabel){var r=e.getAvoidableRect(n),o=t.Qb.Zl;i=t.Qb.Yl,n=r.x+r.width,e=r.y+r.height;for(var s=r.x;s<n;s+=o){for(var a=r.y;a<e;a+=i)bc(t.Qb,s,a);bc(t.Qb,s,e)}for(r=r.y;r<e;r+=i)bc(t.Qb,n,r);bc(t.Qb,n,e)}else if(e instanceof ku)for(e=e.memberParts;e.next();)(r=e.value)instanceof mu&&Uo(t,r,i,n)}function Vo(t,e){null!==t.Qb&&!t.Qb.et&&(void 0===e&&(e=null),null===e||e.avoidable&&!e.isLinkLabel)&&(t.Qb.et=!0)}function jo(t,e){var i=t.position,n=t.Xm;if(0>=n.top&&0>=n.left&&0>=n.right&&0>=n.bottom)return i;var r=t.viewportBounds,o=t.scale;r=Rt.allocAt(0,0,r.width*o,r.height*o);var s=dt.allocAt(0,0);if(e.x>=r.x&&e.x<r.x+n.left){var a=Math.max(t.scrollHorizontalLineChange,1);a|=0,s.x-=a,e.x<r.x+n.left/2&&(s.x-=a),e.x<r.x+n.left/4&&(s.x-=4*a)}else e.x<=r.x+r.width&&e.x>r.x+r.width-n.right&&(a=Math.max(t.scrollHorizontalLineChange,1),a|=0,s.x+=a,e.x>r.x+r.width-n.right/2&&(s.x+=a),e.x>r.x+r.width-n.right/4&&(s.x+=4*a));return e.y>=r.y&&e.y<r.y+n.top?(t=Math.max(t.scrollVerticalLineChange,1),t|=0,s.y-=t,e.y<r.y+n.top/2&&(s.y-=t),e.y<r.y+n.top/4&&(s.y-=4*t)):e.y<=r.y+r.height&&e.y>r.y+r.height-n.bottom&&(t=Math.max(t.scrollVerticalLineChange,1),t|=0,s.y+=t,e.y>r.y+r.height-n.bottom/2&&(s.y+=t),e.y>r.y+r.height-n.bottom/4&&(s.y+=4*t)),s.Ma(_t)||(i=new dt(i.x+s.x/o,i.y+s.y/o)),Rt.free(r),dt.free(s),i}function Go(t,e,i){function n(){var t=+new Date;for(o=!0,s.reset();s.next();)if(!s.value[0].sl){o=!1;break}o||t-h>l?e(i,r,a):p.requestAnimationFrame(n)}for(var r=i.callback,o=!0,s=t.Fj.iterator;s.next();)if(!s.value[0].sl){o=!1;break}if("function"!=typeof r||o)return e(i,r,t);var a=t,l=i.callbackTimeout||300,h=+new Date;return p.requestAnimationFrame(function(){n()}),null}function zo(t,e,i,n){if(t.animationManager.Uc(),t.ud(),null===t.Ba)return null;"object"!=typeof e&&A("properties argument must be an Object.");var r=e.size||null,o=e.scale||null;void 0!==e.scale&&isNaN(e.scale)&&(o="NaN");var s=e.maxSize;void 0===e.maxSize&&(s="SVG"===i?new Lt(1/0,1/0):new Lt(2e3,2e3));var a=e.position||null,l=e.parts||null,h=void 0===e.padding?1:e.padding,u=e.background||null,c=e.omitTemporary;void 0===c&&(c=!0);var d=e.document||document,p=e.elementFinished||null,f=e.showTemporary;void 0===f&&(f=!c),void 0===(e=e.showGrid)&&(e=f),null!==r&&isNaN(r.width)&&isNaN(r.height)&&(r=null),"number"==typeof h?h=new qt(h):h instanceof qt||A("MakeImage padding must be a Margin or a number."),h.left=Math.max(h.left,0),h.right=Math.max(h.right,0),h.top=Math.max(h.top,0),h.bottom=Math.max(h.bottom,0),t.Xc.Qc(!0);var m=(c=new Ea(null,d)).context;if(!(r||o||l||a))return c.width=t.va+Math.ceil(h.left+h.right),c.height=t.ua+Math.ceil(h.top+h.bottom),"SVG"===i?null===n?null:(n.resize(c.width,c.height,c.width,c.height),n.ownerDocument=d,n.Yp=p,ro(t,n.context,h,new Lt(c.width,c.height),t.ya,t.la,l,u,f,e),n.context):(t.vn=!1,ro(t,m,h,new Lt(c.width,c.height),t.ya,t.la,l,u,f,e),t.vn=!0,c.context);var g=t.gr,v=t.documentBounds.copy();if(v.Wv(t.bb),f)for(var y=t.Ka.j,x=y.length,b=0;b<x;b++){var C=y[b];if(C.visible&&C.isTemporary)for(var w=(C=C.Ca.j).length,E=0;E<w;E++){var S=C[E];S.isInDocumentBounds&&S.isVisible()&&((S=S.actualBounds).v()&&v.Hc(S))}}if(y=new dt(v.x,v.y),null!==l){for(x=!0,(b=l.iterator).reset();b.next();)if((C=b.value)instanceof Xh&&((null===(w=C.layer)||w.visible)&&(null===w||f||!w.isTemporary)&&C.isVisible()&&(C=C.actualBounds).v()))if(x){x=!1;var T=C.copy()}else T.Hc(C);x&&(T=new Rt(0,0,0,0)),v.width=T.width,v.height=T.height,y.x=T.x,y.y=T.y}return null!==a&&a.v()&&(y=a,o||(o=g)),T=a=0,null!==h&&(a=h.left+h.right,T=h.top+h.bottom),x=b=0,null!==r&&(b=r.width,x=r.height,isFinite(b)&&(b=Math.max(0,b-a)),isFinite(x)&&(x=Math.max(0,x-T))),null!==r&&null!==o?("NaN"===o&&(o=g),r.v()?(r=b,v=x):isNaN(x)?(r=b,v=v.height*o):(r=v.width*o,v=x)):null!==r?r.v()?(o=Math.min(b/v.width,x/v.height),r=b,v=x):isNaN(x)?(o=b/v.width,r=b,v=v.height*o):(o=x/v.height,r=v.width*o,v=x):null!==o?"NaN"===o&&s.v()?(o=Math.min((s.width-a)/v.width,(s.height-T)/v.height))>g?(o=g,r=v.width,v=v.height):(r=s.width,v=s.height):(r=v.width*o,v=v.height*o):(o=g,r=v.width,v=v.height),null!==h?(r+=a,v+=T):h=new qt(0),null!==s&&(g=s.width,s=s.height,isNaN(g)&&(g=2e3),isNaN(s)&&(s=2e3),isFinite(g)&&(r=Math.min(r,g)),isFinite(s)&&(v=Math.min(v,s))),c.width=Math.ceil(r),c.height=Math.ceil(v),"SVG"===i?null===n?null:(n.resize(c.width,c.height,c.width,c.height),n.ownerDocument=d,n.Yp=p,ro(t,n.context,h,new Lt(Math.ceil(r),Math.ceil(v)),o,y,l,u,f,e),n.context):(t.vn=!1,ro(t,m,h,new Lt(Math.ceil(r),Math.ceil(v)),o,y,l,u,f,e),t.vn=!0,c.context)}Cr.className="AnimationTrigger",Cr.Default=wr,Cr.Immediate=Er,Cr.Bundled=Sr,(i=Tr.prototype).clear=function(){this.Ca.clear(),this.No.length=0},i.Wd=function(t){this.B=t},i.toString=function(t){void 0===t&&(t=0);var e='Layer "'+this.name+'"';if(0>=t)return e;for(var i=0,n=0,r=0,o=0,s=0,a=this.Ca.iterator;a.next();){var l=a.value;l instanceof ku?r++:l instanceof mu?n++:l instanceof Lu?o++:l instanceof fu?s++:i++}if(a="",0<i&&(a+=i+" Parts "),0<n&&(a+=n+" Nodes "),0<r&&(a+=r+" Groups "),0<o&&(a+=o+" Links "),0<s&&(a+=s+" Adornments "),1<t)for(t=this.Ca.iterator;t.next();)a+="\n    "+(i=t.value).toString(),null!==(n=i.data)&&rt(n)&&(a+=" #"+rt(n)),i instanceof mu?a+=" "+O(n):i instanceof Lu&&(a+=" "+O(i.fromNode)+" "+O(i.toNode));return e+" "+this.Ca.count+": "+a},i.Sb=function(t,e,i){if(void 0===e&&(e=null),void 0===i&&(i=null),!1===this.Ej)return null;var n=!1;null!==this.diagram&&this.diagram.viewportBounds.$(t)&&(n=!0);for(var r=dt.alloc(),o=this.Ca.j,s=o.length;s--;){var a=o[s];if((!0!==n||!1!==hu(a))&&a.isVisible()&&(r.assign(t),gt(r,a.sd),null!==(a=a.Sb(r,e,i))&&(null!==e&&(a=e(a)),null!==a&&(null===i||i(a)))))return dt.free(r),a}return dt.free(r),null},i.Ni=function(t,e,i,n){if(void 0===e&&(e=null),void 0===i&&(i=null),n instanceof Z||n instanceof et||(n=new et),!1===this.Ej)return n;var r=!1;null!==this.diagram&&this.diagram.viewportBounds.$(t)&&(r=!0);for(var o=dt.alloc(),s=this.Ca.j,a=s.length;a--;){var l=s[a];if((!0!==r||!1!==hu(l))&&l.isVisible()){o.assign(t),gt(o,l.sd);var h=l;l.Ni(o,e,i,n)&&(null!==e&&(h=e(h)),null===h||null!==i&&!i(h)||n.add(h))}}return dt.free(o),n},i.wg=function(t,e,i,n,r){if(void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=!1),r instanceof Z||r instanceof et||(r=new et),!1===this.Ej)return r;var o=!1;null!==this.diagram&&this.diagram.viewportBounds.nf(t)&&(o=!0);for(var s=this.Ca.j,a=s.length;a--;){var l=s[a];if((!0!==o||!1!==hu(l))&&l.isVisible()){var h=l;l.wg(t,e,i,n,r)&&(null!==e&&(h=e(h)),null===h||null!==i&&!i(h)||r.add(h))}}return r},i.xg=function(t,e,i,n,r,o){if(void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=!0),!1!==r&&!0!==r&&((r instanceof Z||r instanceof et)&&(o=r),r=!0),o instanceof Z||o instanceof et||(o=new et),!1===this.Ej)return o;var s=!1;null!==this.diagram&&this.diagram.viewportBounds.$(t)&&(s=!0);for(var a=dt.alloc(),l=dt.alloc(),h=this.Ca.j,u=h.length;u--;){var c=h[u];if((!0!==s||!1!==hu(c))&&c.isVisible()){a.assign(t),gt(a,c.sd),l.h(t.x+e,t.y),gt(l,c.sd);var d=c;c.xg(a,l,i,n,r,o)&&(null!==i&&(d=i(d)),null===d||null!==n&&!n(d)||o.add(d))}}return dt.free(a),dt.free(l),o},i.xd=function(t,e){if(this.visible){var i=void 0===e?t.viewportBounds:e,n=this.Ca.j,r=n.length;t=M(),e=M();for(var o=0;o<r;o++){var s=n[o];s.Jw=o,s instanceof Lu&&!1===s.yc||s instanceof fu&&null!==s.adornedPart||(zt(s.actualBounds,i,10)?(s.xd(!0),t.push(s)):(s.xd(!1),null!==s.adornments&&0<s.adornments.count&&e.push(s)))}for(i=0;i<t.length;i++)for($h(n=t[i]),n=n.adornments;n.next();)(r=n.value).measure(1/0,1/0),r.arrange(),r.xd(!0);for(i=0;i<e.length;i++)(n=e[i]).updateAdornments(),ou(n,!0);k(t),k(e)}},i.tb=function(t,e,i){if(this.visible&&0!==this.ob&&(void 0===i&&(i=!0),i||!this.isTemporary)){var n=(i=this.Ca.j).length;if(0!==n){var r=_r(this,t),o=this.No;o.length=0;for(var s=e.scale,a=0;a<n;a++){var l=i[a];if(hu(l)){if(l instanceof Lu&&(l.isOrthogonal&&o.push(l),!1===l.yc))continue;var h=l.actualBounds;h.width*s>e.ke||h.height*s>e.ke?l.tb(t,e):Mr(t,l)}}t.globalAlpha=r}}},i.g=function(t,e,i,n,r){var o=this.diagram;null!==o&&o.Ya(bi,t,this,e,i,n,r)},i.Vi=function(t,e,i){var n=this.Ca;if(e.ni=this,t>=n.count)t=n.count;else if(n.L(t)===e)return-1;return n.Kb(t,e),e.gq(i),null!==(n=this.diagram)&&(i?n.N():n.Vi(e)),kr(this,t,e),t},i.Fc=function(t,e,i){if(!i&&e.layer!==this&&null!==e.layer)return e.layer.Fc(t,e,i);var n=this.Ca;if(0>t||t>=n.length){if(0>(t=n.indexOf(e)))return-1}else if(n.L(t)!==e&&0>(t=n.indexOf(e)))return-1;return e.hq(i),n.jb(t),null!==(n=this.diagram)&&(i?n.N():n.Fc(e)),e.ni=null,t},c.Object.defineProperties(Tr.prototype,{parts:{get:function(){return this.Ca.iterator}},partsBackwards:{get:function(){return this.Ca.iteratorBackwards}},diagram:{get:function(){return this.B}},name:{get:function(){return this.Qa},set:function(t){var e=this.Qa;if(e!==t){var i=this.diagram;if(null!==i)for(""===e&&A("Cannot rename default Layer to: "+t),i=i.layers;i.next();)i.value.name===t&&A("Layer.name is already present in this diagram: "+t);for(this.Qa=t,this.g("name",e,t),t=this.Ca.iterator;t.next();)t.value.layerName=this.Qa}}},opacity:{get:function(){return this.ob},set:function(t){var e=this.ob;e!==t&&((0>t||1<t)&&x(t,"0 <= value <= 1",Tr,"opacity"),this.ob=t,this.g("opacity",e,t),null!==(t=this.diagram)&&t.N())}},isTemporary:{get:function(){return this.u},set:function(t){var e=this.u;e!==t&&(this.u=t,this.g("isTemporary",e,t))}},visible:{get:function(){return this.I},set:function(t){var e=this.I;if(e!==t){for(this.I=t,this.g("visible",e,t),e=this.Ca.iterator;e.next();)e.value.Nb(t);null!==(t=this.diagram)&&t.N()}}},pickable:{get:function(){return this.Ej},set:function(t){var e=this.Ej;e!==t&&(this.Ej=t,this.g("pickable",e,t))}},isBoundsIncluded:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t,null!==this.diagram&&this.diagram.Ta())}},allowCopy:{get:function(){return this.Lh},set:function(t){var e=this.Lh;e!==t&&(this.Lh=t,this.g("allowCopy",e,t))}},allowDelete:{get:function(){return this.Mh},set:function(t){var e=this.Mh;e!==t&&(this.Mh=t,this.g("allowDelete",e,t))}},allowTextEdit:{get:function(){return this.Vh},set:function(t){var e=this.Vh;e!==t&&(this.Vh=t,this.g("allowTextEdit",e,t))}},allowGroup:{get:function(){return this.Nh},set:function(t){var e=this.Nh;e!==t&&(this.Nh=t,this.g("allowGroup",e,t))}},allowUngroup:{get:function(){return this.Wh},set:function(t){var e=this.Wh;e!==t&&(this.Wh=t,this.g("allowUngroup",e,t))}},allowLink:{get:function(){return this.Oh},set:function(t){var e=this.Oh;e!==t&&(this.Oh=t,this.g("allowLink",e,t))}},allowRelink:{get:function(){return this.Qh},set:function(t){var e=this.Qh;e!==t&&(this.Qh=t,this.g("allowRelink",e,t))}},allowMove:{get:function(){return this.Ph},set:function(t){var e=this.Ph;e!==t&&(this.Ph=t,this.g("allowMove",e,t))}},allowReshape:{get:function(){return this.Rh},set:function(t){var e=this.Rh;e!==t&&(this.Rh=t,this.g("allowReshape",e,t))}},allowResize:{get:function(){return this.Sh},set:function(t){var e=this.Sh;e!==t&&(this.Sh=t,this.g("allowResize",e,t))}},allowRotate:{get:function(){return this.Th},set:function(t){var e=this.Th;e!==t&&(this.Th=t,this.g("allowRotate",e,t))}},allowSelect:{get:function(){return this.Uh},set:function(t){var e=this.Uh;e!==t&&(this.Uh=t,this.g("allowSelect",e,t))}}}),Tr.prototype.findObjectsNear=Tr.prototype.xg,Tr.prototype.findObjectsIn=Tr.prototype.wg,Tr.prototype.findObjectsAt=Tr.prototype.Ni,Tr.prototype.findObjectAt=Tr.prototype.Sb,Tr.className="Layer",Br.prototype.clear=function(){this.model.clear(),ss=null,as="",Or(this,!1),this.tn=new Rt(NaN,NaN,NaN,NaN).freeze(),this.N()},Br.prototype.reset=function(){this.Gb=!0,this.clear(),this.zc.Uc(),this.zc=new Jn,this.zc.Wd(this),this.Ka=new Z,this.Mv(),this.Lv(),this.la=new dt(NaN,NaN).freeze(),this.ya=1,this.Br=new dt(NaN,NaN).freeze(),this.Cr=NaN,this.Wr=1e-4,this.Ur=100,this.Ls=new dt(NaN,NaN).freeze(),this.sr=new Rt(NaN,NaN,NaN,NaN).freeze(),this.zi=new qt(0,0,0,0).freeze(),this.Ai=vs,this.us=!1,this.ps=this.ls=null,this.Jg=ls,this.gj=Se,this.Tf=ls,this.On=Se,this.Dr=this.Ar=ee,this.Wm=250,this.Xm=new qt(16,16,16,16).freeze(),this.Lr=!0,this.Gs=ys,this.Is=cs,this.sn="auto",this.$f=this.Zr=this.bg=this.cg=this.eg=this.Kf=this.Of=this.Jf=null,this.zr=!1,this.Lf=this.qg=this.dg=this.ag=null,this.Uf=!1,this.Mh=this.Lh=this.Jq=this.Lc=!0,this.Kq=!1,this.Pq=this.Mq=this.al=this.$k=this.Qq=this.Oq=this.Uh=this.Th=this.Sh=this.Rh=this.Ph=this.Qh=this.Oh=this.Nq=this.Wh=this.Nh=this.Vh=this.Lq=!0,this.ts=this.rs=16,this.bb=new qt(5).freeze(),this.Vr=999999999,this.hc=null,this.Mr=!1,this.Pb=1,this.qh=null,this.xo=0,this.yo=[0,0,0,0,0],this.zo=0,Lr(this),this.Fb=null,this.partManager=new nd,this.toolManager=new Mi,this.toolManager.initializeStandardTools(),this.fs=this.es=this.jr=null,this.Ep=!1,this.Mk.reset(),this.uu=new ct,this.uu.clear(),this.currentTool=this.defaultTool=this.toolManager,this.commandHandler=Pr(),this.lh=!0,Rr(this),this.layout=new Dc,this.lh=!1,this.model=Vd(),this.model.undoManager=new Si,this.Oe=!1,this.Xk=!0,this.Gb=this.cd=!1,this.N(),this.le=this.If=null,Io(this),this.cr=""},Br.prototype.setRTL=function(t){null===(t=void 0===t?this.div:t)&&(t=p.document.body);var e=v("div");e.dir="rtl",e.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",e.textContent="A",t.appendChild(e);var i="reverse";0<e.scrollLeft?i="default":(e.scrollLeft=1,0===e.scrollLeft&&(i="negative")),t.removeChild(e),this.xu=i},Br.prototype.setScrollWidth=function(t){null===(t=void 0===t?this.div:t)&&(t=p.document.body);var e=0;if(os){var i=rs;e=ns,null===i&&((i=rs=v("p")).style.width="100%",i.style.height="200px",i.style.boxSizing="content-box",(e=ns=v("div")).style.position="absolute",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.boxSizing="content-box",e.appendChild(i)),e.style.overflow="hidden",t.appendChild(e);var n=i.offsetWidth;e.style.overflow="scroll",n===(i=i.offsetWidth)&&(i=e.clientWidth),t.removeChild(e),0!==(e=n-i)||V||(e=11)}this.qb=e,this.Sw=!0},Br.prototype.cb=function(t){t.classType===Br&&(this.autoScale=t)},Br.prototype.toString=function(t){void 0===t&&(t=0);var e="";if(this.div&&this.div.id&&(e=this.div.id),e='Diagram "'+e+'"',0>=t)return e;for(var i=this.Ka.iterator;i.next();)e+="\n  "+i.value.toString(t-1);return e},Br.prototype.addEventListener=function(t,e,i,n){t.addEventListener(e,i,n)},Br.prototype.removeEventListener=function(t,e,i,n){t.removeEventListener(e,i,n)},Br.prototype.computePixelRatio=function(){return null!==this.qh?this.qh:p.devicePixelRatio||1},Br.prototype.doMouseMove=function(){this.currentTool.doMouseMove()},Br.prototype.doMouseDown=function(){this.currentTool.doMouseDown()},Br.prototype.doMouseUp=function(){this.currentTool.doMouseUp()},Br.prototype.doMouseWheel=function(){this.currentTool.doMouseWheel()},Br.prototype.doKeyDown=function(){this.currentTool.doKeyDown()},Br.prototype.doKeyUp=function(){this.currentTool.doKeyUp()},Br.prototype.doFocus=function(){this.focus()},Br.prototype.focus=function(){if(this.Ba)if(this.scrollsPageOnFocus)this.Ba.focus();else{var t=p.scrollX||p.pageXOffset,e=p.scrollY||p.pageYOffset;this.Ba.focus(),p.scrollTo(t,e)}},Br.prototype.Hy=function(){this.B.R("GainedFocus")},Br.prototype.Gy=function(){this.B.R("LostFocus")},Br.prototype.tx=function(t){if(null!==this.Ba){this.qs=!0;var e=this.documentBounds,i=this.viewportBounds,n=this.zi,r=e.x-n.left,o=e.y-n.top,s=e.width+n.left+n.right,a=e.height+n.top+n.bottom,l=e.right+n.right;n=e.bottom+n.bottom;var h=i.x;e=i.y;var u=i.width,c=i.height,d=i.right,p=i.bottom;i=this.scale;var f=t.scrollLeft;if(this.Tn)switch(this.xu){case"negative":f=f+t.scrollWidth-t.clientWidth;break;case"reverse":f=t.scrollWidth-f-t.clientWidth}var m=f;u<s||c<a?(f=dt.allocAt(this.position.x,this.position.y),this.allowHorizontalScroll&&this.Bu!==m&&(f.x=m/i+r,this.Bu=m),this.allowVerticalScroll&&this.Cu!==t.scrollTop&&(f.y=t.scrollTop/i+o,this.Cu=t.scrollTop),this.position=f,dt.free(f),this.oj=this.qs=!1):(f=dt.alloc(),t.ny&&this.allowHorizontalScroll&&(r<h&&(this.position=f.h(m+r,this.position.y)),l>d&&(this.position=f.h(-(this.ss.scrollWidth-this.va)+m-this.va/i+l,this.position.y))),t.oy&&this.allowVerticalScroll&&(o<e&&(this.position=f.h(this.position.x,t.scrollTop+o)),n>p&&(this.position=f.h(this.position.x,-(this.ss.scrollHeight-this.ua)+t.scrollTop-this.ua/i+n))),dt.free(f),lo(this),this.oj=this.qs=!1,e=this.documentBounds,i=this.viewportBounds,l=e.right,d=i.right,n=e.bottom,p=i.bottom,r=e.x,h=i.x,o=e.y,e=i.y,u>=s&&r>=h&&l<=d&&(this.lp.style.width="1px"),c>=a&&o>=e&&n<=p&&(this.lp.style.height="1px"))}},Br.prototype.computeBounds=function(){return 0<this.Gd.count&&io(this),Vr(this)},Br.prototype.computePartsBounds=function(t,e){void 0===e&&(e=!1);var i=null;if(E(t))for(var n=0;n<t.length;n++){var r=t[n];!e&&r instanceof Lu||(r.zb(),null===i?i=r.actualBounds.copy():i.Hc(r.actualBounds))}else for(t=t.iterator;t.next();)n=t.value,!e&&n instanceof Lu||(n.zb(),null===i?i=n.actualBounds.copy():i.Hc(n.actualBounds));return null===i?new Rt(NaN,NaN,0,0):i},Br.prototype.zoomToFit=function(){var t=this.Ai;this.Ai=vs,this.scale=Gr(this,hs),t!==vs&&(jr(this,!1),zr(this,this.documentBounds,this.va/this.ya,this.ua/this.ya,this.gj,!1)),this.Ai=t},(i=Br.prototype).tA=function(t,e){void 0===e&&(e=hs);var i=t.width,n=t.height;if(!(0===i||0===n||isNaN(i)&&isNaN(n))){var r=1;if(e===hs||e===us)if(isNaN(i))r=this.viewportBounds.height*this.scale/n;else if(isNaN(n))r=this.viewportBounds.width*this.scale/i;else{r=this.va;var o=this.ua;r=e===us?o/n>r/i?(o-(this.Ne?this.qb:0))/n:(r-(this.Rf?this.qb:0))/i:Math.min(o/n,r/i)}this.scale=r,this.position=new dt(t.x,t.y)}},i.By=function(t,e){Bo(this);var i=this.documentBounds,n=this.viewportBounds;this.position=new dt(i.x+(t.x*i.width+t.offsetX)-(e.x*n.width-e.offsetX),i.y+(t.y*i.height+t.offsetY)-(e.y*n.height-e.offsetY))},i.oz=function(t){if(t instanceof Rs){this.ur=t;var e=dt.alloc();this.vr=this.Cq(t.ga(ee,e)),dt.free(e)}else this.ur=null,this.vr=Ot},i.em=function(t,e){if(void 0===e&&(e=!0),e){if((t=Qr(this,t,function(t){return t.part},function(t){return t.canSelect()}))instanceof Xh)return t}else if((t=Qr(this,t,function(t){return t.part}))instanceof Xh)return t;return null},i.Sb=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),io(this);for(var n=this.Ka.iteratorBackwards;n.next();){var r=n.value;if(r.visible&&null!==(r=r.Sb(t,e,i)))return r}return null},i.cz=function(t,e,i){return void 0===e&&(e=!0),function(t,e,i,n,r){for(void 0===i&&(i=null),void 0===n&&(n=null),r instanceof Z||r instanceof et||(r=new et),io(t),t=t.Ka.iteratorBackwards;t.next();){var o=t.value;o.visible&&!o.isTemporary&&o.Ni(e,i,n,r)}return r}(this,t,function(t){return t.part},e?function(t){return t instanceof Xh&&t.canSelect()}:null,i)},i.Ni=function(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=null),n instanceof Z||n instanceof et||(n=new et),io(this);for(var r=this.Ka.iteratorBackwards;r.next();){var o=r.value;o.visible&&o.Ni(t,e,i,n)}return n},i.Ax=function(t,e,i,n){return void 0===e&&(e=!1),void 0===i&&(i=!0),function(t,e,i,n,r){var o=null;for(void 0===o&&(o=null),void 0===i&&(i=null),void 0===n&&(n=!1),r instanceof Z||r instanceof et||(r=new et),io(t),t=t.Ka.iteratorBackwards;t.next();){var s=t.value;s.visible&&!s.isTemporary&&s.wg(e,o,i,n,r)}return r}(this,t,function(t){return t instanceof Xh&&(!i||t.canSelect())},e,n)},i.wg=function(t,e,i,n,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=!1),r instanceof Z||r instanceof et||(r=new et),io(this);for(var o=this.Ka.iteratorBackwards;o.next();){var s=o.value;s.visible&&s.wg(t,e,i,n,r)}return r},i.dz=function(t,e,i,n,r){return void 0===i&&(i=!0),void 0===n&&(n=!0),function(t,e,i,n,r,o){var s=null;void 0===s&&(s=null),void 0===n&&(n=null),void 0===r&&(r=!0),!1!==r&&!0!==r&&((r instanceof Z||r instanceof et)&&(o=r),r=!0);for(o instanceof Z||o instanceof et||(o=new et),io(t),t=t.Ka.iteratorBackwards;t.next();){var a=t.value;a.visible&&!a.isTemporary&&a.xg(e,i,s,n,r,o)}return o}(this,t,e,function(t){return t instanceof Xh&&(!n||t.canSelect())},i,r)},i.xg=function(t,e,i,n,r,o){void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=!0),!1!==r&&!0!==r&&((r instanceof Z||r instanceof et)&&(o=r),r=!0),o instanceof Z||o instanceof et||(o=new et),io(this);for(var s=this.Ka.iteratorBackwards;s.next();){var a=s.value;a.visible&&a.xg(t,e,i,n,r,o)}return o},Br.prototype.acceptEvent=function(t){return Yr(this,t,t instanceof MouseEvent)},Br.prototype.Mz=function(t){var e=this.B;if(!this.B.isEnabled)return!1;var i=Yr(e,t,!1);switch(i.key=String.fromCharCode(t.which),i.down=!0,t.which){case 8:i.key="Backspace";break;case 33:i.key="PageUp";break;case 34:i.key="PageDown";break;case 35:i.key="End";break;case 36:i.key="Home";break;case 37:i.key="Left";break;case 38:i.key="Up";break;case 39:i.key="Right";break;case 40:i.key="Down";break;case 45:i.key="Insert";break;case 46:i.key="Del";break;case 48:i.key="0";break;case 187:case 61:case 107:i.key="Add";break;case 189:case 173:case 109:i.key="Subtract";break;case 27:i.key="Esc"}return e.doKeyDown(),qr(i,t)},Br.prototype.Nz=function(t){var e=this.B;if(!e.isEnabled)return!1;var i=Yr(e,t,!1);switch(i.key=String.fromCharCode(t.which),i.up=!0,t.which){case 8:i.key="Backspace";break;case 33:i.key="PageUp";break;case 34:i.key="PageDown";break;case 35:i.key="End";break;case 36:i.key="Home";break;case 37:i.key="Left";break;case 38:i.key="Up";break;case 39:i.key="Right";break;case 40:i.key="Down";break;case 45:i.key="Insert";break;case 46:i.key="Del"}return e.doKeyUp(),qr(i,t)},Br.prototype.Ty=function(t){var e=this.B;if(!e.isEnabled)return!1;var i=Yr(e,t,!0);return null!==e.mouseEnter&&e.mouseEnter(i),qr(i,t)},Br.prototype.Uy=function(t){var e=this.B;if(!e.isEnabled)return!1;var i=Yr(e,t,!0);return null!==e.mouseLeave&&e.mouseLeave(i),qr(i,t)},Br.prototype.getMouse=function(t){var e=this.Ba;if(null===e)return new dt(0,0);var i=e.getBoundingClientRect();return e=t.clientX-this.va/i.width*i.left,t=t.clientY-this.ua/i.height*i.top,null!==this.rb?gt(new dt(e,t),this.rb):new dt(e,t)},(i=Br.prototype).Ta=function(){this.nj||(this.nj=!0,this.Xb(!0))},i.wf=function(){this.Gb||this.$b||(this.N(),ao(this),lo(this),this.Ta(),this.ud())},i.Lz=function(){return this.cd},i.Oy=function(t){void 0===t&&(t=null);var e=this.animationManager,i=e.isEnabled;e.Uc(),e.isEnabled=!1,eo(this),this.Oe=!1,e.isEnabled=i,null!==t&&g(function(){Zn(e,"Model"),t()},1)},i.Xb=function(t){if(void 0===t&&(t=!1),!0!==this.cd&&!(this.Gb||!1===t&&this.$b)){this.cd=!0;var e=this;p.requestAnimationFrame(function(){e.cd&&e.ud()})}},i.ud=function(){this.Xk&&!this.cd||(this.Xk&&(this.Xk=!1),eo(this))},i.fw=function(t,e){for(t.reset();t.next();){var i=t.value;!i.Ub()||i instanceof ku||(i.Wi()?(i.measure(1/0,1/0),i.arrange()):e.add(i))}for(t.reset();t.next();)(i=t.value)instanceof ku&&i.isVisible()&&no(this,i);for(t.reset();t.next();)(i=t.value)instanceof Lu&&i.isVisible()&&(i.Wi()?(i.measure(1/0,1/0),i.arrange()):e.add(i));for(t.reset();t.next();)(i=t.value)instanceof fu&&i.isVisible()&&(i.Wi()?(i.measure(1/0,1/0),i.arrange()):e.add(i))},i.xd=function(t,e,i,n){if(this.hi||this.animationManager.isAnimating)for(var r=0;r<e;r++)t[r].xd(i,n)},i.tb=function(t,e){if(void 0===e&&(e=null),null!==this.Fa){null===this.Ba&&A("No canvas specified");var i=this.animationManager;if(!i.ic&&(!i.isAnimating||i.isTicking)){var n=new Date;if(ho(this),"0"!==this.Fa.style.opacity){var r=t!==this.Xc,o=this.Ka.j,s=o.length,a=this;if(this.xd(o,s,a),r)t.Qc(!0),lo(this);else if(!this.nc&&null===e&&!i.isAnimating)return;s=this.la;var l=this.ya,h=Math.round(s.x*l)/l,u=Math.round(s.y*l)/l;for((i=this.rb).reset(),1!==l&&i.scale(l),0===s.x&&0===s.y||i.translate(-h,-u),l=this.Pb,t.setTransform(1,0,0,1,0,0),t.scale(l,l),t.clearRect(0,0,this.va,this.ua),t.setTransform(1,0,0,1,0,0),t.scale(l,l),t.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),oo(this,t),t.globalAlpha=this.ob,h=null!==e?function(i){var n=e;if(i.visible&&0!==i.ob){var r=i.Ca.j,o=r.length;if(0!==o){var s=_r(i,t);(i=i.No).length=0;for(var l=a.scale,h=0;h<o;h++){var u=r[h];if(hu(u)&&!n.contains(u)){if(u instanceof Lu&&(u.isOrthogonal&&i.push(u),!1===u.yc))continue;var c=u.actualBounds;c.width*l>a.ke||c.height*l>a.ke?u.tb(t,a):Mr(t,u)}}t.globalAlpha=s}}}:function(e){e.tb(t,a)},s=o.length,u=0;u<s;u++)t.setTransform(1,0,0,1,0,0),t.scale(l,l),t.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),h(o[u]);if(this.gi&&Ts(this.gi,this)&&this.kr(),r?(this.Xc.Qc(!0),lo(this)):this.nc=this.hi=!1,r=+new Date-+n,null===this.qh){for((n=this.yo)[this.zo]=r,this.zo=(this.zo+1)%n.length,o=r=0;o<this.yo.length;o++)r+=this.yo[o];this.xo=r/n.length}}}}},i.xe=function(t){return this.lg[t]},i.Xx=function(t,e){"minDrawingLength"===t&&(this.ke=e),this.lg[t]=e,this.wf()},i.Mv=function(){this.lg=new K,this.lg.drawShadows=!0,this.lg.textGreeking=!0,this.lg.viewportOptimizations=!(V||R||F),this.lg.temporaryPixelRatio=!0,this.lg.pictureRatioOptimization=!0,this.ke=this.lg.minDrawingLength=1},i.gm=function(t){return this.hl[t]},i.iA=function(t,e){this.hl[t]=e},i.Lv=function(){this.hl=new K,this.hl.extraTouchArea=10,this.hl.extraTouchThreshold=10,this.hl.hasGestureZoom=!0},i.Uv=function(t){so(this,t)},i.Su=function(){if(0===this.undoManager.transactionLevel&&0!==this.di.count){for(;0<this.di.count;){var t=this.di;for(this.di=new ct,t=t.iterator;t.next();){var e=t.key;e.iq(t.value),e.bc()}}this.N()}},i.N=function(t){if(void 0===t&&(t=null),null===t)this.nc=!0,this.Xb();else{var e=this.viewportBounds;null!==t&&t.v()&&e.Gc(t)&&(this.nc=!0,this.Xb())}this.R("InvalidateDraw")},i.Fx=function(t,e){if(!0!==this.nc){this.nc=!0;var i=!0===this.xe("temporaryPixelRatio");if(!0===this.xe("viewportOptimizations")&&this.scrollMode!==As&&this.zi.Li(0,0,0,0)&&e.width===t.width&&e.height===t.height){var n=this.scale,r=Math.max(t.x,e.x),o=Math.max(t.y,e.y);if(n=Rt.allocAt(r,o,Math.max(0,Math.min(t.x+t.width,e.x+e.width)-r)*n,Math.max(0,Math.min(t.y+t.height,e.y+e.height)-o)*n),!this.Cs&&0<n.width&&0<n.height){if(!(this.$b||(this.cd=!1,null===this.Fa||(this.$b=!0,this.Su(),this.documentBounds.v()||ko(this,this.computeBounds()),r=this.Ba,null===r||r instanceof va)))){var s=this.Pb;o=this.va*s;var a=this.ua*s,l=this.scale*s,h=Math.round(Math.round(e.x*l)-Math.round(t.x*l));e=Math.round(Math.round(e.y*l)-Math.round(t.y*l)),l=this.Wt,t=this.Bw,l.width!==o&&(l.width=o),l.height!==a&&(l.height=a),t.clearRect(0,0,o,a),l=190*s;var u=70*s,c=Math.max(h,0),d=Math.max(e,0),p=Math.floor(o-c),f=Math.floor(a-d);t.drawImage(r.Da,c,d,p,f,0,0,p,f),Ts(this.gi,this)&&t.clearRect(0,0,l,u),r=M(),t=M(),f=Math.abs(h),p=Math.abs(e);var m=0===c?0:o-f;c=dt.allocAt(m,0),f=dt.allocAt(f+m,a),t.push(new Rt(Math.min(c.x,f.x),Math.min(c.y,f.y),Math.abs(c.x-f.x),Math.abs(c.y-f.y)));var g=this.rb;if(g.reset(),g.scale(s,s),1!==this.ya&&g.scale(this.ya),(0!==(s=this.la).x||0!==s.y)&&isFinite(s.x)&&isFinite(s.y)&&g.translate(-s.x,-s.y),gt(c,g),gt(f,g),r.push(new Rt(Math.min(c.x,f.x),Math.min(c.y,f.y),Math.abs(c.x-f.x),Math.abs(c.y-f.y))),m=0===d?0:a-p,c.h(0,m),f.h(o,p+m),t.push(new Rt(Math.min(c.x,f.x),Math.min(c.y,f.y),Math.abs(c.x-f.x),Math.abs(c.y-f.y))),gt(c,g),gt(f,g),r.push(new Rt(Math.min(c.x,f.x),Math.min(c.y,f.y),Math.abs(c.x-f.x),Math.abs(c.y-f.y))),Ts(this.gi,this)&&(o=0<h?0:-h,a=0<e?0:-e,c.h(o,a),f.h(l+o,u+a),t.push(new Rt(Math.min(c.x,f.x),Math.min(c.y,f.y),Math.abs(c.x-f.x),Math.abs(c.y-f.y))),gt(c,g),gt(f,g),r.push(new Rt(Math.min(c.x,f.x),Math.min(c.y,f.y),Math.abs(c.x-f.x),Math.abs(c.y-f.y)))),dt.free(c),dt.free(f),to(this,!1,!0),null===this.Fa&&A("No div specified"),null===this.Ba&&A("No canvas specified"),!this.animationManager.ic&&(o=this.Xc,this.nc)){for(ho(this),a=this.Pb,o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,this.va*a,this.ua*a),o.drawImage(this.Wt.Da,0<h?0:Math.round(-h),0<e?0:Math.round(-e)),h=this.la,s=this.ya,l=Math.round(h.x*s)/s,u=Math.round(h.y*s)/s,(e=this.rb).reset(),1!==s&&e.scale(s),0===h.x&&0===h.y||e.translate(-l,-u),o.save(),o.beginPath(),h=t.length,s=0;s<h;s++)0!==(l=t[s]).width&&0!==l.height&&o.rect(Math.floor(l.x),Math.floor(l.y),Math.ceil(l.width),Math.ceil(l.height));for(o.clip(),o.setTransform(1,0,0,1,0,0),o.scale(a,a),o.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy),h=(e=this.Ka.j).length,this.xd(e,h,this),oo(this,o),o.globalAlpha=this.ob,a=0;a<h;a++)if(s=r,(c=e[a]).visible&&0!==c.ob){for(l=_r(c,o),(u=c.No).length=0,d=this.scale,p=(c=c.Ca.j).length,f=s.length,g=0;g<p;g++)if(hu(m=c[g])){if(m instanceof Lu&&(m.isOrthogonal&&u.push(m),!1===m.yc))continue;var v=Jh(m,m.actualBounds);t:{for(var y=2/d,x=4/d,b=0;b<f;b++){var C=s[b];if(0!==C.width&&0!==C.height&&v.qv(C.x-y,C.y-y,C.width+x,C.height+x)){y=!0;break t}}y=!1}y&&(v.width*d>this.ke||v.height*d>this.ke?m.tb(o,this):Mr(o,m))}o.globalAlpha=l}o.restore(),o.Qc(!0),this.gi&&Ts(this.gi,this)&&this.kr(),this.nc=this.hi=!1,this.tt()}k(r),k(t),this.$b=!1}}else this.ud();Rt.free(n),i&&(Nr(this),this.ud(),Ir(this,!0))}else i?(Nr(this),this.ud(),Ir(this,!0)):this.ud()}},i.add=function(t){var e=t.diagram;if(e!==this&&(null!==e&&A("Cannot add part "+t.toString()+" to "+this.toString()+". It is already a part of "+e.toString()),null===(e=this.dm(t.layerName))&&(e=this.dm("")),null===e&&A('Cannot add a Part when unable find a Layer named "'+t.layerName+'" and there is no default Layer'),t.layer!==e)){var i=e.Vi(99999999,t,t.diagram===this);0<=i&&this.Ya(Ci,"parts",e,null,t,null,i),e.isTemporary||this.Ta(),t.C(1),null!==(i=t.layerChanged)&&i(t,null,e)}},i.Vi=function(t){this.partManager.Vi(t);var e=this;El(t,function(t){To(e,t)}),(t instanceof fu||t instanceof ku&&null!==t.placeholder)&&t.o(),null!==t.data&&El(t,function(t){ld(e.partManager,t)}),!0!==ra(t)&&!0!==su(t)||this.Gd.add(t),nu(t,!0,this),cu(t)?(t.actualBounds.v()&&this.N(Jh(t,t.actualBounds)),this.Ta()):t.isVisible()&&t.actualBounds.v()&&this.N(Jh(t,t.actualBounds)),this.Xb()},i.Fc=function(t){t.Tj(),this.partManager.Fc(t);var e=this;null!==t.data&&El(t,function(t){hd(e.partManager,t,e)}),this.Gd.remove(t),cu(t)?(t.actualBounds.v()&&this.N(Jh(t,t.actualBounds)),this.Ta()):t.isVisible()&&t.actualBounds.v()&&this.N(Jh(t,t.actualBounds)),this.Xb()},i.remove=function(t){po(this,t,!0)},i.vt=function(t,e){if(E(t))for(var i=t.length,n=0;n<i;n++){var r=t[n];e&&!r.canDelete()||this.remove(r)}else for((i=new et).addAll(t),t=i.iterator;t.next();)i=t.value,e&&!i.canDelete()||this.remove(i)},i.Yj=function(t,e,i){return this.partManager.Yj(t,e,i)},Br.prototype.moveParts=function(t,e,i,n){if(void 0===n&&(n=go(this)),null!==this.toolManager){var r=new ct;if(null!==t)if(E(t))for(var o=0;o<t.length;o++)fo(this,r,t[o],i,n);else for(t=t.iterator;t.next();)fo(this,r,t.value,i,n);else{for(t=this.parts;t.next();)fo(this,r,t.value,i,n);for(t=this.nodes;t.next();)fo(this,r,t.value,i,n);for(t=this.links;t.next();)fo(this,r,t.value,i,n)}mo(this,r,e,n,i)}},Br.prototype.computeMove=function(t,e,i,n){if(void 0===n&&(n=new dt),n.assign(e),null===t)return n;var r=e,o=i.isGridSnapEnabled;o&&(i.isGridSnapRealtime||this.lastInput.up)&&vo(this,t,e,r=dt.alloc(),i),i=null!==t.dragComputation?t.dragComputation(t,e,r):r;var s=t.minLocation,a=s.x;isNaN(a)&&(a=o?Math.round(t.location.x):t.location.x),s=s.y,isNaN(s)&&(s=o?Math.round(t.location.y):t.location.y);var l=t.maxLocation,h=l.x;return isNaN(h)&&(h=o?Math.round(t.location.x):t.location.x),l=l.y,isNaN(l)&&(l=o?Math.round(t.location.y):t.location.y),n.h(Math.max(a,Math.min(i.x,h)),Math.max(s,Math.min(i.y,l))),r!==e&&dt.free(r),n},(i=Br.prototype).qd=function(t,e,i){if(void 0===i)return new Ms(_t);var n=t.isGridSnapEnabled;return t.Cz||null===e.containingGroup||(n=!1),new Ms(n?new dt(Math.round(i.x),Math.round(i.y)):i.copy())},i.Vl=function(t){bo(this,t,null),t.Wd(this);var e=this.Ka,i=e.count-1;if(!t.isTemporary)for(;0<=i&&e.L(i).isTemporary;)i--;e.Kb(i+1,t),null!==this.ac&&this.Ya(Ci,"layers",this,null,t,null,i+1),this.N(),this.Ta()},i.hx=function(t,e){bo(this,t,e),t.Wd(this);var i=this.Ka,n=i.indexOf(t);0<=n&&(i.remove(t),null!==this.ac&&this.Ya(wi,"layers",this,t,null,n,null));var r,o=i.count;for(r=0;r<o;r++)if(i.L(r)===e){i.Kb(r,t);break}null!==this.ac&&this.Ya(Ci,"layers",this,null,t,null,r),this.N(),0>n&&this.Ta()},i.vy=function(t,e){bo(this,t,e),t.Wd(this);var i=this.Ka,n=i.indexOf(t);0<=n&&(i.remove(t),null!==this.ac&&this.Ya(wi,"layers",this,t,null,n,null));var r,o=i.count;for(r=0;r<o;r++)if(i.L(r)===e){i.Kb(r+1,t);break}null!==this.ac&&this.Ya(Ci,"layers",this,null,t,null,r+1),this.N(),0>n&&this.Ta()},i.bA=function(t){if(t.diagram!==this&&A("Cannot remove a Layer from another Diagram: "+t+" of "+t.diagram),""!==t.name){var e=this.Ka,i=e.indexOf(t);if(e.remove(t)){for(e=t.Ca.copy().iterator;e.next();){var n=e.value,r=n.layerName;r!==t.name?n.layerName=r:n.layerName=""}null!==this.ac&&this.Ya(wi,"layers",this,t,null,i,null),this.N(),this.Ta()}}},i.dm=function(t){for(var e=this.layers;e.next();){var i=e.value;if(i.name===t)return i}return null},i.jx=function(t){null===this.le&&(this.le=new Z),this.le.add(t),this.model.yh(t)},i.dA=function(t){null!==this.le&&(this.le.remove(t),0===this.le.count&&(this.le=null)),this.model.rk(t)},i.yh=function(t){null===this.If&&(this.If=new Z),this.If.add(t)},i.rk=function(t){null!==this.If&&(this.If.remove(t),0===this.If.count&&(this.If=null))},i.Ns=function(t){if(this.skipsUndoManager||this.model.skipsUndoManager||this.model.undoManager.ov(t),t.change!==xi&&(this.isModified=!0),null!==this.If)for(var e=this.If,i=e.length,n=0;n<i;n++)e.L(n)(t)},i.Ya=function(t,e,i,n,r,o,s){void 0===o&&(o=null),void 0===s&&(s=null);var a=new yi;a.diagram=this,a.change=t,a.propertyName=e,a.object=i,a.oldValue=n,a.oldParam=o,a.newValue=r,a.newParam=s,this.Ns(a)},i.g=function(t,e,i,n,r){this.Ya(bi,t,this,e,i,n,r)},i.Sj=function(t,e){if(null!==t&&t.diagram===this){var i=this.skipsModelSourceBindings;try{this.skipsModelSourceBindings=!0;var n=t.change;if(n===bi){var r=t.object;if(Qd(r,t.propertyName,t.H(e)),r instanceof Rs){var o=r.part;null!==o&&o.Lb()}this.isModified=!0}else if(n===Ci){var s=t.object,a=t.newParam,l=t.newValue;if(s instanceof Al){if("number"==typeof a&&l instanceof Rs){e?s.Fc(a):s.Kb(a,l);var h=s.part;null!==h&&h.Lb()}else if("number"==typeof a&&l instanceof Ul)if(e)l.isRow?s.Jv(a):s.Hv(a);else{var u=l.isRow?s.getRowDefinition(l.index):s.getColumnDefinition(l.index);u.Qs(l)}}else if(s instanceof Tr){var c=!0===t.oldParam;"number"==typeof a&&l instanceof Xh&&(e?(l.isSelected=!1,l.isHighlighted=!1,l.Lb(),s.Fc(c?a:-1,l,c)):s.Vi(a,l,c))}else s instanceof Br?"number"==typeof a&&l instanceof Tr&&(e?this.Ka.jb(a):(l.Wd(this),this.Ka.Kb(a,l))):A("unknown ChangedEvent.Insert object: "+t.toString());this.isModified=!0}else if(n===wi){var d=t.object,p=t.oldParam,f=t.oldValue;if(d instanceof Al)"number"==typeof p&&f instanceof Rs?e?d.Kb(p,f):d.Fc(p):"number"==typeof p&&f instanceof Ul&&(e?(u=f.isRow?d.getRowDefinition(f.index):d.getColumnDefinition(f.index)).Qs(f):f.isRow?d.Jv(p):d.Hv(p));else if(d instanceof Tr){var m=!0===t.newParam;"number"==typeof p&&f instanceof Xh&&(e?0>d.Ca.indexOf(f)&&d.Vi(p,f,m):(f.isSelected=!1,f.isHighlighted=!1,f.Lb(),d.Fc(m?p:-1,f,m)))}else d instanceof Br?"number"==typeof p&&f instanceof Tr&&(e?(f.Wd(this),this.Ka.Kb(p,f)):this.Ka.jb(p)):A("unknown ChangedEvent.Remove object: "+t.toString());this.isModified=!0}else n!==xi&&A("unknown ChangedEvent: "+t.toString())}finally{this.skipsModelSourceBindings=i}}},i.ta=function(t){return this.undoManager.ta(t)},i.Ua=function(t){return this.undoManager.Ua(t)},i.yf=function(){return this.undoManager.yf()},Br.prototype.commit=function(t,e){void 0===e&&(e="");var i=this.skipsUndoManager;null===e&&(this.skipsUndoManager=!0,e=""),this.undoManager.ta(e);var n=!1;try{t(this),n=!0}finally{n?this.undoManager.Ua(e):this.undoManager.yf(),this.skipsUndoManager=i}},Br.prototype.updateAllTargetBindings=function(t){this.partManager.updateAllTargetBindings(t)},(i=Br.prototype).Eq=function(){this.partManager.Eq()},i.qq=function(t,e,i,n){if(!t.A(e)){void 0===n&&(n=!1),n||ao(this),lo(this);var r=this.layout;null===r||!r.isViewportSized||this.autoScale!==ls||n||t.width===e.width&&t.height===e.height||r.C(),r=this.currentTool,!0===this.Yg&&r instanceof Mi&&(this.lastInput.documentPoint=this.Bt(this.lastInput.viewPoint),ki(r,this)),this.Gb||this.Fx(t,e),wo(this),this.te.scale=i,this.te.position.x=t.x,this.te.position.y=t.y,this.te.bounds.assign(t),this.te.Hx=n,this.R("ViewportBoundsChanged",this.te,t),this.isVirtualized&&this.links.each(function(t){t.isAvoiding&&t.actualBounds.Gc(e)&&t.Na()})}},i.Tu=function(){var t=0<this.selection.count;t&&this.R("ChangingSelection",this.selection),Eo(this),t&&this.R("ChangedSelection",this.selection)},i.select=function(t){null!==t&&t.layer.diagram===this&&(!t.isSelected||1<this.selection.count)&&(this.R("ChangingSelection",this.selection),Eo(this),t.isSelected=!0,this.R("ChangedSelection",this.selection))},i.hA=function(t){if(this.R("ChangingSelection",this.selection),Eo(this),E(t))for(var e=t.length,i=0;i<e;i++){var n=t[i];n instanceof Xh||A("Diagram.selectCollection given something that is not a Part: "+n),n.isSelected=!0}else for(t=t.iterator;t.next();)(e=t.value)instanceof Xh||A("Diagram.selectCollection given something that is not a Part: "+e),e.isSelected=!0;this.R("ChangedSelection",this.selection)},i.mx=function(){var t=this.highlighteds;if(0<t.count){for(var e=t.ma(),i=e.length,n=0;n<i;n++)e[n].isHighlighted=!1;t.ea(),t.clear(),t.freeze()}},i.Ez=function(t){null!==t&&t.layer.diagram===this&&(!t.isHighlighted||1<this.highlighteds.count)&&(this.mx(),t.isHighlighted=!0)},i.Fz=function(t){t=(new et).addAll(t);for(var e=this.highlighteds.copy().uq(t).iterator;e.next();)e.value.isHighlighted=!1;for(t=t.iterator;t.next();)(e=t.value)instanceof Xh||A("Diagram.highlightCollection given something that is not a Part: "+e),e.isHighlighted=!0},i.scroll=function(t,e,i){void 0===i&&(i=1);var n="up"===e||"down"===e,r=0;if("pixel"===t)r=i;else if("line"===t)r=i*(n?this.scrollVerticalLineChange:this.scrollHorizontalLineChange);else if("page"===t)t=n?this.viewportBounds.height:this.viewportBounds.width,0!==(t*=this.scale)&&(r=i*Math.max(t-(n?this.scrollVerticalLineChange:this.scrollHorizontalLineChange),0));else{if("document"===t)return r=this.documentBounds,i=this.viewportBounds,n=dt.alloc(),"up"===e?this.position=n.h(i.x,r.y):"left"===e?this.position=n.h(r.x,i.y):"down"===e?this.position=n.h(i.x,r.bottom-i.height):"right"===e&&(this.position=n.h(r.right-i.width,i.y)),void dt.free(n);A("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+t)}r/=this.scale,i=this.position.copy(),"up"===e?i.y=this.position.y-r:"down"===e?i.y=this.position.y+r:"left"===e?i.x=this.position.x-r:"right"===e?i.x=this.position.x+r:A("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+e),this.position=i},i.Ov=function(t){var e=this.viewportBounds;e.nf(t)||((t=t.center).x-=e.width/2,t.y-=e.height/2,this.position=t)},i.Os=function(t){var e=this.viewportBounds;(t=t.center).x-=e.width/2,t.y-=e.height/2,this.position=t},i.Cq=function(t){var e=this.rb;e.reset(),1!==this.ya&&e.scale(this.ya);var i=this.la;return(0!==i.x||0!==i.y)&&isFinite(i.x)&&isFinite(i.y)&&e.translate(-i.x,-i.y),t.copy().transform(this.rb)},i.qA=function(t){var e=this.rb,i=t.x,n=t.y,r=i+t.width,o=n+t.height,s=e.m11,a=e.m12,l=e.m21,h=e.m22,u=e.dx,c=e.dy,d=i*s+n*l+u;e=i*a+n*h+c;var p=r*s+n*l+u;return t=r*a+n*h+c,n=i*s+o*l+u,i=i*a+o*h+c,s=r*s+o*l+u,r=r*a+o*h+c,o=Math.min(d,p),d=Math.max(d,p),p=Math.min(e,t),e=Math.max(e,t),o=Math.min(o,n),d=Math.max(d,n),p=Math.min(p,i),e=Math.max(e,i),o=Math.min(o,s),d=Math.max(d,s),new Rt(o,p=Math.min(p,r),d-o,(e=Math.max(e,r))-p)},i.Bt=function(t){var e=this.rb;e.reset(),1!==this.ya&&e.scale(this.ya);var i=this.la;return(0!==i.x||0!==i.y)&&isFinite(i.x)&&isFinite(i.y)&&e.translate(-i.x,-i.y),gt(t.copy(),this.rb)},Br.prototype.doModelChanged=function(t){if(t.model===this.model){var e=t.change,i=t.propertyName;if(e===xi&&"S"===i[0])if("StartingFirstTransaction"===i){var n=this;(t=this.toolManager).mouseDownTools.each(function(t){t.diagram=n}),t.mouseMoveTools.each(function(t){t.diagram=n}),t.mouseUpTools.each(function(t){t.diagram=n}),this.$b||this.Oe||(this.Sk=!0,this.Xk&&(this.cd=!0))}else"StartingUndo"===i||"StartingRedo"===i?((t=this.animationManager).defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.Uc(),this.R("ChangingSelection",this.selection)):"StartedTransaction"===i&&((t=this.animationManager).defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.Uc());else if(this.aa){this.aa=!1;try{if(""===t.modelChange&&e===xi){"FinishedUndo"!==i&&"FinishedRedo"!==i||(this.R("ChangedSelection",this.selection),io(this));var r=this.animationManager;"RolledBackTransaction"===i&&r.Uc(),this.Sk=!0,this.ud(),0!==this.undoManager.transactionLevel&&1!==this.undoManager.transactionLevel||er(r),"CommittedTransaction"===i&&this.undoManager.gu&&(this.fe=Math.min(this.fe,this.undoManager.historyIndex-1));var o=t.isTransactionFinished;if(o&&(So(this),this.kt.clear(),function(t){for(t=t.xk.iterator;t.next();)t.value.ll=!1}(this.animationManager)),!this.nu&&o){this.nu=!0;var s=this;g(function(){s.currentTool.standardMouseOver(),s.nu=!1},10)}}}finally{this.aa=!0}}}},Br.prototype.wd=function(){this.partManager.wd()},Br.prototype.Nj=function(t,e){this.zc.Nj(t,e)},Br.prototype.Pj=function(t,e){this.zc.Pj(t,e)},Br.prototype.findPartForKey=function(t){return this.partManager.findPartForKey(t)},Br.prototype.Jb=function(t){return this.partManager.Jb(t)},Br.prototype.findLinkForKey=function(t){return this.partManager.findLinkForKey(t)},(i=Br.prototype).vc=function(t){return this.partManager.vc(t)},i.Mi=function(t){return this.partManager.Mi(t)},i.uc=function(t){return this.partManager.uc(t)},i.Ws=function(t){for(var e=[],i=0;i<arguments.length;++i)e[i]=arguments[i];return this.partManager.Ws.apply(this.partManager,e instanceof Array?e:r(n(e)))},i.Vs=function(t){for(var e=[],i=0;i<arguments.length;++i)e[i]=arguments[i];return this.partManager.Vs.apply(this.partManager,e instanceof Array?e:r(n(e)))},i.hz=function(){for(var t=new et,e=this.nodes;e.next();){var i=e.value;i.isTopLevel&&t.add(i)}for(e=this.links;e.next();)(i=e.value).isTopLevel&&t.add(i);return t.iterator},i.gz=function(){return this.Fi.iterator},i.Qz=function(t){io(this),t&&Oo(this,!0),this.Sk=!0,eo(this)},i.nz=function(){for(var t=new Z,e=this.nodes;e.next();){var i=e.value;i.isTopLevel&&null===i.Pi()&&t.add(i)}return t.iterator},i.Oj=function(t,e){null!==(t=Ro(this,t))&&t.add(e)},i.sm=function(t,e){null!==(t=Ro(this,t))&&t.remove(e)},i.R=function(t,e,i){var n=Ro(this,t),r=new Ai;if(r.diagram=this,null!==(t=Do(this,t))&&(r.name=t),void 0!==e&&(r.subject=e),void 0!==i&&(r.parameter=i),1===(e=n.length))n.L(0)(r);else if(0!==e)for(n=n.ma(),i=0;i<e;i++)(0,n[i])(r)},i.gk=function(t,e){return void 0===e&&(e=null),Ho(this,!1,null,e).gk(t.x,t.y,t.width,t.height)},Br.prototype.computeOccupiedArea=function(){return this.isVirtualized?this.viewportBounds.copy():this.nj?Vr(this):this.documentBounds.copy()},(i=Br.prototype).Ss=function(t){this.Sq.assign(t),jo(this,this.Sq).Ma(this.position)?this.zf():function t(e){-1===e.Ck&&(e.Ck=g(function(){if(-1!==e.Ck&&(e.zf(),null!==e.lastInput.event)){var i=jo(e,e.Sq);i.Ma(e.position)||(e.position=i,e.lastInput.documentPoint=e.Bt(e.Sq),e.doMouseMove(),e.nj=!0,ko(e,e.documentBounds.copy().Hc(e.computeBounds())),e.nc=!0,e.ud(),t(e))}},e.Wm))}(this)},i.zf=function(){-1!==this.Ck&&(p.clearTimeout(this.Ck),this.Ck=-1)},i.mt=function(){return null},i.vv=function(){return null},i.zy=function(t,e){this.uu.add(t,e)},i.Sz=function(t){return os?(void 0===t&&(t=new K),t.returnType="Image",this.Ix(t)):null},i.Ix=function(t){return void 0===t&&(t=new K),Go(this,this.Tz,t)},i.Tz=function(t,e,i){var n=zo(i,t,"canvas",null);if(null===n)return null;var r=null;if(null!==(i=n.V.canvas))switch(r=t.returnType,r=void 0===r?"string":r.toLowerCase(),r){case"imagedata":r=n.getImageData(0,0,i.width,i.height);break;case"image":(n=(t.document||document).createElement("img")).src=i.toDataURL(t.type,t.details),r=n;break;case"blob":return"function"!=typeof e&&A('Error: Diagram.makeImageData called with "returnType: toBlob", but no required "callback" function property defined.'),"function"==typeof i.toBlob?(i.toBlob(e,t.type,t.details),"toBlob"):"function"==typeof i.msToBlob?(e(i.msToBlob()),"msToBlob"):(e(null),null);default:r=i.toDataURL(t.type,t.details)}return"function"==typeof e?(e(r),null):r},c.Object.defineProperties(Br.prototype,{div:{get:function(){return this.Fa},set:function(t){if(this.Fa!==t){G=[];var e=this.Fa;null!==e?(e.B=void 0,e.innerHTML="",null!==this.Ba&&(e=this.Ba.Da,this.removeEventListener(e,"touchstart",this.aw,!1),this.removeEventListener(e,"touchmove",this.$v,!1),this.removeEventListener(e,"touchend",this.Zv,!1),this.Ba.ux()),null!==(e=this.toolManager)&&(e.mouseDownTools.each(function(t){t.cancelWaitAfter()}),e.mouseMoveTools.each(function(t){t.cancelWaitAfter()}),e.mouseUpTools.each(function(t){t.cancelWaitAfter()})),e.cancelWaitAfter(),this.currentTool.doCancel(),this.Xc=this.Ba=null,this.removeEventListener(p,"resize",this.gw,!1),this.removeEventListener(p,"mousemove",this.kk,!0),this.removeEventListener(p,"mousedown",this.jk,!0),this.removeEventListener(p,"mouseup",this.mk,!0),this.removeEventListener(p,"wheel",this.nk,!0),this.removeEventListener(p,"mouseout",this.lk,!0),es===this&&(es=null)):this.Oe=!1,this.Fa=null,null!==t&&((e=t.B)&&(e.div=null),_s(this,t),this.wf())}}},lx:{get:function(){return this.xo}},fk:{get:function(){return this.Oe}},draggedLink:{get:function(){return this.jr},set:function(t){this.jr!==t&&(this.jr=t,null!==t&&(this.es=t.fromPort,this.fs=t.toPort))}},Lx:{get:function(){return this.es},set:function(t){this.es=t}},Mx:{get:function(){return this.fs},set:function(t){this.fs=t}},animationManager:{get:function(){return this.zc}},undoManager:{get:function(){return this.ac.undoManager}},skipsUndoManager:{get:function(){return this.lh},set:function(t){this.lh=t,this.ac.skipsUndoManager=t}},delaysLayout:{get:function(){return this.St},set:function(t){this.St=t}},opacity:{get:function(){return this.ob},set:function(t){var e=this.ob;e!==t&&((0>t||1<t)&&x(t,"0 <= value <= 1",Br,"opacity"),this.ob=t,this.g("opacity",e,t),this.N())}},validCycle:{get:function(){return this.Is},set:function(t){var e=this.Is;e!==t&&(this.Is=t,this.g("validCycle",e,t))}},layers:{get:function(){return this.Ka.iterator}},isModelReadOnly:{get:function(){var t=this.ac;return null!==t&&t.isReadOnly},set:function(t){var e=this.ac;null!==e&&(e.isReadOnly=t)}},isReadOnly:{get:function(){return this.Uf},set:function(t){var e=this.Uf;e!==t&&(this.Uf=t,this.g("isReadOnly",e,t))}},isEnabled:{get:function(){return this.Lc},set:function(t){var e=this.Lc;e!==t&&(this.Lc=t,this.g("isEnabled",e,t))}},allowClipboard:{get:function(){return this.Jq},set:function(t){var e=this.Jq;e!==t&&(this.Jq=t,this.g("allowClipboard",e,t))}},allowCopy:{get:function(){return this.Lh},set:function(t){var e=this.Lh;e!==t&&(this.Lh=t,this.g("allowCopy",e,t))}},allowDelete:{get:function(){return this.Mh},set:function(t){var e=this.Mh;e!==t&&(this.Mh=t,this.g("allowDelete",e,t))}},allowDragOut:{get:function(){return this.Kq},set:function(t){var e=this.Kq;e!==t&&(this.Kq=t,this.g("allowDragOut",e,t))}},allowDrop:{get:function(){return this.Lq},set:function(t){var e=this.Lq;e!==t&&(this.Lq=t,this.g("allowDrop",e,t))}},allowTextEdit:{get:function(){return this.Vh},set:function(t){var e=this.Vh;e!==t&&(this.Vh=t,this.g("allowTextEdit",e,t))}},allowGroup:{get:function(){return this.Nh},set:function(t){var e=this.Nh;e!==t&&(this.Nh=t,this.g("allowGroup",e,t))}},allowUngroup:{get:function(){return this.Wh},set:function(t){var e=this.Wh;e!==t&&(this.Wh=t,this.g("allowUngroup",e,t))}},allowInsert:{get:function(){return this.Nq},set:function(t){var e=this.Nq;e!==t&&(this.Nq=t,this.g("allowInsert",e,t))}},allowLink:{get:function(){return this.Oh},set:function(t){var e=this.Oh;e!==t&&(this.Oh=t,this.g("allowLink",e,t))}},allowRelink:{get:function(){return this.Qh},set:function(t){var e=this.Qh;e!==t&&(this.Qh=t,this.g("allowRelink",e,t))}},allowMove:{get:function(){return this.Ph},set:function(t){var e=this.Ph;e!==t&&(this.Ph=t,this.g("allowMove",e,t))}},allowReshape:{get:function(){return this.Rh},set:function(t){var e=this.Rh;e!==t&&(this.Rh=t,this.g("allowReshape",e,t))}},allowResize:{get:function(){return this.Sh},set:function(t){var e=this.Sh;e!==t&&(this.Sh=t,this.g("allowResize",e,t))}},allowRotate:{get:function(){return this.Th},set:function(t){var e=this.Th;e!==t&&(this.Th=t,this.g("allowRotate",e,t))}},allowSelect:{get:function(){return this.Uh},set:function(t){var e=this.Uh;e!==t&&(this.Uh=t,this.g("allowSelect",e,t))}},allowUndo:{get:function(){return this.Oq},set:function(t){var e=this.Oq;e!==t&&(this.Oq=t,this.g("allowUndo",e,t))}},allowZoom:{get:function(){return this.Qq},set:function(t){var e=this.Qq;e!==t&&(this.Qq=t,this.g("allowZoom",e,t))}},hasVerticalScrollbar:{get:function(){return this.al},set:function(t){var e=this.al;e!==t&&(this.al=t,ao(this),this.N(),this.g("hasVerticalScrollbar",e,t),jr(this,!1))}},hasHorizontalScrollbar:{get:function(){return this.$k},set:function(t){var e=this.$k;e!==t&&(this.$k=t,ao(this),this.N(),this.g("hasHorizontalScrollbar",e,t),jr(this,!1))}},allowHorizontalScroll:{get:function(){return this.Mq},set:function(t){var e=this.Mq;e!==t&&(this.Mq=t,this.g("allowHorizontalScroll",e,t),jr(this,!1))}},allowVerticalScroll:{get:function(){return this.Pq},set:function(t){var e=this.Pq;e!==t&&(this.Pq=t,this.g("allowVerticalScroll",e,t),jr(this,!1))}},scrollHorizontalLineChange:{get:function(){return this.rs},set:function(t){var e=this.rs;e!==t&&(0>t&&x(t,">= 0",Br,"scrollHorizontalLineChange"),this.rs=t,this.g("scrollHorizontalLineChange",e,t))}},scrollVerticalLineChange:{get:function(){return this.ts},set:function(t){var e=this.ts;e!==t&&(0>t&&x(t,">= 0",Br,"scrollVerticalLineChange"),this.ts=t,this.g("scrollVerticalLineChange",e,t))}},lastInput:{get:function(){return this.uj},set:function(t){this.uj=t}},firstInput:{get:function(){return this.ei},set:function(t){this.ei=t}},currentCursor:{get:function(){return this.cr},set:function(t){if(""===t&&(t=this.sn),this.cr!==t){var e=this.Ba,i=this.Fa;if(null!==e){this.cr=t;var n=e.style.cursor;e.style.cursor=t,i.style.cursor=t,e.style.cursor===n&&(e.style.cursor="-webkit-"+t,i.style.cursor="-webkit-"+t,e.style.cursor===n&&(e.style.cursor="-moz-"+t,i.style.cursor="-moz-"+t,e.style.cursor===n&&(e.style.cursor=t,i.style.cursor=t)))}}}},defaultCursor:{get:function(){return this.sn},set:function(t){""===t&&(t="auto");var e=this.sn;e!==t&&(this.sn=t,this.g("defaultCursor",e,t))}},click:{get:function(){return this.Jf},set:function(t){var e=this.Jf;e!==t&&(this.Jf=t,this.g("click",e,t))}},doubleClick:{get:function(){return this.Of},set:function(t){var e=this.Of;e!==t&&(this.Of=t,this.g("doubleClick",e,t))}},contextClick:{get:function(){return this.Kf},set:function(t){var e=this.Kf;e!==t&&(this.Kf=t,this.g("contextClick",e,t))}},mouseOver:{get:function(){return this.eg},set:function(t){var e=this.eg;e!==t&&(this.eg=t,this.g("mouseOver",e,t))}},mouseHover:{get:function(){return this.cg},set:function(t){var e=this.cg;e!==t&&(this.cg=t,this.g("mouseHover",e,t))}},mouseHold:{get:function(){return this.bg},set:function(t){var e=this.bg;e!==t&&(this.bg=t,this.g("mouseHold",e,t))}},mouseDragOver:{get:function(){return this.Zr},set:function(t){var e=this.Zr;e!==t&&(this.Zr=t,this.g("mouseDragOver",e,t))}},mouseDrop:{get:function(){return this.$f},set:function(t){var e=this.$f;e!==t&&(this.$f=t,this.g("mouseDrop",e,t))}},handlesDragDropForTopLevelParts:{get:function(){return this.zr},set:function(t){var e=this.zr;e!==t&&(this.zr=t,this.g("handlesDragDropForTopLevelParts",e,t))}},mouseEnter:{get:function(){return this.ag},set:function(t){var e=this.ag;e!==t&&(this.ag=t,this.g("mouseEnter",e,t))}},mouseLeave:{get:function(){return this.dg},set:function(t){var e=this.dg;e!==t&&(this.dg=t,this.g("mouseLeave",e,t))}},toolTip:{get:function(){return this.qg},set:function(t){var e=this.qg;e!==t&&(this.qg=t,this.g("toolTip",e,t))}},contextMenu:{get:function(){return this.Lf},set:function(t){var e=this.Lf;e!==t&&(this.Lf=t,this.g("contextMenu",e,t))}},commandHandler:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t,t.Wd(this))}},toolManager:{get:function(){return this.Za},set:function(t){this.Za!==t&&(this.Za=t,t.diagram=this)}},defaultTool:{get:function(){return this.Ia},set:function(t){var e=this.Ia;e!==t&&(this.Ia=t,t.diagram=this,this.currentTool===e&&(this.currentTool=t))}},currentTool:{get:function(){return this.Y},set:function(t){var e=this.Y;null!==e&&(e.isActive&&e.doDeactivate(),e.cancelWaitAfter(),e.doStop()),null===t&&(t=this.defaultTool),null!==t&&(this.Y=t,t.diagram=this,t.doStart())}},selection:{get:function(){return this.Tw}},maxSelectionCount:{get:function(){return this.Vr},set:function(t){var e=this.Vr;if(e!==t)if(0<=t&&!isNaN(t)){if(this.Vr=t,this.g("maxSelectionCount",e,t),!this.undoManager.isUndoingRedoing&&0<(t=this.selection.count-t)){this.R("ChangingSelection",this.selection),e=this.selection.ma();for(var i=0;i<t;i++)e[i].isSelected=!1;this.R("ChangedSelection",this.selection)}}else x(t,">= 0",Br,"maxSelectionCount")}},nodeSelectionAdornmentTemplate:{get:function(){return this.cs},set:function(t){var e=this.cs;e!==t&&(this.cs=t,this.g("nodeSelectionAdornmentTemplate",e,t))}},groupSelectionAdornmentTemplate:{get:function(){return this.xr},set:function(t){var e=this.xr;e!==t&&(this.xr=t,this.g("groupSelectionAdornmentTemplate",e,t))}},linkSelectionAdornmentTemplate:{get:function(){return this.Rr},set:function(t){var e=this.Rr;e!==t&&(this.Rr=t,this.g("linkSelectionAdornmentTemplate",e,t))}},highlighteds:{get:function(){return this.Gw}},isModified:{get:function(){var t=this.undoManager;return t.isEnabled?null!==t.currentTransaction||this.u&&this.fe!==t.historyIndex:this.u},set:function(t){if(this.u!==t){this.u=t;var e=this.undoManager;!t&&e.isEnabled&&(this.fe=e.historyIndex),t||So(this)}}},model:{get:function(){return this.ac},set:function(t){var e=this.ac;if(e!==t){this.currentTool.doCancel(),null!==e&&e.undoManager!==t.undoManager&&e.undoManager.isInTransaction&&A("Do not replace a Diagram.model while a transaction is in progress."),this.animationManager.Uc(!0);var i=Or(this,!0);this.Oe=!1,this.Xk=!0,this.fe=-2,this.cd=!1;var n=this.$b;this.$b=!0,Zn(this.animationManager,"Model"),null!==e&&(null!==this.le&&this.le.each(function(t){e.rk(t)}),e.rk(this.Ih)),this.ac=t,this.partManager=function(t){return null!==(t=is.get(t))?new t:new nd}(this.ac.constructor.type);for(var r=0;r<i.length;r++)this.add(i[r]);t.yh(this.Bf),this.partManager.addAllModeledParts(),t.rk(this.Bf),t.yh(this.Ih),null!==this.le&&this.le.each(function(e){t.yh(e)}),this.$b=n,this.Gb||this.N(),null!==e&&t.undoManager.copyProperties(e.undoManager)}}},aa:{get:function(){return this.Vc},set:function(t){this.Vc=t}},kt:{get:function(){return this.Hq}},skipsModelSourceBindings:{get:function(){return this.De},set:function(t){this.De=t}},At:{get:function(){return this.Du},set:function(t){this.Du=t}},nodeTemplate:{get:function(){return this.fg.H("")},set:function(t){var e=this.fg.H("");e!==t&&(this.fg.add("",t),this.g("nodeTemplate",e,t),this.undoManager.isUndoingRedoing||this.wd())}},nodeTemplateMap:{get:function(){return this.fg},set:function(t){var e=this.fg;e!==t&&(this.fg=t,this.g("nodeTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.wd())}},groupTemplate:{get:function(){return this.fi.H("")},set:function(t){var e=this.fi.H("");e!==t&&(this.fi.add("",t),this.g("groupTemplate",e,t),this.undoManager.isUndoingRedoing||this.wd())}},groupTemplateMap:{get:function(){return this.fi},set:function(t){var e=this.fi;e!==t&&(this.fi=t,this.g("groupTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.wd())}},linkTemplate:{get:function(){return this.ah.H("")},set:function(t){var e=this.ah.H("");e!==t&&(this.ah.add("",t),this.g("linkTemplate",e,t),this.undoManager.isUndoingRedoing||this.wd())}},linkTemplateMap:{get:function(){return this.ah},set:function(t){var e=this.ah;e!==t&&(this.ah=t,this.g("linkTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.wd())}},isMouseCaptured:{get:function(){return this.Ic},set:function(t){var e=this.Ba;null!==e&&((e=e.Da)instanceof SVGElement||(t?(this.lastInput.bubbles=!1,this.Rq?(this.removeEventListener(e,"pointermove",this.om,!1),this.removeEventListener(e,"pointerdown",this.nm,!1),this.removeEventListener(e,"pointerup",this.qm,!1),this.removeEventListener(e,"pointerout",this.pm,!1),this.addEventListener(p,"pointermove",this.om,!0),this.addEventListener(p,"pointerdown",this.nm,!0),this.addEventListener(p,"pointerup",this.qm,!0),this.addEventListener(p,"pointerout",this.pm,!0)):(this.removeEventListener(e,"mousemove",this.kk,!1),this.removeEventListener(e,"mousedown",this.jk,!1),this.removeEventListener(e,"mouseup",this.mk,!1),this.removeEventListener(e,"mouseout",this.lk,!1),this.addEventListener(p,"mousemove",this.kk,!0),this.addEventListener(p,"mousedown",this.jk,!0),this.addEventListener(p,"mouseup",this.mk,!0),this.addEventListener(p,"mouseout",this.lk,!0)),this.removeEventListener(e,"wheel",this.nk,!1),this.addEventListener(p,"wheel",this.nk,!0),this.addEventListener(p,"selectstart",this.preventDefault,!1)):(this.Rq?(this.removeEventListener(p,"pointermove",this.om,!0),this.removeEventListener(p,"pointerdown",this.nm,!0),this.removeEventListener(p,"pointerup",this.qm,!0),this.removeEventListener(p,"pointerout",this.pm,!0),this.addEventListener(e,"pointermove",this.om,!1),this.addEventListener(e,"pointerdown",this.nm,!1),this.addEventListener(e,"pointerup",this.qm,!1),this.addEventListener(e,"pointerout",this.pm,!1)):(this.removeEventListener(p,"mousemove",this.kk,!0),this.removeEventListener(p,"mousedown",this.jk,!0),this.removeEventListener(p,"mouseup",this.mk,!0),this.removeEventListener(p,"mouseout",this.lk,!0),this.addEventListener(e,"mousemove",this.kk,!1),this.addEventListener(e,"mousedown",this.jk,!1),this.addEventListener(e,"mouseup",this.mk,!1),this.addEventListener(e,"mouseout",this.lk,!1)),this.removeEventListener(p,"wheel",this.nk,!0),this.removeEventListener(p,"selectstart",this.preventDefault,!1),this.addEventListener(e,"wheel",this.nk,!1)),this.Ic=t))}},position:{get:function(){return this.la},set:function(t){var e=dt.alloc().assign(this.la);if(!e.A(t)){var i=this.viewportBounds.copy();this.la.assign(t),or(this.animationManager,e,this.la),this.Gb||null===this.Ba&&!this.Np.v()||(this.Gb=!0,t=this.scale,zr(this,this.tn,this.va/t,this.ua/t,this.gj,!1),this.Gb=!1),this.Gb||this.qq(i,this.viewportBounds,this.ya,!1)}dt.free(e)}},initialPosition:{get:function(){return this.Br},set:function(t){this.Br.A(t)||(this.Br=t.G())}},initialScale:{get:function(){return this.Cr},set:function(t){this.Cr!==t&&(this.Cr=t)}},grid:{get:function(){return null===this.Fb&&Fr(this),this.Fb},set:function(t){var e=this.Fb;if(e!==t){null===e&&(Fr(this),e=this.Fb),t.type!==Al.Grid&&A("Diagram.grid must be a Panel of type Panel.Grid");var i=e.panel;null!==i&&i.remove(e),this.Fb=t,t.name="GRID",null!==i&&i.add(t),wo(this),this.N(),this.g("grid",e,t)}}},viewportBounds:{get:function(){var t=this.ax,e=this.la,i=this.ya;return null===this.Ba?(this.Np.v()&&t.h(e.x,e.y,this.va/i,this.ua/i),t):(t.h(e.x,e.y,Math.max(this.va,0)/i,Math.max(this.ua,0)/i),t)}},viewSize:{get:function(){return this.Np},set:function(t){var e=this.viewSize;e.A(t)||(this.Np=t=t.G(),this.va=t.width,this.ua=t.height,this.Ta(),this.g("viewSize",e,t))}},fixedBounds:{get:function(){return this.sr},set:function(t){var e=this.sr;e.A(t)||(-1/0!==t.width&&1/0!==t.height&&-1/0!==t.height||A("fixedBounds width/height must not be Infinity"),this.sr=t=t.G(),this.Ta(),this.g("fixedBounds",e,t))}},scrollMargin:{get:function(){return this.zi},set:function(t){"number"==typeof t&&(t=new qt(t));var e=this.zi;e.A(t)||(this.zi=t=t.G(),this.g("scrollMargin",e,t),this.wf())}},scrollMode:{get:function(){return this.Ai},set:function(t){var e=this.Ai;e!==t&&(this.Ai=t,t===vs&&jr(this,!1),this.g("scrollMode",e,t),this.N())}},scrollsPageOnFocus:{get:function(){return this.us},set:function(t){var e=this.us;e!==t&&(this.us=t,this.g("scrollsPageOnFocus",e,t))}},positionComputation:{get:function(){return this.ls},set:function(t){var e=this.ls;e!==t&&(this.ls=t,jr(this,!1),this.g("positionComputation",e,t))}},scaleComputation:{get:function(){return this.ps},set:function(t){var e=this.ps;e!==t&&(this.ps=t,Co(this,this.scale,this.scale),this.g("scaleComputation",e,t))}},documentBounds:{get:function(){return this.tn}},isVirtualized:{get:function(){return this.Mr},set:function(t){var e=this.Mr;e!==t&&(this.Mr=t,this.g("isVirtualized",e,t))}},scale:{get:function(){return this.ya},set:function(t){var e=this.ya;e!==t&&Co(this,e,t)}},defaultScale:{get:function(){return this.gr},set:function(t){this.gr=t}},autoScale:{get:function(){return this.Jg},set:function(t){var e=this.Jg;e!==t&&(this.Jg=t,this.g("autoScale",e,t),t!==ls&&jr(this,!1))}},initialAutoScale:{get:function(){return this.Tf},set:function(t){var e=this.Tf;e!==t&&(this.Tf=t,this.g("initialAutoScale",e,t))}},initialViewportSpot:{get:function(){return this.Dr},set:function(t){var e=this.Dr;e!==t&&(t.eb()||A("initialViewportSpot must be a specific Spot: "+t),this.Dr=t,this.g("initialViewportSpot",e,t))}},initialDocumentSpot:{get:function(){return this.Ar},set:function(t){var e=this.Ar;e!==t&&(t.eb()||A("initialViewportSpot must be a specific Spot: "+t),this.Ar=t,this.g("initialDocumentSpot",e,t))}},minScale:{get:function(){return this.Wr},set:function(t){var e=this.Wr;e!==t&&(0<t?(this.Wr=t,this.g("minScale",e,t),t>this.scale&&(this.scale=t)):x(t,"> 0",Br,"minScale"))}},maxScale:{get:function(){return this.Ur},set:function(t){var e=this.Ur;e!==t&&(0<t?(this.Ur=t,this.g("maxScale",e,t),t<this.scale&&(this.scale=t)):x(t,"> 0",Br,"maxScale"))}},zoomPoint:{get:function(){return this.Ls},set:function(t){this.Ls.A(t)||(this.Ls=t=t.G())}},contentAlignment:{get:function(){return this.gj},set:function(t){var e=this.gj;e.A(t)||(this.gj=t=t.G(),this.g("contentAlignment",e,t),jr(this,!1))}},initialContentAlignment:{get:function(){return this.On},set:function(t){var e=this.On;e.A(t)||(this.On=t=t.G(),this.g("initialContentAlignment",e,t))}},padding:{get:function(){return this.bb},set:function(t){"number"==typeof t&&(t=new qt(t));var e=this.bb;e.A(t)||(this.bb=t=t.G(),this.Ta(),this.g("padding",e,t))}},partManager:{get:function(){return this.Ja},set:function(t){var e=this.Ja;e!==t&&(null!==t.diagram&&A("Cannot share PartManagers between Diagrams: "+t.toString()),null!==e&&e.Wd(null),this.Ja=t,t.Wd(this))}},nodes:{get:function(){return this.partManager.nodes.iterator}},links:{get:function(){return this.partManager.links.iterator}},parts:{get:function(){return this.partManager.parts.iterator}},layout:{get:function(){return this.hc},set:function(t){var e=this.hc;e!==t&&(this.hc=t,t.diagram=this,t.group=null,this.Ig=!0,this.g("layout",e,t),this.Xb())}},isTreePathToChildren:{get:function(){return this.Lr},set:function(t){var e=this.Lr;if(e!==t&&(this.Lr=t,this.g("isTreePathToChildren",e,t),!this.undoManager.isUndoingRedoing))for(t=this.nodes;t.next();)Cu(t.value)}},treeCollapsePolicy:{get:function(){return this.Gs},set:function(t){var e=this.Gs;e!==t&&(t!==ys&&t!==xs&&t!==bs&&A("Unknown Diagram.treeCollapsePolicy: "+t),this.Gs=t,this.g("treeCollapsePolicy",e,t))}},ye:{get:function(){return this.kd},set:function(t){this.kd=t}},autoScrollInterval:{get:function(){return this.Wm},set:function(t){var e=this.Wm;e!==t&&(this.Wm=t,this.g("autoScrollInterval",e,t))}},autoScrollRegion:{get:function(){return this.Xm},set:function(t){"number"==typeof t&&(t=new qt(t));var e=this.Xm;e.A(t)||(this.Xm=t=t.G(),this.Ta(),this.g("autoScrollRegion",e,t))}}}),c.Object.defineProperties(Br,{licenseKey:{get:function(){return Cs.Vb()},set:function(t){Cs.add(t)}},version:{get:function(){return ws}}}),Br.prototype.makeImageData=Br.prototype.Ix,Br.prototype.makeImage=Br.prototype.Sz,Br.prototype.addRenderer=Br.prototype.zy,Br.prototype.makeSVG=Br.prototype.vv,Br.prototype.makeSvg=Br.prototype.mt,Br.prototype.stopAutoScroll=Br.prototype.zf,Br.prototype.doAutoScroll=Br.prototype.Ss,Br.prototype.isUnoccupied=Br.prototype.gk,Br.prototype.raiseDiagramEvent=Br.prototype.R,Br.prototype.removeDiagramListener=Br.prototype.sm,Br.prototype.addDiagramListener=Br.prototype.Oj,Br.prototype.findTreeRoots=Br.prototype.nz,Br.prototype.layoutDiagram=Br.prototype.Qz,Br.prototype.findTopLevelGroups=Br.prototype.gz,Br.prototype.findTopLevelNodesAndLinks=Br.prototype.hz,Br.prototype.findLinksByExample=Br.prototype.Vs,Br.prototype.findNodesByExample=Br.prototype.Ws,Br.prototype.findLinkForData=Br.prototype.uc,Br.prototype.findNodeForData=Br.prototype.Mi,Br.prototype.findPartForData=Br.prototype.vc,Br.prototype.findLinkForKey=Br.prototype.findLinkForKey,Br.prototype.findNodeForKey=Br.prototype.Jb,Br.prototype.findPartForKey=Br.prototype.findPartForKey,Br.prototype.rebuildParts=Br.prototype.wd,Br.prototype.transformViewToDoc=Br.prototype.Bt,Br.prototype.transformRectDocToView=Br.prototype.qA,Br.prototype.transformDocToView=Br.prototype.Cq,Br.prototype.centerRect=Br.prototype.Os,Br.prototype.scrollToRect=Br.prototype.Ov,Br.prototype.scroll=Br.prototype.scroll,Br.prototype.highlightCollection=Br.prototype.Fz,Br.prototype.highlight=Br.prototype.Ez,Br.prototype.clearHighlighteds=Br.prototype.mx,Br.prototype.selectCollection=Br.prototype.hA,Br.prototype.select=Br.prototype.select,Br.prototype.clearSelection=Br.prototype.Tu,Br.prototype.updateAllRelationshipsFromData=Br.prototype.Eq,Br.prototype.updateAllTargetBindings=Br.prototype.updateAllTargetBindings,Br.prototype.commit=Br.prototype.commit,Br.prototype.rollbackTransaction=Br.prototype.yf,Br.prototype.commitTransaction=Br.prototype.Ua,Br.prototype.startTransaction=Br.prototype.ta,Br.prototype.raiseChanged=Br.prototype.g,Br.prototype.raiseChangedEvent=Br.prototype.Ya,Br.prototype.removeChangedListener=Br.prototype.rk,Br.prototype.addChangedListener=Br.prototype.yh,Br.prototype.removeModelChangedListener=Br.prototype.dA,Br.prototype.addModelChangedListener=Br.prototype.jx,Br.prototype.findLayer=Br.prototype.dm,Br.prototype.removeLayer=Br.prototype.bA,Br.prototype.addLayerAfter=Br.prototype.vy,Br.prototype.addLayerBefore=Br.prototype.hx,Br.prototype.addLayer=Br.prototype.Vl,Br.prototype.moveParts=Br.prototype.moveParts,Br.prototype.copyParts=Br.prototype.Yj,Br.prototype.removeParts=Br.prototype.vt,Br.prototype.remove=Br.prototype.remove,Br.prototype.add=Br.prototype.add,Br.prototype.clearDelayedGeometries=Br.prototype.Su,Br.prototype.setProperties=Br.prototype.Uv,Br.prototype.resetInputOptions=Br.prototype.Lv,Br.prototype.setInputOption=Br.prototype.iA,Br.prototype.getInputOption=Br.prototype.gm,Br.prototype.resetRenderingHints=Br.prototype.Mv,Br.prototype.setRenderingHint=Br.prototype.Xx,Br.prototype.getRenderingHint=Br.prototype.xe,Br.prototype.maybeUpdate=Br.prototype.ud,Br.prototype.requestUpdate=Br.prototype.Xb,Br.prototype.delayInitialization=Br.prototype.Oy,Br.prototype.isUpdateRequested=Br.prototype.Lz,Br.prototype.redraw=Br.prototype.wf,Br.prototype.invalidateDocumentBounds=Br.prototype.Ta,Br.prototype.findObjectsNear=Br.prototype.xg,Br.prototype.findPartsNear=Br.prototype.dz,Br.prototype.findObjectsIn=Br.prototype.wg,Br.prototype.findPartsIn=Br.prototype.Ax,Br.prototype.findObjectsAt=Br.prototype.Ni,Br.prototype.findPartsAt=Br.prototype.cz,Br.prototype.findObjectAt=Br.prototype.Sb,Br.prototype.findPartAt=Br.prototype.em,Br.prototype.focusObject=Br.prototype.oz,Br.prototype.alignDocument=Br.prototype.By,Br.prototype.zoomToRect=Br.prototype.tA,Br.prototype.zoomToFit=Br.prototype.zoomToFit,Br.prototype.diagramScroll=Br.prototype.tx,Br.prototype.focus=Br.prototype.focus,Br.prototype.reset=Br.prototype.reset,Br.useDOM=function(t){os=!!t&&void 0!==p.document},Br.isUsingDOM=function(){return os};var Qo,Yo,Ko,Xo,$o,Wo,qo,Jo,Zo,ts,es=null,is=new ct,ns=null,rs=null,os=void 0!==p.document,ss=null,as="",ls=new z(Br,"None",0),hs=new z(Br,"Uniform",1),us=new z(Br,"UniformToFill",2),cs=new z(Br,"CycleAll",10),ds=new z(Br,"CycleNotDirected",11),ps=new z(Br,"CycleNotDirectedFast",12),fs=new z(Br,"CycleNotUndirected",13),ms=new z(Br,"CycleDestinationTree",14),gs=new z(Br,"CycleSourceTree",15),vs=new z(Br,"DocumentScroll",1),As=new z(Br,"InfiniteScroll",2),ys=new z(Br,"TreeParentCollapsed",21),xs=new z(Br,"AllParentsCollapsed",22),bs=new z(Br,"AnyParentsCollapsed",23),Cs=new Z,ws="2.1.2",Es=!1;function Ss(){this.py=null,this.l="zz@orderNum","63ad05bbe23a1786468a4c741b6d2"===this._tk?this.Ke=this.l=!0:this.Ke=null}function Ts(t,e){if(e.Xc.setTransform(e.Pb,0,0,e.Pb,0,0),null===t.Ke){e="f";var i=p[I("76a715b2f73f148a")][I("72ba13b5")];if(t.Ke=!0,os){var n=Br[I("76a115b6ed251eaf4692")];if(n)for(var r=Cs.iterator;r.next()&&!(6>(n=I(n=r.value).split(I("39e9"))).length);){var o=I(n[1]).split(".");if("7da71ca0"!==n[4])break;var s=I(f[I("6cae19")]).split(".");if(o[0]>s[0]||o[0]===s[0]&&o[1]>=s[1]){for(o=i[I("76ad18b4f73e")],s=i[I("73a612b6fb191d")](I("35e7"))+2;s<o;s++)e+=i[s];if(0>(o=e[I("73a612b6fb191d")](I(n[2])))&&I(n[2])!==I("7da71ca0ad381e90")&&(o=e[I("73a612b6fb191d")](I("76a715b2ef3e149757"))),0>o&&(o=e[I("73a612b6fb191d")](I("76a715b2ef3e149757"))),0>o&&(o=i[I("73a612b6fb191d")](I("7baa19a6f76c1988428554"))),t.Ke=!(0<=o&&o<e[I("73a612b6fb191d")](I("35"))||-1===e[I("73a612b6fb191d")](I("35"))),!t.Ke)break;if("#"!==(o=I(n[2]))[0])break;s=p.document.createElement("div");for(var a=n[0].replace(/[A-Za-z]/g,"");4>a.length;)a+="9";if(a=a.substr(a.length-4),n="",n+=["gsh","gsf"][parseInt(a.substr(0,1),10)%2],n+=["Header","Background","Display","Feedback"][parseInt(a.substr(0,1),10)%4],s[I("79a417a0f0181a8946")]=n,p.document[I("78a712aa")]){if(p.document[I("78a712aa")][I("7bb806b6ed32388c4a875b")](s),a=p.getComputedStyle(s).getPropertyValue(I("78a704b7e62456904c9b12701b6532a8")),p.document[I("78a712aa")][I("68ad1bbcf533388c4a875b")](s),!a)break;if(-1!==a.indexOf(parseInt(o[1]+o[2],16))&&-1!==a.indexOf(parseInt(o[3]+o[4],16))){t.Ke=!1;break}if(D||R||F||H)for(n="."+n,o=0;o<document.styleSheets.length;o++)for(var l in s=document.styleSheets[o].rules||document.styleSheets[o].cssRules)if(n===s[l].selectorText){t.Ke=!1;break}}else t.Ke=null,t.Ke=!1}}else{for(l=i[I("76ad18b4f73e")],r=i[I("73a612b6fb191d")](I("35e7"))+2;r<l;r++)e+=i[r];i=e[I("73a612b6fb191d")](I("7da71ca0ad381e90")),t.Ke=!(0<=i&&i<e[I("73a612b6fb191d")](I("35")))}}}return 0<t.Ke&&t!==t.py}function _s(t,e){if(os){void 0!==e&&null!==e||A("Diagram setup requires an argument DIV."),null!==t.Fa&&A("Diagram has already completed setup."),"string"==typeof e?t.Fa=p.document.getElementById(e):e instanceof HTMLDivElement?t.Fa=e:A("No DIV or DIV id supplied: "+e),null===t.Fa&&A("Invalid DIV id; could not get element with id: "+e),void 0!==t.Fa.B&&A("Invalid div id; div already has a Diagram associated with it."),"static"===p.getComputedStyle(t.Fa,null).position&&(t.Fa.style.position="relative"),t.Fa.style["-webkit-tap-highlight-color"]="rgba(255, 255, 255, 0)",t.Fa.style["-ms-touch-action"]="none",t.Fa.innerHTML="",t.Fa.B=t;var i=t.Cs?new va(t):new Ea(t);if(void 0!==i.style&&(i.style.position="absolute",i.style.top="0px",i.style.left="0px","rtl"===p.getComputedStyle(t.Fa,null).getPropertyValue("direction")&&(t.Tn=!0),i.style.zIndex="2",i.style.userSelect="none",i.style.webkitUserSelect="none",i.style.MozUserSelect="none"),t.Ba=i,t.Xc=i.context,e=t.Xc,t.Pb=t.computePixelRatio(),t.va=t.Fa.clientWidth||1,t.ua=t.Fa.clientHeight||1,uo(t,t.va,t.ua),t.kr=function(){return!0},t.Fa.insertBefore(i.Da,t.Fa.firstChild),(i=new Ea(null)).width=1,i.height=1,t.Wt=i,t.Bw=i.context,os){i=v("div");var n=v("div");i.style.position="absolute",i.style.overflow="auto",i.style.width=t.va+"px",i.style.height=t.ua+"px",i.style.zIndex="1",n.style.position="absolute",n.style.width="1px",n.style.height="1px",t.Fa.appendChild(i),i.appendChild(n),i.onscroll=Hr,i.onmousedown=Ur,i.ontouchstart=Ur,i.B=t,i.ny=!0,i.oy=!0,t.ss=i,t.lp=n}t.tt=m(function(){t.qh=null,t.N()},300),t.gw=m(function(){Dr(t)},250),t.preventDefault=function(t){return t.preventDefault(),!1},t.kk=function(e){if(t.isEnabled){t.Yg=!0;var i=Yr(t,e,!0);t.doMouseMove(),t.currentTool.isBeyondDragSize()&&(t.Jd=0),qr(i,e)}},t.jk=function(e){if(t.isEnabled)if(t.Yg=!0,t.Pe)e.preventDefault();else{var i=Yr(t,e,!0);i.down=!0,i.clickCount=e.detail,(R||F)&&(e.timeStamp-t.pl<t.Ju&&!t.currentTool.isBeyondDragSize()?t.Jd++:t.Jd=1,t.pl=e.timeStamp,i.clickCount=t.Jd),i.clone(t.firstInput),t.doMouseDown(),1===e.button?e.preventDefault():qr(i,e)}},t.mk=function(e){if(t.isEnabled)if(t.Pe&&2===e.button)e.preventDefault();else if(t.Pe&&0===e.button&&(t.Pe=!1),t.Ql)e.preventDefault();else{t.Yg=!0;var i=Yr(t,e,!0);i.up=!0,i.clickCount=e.detail,(R||F)&&(i.clickCount=t.Jd),i.bubbles=e.bubbles,i.targetDiagram=Kr(e),t.doMouseUp(),t.zf(),qr(i,e)}},t.nk=function(e){if(t.isEnabled){var i=Yr(t,e,!0);i.bubbles=!0;var n=0,r=0;i.delta=0,void 0!==e.deltaX?(0!==e.deltaX&&(n=0<e.deltaX?1:-1),0!==e.deltaY&&(r=0<e.deltaY?1:-1),i.delta=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-n:-r):void 0!==e.wheelDeltaX?(0!==e.wheelDeltaX&&(n=0<e.wheelDeltaX?-1:1),0!==e.wheelDeltaY&&(r=0<e.wheelDeltaY?-1:1),i.delta=Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)?-n:-r):void 0!==e.wheelDelta&&0!==e.wheelDelta&&(i.delta=0<e.wheelDelta?1:-1),t.doMouseWheel(),qr(i,e)}},t.lk=function(e){t.isEnabled&&(t.Yg=!1,Yr(t,e,!0),(e=t.currentTool).cancelWaitAfter(),e.standardMouseOver())},t.aw=function(e){if(t.isEnabled){t.Ql=!1,t.Pe=!0;var i=Xr(t,e,e.targetTouches[0],1<e.touches.length),n=null;if(0<e.targetTouches.length?n=e.targetTouches[0]:0<e.changedTouches.length&&(n=e.changedTouches[0]),null!==n){var r=n.screenX;n=n.screenY;var o=t.Or;e.timeStamp-t.pl<t.Ju&&!(25<Math.abs(o.x-r)||25<Math.abs(o.y-n))?t.Jd++:t.Jd=1,i.clickCount=t.Jd,t.pl=e.timeStamp,t.Or.h(r,n)}t.doMouseDown(),qr(i,e)}},t.$v=function(e){if(t.isEnabled){var i=null;0<e.targetTouches.length?i=e.targetTouches[0]:0<e.changedTouches.length&&(i=e.changedTouches[0]),i=$r(t,e,i,1<e.touches.length),t.doMouseMove(),qr(i,e)}},t.Zv=function(e){if(t.isEnabled)if(t.Ql)e.preventDefault();else if(!(1<e.touches.length)){var i=null,n=null;0<e.targetTouches.length?n=e.targetTouches[0]:0<e.changedTouches.length&&(n=e.changedTouches[0]);var r=Wr(t,e,!1,!0,!1,!1);null!==n&&(null!==(i=p.document.elementFromPoint(n.clientX,n.clientY))&&i.B instanceof Br&&i.B!==t&&Jr(i.B,n,r),Jr(t,n,r),r.clickCount=t.Jd),null===i?r.targetDiagram=Kr(e):i.B?r.targetDiagram=i.B:r.targetDiagram=null,r.targetObject=null,t.doMouseUp(),qr(r,e),t.Pe=!1}},t.nm=function(e){if(t.isEnabled){t.Yg=!0;var i=t.su;void 0===i[e.pointerId]&&(i[e.pointerId]=e);var n=!1;if(null!==(i=t.Al)[0]&&i[0].pointerId===e.pointerId)i[0]=e;else if(null!==i[1]&&i[1].pointerId===e.pointerId)i[1]=e,n=!0;else if(null===i[0])i[0]=e;else{if(null!==i[1])return void e.preventDefault();i[1]=e,n=!0}"touch"!==e.pointerType&&"pen"!==e.pointerType||(t.Ql=!1,t.Pe=!0),i=Xr(t,e,e,n),n=t.Or;var r="touch"===e.pointerType||"pen"===e.pointerType?25:10;e.timeStamp-t.pl<t.Ju&&!(Math.abs(n.x-e.screenX)>r||Math.abs(n.y-e.screenY)>r)?t.Jd++:t.Jd=1,i.clickCount=t.Jd,t.pl=e.timeStamp,t.Or.Cg(e.screenX,e.screenY),t.doMouseDown(),1===e.button?e.preventDefault():qr(i,e)}},t.om=function(e){if(t.isEnabled){t.Yg=!0;var i=t.Al;if(null!==i[0]&&i[0].pointerId===e.pointerId)i[0]=e;else{if(null!==i[1]&&i[1].pointerId===e.pointerId)return void(i[1]=e);if(null!==i[0])return;i[0]=e}i[0].pointerId===e.pointerId&&((i=$r(t,e,e,null!==i[1])).targetDiagram=Kr(e),t.doMouseMove(),qr(i,e))}},t.qm=function(e){if(t.isEnabled){t.Yg=!0;var i="touch"===e.pointerType||"pen"===e.pointerType,n=t.su;if(i&&t.Ql)delete n[e.pointerId],e.preventDefault();else if(null!==(n=t.Al)[0]&&n[0].pointerId===e.pointerId){n[0]=null,n=Wr(t,e,!1,!0,!0,!1);var r=p.document.elementFromPoint(e.clientX,e.clientY);null!==r&&r.B instanceof Br&&r.B!==t&&Jr(r.B,e,n),Jr(t,e,n),n.clickCount=t.Jd,null===r?n.targetDiagram=Kr(e):r.B?n.targetDiagram=r.B:n.targetDiagram=null,n.targetObject=null,t.doMouseUp(),qr(n,e),i&&(t.Pe=!1)}else null!==n[1]&&n[1].pointerId===e.pointerId&&(n[1]=null)}},t.pm=function(e){if(t.isEnabled){t.Yg=!1;var i=t.su;i[e.pointerId]&&delete i[e.pointerId],null!==(i=t.Al)[0]&&i[0].pointerId===e.pointerId&&(i[0]=null),null!==i[1]&&i[1].pointerId===e.pointerId&&(i[1]=null),"touch"!==e.pointerType&&"pen"!==e.pointerType&&((e=t.currentTool).cancelWaitAfter(),e.standardMouseOver())}},e.Qc(!0),function(t){var e=t.Ba.Da;e instanceof HTMLCanvasElement&&(t.Rq?(t.addEventListener(e,"pointerdown",t.nm,!1),t.addEventListener(e,"pointermove",t.om,!1),t.addEventListener(e,"pointerup",t.qm,!1),t.addEventListener(e,"pointerout",t.pm,!1)):(t.addEventListener(e,"touchstart",t.aw,!1),t.addEventListener(e,"touchmove",t.$v,!1),t.addEventListener(e,"touchend",t.Zv,!1),t.addEventListener(e,"mousemove",t.kk,!1),t.addEventListener(e,"mousedown",t.jk,!1),t.addEventListener(e,"mouseup",t.mk,!1),t.addEventListener(e,"mouseout",t.lk,!1)),t.addEventListener(e,"mouseenter",t.Ty,!1),t.addEventListener(e,"mouseleave",t.Uy,!1),t.addEventListener(e,"wheel",t.nk,!1),t.addEventListener(e,"keydown",t.Mz,!1),t.addEventListener(e,"keyup",t.Nz,!1),t.addEventListener(e,"blur",t.Gy,!1),t.addEventListener(e,"focus",t.Hy,!1),t.addEventListener(e,"selectstart",function(t){return t.preventDefault(),!1},!1),t.addEventListener(e,"contextmenu",function(t){return t.preventDefault(),!1},!1),t.addEventListener(e,"gesturestart",function(e){t.toolManager.gestureBehavior!==Ii&&(t.toolManager.gestureBehavior===Ni?e.preventDefault():t.Pe&&t.lastInput.handled||(e.preventDefault(),t.Lo=t.scale,t.currentTool.doCancel()))},!1),t.addEventListener(e,"gesturechange",function(e){if(t.toolManager.gestureBehavior!==Ii)if(t.toolManager.gestureBehavior===Ni)e.preventDefault();else if(!t.Pe||!t.lastInput.handled){e.preventDefault();var i=e.scale;if(null!==t.Lo){var n=t.Ba.getBoundingClientRect();if(e=new dt(e.pageX-window.scrollX-t.va/n.width*n.left,e.pageY-window.scrollY-t.ua/n.height*n.top),i=t.Lo*i,n=t.commandHandler,i!==t.scale&&n.canResetZoom(i)){var r=t.zoomPoint;t.zoomPoint=e,n.resetZoom(i),t.zoomPoint=r}}}},!1),t.addEventListener(p,"resize",t.gw,!1))}(t)}}function Ms(t){this.l=void 0===t?new dt:t,this.u=new dt}function ks(t,e,i){this.node=t,this.info=e,this.nv=i}function Bs(){this.reset()}function Os(t){1<arguments.length&&A("Palette constructor can only take one optional argument, the DIV HTML element or its id."),Br.call(this,t),this.allowDragOut=!0,this.allowMove=!1,this.isReadOnly=!0,this.contentAlignment=ie,this.layout=new Kc}function Ps(t){1<arguments.length&&A("Overview constructor can only take one optional argument, the DIV HTML element or its id."),Br.call(this,t),this.animationManager.isEnabled=!1,this.Gb=!0,this.gg=null,this.al=this.$k=!1,this.lr=!0,this.Xx("drawShadows",!1);var e=new Xh,i=new Ql;i.stroke="magenta",i.strokeWidth=2,i.fill="transparent",i.name="BOXSHAPE",e.selectable=!0,e.selectionAdorned=!1,e.selectionObjectName="BOXSHAPE",e.locationObjectName="BOXSHAPE",e.resizeObjectName="BOXSHAPE",e.cursor="move",e.add(i),this.l=e,this.allowDelete=this.allowCopy=!1,this.allowSelect=!0,this.autoScrollRegion=new qt(0,0,0,0),this.la.h(0,0),this.Gu=new Ea(null),this.qy=this.Gu.context,this.toolManager.Va("Dragging",new Ns,this.toolManager.mouseMoveTools);var n=this;this.click=function(){var t=n.gg;if(null!==t){var e=t.viewportBounds,i=n.lastInput.documentPoint;t.position=new dt(i.x-e.width/2,i.y-e.height/2)}},this.Km=function(){n.Ta(),Ls(n)},this.Im=function(){null!==n.gg&&(n.Ta(),n.N())},this.Jm=function(){n.N()},this.dj=function(){null!==n.gg&&Ls(n)},this.autoScale=hs,this.Gb=!1}function Ls(t){var e=t.box;if(null!==e){var i=t.gg;if(null!==i){t.nc=!0,i=i.viewportBounds;var n=e.selectionObject,r=Lt.alloc();r.h(i.width,i.height),n.desiredSize=r,Lt.free(r),t=2/t.scale,n instanceof Ql&&(n.strokeWidth=t),e.location=new dt(i.x-t/2,i.y-t/2),e.isSelected=!0}}}function Ns(){Di.call(this),this.l=null}function Is(){it(this),this.B=es,this.Za=this.I=this.u=!0,this.Y=this.Ia=this.kd=this.Ja=!1,this.si=this.l=null,this.Vc=1.05,this.hu=NaN,this.Iw=null,this.Nu=NaN,this.Mu=Xt,this.mg=null,this.Ic=200}function Ds(t){var e=M();for(t=t.iterator;t.next();){var i=t.value;i instanceof Lu||e.push(i)}t=new et,i=e.length;for(var n=0;n<i;n++){for(var r=e[n],o=!0,s=0;s<i;s++)if(r.Ud(e[s])){o=!1;break}o&&t.add(r)}return k(e),t}function Rs(){it(this),this.F=4225027,this.ob=1,this.jg=null,this.Qa="",this.dc=this.gb=null,this.la=new dt(NaN,NaN).freeze(),this.Kc=Tt,this.Zf=xt,this.Yf=St,this.rb=new ze,this.Kh=new ze,this.Wf=new ze,this.ya=this.Tk=1,this.cc=0,this.se=Xo,this.bh=De,this.oc=new Rt(NaN,NaN,NaN,NaN).freeze(),this.vb=new Rt(NaN,NaN,NaN,NaN).freeze(),this.pc=new Rt(0,0,NaN,NaN).freeze(),this.O=this.So=this.To=null,this.zk=this.wb=Se,this.gp=0,this.hp=1,this.Mg=0,this.bn=1,this.Ap=null,this.mp=-1/0,this.Dl=0,this.El=_t,this.Fl=ic,this.$h="",this.$a=this.M=null,this.Ek=-1,this.Hl=this.ld=this.Zh=this.Kl=null,this.ms=Yo,this.jp=this.Hg=this.Dj=null}function Fs(t){null===t.M&&(t.M=new fa)}function Hs(t,e,i){var n=t.Oi();if(null!==n)for(var r=t.$a.iterator;r.next();){var o=r.value,s=null;if(null!==o.sourceName){if(null===(s=$d(o,n,t)))continue;o.Fq(t,s,i,null)}else if(o.isToModel){var a=e.diagram;null===a||a.skipsModelSourceBindings||o.Fq(t,a.model.modelData,i,n)}else{if(null===(a=n.data))continue;var l=e.diagram;null===l||l.skipsModelSourceBindings||o.Fq(t,a,i,n)}s===t&&(null!==(a=n.Us(o.bj))&&o.ew(a,s,i))}}function Us(t,e,i,n,r){var o=t.oc,s=t.Wf;s.reset(),Ys(t,s,e,i,n,r),t.Wf=s,o.h(e,i,n,r),s.gt()||s.bw(o)}function Vs(t,e,i,n){return!1!==t.pickable&&(n.multiply(t.transform),i?t.Gc(e,n):t.Bh(e,n))}function js(t,e,i,n,r){if(t.vb.h(e,i,n,r),!t.desiredSize.v()){var o=t.oc;e=(i=t.bh).right+i.left;var s=i.top+i.bottom;switch(i=o.width+e,o=o.height+s,n+=e,r+=s,e=Xs(t,!0),i===n&&o===r&&(e=Yo),e){case Yo:(i>n||o>r)&&(na(t,!0),t.measure(i>n?n:i,o>r?r:o,0,0));break;case Qo:na(t,!0),t.measure(n,r,0,0);break;case $o:na(t,!0),t.measure(n,o,0,0);break;case Wo:na(t,!0),t.measure(i,r,0,0)}}}function Gs(t,e,i){var n=t.vb,r=t.pc;null!==t.dc&&(zs(t,e,t.dc,!0,!0,r,n),t.dc instanceof Ma&&t.dc.type===za?(e.beginPath(),e.rect(n.x,n.y,n.width,n.height),e.Sd(t.dc)):e.fillRect(n.x,n.y,n.width,n.height)),null!==t.gb&&(zs(t,e,t.gb,!0,!1,r,n),t.gb instanceof Ma&&t.gb.type===za?(e.beginPath(),e.rect(n.x,n.y,n.width,n.height),e.Sd(t.gb)):e.fillRect(n.x,n.y,n.width,n.height)),t.Ki(e,i)}function zs(t,e,i,n,r,o,s){if(null!==i){var a=1,l=1;if("string"==typeof i)n?e.fillStyle=i:e.strokeStyle=i;else if(i.type===ja)n?e.fillStyle=i.color:e.strokeStyle=i.color;else{if(a=o.width,l=o.height,r&&(a=s.width,l=s.height),(o=e instanceof Sa)&&i.ae&&(i.type===Qa||i.Hk===a&&i.Nt===l))var h=i.ae;else{var u=0,c=0,d=0,p=0,f=0,m=0;if(m=f=0,r&&(f=s.x,m=s.y),u=i.start.x*a+i.start.offsetX,c=i.start.y*l+i.start.offsetY,d=i.end.x*a+i.end.offsetX,p=i.end.y*l+i.end.offsetY,u+=f,d+=f,c+=m,p+=m,i.type===Ga)h=e.createLinearGradient(u,c,d,p);else if(i.type===za)m=isNaN(i.endRadius)?Math.max(a,l)/2:i.endRadius,isNaN(i.startRadius)?(f=0,m=Math.max(a,l)/2):f=i.startRadius,h=e.createRadialGradient(u,c,f,d,p,m);else if(i.type===Qa)try{h=e.createPattern(i.pattern,"repeat")}catch(t){h=null}if(i.type!==Qa&&null!==(r=i.colorStops))for(r=r.iterator;r.next();)h.addColorStop(r.key,r.value);if(o&&(i.ae=h,null!==h&&(i.Hk=a,i.Nt=l),null===h&&i.type===Qa&&-1!==i.Hk)){i.Hk=-1;var v=t.diagram;null!==v&&-1===i.Hk&&g(function(){v.wf()},600)}}n?e.fillStyle=h:e.strokeStyle=h}}}function Qs(t){if(0!=(2048&t.F)==!0){var e=t.rb;if(e.reset(),!t.vb.v()||!t.oc.v())return void ta(t,!1);if(e.translate(t.vb.x-t.oc.x,t.vb.y-t.oc.y),1!==t.scale||0!==t.angle){var i=t.naturalBounds;Ys(t,e,i.x,i.y,i.width,i.height)}ta(t,!1),ea(t,!0)}0!=(4096&t.F)==!0&&(null===(e=t.panel)?(t.Kh.set(t.rb),t.Tk=t.scale,ea(t,!1)):null!==e.sd&&((i=t.Kh).reset(),e.Yd()?i.multiply(e.Kh):null!==e.panel&&i.multiply(e.panel.Kh),i.multiply(t.rb),t.Tk=t.scale*e.Tk,ea(t,!1)))}function Ys(t,e,i,n,r,o){if(1!==t.scale&&e.scale(t.scale),0!==t.cc){var s=oe;t.tf()&&t.locationSpot.eb()&&(s=t.locationSpot);var a=dt.alloc();if(t instanceof Xh&&t.locationObject!==t)for(n=(i=t.locationObject).naturalBounds,a.sk(n.x,n.y,n.width,n.height,s),i.Wf.ra(a),a.offset(-i.measuredBounds.x,-i.measuredBounds.y),s=i.panel;null!==s&&s!==t;)s.Wf.ra(a),a.offset(-s.measuredBounds.x,-s.measuredBounds.y),s=s.panel;else a.sk(i,n,r,o,s);e.rotate(t.cc,a.x,a.y),dt.free(a)}}function Ks(t){if(!1===ra(t)){var e=t.panel;null!==e?e.o():t.tf()&&(null!==(e=t.diagram)&&(e.Gd.add(t),t instanceof mu&&t.gd(),e.Xb())),oa(t,!0)}}function Xs(t,e){var i=t.stretch,n=t.panel;return null!==n&&n.type===Al.Table?$s(t,n.getRowDefinition(t.row),n.getColumnDefinition(t.column),e):null!==n&&n.type===Al.Auto&&n.Ab()===t?Ws(t,Qo,e):i===Xo?null!==n?n.type===Al.Spot&&n.Ab()===t?Ws(t,Qo,e):Ws(t,(i=n.defaultStretch)===Xo?Yo:i,e):Ws(t,Yo,e):Ws(t,i,e)}function $s(t,e,i,n){var r=t.stretch;if(r!==Xo)return Ws(t,r,n);var o=r=null;switch(e.stretch){case Wo:o=!0;break;case Qo:o=!0}switch(i.stretch){case $o:r=!0;break;case Qo:r=!0}return e=t.panel.defaultStretch,null===r&&(r=e===$o||e===Qo),null===o&&(o=e===Wo||e===Qo),Ws(t,!0===r&&!0===o?Qo:!0===r?$o:!0===o?Wo:Yo,n)}function Ws(t,e,i){if(i)return e;if(e===Yo)return Yo;if((i=t.desiredSize).v())return Yo;if(t=t.angle,!isNaN(i.width))if(90!==t&&270!==t){if(e===$o)return Yo;if(e===Qo)return Wo}else{if(e===Wo)return Yo;if(e===Qo)return $o}if(!isNaN(i.height))if(90!==t&&270!==t){if(e===Wo)return Yo;if(e===Qo)return $o}else{if(e===$o)return Yo;if(e===Qo)return Wo}return e}function qs(t,e){t.F=e?512|t.F:-513&t.F}function Js(t){return 0!=(1024&t.F)}function Zs(t,e){t.F=e?1024|t.F:-1025&t.F}function ta(t,e){t.F=e?2048|t.F:-2049&t.F}function ea(t,e){t.F=e?4096|t.F:-4097&t.F}function ia(t){return 0!=(8192&t.F)}function na(t,e){t.F=e?8192|t.F:-8193&t.F}function ra(t){return 0!=(16384&t.F)}function oa(t,e){t.F=e?16384|t.F:-16385&t.F}function sa(t){var e=t.part;if(e instanceof mu&&(null!==t.portId||t===e.port)){var i=e.diagram;null===i||i.undoManager.isUndoingRedoing||Au(e,t)}}function aa(t){var e=t.diagram;null===e||e.undoManager.isUndoingRedoing||(t instanceof Al?t instanceof mu?t.gd():t.Em(t,function(t){sa(t)}):sa(t))}function la(t,e){e.bd=t,null===t.Hg&&(t.Hg=new ct),t.Hg.add(e.propertyName,e)}function ha(t,e){for(var i=1;i<arguments.length;++i);i=arguments;var n=null,r=null;if("function"==typeof t)r=t;else if("string"==typeof t){var o=pa.H(t);"function"==typeof o?w(n=o(i=S(arguments)))||A('GraphObject.make invoked object builder "'+t+'", but it did not return an Object'):r=p.go[t]}if(null===n&&(void 0!==r&&null!==r&&r.constructor||A("GraphObject.make requires a class function or GoJS class name or name of an object builder, not: "+t),n=new r),r=1,n instanceof Br&&1<i.length){o=n;var s=i[1];("string"==typeof s||s instanceof HTMLDivElement)&&(_s(o,s),r++)}for(;r<i.length;r++)void 0===(o=i[r])?A("Undefined value at argument "+r+" for object being constructed by GraphObject.make: "+n):ua(n,o);return n}function ua(t,e){if("string"==typeof e)if(t instanceof eh)t.text=e;else if(t instanceof Ql)t.figure=e;else if(t instanceof kh)t.source=e;else if(t instanceof Al)null!==(e=Hl.H(e))&&(t.type=e);else if(t instanceof Ma){var i=Q(Ma,e);null!==i?t.type=i:A("Unknown Brush type as an argument to GraphObject.make: "+e)}else t instanceof Ke?null!==(e=Q(Ke,e))&&(t.type=e):t instanceof li&&(null!==(e=Q(li,e))&&(t.type=e));else if(e instanceof Rs)t instanceof Al||A("A GraphObject can only be added to a Panel, not to: "+t),t.add(e);else if(e instanceof Ul){var n;e.isRow&&"function"==typeof t.getRowDefinition?n=t.getRowDefinition(e.index):e.isRow||"function"!=typeof t.getColumnDefinition||(n=t.getColumnDefinition(e.index)),n instanceof Ul?n.Qs(e):A("A RowColumnDefinition can only be added to an object that implements getRowDefinition/getColumnDefinition, not to: "+t)}else if(e instanceof z)"function"==typeof t.cb&&t.cb(e);else if(e instanceof nl)t.type=e;else if(e instanceof Xd)t instanceof Rs?t.bind(e):t instanceof Ul?t.bind(e):A("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+t);else if(e instanceof Cr)t instanceof Rs?la(t,e):A("An AnimationTrigger can only be applied to a GraphObject, not to: "+t);else if(e instanceof ai)t instanceof Ke?t.figures.add(e):A("A PathFigure can only be added to a Geometry, not to: "+t);else if(e instanceof li)t instanceof ai?t.segments.add(e):A("A PathSegment can only be added to a PathFigure, not to: "+t);else if(e instanceof Dc)t instanceof Br?t.layout=e:t instanceof ku?t.layout=e:A("A Layout can only be assigned to a Diagram or a Group, not to: "+t);else if(Array.isArray(e))for(i=0;i<e.length;i++)ua(t,e[i]);else if("object"==typeof e&&null!==e)if(t instanceof Ma){for(var r in i=new K,e)n=parseFloat(r),isNaN(n)?i[r]=e[r]:t.addColorStop(n,e[r]);so(t,i)}else if(t instanceof Ul){for(i in void 0!==e.row?((void 0===(r=e.row)||null===r||1/0===r||isNaN(r)||0>r)&&A("Must specify non-negative integer row for RowColumnDefinition "+e+", not: "+r),t.isRow=!0,t.index=r):void 0!==e.column&&((void 0===(r=e.column)||null===r||1/0===r||isNaN(r)||0>r)&&A("Must specify non-negative integer column for RowColumnDefinition "+e+", not: "+r),t.isRow=!1,t.index=r),r=new K,e)"row"!==i&&"column"!==i&&(r[i]=e[i]);so(t,r)}else so(t,e);else A('Unknown initializer "'+e+'" for object being constructed by GraphObject.make: '+t)}function ca(t,e){pa.add(t,e)}function da(t,e,i){void 0===i&&(i=null);var n=t[1];if("function"==typeof i?i(n):"string"==typeof n)return t.splice(1,1),n;if(void 0===e)throw Error("no "+("function"==typeof i?"satisfactory":"string")+" argument for GraphObject builder "+t[0]);return e}Br.className="Diagram",Br.fromDiv=function(t){var e=t;return"string"==typeof t&&(e=p.document.getElementById(t)),e instanceof HTMLDivElement&&e.B instanceof Br?e.B:null},Br.inherit=function(t,e){function i(){}if(Object.getPrototypeOf(t).prototype)throw Error("Used go.Diagram.inherit defining already defined class \n"+t);i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t},Br.None=ls,Br.Uniform=hs,Br.UniformToFill=us,Br.CycleAll=cs,Br.CycleNotDirected=ds,Br.CycleNotDirectedFast=ps,Br.CycleNotUndirected=fs,Br.CycleDestinationTree=ms,Br.CycleSourceTree=gs,Br.DocumentScroll=vs,Br.InfiniteScroll=As,Br.TreeParentCollapsed=ys,Br.AllParentsCollapsed=xs,Br.AnyParentsCollapsed=bs,Ss.className="DiagramHelper",c.Object.defineProperties(Ms.prototype,{point:{get:function(){return this.l},set:function(t){this.l=t}},shifted:{get:function(){return this.u},set:function(t){this.u=t}}}),Ms.className="DraggingInfo",ks.className="DraggingNodeInfoPair",Bs.prototype.reset=function(){this.isGridSnapEnabled=!1,this.isGridSnapRealtime=!0,this.gridSnapCellSize=new Lt(NaN,NaN).freeze(),this.gridSnapCellSpot=ee,this.gridSnapOrigin=new dt(NaN,NaN).freeze(),this.Cz=this.dragsTree=this.dragsLink=!1,this.Bz=!0},u(Os,Br),Os.className="Palette",u(Ps,Br),Ps.prototype.computePixelRatio=function(){return 1},Ps.prototype.tb=function(){if(null===this.Fa&&A("No div specified"),null===this.Ba&&A("No canvas specified"),!(this.Ba instanceof va)&&($h(this.box),this.nc)){var t=this.gg;if(null!==t&&!t.animationManager.isAnimating){ho(this);var e=t.grid;null===e||!e.visible||isNaN(e.width)||isNaN(e.height)||(wo(t,e=Rt.alloc().assign(this.viewportBounds).Hc(t.viewportBounds)),Rt.free(e),io(t));var i=this.Ba;e=this.Xc;var n=this.Gu,r=this.qy;n.width=i.width,n.height=i.height,e.Qc(!0),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,i.width,i.height),(n=this.rb).reset(),1!==this.scale&&n.scale(this.scale),0===this.position.x&&0===this.position.y||n.translate(-this.position.x,-this.position.y),e.scale(this.Pb,this.Pb),e.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),n=this.lr;for(var o=this.viewportBounds,s=(t=t.Ka.j).length,a=0;a<s;a++){var l=t[a],h=n;if(l.visible&&0!==l.ob&&(void 0===h&&(h=!0),h||!l.isTemporary)){h=_r(l,e);for(var u=this.scale,c=(l=l.Ca.j).length,d=0;d<c;d++){var p=l[d],f=p.actualBounds;f.Gc(o)&&(f.width*u>this.ke||f.height*u>this.ke?p.tb(e,this):Mr(e,p))}e.globalAlpha=h}}for(r.drawImage(i.Da,0,0),r=(i=this.Ka.j).length,n=0;n<r;n++)i[n].tb(e,this);this.nc=this.hi=!1}}},Ps.prototype.computeBounds=function(){var t=this.gg;if(null===t)return Xt;var e=t.documentBounds.copy();return e.Hc(t.viewportBounds),e},Ps.prototype.Fx=function(){var t;!0!==this.nc&&(this.nc=!0,(t=this).Gb||t.$b||!1!==t.cd||(t.cd=!0,p.requestAnimationFrame(function(){if(t.cd&&!t.$b&&(t.cd=!1,null!==t.Fa)){if(t.$b=!0,io(t),t.documentBounds.v()||ko(t,t.computeBounds()),null===t.Fa&&A("No div specified"),null===t.Ba&&A("No canvas specified"),$h(t.box),t.nc){var e=t.gg;if(null!==e&&!e.animationManager.isAnimating&&!e.animationManager.ic){e=t.Xc;var i=t.Gu;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.Ba.width,t.Ba.height),e.drawImage(i.Da,0,0),(i=t.rb).reset(),1!==t.scale&&i.scale(t.scale),0===t.position.x&&0===t.position.y||i.translate(-t.position.x,-t.position.y),e.scale(t.Pb,t.Pb),e.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy);for(var n=(i=t.Ka.j).length,r=0;r<n;r++)i[r].tb(e,t);t.hi=!1,t.nc=!1}}t.$b=!1}})))},Ps.prototype.qq=function(t,e,i,n){this.Gb||(lo(this),this.N(),ao(this),this.Ta(),Ls(this),this.te.scale=i,this.te.position.x=t.x,this.te.position.y=t.y,this.te.bounds.assign(t),this.te.Hx=n,this.R("ViewportBoundsChanged",this.te,t))},c.Object.defineProperties(Ps.prototype,{observed:{get:function(){return this.gg},set:function(t){var e=this.gg;t instanceof Ps&&A("Overview.observed Diagram may not be an Overview itself: "+t),e!==t&&(null!==e&&(this.remove(this.box),e.sm("ViewportBoundsChanged",this.Km),e.sm("DocumentBoundsChanged",this.Im),e.sm("InvalidateDraw",this.Jm),e.sm("AnimationFinished",this.dj)),this.gg=t,null!==t&&(t.Oj("ViewportBoundsChanged",this.Km),t.Oj("DocumentBoundsChanged",this.Im),t.Oj("InvalidateDraw",this.Jm),t.Oj("AnimationFinished",this.dj),this.add(this.box),Ls(this)),this.Ta(),this.g("observed",e,t))}},box:{get:function(){return this.l},set:function(t){var e=this.l;e!==t&&(this.l=t,this.remove(e),this.add(this.l),Ls(this),this.g("box",e,t))}},drawsTemporaryLayers:{get:function(){return this.lr},set:function(t){this.lr!==t&&(this.lr=t,this.wf())}}}),Ps.className="Overview",u(Ns,Di),Ns.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(null===t||!t.allowMove||!t.allowSelect)return!1;var e=t.observed;if(null===e)return!1;var i=t.lastInput;return!(!i.left||t.currentTool!==this&&(!this.isBeyondDragSize()||i.isTouchEvent&&i.timestamp-t.firstInput.timestamp<this.delay))&&(null===this.findDraggablePart()&&(i=e.viewportBounds,this.l=new dt(i.width/2,i.height/2),t=t.firstInput.documentPoint,e.position=new dt(t.x-this.l.x,t.y-this.l.y)),!0)},Ns.prototype.doActivate=function(){this.l=null,Di.prototype.doActivate.call(this)},Ns.prototype.moveParts=function(){var t=this.diagram,e=t.observed;if(null!==e){var i=t.box;if(null!==i){if(null===this.l){var n=t.firstInput.documentPoint;i=i.location,this.l=new dt(n.x-i.x,n.y-i.y)}t=t.lastInput.documentPoint,e.position=new dt(t.x-this.l.x,t.y-this.l.y)}}},Ns.className="OverviewDraggingTool",Is.prototype.toString=function(){return"CommandHandler"},Is.prototype.Wd=function(t){this.B=t},Is.prototype.doKeyDown=function(){var t=this.diagram,e=t.lastInput,i=U?e.meta:e.control,n=e.shift,r=e.alt,o=e.key;!i||"C"!==o&&"Insert"!==o?i&&"X"===o||n&&"Del"===o?this.canCutSelection()&&this.cutSelection():i&&"V"===o||n&&"Insert"===o?this.canPasteSelection()&&this.pasteSelection():i&&"Y"===o||r&&n&&"Backspace"===o?this.canRedo()&&this.redo():i&&"Z"===o||r&&"Backspace"===o?this.canUndo()&&this.undo():"Del"===o||"Backspace"===o?this.canDeleteSelection()&&this.deleteSelection():i&&"A"===o?this.canSelectAll()&&this.selectAll():"Esc"===o?this.canStopCommand()&&this.stopCommand():"Up"===o?t.allowVerticalScroll&&(i?t.scroll("pixel","up"):t.scroll("line","up")):"Down"===o?t.allowVerticalScroll&&(i?t.scroll("pixel","down"):t.scroll("line","down")):"Left"===o?t.allowHorizontalScroll&&(i?t.scroll("pixel","left"):t.scroll("line","left")):"Right"===o?t.allowHorizontalScroll&&(i?t.scroll("pixel","right"):t.scroll("line","right")):"PageUp"===o?n&&t.allowHorizontalScroll?t.scroll("page","left"):t.allowVerticalScroll&&t.scroll("page","up"):"PageDown"===o?n&&t.allowHorizontalScroll?t.scroll("page","right"):t.allowVerticalScroll&&t.scroll("page","down"):"Home"===o?i&&t.allowVerticalScroll?t.scroll("document","up"):!i&&t.allowHorizontalScroll&&t.scroll("document","left"):"End"===o?i&&t.allowVerticalScroll?t.scroll("document","down"):!i&&t.allowHorizontalScroll&&t.scroll("document","right"):" "===o?this.canScrollToPart()&&this.scrollToPart():"Subtract"===o?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===o?this.canIncreaseZoom()&&this.increaseZoom():i&&"0"===o?this.canResetZoom()&&this.resetZoom():n&&"Z"===o?this.canZoomToFit()&&this.zoomToFit():i&&!n&&"G"===o?this.canGroupSelection()&&this.groupSelection():i&&n&&"G"===o?this.canUngroupSelection()&&this.ungroupSelection():e.event&&113===e.event.which?this.canEditTextBlock()&&this.editTextBlock():e.event&&93===e.event.which?this.canShowContextMenu()&&this.showContextMenu():e.bubbles=!0:this.canCopySelection()&&this.copySelection()},Is.prototype.doKeyUp=function(){this.diagram.lastInput.bubbles=!0},Is.prototype.stopCommand=function(){var t=this.diagram,e=t.currentTool;e instanceof Mi&&t.allowSelect&&t.Tu(),null!==e&&e.doCancel()},Is.prototype.canStopCommand=function(){return!0},Is.prototype.selectAll=function(){var t=this.diagram;t.N();try{t.currentCursor="wait",t.R("ChangingSelection",t.selection);for(var e=t.parts;e.next();)e.value.isSelected=!0;for(var i=t.nodes;i.next();)i.value.isSelected=!0;for(var n=t.links;n.next();)n.value.isSelected=!0}finally{t.R("ChangedSelection",t.selection),t.currentCursor=""}},Is.prototype.canSelectAll=function(){return this.diagram.allowSelect},Is.prototype.deleteSelection=function(){var t=this.diagram;try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),t.ta("Delete"),t.R("SelectionDeleting",t.selection);for(var e=new et,i=t.selection.iterator;i.next();)du(e,i.value,!0,this.deletesTree?1/0:0,!!this.deletesConnectedLinks&&null,function(t){return t.canDelete()});t.vt(e,!0),t.R("SelectionDeleted",e)}finally{t.Ua("Delete"),t.R("ChangedSelection",t.selection),t.currentCursor=""}},Is.prototype.canDeleteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowDelete||0===t.selection.count)},Is.prototype.copySelection=function(){var t=this.diagram,e=new et;for(t=t.selection.iterator;t.next();)du(e,t.value,!0,this.copiesTree?1/0:0,this.copiesConnectedLinks,function(t){return t.canCopy()});this.copyToClipboard(e)},Is.prototype.canCopySelection=function(){var t=this.diagram;return!(!t.allowCopy||!t.allowClipboard||0===t.selection.count)},Is.prototype.cutSelection=function(){this.copySelection(),this.deleteSelection()},Is.prototype.canCutSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowCopy||!t.allowDelete||!t.allowClipboard||0===t.selection.count)},Is.prototype.copyToClipboard=function(t){var e=this.diagram,i=null;if(null===t)ss=null,as="";else{i=e.model;var n=!1,r=!1,o=null;try{i.km()&&(n=i.Xj,i.Xj=this.copiesParentKey),i.dk()&&(r=i.Wj,i.Wj=this.copiesGroupKey),o=e.Yj(t,null,!0)}finally{i.km()&&(i.Xj=n),i.dk()&&(i.Wj=r),(i=new Z).addAll(o),ss=i,as=e.model.dataFormat}}e.R("ClipboardChanged",i)},Is.prototype.pasteFromClipboard=function(){var t=new et,e=ss;if(null===e)return t;var i=this.diagram;if(as!==i.model.dataFormat)return t;var n=i.model,r=!1,o=!1,s=null;try{n.km()&&(r=n.Xj,n.Xj=this.copiesParentKey),n.dk()&&(o=n.Wj,n.Wj=this.copiesGroupKey),s=i.Yj(e,i,!1)}finally{for(n.km()&&(n.Xj=r),n.dk()&&(n.Wj=o),e=s.iterator;e.next();)i=e.value,n=e.key,i.location.v()||(n.location.v()?i.location=n.location:!i.position.v()&&n.position.v()&&(i.position=n.position)),t.add(i)}return t},Is.prototype.pasteSelection=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.currentCursor="wait",e.R("ChangingSelection",e.selection),e.ta("Paste");var i=this.pasteFromClipboard();0<i.count&&Eo(e);for(var n=i.iterator;n.next();)n.value.isSelected=!0;if(null!==t){var r=e.computePartsBounds(e.selection);if(r.v())mo(e,this.computeEffectiveCollection(e.selection,e.Mk),new dt(t.x-r.centerX,t.y-r.centerY),e.Mk,!1)}e.R("ClipboardPasted",i)}finally{e.Ua("Paste"),e.R("ChangedSelection",e.selection),e.currentCursor=""}},Is.prototype.canPasteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowClipboard||null===ss||0===ss.count||as!==t.model.dataFormat)},Is.prototype.undo=function(){this.diagram.undoManager.undo()},Is.prototype.canUndo=function(){var t=this.diagram;return!t.isReadOnly&&!t.isModelReadOnly&&(t.allowUndo&&t.undoManager.canUndo())},Is.prototype.redo=function(){this.diagram.undoManager.redo()},Is.prototype.canRedo=function(){var t=this.diagram;return!t.isReadOnly&&!t.isModelReadOnly&&(t.allowUndo&&t.undoManager.canRedo())},Is.prototype.decreaseZoom=function(t){void 0===t&&(t=1/this.zoomFactor);var e=this.diagram;e.autoScale===ls&&((t=e.scale*t)<e.minScale||t>e.maxScale||(e.scale=t))},Is.prototype.canDecreaseZoom=function(t){void 0===t&&(t=1/this.zoomFactor);var e=this.diagram;return e.autoScale===ls&&(!((t=e.scale*t)<e.minScale||t>e.maxScale)&&e.allowZoom)},Is.prototype.increaseZoom=function(t){void 0===t&&(t=this.zoomFactor);var e=this.diagram;e.autoScale===ls&&((t=e.scale*t)<e.minScale||t>e.maxScale||(e.scale=t))},Is.prototype.canIncreaseZoom=function(t){void 0===t&&(t=this.zoomFactor);var e=this.diagram;return e.autoScale===ls&&(!((t=e.scale*t)<e.minScale||t>e.maxScale)&&e.allowZoom)},Is.prototype.resetZoom=function(t){void 0===t&&(t=this.defaultScale);var e=this.diagram;t<e.minScale||t>e.maxScale||(e.scale=t)},Is.prototype.canResetZoom=function(t){void 0===t&&(t=this.defaultScale);var e=this.diagram;return!(t<e.minScale||t>e.maxScale)&&e.allowZoom},Is.prototype.zoomToFit=function(){var t=this.diagram,e=t.animationManager;e.Uc(),t.wf();var i=t.position,n=t.scale;Zn(e,"Zoom To Fit"),n===this.Nu&&!isNaN(this.hu)&&t.documentBounds.A(this.Mu)?(t.scale=this.hu,t.position=this.Iw,this.Nu=NaN,this.Mu=Xt):(this.hu=n,this.Iw=i.copy(),t.zoomToFit(),this.Nu=t.scale,this.Mu=t.documentBounds.copy()),er(e)},Is.prototype.canZoomToFit=function(){return this.diagram.allowZoom},Is.prototype.scrollToPart=function(t){void 0===t&&(t=null);var e=this.diagram;if(Bo(e),null===t){try{null!==this.mg&&(this.mg.next()?t=this.mg.value:this.mg=null)}catch(t){this.mg=null}null===t&&(0<e.highlighteds.count?this.mg=e.highlighteds.iterator:0<e.selection.count&&(this.mg=e.selection.iterator),null!==this.mg&&this.mg.next()&&(t=this.mg.value))}if(null!==t){var i=e.animationManager;Zn(i,"Scroll To Part");var n=this.scrollToPartPause;if(0<n){var r=function t(e,i,n){if(i.isVisible())return n;if(i instanceof fu)t(e,i.adornedPart,n);else if(i instanceof Lu){var r=i.fromNode;null!==r&&t(e,r,n),null!==(i=i.toNode)&&t(e,i,n)}else i instanceof mu&&(r=i.labeledLink,null!==r&&t(e,r,n),r=i.yg(),null!==r&&(r.isTreeExpanded||r.wasTreeExpanded||n.push(r),t(e,r,n))),i=i.containingGroup,null!==i&&(i.isSubGraphExpanded||i.wasSubGraphExpanded||n.push(i),t(e,i,n));return n}(this,t,[t]);if(1===r.length)e.ta(),e.Os(t.actualBounds),e.Ua("Scroll To Part");else{var o=function(){e.ta();for(var t=r.pop();0<r.length&&t instanceof mu&&t.isTreeExpanded&&(!(t instanceof ku)||t.isSubGraphExpanded);)t=r.pop();0<r.length?(t instanceof Xh&&e.Ov(t.actualBounds),t instanceof mu&&!t.isTreeExpanded&&(t.isTreeExpanded=!0),t instanceof ku&&!t.isSubGraphExpanded&&(t.isSubGraphExpanded=!0)):(t instanceof Xh&&e.Os(t.actualBounds),e.sm("LayoutCompleted",s)),e.Ua("Scroll To Part")},s=function(){g(o,(i.isEnabled?i.duration:0)+n)};e.Oj("LayoutCompleted",s),o()}}else{var a=e.position.copy();e.Os(t.actualBounds),a.Ma(e.position)&&i.Uc()}}},Is.prototype.canScrollToPart=function(t){return void 0===t&&(t=null),(null===t||t instanceof Xh)&&((0!==(t=this.diagram).selection.count||0!==t.highlighteds.count)&&(t.allowHorizontalScroll&&t.allowVerticalScroll))},Is.prototype.collapseTree=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.ta("Collapse Tree"),Zn(e.animationManager,"Collapse Tree");var i=new Z;if(null!==t&&t.isTreeExpanded)t.collapseTree(),i.add(t);else if(null===t)for(var n=e.selection.iterator;n.next();){var r=n.value;r instanceof mu&&r.isTreeExpanded&&(r.collapseTree(),i.add(r))}e.R("TreeCollapsed",i)}finally{e.Ua("Collapse Tree")}},Is.prototype.canCollapseTree=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t){if(!(t instanceof mu&&t.isTreeExpanded))return!1;if(0<t.bq().count)return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof mu&&e.isTreeExpanded&&0<e.bq().count)return!0;return!1},Is.prototype.expandTree=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.ta("Expand Tree"),Zn(e.animationManager,"Expand Tree");var i=new Z;if(null===t||t.isTreeExpanded){if(null===t)for(var n=e.selection.iterator;n.next();){var r=n.value;r instanceof mu&&!r.isTreeExpanded&&(r.expandTree(),i.add(r))}}else t.expandTree(),i.add(t);e.R("TreeExpanded",i)}finally{e.Ua("Expand Tree")}},Is.prototype.canExpandTree=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t){if(!(t instanceof mu)||t.isTreeExpanded)return!1;if(0<t.bq().count)return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof mu&&!e.isTreeExpanded&&0<e.bq().count)return!0;return!1},Is.prototype.groupSelection=function(){var t=this.diagram,e=t.model;if(e.ek()){var i=this.archetypeGroupData;if(null!==i){var n=null;try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),t.ta("Group");for(var r=new Z,o=t.selection.iterator;o.next();){var s=o.value;s.Ub()&&s.canGroup()&&r.add(s)}for(var a=new Z,l=r.iterator;l.next();){var h=l.value;o=!1;for(var u=r.iterator;u.next();)if(h.Ud(u.value)){o=!0;break}o||a.add(h)}if(0<a.count){var c=a.first().containingGroup;if(null!==c)for(;null!==c;){r=!1;for(var d=a.iterator;d.next();)if(!d.value.Ud(c)){r=!0;break}if(!r)break;c=c.containingGroup}if(i instanceof ku)Ol(i),null!==(n=i.copy())&&t.add(n);else if(e.tv(i)){var p=e.copyNodeData(i);w(p)&&(e.kf(p),n=t.Mi(p))}if(null!==n){null!==c&&this.isValidMember(c,n)&&(n.containingGroup=c);for(var f=a.iterator;f.next();){var m=f.value;this.isValidMember(n,m)&&(m.containingGroup=n)}Eo(t),n.isSelected=!0}}t.R("SelectionGrouped",n)}finally{t.Ua("Group"),t.R("ChangedSelection",t.selection),t.currentCursor=""}}}},Is.prototype.canGroupSelection=function(){var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowGroup||!t.model.ek()||null===this.archetypeGroupData)return!1;for(t=t.selection.iterator;t.next();){var e=t.value;if(e.Ub()&&e.canGroup())return!0}return!1},Is.prototype.isValidMember=function(t,e){if(null===e||t===e||e instanceof Lu)return!1;if(null!==t){if(t===e||t.Ud(e))return!1;var i=t.memberValidation;if(null!==i&&!i(t,e)||null===t.data&&null!==e.data||null!==t.data&&null===e.data)return!1}return null===(i=this.memberValidation)||i(t,e)},Is.prototype.ungroupSelection=function(t){void 0===t&&(t=null);var e=this.diagram,i=e.model;if(i.ek())try{e.currentCursor="wait",e.R("ChangingSelection",e.selection),e.ta("Ungroup");var n=new Z;if(null!==t)n.add(t);else for(var r=e.selection.iterator;r.next();){var o=r.value;o instanceof ku&&o.canUngroup()&&n.add(o)}var s=new Z;if(0<n.count){Eo(e);for(var a=n.iterator;a.next();){var l=a.value;l.expandSubGraph();var h=l.containingGroup,u=null!==h&&null!==h.data?i.ja(h.data):void 0;s.addAll(l.memberParts);for(var c=s.iterator;c.next();){var d=c.value;if(d.isSelected=!0,!(d instanceof Lu)){var p=d.data;null!==p?i.yt(p,u):d.containingGroup=h}}e.remove(l)}}e.R("SelectionUngrouped",n,s)}finally{e.Ua("Ungroup"),e.R("ChangedSelection",e.selection),e.currentCursor=""}},Is.prototype.canUngroupSelection=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowDelete||!e.allowUngroup||!e.model.ek())return!1;if(null!==t){if(!(t instanceof ku))return!1;if(t.canUngroup())return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof ku&&e.canUngroup())return!0;return!1},Is.prototype.addTopLevelParts=function(t,e){var i=!0;for(t=Ds(t).iterator;t.next();){var n=t.value;null!==n.containingGroup&&(!e||this.isValidMember(null,n)?n.containingGroup=null:i=!1)}return i},Is.prototype.collapseSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.ta("Collapse SubGraph"),Zn(e.animationManager,"Collapse SubGraph");var i=new Z;if(null!==t&&t.isSubGraphExpanded)t.collapseSubGraph(),i.add(t);else if(null===t)for(var n=e.selection.iterator;n.next();){var r=n.value;r instanceof ku&&r.isSubGraphExpanded&&(r.collapseSubGraph(),i.add(r))}e.R("SubGraphCollapsed",i)}finally{e.Ua("Collapse SubGraph")}},Is.prototype.canCollapseSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t)return!!(t instanceof ku&&t.isSubGraphExpanded);for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof ku&&e.isSubGraphExpanded)return!0;return!1},Is.prototype.expandSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.ta("Expand SubGraph"),Zn(e.animationManager,"Expand SubGraph");var i=new Z;if(null===t||t.isSubGraphExpanded){if(null===t)for(var n=e.selection.iterator;n.next();){var r=n.value;r instanceof ku&&!r.isSubGraphExpanded&&(r.expandSubGraph(),i.add(r))}}else t.expandSubGraph(),i.add(t);e.R("SubGraphExpanded",i)}finally{e.Ua("Expand SubGraph")}},Is.prototype.canExpandSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t)return t instanceof ku&&!t.isSubGraphExpanded;for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof ku&&!e.isSubGraphExpanded)return!0;return!1},Is.prototype.editTextBlock=function(t){void 0===t&&(t=null);var e=this.diagram,i=e.toolManager.findTool("TextEditing");if(null!==i){if(null===t){t=null;for(var n=e.selection.iterator;n.next();){var r=n.value;if(r.canEdit()){t=r;break}}if(null===t)return;t=t.cm(function(t){return t instanceof eh&&t.editable})}null!==t&&(e.currentTool=null,i.textBlock=t,e.currentTool=i)}},Is.prototype.canEditTextBlock=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowTextEdit||null===e.toolManager.findTool("TextEditing"))return!1;if(null!==t){if(!(t instanceof eh))return!1;if(null!==(t=t.part)&&t.canEdit())return!0}else for(e=e.selection.iterator;e.next();)if((t=e.value).canEdit()&&null!==(t=t.cm(function(t){return t instanceof eh&&t.editable})))return!0;return!1},Is.prototype.showContextMenu=function(t){var e=this.diagram,i=e.toolManager.findTool("ContextMenu");if(null!==i&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==(t=i.findObjectWithContextMenu(t)))){var n=e.lastInput,r=null;t instanceof Rs?r=t.ga(oe):e.viewportBounds.$(n.documentPoint)||(r=new dt((r=e.viewportBounds).x+r.width/2,r.y+r.height/2)),null!==r&&(n.viewPoint=e.Cq(r),n.documentPoint=r,n.left=!1,n.right=!0,n.up=!0),e.currentTool=i,Pn(i,!1,t)}},Is.prototype.canShowContextMenu=function(t){var e=this.diagram,i=e.toolManager.findTool("ContextMenu");return null!==i&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==i.findObjectWithContextMenu(t))},Is.prototype.computeEffectiveCollection=function(t,e){var i=this.diagram,n=i.toolManager.findTool("Dragging"),r=i.currentTool===n;if(void 0===e&&(e=r?n.dragOptions:i.Mk),n=new ct,null===t)return n;for(var o=t.iterator;o.next();)fo(i,n,o.value,r,e);if(null!==i.draggedLink&&e.dragsLink)return n;for(o=t.iterator;o.next();)(t=o.value)instanceof Lu&&(null===(e=t.fromNode)||n.contains(e)?null===(e=t.toNode)||n.contains(e)||n.remove(t):n.remove(t));return n},c.Object.defineProperties(Is.prototype,{diagram:{get:function(){return this.B}},copiesClipboardData:{get:function(){return this.u},set:function(t){this.u=t}},copiesConnectedLinks:{get:function(){return this.I},set:function(t){this.I=t}},deletesConnectedLinks:{get:function(){return this.Za},set:function(t){this.Za=t}},copiesTree:{get:function(){return this.Ja},set:function(t){this.Ja=t}},deletesTree:{get:function(){return this.kd},set:function(t){this.kd=t}},copiesParentKey:{get:function(){return this.Ia},set:function(t){this.Ia=t}},copiesGroupKey:{get:function(){return this.Y},set:function(t){this.Y=t}},archetypeGroupData:{get:function(){return this.l},set:function(t){this.l=t}},memberValidation:{get:function(){return this.si},set:function(t){this.si=t}},defaultScale:{get:function(){return this.diagram.defaultScale},set:function(t){this.diagram.defaultScale=t}},zoomFactor:{get:function(){return this.Vc},set:function(t){1<t||A("zoomFactor must be larger than 1.0, not: "+t),this.Vc=t}},scrollToPartPause:{get:function(){return this.Ic},set:function(t){this.Ic=t}}}),Is.className="CommandHandler",Pr=function(){return new Is},Rs.prototype.cloneProtected=function(t){t.F=6144|this.F,t.ob=this.ob,t.Qa=this.Qa,t.gb=this.gb,t.dc=this.dc,t.Hg=this.Hg,t.la.assign(this.la),t.Kc=this.Kc.G(),t.Zf=this.Zf.G(),t.Yf=this.Yf.G(),t.Wf=this.Wf.copy(),t.ya=this.ya,t.cc=this.cc,t.se=this.se,t.bh=this.bh.G(),t.oc.assign(this.oc),t.vb.assign(this.vb),t.pc.assign(this.pc),t.So=this.So,null!==this.O&&(t.O=this.O.copy()),t.wb=this.wb.G(),t.zk=this.zk.G(),t.gp=this.gp,t.hp=this.hp,t.Mg=this.Mg,t.bn=this.bn,t.Ap=this.Ap,t.mp=this.mp,t.Dl=this.Dl,t.El=this.El.G(),t.Fl=this.Fl,t.$h=this.$h,null!==this.M&&(t.M=this.M.copy()),t.$a=this.$a,t.Ek=this.Ek,null!==this.Zh&&(t.Zh=S(this.Zh)),null!==this.ld&&(t.ld=this.ld.copy()),t.Hl=this.Hl},Rs.prototype.gx=function(t){var e=this.Zh;if(E(e)){for(var i=0;i<e.length;i++)if(e[i]===t)return}else this.Zh=e=[];e.push(t)},Rs.prototype.pf=function(t){t.To=null,t.Dj=null,t.o()},Rs.prototype.clone=function(){var t=new this.constructor;if(this.cloneProtected(t),null!==this.Zh)for(var e=0;e<this.Zh.length;e++){var i=this.Zh[e];t[i]=this[i]}return t},Rs.prototype.copy=function(){return this.clone()},(i=Rs.prototype).cb=function(t){t.classType===Lu?0===t.name.indexOf("Orient")?this.segmentOrientation=t:A("Unknown Link enum value for GraphObject.segmentOrientation property: "+t):t.classType===Rs&&(this.stretch=t)},i.toString=function(){return B(this.constructor)+"#"+rt(this)},i.Ec=function(){if(null===this.O){var t=new Ic;t.Vg=te,t.uh=te,t.Tg=10,t.sh=10,t.Ug=0,t.th=0,this.O=t}},i.Ya=function(t,e,i,n,r,o,s){var a=this.part;if(null!==a&&(a.qk(t,e,i,n,r,o,s),i===this&&t===bi&&Js(this)&&Hs(this,a,e),o=this.diagram,null!==this.Hg&&null!==o&&o.fk&&!o.undoManager.isUndoingRedoing&&o.currentTool===o.toolManager&&(null===(t=this.Hg.get(e))||o.animationManager.isTicking||(null===this.jp&&(this.jp=new ct),s=0===o.undoManager.transactionLevel,t.startCondition===Er?s=!0:t.startCondition===Sr&&(s=!1),s?(function(t,e){null!==(t=t.Bk)&&(t.duration&&(e.duration=t.duration),t.finished&&(e.finished=t.finished),t.easing&&(e.easing=t.easing))}(t,o=new pr),null!==(s=this.jp.get(t))&&s.stop(),this.jp.add(t,o),o.Ku=this,o.Yw=t,o.add(this,e,n,r),o.start()):(tr(o.animationManager,"Trigger"),o.animationManager.defaultAnimation.add(this,e,n,r)))),this instanceof Al&&i===a&&0!=(16777216&a.F)&&null!==a.data))for(n=(i=this.W.j).length,r=0;r<n;r++)(a=i[r])instanceof Al&&El(a,function(t){null!==t.data&&0!=(16777216&t.F)&&t.Aa(e)})},i.Us=function(t){return this.Ek===t?this:null},i.g=function(t,e,i){this.Ya(bi,t,this,e,i)},i.zx=function(t,e,i){if(!1===this.pickable)return!1;var n=this.naturalBounds;return e=t.we(e),i?vt(t.x,t.y,0,0,0,n.height)<=e||vt(t.x,t.y,0,n.height,n.width,n.height)<=e||vt(t.x,t.y,n.width,n.height,n.width,0)<=e||vt(t.x,t.y,n.width,0,0,0)<=e:t.ed(0,0)<=e&&t.ed(0,n.height)<=e&&t.ed(n.width,0)<=e&&t.ed(n.width,n.height)<=e},i.Yd=function(){return!0},i.$=function(t){var e=dt.alloc();e.assign(t),this.transform.ra(e);var i=this.actualBounds;if(!i.v())return dt.free(e),!1;var n=this.diagram;if(null!==n&&n.Pe){var r=n.gm("extraTouchThreshold"),o=n.gm("extraTouchArea"),s=o/2,a=this.naturalBounds,l=1/(n=this.qf()*n.scale);if(a.width*n<r&&a.height*n<r)return t=Yt(i.x-s*l,i.y-s*l,i.width+o*l,i.height+o*l,e.x,e.y),dt.free(e),t}return r=!1,(this instanceof fu||this instanceof Ql?Yt(i.x-5,i.y-5,i.width+10,i.height+10,e.x,e.y):i.$(e))&&(r=!(this.ld&&!this.ld.$(e))&&(!(null===this.dc||!i.$(e))||(!(null===this.gb||!this.pc.$(t))||this.Ch(t)))),dt.free(e),r},i.Ch=function(t){var e=this.naturalBounds;return Yt(0,0,e.width,e.height,t.x,t.y)},i.nf=function(t){if(0===this.angle)return this.actualBounds.nf(t);var e=this.naturalBounds;e=Rt.allocAt(0,0,e.width,e.height);var i=this.transform,n=!1,r=dt.allocAt(t.x,t.y);return e.$(i.Td(r))&&(r.h(t.x,t.bottom),e.$(i.Td(r))&&(r.h(t.right,t.bottom),e.$(i.Td(r))&&(r.h(t.right,t.y),e.$(i.Td(r))&&(n=!0)))),dt.free(r),Rt.free(e),n},i.Bh=function(t,e){if(void 0===e)return t.nf(this.actualBounds);var i=this.naturalBounds,n=!1,r=dt.allocAt(0,0);return t.$(e.ra(r))&&(r.h(0,i.height),t.$(e.ra(r))&&(r.h(i.width,i.height),t.$(e.ra(r))&&(r.h(i.width,0),t.$(e.ra(r))&&(n=!0)))),dt.free(r),n},i.Gc=function(t,e){if(void 0===e&&(e=this.transform,0===this.angle))return t.Gc(this.actualBounds);var i=this.naturalBounds,n=dt.allocAt(0,0),r=dt.allocAt(0,i.height),o=dt.allocAt(i.width,i.height),s=dt.allocAt(i.width,0),a=!1;if(t.$(e.ra(n))||t.$(e.ra(r))||t.$(e.ra(o))||t.$(e.ra(s)))a=!0;else{i=Rt.allocAt(0,0,i.width,i.height);var l=dt.allocAt(t.x,t.y);i.$(e.Td(l))?a=!0:(l.h(t.x,t.bottom),i.$(e.Td(l))?a=!0:(l.h(t.right,t.bottom),i.$(e.Td(l))?a=!0:(l.h(t.right,t.y),i.$(e.Td(l))&&(a=!0)))),dt.free(l),Rt.free(i),!a&&(Ye.dt(t,n,r)||Ye.dt(t,r,o)||Ye.dt(t,o,s)||Ye.dt(t,s,n))&&(a=!0)}return dt.free(n),dt.free(r),dt.free(o),dt.free(s),a},i.ga=function(t,e){if(void 0===e&&(e=new dt),t instanceof He){var i=this.naturalBounds;e.h(t.x*i.width+t.offsetX,t.y*i.height+t.offsetY)}else e.set(t);return this.sd.ra(e),e},i.cq=function(t){void 0===t&&(t=new Rt);var e=this.naturalBounds,i=this.sd,n=dt.allocAt(0,0).transform(i);return t.h(n.x,n.y,0,0),n.h(e.width,0).transform(i),Qt(t,n.x,n.y,0,0),n.h(e.width,e.height).transform(i),Qt(t,n.x,n.y,0,0),n.h(0,e.height).transform(i),Qt(t,n.x,n.y,0,0),dt.free(n),t},i.Ri=function(){var t=this.sd;return 1===t.m11&&0===t.m12?t=0:0>(t=180*Math.atan2(t.m12,t.m11)/Math.PI)&&(t+=360),t},i.qf=function(){if(0!=(4096&this.F)==!1)return this.Tk;var t=this.ya;return null!==this.panel?t*this.panel.qf():t},i.$s=function(t,e){return void 0===e&&(e=new dt),e.assign(t),this.sd.Td(e),e},i.Sc=function(t,e,i){return this.ck(t.x,t.y,e.x,e.y,i)},i.ck=function(t,e,i,n,r){var o=this.transform,s=1/(o.m11*o.m22-o.m12*o.m21),a=o.m22*s,l=-o.m12*s,h=-o.m21*s,u=o.m11*s,c=s*(o.m21*o.dy-o.m22*o.dx),d=s*(o.m12*o.dx-o.m11*o.dy);return null!==this.areaBackground?(o=this.actualBounds,Ye.Sc(o.left,o.top,o.right,o.bottom,t,e,i,n,r)):(s=t*a+e*h+c,t=t*l+e*u+d,e=i*a+n*h+c,i=i*l+n*u+d,r.h(0,0),n=this.naturalBounds,i=Ye.Sc(0,0,n.width,n.height,s,t,e,i,r),r.transform(o),i)},Rs.prototype.measure=function(t,e,i,n){if(!1!==ia(this)){var r=this.bh,o=r.right+r.left;r=r.top+r.bottom,t=Math.max(t-o,0),e=Math.max(e-r,0),i=Math.max((i||0)-o,0),n=Math.max((n||0)-r,0),o=this.angle,r=this.desiredSize;var s=0;this instanceof Ql&&(s=this.strokeWidth),90===o||270===o?(t=isFinite(r.height)?r.height+s:t,e=isFinite(r.width)?r.width+s:e):(t=isFinite(r.width)?r.width+s:t,e=isFinite(r.height)?r.height+s:e),r=i||0,s=n||0;var a=this instanceof Al;switch(Xs(this,!0)){case Yo:s=r=0,a&&(e=t=1/0);break;case Qo:isFinite(t)&&t>i&&(r=t),isFinite(e)&&e>n&&(s=e);break;case $o:isFinite(t)&&t>i&&(r=t),s=0,a&&(e=1/0);break;case Wo:isFinite(e)&&e>n&&(s=e),r=0,a&&(t=1/0)}a=this.maxSize;var l=this.minSize;r>a.width&&l.width<a.width&&(r=a.width),s>a.height&&l.height<a.height&&(s=a.height),i=Math.max(r/this.scale,l.width),n=Math.max(s/this.scale,l.height),a.width<i&&(i=Math.min(l.width,i)),a.height<n&&(n=Math.min(l.height,n)),t=Math.min(a.width,t),e=Math.min(a.height,e),t=Math.max(i,t),e=Math.max(n,e),90!==o&&270!==o||(o=t,t=e,e=o,o=i,i=n,n=o),this.oc.ea(),this.mm(t,e,i,n),this.oc.freeze(),this.oc.v()||A("Non-real measuredBounds has been set. Object "+this+", measuredBounds: "+this.oc.toString()),na(this,!1)}},Rs.prototype.mm=function(){},Rs.prototype.tf=function(){return!1},Rs.prototype.arrange=function(t,e,i,n,r){this.jl();var o=Rt.alloc();o.assign(this.vb),this.vb.ea(),!1===ra(this)?this.vb.h(t,e,i,n):this.Ah(t,e,i,n),this.vb.freeze(),this.ld=void 0===r?null:r,i=!1,void 0!==r?i=!0:(null===(r=this.panel)||r.type!==Al.TableRow&&r.type!==Al.TableColumn||(r=r.panel),null!==r&&(r=r.pc,n=this.measuredBounds,null!==this.areaBackground&&(n=this.vb),i=e+n.height,n=t+n.width,i=!(0<=t+.05&&n<=r.width+.05&&0<=e+.05&&i<=r.height+.05),this instanceof eh&&(t=this.naturalBounds,this.Tr>t.height||this.nb>t.width))&&(i=!0)),this.F=i?256|this.F:-257&this.F,this.vb.v()||A("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.vb.toString()),this.qt(o,this.vb),oa(this,!1),Rt.free(o)},(i=Rs.prototype).Ah=function(){},i.qt=function(t,e){var i=this.part;null!==i&&null!==i.diagram&&(i.selectionObject!==this&&i.resizeObject!==this&&i.rotateObject!==this||lu(i,!0),this.N(),Vt(t,e)||(i.Eh(),this.Ho(i)))},i.Ho=function(t){null!==this.portId&&(lu(t,!0),t instanceof mu&&Au(t,this))},i.tb=function(t,e){if(this.visible){var i=this instanceof Al&&(this.type===Al.TableRow||this.type===Al.TableColumn),n=this.vb;if(i||0!==n.width&&0!==n.height&&!isNaN(n.x)&&!isNaN(n.y)){var r=this.opacity;if(0!==r){var o=1;if(1!==r&&(o=t.globalAlpha,t.globalAlpha=o*r),!this.vx(t,e))if(i)Gs(this,t,e);else{this instanceof Lu&&this.ik(!1),i=this.transform;var s=this.panel;0!=(4096&this.F)==!0&&Qs(this);var a=this.part,l=!1,h=0;if(a&&e.xe("drawShadows")&&(l=a.isShadowed)){var u=a.shadowOffset;h=Math.max(u.y,u.x)*e.scale*e.Pb}if(!(u=e.qj||!this.tf())){var c,d=this.naturalBounds,p=(u=this.Kh).m11,f=u.m21,m=u.dx,g=u.m12,v=u.m22,A=u.dy,y=c=0;u=c*p+y*f+m;var x=c*g+y*v+A,b=(c=d.width+h)*p+(y=0)*f+m;c=c*g+y*v+A,y=Math.min(u,b);var C=Math.min(x,c),w=Math.max(u+0,b)-y,E=Math.max(x+0,c)-C;u=y,x=C,b=(c=d.width+h)*p+(y=d.height+h)*f+m,c=c*g+y*v+A,y=Math.min(u,b),C=Math.min(x,c),w=Math.max(u+w,b)-y,E=Math.max(x+E,c)-C,u=y,x=C,b=(c=0)*p+(y=d.height+h)*f+m,c=c*g+y*v+A,y=Math.min(u,b),C=Math.min(x,c),w=Math.max(u+w,b)-y,E=Math.max(x+E,c)-C,u=y,x=C,d=(h=e.viewportBounds).x,p=h.y,u=!(u>h.width+d||d>w+u||x>h.height+p||p>E+x)}if(u){if(u=0!=(256&this.F),t.clipInsteadOfFill&&(u=!1),this instanceof eh&&(t.font=this.font),u){if(x=s.Yd()?s.naturalBounds:s.actualBounds,null!==this.ld?(w=(d=this.ld).x,E=d.y,h=d.width,d=d.height):(w=Math.max(n.x,x.x),E=Math.max(n.y,x.y),h=Math.min(n.right,x.right)-w,d=Math.min(n.bottom,x.bottom)-E),w>n.width+n.x||n.x>x.width+x.x)return void(1!==r&&(t.globalAlpha=o));t.save(),t.beginPath(),t.rect(w,E,h,d),t.clip()}if(this.tf()){if(!a.isVisible())return void(1!==r&&(t.globalAlpha=o));l&&(x=a.shadowOffset,t.Vv(x.x*e.scale*e.Pb,x.y*e.scale*e.Pb,a.shadowBlur),wa(t),t.shadowColor=a.shadowColor)}!0===this.shadowVisible?wa(t):!1===this.shadowVisible&&Ca(t),a=this.naturalBounds,null!==this.dc&&(zs(this,t,this.dc,!0,!0,a,n),this.dc instanceof Ma&&this.dc.type===za?(t.beginPath(),t.rect(n.x,n.y,n.width,n.height),t.Sd(this.dc)):t.fillRect(n.x,n.y,n.width,n.height)),t.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),l&&(null!==s&&0!=(512&s.F)||null!==s&&(s.type===Al.Auto||s.type===Al.Spot)&&s.Ab()!==this)&&null===this.shadowVisible&&Ca(t),null!==this.gb&&(w=x=0,E=(h=this.naturalBounds).width,h=h.height,d=0,this instanceof Ql&&(x=(h=this.oa.bounds).x,w=h.y,E=h.width,h=h.height,d=this.strokeWidth),zs(this,t,this.gb,!0,!1,a,n),this.gb instanceof Ma&&this.gb.type===za?(t.beginPath(),t.rect(x-d/2,w-d/2,E+d,h+d),t.Sd(this.gb)):t.fillRect(x-d/2,w-d/2,E+d,h+d)),l&&(null!==this.gb||null!==this.dc||null!==s&&0!=(512&s.F)||null!==s&&(s.type===Al.Auto||s.type===Al.Spot)&&s.Ab()!==this)?(qs(this,!0),null===this.shadowVisible&&Ca(t)):qs(this,!1),this.Ki(t,e),l&&0!=(512&this.F)==!0&&wa(t),this.tf()&&l&&Ca(t),u?(t.restore(),this instanceof Al?t.Qc(!0):t.Qc(!1)):i.gt()||(e=1/(i.m11*i.m22-i.m12*i.m21),t.transform(i.m22*e,-i.m12*e,-i.m21*e,i.m11*e,e*(i.m21*i.dy-i.m22*i.dx),e*(i.m12*i.dx-i.m11*i.dy)))}}1!==r&&(t.globalAlpha=o)}}}},i.vx=function(){return!1},i.Ki=function(){},i.Ag=function(t){if(t instanceof Al)t:{if(this!==t&&null!==t)for(var e=this.panel;null!==e;){if(e===t){t=!0;break t}e=e.panel}t=!1}else t=!1;return t},i.vf=function(){if(!this.visible)return!1;var t=this.panel;return null===t||t.vf()},i.Bg=function(){for(var t=this instanceof Al?this:this.panel;null!==t&&t.isEnabled;)t=t.panel;return null===t},i.o=function(t){if(void 0===t&&(t=!1),!0!==ia(this)){na(this,!0),oa(this,!0);var e=this.panel;null===e||t||e.o()}},i.im=function(){!0!==ia(this)&&(na(this,!0),oa(this,!0))},i.jl=function(){0!=(2048&this.F)==!1&&(ta(this,!0),ea(this,!0))},i.rv=function(){ea(this,!0)},i.N=function(){var t=this.part;null!==t&&t.N()},i.Yi=function(t){this.jg=t},i.Tv=function(){},i.Sv=function(t){return this.la.assign(t),Ks(this),!0},i.zq=function(t,e){this.la.x===t&&this.la.y===e||(this.la.h(t,e),this.jl())},i.bind=function(t){t.bd=this;var e=this.Oi();null!==e&&Bl(e)&&A("Cannot add a Binding to a template that has already been copied: "+t),null===this.$a&&(this.$a=new Z),this.$a.add(t)},i.Oi=function(){for(var t=this instanceof Al?this:this.panel;null!==t;){if(null!==t.Xh)return t;t=t.panel}return null},i.Uv=function(t){so(this,t)},c.Object.defineProperties(Rs.prototype,{shadowVisible:{get:function(){return this.Hl},set:function(t){var e=this.Hl;e!==t&&(this.Hl=t,this.N(),this.g("shadowVisible",e,t))}},enabledChanged:{get:function(){return null!==this.M?this.M.zn:null},set:function(t){Fs(this);var e=this.M.zn;e!==t&&(this.M.zn=t,this.g("enabledChanged",e,t))}},segmentOrientation:{get:function(){return this.Fl},set:function(t){var e=this.Fl;e!==t&&(this.Fl=t,this.o(),this.g("segmentOrientation",e,t),t===ic&&(this.angle=0))}},segmentIndex:{get:function(){return this.mp},set:function(t){t=Math.round(t);var e=this.mp;e!==t&&(this.mp=t,this.o(),this.g("segmentIndex",e,t))}},segmentFraction:{get:function(){return this.Dl},set:function(t){isNaN(t)?t=0:0>t?t=0:1<t&&(t=1);var e=this.Dl;e!==t&&(this.Dl=t,this.o(),this.g("segmentFraction",e,t))}},segmentOffset:{get:function(){return this.El},set:function(t){var e=this.El;e.A(t)||(this.El=t=t.G(),this.o(),this.g("segmentOffset",e,t))}},stretch:{get:function(){return this.se},set:function(t){var e=this.se;e!==t&&(this.se=t,this.o(),this.g("stretch",e,t))}},name:{get:function(){return this.Qa},set:function(t){var e=this.Qa;e!==t&&(this.Qa=t,null!==this.part&&(this.part.zj=null),this.g("name",e,t))}},opacity:{get:function(){return this.ob},set:function(t){var e=this.ob;e!==t&&((0>t||1<t)&&x(t,"0 <= value <= 1",Rs,"opacity"),this.ob=t,this.g("opacity",e,t),t=this.diagram,e=this.part,null!==t&&null!==e&&t.N(Jh(e,e.actualBounds)))}},visible:{get:function(){return 0!=(1&this.F)},set:function(t){var e=0!=(1&this.F);e!==t&&(this.F^=1,this.g("visible",e,t),null!==(e=this.panel)?e.o():this.tf()&&this.Nb(t),this.N(),aa(this))}},pickable:{get:function(){return 0!=(2&this.F)},set:function(t){var e=0!=(2&this.F);e!==t&&(this.F^=2,this.g("pickable",e,t))}},fromLinkableDuplicates:{get:function(){return 0!=(4&this.F)},set:function(t){var e=0!=(4&this.F);e!==t&&(this.F^=4,this.g("fromLinkableDuplicates",e,t))}},fromLinkableSelfNode:{get:function(){return 0!=(8&this.F)},set:function(t){var e=0!=(8&this.F);e!==t&&(this.F^=8,this.g("fromLinkableSelfNode",e,t))}},toLinkableDuplicates:{get:function(){return 0!=(16&this.F)},set:function(t){var e=0!=(16&this.F);e!==t&&(this.F^=16,this.g("toLinkableDuplicates",e,t))}},toLinkableSelfNode:{get:function(){return 0!=(32&this.F)},set:function(t){var e=0!=(32&this.F);e!==t&&(this.F^=32,this.g("toLinkableSelfNode",e,t))}},isPanelMain:{get:function(){return 0!=(64&this.F)},set:function(t){var e=0!=(64&this.F);e!==t&&(this.F^=64,this.o(),this.g("isPanelMain",e,t))}},isActionable:{get:function(){return 0!=(128&this.F)},set:function(t){var e=0!=(128&this.F);e!==t&&(this.F^=128,this.g("isActionable",e,t))}},areaBackground:{get:function(){return this.dc},set:function(t){var e=this.dc;e!==t&&(null!==t&&Ua(t,"GraphObject.areaBackground"),t instanceof Ma&&t.freeze(),this.dc=t,this.N(),this.g("areaBackground",e,t))}},background:{get:function(){return this.gb},set:function(t){var e=this.gb;e!==t&&(null!==t&&Ua(t,"GraphObject.background"),t instanceof Ma&&t.freeze(),this.gb=t,this.N(),this.g("background",e,t))}},part:{get:function(){if(this.tf())return this;if(null!==this.Dj)return this.Dj;var t;for(t=this.panel;t;){if(t instanceof Xh)return this.Dj=t;t=t.panel}return null}},svg:{get:function(){return this.Cs},set:function(t){this.Cs=t}},panel:{get:function(){return this.jg}},layer:{get:function(){var t=this.part;return null!==t?t.layer:null}},diagram:{get:function(){var t=this.part;return null!==t?t.diagram:null}},position:{get:function(){return this.la},set:function(t){var e=t.x,i=t.y,n=this.la,r=n.x,o=n.y;(r===e||isNaN(r)&&isNaN(e))&&(o===i||isNaN(o)&&isNaN(i))?this.Tv():(t=t.copy(),this.Sv(t,n)&&this.g("position",n.copy(),t))}},actualBounds:{get:function(){return this.vb}},scale:{get:function(){return this.ya},set:function(t){var e=this.ya;e!==t&&(0>=t&&A("GraphObject.scale for "+this+" must be greater than zero, not: "+t),this.ya=t,this.o(),this.g("scale",e,t))}},angle:{get:function(){return this.cc},set:function(t){var e=this.cc;e!==t&&(0>(t%=360)&&(t+=360),e!==t&&(this.cc=t,aa(this),this.o(),this.g("angle",e,t)))}},desiredSize:{get:function(){return this.Kc},set:function(t){var e=t.width,i=t.height,n=this.Kc,r=n.width,o=n.height;(r===e||isNaN(r)&&isNaN(e))&&(o===i||isNaN(o)&&isNaN(i))||(this.Kc=t=t.G(),this.o(),this instanceof Ql&&this.bc(),this.g("desiredSize",n,t),Js(this)&&(null!==(t=this.part)&&(Hs(this,t,"width"),Hs(this,t,"height"))))}},width:{get:function(){return this.Kc.width},set:function(t){var e=this.Kc.width;e===t||isNaN(e)&&isNaN(t)||(e=this.Kc,this.Kc=t=new Lt(t,this.Kc.height).freeze(),this.o(),this instanceof Ql&&this.bc(),this.g("desiredSize",e,t),Js(this)&&(null!==(t=this.part)&&Hs(this,t,"width")))}},height:{get:function(){return this.Kc.height},set:function(t){var e=this.Kc.height;e===t||isNaN(e)&&isNaN(t)||(e=this.Kc,this.Kc=t=new Lt(this.Kc.width,t).freeze(),this.o(),this instanceof Ql&&this.bc(),this.g("desiredSize",e,t),Js(this)&&(null!==(t=this.part)&&Hs(this,t,"height")))}},minSize:{get:function(){return this.Zf},set:function(t){var e=this.Zf;e.A(t)||(t=t.copy(),isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t.freeze(),this.Zf=t,this.o(),this.g("minSize",e,t))}},maxSize:{get:function(){return this.Yf},set:function(t){var e=this.Yf;e.A(t)||(t=t.copy(),isNaN(t.width)&&(t.width=1/0),isNaN(t.height)&&(t.height=1/0),t.freeze(),this.Yf=t,this.o(),this.g("maxSize",e,t))}},measuredBounds:{get:function(){return this.oc}},naturalBounds:{get:function(){return this.pc}},margin:{get:function(){return this.bh},set:function(t){"number"==typeof t&&(t=new qt(t));var e=this.bh;e.A(t)||(this.bh=t=t.G(),this.o(),this.g("margin",e,t))}},transform:{get:function(){return 0!=(2048&this.F)==!0&&Qs(this),this.rb}},sd:{get:function(){return 0!=(4096&this.F)==!0&&Qs(this),this.Kh}},alignment:{get:function(){return this.wb},set:function(t){var e=this.wb;e.A(t)||(t.jc()&&!t.Mb()&&A("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+t),this.wb=t=t.G(),Ks(this),this.g("alignment",e,t))}},column:{get:function(){return this.Mg},set:function(t){t=Math.round(t);var e=this.Mg;e!==t&&(0>t&&x(t,">= 0",Rs,"column"),this.Mg=t,this.o(),this.g("column",e,t))}},columnSpan:{get:function(){return this.bn},set:function(t){t=Math.round(t);var e=this.bn;e!==t&&(1>t&&x(t,">= 1",Rs,"columnSpan"),this.bn=t,this.o(),this.g("columnSpan",e,t))}},row:{get:function(){return this.gp},set:function(t){t=Math.round(t);var e=this.gp;e!==t&&(0>t&&x(t,">= 0",Rs,"row"),this.gp=t,this.o(),this.g("row",e,t))}},rowSpan:{get:function(){return this.hp},set:function(t){t=Math.round(t);var e=this.hp;e!==t&&(1>t&&x(t,">= 1",Rs,"rowSpan"),this.hp=t,this.o(),this.g("rowSpan",e,t))}},spanAllocation:{get:function(){return this.Ap},set:function(t){var e=this.Ap;e!==t&&(this.Ap=t,this.o(),this.g("spanAllocation",e,t))}},alignmentFocus:{get:function(){return this.zk},set:function(t){var e=this.zk;e.A(t)||(this.zk=t=t.G(),this.o(),this.g("alignmentFocus",e,t))}},portId:{get:function(){return this.So},set:function(t){var e=this.So;if(e!==t){var i=this.part;null===i||i instanceof mu||(A("Cannot set portID on a Link: "+t),i=null),null!==e&&null!==i&&Su(i,this),this.So=t,null!==t&&null!==i&&(i.Dh=!0,Eu(i,this)),this.g("portId",e,t)}}},toSpot:{get:function(){return null!==this.O?this.O.uh:te},set:function(t){this.Ec();var e=this.O.uh;e.A(t)||(t=t.G(),this.O.uh=t,this.g("toSpot",e,t),sa(this))}},toEndSegmentLength:{get:function(){return null!==this.O?this.O.sh:10},set:function(t){this.Ec();var e=this.O.sh;e!==t&&(0>t&&x(t,">= 0",Rs,"toEndSegmentLength"),this.O.sh=t,this.g("toEndSegmentLength",e,t),sa(this))}},toShortLength:{get:function(){return null!==this.O?this.O.th:0},set:function(t){this.Ec();var e=this.O.th;e!==t&&(this.O.th=t,this.g("toShortLength",e,t),sa(this))}},toLinkable:{get:function(){return null!==this.O?this.O.Ip:null},set:function(t){this.Ec();var e=this.O.Ip;e!==t&&(this.O.Ip=t,this.g("toLinkable",e,t))}},toMaxLinks:{get:function(){return null!==this.O?this.O.Jp:1/0},set:function(t){this.Ec();var e=this.O.Jp;e!==t&&(0>t&&x(t,">= 0",Rs,"toMaxLinks"),this.O.Jp=t,this.g("toMaxLinks",e,t))}},fromSpot:{get:function(){return null!==this.O?this.O.Vg:te},set:function(t){this.Ec();var e=this.O.Vg;e.A(t)||(t=t.G(),this.O.Vg=t,this.g("fromSpot",e,t),sa(this))}},fromEndSegmentLength:{get:function(){return null!==this.O?this.O.Tg:10},set:function(t){this.Ec();var e=this.O.Tg;e!==t&&(0>t&&x(t,">= 0",Rs,"fromEndSegmentLength"),this.O.Tg=t,this.g("fromEndSegmentLength",e,t),sa(this))}},fromShortLength:{get:function(){return null!==this.O?this.O.Ug:0},set:function(t){this.Ec();var e=this.O.Ug;e!==t&&(this.O.Ug=t,this.g("fromShortLength",e,t),sa(this))}},fromLinkable:{get:function(){return null!==this.O?this.O.Dn:null},set:function(t){this.Ec();var e=this.O.Dn;e!==t&&(this.O.Dn=t,this.g("fromLinkable",e,t))}},fromMaxLinks:{get:function(){return null!==this.O?this.O.En:1/0},set:function(t){this.Ec();var e=this.O.En;e!==t&&(0>t&&x(t,">= 0",Rs,"fromMaxLinks"),this.O.En=t,this.g("fromMaxLinks",e,t))}},cursor:{get:function(){return this.$h},set:function(t){var e=this.$h;e!==t&&(this.$h=t,this.g("cursor",e,t))}},click:{get:function(){return null!==this.M?this.M.Jf:null},set:function(t){Fs(this);var e=this.M.Jf;e!==t&&(this.M.Jf=t,this.g("click",e,t))}},doubleClick:{get:function(){return null!==this.M?this.M.Of:null},set:function(t){Fs(this);var e=this.M.Of;e!==t&&(this.M.Of=t,this.g("doubleClick",e,t))}},contextClick:{get:function(){return null!==this.M?this.M.Kf:null},set:function(t){Fs(this);var e=this.M.Kf;e!==t&&(this.M.Kf=t,this.g("contextClick",e,t))}},mouseEnter:{get:function(){return null!==this.M?this.M.ag:null},set:function(t){Fs(this);var e=this.M.ag;e!==t&&(this.M.ag=t,this.g("mouseEnter",e,t))}},mouseLeave:{get:function(){return null!==this.M?this.M.dg:null},set:function(t){Fs(this);var e=this.M.dg;e!==t&&(this.M.dg=t,this.g("mouseLeave",e,t))}},mouseOver:{get:function(){return null!==this.M?this.M.eg:null},set:function(t){Fs(this);var e=this.M.eg;e!==t&&(this.M.eg=t,this.g("mouseOver",e,t))}},mouseHover:{get:function(){return null!==this.M?this.M.cg:null},set:function(t){Fs(this);var e=this.M.cg;e!==t&&(this.M.cg=t,this.g("mouseHover",e,t))}},mouseHold:{get:function(){return null!==this.M?this.M.bg:null},set:function(t){Fs(this);var e=this.M.bg;e!==t&&(this.M.bg=t,this.g("mouseHold",e,t))}},mouseDragEnter:{get:function(){return null!==this.M?this.M.uo:null},set:function(t){Fs(this);var e=this.M.uo;e!==t&&(this.M.uo=t,this.g("mouseDragEnter",e,t))}},mouseDragLeave:{get:function(){return null!==this.M?this.M.vo:null},set:function(t){Fs(this);var e=this.M.vo;e!==t&&(this.M.vo=t,this.g("mouseDragLeave",e,t))}},mouseDrop:{get:function(){return null!==this.M?this.M.$f:null},set:function(t){Fs(this);var e=this.M.$f;e!==t&&(this.M.$f=t,this.g("mouseDrop",e,t))}},actionDown:{get:function(){return null!==this.M?this.M.Mm:null},set:function(t){Fs(this);var e=this.M.Mm;e!==t&&(this.M.Mm=t,this.g("actionDown",e,t))}},actionMove:{get:function(){return null!==this.M?this.M.Nm:null},set:function(t){Fs(this);var e=this.M.Nm;e!==t&&(this.M.Nm=t,this.g("actionMove",e,t))}},actionUp:{get:function(){return null!==this.M?this.M.Om:null},set:function(t){Fs(this);var e=this.M.Om;e!==t&&(this.M.Om=t,this.g("actionUp",e,t))}},actionCancel:{get:function(){return null!==this.M?this.M.Lm:null},set:function(t){Fs(this);var e=this.M.Lm;e!==t&&(this.M.Lm=t,this.g("actionCancel",e,t))}},toolTip:{get:function(){return null!==this.M?this.M.qg:null},set:function(t){Fs(this);var e=this.M.qg;e!==t&&(this.M.qg=t,this.g("toolTip",e,t))}},contextMenu:{get:function(){return null!==this.M?this.M.Lf:null},set:function(t){Fs(this);var e=this.M.Lf;e!==t&&(this.M.Lf=t,this.g("contextMenu",e,t))}}}),Rs.prototype.setProperties=Rs.prototype.Uv,Rs.prototype.findTemplateBinder=Rs.prototype.Oi,Rs.prototype.bind=Rs.prototype.bind,Rs.prototype.isEnabledObject=Rs.prototype.Bg,Rs.prototype.isVisibleObject=Rs.prototype.vf,Rs.prototype.isContainedBy=Rs.prototype.Ag,Rs.prototype.getNearestIntersectionPoint=Rs.prototype.Sc,Rs.prototype.getLocalPoint=Rs.prototype.$s,Rs.prototype.getDocumentScale=Rs.prototype.qf,Rs.prototype.getDocumentAngle=Rs.prototype.Ri,Rs.prototype.getDocumentBounds=Rs.prototype.cq,Rs.prototype.getDocumentPoint=Rs.prototype.ga,Rs.prototype.intersectsRect=Rs.prototype.Gc,Rs.prototype.containedInRect=Rs.prototype.Bh,Rs.prototype.containsRect=Rs.prototype.nf,Rs.prototype.containsPoint=Rs.prototype.$,Rs.prototype.raiseChanged=Rs.prototype.g,Rs.prototype.raiseChangedEvent=Rs.prototype.Ya,Rs.prototype.addCopyProperty=Rs.prototype.gx;var pa=null;function fa(){this.zn=this.Lf=this.qg=this.Lm=this.Om=this.Nm=this.Mm=this.$f=this.vo=this.uo=this.bg=this.cg=this.eg=this.dg=this.ag=this.Kf=this.Of=this.Jf=null}function ma(){this.La=[1,0,0,1,0,0]}function ga(t){this.type=t,this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0,this.ox=[],this.pattern=null}function va(t,e){this.ownerDocument=t=void 0===e?p.document:e,this.Xz="http://www.w3.org/2000/svg",void 0!==t&&(this.Da=this.ub("svg",{width:"1px",height:"1px",viewBox:"0 0 1 1"}),this.Da.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),this.Da.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink")),this.Yp=null,this.context=new Aa(this)}function Aa(t){this.tk=t,this.svg=t.Da,this.stack=[],this.wc=[],this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.strokeStyle="#000000",this.textAlign="start",this.clipInsteadOfFill=!1,this.$e=this.wp=this.vp=0,this.jq=null,this.path=[],this.eu=!1,this.nh=null,this.oh=0,this.Rd=new ma,ba(this,1,0,0,1,0,0);var e=ot++,i=this.ub("clipPath",{id:"mainClip"+e});i.appendChild(this.ub("rect",{x:0,y:0,width:t.width,height:t.height})),this.ju=i,this.tk.Da.appendChild(i),this.wc[0].setAttributeNS(null,"clip-path","url(#mainClip"+e+")"),this.Zz={}}function ya(t,e,i,n,r){1!==t.globalAlpha&&(i.opacity=t.globalAlpha),"fill"===e?(t.fillStyle instanceof ga?i.fill=xa(t,t.fillStyle):(/^rgba\(/.test(t.fillStyle)&&(e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),i.fill="rgb("+e[1]+","+e[2]+","+e[3]+")",i["fill-opacity"]=e[4]),i.fill=t.fillStyle),i.stroke="none"):"stroke"===e&&(i.fill="none",t.strokeStyle instanceof ga?i.stroke=xa(t,t.strokeStyle):(/^rgba\(/.test(t.strokeStyle)&&(e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.strokeStyle),i.stroke="rgb("+e[1]+","+e[2]+","+e[3]+")",i["stroke-opacity"]=e[4]),i.stroke=t.strokeStyle),i["stroke-width"]=t.lineWidth,i["stroke-linecap"]=t.lineCap,i["stroke-linejoin"]=t.lineJoin,i["stroke-miterlimit"]=t.miterLimit),t="matrix("+(t=n.La)[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")",void 0!==r&&(t+=r),i.transform=t}function xa(t,e){var i="GRAD"+ot++;if("linear"===e.type)var n=t.ub("linearGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,id:i,gradientUnits:"userSpaceOnUse"});else{if("radial"!==e.type)throw Error("invalid gradient");n=t.ub("radialGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,r1:e.r1,r2:e.r2,id:i})}var r=e.ox;e=r.length;for(var o=[],s=0;s<e;s++){var a=r[s],l=a.color;a={offset:a.offset,"stop-color":l},/^rgba\(/.test(l)&&(l=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(l),a["stop-color"]="rgb("+l[1]+","+l[2]+","+l[3]+")",a["stop-opacity"]=l[4]),o.push(a)}for(o.sort(function(t,e){return t.offset>e.offset?1:-1}),r=0;r<e;r++)n.appendChild(t.ub("stop",o[r]));return t.svg.appendChild(n),"url(#"+i+")"}function ba(t,e,i,n,r,o,s){var a=new ma;a.La=[e,i,n,r,o,s],ya(t,"g",e={},a),a=t.addElement("g",e),t.wc.push(a)}function Ca(t){t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0}function wa(t){t.shadowOffsetX=t.vp,t.shadowOffsetY=t.wp,t.shadowBlur=t.$e}function Ea(t,e){this.ownerDocument=e=void 0===e?p.document:e,this.Yp=null,(e=e.createElement("canvas")).tabIndex=0,this.Da=e,this.Da.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.",this.context=new Sa(e),e.B=t}function Sa(t){t.getContext&&t.getContext("2d")||A("Browser does not support HTML Canvas Element"),this.V=t.getContext("2d"),this.Kt=this.Mt=this.Lt="",this.an=!1,this.$e=this.wp=this.vp=0}Rs.className="GraphObject",pa=new ct,ca("Button",function(){function t(t,e){return null!==t.diagram.Sb(t.documentPoint,function(t){for(;null!==t.panel&&!t.isActionable;)t=t.panel;return t},function(t){return t===e})}var e=ha(Al,Al.Auto,{isActionable:!0,enabledChanged:function(t,e){if(t instanceof Al){var i=t.Xa("ButtonBorder");null!==i&&(i.fill=e?t._buttonFillNormal:t._buttonFillDisabled)}},cursor:"pointer",_buttonFillNormal:"#F5F5F5",_buttonStrokeNormal:"#BDBDBD",_buttonFillOver:"#E0E0E0",_buttonStrokeOver:"#9E9E9E",_buttonFillPressed:"#BDBDBD",_buttonStrokePressed:"#9E9E9E",_buttonFillDisabled:"#E5E5E5"},ha(Ql,{name:"ButtonBorder",figure:"RoundedRectangle",spot1:new He(0,0,2.76142374915397,2.761423749153969),spot2:new He(1,1,-2.76142374915397,-2.761423749153969),parameter1:2,parameter2:2,fill:"#F5F5F5",stroke:"#BDBDBD"}));return e.mouseEnter=function(t,e){if(e.Bg()&&e instanceof Al&&(t=e.Xa("ButtonBorder"))instanceof Ql){var i=e._buttonFillOver;e._buttonFillNormal=t.fill,t.fill=i,i=e._buttonStrokeOver,e._buttonStrokeNormal=t.stroke,t.stroke=i}},e.mouseLeave=function(t,e){e.Bg()&&e instanceof Al&&((t=e.Xa("ButtonBorder"))instanceof Ql&&(t.fill=e._buttonFillNormal,t.stroke=e._buttonStrokeNormal))},e.actionDown=function(t,e){if(e.Bg()&&e instanceof Al&&null!==e._buttonFillPressed&&0===t.button){var i=e.Xa("ButtonBorder");if(i instanceof Ql){var n=(t=t.diagram).skipsUndoManager;t.skipsUndoManager=!0;var r=e._buttonFillPressed;e._buttonFillOver=i.fill,i.fill=r,r=e._buttonStrokePressed,e._buttonStrokeOver=i.stroke,i.stroke=r,t.skipsUndoManager=n}}},e.actionUp=function(e,i){if(i.Bg()&&i instanceof Al&&null!==i._buttonFillPressed&&0===e.button){var n=i.Xa("ButtonBorder");if(n instanceof Ql){var r=e.diagram,o=r.skipsUndoManager;r.skipsUndoManager=!0,t(e,i)?(n.fill=i._buttonFillOver,n.stroke=i._buttonStrokeOver):(n.fill=i._buttonFillNormal,n.stroke=i._buttonStrokeNormal),r.skipsUndoManager=o}}},e.actionCancel=function(e,i){if(i.Bg()&&i instanceof Al&&null!==i._buttonFillPressed){var n=i.Xa("ButtonBorder");if(n instanceof Ql){var r=e.diagram,o=r.skipsUndoManager;r.skipsUndoManager=!0,t(e,i)?(n.fill=i._buttonFillOver,n.stroke=i._buttonStrokeOver):(n.fill=i._buttonFillNormal,n.stroke=i._buttonStrokeNormal),r.skipsUndoManager=o}}},e.actionMove=function(e,i){if(i.Bg()&&i instanceof Al&&null!==i._buttonFillPressed){var n=e.diagram;if(0===n.firstInput.button&&(n.currentTool.standardMouseOver(),t(e,i)&&(e=i.Xa("ButtonBorder"))instanceof Ql)){var r=n.skipsUndoManager;n.skipsUndoManager=!0;var o=i._buttonFillPressed;e.fill!==o&&(e.fill=o),o=i._buttonStrokePressed,e.stroke!==o&&(e.stroke=o),n.skipsUndoManager=r}}},e}),ca("TreeExpanderButton",function(){var t=ha("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},ha(Ql,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:wt},new Xd("figure","isTreeExpanded",function(t,e){return e=e.panel,t?e._treeExpandedFigure:e._treeCollapsedFigure}).pq()),{visible:!1},new Xd("visible","isTreeLeaf",function(t){return!t}).pq());return t.click=function(t,e){if((e=e.part)instanceof fu&&(e=e.adornedPart),e instanceof mu){var i=e.diagram;if(null!==i){if(i=i.commandHandler,e.isTreeExpanded){if(!i.canCollapseTree(e))return}else if(!i.canExpandTree(e))return;t.handled=!0,e.isTreeExpanded?i.collapseTree(e):i.expandTree(e)}}},t}),ca("SubGraphExpanderButton",function(){var t=ha("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},ha(Ql,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:wt},new Xd("figure","isSubGraphExpanded",function(t,e){return e=e.panel,t?e._subGraphExpandedFigure:e._subGraphCollapsedFigure}).pq()));return t.click=function(t,e){if((e=e.part)instanceof fu&&(e=e.adornedPart),e instanceof ku){var i=e.diagram;if(null!==i){if(i=i.commandHandler,e.isSubGraphExpanded){if(!i.canCollapseSubGraph(e))return}else if(!i.canExpandSubGraph(e))return;t.handled=!0,e.isSubGraphExpanded?i.collapseSubGraph(e):i.expandSubGraph(e)}}},t}),ca("ToolTip",function(){return ha(fu,Al.Auto,{isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new dt(0,3),shadowBlur:5},ha(Ql,{name:"Border",figure:"RoundedRectangle",parameter1:1,parameter2:1,fill:"#F5F5F5",stroke:"#F0F0F0",spot1:new He(0,0,4,6),spot2:new He(1,1,-4,-4)}))}),ca("ContextMenu",function(){return ha(fu,Al.Vertical,{background:"#F5F5F5",isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new dt(0,3),shadowBlur:5},new Xd("background","",function(t){return null!==t.adornedPart&&null!==t.placeholder?null:"#F5F5F5"}))}),ca("ContextMenuButton",function(){var t=ha("Button");t.stretch=$o;var e=t.Xa("ButtonBorder");return e instanceof Ql&&(e.figure="Rectangle",e.strokeWidth=0,e.spot1=new He(0,0,2,3),e.spot2=new He(1,1,-2,-2)),t}),ca("PanelExpanderButton",function(t){var e=da(t,"COLLAPSIBLE"),i=ha("Button",{_buttonExpandedFigure:"M0 0 M0 6 L4 2 8 6 M8 8",_buttonCollapsedFigure:"M0 0 M0 2 L4 6 8 2 M8 8",_buttonFillNormal:"rgba(0, 0, 0, 0)",_buttonStrokeNormal:null,_buttonFillOver:"rgba(0, 0, 0, .2)",_buttonStrokeOver:null,_buttonFillPressed:"rgba(0, 0, 0, .4)",_buttonStrokePressed:null},ha(Ql,{name:"ButtonIcon",strokeWidth:2},new Xd("geometryString","visible",function(t){return t?i._buttonExpandedFigure:i._buttonCollapsedFigure}).pq(e)));return(t=i.Xa("ButtonBorder"))instanceof Ql&&(t.stroke=null,t.fill="rgba(0, 0, 0, 0)"),i.click=function(t,i){var n=i.diagram;if(null!==n&&!n.isReadOnly){var r=i.Oi();null===r&&(r=i.part),null!==r&&(null!==(i=r.Xa(e))&&(t.handled=!0,n.ta("Collapse/Expand Panel"),i.visible=!i.visible,n.Ua("Collapse/Expand Panel")))}},i}),ca("CheckBoxButton",function(t){var e=da(t);return(t=ha("Button",{desiredSize:new Lt(14,14)},ha(Ql,{name:"ButtonIcon",geometryString:"M0 0 M0 8.85 L4.9 13.75 16.2 2.45 M16.2 16.2",strokeWidth:2,stretch:Qo,geometryStretch:Ko,visible:!1},""!==e?new Xd("visible",e).Jx():[]))).click=function(t,i){if(i instanceof Al){var n=t.diagram;if(!(null===n||n.isReadOnly||""!==e&&n.model.isReadOnly)){t.handled=!0;var r=i.Xa("ButtonIcon");n.ta("checkbox"),r.visible=!r.visible,"function"==typeof i._doClick&&i._doClick(t,i),n.Ua("checkbox")}}},t}),ca("CheckBox",function(t){var e=ha(Al,"Horizontal",t=ha("CheckBoxButton",t=da(t),{name:"Button",isActionable:!1,margin:new qt(0,1,0,0)}),{isActionable:!0,cursor:t.cursor,margin:1,_buttonFillNormal:t._buttonFillNormal,_buttonStrokeNormal:t._buttonStrokeNormal,_buttonFillOver:t._buttonFillOver,_buttonStrokeOver:t._buttonStrokeOver,_buttonFillPressed:t._buttonFillPressed,_buttonStrokePressed:t._buttonStrokePressed,_buttonFillDisabled:t._buttonFillDisabled,mouseEnter:t.mouseEnter,mouseLeave:t.mouseLeave,actionDown:t.actionDown,actionUp:t.actionUp,actionCancel:t.actionCancel,actionMove:t.actionMove,click:t.click,_buttonClick:t.click});return t.mouseEnter=null,t.mouseLeave=null,t.actionDown=null,t.actionUp=null,t.actionCancel=null,t.actionMove=null,t.click=null,e}),Rs.None=Yo=new z(Rs,"None",0),Rs.Default=Xo=new z(Rs,"Default",0),Rs.Vertical=Wo=new z(Rs,"Vertical",4),Rs.Horizontal=$o=new z(Rs,"Horizontal",5),Rs.Fill=Qo=new z(Rs,"Fill",3),Rs.Uniform=Ko=new z(Rs,"Uniform",1),Rs.UniformToFill=qo=new z(Rs,"UniformToFill",2),Rs.FlipVertical=Jo=new z(Rs,"FlipVertical",1),Rs.FlipHorizontal=Zo=new z(Rs,"FlipHorizontal",2),Rs.FlipBoth=ts=new z(Rs,"FlipBoth",3),Rs.make=ha,Rs.getBuilders=function(){var t,e=new ct;for(t in pa)if(t!==t.toLowerCase()){var i=pa.H(t);"function"==typeof i&&e.add(t,i)}return e.freeze(),e},Rs.defineBuilder=ca,Rs.takeBuilderArgument=da,fa.prototype.copy=function(){var t=new fa;return t.Jf=this.Jf,t.Of=this.Of,t.Kf=this.Kf,t.ag=this.ag,t.dg=this.dg,t.eg=this.eg,t.cg=this.cg,t.bg=this.bg,t.uo=this.uo,t.vo=this.vo,t.$f=this.$f,t.Mm=this.Mm,t.Nm=this.Nm,t.Om=this.Om,t.Lm=this.Lm,t.qg=this.qg,t.Lf=this.Lf,t.zn=this.zn,t},fa.className="GraphObjectEventHandlers",ma.prototype.copy=function(){var t=new ma;return t.La[0]=this.La[0],t.La[1]=this.La[1],t.La[2]=this.La[2],t.La[3]=this.La[3],t.La[4]=this.La[4],t.La[5]=this.La[5],t},ma.prototype.translate=function(t,e){this.La[4]+=this.La[0]*t+this.La[2]*e,this.La[5]+=this.La[1]*t+this.La[3]*e},ma.prototype.scale=function(t,e){this.La[0]*=t,this.La[1]*=t,this.La[2]*=e,this.La[3]*=e},ma.className="STransform",ga.prototype.addColorStop=function(t,e){this.ox.push({offset:t,color:e})},ga.className="SGradient",va.prototype.resize=function(t,e,i,n){return(this.width!==t||this.height!==e)&&(this.style.width=i+"px",this.style.height=n+"px",this.Da.setAttributeNS(null,"width",i+"px"),this.Da.setAttributeNS(null,"height",n+"px"),this.Da.setAttributeNS(null,"viewBox","0 0 "+i+" "+n),this.context.ju.firstElementChild.setAttributeNS(null,"width",i+"px"),this.context.ju.firstElementChild.setAttributeNS(null,"height",n+"px"),!0)},va.prototype.ub=function(t,e,i){if(t=this.ownerDocument.createElementNS(this.Xz,t),w(e))for(var n in e)t.setAttributeNS("href"===n?"http://www.w3.org/1999/xlink":"",n,e[n]);return void 0!==i&&(t.textContent=i),t},va.prototype.getBoundingClientRect=function(){return this.Da.getBoundingClientRect()},va.prototype.focus=function(){this.Da.focus()},va.prototype.ux=function(){this.ownerDocument=null},c.Object.defineProperties(va.prototype,{width:{get:function(){return this.Da.width.baseVal.value},set:function(t){this.Da.width=t}},height:{get:function(){return this.Da.height.baseVal.value},set:function(t){this.Da.height=t}},style:{get:function(){return this.Da.style}}}),va.className="SVGSurface",(i=Aa.prototype).reset=function(){this.stack=[],this.wc=[],this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.strokeStyle="#000000",this.textAlign="start",this.clipInsteadOfFill=!1,this.$e=this.wp=this.vp=0,this.jq=null,this.path=[],this.Rd=new ma,ba(this,1,0,0,1,0,0);var t=ot++,e=this.ub("clipPath",{id:"mainClip"+t});e.appendChild(this.ub("rect",{x:0,y:0,width:this.tk.width,height:this.tk.height})),this.ju=e,this.tk.Da.appendChild(e),this.wc[0].setAttributeNS(null,"clip-path","url(#mainClip"+t+")")},i.arc=function(t,e,i,n,r,o,s,a){var l=2*Math.PI,h=l-1e-6,u=i*Math.cos(n),c=i*Math.sin(n),d=t+u,p=e+c,f=o?0:1;n=o?n-r:r-n,(1e-6<Math.abs(s-d)||1e-6<Math.abs(a-p))&&this.path.push(["L",d,+p]),0>n&&(n=n%l+l),n>h?(this.path.push(["A",i,i,0,1,f,t-u,e-c]),this.path.push(["A",i,i,0,1,f,d,p])):1e-6<n&&this.path.push(["A",i,i,0,+(n>=Math.PI),f,t+i*Math.cos(r),e+i*Math.sin(r)])},i.beginPath=function(){this.path=[]},i.bezierCurveTo=function(t,e,i,n,r,o){this.path.push(["C",t,e,i,n,r,o])},i.clearRect=function(){},i.clip=function(){this.addPath("clipPath",this.path,this.Rd),this.addPath("clipPath",this.path,new ma)},i.closePath=function(){this.path.push(["z"])},i.createLinearGradient=function(t,e,i,n){var r=new ga("linear");return r.x1=t,r.y1=e,r.x2=i,r.y2=n,r},i.createPattern=function(t){var e="";t instanceof HTMLCanvasElement&&(e=t.toDataURL()),t instanceof HTMLImageElement&&(e=t.getAttribute("src"));var i=this.Zz;if(i[e])return"url(#"+i[e]+")";var n="PATTERN"+ot++,r={x:0,y:0,width:t.width,height:t.height,href:e};return(t=this.ub("pattern",{width:t.width,height:t.height,id:n,patternUnits:"userSpaceOnUse"})).appendChild(this.ub("image",r)),this.svg.appendChild(t),i[e]=n,"url(#"+n+")"},i.createRadialGradient=function(t,e,i,n,r,o){var s=new ga("radial");return s.x1=t,s.y1=e,s.r1=i,s.x2=n,s.y2=r,s.r2=o,s},i.drawImage=function(t,e,i,n,r,o,s,a,l){var h="";t instanceof HTMLCanvasElement&&(h=t.toDataURL()),t instanceof HTMLImageElement&&(h=t.getAttribute("src"));var u=t instanceof HTMLImageElement?t.naturalWidth:t.width,c=t instanceof HTMLImageElement?t.naturalHeight:t.height;void 0===n&&(o=e,s=i,a=n=u,l=r=c),n=n||0,r=r||0,o=o||0,s=s||0,a=a||0,l=l||0,h={x:0,y:0,width:u||n,height:c||r,href:h,preserveAspectRatio:"xMidYMid slice"},Ye.Z(n,a)&&Ye.Z(r,l)||(h.preserveAspectRatio="none"),t="",a/=n,l/=r,0===o&&0===s||(t+=" translate("+o+", "+s+")"),1===a&&1===l||(t+=" scale("+a+", "+l+")"),0===e&&0===i||(t+=" translate("+-e+", "+-i+")"),0===e&&0===i&&n===u&&r===c||(o="CLIP"+ot++,(s=this.ub("clipPath",{id:o})).appendChild(this.ub("rect",{x:e,y:i,width:n,height:r})),this.svg.appendChild(s),h["clip-path"]="url(#"+o+")"),ya(this,"image",h,this.Rd,t),this.addElement("image",h)},i.fill=function(){this.addPath("fill",this.path,this.Rd)},i.Sd=function(){this.clipInsteadOfFill?this.clip():this.fill()},i.fillRect=function(t,e,i,n){ya(this,"fill",t={x:(t=[t,e,i,n])[0],y:t[1],width:t[2],height:t[3]},this.Rd),this.addElement("rect",t)},i.fillText=function(t,e,i){t=[t,e,i],"left"===(e=this.textAlign)?e="start":"right"===e?e="end":"center"===e&&(e="middle"),ya(this,"fill",e={x:t[1],y:t[2],style:"font: "+this.font,"text-anchor":e},this.Rd),this.addElement("text",e,t[0])},i.lineTo=function(t,e){this.path.push(["L",t,e])},i.moveTo=function(t,e){this.path.push(["M",t,e])},i.quadraticCurveTo=function(t,e,i,n){this.path.push(["Q",t,e,i,n])},i.rect=function(t,e,i,n){this.path.push(["M",t,e],["L",t+i,e],["L",t+i,e+n],["L",t,e+n],["z"])},i.restore=function(){this.Rd=this.stack.pop(),this.path=this.stack.pop();var t=this.stack.pop();this.fillStyle=t.fillStyle,this.font=t.font,this.globalAlpha=t.globalAlpha,this.lineCap=t.lineCap,this.lineDashOffset=t.lineDashOffset,this.lineJoin=t.lineJoin,this.lineWidth=t.lineWidth,this.miterLimit=t.miterLimit,this.shadowBlur=t.shadowBlur,this.shadowColor=t.shadowColor,this.shadowOffsetX=t.shadowOffsetX,this.shadowOffsetY=t.shadowOffsetY,this.strokeStyle=t.strokeStyle,this.textAlign=t.textAlign},i.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,lineDashOffset:this.lineDashOffset,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign});for(var t=[],e=0;e<this.path.length;e++)t.push(this.path[e]);this.stack.push(t),this.stack.push(this.Rd.copy())},i.setTransform=function(t,e,i,n,r,o){1===t&&0===e&&0===i&&1===n&&0===r&&0===o||ba(this,t,e,i,n,r,o)},i.scale=function(t,e){this.Rd.scale(t,e)},i.translate=function(t,e){this.Rd.translate(t,e)},i.transform=function(){},i.stroke=function(){this.addPath("stroke",this.path,this.Rd)},i.aj=function(){this.clipInsteadOfFill||this.stroke()},i.ub=function(t,e,i){return this.tk.ub(t,e,i)},i.addElement=function(t,e,i){return t=this.ub(t,e,i),0<this.wc.length?this.wc[this.wc.length-1].appendChild(t):this.svg.appendChild(t),this.jq=t},i.addPath=function(t,e,i){for(var n=[],r=0;r<e.length;r++){var o=S(e[r]),s=[o.shift()];if("A"===s[0])s.push(o.shift()+","+o.shift(),o.shift(),o.shift()+","+o.shift(),o.shift()+","+o.shift());else for(;o.length;)s.push(o.shift()+","+o.shift());n.push(s.join(" "))}e={d:n.join(" ")},"stroke"===t&&this.eu&&(e["stroke-dasharray"]=this.nh.toString(),e["stroke-dashoffset"]=this.oh),ya(this,t,e,i),"clipPath"===t?(t="CLIP"+ot++,(i=this.ub("clipPath",{id:t})).appendChild(this.ub("path",e)),this.svg.appendChild(i),0<this.wc.length&&this.wc[this.wc.length-1].setAttributeNS(null,"clip-path","url(#"+t+")")):this.addElement("path",e)},i.Aq=function(){if(0!==this.shadowOffsetX||0!==this.shadowOffsetY||0!==this.shadowBlur){var t="SHADOW"+ot++,e=this.addElement("filter",{id:t,x:"-100%",y:"-100%",width:"300%",height:"300%"},null),i=this.ub("feGaussianBlur",{in:"SourceAlpha",result:"blur",zA:this.shadowBlur/2}),n=this.ub("feFlood",{in:"blur",result:"flood","flood-color":this.shadowColor}),r=this.ub("feComposite",{in:"flood",in2:"blur",operator:"in",result:"comp"}),o=this.ub("feOffset",{in:"comp",result:"offsetBlur",dx:this.shadowOffsetX,dy:this.shadowOffsetY}),s=this.ub("feMerge",{});s.appendChild(this.ub("feMergeNode",{in:"offsetBlur"})),s.appendChild(this.ub("feMergeNode",{in:"SourceGraphic"})),e.appendChild(i),e.appendChild(n),e.appendChild(r),e.appendChild(o),e.appendChild(s),0<this.wc.length&&this.wc[this.wc.length-1].setAttributeNS(null,"filter","url(#"+t+")")}},i.Vv=function(t,e,i){this.vp=t,this.wp=e,this.$e=i},i.Ts=function(t,e){this.eu=!0,this.nh=t,this.oh=e},i.Rs=function(){this.eu=!1},i.Qc=function(){},i.Wx=function(){},Aa.prototype.rotate=function(){},Aa.prototype.getImageData=function(){return null},Aa.prototype.measureText=function(){return null},Aa.className="SVGContext",Br.prototype.mt=function(t){var e=new va(this,p.document);void 0===t&&(t=new K);var i=this;return Go(this,function(t,n){return t=null!==(t=zo(i,t,"SVG",e))?t.svg:null,"function"==typeof n?(n(t),null):t},t)},Br.prototype.makeSvg=Br.prototype.mt,Br.prototype.vv=function(t){return this.mt(t)},Br.prototype.makeSVG=Br.prototype.vv,Rs.prototype.vx=function(t,e){if(!(t instanceof Aa))return!1;if(!this.visible)return!0;var i=null,n=t.jq;if(this instanceof Al&&(this.type===Al.TableRow||this.type===Al.TableColumn))return Gs(this,t,e),!0;var r=this.vb;if(0===r.width||0===r.height||isNaN(r.x)||isNaN(r.y))return!0;var o=this.transform,s=this.panel;0!=(4096&this.F)==!0&&Qs(this);var a=0!=(256&this.F),l=!1;if(this instanceof eh&&(t.font=this.font),a){if(l=s.Yd()?s.naturalBounds:s.actualBounds,null!==this.ld){var h=this.ld,u=h.x,c=h.y,d=h.width;h=h.height}else u=Math.max(r.x,l.x),c=Math.max(r.y,l.y),d=Math.min(r.right,l.right)-u,h=Math.min(r.bottom,l.bottom)-c;if(u>r.width+r.x||r.x>l.width+l.x||c>r.height+r.y||r.y>l.height+l.y)return!0;l=!0,ba(t,1,0,0,1,0,0),t.save(),t.beginPath(),t.rect(u,c,d,h),t.clip()}if(this.tf()&&!this.isVisible())return!0;if(t.Rd.La=[1,0,0,1,0,0],(this instanceof eh&&1<this.lineCount||this instanceof Ql&&1<this.geometry.figures.length)&&ba(t,1,0,0,1,0,0),u=!1,this.tf()&&this.isShadowed&&e.xe("drawShadows")&&(c=this.shadowOffset,t.Vv(c.x*e.scale*e.Pb,c.y*e.scale*e.Pb,this.shadowBlur),wa(t),t.shadowColor=this.shadowColor),c=!1,this.part&&e.xe("drawShadows")&&(c=this.part.isShadowed),!0===this.shadowVisible?(wa(t),!1===u&&c&&(ba(t,1,0,0,1,0,0),t.Aq(),u=!0)):!1===this.shadowVisible&&Ca(t),d=this.naturalBounds,null!==this.areaBackground&&(zs(this,t,this.areaBackground,!0,!0,d,r),!1===u&&c&&(ba(t,1,0,0,1,0,0),t.Aq(),u=!0),this.areaBackground instanceof Ma&&this.areaBackground.type===za?(t.beginPath(),t.rect(r.x,r.y,r.width,r.height),t.Sd(this.areaBackground)):t.fillRect(r.x,r.y,r.width,r.height)),this instanceof Al?ba(t,o.m11,o.m12,o.m21,o.m22,o.dx,o.dy):t.Rd.La=[o.m11,o.m12,o.m21,o.m22,o.dx,o.dy],null!==this.background){!1===u&&c&&(ba(t,1,0,0,1,0,0),t.Aq(),u=!0);var p=this.naturalBounds;h=o=0;var f=p.width;p=p.height;var m=0;this instanceof Ql&&(o=(p=this.geometry.bounds).x,h=p.y,f=p.width,p=p.height,m=this.strokeWidth),zs(this,t,this.background,!0,!1,d,r),this.background instanceof Ma&&this.background.type===za?(t.beginPath(),t.rect(o-m/2,h-m/2,f+m,p+m),t.Sd(this.background)):t.fillRect(o-m/2,h-m/2,f+m,p+m)}return c&&(null!==this.background||null!==this.areaBackground||null!==s&&0!=(512&s.F)||null!==s&&(s.type===Al.Auto||s.type===Al.Spot)&&s.Ab()!==this)?(qs(this,!0),null===this.shadowVisible&&Ca(t)):qs(this,!1),this.Ki(t,e),c&&0!=(512&this.F)==!0&&wa(t),this.tf()&&c&&Ca(t),a&&(t.restore(),l&&t.wc.pop()),this instanceof Al&&(i=t.wc.pop()),!0===u&&t.wc.pop(),(this instanceof eh&&1<this.lineCount||this instanceof Ql&&1<this.geometry.figures.length)&&(i=t.wc.pop()),null!==t.tk.Yp&&(null===i&&(n===t.jq?(ba(t,1,0,0,1,0,0),i=t.wc.pop()):i=t.jq),t.tk.Yp(this,i)),this.svg=i,!0},Ea.prototype.resize=function(t,e,i,n){return(this.width!==t||this.height!==e)&&(this.width=t,this.height=e,this.style.width=i+"px",this.style.height=n+"px",!0)},Ea.prototype.toDataURL=function(t,e){return this.Da.toDataURL(t,e)},Ea.prototype.getBoundingClientRect=function(){return this.Da.getBoundingClientRect()},Ea.prototype.focus=function(){this.Da.focus()},Ea.prototype.ux=function(){this.ownerDocument=this.Da.B=null},c.Object.defineProperties(Ea.prototype,{width:{get:function(){return this.Da.width},set:function(t){this.Da.width=t}},height:{get:function(){return this.Da.height},set:function(t){this.Da.height=t}},style:{get:function(){return this.Da.style}}}),Ea.className="CanvasSurface",(i=Sa.prototype).Wx=function(t){this.V.imageSmoothingEnabled=t},i.arc=function(t,e,i,n,r,o){this.V.arc(t,e,i,n,r,o)},i.beginPath=function(){this.V.beginPath()},i.bezierCurveTo=function(t,e,i,n,r,o){this.V.bezierCurveTo(t,e,i,n,r,o)},i.clearRect=function(t,e,i,n){this.V.clearRect(t,e,i,n)},i.clip=function(){this.V.clip()},i.closePath=function(){this.V.closePath()},i.createLinearGradient=function(t,e,i,n){return this.V.createLinearGradient(t,e,i,n)},i.createPattern=function(t,e){return this.V.createPattern(t,e)},i.createRadialGradient=function(t,e,i,n,r,o){return this.V.createRadialGradient(t,e,i,n,r,o)},i.drawImage=function(t,e,i,n,r,o,s,a,l){void 0===n?this.V.drawImage(t,e,i):this.V.drawImage(t,e,i,n,r,o,s,a,l)},i.fill=function(){this.V.fill()},i.fillRect=function(t,e,i,n){this.V.fillRect(t,e,i,n)},i.fillText=function(t,e,i){this.V.fillText(t,e,i)},i.getImageData=function(t,e,i,n){return this.V.getImageData(t,e,i,n)},i.lineTo=function(t,e){this.V.lineTo(t,e)},i.measureText=function(t){return this.V.measureText(t)},i.moveTo=function(t,e){this.V.moveTo(t,e)},i.quadraticCurveTo=function(t,e,i,n){this.V.quadraticCurveTo(t,e,i,n)},i.rect=function(t,e,i,n){this.V.rect(t,e,i,n)},i.restore=function(){this.V.restore()},Sa.prototype.rotate=function(t){this.V.rotate(t)},(i=Sa.prototype).save=function(){this.V.save()},i.setTransform=function(t,e,i,n,r,o){this.V.setTransform(t,e,i,n,r,o)},i.scale=function(t,e){this.V.scale(t,e)},i.stroke=function(){this.V.stroke()},i.transform=function(t,e,i,n,r,o){1===t&&0===e&&0===i&&1===n&&0===r&&0===o||this.V.transform(t,e,i,n,r,o)},i.translate=function(t,e){this.V.translate(t,e)},i.Sd=function(t){if(t instanceof Ma&&t.type===za){var e=t.Hk;(t=t.Nt)>e?(this.scale(e/t,1),this.translate((t-e)/2,0)):e>t&&(this.scale(1,t/e),this.translate(0,(e-t)/2)),this.an?this.clip():this.fill(),t>e?(this.translate(-(t-e)/2,0),this.scale(1/(e/t),1)):e>t&&(this.translate(0,-(e-t)/2),this.scale(1,1/(t/e)))}else this.an?this.clip():this.fill()},i.aj=function(){this.an||this.stroke()},i.Vv=function(t,e,i){this.vp=t,this.wp=e,this.$e=i},i.Ts=function(t,e){var i=this.V;void 0!==i.setLineDash&&(i.setLineDash(t),i.lineDashOffset=e)},i.Rs=function(){var t=this.V;void 0!==t.setLineDash&&(t.setLineDash(Ta),t.lineDashOffset=0)},i.Qc=function(t){t&&(this.Lt=""),this.Kt=this.Mt=""},c.Object.defineProperties(Sa.prototype,{fillStyle:{get:function(){return this.V.fillStyle},set:function(t){this.Kt!==t&&(this.Kt=this.V.fillStyle=t)}},font:{get:function(){return this.V.font},set:function(t){this.Lt!==t&&(this.Lt=this.V.font=t)}},globalAlpha:{get:function(){return this.V.globalAlpha},set:function(t){this.V.globalAlpha=t}},lineCap:{get:function(){return this.V.lineCap},set:function(t){this.V.lineCap=t}},lineDashOffset:{get:function(){return this.V.lineDashOffset},set:function(t){this.V.lineDashOffset=t}},lineJoin:{get:function(){return this.V.lineJoin},set:function(t){this.V.lineJoin=t}},lineWidth:{get:function(){return this.V.lineWidth},set:function(t){this.V.lineWidth=t}},miterLimit:{get:function(){return this.V.miterLimit},set:function(t){this.V.miterLimit=t}},shadowBlur:{get:function(){return this.V.shadowBlur},set:function(t){this.V.shadowBlur=t}},shadowColor:{get:function(){return this.V.shadowColor},set:function(t){this.V.shadowColor=t}},shadowOffsetX:{get:function(){return this.V.shadowOffsetX},set:function(t){this.V.shadowOffsetX=t}},shadowOffsetY:{get:function(){return this.V.shadowOffsetY},set:function(t){this.V.shadowOffsetY=t}},strokeStyle:{get:function(){return this.V.strokeStyle},set:function(t){this.Mt!==t&&(this.Mt=this.V.strokeStyle=t)}},textAlign:{get:function(){return this.V.textAlign},set:function(t){this.V.textAlign=t}},imageSmoothingEnabled:{get:function(){return this.V.imageSmoothingEnabled},set:function(t){this.V.imageSmoothingEnabled=t}},clipInsteadOfFill:{get:function(){return this.an},set:function(t){this.an=t}}});var Ta=Object.freeze([]);function _a(){this.Y=this.u=this.I=this.l=0}function Ma(t){il||(Va(),il=!0),it(this),this.s=!1,void 0===t?(this.qa=ja,this.Gk="black"):"string"==typeof t?(this.qa=ja,this.Gk=t):(this.qa=t,this.Gk="black"),(t=this.qa)===Ga?(this.rd=ie,this.Uk=le):this.Uk=this.rd=t===za?oe:te,this.As=0,this.nr=NaN,this.ae=this.js=this.$d=null,this.Nt=this.Hk=0}function ka(t,e,i){return e=void 0===e||"number"!=typeof e?.2:e,i=void 0===i?Ya:i,Na(t),La(e,i)}function Ba(t,e,i){return e=void 0===e||"number"!=typeof e?.2:e,i=void 0===i?Ya:i,Na(t),La(-e,i)}function Oa(t,e,i){Na(t),t=Ja.l;var n=Ja.I,r=Ja.u,o=Ja.Y;return Na(e),void 0===i&&(i=.5),"rgba("+Math.round((Ja.l-t)*i+t)+", "+Math.round((Ja.I-n)*i+n)+", "+Math.round((Ja.u-r)*i+r)+", "+Math.round((Ja.Y-o)*i+o)+")"}function Pa(t){return null===t?null:t instanceof Ma?t.Gx():(Na(t),128>(299*Ja.l+587*Ja.I+114*Ja.u)/1e3)}function La(t,e){switch(e){case Ya:e=100*Da(Ja.l);var i=100*Da(Ja.I),n=100*Da(Ja.u);return tl.l=.4124564*e+.3575761*i+.1804375*n,tl.I=.2126729*e+.7151522*i+.072175*n,tl.u=.0193339*e+.119192*i+.9503041*n,tl.Y=Ja.Y,e=Fa(tl.l/Wa[0]),i=Fa(tl.I/Wa[1]),n=Fa(tl.u/Wa[2]),el.l=116*i-16,el.I=500*(e-i),el.u=200*(i-n),el.Y=tl.Y,el.l=Math.min(100,Math.max(0,el.l+100*t)),e=(t=(el.l+16)/116)-el.u/200,tl.l=Wa[0]*Ha(el.I/500+t),tl.I=Wa[1]*(el.l>$a*Xa?Math.pow(t,3):el.l/$a),tl.u=Wa[2]*Ha(e),tl.Y=el.Y,t=-.969266*tl.l+1.8760108*tl.I+.041556*tl.u,e=.0556434*tl.l+-.2040259*tl.I+1.0572252*tl.u,Ja.l=255*Ra((3.2404542*tl.l+-1.5371385*tl.I+-.4985314*tl.u)/100),Ja.I=255*Ra(t/100),Ja.u=255*Ra(e/100),Ja.Y=tl.Y,Ja.l=Math.round(Ja.l),255<Ja.l?Ja.l=255:0>Ja.l&&(Ja.l=0),Ja.I=Math.round(Ja.I),255<Ja.I?Ja.I=255:0>Ja.I&&(Ja.I=0),Ja.u=Math.round(Ja.u),255<Ja.u?Ja.u=255:0>Ja.u&&(Ja.u=0),"rgba("+Ja.l+", "+Ja.I+", "+Ja.u+", "+Ja.Y+")";case Ka:return Ia(),Za.u=Math.min(100,Math.max(0,Za.u+100*t)),"hsla("+Za.l+", "+Za.I+"%, "+Za.u+"%, "+Za.Y+")";default:return A("Unknown color space: "+e),"rgba(0, 0, 0, 1)"}}function Na(t){il||(Va(),il=!0);var e=qa;if(null!==e){e.clearRect(0,0,1,1),e.fillStyle="#000000";var i=e.fillStyle;e.fillStyle=t,e.fillStyle!==i?(e.fillRect(0,0,1,1),t=e.getImageData(0,0,1,1).data,Ja.l=t[0],Ja.I=t[1],Ja.u=t[2],Ja.Y=t[3]/255):(e.fillStyle="#FFFFFF",e.fillStyle=t,Ja.l=0,Ja.I=0,Ja.u=0,Ja.Y=1)}}function Ia(){var t=Ja.l/255,e=Ja.I/255,i=Ja.u/255,n=Math.max(t,e,i),r=Math.min(t,e,i),o=n-r;if(r=(n+r)/2,0===o)var s=t=0;else{switch(n){case t:s=(e-i)/o%6;break;case e:s=(i-t)/o+2;break;case i:s=(t-e)/o+4}0>(s*=60)&&(s+=360),t=o/(1-Math.abs(2*r-1))}Za.l=Math.round(s),Za.I=Math.round(100*t),Za.u=Math.round(100*r),Za.Y=Ja.Y}function Da(t){return.04045>=(t/=255)?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ra(t){return.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055}function Fa(t){return t>Xa?Math.pow(t,1/3):($a*t+16)/116}function Ha(t){var e=t*t*t;return e>Xa?e:(116*t-16)/$a}function Ua(t,e){"string"!=typeof t&&(t instanceof Ma||A("Value for "+e+" must be a color string or a Brush, not "+t))}function Va(){qa=os?new Ea(null).context:null}Sa.className="CanvasSurfaceContext",_a.className="ColorNumbers",Ma.prototype.copy=function(){var t=new Ma;return t.qa=this.qa,t.Gk=this.Gk,t.rd=this.rd.G(),t.Uk=this.Uk.G(),t.As=this.As,t.nr=this.nr,null!==this.$d&&(t.$d=this.$d.copy()),t.js=this.js,t},(i=Ma.prototype).freeze=function(){return this.s=!0,null!==this.$d&&this.$d.freeze(),this},i.ea=function(){return Object.isFrozen(this)&&A("cannot thaw constant: "+this),this.s=!1,null!==this.$d&&this.$d.ea(),this},i.cb=function(t){t.classType===Ma&&(this.type=t)},i.toString=function(){var t="Brush(";if(this.type===ja)t+=this.color;else if(t=this.type===Ga?t+"Linear ":this.type===za?t+"Radial ":this.type===Qa?t+"Pattern ":t+"(unknown) ",t+=this.start+" "+this.end,null!==this.colorStops)for(var e=this.colorStops.iterator;e.next();)t+=" "+e.key+":"+e.value;return t+")"},i.addColorStop=function(t,e){return this.s&&y(this),("number"!=typeof t||!isFinite(t)||1<t||0>t)&&x(t,"0 <= loc <= 1",Ma,"addColorStop:loc"),null===this.$d&&(this.$d=new ct),this.$d.add(t,e),this.qa===ja&&(this.type=Ga),this.ae=null,this},i.Rz=function(t,e){if(this.s&&y(this),t=void 0===t||"number"!=typeof t?.2:t,e=void 0===e?Ya:e,this.type===ja)Na(this.color),this.color=La(t,e);else if((this.type===Ga||this.type===za)&&null!==this.colorStops)for(var i=this.colorStops.iterator;i.next();)Na(i.value),this.addColorStop(i.key,La(t,e));return this},i.Ny=function(t,e){if(this.s&&y(this),t=void 0===t||"number"!=typeof t?.2:t,e=void 0===e?Ya:e,this.type===ja)Na(this.color),this.color=La(-t,e);else if((this.type===Ga||this.type===za)&&null!==this.colorStops)for(var i=this.colorStops.iterator;i.next();)Na(i.value),this.addColorStop(i.key,La(-t,e));return this},i.Gx=function(){if(this.type===ja)return Pa(this.color);if((this.type===Ga||this.type===za)&&null!==this.colorStops){var t=this.colorStops;if(this.type===za)return Pa(t.first().value);if(null!==t.get(.5))return Pa(t.get(.5));if(2===t.count)return Pa(Oa((t=t.ma())[0].value,t[1].value));for(var e=t.iterator,i=-1,n=-1,r=1,o=1;e.next();){var s=e.key,a=Math.abs(.5-e.key);r>o&&a<r?(i=s,r=a):o>=r&&a<o&&(n=s,o=a)}return i>n&&(i=[n,n=i][0]),e=n-i,Pa(Oa(t.get(i),t.get(n),1-r/e))}return!1},c.Object.defineProperties(Ma.prototype,{type:{get:function(){return this.qa},set:function(t){this.s&&y(this,t),this.qa=t,this.start.jc()&&(t===Ga?this.start=ie:t===za&&(this.start=oe)),this.end.jc()&&(t===Ga?this.end=le:t===za&&(this.end=oe)),this.ae=null}},color:{get:function(){return this.Gk},set:function(t){this.s&&y(this,t),this.Gk=t,this.ae=null}},start:{get:function(){return this.rd},set:function(t){this.s&&y(this,t),this.rd=t.G(),this.ae=null}},end:{get:function(){return this.Uk},set:function(t){this.s&&y(this,t),this.Uk=t.G(),this.ae=null}},startRadius:{get:function(){return this.As},set:function(t){this.s&&y(this,t),0>t&&x(t,">= zero",Ma,"startRadius"),this.As=t,this.ae=null}},endRadius:{get:function(){return this.nr},set:function(t){this.s&&y(this,t),0>t&&x(t,">= zero",Ma,"endRadius"),this.nr=t,this.ae=null}},colorStops:{get:function(){return this.$d},set:function(t){this.s&&y(this,t),this.$d=t,this.ae=null}},pattern:{get:function(){return this.js},set:function(t){this.s&&y(this,t),this.js=t,this.ae=null}}}),Ma.prototype.isDark=Ma.prototype.Gx,Ma.prototype.darkenBy=Ma.prototype.Ny,Ma.prototype.lightenBy=Ma.prototype.Rz,Ma.prototype.addColorStop=Ma.prototype.addColorStop;var ja,Ga,za,Qa,Ya,Ka,Xa=216/24389,$a=24389/27,Wa=[95.047,100,108.883],qa=null,Ja=new _a,Za=new _a,tl=new _a,el=new _a,il=!1;function nl(){this.name="Base"}function rl(){this.name="Base",this.name="Position"}function ol(){this.name="Base",this.name="Horizontal"}function sl(){this.name="Base",this.name="Vertical"}function al(){this.name="Base",this.name="Spot"}function ll(){this.name="Base",this.name="Auto"}function hl(){this.name="Base",this.name="Table"}function ul(){this.name="Base",this.name="TableRow"}function cl(){this.name="Base",this.name="TableColumn"}function dl(){this.name="Base",this.name="Viewbox"}function pl(){this.name="Base",this.name="Grid"}function fl(t,e,i){if(0!=t%e)return!1;e=i.length;for(var n=0;n<e;n++)if(0==t%i[n])return!1;return!0}function ml(){this.name="Base",this.name="Link"}function gl(t,e,i,n){if(!1!==ia(n)){var r=n.strokeWidth;0===r&&t instanceof fu&&t.type===Al.Link&&t.adornedObject instanceof Ql&&(r=t.adornedObject.strokeWidth),r*=n.ya,t instanceof Lu&&null!==t.oa?Us(n,(t=t.oa.bounds).x-r/2,t.y-r/2,t.width+r,t.height+r):t instanceof fu&&null!==t.adornedPart.oa?Us(n,(t=t.adornedPart.oa.bounds).x-r/2,t.y-r/2,t.width+r,t.height+r):Us(n,-r/2,-r/2,e+r,i+r),na(n,!1)}}function vl(){this.name="Base",this.name="Graduated"}function Al(t){Rs.call(this),this.qa=void 0===t?Al.Position:t,null===this.qa&&A("Panel type not specified or PanelLayout not loaded: "+t),this.W=new Z,this.bb=De,this.qa===Al.Grid&&(this.isAtomic=!0),this.pn=Se,this.Mf=Xo,this.qa===Al.Table&&yl(this),this.Op=Ko,this.Ln=Et,this.Mn=_t,this.In=0,this.Hn=100,this.Kn=10,this.Jn=0,this.Xh=this.hb=this.Xg=this.Wg=this.mj=null,this.Zn=NaN,this.he=this.li=null,this.ml="category",this.Hd=null,this.rg=new Rt(NaN,NaN,NaN,NaN),this.rh=this.ip=this.Bi=null,this.Gg=""}function yl(t){t.hj=De,t.Pg=1,t.ci=null,t.bi=null,t.Og=1,t.Ng=null,t.ai=null,t.pb=[],t.kb=[],t.Hj=zl,t.fj=zl,t.Ei=0,t.oi=0}function xl(t,e,i,n){for(var r=n.length,o=t.actualBounds,s=t.naturalBounds,a=!0,l=0;l<r;l++){var h=n[l];if(void 0!==h)if(a)a=!1;else if(0!==h.actual){if(i){if(h.position>o.height)continue}else if(h.position>o.width)continue;var u=h.separatorStrokeWidth;isNaN(u)&&(u=i?t.Pg:t.Og);var c=h.separatorStroke;if(null===c&&(c=i?t.ci:t.Ng),0!==u&&null!==c){zs(t,e,c,!1,!1,s,o),c=!1;var d=h.separatorDashArray;null===d&&(d=i?t.bi:t.ai),null!==d&&(c=!0,e.Ts(d,0)),e.beginPath(),d=h.position+u,i?d>o.height&&(u-=d-o.height):d>o.width&&(u-=d-o.width),h=h.position+u/2,e.lineWidth=u,u=t.bb,i?(h+=u.top,d=o.width-u.right,e.moveTo(u.left,h),e.lineTo(d,h)):(h+=u.left,d=o.height-u.bottom,e.moveTo(h,u.top),e.lineTo(h,d)),e.stroke(),c&&e.Rs()}}}}function bl(t,e,i,n,r){for(var o=n.length,s=t.actualBounds,a=t.naturalBounds,l=0;l<o;l++){var h=n[l];if(void 0!==h&&null!==h.background&&h.coversSeparators!==r&&0!==h.actual){var u=i?s.height:s.width;if(!(h.position>u)){var c=h.tc(),d=h.separatorStrokeWidth;isNaN(d)&&(d=i?t.Pg:t.Og);var p=h.separatorStroke;null===p&&(p=i?t.ci:t.Ng),null===p&&(d=0),c-=d,(d=h.position+d)+(c+=h.actual)>u&&(c=u-d),0>=c||(u=t.bb,zs(t,e,h.background,!0,!1,a,s),i?e.fillRect(u.left,d+u.top,s.width-(u.left+u.right),c):e.fillRect(d+u.left,u.top,c,s.height-(u.top+u.bottom)))}}}}function Cl(t){return"LineV"===t||"BarV"===t}function wl(t){return null!==t.part?t.part.locationObject:null}function El(t,e){!function t(e,i,n){n(i);i=i.W.j;for(var r=i.length,o=0;o<r;o++){var s=i[o];s instanceof Al&&t(e,s,n)}}(t,t,e)}function Sl(t,e){!function t(e,i,n){n(i);if(i instanceof Al)for(var r=(i=i.W.j).length,o=0;o<r;o++)t(e,i[o],n)}(t,t,e)}function Tl(t,e,i,n){for(var r=t.W.j,o=r.length;o--;){var s=r[o];if(s.visible){var a=s.actualBounds,l=t.naturalBounds;a.x>l.width||a.y>l.height||0>a.x+a.width||0>a.y+a.height||(s instanceof Al&&Tl(s,e,i,n),null!==e&&(s=e(s)),null===s||null!==i&&!i(s)||n.add(s))}}}function _l(t){var e=null;return t instanceof Ql&&((e=t.spot1)===Se&&(e=null),null!==(t=t.geometry)&&null===e&&(e=t.spot1)),null===e&&(e=ee),e}function Ml(t){var e=null;return t instanceof Ql&&((e=t.spot2)===Se&&(e=null),null!==(t=t.geometry)&&null===e&&(e=t.spot2)),null===e&&(e=he),e}function kl(t,e){t.F=e?16777216|t.F:-16777217&t.F}function Bl(t){return null!==(t=t.Xh)&&t.s}function Ol(t){var e=t.Xh;if(null===e)null!==t.data&&A("Template cannot have .data be non-null: "+t),t.Xh=e=new Z;else if(e.s)return;var i=new Z;kl(t,!1),t.Em(t,function(t,n){var r=n.$a;if(null!==r)for(Zs(n,!1),r=r.iterator;r.next();){var o=r.value;o.mode===qd&&Zs(n,!0);var s=o.sourceName;null!==s&&("/"===s&&kl(t,!0),null!==(s=$d(o,t,n))&&(i.add(s),null===s.Kl&&(s.Kl=new Z),s.Kl.add(o))),e.add(o)}if(n instanceof Al&&n.type===Al.Table){if(0<n.pb.length)for(r=(t=n.pb).length,o=0;o<r;o++)if(void 0!==(s=t[o])&&null!==s.$a)for(var a=s.$a.iterator;a.next();){var l=a.value;l.bd=s,l.Fp=2,l.Rl=s.index,e.add(l)}if(0<n.kb.length)for(t=(n=n.kb).length,r=0;r<t;r++)if(void 0!==(o=n[r])&&null!==o.$a)for(s=o.$a.iterator;s.next();)(a=s.value).bd=o,a.Fp=1,a.Rl=o.index,e.add(a)}});for(var n=i.iterator;n.next();){var r=n.value;if(null!==r.Kl){Zs(r,!0);for(var o=r.Kl.iterator;o.next();){var s=o.value;null===r.$a&&(r.$a=new Z),r.$a.add(s)}}r.Kl=null}for(n=e.iterator;n.next();)if(null!==(o=(r=n.value).bd)){r.bd=null;var a=r.targetProperty,l=a.indexOf(".");0<l&&o instanceof Al&&(s=a.substring(0,l),a=a.substr(l+1),null!==(l=o.Xa(s))?(o=l,r.targetProperty=a):b('Warning: unable to find GraphObject named "'+s+'" for Binding: '+r.toString())),o instanceof Ul?(s=rt(o.panel),r.bj=void 0===s?-1:s,o.panel.Ek=r.bj):o instanceof Rs?(s=rt(o),r.bj=void 0===s?-1:s,o.Ek=r.bj):A("Unknown type of binding target: "+o)}e.freeze(),t instanceof Xh&&t.Ub()&&t.zb()}function Pl(t){if(t.type===Al.Spot||t.type===Al.Auto)return Math.min(t.W.length,1);if(t.type===Al.Link){for(var e=(t=t.W).length,i=0;i<e;i++){var n=t.L(i);if(!(n instanceof Ql&&n.isPanelMain))break}return i}return t.type===Al.Table&&0<t.W.length&&((t=t.W.L(0)).isPanelMain&&t instanceof Al&&(t.type===Al.TableRow||t.type===Al.TableColumn))?1:0}function Ll(t,e,i){if(!(void 0===e||null===e||0>i)){var n=function(t,e){if(null===e)return"";if("function"==typeof(t=t.ml))t=t(e);else{if("string"!=typeof t||"object"!=typeof e)return"";if(""===t)return"";t=zd(e,t)}return void 0===t?"":"string"==typeof t?t:(A("Panel.getCategoryForItemData found a non-string category for "+e+": "+t),"")}(t,e),r=t.itemTemplateMap,o=null;null!==r&&(o=r.H(n)),null===o&&(Rl||(Rl=!0,b('No item template Panel found for category "'+n+'" on '+t),b("  Using default item template."),n=new Al,(r=new eh).bind(new Xd("text","",O)),n.add(r),Fl=n),o=Fl),null!==(n=o)&&(Ol(n),0!=(16777216&(n=n.copy()).F)&&(null!==(r=t.Oi())&&kl(r,!0)),"object"==typeof e&&(null===t.Hd&&(t.Hd=new ct),t.Hd.add(e,n)),r=i+Pl(t),t.Kb(r,n),n.hb=e,Nl(t,r,i),n.hb=null,n.data=e)}}function Nl(t,e,i){for(t=t.W;e<t.length;){var n=t.L(e);if(n instanceof Al){var r=e,o=i;n.type===Al.TableRow?n.row=r:n.type===Al.TableColumn&&(n.column=r),n.itemIndex=o}e++,i++}}function Il(t,e,i){var n=e.enabledChanged;if(null!==n&&n(e,i),e instanceof Al){n=(e=e.W.j).length;for(var r=0;r<n;r++){var o=e[r];i&&o instanceof Al&&!o.isEnabled||Il(t,o,i)}}}function Dl(t,e){Hl.add(t,e)}Ma.className="Brush",Ma.Solid=ja=new z(Ma,"Solid",0),Ma.Linear=Ga=new z(Ma,"Linear",1),Ma.Radial=za=new z(Ma,"Radial",2),Ma.Pattern=Qa=new z(Ma,"Pattern",4),Ma.Lab=Ya=new z(Ma,"Lab",5),Ma.HSL=Ka=new z(Ma,"HSL",6),Ma.randomColor=function(t,e){void 0===t&&(t=128),void 0===e&&(e=Math.max(t,255));var i=Math.abs(e-t);e=Math.floor(t+Math.random()*i).toString(16);var n=Math.floor(t+Math.random()*i).toString(16);return t=Math.floor(t+Math.random()*i).toString(16),2>e.length&&(e="0"+e),2>n.length&&(n="0"+n),2>t.length&&(t="0"+t),"#"+e+n+t},Ma.isValidColor=function(t){if("black"===t)return!0;if(""===t)return!1;il||(Va(),il=!0);var e=qa;if(null===e)return!0;e.fillStyle="#000000";var i=e.fillStyle;return e.fillStyle=t,e.fillStyle!==i||(e.fillStyle="#FFFFFF",i=e.fillStyle,e.fillStyle=t,e.fillStyle!==i)},Ma.lighten=function(t){return ka(t)},Ma.lightenBy=ka,Ma.darken=function(t){return Ba(t)},Ma.darkenBy=Ba,Ma.mix=Oa,Ma.isDark=Pa,nl.prototype.measure=function(){},nl.prototype.Uz=function(t,e,i,n,r){t.measure(e,i,n,r)},nl.prototype.arrange=function(){},nl.prototype.Dy=function(t,e,i,n,r,o){t.arrange(e,i,n,r,o)},nl.prototype.tb=function(){},c.Object.defineProperties(nl.prototype,{classType:{get:function(){return Al}}}),nl.prototype.arrangeElement=nl.prototype.Dy,nl.prototype.measureElement=nl.prototype.Uz,nl.className="PanelLayout",u(rl,nl),rl.prototype.measure=function(t,e,i,n,r,o,s){var a=n.length;t=wl(t);for(var l=0;l<a;l++){var h=n[l];if(h.visible||h===t){var u=h.margin,c=u.right+u.left;u=u.top+u.bottom,h.measure(e,i,o,s);var d=h.measuredBounds;c=Math.max(d.width+c,0),u=Math.max(d.height+u,0),d=h.position.x;var p=h.position.y;isFinite(d)||(d=0),isFinite(p)||(p=0),h instanceof Ql&&h.isGeometryPositioned&&(d-=h=h.strokeWidth/2,p-=h),Qt(r,d,p,c,u)}}},rl.prototype.arrange=function(t,e,i){var n=e.length,r=t.padding;for(t=i.x-r.left,i=i.y-r.top,r=0;r<n;r++){var o=e[r],s=o.measuredBounds,a=o.margin,l=o.position.x,h=o.position.y;if(l=isNaN(l)?-t:l-t,h=isNaN(h)?-i:h-i,o instanceof Ql&&o.isGeometryPositioned){var u=o.strokeWidth/2;l-=u,h-=u}o.visible&&o.arrange(l+a.left,h+a.top,s.width,s.height)}},u(ol,nl),ol.prototype.measure=function(t,e,i,n,r,o,s){var a=n.length;e=M(),o=wl(t);for(var l=0;l<a;l++){var h=n[l];if(h.visible||h===o){var u=Xs(h,!1);if(u!==Yo&&u!==$o)e.push(h);else{h.measure(1/0,i,0,s),u=h.margin,h=h.measuredBounds;var c=Math.max(h.height+u.top+u.bottom,0);r.width+=Math.max(h.width+u.right+u.left,0),r.height=Math.max(r.height,c)}}}for(n=e.length,t.desiredSize.height?i=Math.min(t.desiredSize.height,t.maxSize.height):0!==r.height&&(i=Math.min(r.height,t.maxSize.height)),t=0;t<n;t++)((l=e[t]).visible||l===o)&&(a=(u=l.margin).right+u.left,u=u.top+u.bottom,l.measure(1/0,i,0,s),l=l.measuredBounds,u=Math.max(l.height+u,0),r.width+=Math.max(l.width+a,0),r.height=Math.max(r.height,u));k(e)},ol.prototype.arrange=function(t,e,i){for(var n=e.length,r=t.padding,o=r.top,s=t.isOpposite,a=s?i.width:r.left,l=0;l<n;l++){var h=o,u=e[l];if(u.visible){var c=u.measuredBounds,d=u.margin,p=d.top+d.bottom,f=o+r.bottom,m=c.height,g=Xs(u,!1);(isNaN(u.desiredSize.height)&&g===Qo||g===Wo)&&(m=Math.max(i.height-p-f,0)),p=m+p+f,(f=u.alignment).Mb()&&(f=t.defaultAlignment),f.eb()||(f=oe),s&&(a-=c.width+d.left+d.right),u.arrange(a+f.offsetX+d.left,h+f.offsetY+d.top+(i.height*f.y-p*f.y),c.width,m),s||(a+=c.width+d.left+d.right)}}},u(sl,nl),sl.prototype.measure=function(t,e,i,n,r,o){var s=n.length;i=M();for(var a=wl(t),l=0;l<s;l++){var h=n[l];if(h.visible||h===a){var u=Xs(h,!1);if(u!==Yo&&u!==Wo)i.push(h);else{var c=h.margin;u=c.right+c.left,c=c.top+c.bottom,h.measure(e,1/0,o,0),h=h.measuredBounds,Ft(r,Math.max(r.width,Math.max(h.width+u,0)),r.height+Math.max(h.height+c,0))}}}if(0!==(n=i.length)){for(t.desiredSize.width?e=Math.min(t.desiredSize.width,t.maxSize.width):0!==r.width&&(e=Math.min(r.width,t.maxSize.width)),t=0;t<n;t++)((l=i[t]).visible||l===a)&&(s=(h=l.margin).right+h.left,h=h.top+h.bottom,l.measure(e,1/0,o,0),l=l.measuredBounds,h=Math.max(l.height+h,0),r.width=Math.max(r.width,Math.max(l.width+s,0)),r.height+=h);k(i)}},sl.prototype.arrange=function(t,e,i){for(var n=e.length,r=t.padding,o=r.left,s=t.isOpposite,a=s?i.height:r.top,l=0;l<n;l++){var h=o,u=e[l];if(u.visible){var c=u.measuredBounds,d=u.margin,p=d.left+d.right,f=o+r.right,m=c.width,g=Xs(u,!1);(isNaN(u.desiredSize.width)&&g===Qo||g===$o)&&(m=Math.max(i.width-p-f,0)),p=m+p+f,(f=u.alignment).Mb()&&(f=t.defaultAlignment),f.eb()||(f=oe),s&&(a-=c.height+d.bottom+d.top),u.arrange(h+f.offsetX+d.left+(i.width*f.x-p*f.x),a+f.offsetY+d.top,m,c.height),s||(a+=c.height+d.bottom+d.top)}}},u(al,nl),al.prototype.measure=function(t,e,i,n,r,o,s){var a=n.length,l=t.Ab(),h=l.margin,u=h.right+h.left,c=h.top+h.bottom;l.measure(e,i,o,s);var d=l.measuredBounds;o=d.width,s=d.height;for(var p=Math.max(o+u,0),f=Math.max(s+c,0),m=t.isClipping,g=Rt.allocAt(-h.left,-h.top,p,f),v=!0,A=wl(t),y=0;y<a;y++){var x=n[y];if(x!==l&&(x.visible||x===A)){switch(p=(h=x.margin).right+h.left,f=h.top+h.bottom,d=Xs(x,!1)){case Qo:e=o,i=s;break;case $o:e=o;break;case Wo:i=s}x.measure(e,i,0,0),d=x.measuredBounds,p=Math.max(d.width+p,0),f=Math.max(d.height+f,0);var b=x.alignment;b.Mb()&&(b=t.defaultAlignment),b.eb()||(b=oe);var C=x.alignmentFocus;C.Mb()&&(C=oe);var w=null;if(x instanceof Al&&""!==x.Gg&&(x.arrange(0,0,d.width,d.height),(w=x.Xa(x.Gg))===x&&(w=null)),null!==w){for(h=w.naturalBounds,d=w.margin,h=dt.allocAt(C.x*h.width-C.offsetX-d.left,C.y*h.height-C.offsetY-d.top);w!==x;)w.transform.ra(h),w=w.panel;x=b.x*o+b.offsetX-h.x,d=b.y*s+b.offsetY-h.y,dt.free(h)}else x=b.x*o+b.offsetX-(C.x*d.width+C.offsetX)-h.left,d=b.y*s+b.offsetY-(C.y*d.height+C.offsetY)-h.top;v?(v=!1,r.h(x,d,p,f)):Qt(r,x,d,p,f)}}switch(v?r.assign(g):m?r.pv(g.x,g.y,g.width,g.height):Qt(r,g.x,g.y,g.width,g.height),Rt.free(g),(d=l.stretch)===Xo&&(d=Xs(l,!1)),d){case Yo:return;case Qo:if(!isFinite(e)&&!isFinite(i))return;break;case $o:if(!isFinite(e))return;break;case Wo:if(!isFinite(i))return}for(o=(d=l.measuredBounds).width,s=d.height,p=Math.max(o+u,0),f=Math.max(s+c,0),h=l.margin,g=Rt.allocAt(-h.left,-h.top,p,f),e=0;e<a;e++)(i=n[e])===l||!i.visible&&i!==A||(p=(h=i.margin).right+h.left,f=h.top+h.bottom,d=i.measuredBounds,p=Math.max(d.width+p,0),f=Math.max(d.height+f,0),(u=i.alignment).Mb()&&(u=t.defaultAlignment),u.eb()||(u=oe),(i=i.alignmentFocus).Mb()&&(i=oe),v?(v=!1,r.h(u.x*o+u.offsetX-(i.x*d.width+i.offsetX)-h.left,u.y*s+u.offsetY-(i.y*d.height+i.offsetY)-h.top,p,f)):Qt(r,u.x*o+u.offsetX-(i.x*d.width+i.offsetX)-h.left,u.y*s+u.offsetY-(i.y*d.height+i.offsetY)-h.top,p,f));v?r.assign(g):m?r.pv(g.x,g.y,g.width,g.height):Qt(r,g.x,g.y,g.width,g.height),Rt.free(g)},al.prototype.arrange=function(t,e,i){var n=e.length,r=t.Ab(),o=r.measuredBounds,s=o.width;o=o.height;var a=t.padding,l=a.left;a=a.top;var h=l-i.x,u=a-i.y;r.arrange(h,u,s,o);for(var c=0;c<n;c++){var d=e[c];if(d!==r){var p=d.measuredBounds,f=p.width;p=p.height,(u=d.alignment).Mb()&&(u=t.defaultAlignment),u.eb()||(u=oe);var m=d.alignmentFocus;if(m.Mb()&&(m=oe),h=null,d instanceof Al&&""!==d.Gg&&((h=d.Xa(d.Gg))===d&&(h=null)),null!==h){var g=h.naturalBounds;for(m=dt.allocAt(m.x*g.width-m.offsetX,m.y*g.height-m.offsetY);h!==d;)h.transform.ra(m),h=h.panel;h=u.x*s+u.offsetX-m.x,u=u.y*o+u.offsetY-m.y,dt.free(m)}else h=u.x*s+u.offsetX-(m.x*f+m.offsetX),u=u.y*o+u.offsetY-(m.y*p+m.offsetY);h-=i.x,u-=i.y,d.visible&&d.arrange(l+h,a+u,f,p)}}},u(ll,nl),ll.prototype.measure=function(t,e,i,n,r,o,s){var a=n.length,l=t.Ab(),h=l.margin,u=e,c=i,d=h.right+h.left,p=h.top+h.bottom;l.measure(e,i,o,s),h=l.measuredBounds;var f=0,m=null;l instanceof Ql&&(f=(m=l).strokeWidth*m.scale);var g=Math.max(h.width+d,0);h=Math.max(h.height+p,0);var v=_l(l),A=v.x*g+v.offsetX;v=v.y*h+v.offsetY;var y=Ml(l),x=y.x*g+y.offsetX;for(y=y.y*h+y.offsetY,isFinite(e)&&(u=Math.max(Math.abs(A-x)-f,0)),isFinite(i)&&(c=Math.max(Math.abs(v-y)-f,0)),(f=Lt.alloc()).h(0,0),t=wl(t),y=0;y<a;y++)(v=n[y])===l||!v.visible&&v!==t||(g=(h=v.margin).right+h.left,A=h.top+h.bottom,v.measure(u,c,0,0),h=v.measuredBounds,g=Math.max(h.width+g,0),h=Math.max(h.height+A,0),f.h(Math.max(g,f.width),Math.max(h,f.height)));if(1===a)r.width=g,r.height=h,Lt.free(f);else{switch(v=_l(l),a=n=0,(y=Ml(l)).x!==v.x&&y.y!==v.y&&(n=f.width/Math.abs(y.x-v.x),a=f.height/Math.abs(y.y-v.y)),Lt.free(f),f=0,null!==m&&(f=m.strokeWidth*m.scale,Kl(m)===Ko&&(n=a=Math.max(n,a))),n+=Math.abs(v.offsetX)+Math.abs(y.offsetX)+f,a+=Math.abs(v.offsetY)+Math.abs(y.offsetY)+f,(m=l.stretch)===Xo&&(m=Xs(l,!1)),m){case Yo:s=o=0;break;case Qo:isFinite(e)&&(n=e),isFinite(i)&&(a=i);break;case $o:isFinite(e)&&(n=e),s=0;break;case Wo:o=0,isFinite(i)&&(a=i)}l.im(),l.measure(n,a,o,s),r.width=l.measuredBounds.width+d,r.height=l.measuredBounds.height+p}},ll.prototype.arrange=function(t,e){var i=e.length,n=t.Ab(),r=n.measuredBounds,o=Rt.alloc();o.h(0,0,1,1);var s=n.margin,a=s.left;s=s.top;var l=t.padding,h=l.left;l=l.top,n.arrange(h+a,l+s,r.width,r.height);var u=_l(n),c=Ml(n),d=u.y*r.height+u.offsetY,p=c.x*r.width+c.offsetX;for(c=c.y*r.height+c.offsetY,o.x=u.x*r.width+u.offsetX,o.y=d,Qt(o,p,c,0,0),o.x+=a+h,o.y+=s+l,r=0;r<i;r++)(a=e[r])!==n&&(h=a.measuredBounds,s=a.margin,l=Math.max(h.width+s.right+s.left,0),u=Math.max(h.height+s.top+s.bottom,0),(d=a.alignment).Mb()&&(d=t.defaultAlignment),d.eb()||(d=oe),l=o.width*d.x+d.offsetX-l*d.x+s.left+o.x,s=o.height*d.y+d.offsetY-u*d.y+s.top+o.y,a.visible&&(Yt(o.x,o.y,o.width,o.height,l,s,h.width,h.height)?a.arrange(l,s,h.width,h.height):a.arrange(l,s,h.width,h.height,new Rt(o.x,o.y,o.width,o.height))));Rt.free(o)},u(hl,nl),hl.prototype.measure=function(t,e,i,n,r,o,s){for(var a=n.length,l=M(),h=M(),u=0;u<a;u++){var c=n[u],d=c instanceof Al?c:null;if(null===d||d.type!==Al.TableRow&&d.type!==Al.TableColumn||!c.visible)l.push(c);else{h.push(d);for(var p=d.W.j,f=p.length,m=0;m<f;m++){var g=p[m];d.type===Al.TableRow?g.row=c.row:d.type===Al.TableColumn&&(g.column=c.column),l.push(g)}}}0===(a=l.length)&&(t.getRowDefinition(0),t.getColumnDefinition(0));for(var v=[],A=0;A<a;A++){var y=l[A];na(y,!0),oa(y,!0),v[y.row]||(v[y.row]=[]),v[y.row][y.column]||(v[y.row][y.column]=[]),v[y.row][y.column].push(y)}k(l);var x=M(),b=M(),C=M(),w={count:0},E={count:0},S=e,T=i,_=t.pb;a=_.length;for(var B=0;B<a;B++){var O=_[B];void 0!==O&&(O.actual=0)}a=(_=t.kb).length;for(var P=0;P<a;P++)void 0!==(O=_[P])&&(O.actual=0);for(var L=v.length,N=0,I=0;I<L;I++)v[I]&&(N=Math.max(N,v[I].length));var D=Math.min(t.topIndex,L-1),R=Math.min(t.leftIndex,N-1),F=0;L=v.length;for(var H=wl(t),U=0;U<L;U++)if(v[U]){N=v[U].length;for(var V=t.getRowDefinition(U),j=V.actual=0;j<N;j++)if(v[U][j]){var G=t.getColumnDefinition(j);void 0===x[j]&&(G.actual=0,x[j]=!0);for(var z=v[U][j],Q=z.length,Y=0;Y<Q;Y++){var K=z[Y];if(K.visible||K===H){var X=1<K.rowSpan||1<K.columnSpan;X&&(U<D||j<R||b.push(K));var $=K.margin,W=$.right+$.left,q=$.top+$.bottom,J=$s(K,V,G,!1),Z=K.desiredSize,tt=!isNaN(Z.height),et=!isNaN(Z.width)&&tt;if(X||J===Yo||et||U<D||j<R||(void 0!==w[j]||J!==Qo&&J!==$o||(w[j]=-1,w.count++),void 0!==E[U]||J!==Qo&&J!==Wo||(E[U]=-1,E.count++),C.push(K)),K.measure(1/0,1/0,0,0),!(U<D||j<R)){var it=K.measuredBounds,nt=Math.max(it.width+W,0),rt=Math.max(it.height+q,0);if(1===K.rowSpan&&(J===Yo||J===$o)){var ot=(O=t.getRowDefinition(U)).tc();(F=Math.max(rt-O.actual,0))+ot>T&&(F=Math.max(T-ot,0));var st=0===O.actual;O.actual=O.actual+F,T=Math.max(T-(F+(st?ot:0)),0)}if(1===K.columnSpan&&(J===Yo||J===Wo)){var at=(O=t.getColumnDefinition(j)).tc();(F=Math.max(nt-O.actual,0))+at>S&&(F=Math.max(S-at,0));var lt=0===O.actual;O.actual=O.actual+F,S=Math.max(S-(F+(lt?at:0)),0)}X&&K.im()}}}}}k(x);var ht=0,ut=0;a=t.columnCount;for(var ct=0;ct<a;ct++){var dt=t.kb[ct];void 0!==dt&&(ht+=dt.ha,0!==dt.ha&&(ht+=dt.tc()))}a=t.rowCount;for(var pt=0;pt<a;pt++){var ft=t.pb[pt];void 0!==ft&&(ut+=ft.ha,0!==ft.ha&&(ut+=ft.tc()))}S=Math.max(e-ht,0);var mt=T=Math.max(i-ut,0),gt=S;a=C.length;for(var vt=0;vt<a;vt++){var At=C[vt],yt=t.getRowDefinition(At.row),xt=t.getColumnDefinition(At.column),bt=At.measuredBounds,Ct=At.margin,wt=Ct.right+Ct.left,Et=Ct.top+Ct.bottom;w[At.column]=0===xt.actual&&void 0!==w[At.column]?Math.max(bt.width+wt,w[At.column]):null,E[At.row]=0===yt.actual&&void 0!==E[At.row]?Math.max(bt.height+Et,E[At.row]):null}var St,Tt=0,_t=0;for(St in E)"count"!==St&&(Tt+=E[St]);for(St in w)"count"!==St&&(_t+=w[St]);for(var Mt=Lt.alloc(),kt=0;kt<a;kt++){var Bt=C[kt];if(Bt.visible||Bt===H){var Ot=t.getRowDefinition(Bt.row),Pt=t.getColumnDefinition(Bt.column),Nt=0;isFinite(Pt.width)?Nt=Pt.width:(Nt=isFinite(S)&&null!==w[Bt.column]?0===_t?Pt.actual+S:w[Bt.column]/_t*gt:null!==w[Bt.column]?S:Pt.actual||S,Nt=Math.max(0,Nt-Pt.tc()));var It=0;switch(isFinite(Ot.height)?It=Ot.height:(It=isFinite(T)&&null!==E[Bt.row]?0===Tt?Ot.actual+T:E[Bt.row]/Tt*mt:null!==E[Bt.row]?T:Ot.actual||T,It=Math.max(0,It-Ot.tc())),Mt.h(Math.max(Pt.minimum,Math.min(Nt,Pt.maximum)),Math.max(Ot.minimum,Math.min(It,Ot.maximum))),J=$s(Bt,Ot,Pt,!1)){case $o:Mt.height=Math.max(Mt.height,Ot.actual+T);break;case Wo:Mt.width=Math.max(Mt.width,Pt.actual+S)}var Dt=Bt.margin,Rt=Dt.right+Dt.left,Ft=Dt.top+Dt.bottom;Bt.im(),Bt.measure(Mt.width,Mt.height,Pt.minimum,Ot.minimum);var Ht=Bt.measuredBounds,Ut=Math.max(Ht.width+Rt,0),Vt=Math.max(Ht.height+Ft,0);isFinite(S)&&(Ut=Math.min(Ut,Mt.width)),isFinite(T)&&(Vt=Math.min(Vt,Mt.height));var jt=0;jt=Ot.actual,Ot.actual=Math.max(Ot.actual,Vt),F=Ot.actual-jt,T=Math.max(T-F,0),jt=Pt.actual,Pt.actual=Math.max(Pt.actual,Ut),F=Pt.actual-jt,S=Math.max(S-F,0)}}k(C);var Gt=Lt.alloc(),zt=M(),Qt=M();if(0!==(a=b.length))for(var Yt=0;Yt<L;Yt++)if(v[Yt]){N=v[Yt].length;var Kt=t.getRowDefinition(Yt);zt[Yt]=Kt.actual;for(var Xt=0;Xt<N;Xt++)if(v[Yt][Xt]){var $t=t.getColumnDefinition(Xt);Qt[Xt]=$t.actual}}for(var Wt=0;Wt<a;Wt++){var qt=b[Wt];if(qt.visible||qt===H){var Jt=t.getRowDefinition(qt.row),Zt=t.getColumnDefinition(qt.column);switch(Mt.h(Math.max(Zt.minimum,Math.min(e,Zt.maximum)),Math.max(Jt.minimum,Math.min(i,Jt.maximum))),J=$s(qt,Jt,Zt,!1)){case Qo:0!==Qt[Zt.index]&&(Mt.width=Math.min(Mt.width,Qt[Zt.index])),0!==zt[Jt.index]&&(Mt.height=Math.min(Mt.height,zt[Jt.index]));break;case $o:0!==Qt[Zt.index]&&(Mt.width=Math.min(Mt.width,Qt[Zt.index]));break;case Wo:0!==zt[Jt.index]&&(Mt.height=Math.min(Mt.height,zt[Jt.index]))}isFinite(Zt.width)&&(Mt.width=Zt.width),isFinite(Jt.height)&&(Mt.height=Jt.height),Gt.h(0,0);for(var te=1;te<qt.rowSpan&&!(qt.row+te>=t.rowCount);te++)O=t.getRowDefinition(qt.row+te),F=0,F=J===Qo||J===Wo?Math.max(O.minimum,0===zt[qt.row+te]?O.maximum:Math.min(zt[qt.row+te],O.maximum)):Math.max(O.minimum,isNaN(O.Oc)?O.maximum:Math.min(O.Oc,O.maximum)),Gt.height+=F;for(var ee=1;ee<qt.columnSpan&&!(qt.column+ee>=t.columnCount);ee++)O=t.getColumnDefinition(qt.column+ee),F=0,F=J===Qo||J===$o?Math.max(O.minimum,0===Qt[qt.column+ee]?O.maximum:Math.min(Qt[qt.column+ee],O.maximum)):Math.max(O.minimum,isNaN(O.Oc)?O.maximum:Math.min(O.Oc,O.maximum)),Gt.width+=F;Mt.width+=Gt.width,Mt.height+=Gt.height;var ie=qt.margin,ne=ie.right+ie.left,re=ie.top+ie.bottom;qt.measure(Mt.width,Mt.height,o,s);for(var oe=qt.measuredBounds,se=Math.max(oe.width+ne,0),ae=Math.max(oe.height+re,0),le=0,he=0;he<qt.rowSpan&&!(qt.row+he>=t.rowCount);he++)le+=(O=t.getRowDefinition(qt.row+he)).total||0;if(le<ae){var ue=ae-le,ce=ae-le;if(null!==qt.spanAllocation)for(var de=qt.spanAllocation,pe=0;pe<qt.rowSpan&&!(0>=ue)&&!(qt.row+pe>=t.rowCount);pe++){var fe=(O=t.getRowDefinition(qt.row+pe)).ha||0,me=de(qt,O,ce);O.actual=Math.min(O.maximum,fe+me),O.ha!==fe&&(ue-=O.ha-fe)}for(;0<ue;){var ge=O.ha||0;if(isNaN(O.height)&&O.maximum>ge&&(O.actual=Math.min(O.maximum,ge+ue),O.ha!==ge&&(ue-=O.ha-ge)),0===O.index)break;O=t.getRowDefinition(O.index-1)}}for(var ve=0,Ae=0;Ae<qt.columnSpan&&!(qt.column+Ae>=t.columnCount);Ae++)ve+=(O=t.getColumnDefinition(qt.column+Ae)).total||0;if(ve<se){var ye=se-ve,xe=se-ve;if(null!==qt.spanAllocation)for(var be=qt.spanAllocation,Ce=0;Ce<qt.columnSpan&&!(0>=ye)&&!(qt.column+Ce>=t.columnCount);Ce++){var we=(O=t.getColumnDefinition(qt.column+Ce)).ha||0,Ee=be(qt,O,xe);O.actual=Math.min(O.maximum,we+Ee),O.ha!==we&&(ye-=O.ha-we)}for(;0<ye;){var Se=O.ha||0;if(isNaN(O.width)&&O.maximum>Se&&(O.actual=Math.min(O.maximum,Se+ye),O.ha!==Se&&(ye-=O.ha-Se)),0===O.index)break;O=t.getColumnDefinition(O.index-1)}}}}k(b),Lt.free(Gt),Lt.free(Mt),void 0!==zt&&k(zt),void 0!==Qt&&k(Qt);var Te=0,_e=0,Me=t.desiredSize,ke=t.maxSize;J=Xs(t,!0);var Be=ut=ht=0,Oe=0;a=t.columnCount;for(var Pe=0;Pe<a;Pe++)void 0!==t.kb[Pe]&&(O=t.getColumnDefinition(Pe),isFinite(O.width)?(Be+=O.width,Be+=O.tc()):Vl(O)===Gl?(Be+=O.ha,Be+=O.tc()):0!==O.ha&&(ht+=O.ha,ht+=O.tc()));Te=isFinite(Me.width)?Math.min(Me.width,ke.width):J!==Yo&&isFinite(e)?e:ht,Te=Math.max(Te,t.minSize.width),Te=Math.max(Te-Be,0);for(var Le=0===ht?1:Math.max(Te/ht,1),Ne=0;Ne<a;Ne++)void 0!==t.kb[Ne]&&(O=t.getColumnDefinition(Ne),isFinite(O.width)||Vl(O)===Gl||(O.actual=O.ha*Le),O.position=r.width,0!==O.ha&&(r.width+=O.ha,r.width+=O.tc()));a=t.rowCount;for(var Ie=0;Ie<a;Ie++)void 0!==t.pb[Ie]&&(O=t.getRowDefinition(Ie),isFinite(O.height)?(Oe+=O.height,Oe+=O.tc()):Vl(O)===Gl?(Oe+=O.ha,Oe+=O.tc()):0!==O.ha&&(ut+=O.ha,0!==O.ha&&(ut+=O.tc())));_e=isFinite(Me.height)?Math.min(Me.height,ke.height):J!==Yo&&isFinite(i)?i:ut,_e=Math.max(_e,t.minSize.height),_e=Math.max(_e-Oe,0);for(var De=0===ut?1:Math.max(_e/ut,1),Re=0;Re<a;Re++)void 0!==t.pb[Re]&&(O=t.getRowDefinition(Re),isFinite(O.height)||Vl(O)===Gl||(O.actual=O.ha*De),O.position=r.height,0!==O.ha&&(r.height+=O.ha,0!==O.ha&&(r.height+=O.tc())));a=h.length;for(var Fe=0;Fe<a;Fe++){var He=h[Fe],Ue=0,Ve=0;He.type===Al.TableRow?(Ue=r.width,Ve=(O=t.getRowDefinition(He.row)).actual):(Ue=(O=t.getColumnDefinition(He.column)).actual,Ve=r.height),He.measuredBounds.h(0,0,Ue,Ve),na(He,!1),v[He.row]||(v[He.row]=[]),v[He.row][He.column]||(v[He.row][He.column]=[]),v[He.row][He.column].push(He)}k(h),t.ip=v},hl.prototype.arrange=function(t,e,i){var n=e.length,r=t.padding,o=r.left;r=r.top;for(var s,a,l=t.ip,h=l.length,u=0,c=0;c<h;c++)l[c]&&(u=Math.max(u,l[c].length));for(c=Math.min(t.topIndex,h-1);c!==h&&(void 0===t.pb[c]||0===t.pb[c].ha);)c++;for(c=Math.min(c,h-1),c=-t.pb[c].position,s=Math.min(t.leftIndex,u-1);s!==u&&(void 0===t.kb[s]||0===t.kb[s].ha);)s++;s=Math.min(s,u-1);for(var d=-t.kb[s].position,p=Lt.alloc(),f=0;f<h;f++)if(l[f]){u=l[f].length;var m=t.getRowDefinition(f);a=m.position+c+r,0!==m.ha&&(a+=m.Wu());for(var g=0;g<u;g++)if(l[f][g]){var v=t.getColumnDefinition(g);s=v.position+d+o,0!==v.ha&&(s+=v.Wu());for(var A=l[f][g],y=A.length,x=0;x<y;x++){var b=A[x],C=b.measuredBounds,w=b instanceof Al?b:null;if(null===w||w.type!==Al.TableRow&&w.type!==Al.TableColumn){p.h(0,0);for(var E=1;E<b.rowSpan&&!(f+E>=t.rowCount);E++)w=t.getRowDefinition(f+E),p.height+=w.total;for(E=1;E<b.columnSpan&&!(g+E>=t.columnCount);E++)w=t.getColumnDefinition(g+E),p.width+=w.total;var S=v.ha+p.width,T=m.ha+p.height;E=s,w=a;var _=S,M=T,k=s,B=a,O=S,P=T;s+S>i.width&&(O=Math.max(i.width-s,0)),a+T>i.height&&(P=Math.max(i.height-a,0));var L=b.alignment;if(L.Mb()){(L=t.defaultAlignment).eb()||(L=oe);var N=L.x,I=L.y,D=L.offsetX;L=L.offsetY;var R=v.alignment,F=m.alignment;R.eb()&&(N=R.x,D=R.offsetX),F.eb()&&(I=F.y,L=F.offsetY)}else N=L.x,I=L.y,D=L.offsetX,L=L.offsetY;(isNaN(N)||isNaN(I))&&(I=N=.5,L=D=0),R=C.width,F=C.height;var H=b.margin,U=H.left+H.right,V=H.top+H.bottom,j=$s(b,m,v,!1);!isNaN(b.desiredSize.width)||j!==Qo&&j!==$o||(R=Math.max(S-U,0)),!isNaN(b.desiredSize.height)||j!==Qo&&j!==Wo||(F=Math.max(T-V,0)),S=b.maxSize,T=b.minSize,R=Math.min(S.width,R),F=Math.min(S.height,F),R=Math.max(T.width,R),S=(F=Math.max(T.height,F))+V,E+=_*N-(R+U)*N+D+H.left,w+=M*I-S*I+L+H.top,b.visible&&(Yt(k,B,O,P,E,w,C.width,C.height)?b.arrange(E,w,R,F):b.arrange(E,w,R,F,new Rt(k,B,O,P)))}else b.jl(),b.actualBounds.ea(),_=b.actualBounds,E=Rt.allocAt(_.x,_.y,_.width,_.height),_.x=w.type===Al.TableRow?o:s,_.y=w.type===Al.TableColumn?r:a,_.width=C.width,_.height=C.height,b.actualBounds.freeze(),oa(b,!1),Vt(E,_)||null!==(C=b.part)&&(C.Eh(),b.Ho(C)),Rt.free(E)}}}for(Lt.free(p),t=0;t<n;t++)null===(o=(i=e[t])instanceof Al?i:null)||o.type!==Al.TableRow&&o.type!==Al.TableColumn||(o=i.actualBounds,i.naturalBounds.ea(),i.naturalBounds.h(0,0,o.width,o.height),i.naturalBounds.freeze())},u(ul,nl),ul.prototype.measure=function(){},ul.prototype.arrange=function(){},u(cl,nl),cl.prototype.measure=function(){},cl.prototype.arrange=function(){},u(dl,nl),dl.prototype.measure=function(t,e,i,n,r,o,s){1<n.length&&A("Viewbox Panel cannot contain more than one GraphObject."),(n=n[0]).ya=1,n.im(),n.measure(1/0,1/0,o,s);var a=n.measuredBounds,l=n.margin,h=l.right+l.left;if(l=l.top+l.bottom,isFinite(e)||isFinite(i)){var u=n.scale,c=a.width;a=a.height;var d=Math.max(e-h,0),p=Math.max(i-l,0),f=1;t.viewboxStretch===Ko?0!==c&&0!==a&&(f=Math.min(d/c,p/a)):0!==c&&0!==a&&(f=Math.max(d/c,p/a)),0===f&&(f=1e-4),n.ya*=f,u!==n.scale&&(na(n,!0),n.measure(1/0,1/0,o,s))}a=n.measuredBounds,r.width=isFinite(e)?e:Math.max(a.width+h,0),r.height=isFinite(i)?i:Math.max(a.height+l,0)},dl.prototype.arrange=function(t,e,i){var n=(e=e[0]).measuredBounds,r=e.margin,o=Math.max(n.width+(r.right+r.left),0);r=Math.max(n.height+(r.top+r.bottom),0);var s=e.alignment;s.Mb()&&(s=t.defaultAlignment),s.eb()||(s=oe),e.arrange(i.width*s.x-o*s.x+s.offsetX,i.height*s.y-r*s.y+s.offsetY,n.width,n.height)},u(pl,nl),pl.prototype.measure=function(){},pl.prototype.arrange=function(){},pl.prototype.tb=function(t,e,i){0>=(i=t.qf()*i.scale)&&(i=1);var n=t.gridCellSize,r=n.width;n=n.height;var o=t.naturalBounds,s=t.actualBounds,a=o.width,l=o.height,h=Math.ceil(a/r),u=Math.ceil(l/n),c=t.gridOrigin;e.save(),e.beginPath(),e.rect(0,0,a,l),e.clip();for(var d=[],p=t.W.j,f=p.length,m=0;m<f;m++){var g=p[m],v=[];if(d.push(v),g.visible){g=Cl(g.figure);for(var A=m+1;A<f;A++){var y=p[A];y.visible&&Cl(y.figure)===g&&(2<=(y=y.interval)&&v.push(y))}}}for(f=(p=t.W.j).length,m=0;m<f;m++){var x=p[m];if(x.visible&&!(2>r*(v=x.interval)*i)){if(A=1,1!==(g=x.opacity)){if(0===g)continue;A=e.globalAlpha,e.globalAlpha=A*g}y=d[m];var b=!1,C=x.strokeDashArray;if(null!==C&&(b=!0,e.Ts(C,x.strokeDashOffset)),"LineV"===x.figure&&null!==x.stroke){for(e.lineWidth=x.strokeWidth,zs(t,e,x.stroke,!1,!1,o,s),e.beginPath(),C=x=Math.floor(-c.x/r);C<=x+h;C++){var w=C*r+c.x;0<=w&&w<=a&&fl(C,v,y)&&(e.moveTo(w,0),e.lineTo(w,l))}e.stroke()}else if("LineH"===x.figure&&null!==x.stroke){for(e.lineWidth=x.strokeWidth,zs(t,e,x.stroke,!1,!1,o,s),e.beginPath(),C=x=Math.floor(-c.y/n);C<=x+u;C++)0<=(w=C*n+c.y)&&w<=l&&fl(C,v,y)&&(e.moveTo(0,w),e.lineTo(a,w));e.stroke()}else if("BarV"===x.figure&&null!==x.fill)for(zs(t,e,x.fill,!0,!1,o,s),x=x.width,isNaN(x)&&(x=r),w=C=Math.floor(-c.x/r);w<=C+h;w++){var E=w*r+c.x;0<=E&&E<=a&&fl(w,v,y)&&e.fillRect(E,0,x,l)}else if("BarH"===x.figure&&null!==x.fill)for(zs(t,e,x.fill,!0,!1,o,s),x=x.height,isNaN(x)&&(x=n),w=C=Math.floor(-c.y/n);w<=C+u;w++)0<=(E=w*n+c.y)&&E<=l&&fl(w,v,y)&&e.fillRect(0,E,a,x);b&&e.Rs(),1!==g&&(e.globalAlpha=A)}}e.restore(),e.Qc(!1)},u(ml,nl),ml.prototype.measure=function(t,e,i,n,r){if(i=n.length,t instanceof fu||t instanceof Lu){var o=null,s=null,a=null;if(t instanceof Lu&&(s=o=t),t instanceof fu&&(o=(a=t).adornedPart),o instanceof Lu){var l=o;if(0===i)Ft(t.naturalBounds,0,0),t.measuredBounds.h(0,0,0,0);else{var h=t instanceof fu?null:o.path,u=o.routeBounds;(e=t.rg).h(0,0,u.width,u.height);var c=l.points;o=o.pointsCount,null!==a?a.ik(!1):null!==s&&s.ik(!1);var d=u.width,p=u.height;t.location.h(u.x,u.y),t.l.length=0,null!==h&&(gl(t,d,p,h),a=h.measuredBounds,e.Hc(a),t.l.push(a)),a=ze.alloc();for(var f=dt.alloc(),m=dt.alloc(),g=0;g<i;g++){var v=n[g];if(v!==h)if(v.isPanelMain&&v instanceof Ql){gl(t,d,p,v);var A=v.measuredBounds;e.Hc(A),t.l.push(A)}else if(2>o)v.measure(1/0,1/0,0,0),A=v.measuredBounds,e.Hc(A),t.l.push(A);else{var y=v.segmentIndex;A=v.segmentFraction;var x=v.alignmentFocus;x.jc()&&(x=oe);var b=v.segmentOrientation,C=v.segmentOffset;if(y<-o||y>=o){A=l.midPoint;var w=l.midAngle;if(b!==ic){var E=l.computeAngle(v,b,w);v.cc=E}E=A.x-u.x;var S=A.y-u.y}else{if(E=0,0<=y){S=c.L(y);var T=y<o-1?c.L(y+1):S}else E=o+y,S=c.L(E),T=0<E?c.L(E-1):S;if(S.Ma(T)){0<=y?(w=0<y?c.L(y-1):S,E=y<o-2?c.L(y+2):T):(w=E<o-1?c.L(E+1):S,E=1<E?c.L(E-2):T);var _=w.we(S),M=T.we(E);w=_>M+10?0<=y?w.Sa(S):S.Sa(w):M>_+10?0<=y?T.Sa(E):E.Sa(T):0<=y?w.Sa(E):E.Sa(w)}else w=0<=y?S.Sa(T):T.Sa(S);b!==ic&&(E=l.computeAngle(v,b,w),v.cc=E),E=S.x+(T.x-S.x)*A-u.x,S=S.y+(T.y-S.y)*A-u.y}v.measure(1/0,1/0,0,0),A=v.measuredBounds,T=v.naturalBounds;var k=0;v instanceof Ql&&(k=v.strokeWidth),_=T.width+k,M=T.height+k,a.reset(),a.translate(-A.x,-A.y),a.scale(v.scale,v.scale),a.rotate(b===ic?v.angle:w,_/2,M/2),b!==uc&&b!==fc||a.rotate(90,_/2,M/2),b!==cc&&b!==mc||a.rotate(-90,_/2,M/2),b===gc&&(45<w&&135>w||225<w&&315>w)&&a.rotate(-w,_/2,M/2),T=new Rt(0,0,_,M),f.Zi(T,x),a.ra(f),x=-f.x+k/2*v.scale,v=-f.y+k/2*v.scale,m.assign(C),k=isNaN(C.x);var B=isNaN(C.y);if(k||B){_=_/2+3,M=M/2+3;var O=45<=w&&135>=w,P=225<=w&&315>=w;b===ic&&(O||P)?(m.x=B?_:C.y,m.y=k?M:C.x,O?0<=y||!k||(m.y=-M):P&&(0<=y&&k&&(m.y=-M),B&&(m.x=-_))):(k&&(m.x=0<=y?_:-_),B&&(m.y=-M),m.rotate(w))}else m.rotate(w);E+=m.x,S+=m.y,T.set(A),T.h(E+x,S+v,A.width,A.height),t.l.push(T),e.Hc(T)}}if(null!==s)for(n=s.labelNodes;n.next();)n.value.measure(1/0,1/0);t.rg=e,(t=t.location).h(t.x+e.x,t.y+e.y),Ft(r,e.width||0,e.height||0),ze.free(a),dt.free(f),dt.free(m)}}}},ml.prototype.arrange=function(t,e){var i=e.length;if(t instanceof fu||t instanceof Lu){var n=null,r=null,o=null;t instanceof Lu&&(r=n=t),t instanceof fu&&(n=(o=t).adornedPart);var s=t instanceof fu?null:n.path;if(0!==t.l.length){var a=t.l,l=0;if(null!==s&&l<t.l.length){var h=a[l];l++,s.arrange(h.x-t.rg.x,h.y-t.rg.y,h.width,h.height)}for(h=0;h<i;h++){var u=e[h];if(u!==s&&l<t.l.length){var c=a[l];l++,u.arrange(c.x-t.rg.x,c.y-t.rg.y,c.width,c.height)}}}if(2<=(i=(e=n.points).count)&&t instanceof Lu)for(n=t.labelNodes;n.next();){c=t,a=(s=n.value).segmentIndex;var d=s.segmentFraction;h=s.alignmentFocus;var p=s.segmentOrientation;if(l=s.segmentOffset,a<-i||a>=i){var f=c.midPoint;u=c.midAngle,p!==ic&&(c=c.computeAngle(s,p,u),s.angle=c),c=f.x;var m=f.y}else{var g=0;if(0<=a?(m=e.j[a],f=a<i-1?e.j[a+1]:m):(g=i+a,m=e.j[g],f=0<g?e.j[g-1]:m),m.Ma(f)){0<=a?(u=0<a?e.j[a-1]:m,g=a<i-2?e.j[a+2]:f):(u=g<i-1?e.j[g+1]:m,g=1<g?e.j[g-2]:f);var v=u.we(m),A=f.we(g);u=v>A+10?0<=a?u.Sa(m):m.Sa(u):A>v+10?0<=a?f.Sa(g):g.Sa(f):0<=a?u.Sa(g):g.Sa(u)}else u=0<=a?m.Sa(f):f.Sa(m);p!==ic&&(c=c.computeAngle(s,p,u),s.angle=c),c=m.x+(f.x-m.x)*d,m=m.y+(f.y-m.y)*d}h.it()?s.location=new dt(c,m):(h.jc()&&(h=oe),(f=ze.alloc()).reset(),f.scale(s.scale,s.scale),f.rotate(s.angle,0,0),d=s.naturalBounds,d=Rt.allocAt(0,0,d.width,d.height),(p=dt.alloc()).Zi(d,h),f.ra(p),h=-p.x,g=-p.y,l=l.copy(),isNaN(l.x)&&(l.x=0<=a?p.x+3:-(p.x+3)),isNaN(l.y)&&(l.y=-(p.y+3)),l.rotate(u),c+=l.x,m+=l.y,f.bw(d),h+=d.x,g+=d.y,a=dt.allocAt(c+h,m+g),s.move(a),dt.free(a),dt.free(p),Rt.free(d),ze.free(f))}null!==o?o.ik(!1):null!==r&&r.ik(!1)}},u(vl,nl),vl.prototype.measure=function(t,e,i,n,r,o,s){var a=t.Ab();t.Wg=[];var l=a.margin,h=l.right+l.left,u=l.top+l.bottom;a.measure(e,i,o,s);var c=a.measuredBounds,d=new Rt(-l.left,-l.top,Math.max(c.width+h,0),Math.max(c.height+u,0));t.Wg.push(d),r.assign(d);for(var p=a.geometry,f=a.strokeWidth,m=p.flattenedSegments,g=p.flattenedLengths,v=p.flattenedTotalLength,A=m.length,y=0,x=0,b=M(),C=0;C<A;C++){var w=m[C],E=[];x=y=0;for(var S=w.length,T=0;T<S;T+=2){var _=w[T],B=w[T+1];if(0!==T){var O=180*Math.atan2(B-x,_-y)/Math.PI;0>O&&(O+=360),E.push(O)}y=_,x=B}b.push(E)}if(null===t.Xg){for(var P=[],L=t.W.j,N=L.length,I=0;I<N;I++){var D=L[I],R=[];if(P.push(R),D.visible)for(var F=D.interval,H=0;H<N;H++){var U=L[H];if(U.visible&&D!==U&&!(D instanceof Ql&&!(U instanceof Ql)||D instanceof eh&&!(U instanceof eh))){var V=U.interval;V>F&&R.push(V)}}}t.Xg=P}var j=t.Xg,G=t.W.j,z=G.length,Q=0,Y=0,K=v;t.mj=[];for(var X,$=0;$<z;$++){var W=G[$];if(X=[],W.visible&&W!==a){var q=W.interval,J=t.graduatedTickUnit;if(!(2>J*q*v/t.graduatedRange)){var Z=g[0][0],tt=0,et=0;Y=v*W.graduatedStart-1e-4,K=v*W.graduatedEnd+1e-4;var it=J*q,nt=t.graduatedTickBase;if(nt<t.graduatedMin){var rt=(t.graduatedMin-nt)/it;nt+=(rt=0==rt%1?rt:Math.floor(rt+1))*it}else nt>t.graduatedMin+it&&(nt-=Math.floor((nt-t.graduatedMin)/it)*it);for(var ot=j[$];nt<=t.graduatedMax;){t:{for(var st=ot.length,at=0;at<st;at++)if(Ye.Z((nt-t.graduatedTickBase)%(ot[at]*t.graduatedTickUnit),0)){var lt=!1;break t}lt=!0}if(lt&&(null===W.graduatedSkip||!W.graduatedSkip(nt))&&((Q=(nt-t.graduatedMin)*v/t.graduatedRange)>v&&(Q=v),Y<=Q&&Q<=K)){for(var ht=b[tt][et],ut=g[tt][et];tt<g.length;){for(;Q>Z&&et<g[tt].length-1;)et++,ht=b[tt][et],Z+=ut=g[tt][et];if(Q<=Z)break;et=0,ht=b[++tt][et],Z+=ut=g[tt][et]}var ct=m[tt],pt=ct[2*et],ft=ct[2*et+1],mt=(Q-(Z-ut))/ut,gt=new dt(pt+(ct[2*et+2]-pt)*mt+f/2-p.bounds.x,ft+(ct[2*et+3]-ft)*mt+f/2-p.bounds.y);gt.scale(a.scale,a.scale);var vt=ht,At=b[tt];if(1e-4>mt?0<et?vt=At[et-1]:Ye.Z(ct[0],ct[ct.length-2])&&Ye.Z(ct[1],ct[ct.length-1])&&(vt=At[At.length-1]):.9999<mt&&(et+1<At.length?vt=At[et+1]:Ye.Z(ct[0],ct[ct.length-2])&&Ye.Z(ct[1],ct[ct.length-1])&&(vt=At[0])),ht!==vt&&(180<Math.abs(ht-vt)&&(ht<vt?ht+=360:vt+=360),ht=(ht+vt)/2%360),W instanceof eh){var yt="";null!==W.graduatedFunction?yt=null!==(yt=W.graduatedFunction(nt))&&void 0!==yt?yt.toString():"":yt=(+nt.toFixed(2)).toString(),""!==yt&&X.push({rm:gt,angle:ht,text:yt})}else X.push({rm:gt,angle:ht})}nt+=it}}}t.mj.push(X)}k(b);var xt=t.mj;if(null!==xt)for(var bt=n.length,Ct=0;Ct<bt;Ct++){var wt=n[Ct],Et=xt[Ct];if(wt.visible&&wt!==a&&0!==Et.length){if(wt instanceof Ql){var St=t,Tt=r,_t=wt.alignmentFocus;_t.jc()&&(_t=ie);var Mt=wt.angle;wt.cc=0,wt.measure(1/0,1/0,0,0),wt.cc=Mt;var kt=wt.measuredBounds,Bt=kt.width,Ot=kt.height,Pt=Rt.allocAt(0,0,Bt,Ot),Lt=dt.alloc();Lt.Zi(Pt,_t),Rt.free(Pt);for(var Nt=-Lt.x,It=-Lt.y,Dt=new Rt,Ft=Et.length,Ht=0;Ht<Ft;Ht++)for(var Ut=Et[Ht],Vt=Ut.rm.x,jt=Ut.rm.y,Gt=Ut.angle,zt=0;4>zt;zt++){switch(zt){case 0:Lt.h(Nt,It);break;case 1:Lt.h(Nt+Bt,It);break;case 2:Lt.h(Nt,It+Ot);break;case 3:Lt.h(Nt+Bt,It+Ot)}Lt.rotate(Gt+wt.angle),Lt.offset(Vt,jt),0===Ht&&0===zt?Dt.h(Lt.x,Lt.y,0,0):Dt.Ce(Lt),Lt.offset(-Vt,-jt),Lt.rotate(-Gt-wt.angle)}dt.free(Lt),null!==St.Wg&&St.Wg.push(Dt),Qt(Tt,Dt.x,Dt.y,Dt.width,Dt.height)}else if(wt instanceof eh){var Yt=t,Kt=r;null===Yt.rh&&(Yt.rh=new eh);var Xt=Yt.rh;ih(Xt,wt);var $t=wt.alignmentFocus;$t.jc()&&($t=ie);for(var Wt=wt.segmentOrientation,qt=wt.segmentOffset,Jt=new Rt,Zt=0,te=0,ee=0,ne=0,re=Et.length,oe=0;oe<re;oe++){var se=Et[oe];Zt=se.rm.x,te=se.rm.y,ee=se.angle,Wt!==ic&&(ne=Lu.computeAngle(Wt,ee),Xt.cc=ne),Xt.text=se.text||"",Xt.measure(1/0,1/0,0,0);var ae=Xt.measuredBounds,le=Xt.naturalBounds,he=le.width,ue=le.height,ce=ze.alloc();ce.reset(),ce.translate(-ae.x,-ae.y),ce.scale(Xt.scale,Xt.scale),ce.rotate(Wt===ic?Xt.angle:ee,he/2,ue/2),Wt!==uc&&Wt!==fc||ce.rotate(90,he/2,ue/2),Wt!==cc&&Wt!==mc||ce.rotate(-90,he/2,ue/2),Wt===gc&&(45<ee&&135>ee||225<ee&&315>ee)&&ce.rotate(-ee,he/2,ue/2);var de=Rt.allocAt(0,0,he,ue),pe=dt.alloc();pe.Zi(de,$t),ce.ra(pe);var fe=-pe.x,me=-pe.y,ge=dt.alloc();ge.assign(qt),isNaN(ge.x)&&(ge.x=he/2+3),isNaN(ge.y)&&(ge.y=-(ue/2+3)),ge.rotate(ee);var ve=new Rt(Zt+=ge.x+fe,te+=ge.y+me,ae.width,ae.height),Ae=new Rt(ae.x,ae.y,ae.width,ae.height),ye=new Rt(le.x,le.y,le.width,le.height);se.Oz=ne,se.lineCount=Xt.lineCount,se.lines=[Xt.nb,Xt.mi,Xt.ee,Xt.qe,Xt.Ob,Xt.fb,Xt.ce],se.actualBounds=ve,se.measuredBounds=Ae,se.naturalBounds=ye,0===oe?Jt.assign(ve):Jt.Hc(ve),dt.free(ge),dt.free(pe),Rt.free(de),ze.free(ce)}null!==Yt.Wg&&Yt.Wg.push(Jt),Qt(Kt,Jt.x,Jt.y,Jt.width,Jt.height)}na(wt,!1)}}},vl.prototype.arrange=function(t,e,i){if(null!==t.Wg){var n=t.Ab(),r=t.mj;if(null!==r){var o=t.Wg,s=0,a=o[s];s++,null!==n&&n.arrange(a.x-i.x,a.y-i.y,a.width,a.height);for(var l=e.length,h=0;h<l;h++){var u=e[h];a=r[h],u.visible&&u!==n&&0!==a.length&&(a=o[s],s++,u.arrange(a.x-i.x,a.y-i.y,a.width,a.height))}t.Wg=null}}},vl.prototype.tb=function(t,e,i){var n=i.qj;i.qj=!0;var r=t.naturalBounds,o=r.width;r=r.height,e.save(),e.beginPath(),e.rect(-1,-1,o+1,r+1),e.clip(),(o=t.Ab()).tb(e,i),0>=(r=t.qf()*i.scale)&&(r=1);for(var s=o.actualBounds,a=t.W.j,l=t.mj,h=a.length,u=0;u<h;u++){var c=a[u],d=l[u],p=d.length;if(c.visible&&c!==o&&0!==d.length)if(c instanceof Ql){if(!(2>t.graduatedTickUnit*c.interval*o.geometry.flattenedTotalLength/t.graduatedRange*r)){var f=c.measuredBounds,m=c.strokeWidth*c.scale,g=c.alignmentFocus;g.jc()&&(g=ie);for(var v=0;v<p;v++){var A=d[v].rm,y=d[v].angle,x=g,b=c.rb;b.reset(),b.translate(A.x+s.x,A.y+s.y),b.rotate(y+c.angle,0,0),b.translate(-f.width*x.x+x.offsetX+m/2,-f.height*x.y+x.offsetY+m/2),b.scale(c.scale,c.scale),ta(c,!1),c.Kh.set(c.rb),c.Tk=c.scale,ea(c,!1),c.tb(e,i),c.rb.reset()}}}else if(c instanceof eh)for(null===t.rh&&(t.rh=new eh),ih(f=t.rh,c),c=0;c<p;c++)(m=d[c]).actualBounds&&m.measuredBounds&&m.naturalBounds&&(f.Rb=m.text||"",f.cc=m.Oz||0,f.Mc=m.lineCount||0,void 0!==(g=m.lines)&&(f.nb=g[0],f.mi=g[1],f.ee=g[2],f.qe=g[3],f.Ob=g[4],f.fb=g[5],f.ce=g[6]),m.naturalBounds&&(f.pc=m.naturalBounds),m.actualBounds&&(g=m.actualBounds,f.arrange(g.x,g.y,g.width,g.height)),g=m.actualBounds,f.arrange(g.x,g.y,g.width,g.height),v=m.measuredBounds,m=m.naturalBounds,(A=f.rb).reset(),A.translate(g.x+s.x,g.y+s.y),A.translate(-v.x,-v.y),Ys(f,A,m.x,m.y,m.width,m.height),ta(f,!1),f.Kh.set(f.rb),f.Tk=f.scale,ea(f,!1),f.tb(e,i))}i.qj=n,e.restore(),e.Qc(!0)},u(Al,Rs),Al.prototype.cloneProtected=function(t){if(Rs.prototype.cloneProtected.call(this,t),t.qa=this.qa,t.bb=this.bb.G(),t.pn=this.pn.G(),t.Mf=this.Mf,t.qa===Al.Table){t.hj=this.hj.G(),t.Pg=this.Pg,t.ci=this.ci,t.bi=this.bi,t.Og=this.Og,t.Ng=this.Ng,t.ai=this.ai;var e=[];if(0<this.pb.length)for(var i=this.pb,n=i.length,r=0;r<n;r++)if(void 0!==i[r]){var o=i[r].copy();o.Yi(t),e[r]=o}if(t.pb=e,e=[],0<this.kb.length)for(n=(i=this.kb).length,r=0;r<n;r++)void 0!==i[r]&&((o=i[r].copy()).Yi(t),e[r]=o);t.kb=e,t.Hj=this.Hj,t.fj=this.fj,t.Ei=this.Ei,t.oi=this.oi}t.Op=this.Op,t.Ln=this.Ln.G(),t.Mn=this.Mn.G(),t.In=this.In,t.Hn=this.Hn,t.Kn=this.Kn,t.Jn=this.Jn,t.mj=this.mj,t.Xg=this.Xg,t.hb=this.hb,t.Xh=this.Xh,t.Zn=this.Zn,t.li=this.li,t.he=this.he,t.ml=this.ml,t.rg.assign(this.rg),t.Gg=this.Gg,null!==this.ip&&(t.ip=this.ip)},Al.prototype.pf=function(t){Rs.prototype.pf.call(this,t),t.W=this.W;for(var e=t.W.j,i=e.length,n=0;n<i;n++)e[n].jg=t;t.Bi=null},Al.prototype.copy=function(){var t=Rs.prototype.copy.call(this);if(null!==t){for(var e=this.W.j,i=e.length,n=0;n<i;n++){var r=e[n].copy();r.Yi(t),r.Dj=null;var o=t.W,s=o.count;if(o.Kb(s,r),null!==(o=t.part)){o.zj=null,null!==r.portId&&o instanceof mu&&(o.Dh=!0);var a=t.diagram;null!==a&&a.undoManager.isUndoingRedoing||o.Ya(Ci,"elements",t,null,r,null,s)}}return t}return null},(i=Al.prototype).toString=function(){return"Panel("+this.type+")#"+rt(this)},i.Ho=function(t){Rs.prototype.Ho.call(this,t);for(var e=this.W.j,i=e.length,n=0;n<i;n++)e[n].Ho(t)},i.Ki=function(t,e){if(this.qa===Al.Grid)this.qa.tb(this,t,e);else if(this.qa===Al.Graduated)this.qa.tb(this,t,e);else{this.qa===Al.Table&&(t.lineCap="butt",bl(this,t,!0,this.pb,!0),bl(this,t,!1,this.kb,!0),xl(this,t,!0,this.pb),xl(this,t,!1,this.kb),bl(this,t,!0,this.pb,!1),bl(this,t,!1,this.kb,!1));var i=this.isClipping;i&&t.save();for(var n=this.Ab(),r=this.W.j,o=r.length,s=0;s<o;s++){var a=r[s];i&&a===n&&(t.clipInsteadOfFill=!0),a.tb(t,e),i&&a===n&&(t.clipInsteadOfFill=!1)}i&&(t.restore(),t.Qc(!0))}},i.ck=function(t,e,i,n,r){var o=this.Yd(),s=this.transform,a=1/(s.m11*s.m22-s.m12*s.m21),l=s.m22*a,h=-s.m12*a,u=-s.m21*a,c=s.m11*a,d=a*(s.m21*s.dy-s.m22*s.dx),p=a*(s.m12*s.dx-s.m11*s.dy);if(null!==this.areaBackground)return s=this.actualBounds,Ye.Sc(s.left,s.top,s.right,s.bottom,t,e,i,n,r);if(null!==this.background)return o=t*l+e*u+d,a=t*h+e*c+p,t=i*l+n*u+d,l=i*h+n*c+p,r.h(0,0),i=this.naturalBounds,o=Ye.Sc(0,0,i.width,i.height,o,a,t,l,r),r.transform(s),o;o||(l=1,u=h=0,c=1,p=d=0),a=t*l+e*u+d,t=t*h+e*c+p,l=i*l+n*u+d,i=i*h+n*c+p,r.h(l,i),n=(l-a)*(l-a)+(i-t)*(i-t),h=!1,p=(c=this.W.j).length,u=dt.alloc(),d=null,e=1/0;var f=null;this.isClipping&&(f=dt.alloc(),(h=(d=this.Ab()).ck(a,t,l,i,f))&&(e=(a-f.x)*(a-f.x)+(t-f.y)*(t-f.y)));for(var m=0;m<p;m++){var g=c[m];g.visible&&g!==d&&g.ck(a,t,l,i,u)&&(h=!0,(g=(a-u.x)*(a-u.x)+(t-u.y)*(t-u.y))<n&&(n=g,r.set(u)))}return this.isClipping&&(e>n&&r.set(f),dt.free(f)),dt.free(u),o&&r.transform(s),h},i.o=function(t){if(!0!==ia(this)){Rs.prototype.o.call(this,t),t=null,this.qa!==Al.Auto&&this.qa!==Al.Link||(t=this.Ab());for(var e=this.W.j,i=e.length,n=0;n<i;n++){var r=e[n];if((r===t||r.isPanelMain)&&r.o(!0),!r.desiredSize.v()){var o=Xs(r,!1);(r instanceof Pu||r instanceof Al||r instanceof eh||o!==Yo)&&r.o(!0)}}}},i.im=function(){if(!1===ia(this)){na(this,!0),oa(this,!0);for(var t=this.W.j,e=t.length,i=0;i<e;i++)t[i].im()}},i.jl=function(){if(0!=(2048&this.F)==!1){ta(this,!0),ea(this,!0);for(var t=this.W.j,e=t.length,i=0;i<e;i++)t[i].rv()}},i.rv=function(){ea(this,!0);for(var t=this.W.j,e=t.length,i=0;i<e;i++)t[i].rv()},i.mm=function(t,e,i,n){var r=this.rg;r.h(0,0,0,0);var o=this.desiredSize,s=this.minSize;void 0===i&&(i=s.width,n=s.height),i=Math.max(i,s.width),n=Math.max(n,s.height);var a=this.maxSize;isNaN(o.width)||(t=Math.min(o.width,a.width)),isNaN(o.height)||(e=Math.min(o.height,a.height)),t=Math.max(i,t),e=Math.max(n,e);var l=this.bb;t=Math.max(t-l.left-l.right,0),e=Math.max(e-l.top-l.bottom,0);var h=this.W.j;0!==h.length&&this.qa.measure(this,t,e,h,r,i,n),t=r.width+l.left+l.right,l=r.height+l.top+l.bottom,isFinite(o.width)&&(t=o.width),isFinite(o.height)&&(l=o.height),t=Math.min(a.width,t),l=Math.min(a.height,l),t=Math.max(s.width,t),l=Math.max(s.height,l),Ft(r,t=Math.max(i,t),l=Math.max(n,l)),Ft(this.naturalBounds,t,l),Us(this,0,0,t,l)},i.Ab=function(){if(null===this.Bi){var t=this.W.j,e=t.length;if(0===e)return null;for(var i=0;i<e;i++){var n=t[i];if(!0===n.isPanelMain)return this.Bi=n}this.Bi=t[0]}return this.Bi},i.Ah=function(t,e,i,n){var r=this.W.j;if(this.actualBounds.h(t,e,i,n),0!==r.length){if(!this.desiredSize.v()){t=Xs(this,!0);var o=this.measuredBounds;e=o.width,o=o.height;var s=this.bh,a=s.left+s.right;switch(s=s.top+s.bottom,e===i&&o===n&&(t=Yo),t){case Yo:(e>i||o>n)&&(this.o(),this.measure(e>i?i:e,o>n?n:o,0,0));break;case Qo:this.o(!0),this.measure(i+a,n+s,0,0);break;case $o:this.o(!0),this.measure(i+a,o+s,0,0);break;case Wo:this.o(!0),this.measure(e+a,n+s,0,0)}}this.qa.arrange(this,r,this.rg)}},i.Ch=function(t){var e=this.naturalBounds,i=wl(this);if(Yt(0,0,e.width,e.height,t.x,t.y)){for(var n=(e=this.W.j).length,r=dt.allocAt(0,0);n--;){var o=e[n];if((o.visible||o===i)&&(gt(r.set(t),o.transform),o.$(r)))return dt.free(r),!0}return dt.free(r),null!==this.gb||null!==this.dc}return!1},i.Us=function(t){if(this.Ek===t)return this;for(var e=this.W.j,i=e.length,n=0;n<i;n++){var r=e[n].Us(t);if(null!==r)return r}return null},i.Em=function(t,e){if(e(this,t),t instanceof Al)for(var i=(t=t.W.j).length,n=0;n<i;n++)this.Em(t[n],e)},i.cm=function(t){return function t(e,i,n){if(n(i))return i;if(i instanceof Al)for(var r=(i=i.W.j).length,o=0;o<r;o++){var s=t(e,i[o],n);if(null!==s)return s}return null}(this,this,t)},i.Xa=function(t){if(this.name===t)return this;var e=this.W.j,i=e.length;null===this.li&&null===this.he||(i=Pl(this));for(var n=0;n<i;n++){var r=e[n];if(r instanceof Al){var o=r.Xa(t);if(null!==o)return o}if(r.name===t)return r}return null},i.Yd=function(){return!(this.type===Al.TableRow||this.type===Al.TableColumn)},i.Sb=function(t,e,i){if(!1===this.pickable)return null;if(void 0===e&&(e=null),void 0===i&&(i=null),ra(this))return null;var n=this.naturalBounds,r=1/this.qf(),o=this.Yd(),s=o?t:gt(dt.allocAt(t.x,t.y),this.transform),a=this.diagram,l=10,h=5;if(null!==a&&(h=(l=a.gm("extraTouchArea"))/2),Yt(-h*r,-h*r,n.width+l*r,n.height+l*r,s.x,s.y)){if(!this.isAtomic){var u=(r=this.W.j).length;if(a=dt.alloc(),h=(l=this.isClipping)?this.Ab():null,l&&(h.Yd()?gt(a.set(t),h.transform):a.set(t),!h.$(a)))return dt.free(a),o||dt.free(s),null;for(var c=wl(this);u--;){var d=r[u];if((d.visible||d===c)&&(d.Yd()?gt(a.set(t),d.transform):a.set(t),!l||d!==h)){var p=null;if(d instanceof Al?p=d.Sb(a,e,i):!0===d.pickable&&d.$(a)&&(p=d),null!==p&&(null!==e&&(p=e(p)),null!==p&&(null===i||i(p))))return dt.free(a),o||dt.free(s),p}}dt.free(a)}return null===this.background&&null===this.areaBackground?(o||dt.free(s),null):(t=Yt(0,0,n.width,n.height,s.x,s.y)?this:null,o||dt.free(s),t)}return o||dt.free(s),null},i.Ni=function(t,e,i,n){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===i&&(i=null);var r=this.naturalBounds,o=this.Yd(),s=o?t:gt(dt.allocAt(t.x,t.y),this.transform);if(r=Yt(0,0,r.width,r.height,s.x,s.y),this.type===Al.TableRow||this.type===Al.TableColumn||r){if(!this.isAtomic){for(var a=this.W.j,l=a.length,h=dt.alloc(),u=wl(this);l--;){var c=a[l];if(c.visible||c===u){c.Yd()?gt(h.set(t),c.transform):h.set(t);var d=c;(null!==(c=c instanceof Al?c:null)?c.Ni(h,e,i,n):d.$(h))&&!1!==d.pickable&&(null!==e&&(d=e(d)),null===d||null!==i&&!i(d)||n.add(d))}}dt.free(h)}return o||dt.free(s),r&&(null!==this.background||null!==this.areaBackground)}return o||dt.free(s),!1},i.wg=function(t,e,i,n,r,o){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===i&&(i=null);var s=o;if(void 0===o&&(s=ze.alloc()).reset(),s.multiply(this.transform),this.Bh(t,s))return Tl(this,e,i,r),void 0===o&&ze.free(s),!0;if(this.Gc(t,s)){if(!this.isAtomic)for(var a=wl(this),l=this.W.j,h=l.length;h--;){var u=l[h];if(u.visible||u===a){var c=u.actualBounds,d=this.naturalBounds;c.x>d.width||c.y>d.height||0>c.x+c.width||0>c.y+c.height||(c=u,u=u instanceof Al?u:null,(d=ze.alloc()).set(s),(null!==u?u.wg(t,e,i,n,r,d):Vs(c,t,n,d))&&(null!==e&&(c=e(c)),null===c||null!==i&&!i(c)||r.add(c)),ze.free(d))}}return void 0===o&&ze.free(s),n}return void 0===o&&ze.free(s),!1},i.xg=function(t,e,i,n,r,o){if(!1===this.pickable)return!1;void 0===i&&(i=null),void 0===n&&(n=null);var s=this.naturalBounds,a=this.Yd(),l=a?t:gt(dt.allocAt(t.x,t.y),this.transform),h=a?e:gt(dt.allocAt(e.x,e.y),this.transform),u=l.we(h),c=0<l.x&&l.x<s.width&&0<l.y&&l.y<s.height||vt(l.x,l.y,0,0,0,s.height)<=u||vt(l.x,l.y,0,s.height,s.width,s.height)<=u||vt(l.x,l.y,s.width,s.height,s.width,0)<=u||vt(l.x,l.y,s.width,0,0,0)<=u;if(s=l.ed(0,0)<=u&&l.ed(0,s.height)<=u&&l.ed(s.width,0)<=u&&l.ed(s.width,s.height)<=u,a||(dt.free(l),dt.free(h)),c){if(!this.isAtomic){l=dt.alloc(),h=dt.alloc(),u=wl(this);for(var d=this.W.j,p=d.length;p--;){var f=d[p];if(f.visible||f===u){var m=f.actualBounds,g=this.naturalBounds;a&&(m.x>g.width||m.y>g.height||0>m.x+m.width||0>m.y+m.height)||(f.Yd()?(m=f.transform,gt(l.set(t),m),gt(h.set(e),m)):(l.set(t),h.set(e)),m=f,(null!==(f=f instanceof Al?f:null)?f.xg(l,h,i,n,r,o):m.zx(l,h,r))&&(null!==i&&(m=i(m)),null===m||null!==n&&!n(m)||o.add(m)))}}dt.free(l),dt.free(h)}return r?c:s}return!1},i.add=function(t){this.Kb(this.W.count,t)},i.L=function(t){return this.W.L(t)},i.Kb=function(t,e){e instanceof Xh&&A("Cannot add a Part to a Panel: "+e+"; use a Panel instead"),(this===e||this.Ag(e))&&(this===e&&A("Cannot make a Panel contain itself: "+this.toString()),A("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+e.toString()));var i=e.panel;if(null!==i&&i!==this&&A("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+e.toString()+", already contained by "+i.toString()+", cannot be shared by this Panel: "+this.toString()),this.qa!==Al.Grid||e instanceof Ql||A("Can only add Shapes to a Grid Panel, not: "+e),this.qa!==Al.Graduated||e instanceof Ql||e instanceof eh||A("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+e),e.Yi(this),e.Dj=null,null!==this.itemArray){var n=e.data;null!==n&&"object"==typeof n&&(null===this.Hd&&(this.Hd=new ct),this.Hd.add(n,e))}var r=this.W;if(n=-1,i===this){for(var o=-1,s=this.W.j,a=s.length,l=0;l<a;l++)if(s[l]===e){o=l;break}if(-1!==o){if(o===t||o+1>=r.count&&t>=r.count)return;r.jb(o),n=o}else A("element "+e.toString()+" has panel "+i.toString()+" but is not contained by it.")}(0>t||t>r.count)&&(t=r.count),r.Kb(t,e),(0===t||e.isPanelMain)&&(this.Bi=null),ia(this)||this.o(),e.o(!1),null!==e.portId?this.Dh=!0:e instanceof Al&&!0===e.Dh&&(this.Dh=!0),this.Xg=null,null!==(i=this.part)&&(i.zj=null,i.dh=NaN,this.Dh&&i instanceof mu&&(i.Dh=!0),i.Dh&&i instanceof mu&&(i.rc=null),null!==(r=this.diagram)&&r.undoManager.isUndoingRedoing||(-1!==n&&i.Ya(wi,"elements",this,e,null,n,null),i.Ya(Ci,"elements",this,null,e,null,t),this.Bg()||Il(this,e,!1)))},i.remove=function(t){for(var e=this.W.j,i=e.length,n=-1,r=0;r<i;r++)if(e[r]===t){n=r;break}-1!==n&&this.Fc(n,!0)},i.jb=function(t){0<=t&&this.Fc(t,!0)},i.Fc=function(t,e){var i=this.W,n=i.L(t);if(n.Dj=null,n.Yi(null),null!==this.Hd){var r=n.data;"object"==typeof r&&this.Hd.remove(r)}i.jb(t),na(this,!1),this.o(),this.Bi===n&&(this.Bi=null),this.Xg=null;var o=this.part;null!==o&&(o.zj=null,o.dh=NaN,o.Lb(),o instanceof mu&&(n instanceof Al?n.Em(n,function(t,i){Su(o,i,e)}):Su(o,n,e)),null!==(i=this.diagram)&&i.undoManager.isUndoingRedoing||o.Ya(wi,"elements",this,n,null,t,null))},Al.prototype.getRowDefinition=function(t){0>t&&x(t,">= 0",Al,"getRowDefinition:idx"),t=Math.round(t);var e=this.pb;if(void 0===e)return null;if(void 0===e[t]){var i=new Ul;i.Yi(this),i.isRow=!0,i.index=t,e[t]=i}return e[t]},Al.prototype.Jv=function(t){0>t&&x(t,">= 0",Al,"removeRowDefinition:idx"),t=Math.round(t);var e=this.pb;void 0!==e&&(this.Ya(wi,"coldefs",this,e[t],null,t,null),e[t]&&delete e[t],this.o())},Al.prototype.getColumnDefinition=function(t){0>t&&x(t,">= 0",Al,"getColumnDefinition:idx"),t=Math.round(t);var e=this.kb;if(void 0===e)return null;if(void 0===e[t]){var i=new Ul;i.Yi(this),i.isRow=!1,i.index=t,e[t]=i}return e[t]},(i=Al.prototype).Hv=function(t){0>t&&x(t,">= 0",Al,"removeColumnDefinition:idx"),t=Math.round(t);var e=this.kb;void 0!==e&&(this.Ya(wi,"coldefs",this,e[t],null,t,null),e[t]&&delete e[t],this.o())},i.ez=function(t){if(0>t||this.type!==Al.Table)return-1;for(var e=0,i=this.pb,n=i.length,r=this.Ei;r<n;r++){var o=i[r];if(void 0!==o&&t<(e+=o.total))break}return r},i.Xy=function(t){if(0>t||this.type!==Al.Table)return-1;for(var e=0,i=this.kb,n=i.length,r=this.oi;r<n;r++){var o=i[r];if(void 0!==o&&t<(e+=o.total))break}return r},i.zz=function(t,e){if(void 0===e&&(e=new dt(NaN,NaN)),this.type!==Al.Graduated)return e.h(NaN,NaN),e;t=Math.min(Math.max(t,this.graduatedMin),this.graduatedMax);var i=this.Ab();return i.geometry.lv((t-this.graduatedMin)/this.graduatedRange,e),i.transform.ra(e)},i.Az=function(t){if(this.type!==Al.Graduated)return NaN;var e=this.Ab();return e.transform.Td(t),e.geometry.Cx(t)*this.graduatedRange+this.graduatedMin},i.Ly=function(){var t=this.copy();return Sl(t,function(t){t instanceof Al&&(t.Xh=null,t.hb=null);var e=t.$a;null!==e&&(t.$a=null,e.each(function(e){t.bind(e.copy())})),null!==(e=t.Hg)&&(t.Hg=null,e.each(function(e){la(t,e.value.copy())}))}),t},i.Aa=function(t){var e=this.Xh;if(null!==e)for(void 0===t&&(t=""),e=e.iterator;e.next();){var i=e.value,n=i.sourceProperty;if((""===t||""===n||n===t)&&(n=i.targetProperty,null!==i.converter||""!==n)){n=this.data;var r=i.sourceName;if(null!==r)n=""===r?this:"/"===r?this:"."===r?this:".."===r?this:this.Xa(r);else{var o=this.diagram;null!==o&&i.isToModel&&(n=o.model.modelData)}if(null!==n){o=this;var s=i.bj;if(-1!==s){if(null===(o=this.Us(s)))continue}else null!==i.bd&&(o=i.bd);if("/"===r?n=o.part:"."===r?n=o:".."===r&&(n=o.panel),0!==(r=i.Fp)){if(!(o instanceof Al))continue;1===r?o=o.getColumnDefinition(i.Rl):2===r&&(o=o.getRowDefinition(i.Rl))}void 0!==o&&i.ew(o,n)}}}},i.st=function(){for(var t=Pl(this);this.W.length>t;)this.Fc(this.W.length-1,!1);if(null!==(t=this.itemArray))for(var e=t.length,i=0;i<e;i++)Ll(this,t[i],i)},i.yx=function(t){return void 0===t||null===t||null===this.Hd?null:this.Hd.H(t)},c.Object.defineProperties(Al.prototype,{type:{get:function(){return this.qa},set:function(t){var e=this.qa;e!==t&&(this.qa=t,this.qa===Al.Grid?this.isAtomic=!0:this.qa===Al.Table&&yl(this),this.o(),this.g("type",e,t))}},elements:{get:function(){return this.W.iterator}},naturalBounds:{get:function(){return this.pc}},padding:{get:function(){return this.bb},set:function(t){"number"==typeof t?(0>t&&x(t,">= 0",Al,"padding"),t=new qt(t)):(0>t.left&&x(t.left,">= 0",Al,"padding:value.left"),0>t.right&&x(t.right,">= 0",Al,"padding:value.right"),0>t.top&&x(t.top,">= 0",Al,"padding:value.top"),0>t.bottom&&x(t.bottom,">= 0",Al,"padding:value.bottom"));var e=this.bb;e.A(t)||(this.bb=t=t.G(),this.o(),this.g("padding",e,t))}},defaultAlignment:{get:function(){return this.pn},set:function(t){var e=this.pn;e.A(t)||(this.pn=t=t.G(),this.o(),this.g("defaultAlignment",e,t))}},defaultStretch:{get:function(){return this.Mf},set:function(t){var e=this.Mf;e!==t&&(this.Mf=t,this.o(),this.g("defaultStretch",e,t))}},defaultSeparatorPadding:{get:function(){return void 0===this.hj?De:this.hj},set:function(t){if(void 0!==this.hj){"number"==typeof t&&(t=new qt(t));var e=this.hj;e.A(t)||(this.hj=t=t.G(),this.o(),this.g("defaultSeparatorPadding",e,t))}}},defaultRowSeparatorStroke:{get:function(){return void 0===this.ci?null:this.ci},set:function(t){var e=this.ci;e!==t&&(null===t||"string"==typeof t||t instanceof Ma)&&(t instanceof Ma&&t.freeze(),this.ci=t,this.N(),this.g("defaultRowSeparatorStroke",e,t))}},defaultRowSeparatorStrokeWidth:{get:function(){return void 0===this.Pg?1:this.Pg},set:function(t){if(void 0!==this.Pg){var e=this.Pg;e!==t&&isFinite(t)&&0<=t&&(this.Pg=t,this.o(),this.g("defaultRowSeparatorStrokeWidth",e,t))}}},defaultRowSeparatorDashArray:{get:function(){return void 0===this.bi?null:this.bi},set:function(t){if(void 0!==this.bi){var e=this.bi;if(e!==t){if(null!==t){for(var i=t.length,n=0,r=0;r<i;r++){var o=t[r];"number"==typeof o&&0<=o&&isFinite(o)||A("defaultRowSeparatorDashArray value "+o+" at index "+r+" must be a positive number or zero."),n+=o}if(0===n){if(null===e)return;t=null}}this.bi=t,this.N(),this.g("defaultRowSeparatorDashArray",e,t)}}}},defaultColumnSeparatorStroke:{get:function(){return void 0===this.Ng?null:this.Ng},set:function(t){if(void 0!==this.Ng){var e=this.Ng;e!==t&&(null===t||"string"==typeof t||t instanceof Ma)&&(t instanceof Ma&&t.freeze(),this.Ng=t,this.N(),this.g("defaultColumnSeparatorStroke",e,t))}}},defaultColumnSeparatorStrokeWidth:{get:function(){return void 0===this.Og?1:this.Og},set:function(t){if(void 0!==this.Og){var e=this.Og;e!==t&&isFinite(t)&&0<=t&&(this.Og=t,this.o(),this.g("defaultColumnSeparatorStrokeWidth",e,t))}}},defaultColumnSeparatorDashArray:{get:function(){return void 0===this.ai?null:this.ai},set:function(t){if(void 0!==this.ai){var e=this.ai;if(e!==t){if(null!==t){for(var i=t.length,n=0,r=0;r<i;r++){var o=t[r];"number"==typeof o&&0<=o&&isFinite(o)||A("defaultColumnSeparatorDashArray value "+o+" at index "+r+" must be a positive number or zero."),n+=o}if(0===n){if(null===e)return;t=null}}this.ai=t,this.N(),this.g("defaultColumnSeparatorDashArray",e,t)}}}},viewboxStretch:{get:function(){return this.Op},set:function(t){var e=this.Op;e!==t&&(this.Op=t,this.o(),this.g("viewboxStretch",e,t))}},gridCellSize:{get:function(){return this.Ln},set:function(t){var e=this.Ln;if(!e.A(t)){t.v()&&0!==t.width&&0!==t.height||A("Invalid Panel.gridCellSize: "+t),this.Ln=t.G();var i=this.diagram;null!==i&&this===i.grid&&wo(i),this.N(),this.g("gridCellSize",e,t)}}},gridOrigin:{get:function(){return this.Mn},set:function(t){var e=this.Mn;if(!e.A(t)){t.v()||A("Invalid Panel.gridOrigin: "+t),this.Mn=t.G();var i=this.diagram;null!==i&&this===i.grid&&wo(i),this.N(),this.g("gridOrigin",e,t)}}},graduatedMin:{get:function(){return this.In},set:function(t){var e=this.In;e!==t&&(this.In=t,this.o(),this.g("graduatedMin",e,t),Js(this)&&(null!==(t=this.part)&&Hs(this,t,"graduatedRange")))}},graduatedMax:{get:function(){return this.Hn},set:function(t){var e=this.Hn;e!==t&&(this.Hn=t,this.o(),this.g("graduatedMax",e,t),Js(this)&&(null!==(t=this.part)&&Hs(this,t,"graduatedRange")))}},graduatedRange:{get:function(){return this.graduatedMax-this.graduatedMin}},graduatedTickUnit:{get:function(){return this.Kn},set:function(t){var e=this.Kn;e!==t&&0<t&&(this.Kn=t,this.o(),this.g("graduatedTickUnit",e,t))}},graduatedTickBase:{get:function(){return this.Jn},set:function(t){var e=this.Jn;e!==t&&(this.Jn=t,this.o(),this.g("graduatedTickBase",e,t))}},Dh:{get:function(){return 0!=(8388608&this.F)},set:function(t){0!=(8388608&this.F)!==t&&(this.F^=8388608)}},rowCount:{get:function(){return void 0===this.pb?0:this.pb.length}},columnCount:{get:function(){return void 0===this.kb?0:this.kb.length}},rowSizing:{get:function(){return void 0===this.Hj?zl:this.Hj},set:function(t){if(void 0!==this.Hj){var e=this.Hj;e!==t&&(this.Hj=t,this.o(),this.g("rowSizing",e,t))}}},columnSizing:{get:function(){return void 0===this.fj?zl:this.fj},set:function(t){if(void 0!==this.fj){var e=this.fj;e!==t&&(this.fj=t,this.o(),this.g("columnSizing",e,t))}}},topIndex:{get:function(){return void 0===this.Ei?0:this.Ei},set:function(t){if(void 0!==this.Ei){var e=this.Ei;e!==t&&((!isFinite(t)||0>t)&&A("Panel.topIndex must be greater than zero and a real number, not: "+t),this.Ei=t,this.o(),this.g("topIndex",e,t))}}},leftIndex:{get:function(){return void 0===this.oi?0:this.oi},set:function(t){if(void 0!==this.oi){var e=this.oi;e!==t&&((!isFinite(t)||0>t)&&A("Panel.leftIndex must be greater than zero and a real number, not: "+t),this.oi=t,this.o(),this.g("leftIndex",e,t))}}},data:{get:function(){return this.hb},set:function(t){var e=this.hb;if(e!==t){var i=this instanceof Xh&&!(this instanceof fu);Ol(this),this.hb=t;var n=this.diagram;null!==n&&(i?(i=n.partManager,this instanceof Lu?(null!==e&&i.Ie.remove(e),null!==t&&i.Ie.add(t,this)):this instanceof Xh&&(null!==e&&i.Je.remove(e),null!==t&&i.Je.add(t,this))):null!==(i=this.panel)&&null!==i.Hd&&(null!==e&&i.Hd.remove(e),null!==t&&i.Hd.add(t,this))),this.g("data",e,t),null!==n&&n.undoManager.isUndoingRedoing||null!==t&&this.Aa()}}},itemIndex:{get:function(){return this.Zn},set:function(t){var e=this.Zn;e!==t&&(this.Zn=t,this.g("itemIndex",e,t))}},itemArray:{get:function(){return this.li},set:function(t){var e=this.li;if(e!==t||null!==t&&function(t,e){for(var i=(t=t.W.j).length,n=e.length,r=0,o=null;r<i&&!((o=t[r])instanceof Al&&null!==o.data);)o=t[++r];if(i-r!==n)return!0;if(null===o)return 0<n;for(var s=0;r<i&&s<n;){if(!((o=t[r])instanceof Al)||o.data!==e[s])return!0;r++,s++}return!1}(this,t)){var i=this.diagram;e!==t&&(null!==i&&null!==e&&hd(i.partManager,this,i),this.li=t,null!==i&&null!==t&&ld(i.partManager,this)),this.g("itemArray",e,t),null!==i&&i.undoManager.isUndoingRedoing||this.st()}}},itemTemplate:{get:function(){return null===this.he?null:this.he.H("")},set:function(t){if(null===this.he){if(null===t)return;this.he=new ct}var e=this.he.H("");e!==t&&((t instanceof Xh||t.isPanelMain)&&A("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+t),this.he.add("",t),this.g("itemTemplate",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.st())}},itemTemplateMap:{get:function(){return this.he},set:function(t){var e=this.he;if(e!==t){for(var i=t.iterator;i.next(););this.he=t,this.g("itemTemplateMap",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.st()}}},itemCategoryProperty:{get:function(){return this.ml},set:function(t){var e=this.ml;e!==t&&(this.ml=t,this.g("itemCategoryProperty",e,t))}},isAtomic:{get:function(){return 0!=(1048576&this.F)},set:function(t){var e=0!=(1048576&this.F);e!==t&&(this.F^=1048576,this.g("isAtomic",e,t))}},isClipping:{get:function(){return 0!=(2097152&this.F)},set:function(t){var e=0!=(2097152&this.F);e!==t&&(this.F^=2097152,this.o(),this.g("isClipping",e,t))}},isOpposite:{get:function(){return 0!=(33554432&this.F)},set:function(t){var e=0!=(33554432&this.F);e!==t&&(this.F^=33554432,this.o(),this.g("isOpposite",e,t))}},isEnabled:{get:function(){return 0!=(4194304&this.F)},set:function(t){var e=0!=(4194304&this.F);if(e!==t){var i=null===this.panel||this.panel.Bg();this.F^=4194304,this.g("isEnabled",e,t),null!==(e=this.diagram)&&e.undoManager.isUndoingRedoing||i&&Il(this,this,t)}}},alignmentFocusName:{get:function(){return this.Gg},set:function(t){var e=this.Gg;e!==t&&(this.Gg=t,this.o(),this.g("alignmentFocusName",e,t))}}}),c.Object.defineProperties(Al,{Position:{get:function(){return Hl.H("Position")}},Horizontal:{get:function(){return Hl.H("Horizontal")}},Vertical:{get:function(){return Hl.H("Vertical")}},Spot:{get:function(){return Hl.H("Spot")}},Auto:{get:function(){return Hl.H("Auto")}},Table:{get:function(){return Hl.H("Table")}},Viewbox:{get:function(){return Hl.H("Viewbox")}},TableRow:{get:function(){return Hl.H("TableRow")}},TableColumn:{get:function(){return Hl.H("TableColumn")}},Link:{get:function(){return Hl.H("Link")}},Grid:{get:function(){return Hl.H("Grid")}},Graduated:{get:function(){return Hl.H("Graduated")}}}),Al.prototype.findItemPanelForData=Al.prototype.yx,Al.prototype.rebuildItemElements=Al.prototype.st,Al.prototype.updateTargetBindings=Al.prototype.Aa,Al.prototype.copyTemplate=Al.prototype.Ly,Al.prototype.graduatedValueForPoint=Al.prototype.Az,Al.prototype.graduatedPointForValue=Al.prototype.zz,Al.prototype.findColumnForLocalX=Al.prototype.Xy,Al.prototype.findRowForLocalY=Al.prototype.ez,Al.prototype.removeColumnDefinition=Al.prototype.Hv,Al.prototype.removeRowDefinition=Al.prototype.Jv,Al.prototype.removeAt=Al.prototype.jb,Al.prototype.remove=Al.prototype.remove,Al.prototype.insertAt=Al.prototype.Kb,Al.prototype.elt=Al.prototype.L,Al.prototype.add=Al.prototype.add,Al.prototype.findObject=Al.prototype.Xa,Al.prototype.findInVisualTree=Al.prototype.cm,Al.prototype.walkVisualTreeFrom=Al.prototype.Em,Al.prototype.findMainElement=Al.prototype.Ab;var Rl=!1,Fl=null,Hl=new ct;function Ul(){it(this),this.jg=null,this.Ir=!0,this.Oa=0,this.Oc=NaN,this.fh=0,this.eh=1/0,this.wb=Se,this.la=this.ha=0,this.$a=null,this.xp=jl,this.se=Xo,this.qp=this.ng=null,this.rp=NaN,this.gb=this.Ij=null,this.ln=!1}function Vl(t){if(t.sizing===jl){var e=t.jg;return t.isRow?e.rowSizing:e.columnSizing}return t.sizing}Al.className="Panel",Al.definePanelLayout=Dl,Dl("Position",new rl),Dl("Vertical",new sl),Dl("Auto",new ll),Dl("Link",new ml),Ul.prototype.copy=function(){var t=new Ul;return t.Ir=this.Ir,t.Oa=this.Oa,t.Oc=this.Oc,t.fh=this.fh,t.eh=this.eh,t.wb=this.wb,t.ha=this.ha,t.la=this.la,t.se=this.se,t.xp=this.xp,null===this.ng?t.ng=null:t.ng=this.ng.G(),t.qp=this.qp,t.rp=this.rp,t.Ij=null,null!==this.Ij&&(t.separatorDashArray=S(this.separatorDashArray)),t.gb=this.gb,t.ln=this.ln,t.$a=this.$a,t},(i=Ul.prototype).Qs=function(t){t.isRow?this.height=t.height:this.width=t.width,this.minimum=t.minimum,this.maximum=t.maximum,this.alignment=t.alignment,this.stretch=t.stretch,this.sizing=t.sizing,this.ng=null===t.separatorPadding?null:t.separatorPadding.G(),this.separatorStroke=t.separatorStroke,this.separatorStrokeWidth=t.separatorStrokeWidth,this.Ij=null,t.separatorDashArray&&(this.Ij=S(t.separatorDashArray)),this.background=t.background,this.coversSeparators=t.coversSeparators,this.$a=t.$a},i.cb=function(t){t.classType===Ul&&(this.sizing=t)},i.toString=function(){return"RowColumnDefinition "+(this.isRow?"(Row ":"(Column ")+this.index+") #"+rt(this)},i.Yi=function(t){this.jg=t},i.Wu=function(){var t=0,e=0,i=this.jg,n=this.isRow;if(null!==i&&i.type===Al.Table)for(var r=n?i.pb.length:i.kb.length,o=0;o<r;o++){var s=n?i.pb[o]:i.kb[o];if(void 0!==s){e=s.index;break}}if(this.index!==e&&(null===(e=this.separatorStroke)&&null!==i&&(e=this.isRow?i.defaultRowSeparatorStroke:i.defaultColumnSeparatorStroke),null!==e&&(t=this.separatorStrokeWidth,isNaN(t)&&(t=null!==i?this.isRow?i.defaultRowSeparatorStrokeWidth:i.defaultColumnSeparatorStrokeWidth:0))),null===(e=this.ng)){if(null===i)return t;e=i.defaultSeparatorPadding}return t+(this.isRow?e.top:e.left)},i.tc=function(){var t=0,e=this.jg,i=0,n=this.isRow;if(null!==e&&e.type===Al.Table)for(var r=n?e.pb.length:e.kb.length,o=0;o<r;o++){var s=n?e.pb[o]:e.kb[o];if(void 0!==s){i=s.index;break}}if(this.index!==i&&(null===(i=this.separatorStroke)&&null!==e&&(i=n?e.defaultRowSeparatorStroke:e.defaultColumnSeparatorStroke),null!==i&&(t=this.separatorStrokeWidth,isNaN(t)&&(t=null!==e?n?e.defaultRowSeparatorStrokeWidth:e.defaultColumnSeparatorStrokeWidth:0))),null===(n=this.ng)){if(null===e)return t;n=e.defaultSeparatorPadding}return t+(this.isRow?n.top+n.bottom:n.left+n.right)},i.yb=function(t,e,i){var n=this.jg;if(null!==n&&(n.Ya(bi,t,this,e,i,void 0,void 0),null!==this.$a&&(null!==(e=n.diagram)&&!e.skipsModelSourceBindings&&(null!==(n=n.Oi())&&null!==(e=n.data)))))for(i=this.$a.iterator;i.next();)i.value.Fq(this,e,t,n)},i.bind=function(t){t.bd=this;var e=this.panel;if(null!==e){var i=e.Oi();null!==i&&Bl(i)&&A("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+t+" on "+e)}null===this.$a&&(this.$a=new Z),this.$a.add(t)},c.Object.defineProperties(Ul.prototype,{panel:{get:function(){return this.jg}},isRow:{get:function(){return this.Ir},set:function(t){this.Ir=t}},index:{get:function(){return this.Oa},set:function(t){this.Oa=t}},height:{get:function(){return this.Oc},set:function(t){var e=this.Oc;e!==t&&(0>t&&x(t,">= 0",Ul,"height"),this.Oc=t,this.actual=this.ha,null!==this.panel&&this.panel.o(),this.yb("height",e,t))}},width:{get:function(){return this.Oc},set:function(t){var e=this.Oc;e!==t&&(0>t&&x(t,">= 0",Ul,"width"),this.Oc=t,this.actual=this.ha,null!==this.panel&&this.panel.o(),this.yb("width",e,t))}},minimum:{get:function(){return this.fh},set:function(t){var e=this.fh;e!==t&&((0>t||!isFinite(t))&&x(t,">= 0",Ul,"minimum"),this.fh=t,this.actual=this.ha,null!==this.panel&&this.panel.o(),this.yb("minimum",e,t))}},maximum:{get:function(){return this.eh},set:function(t){var e=this.eh;e!==t&&(0>t&&x(t,">= 0",Ul,"maximum"),this.eh=t,this.actual=this.ha,null!==this.panel&&this.panel.o(),this.yb("maximum",e,t))}},alignment:{get:function(){return this.wb},set:function(t){var e=this.wb;e.A(t)||(this.wb=t.G(),null!==this.panel&&this.panel.o(),this.yb("alignment",e,t))}},stretch:{get:function(){return this.se},set:function(t){var e=this.se;e!==t&&(this.se=t,null!==this.panel&&this.panel.o(),this.yb("stretch",e,t))}},separatorPadding:{get:function(){return this.ng},set:function(t){"number"==typeof t&&(t=new qt(t));var e=this.ng;null!==t&&null!==e&&e.A(t)||(null!==t&&(t=t.G()),this.ng=t,null!==this.panel&&this.panel.o(),this.yb("separatorPadding",e,t))}},separatorStroke:{get:function(){return this.qp},set:function(t){var e=this.qp;e!==t&&(null!==t&&Ua(t,"RowColumnDefinition.separatorStroke"),t instanceof Ma&&t.freeze(),this.qp=t,null!==this.panel&&this.panel.o(),this.yb("separatorStroke",e,t))}},separatorStrokeWidth:{get:function(){return this.rp},set:function(t){var e=this.rp;e!==t&&(this.rp=t,null!==this.panel&&this.panel.o(),this.yb("separatorStrokeWidth",e,t))}},separatorDashArray:{get:function(){return this.Ij},set:function(t){var e=this.Ij;if(e!==t){if(null!==t){for(var i=t.length,n=0,r=0;r<i;r++){var o=t[r];"number"==typeof o&&0<=o&&isFinite(o)||A("separatorDashArray value "+o+" at index "+r+" must be a positive number or zero."),n+=o}if(0===n){if(null===e)return;t=null}}this.Ij=t,null!==this.panel&&this.panel.N(),this.yb("separatorDashArray",e,t)}}},background:{get:function(){return this.gb},set:function(t){var e=this.gb;e!==t&&(null!==t&&Ua(t,"RowColumnDefinition.background"),t instanceof Ma&&t.freeze(),this.gb=t,null!==this.panel&&this.panel.N(),this.yb("background",e,t))}},coversSeparators:{get:function(){return this.ln},set:function(t){var e=this.ln;e!==t&&(this.ln=t,null!==this.panel&&this.panel.N(),this.yb("coversSeparators",e,t))}},sizing:{get:function(){return this.xp},set:function(t){var e=this.xp;e!==t&&(this.xp=t,null!==this.panel&&this.panel.o(),this.yb("sizing",e,t))}},actual:{get:function(){return this.ha},set:function(t){this.ha=isNaN(this.Oc)?Math.max(Math.min(this.eh,t),this.fh):Math.max(Math.min(this.eh,this.Oc),this.fh)}},total:{get:function(){return this.ha+this.tc()},set:function(t){this.ha=isNaN(this.Oc)?Math.max(Math.min(this.eh,t),this.fh):Math.max(Math.min(this.eh,this.Oc),this.fh),this.ha=Math.max(0,this.ha-this.tc())}},position:{get:function(){return this.la},set:function(t){this.la=t}}}),Ul.prototype.bind=Ul.prototype.bind,Ul.prototype.computeEffectiveSpacing=Ul.prototype.tc,Ul.prototype.computeEffectiveSpacingTop=Ul.prototype.Wu;var jl=new z(Ul,"Default",0),Gl=new z(Ul,"None",1),zl=new z(Ul,"ProportionalExtra",2);function Ql(){Rs.call(this),this.Pd=this.oa=null,this.Vk="None",this.Gn=Xo,this.Dc=this.Wk="black",this.ph=1,this.Ml="butt",this.Nl="miter",this.Jj=10,this.nh=null,this.oh=0,this.ef=this.df=Se,this.Po=this.Oo=NaN,this.Rn=!1,this.Ro=null,this.Yk=this.Ul="None",this.Fd=1,this.Ed=0,this.Cd=1,this.Dd=null}function Yl(t,e,i,n){var r=i.length;if(!(4>r)){var o=n.measuredBounds,s=Math.max(1,o.width);o=o.height;for(var a,l,h,u,c,d,p=i[0],f=i[1],m=0,g=M(),v=2;v<r;v+=2)h=(a=i[v])-p,p=(l=i[v+1])-f,0===h&&(h=.001),u=p/h,c=Math.atan2(p,h),d=Math.sqrt(h*h+p*p),g.push([h,c,u,d]),m+=d,p=a,f=l;p=i[0],f=i[1],h=n.measuredBounds.width,n instanceof Ql&&(h-=n.strokeWidth),1>h&&(h=1),r=i=h,l=0!==(a=s/2),h=(d=g[v=0])[0],c=d[1],u=d[2],d=d[3];for(var A=0;.1<=m;){if(0===A&&(l?(r=i,r-=a,m-=a,l=!1):r=i,0===r&&(r=1)),r>m)return void k(g);r>d?(A=r-d,r=d):A=0;var y=Math.sqrt(r*r/(1+u*u));if(0>h&&(y=-y),p+=y,f+=u*y,t.translate(p,f),t.rotate(c),t.translate(-s/2,-o/2),0===A&&n.Ki(t,e),t.translate(s/2,o/2),t.rotate(-c),t.translate(-p,-f),m-=r,d-=r,0!==A){if(++v===g.length)return void k(g);h=(d=g[v])[0],c=d[1],u=d[2],d=d[3],r=A}}k(g)}}function Kl(t){var e=t.geometryStretch;return null!==t.Pd?e===Xo?Qo:e:e===Xo?th[t.figure].defaultStretch:e}function Xl(t,e,i,n,r){return(e=(t=i.x-t)*t+(e=i.y-e)*e)<n?(r.x=i.x,r.y=i.y,e):n}function $l(t,e,i,n,r,o,s,a,l){var h=!1,u=(r-s)*(e-n)-(o-a)*(t-i);return 0!==u&&(l.x=((r*a-o*s)*(t-i)-(r-s)*(t*n-e*i))/u,l.y=((r*a-o*s)*(e-n)-(o-a)*(t*n-e*i))/u,(t>i?t-i:i-t)<(e>n?e-n:n-e)?(t=e<n?e:n,e=e<n?n:e,(l.y>t||Ye.Z(l.y,t))&&(l.y<e||Ye.Z(l.y,e))&&(h=!0)):(e=t<i?t:i,t=t<i?i:t,(l.x>e||Ye.Z(l.x,e))&&(l.x<t||Ye.Z(l.x,t))&&(h=!0)),h)}function Wl(t,e,i,n){if(!t.Sc(e,i,n))return!1;t=e.x,e=e.y;var r=i.x,o=i.y;return i=n.x,n=n.y,t===r?(e<o?(t=e,e=o):t=o,n>=t&&n<=e):(t<r?(n=t,t=r):n=r,i>=n&&i<=t)}function ql(t){var e=t.diagram;null!==e&&e.undoManager.isUndoingRedoing||(t.segmentOrientation=hc,"None"!==t.Ul?(t.segmentIndex=-1,t.alignmentFocus=Pe):"None"!==t.Yk&&(t.segmentIndex=0,t.alignmentFocus=new He(1-Pe.x,Pe.y)))}function Jl(t){var e=Zl[t];if(void 0===e){var i=t.toLowerCase();if("none"===i)return"None";if(void 0===(e=Zl[i])){var n,r=null;for(n in Ye.Hm)if(n.toLowerCase()===i){r=n;break}if(null!==r)return t=We(Ye.Hm[r],!1),Zl[r]=t,i!==r&&(Zl[i]=r),r}}return"string"==typeof e?e:e instanceof Ke?t:null}Ul.className="RowColumnDefinition",Ul.Default=jl,Ul.None=Gl,Ul.ProportionalExtra=zl,u(Ql,Rs),Ql.prototype.cloneProtected=function(t){Rs.prototype.cloneProtected.call(this,t),t.oa=this.oa,t.Vk=this.Vk,t.Gn=this.Gn,t.Pd=this.Pd,t.Wk=this.Wk,t.Dc=this.Dc,t.ph=this.ph,t.Ml=this.Ml,t.Nl=this.Nl,t.Jj=this.Jj,null!==this.nh&&(t.nh=S(this.nh)),t.oh=this.oh,t.df=this.df.G(),t.ef=this.ef.G(),t.Oo=this.Oo,t.Po=this.Po,t.Rn=this.Rn,t.Ro=this.Ro,t.Ul=this.Ul,t.Yk=this.Yk,t.Fd=this.Fd,t.Ed=this.Ed,t.Cd=this.Cd,t.Dd=this.Dd},(i=Ql.prototype).cb=function(t){t===Yo||t===Ko||t===qo||t===Xo?this.geometryStretch=t:Rs.prototype.cb.call(this,t)},i.toString=function(){return"Shape("+("None"!==this.figure?this.figure:"None"!==this.toArrow?this.toArrow:this.fromArrow)+")#"+rt(this)},i.Ki=function(t,e){var i=this.Dc,n=this.Wk;if(null!==i||null!==n){var r=this.actualBounds,o=this.naturalBounds;null!==n&&zs(this,t,n,!0,!1,o,r);var s=this.part,a=this.ph;null!==i&&0===a&&null!==s&&(a=s.type===Al.Link&&s instanceof fu&&"Selection"===s.category&&s.adornedObject instanceof Ql&&s.adornedPart.Ab()===s.adornedObject?s.adornedObject.strokeWidth:0),null!==i&&0!==a&&(zs(this,t,i,!1,!1,o,r),t.lineWidth=a,t.lineJoin=this.Nl,t.lineCap=this.Ml,t.miterLimit=this.Jj),r=!1,s&&e.xe("drawShadows")&&(r=s.isShadowed),s=!0,null===i||null!==n&&"transparent"!==n||(s=!1),o=!1;var l=this.strokeDashArray;null!==l&&(o=!0,t.Ts(l,this.oh));var h=this.oa;if(null!==h){if(h.type===ni)t.beginPath(),t.moveTo(h.startX,h.startY),t.lineTo(h.endX,h.endY),null!==n&&t.Sd(n),0!==a&&null!==i&&t.aj();else if(h.type===ri){var u=h.startX;l=h.startY;var c=h.endX,d=h.endY;h=Math.min(u,c);var p=Math.min(l,d);u=Math.abs(c-u),l=Math.abs(d-l),t.beginPath(),t.rect(h,p,u,l),null!==n&&t.Sd(n),null!==i&&(s&&r&&Ca(t),0!==a&&(0!==u&&0!==l||(t.beginPath(),t.rect(h,p,Math.max(u,.1),Math.max(l,.1))),t.aj()),s&&r&&wa(t))}else if(h.type===oi)u=h.startX,l=h.startY,c=h.endX,d=h.endY,h=Math.abs(c-u)/2,p=Math.abs(d-l)/2,u=Math.min(u,c)+h,l=Math.min(l,d)+p,t.beginPath(),t.moveTo(u,l-p),t.bezierCurveTo(u+Ye.Fg*h,l-p,u+h,l-Ye.Fg*p,u+h,l),t.bezierCurveTo(u+h,l+Ye.Fg*p,u+Ye.Fg*h,l+p,u,l+p),t.bezierCurveTo(u-Ye.Fg*h,l+p,u-h,l+Ye.Fg*p,u-h,l),t.bezierCurveTo(u-h,l-Ye.Fg*p,u-Ye.Fg*h,l-p,u,l-p),t.closePath(),null!==n&&t.Sd(n),0!==a&&null!==i&&(s&&r?(Ca(t),t.aj(),wa(t)):t.aj());else if(h.type===si)for(h=(l=h.figures).length,p=0;p<h;p++){u=l.j[p],t.beginPath(),t.moveTo(u.startX,u.startY),d=(c=u.segments.j).length;for(var f=null,m=0;m<d;m++){var g=c[m];switch(g.type){case ci:t.moveTo(g.endX,g.endY);break;case di:t.lineTo(g.endX,g.endY);break;case pi:t.bezierCurveTo(g.point1X,g.point1Y,g.point2X,g.point2Y,g.endX,g.endY);break;case fi:t.quadraticCurveTo(g.point1X,g.point1Y,g.endX,g.endY);break;case mi:if(g.radiusX===g.radiusY){var v=Math.PI/180;t.arc(g.point1X,g.point1Y,g.radiusX,g.startAngle*v,(g.startAngle+g.sweepAngle)*v,0>g.sweepAngle,null!==f?f.endX:u.startX,null!==f?f.endY:u.startY)}else if(0===(v=(f=hi(g,u)).length))t.lineTo(g.centerX,g.centerY);else for(var y=0;y<v;y++){var x=f[y];0===y&&t.lineTo(x[0],x[1]),t.bezierCurveTo(x[2],x[3],x[4],x[5],x[6],x[7])}break;case gi:if(y=v=0,null!==f&&f.type===mi){if(0===(x=(f=hi(f,u)).length)){t.lineTo(g.centerX,g.centerY);break}null!==(f=f[x-1]||null)&&(v=f[6],y=f[7])}else v=null!==f?f.endX:u.startX,y=null!==f?f.endY:u.startY;if(0===(v=(f=ui(g,u,v,y)).length)){t.lineTo(g.centerX,g.centerY);break}for(y=0;y<v;y++)x=f[y],t.bezierCurveTo(x[2],x[3],x[4],x[5],x[6],x[7]);break;default:A("Segment not of valid type: "+g.type)}g.isClosed&&t.closePath(),f=g}r?u.isShadowed?(!0===u.isFilled&&"transparent"!==n&&null!==n&&t.Sd(n),0!==a&&null!==i&&(s&&Ca(t),t.aj(),s&&wa(t))):(s&&Ca(t),!0===u.isFilled&&"transparent"!==n&&null!==n&&t.Sd(n),0!==a&&null!==i&&t.aj(),s&&wa(t)):(!0===u.isFilled&&null!==n&&t.Sd(n),0!==a&&null!==i&&t.aj())}if(o&&t.Rs(),null!==this.pathPattern){if((i=this.pathPattern).measure(1/0,1/0),n=i.measuredBounds,i.arrange(0,0,n.width,n.height),a=this.geometry,t.save(),t.beginPath(),n=M(),a.type===ni)n.push(a.startX),n.push(a.startY),n.push(a.endX),n.push(a.endY),Yl(t,e,n,i);else if(a.type===si)for(a=a.figures.iterator;a.next();){for(r=a.value,n.length=0,n.push(r.startX),n.push(r.startY),l=s=r.startX,h=o=r.startY,u=(p=r.segments.j).length,c=0;c<u;c++){switch((d=p[c]).type){case ci:Yl(t,e,n,i),n.length=0,n.push(d.endX),n.push(d.endY),l=s=d.endX,h=o=d.endY;break;case di:n.push(d.endX),n.push(d.endY),s=d.endX,o=d.endY;break;case pi:Ye.ve(s,o,d.point1X,d.point1Y,d.point2X,d.point2Y,d.endX,d.endY,.5,n),s=d.endX,o=d.endY;break;case fi:Ye.rq(s,o,d.point1X,d.point1Y,d.endX,d.endY,.5,n),s=d.endX,o=d.endY;break;case mi:if(0===(g=(m=hi(d,r)).length)){n.push(d.centerX),n.push(d.centerY),s=d.centerX,o=d.centerY;break}for(f=0;f<g;f++)v=m[f],Ye.ve(s,o,v[2],v[3],v[4],v[5],v[6],v[7],.5,n),s=v[6],o=v[7];break;case gi:if(0===(g=(m=ui(d,r,s,o)).length)){n.push(d.centerX),n.push(d.centerY),s=d.centerX,o=d.centerY;break}for(f=0;f<g;f++)v=m[f],Ye.ve(s,o,v[2],v[3],v[4],v[5],v[6],v[7],.5,n),s=v[6],o=v[7];break;default:A("Segment not of valid type: "+d.type)}d.isClosed&&(n.push(l),n.push(h),Yl(t,e,n,i))}Yl(t,e,n,i)}else if(a.type===ri)n.push(a.startX),n.push(a.startY),n.push(a.endX),n.push(a.startY),n.push(a.endX),n.push(a.endY),n.push(a.startX),n.push(a.endY),n.push(a.startX),n.push(a.startY),Yl(t,e,n,i);else if(a.type===oi){if((o=new ai).startX=a.endX,o.startY=(a.startY+a.endY)/2,(s=new li(mi)).startAngle=0,s.sweepAngle=360,s.centerX=(a.startX+a.endX)/2,s.centerY=(a.startY+a.endY)/2,s.radiusX=Math.abs(a.startX-a.endX)/2,s.radiusY=Math.abs(a.startY-a.endY)/2,o.add(s),0===(r=(a=hi(s,o)).length))n.push(s.centerX),n.push(s.centerY);else for(s=o.startX,o=o.startY,l=0;l<r;l++)h=a[l],Ye.ve(s,o,h[2],h[3],h[4],h[5],h[6],h[7],.5,n),s=h[6],o=h[7];Yl(t,e,n,i)}k(n),t.restore(),t.Qc(!1)}}}},i.ga=function(t,e){if(void 0===e&&(e=new dt),t instanceof He){t.jc()&&A("getDocumentPoint Spot must be a real, specific Spot, not: "+t.toString());var i=this.naturalBounds,n=this.strokeWidth;e.h(t.x*(i.width+n)-n/2+i.x+t.offsetX,t.y*(i.height+n)-n/2+i.y+t.offsetY)}else e.set(t);return this.sd.ra(e),e},i.cq=function(t){void 0===t&&(t=new Rt);var e=this.naturalBounds,i=this.sd;e=Rt.allocAt(e.x,e.y,e.width,e.height);var n=this.strokeWidth;return e.Tc(n/2,n/2),n=dt.allocAt(e.x,e.y).transform(i),t.h(n.x,n.y,0,0),n.h(e.right,e.y).transform(i),Qt(t,n.x,n.y,0,0),n.h(e.right,e.bottom).transform(i),Qt(t,n.x,n.y,0,0),n.h(e.x,e.bottom).transform(i),Qt(t,n.x,n.y,0,0),Rt.free(e),dt.free(n),t},i.Ch=function(t,e){var i=this.geometry;if(null===i||null===this.fill&&null===this.stroke)return!1;var n=i.bounds,r=this.strokeWidth/2;i.type!==ni||e||(r+=2);var o=Rt.alloc();if(o.assign(n),o.Tc(r+2,r+2),!o.$(t))return Rt.free(o),!1;if(n=r+1e-4,i.type===ni)return null!==this.stroke&&(n=(i.endX-i.startX)*(t.x-i.startX)+(i.endY-i.startY)*(t.y-i.startY),!(0>(i.startX-i.endX)*(t.x-i.endX)+(i.startY-i.endY)*(t.y-i.endY)||0>n)&&(Rt.free(o),Ye.Wb(i.startX,i.startY,i.endX,i.endY,r,t.x,t.y)));if(i.type===ri){e=i.startX;var s=i.startY,a=i.endX;if(i=i.endY,o.x=Math.min(e,a),o.y=Math.min(s,i),o.width=Math.abs(a-e),o.height=Math.abs(i-s),null===this.fill){if(o.Tc(-n,-n),o.$(t))return Rt.free(o),!1;o.Tc(n,n)}return null!==this.stroke&&o.Tc(r,r),t=o.$(t),Rt.free(o),t}if(i.type===oi){s=i.startX,r=i.startY,a=i.endX;var l=i.endY;if(i=Math.min(s,a),e=Math.min(r,l),s=Math.abs(a-s)/2,r=Math.abs(l-r)/2,i=t.x-(i+s),e=t.y-(e+r),null===this.fill){if(r-=n,0>=(s-=n)||0>=r||1>=i*i/(s*s)+e*e/(r*r))return Rt.free(o),!1;s+=n,r+=n}return null!==this.stroke&&(s+=n,r+=n),Rt.free(o),!(0>=s||0>=r)&&1>=i*i/(s*s)+e*e/(r*r)}return i.type===si?(Rt.free(o),null===this.fill?ti(i,t.x,t.y,r):i.$(t,r,1<this.strokeWidth,e)):(A("Unknown Geometry type: "+i.type),!1)},i.mm=function(t,e,i,n){var r=this.desiredSize,o=this.ph;if(t=Math.max(t,0),e=Math.max(e,0),null!==this.Pd)var s=this.geometry.bounds;else{var a=this.figure,l=th[a];if(void 0===l){var h=Ye.Ee[a];"string"==typeof h&&(h=Ye.Ee[h]),"function"==typeof h?(l=h(null,100,100),th[a]=l):A("Unsupported Figure: "+a)}s=l.bounds}a=s.width,l=s.height,h=s.width;var u=s.height;switch(Xs(this,!0)){case Yo:n=i=0;break;case Qo:h=Math.max(t-o,0),u=Math.max(e-o,0);break;case $o:h=Math.max(t-o,0),n=0;break;case Wo:i=0,u=Math.max(e-o,0)}switch(isFinite(r.width)&&(h=r.width),isFinite(r.height)&&(u=r.height),r=this.maxSize,s=this.minSize,i=Math.max(i-o,s.width),n=Math.max(n-o,s.height),h=Math.min(r.width,h),u=Math.min(r.height,u),h=isFinite(h)?Math.max(i,h):Math.max(a,i),u=isFinite(u)?Math.max(n,u):Math.max(l,n),i=Kl(this)){case Yo:break;case Qo:a=h,l=u;break;case Ko:i=Math.min(h/a,u/l),isFinite(i)||(i=1),a*=i,l*=i;break;default:A(i+" is not a valid geometryStretch.")}null!==this.Pd?(r=a=Math.max(a,.01),n=l=Math.max(l,.01),i=(s=null!==this.Pd?this.Pd:this.oa).copy(),r/=(s=s.bounds).width,n/=s.height,isFinite(r)||(r=1),isFinite(n)||(n=1),1===r&&1===n||i.scale(r,n),this.oa=i):null!==this.oa&&Ye.Z(this.oa.il,t-o)&&Ye.Z(this.oa.gl,e-o)||(this.oa=Ql.makeGeometry(this,a,l)),s=this.oa.bounds,1/0===t||1/0===e?Us(this,s.x-o/2,s.y-o/2,0===t&&0===a?0:s.width+o,0===e&&0===l?0:s.height+o):Us(this,-o/2,-o/2,h+o,u+o)},i.Ah=function(t,e,i,n){js(this,t,e,i,n)},i.Sc=function(t,e,i){return this.ck(t.x,t.y,e.x,e.y,i)},i.ck=function(t,e,i,n,r){var o=this.transform,s=1/(o.m11*o.m22-o.m12*o.m21),a=o.m22*s,l=-o.m12*s,h=-o.m21*s,u=o.m11*s,c=s*(o.m21*o.dy-o.m22*o.dx),d=s*(o.m12*o.dx-o.m11*o.dy);if(o=t*a+e*h+c,s=t*l+e*u+d,a=i*a+n*h+c,l=i*l+n*u+d,c=this.ph/2,null===(h=this.oa)&&(this.measure(1/0,1/0),h=this.oa),d=h.bounds,u=!1,h.type===ni)if(1.5>=this.strokeWidth)u=Ye.ze(h.startX,h.startY,h.endX,h.endY,o,s,a,l,r);else{if(h.startX===h.endX?(n=c,u=0):(e=(h.endY-h.startY)/(h.endX-h.startX),n=(u=c/Math.sqrt(1+e*e))*e),e=M(),t=new dt,Ye.ze(h.startX+n,h.startY+u,h.endX+n,h.endY+u,o,s,a,l,t)&&e.push(t),t=new dt,Ye.ze(h.startX-n,h.startY-u,h.endX-n,h.endY-u,o,s,a,l,t)&&e.push(t),t=new dt,Ye.ze(h.startX+n,h.startY+u,h.startX-n,h.startY-u,o,s,a,l,t)&&e.push(t),t=new dt,Ye.ze(h.endX+n,h.endY+u,h.endX-n,h.endY-u,o,s,a,l,t)&&e.push(t),0===(a=e.length))return k(e),!1;for(u=!0,l=1/0,n=0;n<a;n++)(i=((t=e[n]).x-o)*(t.x-o)+(t.y-s)*(t.y-s))<l&&(l=i,r.x=t.x,r.y=t.y);k(e)}else if(h.type===ri)u=Ye.Sc(d.x-c,d.y-c,d.x+d.width+c,d.y+d.height+c,o,s,a,l,r);else if(h.type===oi){e=Rt.allocAt(d.x,d.y,d.width,d.height).Tc(c,c);t:if(0===e.width)u=Ye.ze(e.x,e.y,e.x,e.y+e.height,o,s,a,l,r);else if(0===e.height)u=Ye.ze(e.x,e.y,e.x+e.width,e.y,o,s,a,l,r);else{if(t=e.width/2,h=e.height/2,n=e.x+t,u=e.y+h,i=9999,o!==a&&(i=(s-l)/(o-a)),9999>Math.abs(i)){if(0>t*t*i*i+h*h-(l=s-u-i*(o-n))*l){r.x=NaN,r.y=NaN,u=!1;break t}a=(-t*t*i*l+t*h*(c=Math.sqrt(t*t*i*i+h*h-l*l)))/(h*h+t*t*i*i)+n,t=(-t*t*i*l-t*h*c)/(h*h+t*t*i*i)+n,h=i*(a-n)+l+u,l=i*(t-n)+l+u,Math.abs((o-a)*(o-a))+Math.abs((s-h)*(s-h))<Math.abs((o-t)*(o-t))+Math.abs((s-l)*(s-l))?(r.x=a,r.y=h):(r.x=t,r.y=l)}else{if(a=h*h,0>(a-=a/(t*t)*(l=o-n)*l)){r.x=NaN,r.y=NaN,u=!1;break t}a=u+(l=Math.sqrt(a)),l=u-l,Math.abs(a-s)<Math.abs(l-s)?(r.x=o,r.y=a):(r.x=o,r.y=l)}u=!0}Rt.free(e)}else if(h.type===si){d=dt.alloc();var p=a-o,f=l-s,m=p*p+f*f;r.x=a,r.y=l;for(var g=0;g<h.figures.count;g++)for(var v=h.figures.j[g],y=v.segments,x=p=v.startX,b=f=v.startY,C=0;C<y.count;C++){var w=y.j[C],E=w.type,S=w.endX,T=w.endY,_=!1;switch(E){case ci:x=S,b=T;break;case di:_=$l(p,f,S,T,o,s,a,l,d);break;case pi:_=Ye.Up(p,f,w.point1X,w.point1Y,w.point2X,w.point2Y,S,T,o,s,a,l,.6,d);break;case fi:_=Ye.Up(p,f,(p+2*w.point1X)/3,(f+2*w.point1Y)/3,(2*w.point1X+S)/3,(2*w.point1X+S)/3,S,T,o,s,a,l,.6,d);break;case mi:case gi:var B=(E=w.type===mi?hi(w,v):ui(w,v,p,f)).length;if(0===B){_=$l(p,f,w.centerX,w.centerY,o,s,a,l,d);break}for(T=null,S=0;S<B;S++){if(T=E[S],0===S&&$l(p,f,T[0],T[1],o,s,a,l,d)){var O=Xl(o,s,d,m,r);O<m&&(m=O,u=!0)}Ye.Up(T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],o,s,a,l,.6,d)&&((O=Xl(o,s,d,m,r))<m&&(m=O,u=!0))}S=T[6],T=T[7];break;default:A("Unknown Segment type: "+E)}p=S,f=T,_&&((_=Xl(o,s,d,m,r))<m&&(m=_,u=!0)),w.isClosed&&($l(p,f,S=x,T=b,o,s,a,l,d)&&((w=Xl(o,s,d,m,r))<m&&(m=w,u=!0)))}o=i-t,s=n-e,0!==(a=Math.sqrt(o*o+s*s))&&(o/=a,s/=a),r.x-=o*c,r.y-=s*c,dt.free(d)}else A("Unknown Geometry type: "+h.type);return!!u&&(this.transform.ra(r),!0)},i.Bh=function(t,e){if(void 0===e)return t.nf(this.actualBounds);var i=this.oa;null===i&&(this.measure(1/0,1/0),i=this.oa),i=i.bounds;var n=this.strokeWidth/2,r=!1,o=dt.alloc();return o.h(i.x-n,i.y-n),t.$(e.ra(o))&&(o.h(i.x-n,i.bottom+n),t.$(e.ra(o))&&(o.h(i.right+n,i.bottom+n),t.$(e.ra(o))&&(o.h(i.right+n,i.y-n),t.$(e.ra(o))&&(r=!0)))),dt.free(o),r},i.Gc=function(t,e){if(this.Bh(t,e)||void 0===e&&(e=this.transform,t.nf(this.actualBounds)))return!0;var i=ze.alloc();i.set(e),i.ft();var n=t.left,r=t.right,o=t.top;t=t.bottom;var s=dt.alloc();if(s.h(n,o),i.ra(s),this.Ch(s,!0))return dt.free(s),!0;if(s.h(r,o),i.ra(s),this.Ch(s,!0))return dt.free(s),!0;if(s.h(n,t),i.ra(s),this.Ch(s,!0))return dt.free(s),!0;if(s.h(r,t),i.ra(s),this.Ch(s,!0))return dt.free(s),!0;var a=dt.alloc(),l=dt.alloc();return i.set(e),i.wv(this.transform),i.ft(),a.x=r,a.y=o,a.transform(i),s.x=n,s.y=o,s.transform(i),e=!1,Wl(this,s,a,l)?e=!0:(s.x=r,s.y=t,s.transform(i),Wl(this,s,a,l)?e=!0:(a.x=n,a.y=t,a.transform(i),Wl(this,s,a,l)?e=!0:(s.x=n,s.y=o,s.transform(i),Wl(this,s,a,l)&&(e=!0)))),dt.free(s),ze.free(i),dt.free(a),dt.free(l),e},i.zx=function(t,e,i){function n(t,e){for(var i=t.length,n=0;n<i;n+=2)if(e.ed(t[n],t[n+1])>r)return!0;return!1}if(i&&null!==this.fill&&this.Ch(t,!0))return!0;var r=t.we(e),o=r;if(1.5<this.strokeWidth&&(r=this.strokeWidth/2+Math.sqrt(r),r*=r),null===(e=this.oa)&&(this.measure(1/0,1/0),null===(e=this.oa)))return!1;if(!i){var s=e.bounds,a=s.x,l=s.y,h=s.x+s.width;if(s=s.y+s.height,At(t.x,t.y,a,l)<=r&&At(t.x,t.y,h,l)<=r&&At(t.x,t.y,a,s)<=r&&At(t.x,t.y,h,s)<=r)return!0}if(a=e.startX,l=e.startY,h=e.endX,s=e.endY,e.type===ni){if(i=(a-h)*(t.x-h)+(l-s)*(t.y-s),vt(t.x,t.y,a,l,h,s)<=(0<=(h-a)*(t.x-a)+(s-l)*(t.y-l)&&0<=i?r:o))return!0}else{if(e.type===ri)return e=!1,i&&(e=vt(t.x,t.y,a,l,a,s)<=r||vt(t.x,t.y,a,l,h,l)<=r||vt(t.x,t.y,h,l,h,s)<=r||vt(t.x,t.y,a,s,h,s)<=r),e;if(e.type===oi){e=t.x-(a+h)/2,o=t.y-(l+s)/2;var u=Math.abs(h-a)/2,c=Math.abs(s-l)/2;if(0===u||0===c)return vt(t.x,t.y,a,l,h,s)<=r;if(!i)return!(At(e,o,-u,0)>=r||At(e,o,0,-c)>=r||At(e,o,0,c)>=r||At(e,o,u,0)>=r);if((t=Ye.Ry(u,c,e,o))*t<=r)return!0}else if(e.type===si){if(o=(h=e.bounds).x,a=h.y,l=h.x+h.width,h=h.y+h.height,t.x>l&&t.x<o&&t.y>h&&t.y<a&&vt(t.x,t.y,o,a,o,h)>r&&vt(t.x,t.y,o,a,l,a)>r&&vt(t.x,t.y,l,h,o,h)>r&&vt(t.x,t.y,l,h,l,a)>r)return!1;if(o=Math.sqrt(r),!i){for(i=e.figures,e=0;e<i.count;e++){if(s=(o=i.j[e]).startX,u=o.startY,t.ed(s,u)>r)return!1;for(l=(a=o.segments.j).length,h=0;h<l;h++)switch(c=a[h],c.type){case ci:case di:if(s=c.endX,u=c.endY,t.ed(s,u)>r)return!1;break;case pi:var d=M();if(Ye.ve(s,u,c.point1X,c.point1Y,c.point2X,c.point2Y,c.endX,c.endY,.8,d),s=n(d,t),k(d),s)return!1;if(s=c.endX,u=c.endY,t.ed(s,u)>r)return!1;break;case fi:if(d=M(),Ye.rq(s,u,c.point1X,c.point1Y,c.endX,c.endY,.8,d),s=n(d,t),k(d),s)return!1;if(s=c.endX,u=c.endY,t.ed(s,u)>r)return!1;break;case mi:case gi:var p=(d=c.type===mi?hi(c,o):ui(c,o,s,u)).length;if(0===p){if(s=c.centerX,u=c.centerY,t.ed(s,u)>r)return!1;break}c=null;for(var f=M(),m=0;m<p;m++)if(c=d[m],f.length=0,Ye.ve(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],.8,f),n(f,t))return k(f),!1;k(f),null!==c&&(s=c[6],u=c[7]);break;default:A("Unknown Segment type: "+c.type)}}return!0}if(null===this.fill?ti(e,t.x,t.y,o):e.$(t,o,!0))return!0}}return!1},i.bc=function(){this.oa=null},Ql.makeGeometry=function(t,e,i){if("None"!==t.toArrow)var n=Zl[t.toArrow];else"None"!==t.fromArrow?n=Zl[t.fromArrow]:("string"==typeof(n=Ye.Ee[t.figure])&&(n=Ye.Ee[n]),void 0===n&&A("Unknown Shape.figure: "+t.figure),(n=n(t,e,i)).il=e,n.gl=i);if(null===n){var r=Ye.Ee.Rectangle;"function"==typeof r&&(n=r(t,e,i))}return n},c.Object.defineProperties(Ql.prototype,{geometry:{get:function(){return null!==this.oa?this.oa:this.Pd},set:function(t){var e=this.oa;if(e!==t){this.Pd=this.oa=null!==t?t.freeze():null;var i=this.part;null!==i&&(i.dh=NaN),this.o(),this.g("geometry",e,t),Js(this)&&(null!==(t=this.part)&&Hs(this,t,"geometryString"))}}},geometryString:{get:function(){return null===this.geometry?"":this.geometry.toString()},set:function(t){var e=(t=We(t)).normalize();this.geometry=t,this.position=t=dt.allocAt(-e.x,-e.y),dt.free(t)}},isGeometryPositioned:{get:function(){return this.Rn},set:function(t){var e=this.Rn;e!==t&&(this.Rn=t,this.o(),this.g("isGeometryPositioned",e,t))}},fill:{get:function(){return this.Wk},set:function(t){var e=this.Wk;e!==t&&(null!==t&&Ua(t,"Shape.fill"),t instanceof Ma&&t.freeze(),this.Wk=t,this.N(),this.g("fill",e,t))}},stroke:{get:function(){return this.Dc},set:function(t){var e=this.Dc;e!==t&&(null!==t&&Ua(t,"Shape.stroke"),t instanceof Ma&&t.freeze(),this.Dc=t,this.N(),this.g("stroke",e,t))}},strokeWidth:{get:function(){return this.ph},set:function(t){var e=this.ph;if(e!==t)if(0<=t){this.ph=t,this.o();var i=this.part;null!==i&&(i.dh=NaN),this.g("strokeWidth",e,t)}else x(t,"value >= 0",Ql,"strokeWidth:value")}},strokeCap:{get:function(){return this.Ml},set:function(t){var e=this.Ml;e!==t&&("string"!=typeof t||"butt"!==t&&"round"!==t&&"square"!==t?x(t,'"butt", "round", or "square"',Ql,"strokeCap"):(this.Ml=t,this.N(),this.g("strokeCap",e,t)))}},strokeJoin:{get:function(){return this.Nl},set:function(t){var e=this.Nl;e!==t&&("string"!=typeof t||"miter"!==t&&"bevel"!==t&&"round"!==t?x(t,'"miter", "bevel", or "round"',Ql,"strokeJoin"):(this.Nl=t,this.N(),this.g("strokeJoin",e,t)))}},strokeMiterLimit:{get:function(){return this.Jj},set:function(t){var e=this.Jj;if(e!==t&&1<=t){this.Jj=t,this.N();var i=this.part;null!==i&&(i.dh=NaN),this.g("strokeMiterLimit",e,t)}}},strokeDashArray:{get:function(){return this.nh},set:function(t){var e=this.nh;if(e!==t){if(null!==t){for(var i=t.length,n=0,r=0;r<i;r++){var o=t[r];0<=o&&isFinite(o)||A("strokeDashArray:value "+o+" at index "+r+" must be a positive number or zero."),n+=o}if(0===n){if(null===e)return;t=null}}this.nh=t,this.N(),this.g("strokeDashArray",e,t)}}},strokeDashOffset:{get:function(){return this.oh},set:function(t){var e=this.oh;e!==t&&0<=t&&(this.oh=t,this.N(),this.g("strokeDashOffset",e,t))}},figure:{get:function(){return this.Vk},set:function(t){var e=this.Vk;if(e!==t){var i=Ye.Ee[t];"function"==typeof i?i=t:(i=Ye.Ee[t.toLowerCase()])||A("Unknown Shape.figure: "+t),e!==i&&(null!==(t=this.part)&&(t.dh=NaN),this.Vk=i,this.Pd=null,this.bc(),this.o(),this.g("figure",e,i))}}},toArrow:{get:function(){return this.Ul},set:function(t){var e=this.Ul;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var i=Jl(t);null===i?A("Unknown Shape.toArrow: "+t):e!==i&&(this.Ul=i,this.Pd=null,this.bc(),this.o(),ql(this),this.g("toArrow",e,i))}}},fromArrow:{get:function(){return this.Yk},set:function(t){var e=this.Yk;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var i=Jl(t);null===i?A("Unknown Shape.fromArrow: "+t):e!==i&&(this.Yk=i,this.Pd=null,this.bc(),this.o(),ql(this),this.g("fromArrow",e,i))}}},spot1:{get:function(){return this.df},set:function(t){var e=this.df;e.A(t)||(this.df=t=t.G(),this.o(),this.g("spot1",e,t))}},spot2:{get:function(){return this.ef},set:function(t){var e=this.ef;e.A(t)||(this.ef=t=t.G(),this.o(),this.g("spot2",e,t))}},parameter1:{get:function(){return this.Oo},set:function(t){var e=this.Oo;e!==t&&(this.Oo=t,this.bc(),this.o(),this.g("parameter1",e,t))}},parameter2:{get:function(){return this.Po},set:function(t){var e=this.Po;e!==t&&(this.Po=t,this.bc(),this.o(),this.g("parameter2",e,t))}},naturalBounds:{get:function(){if(null!==this.oa)return this.pc.assign(this.oa.bounds),this.pc;var t=this.desiredSize;return new Rt(0,0,t.width,t.height)}},pathPattern:{get:function(){return this.Ro},set:function(t){var e=this.Ro;e!==t&&(this.Ro=t,this.N(),this.g("pathPattern",e,t))}},geometryStretch:{get:function(){return this.Gn},set:function(t){var e=this.Gn;e!==t&&(this.Gn=t,this.g("geometryStretch",e,t))}},interval:{get:function(){return this.Fd},set:function(t){var e=this.Fd;if(e!==(t=Math.floor(t))&&0<=t){this.Fd=t;var i=this.diagram;null!==i&&this.panel===i.grid&&wo(i),this.o(),null!==(i=this.panel)&&(i.Xg=null),this.g("interval",e,t)}}},graduatedStart:{get:function(){return this.Ed},set:function(t){var e=this.Ed;e!==t&&(0>t?t=0:1<t&&(t=1),this.Ed=t,this.o(),this.g("graduatedStart",e,t))}},graduatedEnd:{get:function(){return this.Cd},set:function(t){var e=this.Cd;e!==t&&(0>t?t=0:1<t&&(t=1),this.Cd=t,this.o(),this.g("graduatedEnd",e,t))}},graduatedSkip:{get:function(){return this.Dd},set:function(t){var e=this.Dd;e!==t&&(this.Dd=t,this.o(),this.g("graduatedSkip",e,t))}}}),Ql.prototype.intersectsRect=Ql.prototype.Gc,Ql.prototype.containedInRect=Ql.prototype.Bh,Ql.prototype.getNearestIntersectionPoint=Ql.prototype.Sc,Ql.prototype.getDocumentBounds=Ql.prototype.cq,Ql.prototype.getDocumentPoint=Ql.prototype.ga;var Zl=new K,th=new K;function eh(){Rs.call(this),_h||(Th=os?new Ea(null).context:null,_h=!0),this.Qw=this.Rb="",this.Dc="black",this.de="13px sans-serif",this.Ci="start",this.Bd=Yo,this.Hi=Me,this.rj=!0,this.ji=this.ki=!1,this.hg=vh,this.sg=mh,this.Tr=this.nb=this.Mc=0,this.ku=this.lu=null,this.yn=!1,this.Bc=this.$m=this.Gp=this.Di=this.Hp=null,this.cf=this.bf=0,this.je=1/0,this.mi=0,this.ee=null,this.qe=0,this.ce=this.fb=this.Ob=null,this.Fd=1,this.Ed=0,this.Cd=1,this.Dd=this.lj=null}function ih(t,e){t.F=6144|e.F,t.ob=e.opacity,t.gb=e.background,t.dc=e.areaBackground,t.Kc=e.desiredSize.G(),t.Zf=e.minSize.G(),t.Yf=e.maxSize.G(),t.Wf=e.Wf.copy(),t.ya=e.scale,t.cc=e.angle,t.se=e.stretch,t.bh=e.margin.G(),t.wb=e.alignment.G(),t.zk=e.alignmentFocus.G(),t.Dl=e.segmentFraction,t.El=e.segmentOffset.G(),t.Fl=e.segmentOrientation,null!==e.ld&&(t.ld=e.ld.copy()),t.Hl=e.shadowVisible,e instanceof eh&&(t.Rb=e.Rb,t.Dc=e.Dc,t.de=e.de,t.Ci=e.Ci,t.Bd=e.Bd,t.Hi=e.Hi,t.rj=e.rj,t.ki=e.ki,t.ji=e.ji,t.hg=e.hg,t.sg=e.sg,t.ee=null,t.bf=e.bf,t.cf=e.cf,t.je=e.je,t.mi=e.mi,t.Fd=e.Fd,t.Ed=e.Ed,t.Cd=e.Cd,t.lj=e.lj,t.Dd=e.Dd)}function nh(t,e,i,n,r,o,s,a,l,h,u){var c=0;a?("left"===l?c=0:"right"===l?c=r-s:"center"===l&&(c=(r-s)/2),i.fillRect(0+c,n+.25*o,s,1)):("left"===l?c=0:"right"===l?c=r:"center"===l&&(c=r/2),r=null!==ch?ch(t,o):.75*o,i.fillText(e,0+c,n+r),0===(e=o/20|0)&&(e=1),"right"===l?c-=s:"center"===l&&(c-=s/2),h&&(t=null!==dh?dh(t,o):.8*o,i.beginPath(),i.lineWidth=e,i.moveTo(0+c,n+t),i.lineTo(0+c+s,n+t),i.stroke()),u&&(i.beginPath(),i.lineWidth=e,n=n+o-o/2.2|0,0!=e%2&&(n+=.5),i.moveTo(0+c,n),i.lineTo(0+c+s,n),i.stroke()))}function rh(t,e,i){null===t.ce?(t.ce=e,t.nb=i):(null!==t.fb&&null!==t.Ob||(t.fb=[],t.Ob=[],t.fb.push(t.ce),t.Ob.push(t.nb)),t.fb.push(e),t.Ob.push(i))}function oh(t,e,i,n){e=e.trim();var r=0,o=t.de,s=t.bf+t.cf;s=Math.max(0,lh(t)+s);var a=t.hg===Ah?hh(o):0;if(t.Mc>=t.je)null!==n&&n.h(0,s);else{var l=e;if(t.sg===ph)if(t.qe=1,o=ah(e),0===a||o<=i)t.nb=Math.max(t.nb,o),rh(t,e,t.nb),null!==n&&n.h(o,s);else{for(o=ah((r=sh(t,l))+(e=sh(t,l=l.substr(r.length))));0<e.length&&o<=i;)o=ah(((r+=e)+(e=sh(t,l=l.substr(e.length)))).trim());for(r+=e.trim(),i=Math.max(1,i-a);ah(r)>i&&1<r.length;)r=r.substr(0,r.length-1);e=ah(r+=Eh),t.nb=e,rh(t,r,e),null!==n&&n.h(e,s)}else{for(a=0,0===l.length&&(a=1,rh(t,l,0));0<l.length;){var h=sh(t,l);for(l=l.substr(h.length);ah(h)>i;){var u=1;for(o=ah(h.substr(0,u)),e=0;o<=i;)u++,e=o,o=ah(h.substr(0,u));if(1===u){var c=o;r=Math.max(r,o)}else c=e,r=Math.max(r,e);if(1>--u&&(u=1),rh(t,h.substr(0,u),c),a++,h=h.substr(u),t.Mc+a>t.je)break}for(o=ah(h+(e=sh(t,l)));0<e.length&&o<=i;)o=ah(((h+=e)+(e=sh(t,l=l.substr(e.length)))).trim());if(""!==(h=h.trim())&&(""===h[h.length-1]&&(h=h.substring(0,h.length-1)+""),0===e.length?(u=o,r=Math.max(r,o)):(u=e=ah(h),r=Math.max(r,e)),rh(t,h,u),a++,t.Mc+a>t.je))break}t.qe=Math.min(t.je,a),t.nb=Math.max(t.nb,r),null!==n&&n.h(t.nb,s*t.qe)}}}function sh(t,e){if(t.sg===gh)return e.substr(0,1);t=e.length;for(var i=0,n=yh;i<t&&!n.test(e.charAt(i));)i++;for(;i<t&&n.test(e.charAt(i));)i++;return i>=t?e:e.substr(0,i)}function ah(t){return null===Th?8*t.length:Th.measureText(t).width}function lh(t){if(null!==t.ee)return t.ee;var e=t.de;if(null===Th){var i=16;return t.ee=i}return void 0!==xh[e]&&5e3>bh?i=xh[e]:(i=1.3*Th.measureText("M").width,xh[e]=i,bh++),t.ee=i}function hh(t){if(null===Th)return 6;if(void 0!==Ch[t]&&5e3>wh)var e=Ch[t];else e=Th.measureText(Eh).width,Ch[t]=e,wh++;return e}function uh(t,e){var i=t.Rb.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),n=t.bf+t.cf;if(n=Math.max(0,lh(t)+n),0===i.length)return t.nb=0,t.Mc=1,n;if(!t.isMultiline){var r=i.indexOf("\n",0);0<=r&&(i=i.substr(0,r))}r=0;for(var o,s=t.Mc=0,a=!1;!a;){if(-1===(o=i.indexOf("\n",s))&&(o=i.length,a=!0),s<=o){if(s=i.substr(s,o-s),t.sg!==ph){t.qe=0;var l=Lt.alloc();oh(t,s,e,l),r+=l.height,Lt.free(l),t.Mc+=t.qe}else oh(t,s,e,null),r+=n,t.Mc++;t.Mc===t.je&&(a=!0)}s=o+1}return t.Tr=r}Ql.className="Shape",Ql.getFigureGenerators=function(){var t,e=new ct;for(t in Ye.Ee)t!==t.toLowerCase()&&e.add(t,Ye.Ee[t]);return e.freeze(),e},Ql.defineFigureGenerator=function(t,e){var i=t.toLowerCase(),n=Ye.Ee;n[t]=e,n[i]=t},Ql.getArrowheadGeometries=function(){var t=new ct;for(n in Ye.Hm)if(void 0===Zl[n]){var e=We(Ye.Hm[n],!1);Zl[n]=e,(e=n.toLowerCase())!==n&&(Zl[e]=n)}for(var i in Zl)if(i!==i.toLowerCase()){var n=Zl[i];n instanceof Ke&&t.add(i,n)}return t.freeze(),t},Ql.defineArrowheadGeometry=function(t,e){var i=null;i="string"==typeof e?We(e,!1):e,"none"!==(e=t.toLowerCase())&&t!==e||A("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+t);var n=Zl;n[t]=i,n[e]=t},u(eh,Rs),eh.prototype.cloneProtected=function(t){Rs.prototype.cloneProtected.call(this,t),t.Rb=this.Rb,t.Qw=this.Qw,t.Dc=this.Dc,t.de=this.de,t.Ci=this.Ci,t.Bd=this.Bd,t.Hi=this.Hi,t.rj=this.rj,t.ki=this.ki,t.ji=this.ji,t.hg=this.hg,t.sg=this.sg,t.Mc=this.Mc,t.Tr=this.Tr,t.nb=this.nb,t.lu=this.lu,t.ku=this.ku,t.yn=this.yn,t.Hp=this.Hp,t.Di=this.Di,t.Gp=this.Gp,t.$m=this.$m,t.Bc=this.Bc,t.bf=this.bf,t.cf=this.cf,t.je=this.je,t.ee=this.ee,t.qe=this.qe,t.Ob=this.Ob,t.fb=this.fb,t.ce=this.ce,t.mi=this.mi,t.Fd=this.Fd,t.Ed=this.Ed,t.Cd=this.Cd,t.lj=this.lj,t.Dd=this.Dd},(i=eh.prototype).cb=function(t){t.classType===eh?this.wrap=t:Rs.prototype.cb.call(this,t)},i.toString=function(){return 22<this.Rb.length?'TextBlock("'+this.Rb.substring(0,20)+'"...)':'TextBlock("'+this.Rb+'")'},i.o=function(){Rs.prototype.o.call(this),this.ku=this.lu=null},i.Ki=function(t,e){if(null!==this.Dc&&0!==this.Rb.length&&null!==this.de){var i=this.naturalBounds,n=this.actualBounds,r=i.width,o=i.height,s=lh(this),a=t.textAlign=this.Ci,l=e.Tn;"start"===a?a=l?"right":"left":"end"===a&&(a=l?"left":"right"),l=this.ki;var h=this.ji;zs(this,t,this.Dc,!0,!1,i,n),(l||h)&&zs(this,t,this.Dc,!1,!1,i,n),n=0,i=!1;var u=dt.allocAt(0,0);this.sd.ra(u);var c=dt.allocAt(0,s);this.sd.ra(c);var d=u.we(c);switch(dt.free(u),dt.free(c),8>d*(u=e.scale)*u&&(i=!0),e.Xc!==t&&(i=!1),!1===e.xe("textGreeking")&&(i=!1),e=this.bf,d=this.cf,this.flip){case Zo:t.translate(r,0),t.scale(-1,1);break;case Jo:t.translate(0,o),t.scale(1,-1);break;case ts:t.translate(r,o),t.scale(-1,-1)}if(o>(c=(e+s+d)*(u=this.Mc))&&(n=(n=this.Hi).y*o-n.y*c+n.offsetY),1===u&&null!==this.ce)(d=this.nb)>r&&(d=r),nh(this,this.ce,t,n+e,r,s,d,i,a,l,h);else if(null!==this.Ob&&null!==this.fb)for(c=0;c<u;c++){var p=this.Ob[c];p>r&&(p=r),n+=e,nh(this,this.fb[c],t,n,r,s,p,i,a,l,h),n+=s+d}switch(this.flip){case Zo:t.scale(-1,1),t.translate(-r,0);break;case Jo:t.scale(1,-1),t.translate(0,-o);break;case ts:t.scale(-1,-1),t.translate(-r,-o)}}},i.mm=function(t,e,i,n){this.mi=t;var r,o=this.de;if(null!==Th&&Sh!==o&&(Sh=Th.font=o),this.nb=this.qe=0,this.ce=this.fb=this.Ob=this.ee=null,isNaN(this.desiredSize.width)){if(0===(o=this.Rb.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length)o=0;else if(this.isMultiline){for(var s=r=0,a=!1;!a;){var l=o.indexOf("\n",s);-1===l&&(l=o.length,a=!0),r=Math.max(r,ah(o.substr(s,l-s).trim())),s=l+1}o=r}else 0<=(r=o.indexOf("\n",0))&&(o=o.substr(0,r)),o=ah(o);o=Math.min(o,t/this.scale),o=Math.max(8,o)}else o=this.desiredSize.width;if(null!==this.panel&&(o=Math.min(o,this.panel.maxSize.width)),r=uh(this,o),s=r=isNaN(this.desiredSize.height)?Math.min(r,e/this.scale):this.desiredSize.height,0!==this.nb&&null!==this.Ob&&null!==this.fb&&this.hg===Ah&&(e=this.de,e=this.hg===Ah?hh(e):0,a=this.bf+this.cf,a=Math.max(0,lh(this)+a),!((s=Math.min(this.maxLines-1,Math.max(Math.floor(s/a+.01)-1,0)))+1>=this.fb.length))){for(a=this.fb[s],e=Math.max(1,t-e);ah(a)>e&&1<a.length;)a=a.substr(0,a.length-1);e=ah(a+=Eh),this.fb[s]=a,this.fb=this.fb.slice(0,s+1),this.Ob[s]=e,this.Ob=this.Ob.slice(0,s+1),this.qe=this.fb.length,this.nb=Math.max(this.nb,e),this.Mc=this.qe,1===this.Mc&&(this.ce=this.fb[0])}(this.wrap===fh||isNaN(this.desiredSize.width))&&(o=isNaN(t)?this.nb:Math.min(t,this.nb),isNaN(this.desiredSize.width)&&(o=Math.max(8,o))),o=Math.max(i,o),r=Math.max(n,r),Ft(this.pc,o,r),Us(this,0,0,o,r)},i.Ah=function(t,e,i,n){js(this,t,e,i,n)},c.Object.defineProperties(eh.prototype,{font:{get:function(){return this.de},set:function(t){var e=this.de;e!==t&&(this.de=t,this.ee=null,this.o(),this.g("font",e,t))}},text:{get:function(){return this.Rb},set:function(t){var e=this.Rb;e!==(t=null!==t&&void 0!==t?t.toString():"")&&(this.Rb=t,this.o(),this.g("text",e,t))}},textAlign:{get:function(){return this.Ci},set:function(t){var e=this.Ci;e===t||"start"!==t&&"end"!==t&&"left"!==t&&"right"!==t&&"center"!==t||(this.Ci=t,this.N(),this.g("textAlign",e,t))}},flip:{get:function(){return this.Bd},set:function(t){var e=this.Bd;e!==t&&(this.Bd=t,this.N(),this.g("flip",e,t))}},verticalAlignment:{get:function(){return this.Hi},set:function(t){var e=this.Hi;e.A(t)||(this.Hi=t=t.G(),Ks(this),this.g("verticalAlignment",e,t))}},naturalBounds:{get:function(){if(!this.pc.v()){var t=Lt.alloc();oh(this,this.Rb,999999,t);var e=t.width;Lt.free(t),t=uh(this,e);var i=this.desiredSize;isNaN(i.width)||(e=i.width),isNaN(i.height)||(t=i.height),Ft(this.pc,e,t)}return this.pc}},isMultiline:{get:function(){return this.rj},set:function(t){var e=this.rj;e!==t&&(this.rj=t,this.o(),this.g("isMultiline",e,t))}},isUnderline:{get:function(){return this.ki},set:function(t){var e=this.ki;e!==t&&(this.ki=t,this.N(),this.g("isUnderline",e,t))}},isStrikethrough:{get:function(){return this.ji},set:function(t){var e=this.ji;e!==t&&(this.ji=t,this.N(),this.g("isStrikethrough",e,t))}},wrap:{get:function(){return this.sg},set:function(t){var e=this.sg;e!==t&&(this.sg=t,this.o(),this.g("wrap",e,t))}},overflow:{get:function(){return this.hg},set:function(t){var e=this.hg;e!==t&&(this.hg=t,this.o(),this.g("overflow",e,t))}},stroke:{get:function(){return this.Dc},set:function(t){var e=this.Dc;e!==t&&(null!==t&&Ua(t,"TextBlock.stroke"),t instanceof Ma&&t.freeze(),this.Dc=t,this.N(),this.g("stroke",e,t))}},lineCount:{get:function(){return this.Mc}},editable:{get:function(){return this.yn},set:function(t){var e=this.yn;e!==t&&(this.yn=t,this.g("editable",e,t))}},textEditor:{get:function(){return this.Hp},set:function(t){var e=this.Hp;e!==t&&(this.Hp=t,this.g("textEditor",e,t))}},errorFunction:{get:function(){return this.Bc},set:function(t){var e=this.Bc;e!==t&&(this.Bc=t,this.g("errorFunction",e,t))}},interval:{get:function(){return this.Fd},set:function(t){var e=this.Fd;if(e!==(t=Math.floor(t))&&0<=t){this.Fd=t,this.o();var i=this.panel;null!==i&&(i.Xg=null),this.g("interval",e,t)}}},graduatedStart:{get:function(){return this.Ed},set:function(t){var e=this.Ed;e!==t&&(0>t?t=0:1<t&&(t=1),this.Ed=t,this.o(),this.g("graduatedStart",e,t))}},graduatedEnd:{get:function(){return this.Cd},set:function(t){var e=this.Cd;e!==t&&(0>t?t=0:1<t&&(t=1),this.Cd=t,this.o(),this.g("graduatedEnd",e,t))}},graduatedFunction:{get:function(){return this.lj},set:function(t){var e=this.lj;e!==t&&(this.lj=t,this.o(),this.g("graduatedFunction",e,t))}},graduatedSkip:{get:function(){return this.Dd},set:function(t){var e=this.Dd;e!==t&&(this.Dd=t,this.o(),this.g("graduatedSkip",e,t))}},textValidation:{get:function(){return this.Di},set:function(t){var e=this.Di;e!==t&&(this.Di=t,this.g("textValidation",e,t))}},textEdited:{get:function(){return this.Gp},set:function(t){var e=this.Gp;e!==t&&(this.Gp=t,this.g("textEdited",e,t))}},spacingAbove:{get:function(){return this.bf},set:function(t){var e=this.bf;e!==t&&(this.bf=t,this.g("spacingAbove",e,t))}},spacingBelow:{get:function(){return this.cf},set:function(t){var e=this.cf;e!==t&&(this.cf=t,this.g("spacingBelow",e,t))}},maxLines:{get:function(){return this.je},set:function(t){var e=this.je;e!==t&&(0>=(t=Math.floor(t))&&x(t,"> 0",eh,"maxLines"),this.je=t,this.g("maxLines",e,t),this.o())}},metrics:{get:function(){return{arrSize:null!==this.Ob?this.Ob:[this.nb],arrText:null!==this.fb?this.fb:[this.ce],maxLineWidth:this.nb,fontHeight:this.ee}}},choices:{get:function(){return this.$m},set:function(t){var e=this.$m;e!==t&&(this.$m=t,this.g("choices",e,t))}}});var ch=null,dh=null,ph=new z(eh,"None",0),fh=new z(eh,"WrapFit",1),mh=new z(eh,"WrapDesiredSize",2),gh=new z(eh,"WrapBreakAll",3),vh=new z(eh,"OverflowClip",0),Ah=new z(eh,"OverflowEllipsis",1),yh=/[ \u200b\u00ad]/,xh=new K,bh=0,Ch=new K,wh=0,Eh="...",Sh="",Th=null,_h=!1;function Mh(){this.Ob=[],this.fb=[]}function kh(){Rs.call(this),this.Sg=null,this.zp="",this.mh=$t,this.cl=Qo,this.ff=this.Bc=null,this.bl=oe,this.Bd=Yo,this.Pl=null,this.du=!1,this.rr=!0,this.sl=!1,this.Il=null}function Bh(t){void 0===t&&(t=""),""!==t?Lh[t]&&(delete Lh[t],Nh--):(Lh=new K,Nh=0)}function Oh(t,e){t.Gr=!0,t.Zk=!1;for(var i,n=N(),r=n.length,o=0;o<r;o++){var s=n[o];i=t.getAttribute("src");var a=s.Fj.H(i);if(null!==a)for(var l=a.length,h=0;h<l;h++)i=a[h],s.ru.add(i),s.Xb(),void 0===t.zu&&(t.zu=e,null!==i.ff&&i.ff(i,e))}}function Ph(t,e){t.Zk=e;for(var i,n=N(),r=n.length,o=0;o<r;o++){var s=n[o],a=t.getAttribute("src");if(null!==(i=s.Fj.H(a))){s=i.length,a=M();for(var l=0;l<s;l++)a.push(i[l]);for(l=0;l<s;l++)null!==(i=a[l]).Bc&&i.Bc(i,e);k(a)}}}eh.className="TextBlock",eh.getEllipsis=function(){return Eh},eh.setEllipsis=function(t){Eh=t,Ch=new K,wh=0},eh.getBaseline=function(){return ch},eh.setBaseline=function(t){ch=t;for(var e=(t=N()).length,i=0;i<e;i++)t[i].wf()},eh.getUnderline=function(){return dh},eh.setUnderline=function(t){dh=t;for(var e=(t=N()).length,i=0;i<e;i++)t[i].wf()},eh.isValidFont=function(t){if(_h||(Th=os?new Ea(null).context:null,_h=!0),null===Th)return!0;var e=Th.font;if(t===e||"10px sans-serif"===t)return!0;Th.font="10px sans-serif",Th.font=t;var i=Th.font;if("10px sans-serif"!==i)return Th.font=e,!0;Th.font="19px serif";var n=Th.font;return Th.font=t,i=Th.font,Th.font=e,i!==n},eh.None=ph,eh.WrapFit=fh,eh.WrapDesiredSize=mh,eh.WrapBreakAll=gh,eh.OverflowClip=vh,eh.OverflowEllipsis=Ah,Mh.prototype.reset=function(){this.Ob=[],this.fb=[]},Mh.prototype.Qs=function(t){this.Ob=S(t.Ob),this.fb=S(t.fb)},Mh.className="TextBlockMetrics",u(kh,Rs),kh.prototype.cloneProtected=function(t){Rs.prototype.cloneProtected.call(this,t),t.element=this.Sg,t.zp=this.zp,t.mh=this.mh.G(),t.cl=this.cl,t.Bd=this.Bd,t.Bc=this.Bc,t.ff=this.ff,t.bl=this.bl.G(),t.rr=this.rr,t.Il=this.Il},(i=kh.prototype).cb=function(t){t===Yo||t===Ko||t===qo?this.imageStretch=t:Rs.prototype.cb.call(this,t)},i.toString=function(){return"Picture("+this.source+")#"+rt(this)},i.wf=function(){this.N()},i.Ki=function(t,e){var i=this.Sg;if(null!==i){var n=i.getAttribute("src");if(i instanceof HTMLImageElement&&(null===n||""===n)&&A('Element has no source ("src") attribute: '+i),!(i.Zk instanceof Event)){n=this.naturalBounds;var r=0,o=0,s=this.du,a=s?+i.width:i.naturalWidth;if(s=s?+i.height:i.naturalHeight,void 0===a&&i.videoWidth&&(a=i.videoWidth),void 0===s&&i.videoHeight&&(s=i.videoHeight),a=a||n.width,s=s||n.height,0!==a&&0!==s){var l=a,h=s;this.sourceRect.v()&&(r=this.mh.x,o=this.mh.y,a=this.mh.width,s=this.mh.height);var u=a,c=s,d=this.cl,p=this.bl;switch(d){case Yo:if(this.sourceRect.v())break;u>=n.width&&(r=r+p.offsetX+(u*p.x-n.width*p.x)),c>=n.height&&(o=o+p.offsetY+(c*p.y-n.height*p.y)),a=Math.min(n.width,u),s=Math.min(n.height,c);break;case Qo:u=n.width,c=n.height;break;case Ko:case qo:d===Ko?(u*=d=Math.min(n.height/c,n.width/u),c*=d):d===qo&&(c*=d=Math.max(n.height/c,n.width/u),(u*=d)>=n.width&&(r=(r+p.offsetX+(u*p.x-n.width*p.x)/u)*a),c>=n.height&&(o=(o+p.offsetY+(c*p.y-n.height*p.y)/c)*s),a*=1/(u/n.width),s*=1/(c/n.height),u=n.width,c=n.height)}var f=u*(d=this.qf()*e.scale)*c*d,m=a*s/f,g=i.__goCache;d=null;var v=Ih;if(i.Gr&&void 0!==g&&4<f&&m>v*v)for(null===g.Ji&&(Rh(g,4,l,h,i),Rh(g,16,l,h,i)),h=(l=g.Ji).length,f=0;f<h&&l[f].ratio*l[f].ratio<m;f++)d=l[f];if(!e.vn){if(null===this.Pl)if(null===this.Sg)this.Pl=!1;else{(l=new Ea(null).context).drawImage(this.Sg,0,0);try{l.getImageData(0,0,1,1).data[3]&&(this.Pl=!1),this.Pl=!1}catch(t){this.Pl=!0}}if(this.Pl)return}switch(l=0,u<n.width&&(l=p.offsetX+(n.width*p.x-u*p.x)),h=0,c<n.height&&(h=p.offsetY+(n.height*p.y-c*p.y)),this.flip){case Zo:t.translate(Math.min(n.width,u),0),t.scale(-1,1);break;case Jo:t.translate(0,Math.min(n.height,c)),t.scale(1,-1);break;case ts:t.translate(Math.min(n.width,u),Math.min(n.height,c)),t.scale(-1,-1)}if(e.xe("pictureRatioOptimization")&&!e.qj&&void 0!==g&&null!==d&&1!==d.ratio){t.save(),e=d.ratio;try{t.drawImage(d.source,r/e,o/e,Math.min(d.source.width,a/e),Math.min(d.source.height,s/e),l,h,Math.min(n.width,u),Math.min(n.height,c))}catch(t){this.rr=!1}t.restore()}else try{t.drawImage(i,r,o,a,s,l,h,Math.min(n.width,u),Math.min(n.height,c))}catch(t){this.rr=!1}switch(this.flip){case Zo:t.scale(-1,1),t.translate(-Math.min(n.width,u),0);break;case Jo:t.scale(1,-1),t.translate(0,-Math.min(n.height,c));break;case ts:t.scale(-1,-1),t.translate(-Math.min(n.width,u),-Math.min(n.height,c))}}}}},i.mm=function(t,e,i,n){var r=this.desiredSize,o=Xs(this,!0),s=this.Sg,a=this.du;(a||!this.sl&&s&&s.complete)&&(this.sl=!0),null===s&&(isFinite(r.width)||(t=0),isFinite(r.height)||(e=0)),isFinite(r.width)||o===Qo||o===$o?(isFinite(t)||(t=this.sourceRect.v()?this.sourceRect.width:a?+s.width:s.naturalWidth),i=0):null!==s&&!1!==this.sl&&(t=this.sourceRect.v()?this.sourceRect.width:a?+s.width:s.naturalWidth),isFinite(r.height)||o===Qo||o===Wo?(isFinite(e)||(e=this.sourceRect.v()?this.sourceRect.height:a?+s.height:s.naturalHeight),n=0):null!==s&&!1!==this.sl&&(e=this.sourceRect.v()?this.sourceRect.height:a?+s.height:s.naturalHeight),isFinite(r.width)&&(t=r.width),isFinite(r.height)&&(e=r.height),r=this.maxSize,o=this.minSize,i=Math.max(i,o.width),n=Math.max(n,o.height),t=Math.min(r.width,t),e=Math.min(r.height,e),t=Math.max(i,t),e=Math.max(n,e),null===s||s.complete||(isFinite(t)||(t=0),isFinite(e)||(e=0)),Ft(this.pc,t,e),Us(this,0,0,t,e)},i.Ah=function(t,e,i,n){js(this,t,e,i,n)},c.Object.defineProperties(kh.prototype,{element:{get:function(){return this.Sg},set:function(t){var e=this.Sg;if(e!==t){if(null===t||t instanceof HTMLImageElement||t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||A("Picture.element must be an instance of Image, Canvas, or Video, not: "+t),this.du=t instanceof HTMLCanvasElement,this.Sg=t,null!==t)if(t instanceof HTMLCanvasElement||!0===t.complete)t.Zk instanceof Event&&null!==this.Bc&&this.Bc(this,t.Zk),!0===t.Gr&&null!==this.ff&&this.ff(this,t.zu),t.Gr=!0,this.desiredSize.v()||(na(this,!1),this.o());else{var i=this;t.Fw||(t.addEventListener("load",function(e){Oh(t,e),i.desiredSize.v()||(na(i,!1),i.o())}),t.addEventListener("error",function(e){Ph(t,e)}),t.Fw=!0)}this.g("element",e,t),this.N()}}},source:{get:function(){return this.zp},set:function(t){var e=this.zp;if(e!==t){this.zp=t;var i=Lh,n=this.diagram,r=null;if(void 0!==i[t])r=i[t];else{30<Nh&&(Bh(),i=Lh);var o=this;(r=v("img")).addEventListener("load",function(t){Oh(r,t),o.desiredSize.v()||(na(o,!1),o.o())}),r.addEventListener("error",function(t){Ph(r,t)}),r.Fw=!0;var s=this.Il;null!==s&&(r.crossOrigin=s(this)),r.src=t,i[t]=r,Nh++}null!==n&&Mo(n,this),this.element=r,null!==n&&_o(n,this),void 0===r.__goCache&&(r.__goCache=new Dh),this.o(),this.N(),this.g("source",e,t)}}},sourceCrossOrigin:{get:function(){return this.Il},set:function(t){if(this.Il!==t&&(this.Il=t,null!==this.element)){var e=this.element.getAttribute("src");null===t&&"string"==typeof e?this.element.crossOrigin=null:null!==t&&(this.element.crossOrigin=t(this)),this.element.src=e}}},sourceRect:{get:function(){return this.mh},set:function(t){var e=this.mh;e.A(t)||(this.mh=t=t.G(),this.N(),this.g("sourceRect",e,t))}},imageStretch:{get:function(){return this.cl},set:function(t){var e=this.cl;e!==t&&(this.cl=t,this.N(),this.g("imageStretch",e,t))}},flip:{get:function(){return this.Bd},set:function(t){var e=this.Bd;e!==t&&(this.Bd=t,this.N(),this.g("flip",e,t))}},imageAlignment:{get:function(){return this.bl},set:function(t){var e=this.bl;e.A(t)||(this.bl=t=t.G(),this.o(),this.g("imageAlignment",e,t))}},errorFunction:{get:function(){return this.Bc},set:function(t){var e=this.Bc;e!==t&&(this.Bc=t,this.g("errorFunction",e,t))}},successFunction:{get:function(){return this.ff},set:function(t){var e=this.ff;e!==t&&(this.ff=t,this.g("successFunction",e,t))}},naturalBounds:{get:function(){return this.pc}}});var Lh=null,Nh=0,Ih=4;function Dh(){this.Ji=null}function Rh(t,e,i,n,r){null===t.Ji&&(t.Ji=[]);var o=new Ea(null),s=o.context,a=1/e;o.width=i/e,o.height=n/e,0!==o.width&&0!==o.height&&(e=new Fh(o.Da,e),i=1,0<t.Ji.length&&(r=(i=t.Ji[t.Ji.length-1]).source,i=i.ratio),s.setTransform(a*i,0,0,a*i,0,0),s.drawImage(r,0,0),t.Ji.push(e))}function Fh(t,e){this.source=t,this.ratio=e}function Hh(){this.Ys=new Ke,this.ec=null}function Uh(t,e,i,n,r){t.ec=new ai,t.ec.startX=e,t.ec.startY=i,t.ec.isFilled=n,t.Ys.figures.add(t.ec),void 0!==r&&(t.ec.isShadowed=r)}function Vh(t){var e=t.ec.segments.length;0<e&&t.ec.segments.L(e-1).close()}function jh(t,e,i,n,r,o,s){var a;void 0===a&&(a=!1);var l=new li(pi);l.point1X=e,l.point1Y=i,l.point2X=n,l.point2Y=r,l.endX=o,l.endY=s,a&&l.close(),t.ec.segments.add(l)}function Gh(t,e,i,n,r){var o;void 0===o&&(o=!1);var s=new li(fi);s.point1X=e,s.point1Y=i,s.endX=n,s.endY=r,o&&s.close(),t.ec.segments.add(s)}function zh(t,e,i,n,r,o,s,a){var l;void 0===l&&(l=!1),e=new li(gi,s,a,e,i,n,r,o),l&&e.close(),t.ec.segments.add(e)}function Qh(t){var e=Yh;return null!==e?(Yh=null,e.reset(t),e):((e=new Hh).reset(t),e)}kh.className="Picture",Lh=new K,kh.clearCache=Bh,Dh.className="PictureCacheArray",Fh.className="PictureCacheInstance",(i=Hh.prototype).reset=function(t){null!==t?(t.ea(),this.Ys=t,t.figures.clear()):this.Ys=new Ke,this.ec=null},i.Aq=function(t){this.ec.isShadowed=t},i.moveTo=function(t,e,i){void 0===i&&(i=!1);var n=new li(ci);n.endX=t,n.endY=e,i&&n.close(),this.ec.segments.add(n)},i.lineTo=function(t,e,i){void 0===i&&(i=!1);var n=new li(di);n.endX=t,n.endY=e,i&&n.close(),this.ec.segments.add(n)},i.arcTo=function(t,e,i,n,r,o,s){void 0===o&&(o=0),void 0===s&&(s=!1);var a=new li(mi);a.startAngle=t,a.sweepAngle=e,a.centerX=i,a.centerY=n,a.radiusX=r,a.radiusY=0!==o?o:r,s&&a.close(),this.ec.segments.add(a)};var Yh=null;function Kh(t,e){var i=t.toLowerCase(),n=Ye.Ee;n[t]=e,n[i]=t}function Xh(t){Al.call(this,t),this.D=2408959,this.$g=this.Hf="",this.ap=this.Xo=this.np=this.bo=null,this.pp="",this.Ef=this.Nn=this.op=this.kh=null,this.Zo="",this.Yo=Tt,this.Rb=this.bp="",this.ni=this.cn=this.Yh=null,this.Xf=new dt(NaN,NaN).freeze(),this.jo="",this.Ue=null,this.ko=ee,this.cp=Se,this.so=Mt,this.lo=kt,this.un=null,this.co=127,this.tp=Bt,this.sp="gray",this.$e=4,this.Jw=-1,this.Rp=NaN,this.ly=new Rt,this.zj=null,this.dh=NaN}function $h(t){0!=(16384&t.D)!=!1&&(t.updateAdornments(),ou(t,!1))}function Wh(t){if(!1===su(t)){au(t,!0),t.jl();var e=t.diagram;null!==e&&(e.Gd.add(t),e.Xb())}}function qh(t){if(t.D|=2097152,!1!==su(t)){var e=t.position,i=t.location;i.v()&&e.v()||tu(t,e,i),i=t.vb;var n=Rt.alloc().assign(i);i.ea(),i.x=e.x,i.y=e.y,i.freeze(),t.qt(n,i),Rt.free(n),au(t,!1)}}function Jh(t,e){var i=t.ly;isNaN(t.dh)&&(t.dh=function t(e){for(var i=(e=e.W.j).length,n=0,r=0;r<i;r++){var o=e[r];if(o instanceof Al)n=Math.max(n,t(o));else if(o instanceof Ql){t:{switch(o.Vk){case"None":case"Square":case"Ellipse":case"Circle":case"LineH":case"LineV":case"FramedRectangle":case"RoundedRectangle":case"Line1":case"Line2":case"Border":case"Cube1":case"Cube2":case"Junction":case"Cylinder1":case"Cylinder2":case"Cylinder3":case"Cylinder4":case"PlusLine":case"XLine":case"ThinCross":case"ThickCross":o=0;break t}o=o.ph/2*o.Jj*o.qf()}n=Math.max(n,o)}}return n}(t));var n=t.dh,r=2*n;if(!t.isShadowed)return i.h(e.x-1-n,e.y-1-n,e.width+2+r,e.height+2+r),i;n=e.x,r=e.y;var o=e.width;e=e.height;var s=t.shadowBlur;return o+=s,e+=s,n-=s/2,r-=s/2,0<(t=t.shadowOffset).x?o+=t.x:(n+=t.x,o-=t.x),0<t.y?e+=t.y:(r+=t.y,e-=t.y),i.h(n-1,r-1,o+2,e+2),i}function Zh(t,e,i,n){null===e||t instanceof fu||(e=e.animationManager).Ve&&ir(e,t,n.copy(),i.copy())}function tu(t,e,i){var n=dt.alloc(),r=t.locationSpot,o=t.locationObject;r.jc()&&A("determineOffset: Part's locationSpot must be real: "+r.toString());var s=o.naturalBounds,a=o instanceof Ql?o.strokeWidth:0;if(n.sk(0,0,s.width+a,s.height+a,r),o!==t)for(n.offset(-a/2,-a/2),o.transform.ra(n),r=o.panel;null!==r&&r!==t;)r.transform.ra(n),r=r.panel;t.Wf.ra(n),n.offset(-t.oc.x,-t.oc.y),r=t.diagram,o=i.v(),s=e.v(),o&&s?0!=(2097152&t.D)?eu(t,e,i,r,n):iu(t,e,i,r,n):o?eu(t,e,i,r,n):s&&iu(t,e,i,r,n),t.D|=2097152,dt.free(n),t.jl()}function eu(t,e,i,n,r){var o=e.x,s=e.y;e.h(i.x-r.x,i.y-r.y),null!==n&&((r=(i=n.animationManager).isAnimating)||!i.Ve||t instanceof fu||ir(i,t,new dt(o,s),e),r||e.x===o&&e.y===s||(i=n.skipsUndoManager,n.skipsUndoManager=!0,t.g("position",new dt(o,s),e),n.skipsUndoManager=i))}function iu(t,e,i,n,r){var o=i.copy();i.h(e.x+r.x,e.y+r.y),i.A(o)||null===n||(e=n.skipsUndoManager,n.skipsUndoManager=!0,t.g("location",o,i),n.skipsUndoManager=e)}function nu(t,e,i){lu(t,!1),t instanceof mu&&Vo(i,t),t.layer.isTemporary||e||i.Ta(),e=t.vb;var n=i.viewportBounds;n.v()?hu(t)?(zt(e,n,10)||t.xd(!1),t.updateAdornments()):e.Gc(n)?(t.xd(!0),t.updateAdornments()):t.Lb():i.hi=!0}function ru(t,e,i,n){e.constructor===t.constructor||pu||(pu=!0,b('Should not change the class of the Part when changing category from "'+i+'" to "'+n+'"'),b("  Old class: "+B(t.constructor)+", new class: "+B(e.constructor)+", part: "+t.toString())),t.Tj();var r=t.data;i=t.layerName;var o=t.isSelected,s=t.isHighlighted,a=!0,l=!0,h=!1;t instanceof mu&&(a=t.isTreeLeaf,l=t.isTreeExpanded,h=t.wasTreeExpanded),e.pf(t),e.cloneProtected(t),t.Hf=n,t.o(),t.N(),n=!0,null!==(e=t.diagram)&&(n=e.skipsUndoManager,e.skipsUndoManager=!0),t.hb=r,t.D=o?4096|t.D:-4097&t.D,t.D=s?524288|t.D:-524289&t.D,t instanceof mu&&(t.P=a?4|t.P:-5&t.P,t.P=l?1|t.P:-2&t.P,t.P=h?2|t.P:-3&t.P),null!==r&&t.Aa(),(r=t.layerName)!==i&&(t.$g=i,t.layerName=r),null!==e&&(e.skipsUndoManager=n),t.Ub()&&t.C(64)}function ou(t,e){t.D=e?16384|t.D:-16385&t.D}function su(t){return 0!=(32768&t.D)}function au(t,e){t.D=e?32768|t.D:-32769&t.D}function lu(t,e){t.D=e?65536|t.D:-65537&t.D}function hu(t){return 0!=(131072&t.D)}function uu(t,e){t.D=e?1048576|t.D:-1048577&t.D}function cu(t){return!!t.isVisible()&&(null===(t=t.layer)||!t.isTemporary)}function du(t,e,i,n,r,o){if(void 0===o&&(o=null),!(t.contains(e)||null!==o&&!o(e)||e instanceof fu))if(t.add(e),e instanceof mu){if(i&&e instanceof ku)for(var s=e.memberParts;s.next();)du(t,s.value,i,n,r,o);if(!1!==r)for(s=e.linksConnected;s.next();){var a=s.value;if(!t.contains(a)){var l=a.fromNode,h=a.toNode;l=null===l||t.contains(l),h=null===h||t.contains(h),(r?l&&h:l||h)&&du(t,a,i,n,r,o)}}if(1<n)for(e=e.iv();e.next();)du(t,e.value,i,n-1,r,o)}else if(e instanceof Lu)for(e=e.labelNodes;e.next();)du(t,e.value,i,n,r,o)}Hh.className="StreamGeometryContext",Kh("Rectangle",function(t,e,i){t=50>Ye.Df;var n="r"+e+","+i,r=Ye.Cf[n];return void 0!==r?r:((r=new Ke(ri)).endX=e,r.endY=i,t&&(Ye.Cf[n]=r,Ye.Df++),r)}),Kh("Square",function(t,e,i){t=50>Ye.Df;var n="s"+e+","+i,r=Ye.Cf[n];return void 0!==r?r:((r=new Ke(ri)).endX=e,r.endY=i,r.defaultStretch=Ko,t&&(Ye.Cf[n]=r,Ye.Df++),r)}),Kh("RoundedRectangle",function(t,e,i){var n=50>Ye.Df,r="rr"+e+","+i,o=Ye.Cf[r];return void 0===o&&(o=t?t.parameter1:NaN,(isNaN(o)||0>=o)&&(o=5),o=Math.min(o,e/3),t=(o=Math.min(o,i/3))*Ye.Fg,o=(new Ke).add(new ai(o,0,!0).add(new li(di,e-o,0)).add(new li(pi,e,o,e-t,0,e,t)).add(new li(di,e,i-o)).add(new li(pi,e-o,i,e,i-t,e-t,i)).add(new li(di,o,i)).add(new li(pi,0,i-o,t,i,0,i-t)).add(new li(di,0,o)).add(new li(pi,o,0,0,t,t,0).close())),1<t&&(o.spot1=new He(0,0,t,t),o.spot2=new He(1,1,-t,-t)),n&&(Ye.Cf[r]=o,Ye.Df++)),o}),Kh("Border","RoundedRectangle"),Kh("Ellipse",function(t,e,i){t=50>Ye.Df;var n="e"+e+","+i,r=Ye.Cf[n];return void 0!==r?r:((r=new Ke(oi)).endX=e,r.endY=i,r.spot1=Ne,r.spot2=Ie,t&&(Ye.Cf[n]=r,Ye.Df++),r)}),Kh("Circle",function(t,e,i){t=50>Ye.Df;var n="c"+e+","+i,r=Ye.Cf[n];return void 0!==r?r:((r=new Ke(oi)).endX=e,r.endY=i,r.spot1=Ne,r.spot2=Ie,r.defaultStretch=Ko,t&&(Ye.Cf[n]=r,Ye.Df++),r)}),Kh("TriangleRight",function(t,e,i){return(new Ke).add(new ai(0,0).add(new li(di,e,.5*i)).add(new li(di,0,i).close())).Dm(0,.25,.5,.75)}),Kh("TriangleDown",function(t,e,i){return(new Ke).add(new ai(0,0).add(new li(di,e,0)).add(new li(di,.5*e,i).close())).Dm(.25,0,.75,.5)}),Kh("TriangleLeft",function(t,e,i){return(new Ke).add(new ai(e,i).add(new li(di,0,.5*i)).add(new li(di,e,0).close())).Dm(.5,.25,1,.75)}),Kh("TriangleUp",function(t,e,i){return(new Ke).add(new ai(e,i).add(new li(di,0,i)).add(new li(di,.5*e,0).close())).Dm(.25,.5,.75,1)}),Kh("Triangle","TriangleUp"),Kh("Diamond",function(t,e,i){return(new Ke).add(new ai(.5*e,0).add(new li(di,0,.5*i)).add(new li(di,.5*e,i)).add(new li(di,e,.5*i).close())).Dm(.25,.25,.75,.75)}),Kh("LineH",function(t,e,i){return(t=new Ke(ni)).startX=0,t.startY=i/2,t.endX=e,t.endY=i/2,t}),Kh("LineV",function(t,e,i){return(t=new Ke(ni)).startX=e/2,t.startY=0,t.endX=e/2,t.endY=i,t}),Kh("None","Rectangle"),Kh("BarH","Rectangle"),Kh("BarV","Rectangle"),Kh("MinusLine","LineH"),Kh("PlusLine",function(t,e,i){return(new Ke).add(new ai(0,i/2,!1).add(new li(di,e,i/2)).add(new li(ci,e/2,0)).add(new li(di,e/2,i)))}),Kh("XLine",function(t,e,i){return(new Ke).add(new ai(0,i,!1).add(new li(di,e,0)).add(new li(ci,0,0)).add(new li(di,e,i)))}),Ye.Hm={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"},u(Xh,Al),Xh.prototype.cloneProtected=function(t){Al.prototype.cloneProtected.call(this,t),t.D=-4097&this.D|49152,t.Hf=this.Hf,t.$g=this.$g,t.bo=this.bo,t.np=this.np,t.Xo=this.Xo,t.ap=this.ap,t.pp=this.pp,t.op=this.op,t.Nn=this.Nn,t.Ef=null,t.Zo=this.Zo,t.Yo=this.Yo.G(),t.bp=this.bp,t.cp=this.cp.G(),t.Rb=this.Rb,t.cn=this.cn,t.Xf.assign(this.Xf),t.jo=this.jo,t.ko=this.ko.G(),t.so=this.so.G(),t.lo=this.lo.G(),t.un=this.un,t.co=this.co,t.tp=this.tp.G(),t.sp=this.sp,t.$e=this.$e,t.Rp=this.Rp},Xh.prototype.pf=function(t){Al.prototype.pf.call(this,t),t.Eh(),t.kh=null,t.Ue=null,t.zj=null},Xh.prototype.toString=function(){var t=B(this.constructor)+"#"+rt(this);return null!==this.data&&(t+="("+O(this.data)+")"),t},Xh.prototype.qk=function(t,e,i,n,r,o,s){var a=this.diagram;null!==a&&(t===Ci&&"elements"===e?r instanceof Al?El(r,function(t){ld(a.partManager,t),To(a,t)}):_o(a,r):t===wi&&"elements"===e&&(r instanceof Al?El(r,function(t){hd(a.partManager,t,a)}):Mo(a,r)),a.Ya(t,e,i,n,r,o,s))},Xh.prototype.Aa=function(t){if(Al.prototype.Aa.call(this,t),null!==this.data){for(var e=this.W.j,i=e.length,n=0;n<i;n++){var r=e[n];r instanceof Al&&El(r,function(t){null!==t.data&&t.Aa()})}for(e=this.adornments;e.next();)e.value.Aa(t)}},Xh.prototype.updateRelationshipsFromData=function(){null!==this.data&&this.diagram.partManager.updateRelationshipsFromData(this)},Xh.prototype.ak=function(t){var e=this.Ef;return null===e?null:e.H(t)},Xh.prototype.xh=function(t,e){if(null!==e){var i=null,n=this.Ef;if(null!==n&&(i=n.H(t)),i!==e){if(null!==i){var r=i.diagram;null!==r&&r.remove(i)}null===n&&(this.Ef=n=new ct),e.Hf!==t&&(e.category=t),n.add(t,e),null!==(t=this.diagram)&&(t.add(e),null!==(t=e.adornedObject)&&(null!==(t=t.Oi())&&(e.data=t.data)))}}},Xh.prototype.xf=function(t){var e=this.Ef;if(null!==e){var i=e.H(t);if(null!==i){var n=i.diagram;null!==n&&n.remove(i)}e.remove(t),0===e.count&&(this.Ef=null)}},Xh.prototype.Tj=function(){var t=this.Ef;if(null!==t){var e=M();for(t=t.iterator;t.next();)e.push(t.key);t=e.length;for(var i=0;i<t;i++)this.xf(e[i]);k(e)}},Xh.prototype.updateAdornments=function(){var t=this.diagram;if(null!==t){for(var e=this.adornments;e.next();){var i=e.value;i.o(),i.placeholder&&i.placeholder.o()}t:{if(this.isSelected&&this.selectionAdorned&&(null!==(e=this.selectionObject)&&this.actualBounds.v()&&this.isVisible()&&e.vf()&&e.actualBounds.v())){if(null===(i=this.ak("Selection"))){if(null===(i=this.selectionAdornmentTemplate)&&(i=this.Fh()?t.linkSelectionAdornmentTemplate:this instanceof ku?t.groupSelectionAdornmentTemplate:t.nodeSelectionAdornmentTemplate),!(i instanceof fu))break t;Ol(i),null!==(i=i.copy())&&(this.Fh()&&this.selectionObject===this.path&&(i.type=Al.Link),i.adornedObject=e)}if(null!==i){i.type===Al.Link?i.o():(e=dt.alloc(),dt.free(e)),this.xh("Selection",i);break t}}this.xf("Selection")}for(function(t,e){e.toolManager.mouseDownTools.each(function(e){e.isEnabled&&e.updateAdornments(t)}),e.toolManager.updateAdornments(t)}(this,t),e=this.adornments;e.next();)e.value.Aa()}},Xh.prototype.Lb=function(){var t=this.diagram;null!==t&&(lo(t),0!=(16384&this.D)!=!0&&(ou(this,!0),t.Xb()))},Xh.prototype.move=function(t,e){!0===e?this.location=t:this.position=t},Xh.prototype.moveTo=function(t,e,i){t=dt.allocAt(t,e),this.move(t,i),dt.free(t)},Xh.prototype.isVisible=function(){if(!this.visible)return!1;var t=this.layer;return!(null!==t&&!t.visible)&&(!(null===(t=this.diagram)||!t.animationManager.pt(this))||!!(null===(t=this.containingGroup)||t.isSubGraphExpanded&&t.isVisible()))},(i=Xh.prototype).Nb=function(t){var e=this.diagram;t?(this.C(4),this.Lb(),null!==e&&e.Gd.add(this)):(this.C(8),this.Tj()),this.Eh(),null!==e&&(e.Ta(),e.N())},i.Xa=function(t){if(this.name===t)return this;var e=this.zj;if(null===e&&(this.zj=e=new ct),null!==e.H(t))return e.H(t);var i=Al.prototype.Xa.call(this,t);return null!==i?(e.set(t,i),i):(e.set(t,null),null)},i.rf=function(t,e,i){void 0===i&&(i=new dt),e=e.jc()?oe:e;var n=t.naturalBounds;if(i.h(n.width*e.x+e.offsetX,n.height*e.y+e.offsetY),null===t||t===this)return i;for(t.transform.ra(i),t=t.panel;null!==t&&t!==this;)t.transform.ra(i),t=t.panel;return this.Wf.ra(i),i.offset(-this.oc.x,-this.oc.y),i},i.cq=function(t){return void 0===t&&(t=new Rt),t.assign(this.actualBounds)},i.zb=function(){!0===ia(this)&&this.measure(1/0,1/0),this.arrange()},Xh.prototype.arrange=function(){if(!1===ra(this))qh(this);else{var t=this.vb,e=Rt.alloc();e.assign(t),t.ea();var i=hu(this);this.Ah(0,0,this.oc.width,this.oc.height);var n=this.position;tu(this,n,this.location),t.x=n.x,t.y=n.y,t.freeze(),this.qt(e,t),oa(this,!1),e.A(t)?this.xd(i):!this.Ub()||Ye.w(e.width,t.width)&&Ye.w(e.height,t.height)||0<=this.Jw&&this.C(16),Rt.free(e),au(this,!1)}},(i=Xh.prototype).qt=function(t,e){var i=this.diagram;if(null!==i){var n=!1;if(!1===i.nj&&t.v()){var r=Rt.alloc();r.assign(i.documentBounds),r.Wv(i.padding),t.x>r.x&&t.y>r.y&&t.right<r.right&&t.bottom<r.bottom&&e.x>r.x&&e.y>r.y&&e.right<r.right&&e.bottom<r.bottom&&(n=!0),Rt.free(r)}0!=(65536&this.D)!=!0&&t.A(e)||nu(this,n,i),i.N(),Vt(t,e)||(this instanceof mu&&!i.undoManager.isUndoingRedoing&&this.gd(),this.Eh())}},i.Sv=function(t,e){if(this.Fh()||!t.v())return!1;var i=this.diagram;if(null!==i&&(Zh(this,i,t,e),!0===i.undoManager.isUndoingRedoing))return!0;if(this.la=t,this.D&=-2097153,(i=this.Xf).v()){var n=i.copy();i.h(i.x+(t.x-e.x),i.y+(t.y-e.y)),this.g("location",n,i)}return!1===su(this)&&!1===ra(this)&&(Wh(this),qh(this)),!0},i.zq=function(t,e,i){var n=this.Xf,r=this.la;if(i){if(n.x===t&&n.y===e)return;su(this)||ra(this)?r.h(NaN,NaN):r.h(r.x+t-n.x,r.y+e-n.y),n.h(t,e)}else{if(r.x===t&&r.y===e)return;su(this)||ra(this)?n.h(NaN,NaN):n.h(n.x+t-r.x,n.y+e-r.y),r.h(t,e)}Wh(this)},i.Tv=function(){this.D&=-2097153,Wh(this)},i.Wi=function(){return!0},i.Ub=function(){return!0},i.Fh=function(){return!1},i.tf=function(){return!0},Xh.prototype.canCopy=function(){if(!this.copyable)return!1;var t=this.layer;return null===t||!!t.allowCopy&&(null===(t=t.diagram)||!!t.allowCopy)},Xh.prototype.canDelete=function(){if(!this.deletable)return!1;var t=this.layer;return null===t||!!t.allowDelete&&(null===(t=t.diagram)||!!t.allowDelete)},Xh.prototype.canEdit=function(){if(!this.textEditable)return!1;var t=this.layer;return null===t||!!t.allowTextEdit&&(null===(t=t.diagram)||!!t.allowTextEdit)},Xh.prototype.canGroup=function(){if(!this.groupable)return!1;var t=this.layer;return null===t||!!t.allowGroup&&(null===(t=t.diagram)||!!t.allowGroup)},Xh.prototype.canMove=function(){if(!this.movable)return!1;var t=this.layer;return null===t||!!t.allowMove&&(null===(t=t.diagram)||!!t.allowMove)},Xh.prototype.canReshape=function(){if(!this.reshapable)return!1;var t=this.layer;return null===t||!!t.allowReshape&&(null===(t=t.diagram)||!!t.allowReshape)},Xh.prototype.canResize=function(){if(!this.resizable)return!1;var t=this.layer;return null===t||!!t.allowResize&&(null===(t=t.diagram)||!!t.allowResize)},Xh.prototype.canRotate=function(){if(!this.rotatable)return!1;var t=this.layer;return null===t||!!t.allowRotate&&(null===(t=t.diagram)||!!t.allowRotate)},Xh.prototype.canSelect=function(){if(!this.selectable)return!1;var t=this.layer;return null===t||!!t.allowSelect&&(null===(t=t.diagram)||!!t.allowSelect)},(i=Xh.prototype).xd=function(t){this.D=t?131072|this.D:-131073&this.D},i.Eh=function(){var t=this.containingGroup;null!==t&&(t.o(),null!==t.placeholder&&t.placeholder.o(),t.gd())},i.N=function(){var t=this.diagram;null!==t&&!ra(this)&&!su(this)&&this.isVisible()&&this.vb.v()&&t.N(Jh(this,this.vb))},i.o=function(){Al.prototype.o.call(this);var t=this.diagram;null!==t&&(t.Gd.add(this),this instanceof mu&&null!==this.labeledLink&&Ks(this.labeledLink),t.Xb(!0))},i.gq=function(t){t||null!==(t=this.Yh)&&Bu(t,this)},i.hq=function(t){t||null!==(t=this.Yh)&&Ou(t,this)},i.Zj=function(){var t=this.data;if(null!==t){var e=this.diagram;null!==e&&(null!==(e=e.model)&&e.um(t))}},i.fz=function(){return function t(e,i){var n=i.containingGroup;return null!==n?1+t(e,n):i instanceof mu&&(i=i.labeledLink,null!==i)?t(e,i):0}(this,this)},i.iz=function(){return function t(e,i){var n=i.containingGroup;return null!==n||i instanceof mu&&(n=i.labeledLink,null!==n)?t(e,n):i}(this,this)},i.Ud=function(t){return t instanceof ku&&function t(e,i,n){if(i===n||null===n)return!1;var r=i.containingGroup;return!(null===r||r!==n&&!t(e,r,n))||i instanceof mu&&(i=i.labeledLink,null!==i)&&t(e,i,n)}(this,this,t)},i.xx=function(t){if(null===t)return null;if(this===t)return this.containingGroup;for(var e=this;null!==e;){if(e instanceof ku&&uu(e,!0),e instanceof mu){var i=e.labeledLink;null!==i&&(e=i)}e=e.containingGroup}for(i=null,e=t;null!==e;){if(0!=(1048576&e.D)){i=e;break}e instanceof mu&&(null!==(t=e.labeledLink)&&(e=t)),e=e.containingGroup}for(e=this;null!==e;)e instanceof ku&&uu(e,!1),e instanceof mu&&(null!==(t=e.labeledLink)&&(e=t)),e=e.containingGroup;return i},Xh.prototype.canLayout=function(){if(!this.isLayoutPositioned||!this.isVisible())return!1;var t=this.layer;return!(null!==t&&t.isTemporary||this instanceof mu&&this.isLinkLabel)},Xh.prototype.C=function(t){if(void 0===t&&(t=16777215),this.isLayoutPositioned&&0!=(t&this.layoutConditions)){var e=this.layer;null!==e&&e.isTemporary||this instanceof mu&&this.isLinkLabel?e=!1:e=null===(e=this.diagram)||!e.undoManager.isUndoingRedoing}else e=!1;if(e)if(null!==(e=this.Yh)){var i=e.layout;null!==i?i.C():e.C(t)}else null!==(t=this.diagram)&&(null!==(t=t.layout)&&t.C())},c.Object.defineProperties(Xh.prototype,{key:{get:function(){var t=this.diagram;if(null!==t)return t.model.ja(this.data)}},adornments:{get:function(){return null===this.Ef?$:this.Ef.iteratorValues}},layer:{get:function(){return this.ni}},diagram:{get:function(){var t=this.ni;return null!==t?t.diagram:null}},layerName:{get:function(){return this.$g},set:function(t){var e=this.$g;if(e!==t){var i=this.diagram;if((null===i||null!==i.dm(t)&&!i.partManager.addsToTemporaryLayer)&&(this.$g=t,null!==i&&i.Ta(),this.g("layerName",e,t),null!==(e=this.layer)&&e.name!==t&&(null!==(i=e.diagram)&&(null!==(t=i.dm(t))&&t!==e)))){var n=e.Fc(-1,this,!0);if(0<=n&&i.Ya(wi,"parts",e,this,null,n,!0),n=t.Vi(99999999,this,!0),e.visible!==t.visible&&this.Nb(t.visible),0<=n&&i.Ya(Ci,"parts",t,null,this,!0,n),null!==(n=this.layerChanged)){var r=i.aa;i.aa=!0,n(this,e,t),i.aa=r}}}}},layerChanged:{get:function(){return this.bo},set:function(t){var e=this.bo;e!==t&&(this.bo=t,this.g("layerChanged",e,t))}},zOrder:{get:function(){return this.Rp},set:function(t){var e=this.Rp;if(e!==t){this.Rp=t;var i=this.layer;null!==i&&kr(i,-1,this),this.g("zOrder",e,t),null!==(t=this.diagram)&&t.N()}}},locationObject:{get:function(){if(null===this.Ue){var t=this.locationObjectName;""!==t?(t=this.Xa(t),this.Ue=null!==t?t:this):this instanceof fu&&this.type!==Al.Link&&null!==this.placeholder?this.Ue=this.placeholder:this.Ue=this}return this.Ue.visible?this.Ue:this}},minLocation:{get:function(){return this.so},set:function(t){var e=this.so;e.A(t)||(this.so=t=t.G(),this.g("minLocation",e,t))}},maxLocation:{get:function(){return this.lo},set:function(t){var e=this.lo;e.A(t)||(this.lo=t=t.G(),this.g("maxLocation",e,t))}},locationObjectName:{get:function(){return this.jo},set:function(t){var e=this.jo;e!==t&&(this.jo=t,this.Ue=null,this.o(),this.g("locationObjectName",e,t))}},locationSpot:{get:function(){return this.ko},set:function(t){var e=this.ko;e.A(t)||(this.ko=t=t.G(),this.o(),this.g("locationSpot",e,t))}},location:{get:function(){return this.Xf},set:function(t){var e=t.x,i=t.y,n=this.Xf,r=n.x,o=n.y;(r===e||isNaN(r)&&isNaN(e))&&(o===i||isNaN(o)&&isNaN(i))||(e=t=t.copy(),this.Fh()?e=!1:(this.Xf=e,this.D|=2097152,!1===ra(this)&&(Wh(this),(i=this.la).v()&&(r=i.copy(),i.h(i.x+(e.x-n.x),i.y+(e.y-n.y)),Zh(this,this.diagram,i,r),this.g("position",r,i))),e=!0),e&&this.g("location",n.copy(),t))}},category:{get:function(){return this.Hf},set:function(t){var e=this.Hf;if(e!==t){var i=this.diagram,n=this.data,r=null;if(null!==i&&null!==n&&!(this instanceof fu)){var o=i.model.undoManager;o.isEnabled&&!o.isUndoingRedoing&&(r=this.clone()).W.addAll(this.W)}this.Hf=t,this.g("category",e,t),null===i||null===n||this instanceof fu?this instanceof fu&&(null!==(r=this.adornedPart)&&(null!==(t=r.Ef)&&t.remove(e),r.xh(this.category,this))):(o=i.model).undoManager.isUndoingRedoing||(this.Fh()?(i.partManager.setLinkCategoryForData(n,t),null!==(i=i.partManager.findLinkTemplateForCategory(t))&&(Ol(i),null!==(i=i.copy())&&ru(this,i,e,t))):(null!==o&&o.yq(n,t),null!==(i=od(i.partManager,n,t))&&(Ol(i),null===(i=i.copy())||i instanceof Lu||(n=this.location.copy(),ru(this,i,e,t),this.location.v()||(this.location=n)))),null!==r&&((e=this.clone()).W.addAll(this.W),this.g("self",r,e)))}}},self:{get:function(){return this},set:function(t){ru(this,t,this.category,t.category)}},copyable:{get:function(){return 0!=(1&this.D)},set:function(t){var e=0!=(1&this.D);e!==t&&(this.D^=1,this.g("copyable",e,t))}},deletable:{get:function(){return 0!=(2&this.D)},set:function(t){var e=0!=(2&this.D);e!==t&&(this.D^=2,this.g("deletable",e,t))}},textEditable:{get:function(){return 0!=(4&this.D)},set:function(t){var e=0!=(4&this.D);e!==t&&(this.D^=4,this.g("textEditable",e,t),this.Lb())}},groupable:{get:function(){return 0!=(8&this.D)},set:function(t){var e=0!=(8&this.D);e!==t&&(this.D^=8,this.g("groupable",e,t))}},movable:{get:function(){return 0!=(16&this.D)},set:function(t){var e=0!=(16&this.D);e!==t&&(this.D^=16,this.g("movable",e,t))}},selectionAdorned:{get:function(){return 0!=(32&this.D)},set:function(t){var e=0!=(32&this.D);e!==t&&(this.D^=32,this.g("selectionAdorned",e,t),this.Lb())}},isInDocumentBounds:{get:function(){return 0!=(64&this.D)},set:function(t){var e=0!=(64&this.D);if(e!==t){this.D^=64;var i=this.diagram;null!==i&&i.Ta(),this.g("isInDocumentBounds",e,t)}}},isLayoutPositioned:{get:function(){return 0!=(128&this.D)},set:function(t){var e=0!=(128&this.D);e!==t&&(this.D^=128,this.g("isLayoutPositioned",e,t),this.C(t?4:8))}},selectable:{get:function(){return 0!=(256&this.D)},set:function(t){var e=0!=(256&this.D);e!==t&&(this.D^=256,this.g("selectable",e,t),this.Lb())}},reshapable:{get:function(){return 0!=(512&this.D)},set:function(t){var e=0!=(512&this.D);e!==t&&(this.D^=512,this.g("reshapable",e,t),this.Lb())}},resizable:{get:function(){return 0!=(1024&this.D)},set:function(t){var e=0!=(1024&this.D);e!==t&&(this.D^=1024,this.g("resizable",e,t),this.Lb())}},rotatable:{get:function(){return 0!=(2048&this.D)},set:function(t){var e=0!=(2048&this.D);e!==t&&(this.D^=2048,this.g("rotatable",e,t),this.Lb())}},isSelected:{get:function(){return 0!=(4096&this.D)},set:function(t){var e=0!=(4096&this.D);if(e!==t){var i=this.diagram;if(!t||this.canSelect()&&!(null!==i&&i.selection.count>=i.maxSelectionCount)){this.D^=4096;var n=!1;if(null!==i){n=i.skipsUndoManager,i.skipsUndoManager=!0;var r=i.selection;r.ea(),t?r.add(this):r.remove(this),r.freeze()}this.g("isSelected",e,t),this.Lb(),null!==(t=this.selectionChanged)&&t(this),null!==i&&(i.Xb(),i.skipsUndoManager=n)}}}},isHighlighted:{get:function(){return 0!=(524288&this.D)},set:function(t){var e=0!=(524288&this.D);if(e!==t){this.D^=524288;var i=this.diagram;null!==i&&((i=i.highlighteds).ea(),t?i.add(this):i.remove(this),i.freeze()),this.g("isHighlighted",e,t),this.N(),null!==(t=this.highlightedChanged)&&t(this)}}},isShadowed:{get:function(){return 0!=(8192&this.D)},set:function(t){var e=0!=(8192&this.D);e!==t&&(this.D^=8192,this.g("isShadowed",e,t),this.N())}},isAnimated:{get:function(){return 0!=(262144&this.D)},set:function(t){var e=0!=(262144&this.D);e!==t&&(this.D^=262144,this.g("isAnimated",e,t))}},highlightedChanged:{get:function(){return this.Nn},set:function(t){var e=this.Nn;e!==t&&(this.Nn=t,this.g("highlightedChanged",e,t))}},selectionObjectName:{get:function(){return this.pp},set:function(t){var e=this.pp;e!==t&&(this.pp=t,this.kh=null,this.g("selectionObjectName",e,t))}},selectionAdornmentTemplate:{get:function(){return this.np},set:function(t){var e=this.np;e!==t&&(this.np=t,this.g("selectionAdornmentTemplate",e,t))}},selectionObject:{get:function(){if(null===this.kh){var t=this.selectionObjectName;null!==t&&""!==t?(t=this.Xa(t),this.kh=null!==t?t:this):this instanceof Lu?(t=this.path,this.kh=null!==t?t:this):this.kh=this}return this.kh}},selectionChanged:{get:function(){return this.op},set:function(t){var e=this.op;e!==t&&(this.op=t,this.g("selectionChanged",e,t))}},resizeAdornmentTemplate:{get:function(){return this.Xo},set:function(t){var e=this.Xo;e!==t&&(this.Xo=t,this.g("resizeAdornmentTemplate",e,t))}},resizeObjectName:{get:function(){return this.Zo},set:function(t){var e=this.Zo;e!==t&&(this.Zo=t,this.g("resizeObjectName",e,t))}},resizeObject:{get:function(){var t=this.resizeObjectName;return""!==t&&null!==(t=this.Xa(t))?t:this}},resizeCellSize:{get:function(){return this.Yo},set:function(t){var e=this.Yo;e.A(t)||(this.Yo=t=t.G(),this.g("resizeCellSize",e,t))}},rotateAdornmentTemplate:{get:function(){return this.ap},set:function(t){var e=this.ap;e!==t&&(this.ap=t,this.g("rotateAdornmentTemplate",e,t))}},rotateObjectName:{get:function(){return this.bp},set:function(t){var e=this.bp;e!==t&&(this.bp=t,this.g("rotateObjectName",e,t))}},rotateObject:{get:function(){var t=this.rotateObjectName;return""!==t&&null!==(t=this.Xa(t))?t:this}},rotationSpot:{get:function(){return this.cp},set:function(t){var e=this.cp;e.A(t)||(this.cp=t=t.G(),this.g("rotationSpot",e,t))}},text:{get:function(){return this.Rb},set:function(t){var e=this.Rb;e!==t&&(this.Rb=t,this.g("text",e,t))}},containingGroup:{get:function(){return this.Yh},set:function(t){if(this.Ub()){var e=this.Yh;if(e!==t){null===t||this!==t&&!t.Ud(this)||(this===t&&A("Cannot make a Group a member of itself: "+this.toString()),A("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+t.toString())),this.C(2);var i=this.diagram;if(null!==e?Ou(e,this):this instanceof ku&&null!==i&&i.Fi.remove(this),this.Yh=t,null!==t?Bu(t,this):this instanceof ku&&null!==i&&i.Fi.add(this),this.C(1),null!==i){var n=this.data,r=i.model;if(null!==n&&r.ek()){var o=r.ja(null!==t?t.data:null);r.yt(n,o)}}if(null!==(n=this.containingGroupChanged)&&(r=!0,null!==i&&(r=i.aa,i.aa=!0),n(this,e,t),null!==i&&(i.aa=r)),this instanceof ku)for(du(i=new et,this,!0,0,!0),i=i.iterator;i.next();)if((n=i.value)instanceof mu)for(n=n.linksConnected;n.next();)Nu(n.value);if(this instanceof mu){for(i=this.linksConnected;i.next();)Nu(i.value);null!==(i=this.labeledLink)&&Nu(i)}this.g("containingGroup",e,t),null!==t&&(null!==(e=t.layer)&&kr(e,-1,t))}}else A("cannot set the Part.containingGroup of a Link or Adornment")}},containingGroupChanged:{get:function(){return this.cn},set:function(t){var e=this.cn;e!==t&&(this.cn=t,this.g("containingGroupChanged",e,t))}},isTopLevel:{get:function(){return!(null!==this.containingGroup||this instanceof mu&&null!==this.labeledLink)}},layoutConditions:{get:function(){return this.co},set:function(t){var e=this.co;e!==t&&(this.co=t,this.g("layoutConditions",e,t))}},dragComputation:{get:function(){return this.un},set:function(t){var e=this.un;e!==t&&(this.un=t,this.g("dragComputation",e,t))}},shadowOffset:{get:function(){return this.tp},set:function(t){var e=this.tp;e.A(t)||(this.tp=t=t.G(),this.N(),this.g("shadowOffset",e,t))}},shadowColor:{get:function(){return this.sp},set:function(t){var e=this.sp;e!==t&&(this.sp=t,this.N(),this.g("shadowColor",e,t))}},shadowBlur:{get:function(){return this.$e},set:function(t){var e=this.$e;e!==t&&(this.$e=t,this.N(),this.g("shadowBlur",e,t))}}}),Xh.prototype.invalidateLayout=Xh.prototype.C,Xh.prototype.findCommonContainingGroup=Xh.prototype.xx,Xh.prototype.isMemberOf=Xh.prototype.Ud,Xh.prototype.findTopLevelPart=Xh.prototype.iz,Xh.prototype.findSubGraphLevel=Xh.prototype.fz,Xh.prototype.ensureBounds=Xh.prototype.zb,Xh.prototype.getDocumentBounds=Xh.prototype.cq,Xh.prototype.getRelativePoint=Xh.prototype.rf,Xh.prototype.findObject=Xh.prototype.Xa,Xh.prototype.moveTo=Xh.prototype.moveTo,Xh.prototype.invalidateAdornments=Xh.prototype.Lb,Xh.prototype.clearAdornments=Xh.prototype.Tj,Xh.prototype.removeAdornment=Xh.prototype.xf,Xh.prototype.addAdornment=Xh.prototype.xh,Xh.prototype.findAdornment=Xh.prototype.ak,Xh.prototype.updateTargetBindings=Xh.prototype.Aa;var pu=!1;function fu(t){Xh.call(this,t),this.D&=-257,this.$g="Adornment",this.Zd=null,this.Mw=0,this.ex=!1,this.l=[],this.Ra=null}function mu(t){Xh.call(this,t),this.P=13,this.Wa=new Z,this.Lp=this.nl=this.ri=this.fo=this.eo=null,this.Dk=Re,this.rc=this.He=null,this.Uo=_u,this.vh=!1}function gu(t,e){null!==e&&(null===t.He&&(t.He=new et),t.He.add(e))}function vu(t,e,i,n){if(null===e||null===t.He)return null;for(var r=t.He.iterator;r.next();){var o=r.value;if(o.nt===t&&o.xv===e&&o.Nx===i&&o.Ox===n||o.nt===e&&o.xv===t&&o.Nx===n&&o.Ox===i)return o}return null}function Au(t,e){for(var i=t.linksConnected;i.next();){var n=i.value;n.fromPort!==e&&n.toPort!==e||(yu(t,n.fromPort),yu(t,n.toPort),n.Na())}}function yu(t,e){null!==e&&(null!==(e=e.To)&&e.hm(),null===(t=t.containingGroup)||t.isSubGraphExpanded||yu(t,t.port))}function xu(t,e,i){yu(t,i);var n=t.Wa.contains(e);if(n||t.Wa.add(e),!n||e.fromNode===e.toNode){var r=t.linkConnected;if(null!==r){var o=!0,s=t.diagram;null!==s&&(o=s.aa,s.aa=!0),r(t,e,i),null!==s&&(s.aa=o)}}!n&&e.isTreeLink&&(i=e.fromNode,e=e.toNode,null!==i&&null!==e&&i!==e&&(n=!0,null!==(t=t.diagram)&&(n=t.isTreePathToChildren),r=n?e:i,o=n?i:e,r.vh||(r.vh=o),!o.isTreeLeaf||null!==t&&t.undoManager.isUndoingRedoing||(n?i===o&&(o.isTreeLeaf=!1):e===o&&(o.isTreeLeaf=!1))))}function bu(t,e,i){yu(t,i);var n=t.Wa.remove(e),r=null;if(n||e.toNode===e.fromNode){var o=t.linkDisconnected;if(r=t.diagram,null!==o){var s=!0;null!==r&&(s=r.aa,r.aa=!0),o(t,e,i),null!==r&&(r.aa=s)}}n&&e.isTreeLink&&(i=!0,null!==r&&(i=r.isTreePathToChildren),t=i?e.toNode:e.fromNode,e=i?e.fromNode:e.toNode,null!==t&&(t.vh=!1),null===e||e.isTreeLeaf||(0===e.Wa.count?(e.vh=null,null!==r&&r.undoManager.isUndoingRedoing||(e.isTreeLeaf=!0)):Cu(e)))}function Cu(t){if(t.vh=!1,0!==t.Wa.count){var e=!0,i=t.diagram;if(null===i||!i.undoManager.isUndoingRedoing){for(null!==i&&(e=i.isTreePathToChildren),i=t.Wa.iterator;i.next();){var n=i.value;if(n.isTreeLink)if(e){if(n.fromNode===t)return void(t.isTreeLeaf=!1)}else if(n.toNode===t)return void(t.isTreeLeaf=!1)}t.isTreeLeaf=!0}}}function wu(t){null===t.rc?t.rc=new ct:t.rc.clear(),t.Em(t,function(t,e){Eu(t,e)}),0===t.rc.count&&t.rc.add("",t)}function Eu(t,e){var i=e.portId;null!==i&&null!==t.rc&&t.rc.add(i,e)}function Su(t,e,i){var n=e.portId;if(null!==n&&(null!==t.rc&&t.rc.remove(n),null!==(e=t.diagram)&&i)){for(i=null,t=t.ev(n);t.next();)n=t.value,null===i&&(i=M()),i.push(n);if(null!==i){for(t=0;t<i.length;t++)e.remove(i[t]);k(i)}}}Xh.className="Part",Xh.LayoutNone=0,Xh.LayoutAdded=1,Xh.LayoutRemoved=2,Xh.LayoutShown=4,Xh.LayoutHidden=8,Xh.LayoutNodeSized=16,Xh.LayoutGroupLayout=32,Xh.LayoutNodeReplaced=64,Xh.LayoutStandard=127,Xh.LayoutAll=16777215,u(fu,Xh),fu.prototype.toString=function(){var t=this.adornedPart;return"Adornment("+this.category+")"+(null!==t?t.toString():"")},fu.prototype.updateRelationshipsFromData=function(){},fu.prototype.ik=function(t){var e=this.adornedObject.part;if(e instanceof Lu&&this.adornedObject instanceof Ql){var i=e.path;e.ik(t),t=i.geometry,i=(e=this.W.j).length;for(var n=0;n<i;n++){var r=e[n];r.isPanelMain&&r instanceof Ql&&(r.oa=t)}}},fu.prototype.Wi=function(){var t=this.Zd;return null===t||(null===(t=t.part)||!ra(t))},fu.prototype.Ub=function(){return!1},fu.prototype.qk=function(t,e,i,n,r,o,s){if(t===Ci&&"elements"===e){if(r instanceof Pu)null===this.Ra&&(this.Ra=r);else if(r instanceof Al){var a=r.cm(function(t){return t instanceof Pu});a instanceof Pu&&null===this.Ra&&(this.Ra=a)}}else t===wi&&"elements"===e&&null!==this.Ra&&(n===this.Ra?this.Ra=null:n instanceof Al&&this.Ra.Ag(n)&&(this.Ra=null));Xh.prototype.qk.call(this,t,e,i,n,r,o,s)},fu.prototype.updateAdornments=function(){},fu.prototype.Zj=function(){},c.Object.defineProperties(fu.prototype,{placeholder:{get:function(){return this.Ra}},adornedObject:{get:function(){return this.Zd},set:function(t){var e=this.adornedPart,i=null;null!==t&&(i=t.part),null===e||null!==t&&e===i||e.xf(this.category),this.Zd=t,null!==i&&i.xh(this.category,this)}},adornedPart:{get:function(){var t=this.Zd;return null!==t?t.part:null}},containingGroup:{get:function(){return null}}}),fu.className="Adornment",u(mu,Xh),mu.prototype.cloneProtected=function(t){Xh.prototype.cloneProtected.call(this,t),t.P=this.P,t.P=-17&this.P,t.eo=this.eo,t.fo=this.fo,t.ri=this.ri,t.Lp=this.Lp,t.Dk=this.Dk.G(),t.Uo=this.Uo},(i=mu.prototype).pf=function(t){Xh.prototype.pf.call(this,t),t.gd(),t.He=this.He,t.rc=null},i.Iz=function(t,e,i){void 0!==e&&null!==e||(e=""),void 0!==i&&null!==i||(i=""),null!==(t=vu(this,t,e,i))&&t.hm()},i.qk=function(t,e,i,n,r,o,s){t===Ci&&"elements"===e?this.rc=null:t===wi&&"elements"===e&&(this.rc=null),Xh.prototype.qk.call(this,t,e,i,n,r,o,s)},i.gd=function(t){void 0===t&&(t=null);for(var e=this.linksConnected;e.next();){var i=e.value;null!==t&&t.contains(i)||(yu(this,i.fromPort),yu(this,i.toPort),i.Na())}},i.Wi=function(){return!0},mu.prototype.getAvoidableRect=function(t){return t.set(this.actualBounds),t.Tp(this.Dk),t},mu.prototype.findVisibleNode=function(){for(var t=this;null!==t&&!t.isVisible();)t=t.containingGroup;return t},mu.prototype.isVisible=function(){if(!Xh.prototype.isVisible.call(this))return!1;var t=!0,e=ys,i=this.diagram;if(null!==i){if(i.animationManager.pt(this))return!0;t=i.isTreePathToChildren,e=i.treeCollapsePolicy}if(e===ys){if(null!==(t=this.yg())&&!t.isTreeExpanded)return!1}else if(e===xs){if(0<(t=t?this.gv():this.hv()).count&&t.all(function(t){return!t.isTreeExpanded}))return!1}else if(e===bs&&(0<(t=t?this.gv():this.hv()).count&&t.any(function(t){return!t.isTreeExpanded})))return!1;return null===(t=this.labeledLink)||t.isVisible()},(i=mu.prototype).Nb=function(t){Xh.prototype.Nb.call(this,t);for(var e=this.linksConnected;e.next();)e.value.Nb(t)},i.ev=function(t){if(void 0===t&&(t=null),null===t)return this.Wa.iterator;var e=new q(this.Wa),i=this;return e.predicate=function(e){return e.fromNode===i&&e.fromPortId===t||e.toNode===i&&e.toPortId===t},e},i.$p=function(t){void 0===t&&(t=null);var e=new q(this.Wa),i=this;return e.predicate=function(e){return e.fromNode===i&&(null===t||e.fromPortId===t)},e},i.td=function(t){void 0===t&&(t=null);var e=new q(this.Wa),i=this;return e.predicate=function(e){return e.toNode===i&&(null===t||e.toPortId===t)},e},i.fv=function(t){void 0===t&&(t=null);for(var e=null,i=null,n=this.Wa.iterator;n.next();){var r=n.value;r.fromNode===this?null!==t&&r.fromPortId!==t||(r=r.toNode,null!==e?e.add(r):null!==i&&i!==r?((e=new et).add(i),e.add(r)):i=r):r.toNode!==this||null!==t&&r.toPortId!==t||(r=r.fromNode,null!==e?e.add(r):null!==i&&i!==r?((e=new et).add(i),e.add(r)):i=r)}return null!==e?e.iterator:null!==i?new W(i):$},i.hv=function(t){void 0===t&&(t=null);for(var e=null,i=null,n=this.Wa.iterator;n.next();){var r=n.value;r.fromNode!==this||null!==t&&r.fromPortId!==t||(r=r.toNode,null!==e?e.add(r):null!==i&&i!==r?((e=new et).add(i),e.add(r)):i=r)}return null!==e?e.iterator:null!==i?new W(i):$},i.gv=function(t){void 0===t&&(t=null);for(var e=null,i=null,n=this.Wa.iterator;n.next();){var r=n.value;r.toNode!==this||null!==t&&r.toPortId!==t||(r=r.fromNode,null!==e?e.add(r):null!==i&&i!==r?((e=new et).add(i),e.add(r)):i=r)}return null!==e?e.iterator:null!==i?new W(i):$},i.az=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var n=new q(this.Wa),r=this;return n.predicate=function(n){return!(n.fromNode!==r||n.toNode!==t||null!==e&&n.fromPortId!==e||null!==i&&n.toPortId!==i)||!(n.fromNode!==t||n.toNode!==r||null!==i&&n.fromPortId!==i||null!==e&&n.toPortId!==e)},n},i.bz=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var n=new q(this.Wa),r=this;return n.predicate=function(n){return!(n.fromNode!==r||n.toNode!==t||null!==e&&n.fromPortId!==e||null!==i&&n.toPortId!==i)},n},mu.prototype.updateRelationshipsFromData=function(){var t=this.diagram;null!==t&&t.partManager.updateRelationshipsFromData(this)},(i=mu.prototype).gq=function(t){Xh.prototype.gq.call(this,t),t||(Cu(this),null!==(t=this.nl)&&Iu(t,this))},i.hq=function(t){Xh.prototype.hq.call(this,t),t||null!==(t=this.nl)&&null!==t.Zc&&(t.Zc.remove(this),t.o())},i.Zj=function(){if(0<this.Wa.count){var t=this.diagram;if(null!==t)for(var e=null===t.commandHandler||t.commandHandler.deletesConnectedLinks,i=this.Wa.copy().iterator;i.next();){var n=i.value;e?t.remove(n):(n.fromNode===this&&(n.fromNode=null),n.toNode===this&&(n.toNode=null))}}this.labeledLink=null,Xh.prototype.Zj.call(this)},i.Xs=function(t){if(null===this.rc){if(""===t&&!1===this.Dh)return this;wu(this)}var e=this.rc.H(t);return null!==e||""!==t&&null!==(e=this.rc.H(""))?e:this},i.Kz=function(t){if(null===t||t===this)return!1;var e=!0,i=this.diagram;if(null!==i&&(e=i.isTreePathToChildren),i=this,e)for(;i!==t;){e=null;for(var n=i.Wa.iterator;n.next();){var r=n.value;if(r.isTreeLink&&((e=r.fromNode)!==i&&e!==this))break}if(e===this||null===e||e===i)return!1;i=e}else for(;i!==t;){for(e=null,n=i.Wa.iterator;n.next()&&(!(r=n.value).isTreeLink||((e=r.toNode)===i||e===this)););if(e===this||null===e||e===i)return!1;i=e}return!0},i.mz=function(){var t=!0,e=this.diagram;if(null!==e&&(t=e.isTreePathToChildren),e=this,t)for(;;){t=null;for(var i=e.Wa.iterator;i.next();){var n=i.value;if(n.isTreeLink&&((t=n.fromNode)!==e&&t!==this))break}if(t===this)return this;if(null===t||t===e)return e;e=t}else for(;;){for(t=null,i=e.Wa.iterator;i.next()&&(!(n=i.value).isTreeLink||((t=n.toNode)===e||t===this)););if(t===this)return this;if(null===t||t===e)return e;e=t}},i.Yy=function(t){if(null===t)return null;if(this===t)return this;for(var e=this;null!==e;)uu(e,!0),e=e.yg();var i=null;for(e=t;null!==e;){if(0!=(1048576&e.D)){i=e;break}e=e.yg()}for(e=this;null!==e;)uu(e,!1),e=e.yg();return i},i.Pi=function(){var t=!0,e=this.diagram;if(null!==e&&(t=e.isTreePathToChildren),e=this.Wa.iterator,t){for(;e.next();)if((t=e.value).isTreeLink&&t.fromNode!==this)return t}else for(;e.next();)if((t=e.value).isTreeLink&&t.toNode!==this)return t;return null},i.yg=function(){var t=this.vh;if(null===t)return null;if(t instanceof mu)return t;var e=!0;if(null!==(t=this.diagram)&&(e=t.isTreePathToChildren),t=this.Wa.iterator,e){for(;t.next();)if((e=t.value).isTreeLink&&(e=e.fromNode)!==this)return this.vh=e}else for(;t.next();)if((e=t.value).isTreeLink&&(e=e.toNode)!==this)return this.vh=e;return this.vh=null},i.kz=function(){var t=new et;return function t(e,i){if(null!==e){i.add(e);var n=e.Pi();null!==n&&(i.add(n),t(e.yg(),i))}}(this,t),t},i.jz=function(){return function t(e,i){i=i.yg();return null===i?0:1+t(e,i)}(this,this)},i.bq=function(){var t=!0,e=this.diagram;null!==e&&(t=e.isTreePathToChildren);var i=this;return(e=new q(this.Wa)).predicate=t?function(t){return!(!t.isTreeLink||t.fromNode!==i)}:function(t){return!(!t.isTreeLink||t.toNode!==i)},e},i.iv=function(){var t=!0,e=this.diagram;null!==e&&(t=e.isTreePathToChildren);var i=e=null,n=this.Wa.iterator;if(t)for(;n.next();)(t=n.value).isTreeLink&&t.fromNode===this&&(t=t.toNode,null!==e?e.add(t):null!==i&&i!==t?((e=new Z).add(i),e.add(t)):i=t);else for(;n.next();)(t=n.value).isTreeLink&&t.toNode===this&&(t=t.fromNode,null!==e?e.add(t):null!==i&&i!==t?((e=new Z).add(i),e.add(t)):i=t);return null!==e?e.iterator:null!==i?new W(i):$},i.lz=function(t){void 0===t&&(t=1/0);var e=new et;return du(e,this,!1,t,!0),e},mu.prototype.collapseTree=function(t){void 0===t&&(t=1),1>t&&(t=1);var e=this.diagram;if(null!==e&&!e.ye){e.ye=!0;var i=new et;i.add(this),function t(e,i,n,r,o,s,a){if(1<r)for(var l=n?e.$p():e.td();l.next();){var h=l.value;h.isTreeLink&&(null===(h=h.at(e))||h===e||i.contains(h)||(i.add(h),t(h,i,n,r-1,o,s,a)))}else!function t(e,i,n,r,o,s){for(var a=o===e||e.isTreeExpanded,l=n?e.$p():e.td();l.next();){var h=l.value;if(h.isTreeLink&&(null!==(h=h.at(e))&&h!==e)){var u=i.contains(h);u||i.add(h),a&&(s&&r.Nj(h,o),h.Eh(),h.Nb(!1)),h.isTreeExpanded&&(h.wasTreeExpanded=h.isTreeExpanded,u||t(h,i,n,r,o,s))}}e.isTreeExpanded=!1}(e,i,n,o,s,a)}(this,i,e.isTreePathToChildren,t,e,this,e.treeCollapsePolicy===ys),e.ye=!1}},mu.prototype.expandTree=function(t){void 0===t&&(t=2),2>t&&(t=2);var e=this.diagram;if(null!==e&&!e.ye){e.ye=!0;var i=new et;i.add(this),function t(e,i,n,r,o,s,a){for(var l=s!==e&&e.isTreeExpanded,h=n?e.$p():e.td();h.next();){var u=h.value;u.isTreeLink&&(l||u.yc||u.Na(),null!==(u=u.at(e))&&u!==e&&!i.contains(u)&&(i.add(u),l||(u.Nb(!0),u.Eh(),a&&o.Pj(u,s)),2<r||u.wasTreeExpanded))&&(u.wasTreeExpanded=!1,t(u,i,n,r-1,o,s,a))}e.isTreeExpanded=!0}(this,i,e.isTreePathToChildren,t,e,this,e.treeCollapsePolicy===ys),e.ye=!1}},c.Object.defineProperties(mu.prototype,{portSpreading:{get:function(){return this.Uo},set:function(t){var e=this.Uo;e!==t&&(this.Uo=t,this.g("portSpreading",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.gd())}},avoidable:{get:function(){return 0!=(8&this.P)},set:function(t){var e=0!=(8&this.P);if(e!==t){this.P^=8;var i=this.diagram;null!==i&&Vo(i,this),this.g("avoidable",e,t)}}},avoidableMargin:{get:function(){return this.Dk},set:function(t){"number"==typeof t&&(t=new qt(t));var e=this.Dk;if(!e.A(t)){this.Dk=t=t.G();var i=this.diagram;null!==i&&Vo(i,this),this.g("avoidableMargin",e,t)}}},linksConnected:{get:function(){return this.Wa.iterator}},linkConnected:{get:function(){return this.eo},set:function(t){var e=this.eo;e!==t&&(this.eo=t,this.g("linkConnected",e,t))}},linkDisconnected:{get:function(){return this.fo},set:function(t){var e=this.fo;e!==t&&(this.fo=t,this.g("linkDisconnected",e,t))}},linkValidation:{get:function(){return this.ri},set:function(t){var e=this.ri;e!==t&&(this.ri=t,this.g("linkValidation",e,t))}},isLinkLabel:{get:function(){return null!==this.nl}},labeledLink:{get:function(){return this.nl},set:function(t){var e=this.nl;if(e!==t){var i=this.diagram,n=this.data;if(null!==e){if(null!==e.Zc&&(e.Zc.remove(this),e.o()),null!==i&&null!==n&&!i.undoManager.isUndoingRedoing){var r=e.data,o=i.model;if(null!==r&&o.jm()){var s=o.ja(n);void 0!==s&&o.Px(r,s)}}this.containingGroup=null}this.nl=t,null!==t&&(Iu(t,this),null===i||null===n||i.undoManager.isUndoingRedoing||(r=t.data,i=i.model,null!==r&&i.jm()&&(void 0!==(n=i.ja(n))&&i.Pu(r,n))),this.containingGroup=t.containingGroup),Ks(this),this.g("labeledLink",e,t)}}},port:{get:function(){return this.Xs("")}},ports:{get:function(){return null===this.rc&&wu(this),this.rc.iteratorValues}},isTreeExpanded:{get:function(){return 0!=(1&this.P)},set:function(t){var e=0!=(1&this.P);if(e!==t){this.P^=1;var i=this.diagram;if(this.g("isTreeExpanded",e,t),null!==(e=this.treeExpandedChanged)){var n=!0;null!==i&&(n=i.aa,i.aa=!0),e(this),null!==i&&(i.aa=n)}null!==i&&i.undoManager.isUndoingRedoing?this.Nb(t):t?this.expandTree():this.collapseTree()}}},wasTreeExpanded:{get:function(){return 0!=(2&this.P)},set:function(t){var e=0!=(2&this.P);e!==t&&(this.P^=2,this.g("wasTreeExpanded",e,t))}},treeExpandedChanged:{get:function(){return this.Lp},set:function(t){var e=this.Lp;e!==t&&(this.Lp=t,this.g("treeExpandedChanged",e,t))}},isTreeLeaf:{get:function(){return 0!=(4&this.P)},set:function(t){var e=0!=(4&this.P);e!==t&&(this.P^=4,this.g("isTreeLeaf",e,t))}}}),mu.prototype.expandTree=mu.prototype.expandTree,mu.prototype.collapseTree=mu.prototype.collapseTree,mu.prototype.findTreeParts=mu.prototype.lz,mu.prototype.findTreeChildrenNodes=mu.prototype.iv,mu.prototype.findTreeChildrenLinks=mu.prototype.bq,mu.prototype.findTreeLevel=mu.prototype.jz,mu.prototype.findTreeParentChain=mu.prototype.kz,mu.prototype.findTreeParentNode=mu.prototype.yg,mu.prototype.findTreeParentLink=mu.prototype.Pi,mu.prototype.findCommonTreeParent=mu.prototype.Yy,mu.prototype.findTreeRoot=mu.prototype.mz,mu.prototype.isInTreeOf=mu.prototype.Kz,mu.prototype.findPort=mu.prototype.Xs,mu.prototype.findLinksTo=mu.prototype.bz,mu.prototype.findLinksBetween=mu.prototype.az,mu.prototype.findNodesInto=mu.prototype.gv,mu.prototype.findNodesOutOf=mu.prototype.hv,mu.prototype.findNodesConnected=mu.prototype.fv,mu.prototype.findLinksInto=mu.prototype.td,mu.prototype.findLinksOutOf=mu.prototype.$p,mu.prototype.findLinksConnected=mu.prototype.ev,mu.prototype.invalidateConnectedLinks=mu.prototype.gd,mu.prototype.invalidateLinkBundle=mu.prototype.Iz;var Tu=new z(mu,"SpreadingNone",10),_u=new z(mu,"SpreadingEvenly",11),Mu=new z(mu,"SpreadingPacked",12);function ku(t){mu.call(this,t),this.P|=4608,this.po=new et,this.wl=new et,this.Ra=this.Dp=this.si=this.qo=this.oo=null,this.hc=new Dc,this.hc.group=this}function Bu(t,e){if(t.po.add(e)){e instanceof ku&&t.wl.add(e);var i=t.memberAdded;if(null!==i){var n=!0,r=t.diagram;null!==r&&(n=r.aa,r.aa=!0),i(t,e),null!==r&&(r.aa=n)}t.isVisible()&&t.isSubGraphExpanded||e.Nb(!1)}e instanceof Lu&&!t.computesBoundsIncludingLinks||(null===(e=t.Ra)&&(e=t),e.o())}function Ou(t,e){if(t.po.remove(e)){e instanceof ku&&t.wl.remove(e);var i=t.memberRemoved;if(null!==i){var n=!0,r=t.diagram;null!==r&&(n=r.aa,r.aa=!0),i(t,e),null!==r&&(r.aa=n)}t.isVisible()&&t.isSubGraphExpanded||e.Nb(!0)}e instanceof Lu&&!t.computesBoundsIncludingLinks||(null===(e=t.Ra)&&(e=t),e.o())}function Pu(){Rs.call(this),this.bb=De,this.kp=new Rt(NaN,NaN,NaN,NaN)}function Lu(){Xh.call(this,Al.Link),this.Pa=8,this.Le=null,this.Me="",this.gf=this.Fn=null,this.hf="",this.Kp=null,this.Pm=ic,this.kn=0,this.mn=ic,this.nn=NaN,this.Gj=Ju,this.yp=.5,this.Zc=null,this.xb=(new Z).freeze(),this.jh=this.gh=null,this.Cl=new Rt,this.oa=new Ke,this.Qn=!0,this.I=this.u=this.Gf=this.Pf=null,this.l=[],this.Hu=new dt,this.tr=this.Xw=this.Ww=null,this.cu=NaN,this.O=null}function Nu(t){var e=t.fromNode,i=t.toNode,n=null;if(e=n=null!==e?null!==i?e.xx(i):e.containingGroup:null!==i?i.containingGroup:null,(i=t.Yh)!==e){null!==i&&Ou(i,t),t.Yh=e,null!==e&&Bu(e,t);var r=t.containingGroupChanged;if(null!==r){var o=!0,s=t.diagram;null!==s&&(o=s.aa,s.aa=!0),r(t,i,e),null!==s&&(s.aa=o)}!t.yc||t.Ww!==i&&t.Xw!==i||t.Na()}if(t.isLabeledLink)for(t=t.labelNodes;t.next();)t.value.containingGroup=n}function Iu(t,e){null===t.Zc&&(t.Zc=new et),t.Zc.add(e),t.o()}function Du(t,e,i){if(0!==e||0!==i){for(var n=t.yc,r=new Z,o=t.xb.iterator;o.next();){var s=o.value;r.add(new dt(s.x+e,s.y+i).freeze())}r.freeze(),o=t.xb,t.xb=r,isNaN(e)||isNaN(i)||t.diagram.animationManager.ic?t.o():(t.Xf.h(t.Xf.x+e,t.Xf.y+i),t.la.h(t.la.x+e,t.la.y+i),Ks(t)),n&&Ru(t),null!==(e=t.diagram)&&e.animationManager.ic&&(t.jh=r),t.g("points",o,r)}}function Ru(t){0===t.xb.count?t.yc=!1:(t.yc=!0,t.tr=null,t.cu=NaN,t.defaultFromPoint=t.i(0),t.defaultToPoint=t.i(t.pointsCount-1),Xu(t,!1))}function Fu(t,e){return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?(e.x>=t.x?e.x=t.x+9e9:e.x=t.x-9e9,e.y=t.y):(e.y>=t.y?e.y=t.y+9e9:e.y=t.y-9e9,e.x=t.x),e}function Hu(t,e){var i=e.To;return null===i&&((i=new Oc).port=e,i.node=e.part,e.To=i),Lc(i,t)}function Uu(t){return t===te||.5===t.x&&.5===t.y}function Vu(t){if(null===t.diagram||!t.isAvoiding||!Fo(t.diagram))return!1;var e=t.points.j,i=e.length;if(4>i)return!1;t=Ho(t.diagram,!0,t.containingGroup,null);for(var n=1;n<i-2;n++){var r=e[n],o=e[n+1];if(!t.gk(Math.min(r.x,o.x),Math.min(r.y,o.y),Math.abs(r.x-o.x),Math.abs(r.y-o.y)))return!0}return!1}function ju(t,e,i,n){return t=i-t,isNaN(t)||1/0===t||-1/0===t?NaN:(0>t&&(t=-t),e=n-e,isNaN(e)||1/0===e||-1/0===e?NaN:(0>e&&(e=-e),Ye.Z(t,0)?e:Ye.Z(e,0)?t:Math.sqrt(t*t+e*e)))}function Gu(t,e,i,n){var r=t.pointsCount;if(2>r)return e;if(i){var o=t.i(1);if(i=o.x-n.x,o=o.y-n.y,0===(n=ju(e.x,e.y,i,o)))return e;r=2===r?.5*n:n,(t=t.computeShortLength(!0))>r&&(t=r),r=t*(o-e.y)/n,e.x+=t*(i-e.x)/n,e.y+=r}else{if(i=(o=t.i(r-2)).x-n.x,o=o.y-n.y,0===(n=ju(e.x,e.y,i,o)))return e;r=2===r?.5*n:n,(t=t.computeShortLength(!1))>r&&(t=r),r=t*(e.y-o)/n,e.x-=t*(e.x-i)/n,e.y-=r}return e}function zu(t,e,i,n){for(var r=t.pointsCount,o=e;Ye.Z(e.x,o.x)&&Ye.Z(e.y,o.y);){if(i>=r)return r-1;o=t.i(i++)}if(!Ye.Z(e.x,o.x)&&!Ye.Z(e.y,o.y))return i-1;for(var s=o;Ye.Z(e.x,o.x)&&Ye.Z(o.x,s.x)&&(!n||(e.y>=o.y?o.y>=s.y:o.y<=s.y))||Ye.Z(e.y,o.y)&&Ye.Z(o.y,s.y)&&(!n||(e.x>=o.x?o.x>=s.x:o.x<=s.x));){if(i>=r)return r-1;s=t.i(i++)}return i-2}function Qu(t,e,i,n,r,o,s){if(!s&&Ku(t)){s=[];var a=0;if(t.isVisible()&&(a=function(t,e,i,n){var r=t.diagram;if(null===r||e.A(i))return 0;for(r=r.layers;r.next();){var o=r.value;if(null!==o&&o.visible)for(var s=(o=o.Ca.j).length,a=0;a<s;a++){var l=o[a];if(l instanceof Lu){if(l===t)return 0<n.length&&n.sort(function(t,e){return t-e}),n.length;if(l.isVisible()&&Ku(l)){var h=l.routeBounds;h.v()&&t.routeBounds.Gc(h)&&!t.usesSamePort(l)&&(null!==(h=l.path)&&h.vf()&&Yu(e,i,n,l))}}}}return 0<n.length&&n.sort(function(t,e){return t-e}),n.length}(t,r,o,s)),0<a)if(Ye.w(r.y,o.y))if(r.x<o.x)for(var l=0;l<a;){var h=Math.max(r.x,Math.min(s[l++]-5,o.x-10));e.lineTo(h+i,o.y+n);for(var u=h+i,c=Math.min(h+10,o.x);l<a&&(h=s[l])<c+10;)l++,c=Math.min(h+5,o.x);h=o.y-10+n,c+=i;var d=o.y+n;t.curve===rc?Uh(e,c,d,!1):jh(e,u,h,c,h,c,d)}else for(--a;0<=a;){for(l=Math.min(r.x,Math.max(s[a--]+5,o.x+10)),e.lineTo(l+i,o.y+n),u=l+i,h=Math.max(l-10,o.x);0<=a&&(l=s[a])>h-10;)a--,h=Math.max(l-5,o.x);l=o.y-10+n,h+=i,c=o.y+n,t.curve===rc?Uh(e,h,c,!1):jh(e,u,l,h,l,h,c)}else if(Ye.w(r.x,o.x))if(r.y<o.y)for(l=0;l<a;){for(h=Math.max(r.y,Math.min(s[l++]-5,o.y-10)),e.lineTo(o.x+i,h+n),u=h+n,h=Math.min(h+10,o.y);l<a&&(c=s[l])<h+10;)l++,h=Math.min(c+5,o.y);c=o.x-10+i,d=o.x+i,h+=n,t.curve===rc?Uh(e,d,h,!1):jh(e,c,u,c,h,d,h)}else for(--a;0<=a;){for(l=Math.min(r.y,Math.max(s[a--]+5,o.y+10)),e.lineTo(o.x+i,l+n),u=l+n,l=Math.max(l-10,o.y);0<=a&&(h=s[a])>l-10;)a--,l=Math.max(h-5,o.y);h=o.x-10+i,c=o.x+i,l+=n,t.curve===rc?Uh(e,c,l,!1):jh(e,h,u,h,l,c,l)}}e.lineTo(o.x+i,o.y+n)}function Yu(t,e,i,n){for(var r=Ye.w(t.y,e.y),o=n.pointsCount,s=n.i(0),a=dt.alloc(),l=1;l<o;l++){var h=n.i(l);if(l<o-1){var u=n.i(l+1);if(s.y===h.y&&h.y===u.y){if(h.x>s.x&&u.x>=h.x||h.x<s.x&&u.x<=h.x)continue}else if(s.x===h.x&&h.x===u.x&&(h.y>s.y&&u.y>=h.y||h.y<s.y&&u.y<=h.y))continue}t:{u=t.x;var c=t.y,d=e.x,p=e.y,f=s.x;s=s.y;var m=h.x,g=h.y;if(Ye.w(u,d)){if(!Ye.w(c,p)&&Ye.w(s,g)&&Math.min(c,p)<s&&Math.max(c,p)>s&&Math.min(f,m)<u&&Math.max(f,m)>u&&!Ye.w(f,m)){a.x=u,a.y=s,u=!0;break t}}else if(Ye.w(c,p)&&Ye.w(f,m)&&Math.min(u,d)<f&&Math.max(u,d)>f&&Math.min(s,g)<c&&Math.max(s,g)>c&&!Ye.w(s,g)){a.x=f,a.y=c,u=!0;break t}a.x=0,a.y=0,u=!1}u&&(r?i.push(a.x):i.push(a.y)),s=h}dt.free(a)}function Ku(t){return(t=t.curve)===oc||t===rc}function Xu(t,e){(e||Ku(t))&&(null===(e=t.diagram)||e.animationManager.isTicking||e.di.contains(t)||0===t.Cl.width&&0===t.Cl.height||e.di.add(t,t.Cl.copy()))}function $u(t,e,i){if(null!==e&&null!==e.oa&&Ku(e)){var n=e.routeBounds;n.v()&&(t.routeBounds.Gc(n)||i.Gc(n))&&(t.usesSamePort(e)||e.bc())}}function Wu(t){var e=t.Le;if(null!==e){var i=t.gf;if(null!==i){for(var n=t.Me,r=t.hf,o=t=null,s=e.Wa.j,a=s.length,l=0;l<a;l++){var h=s[l];(h.Le===e&&h.Me===n&&h.gf===i&&h.hf===r||h.Le===i&&h.Me===r&&h.gf===e&&h.hf===n)&&(null===o?o=h:(null===t&&(t=[]).push(o),t.push(h)))}if(null!==t){for(null===(o=vu(e,i,n,r))&&(gu(e,o=new vc(e,n,i,r)),gu(i,o)),o.links=t,e=0;e<t.length;e++)t[e].Gf=o;o.hm()}}}}function qu(t){var e=t.Gf;null!==e&&(t.Gf=null,0<=(t=e.links.indexOf(t))&&(_(e.links,t),e.hm()))}mu.className="Node",mu.SpreadingNone=Tu,mu.SpreadingEvenly=_u,mu.SpreadingPacked=Mu,u(ku,mu),ku.prototype.cloneProtected=function(t){mu.prototype.cloneProtected.call(this,t),this.P=-32769&this.P,t.oo=this.oo,t.qo=this.qo,t.si=this.si,t.Dp=this.Dp;var e=t.cm(function(t){return t instanceof Pu});t.Ra=e instanceof Pu?e:null,null!==this.hc?(t.hc=this.hc.copy(),t.hc.group=t):(null!==t.hc&&(t.hc.group=null),t.hc=null)},(i=ku.prototype).pf=function(t){mu.prototype.pf.call(this,t);var e=t.bk();for(t=t.memberParts;t.next();){var i=t.value;if(i.o(),i.C(8),i.Tj(),i instanceof mu)i.gd(e);else if(i instanceof Lu)for(i=i.labelNodes;i.next();)i.value.gd(e)}},i.qk=function(t,e,i,n,r,o,s){if(t===Ci&&"elements"===e){if(r instanceof Pu)null===this.Ra?this.Ra=r:this.Ra!==r&&A("Cannot insert a second Placeholder into the visual tree of a Group.");else if(r instanceof Al){var a=r.cm(function(t){return t instanceof Pu});a instanceof Pu&&(null===this.Ra?this.Ra=a:this.Ra!==a&&A("Cannot insert a second Placeholder into the visual tree of a Group."))}}else t===wi&&"elements"===e&&null!==this.Ra&&(n===this.Ra?this.Ra=null:n instanceof Al&&this.Ra.Ag(n)&&(this.Ra=null));mu.prototype.qk.call(this,t,e,i,n,r,o,s)},i.Ah=function(t,e,i,n){this.Ue=this.Ra,mu.prototype.Ah.call(this,t,e,i,n)},i.zb=function(){this.memberParts.each(function(t){t.zb()}),mu.prototype.zb.call(this)},i.Wi=function(){if(!mu.prototype.Wi.call(this))return!1;for(var t=this.memberParts;t.next();){var e=t.value;if(e instanceof mu){if(e.isVisible()&&ra(e))return!1}else if(e instanceof Lu&&e.isVisible()&&ra(e)&&e.fromNode!==this&&e.toNode!==this)return!1}return!0},i.Zj=function(){if(0<this.po.count){var t=this.diagram;if(null!==t)for(var e=this.po.copy().iterator;e.next();)t.remove(e.value)}mu.prototype.Zj.call(this)},ku.prototype.canAddMembers=function(t){var e=this.diagram;if(null===e)return!1;for(e=e.commandHandler,t=Ds(t).iterator;t.next();)if(!e.isValidMember(this,t.value))return!1;return!0},ku.prototype.addMembers=function(t,e){var i=this.diagram;if(null===i)return!1;i=i.commandHandler;var n=!0;for(t=Ds(t).iterator;t.next();){var r=t.value;!e||i.isValidMember(this,r)?r.containingGroup=this:n=!1}return n},ku.prototype.canUngroup=function(){if(!this.ungroupable)return!1;var t=this.layer;return!(null!==t&&!t.allowUngroup)&&!(null!==(t=t.diagram)&&!t.allowUngroup)},(i=ku.prototype).gd=function(t){void 0===t&&(t=null);var e=0!=(65536&this.P);if(mu.prototype.gd.call(this,t),!e)for(0!=(65536&this.P)!=!0&&(this.P=65536^this.P),e=this.dv();e.next();){var i=e.value;if(null===t||!t.contains(i)){var n=i.fromNode;null!==n&&n!==this&&n.Ud(this)&&!n.isVisible()?(yu(n,i.fromPort),yu(n,i.toPort),i.Na()):null!==(n=i.toNode)&&n!==this&&n.Ud(this)&&!n.isVisible()&&(yu(n,i.fromPort),yu(n,i.toPort),i.Na())}}},i.dv=function(){var t=this.bk();t.add(this);for(var e=new et,i=t.iterator;i.next();){var n=i.value;if(n instanceof mu)for(n=n.linksConnected;n.next();){var r=n.value;t.contains(r)||e.add(r)}}return e.iterator},i.$y=function(){var t=this.bk();t.add(this);for(var e=new et,i=t.iterator;i.next();){var n=i.value;if(n instanceof mu)for(n=n.linksConnected;n.next();){var r=n.value,o=r.fromNode;t.contains(o)&&o!==this||e.add(o),r=r.toNode,t.contains(r)&&r!==this||e.add(r)}}return e.iterator},i.Zy=function(){var t=new et;return function t(e,i){null!==e&&(i.add(e),t(e.containingGroup,i))}(this,t),t},i.bk=function(){var t=new et;return du(t,this,!0,0,!0),t.remove(this),t},i.Nb=function(t){mu.prototype.Nb.call(this,t);for(var e=this.memberParts;e.next();)e.value.Nb(t)},ku.prototype.collapseSubGraph=function(){var t=this.diagram;null===t||t.ye||(t.ye=!0,function t(e,i,n,r){for(var o=e.memberParts;o.next();){var s=o.value;if(s.Nb(!1),s instanceof ku&&s.isSubGraphExpanded&&(s.wasSubGraphExpanded=s.isSubGraphExpanded,t(s,i,n,r)),s instanceof mu)s.gd(i),n.Nj(s,r);else if(s instanceof Lu)for(s=s.labelNodes;s.next();)s.value.gd(i)}e.isSubGraphExpanded=!1}(this,this.bk(),t,this),t.ye=!1)},ku.prototype.expandSubGraph=function(){var t=this.diagram;null===t||t.ye||(t.ye=!0,function t(e,i,n,r){for(var o=e.memberParts;o.next();){var s=o.value;if(s.Nb(!0),s instanceof ku&&s.wasSubGraphExpanded&&(s.wasSubGraphExpanded=!1,t(s,i,n,r)),s instanceof mu)s.gd(i),n.Pj(s,r);else if(s instanceof Lu)for(s=s.labelNodes;s.next();)s.value.gd(i)}e.isSubGraphExpanded=!0}(this,this.bk(),t,this),t.ye=!1)},ku.prototype.move=function(t,e){void 0===e&&(e=!1);var i=e?this.location:this.position,n=i.x;i=i.y;var r=t.x,o=t.y;if(!(n===r||isNaN(n)&&isNaN(r))||!(i===o||isNaN(i)&&isNaN(o))){for(n=r-(isNaN(n)?0:n),i=o-(isNaN(i)?0:i),o=dt.alloc(),mu.prototype.move.call(this,t,e),t=new et,e=this.bk().iterator;e.next();)(r=e.value)instanceof Lu&&(r.suspendsRouting&&t.add(r),r.yc||r.fromNode!==this&&r.toNode!==this)&&(r.suspendsRouting=!0);for(e.reset();e.next();)if(!((r=e.value).Fh()||r instanceof mu&&r.isLinkLabel)){var s=r.position,a=r.location;s.v()?(o.x=s.x+n,o.y=s.y+i,r.position=o):a.v()&&(o.x=a.x+n,o.y=a.y+i,r.location=o)}for(e.reset();e.next();)(r=e.value)instanceof Lu&&(r.suspendsRouting=t.contains(r),r.yc||r.fromNode!==this&&r.toNode!==this)&&(s=r.position,o.x=s.x+n,o.y=s.y+i,o.v()?r.move(o):r.Na(),Vu(r)&&r.Na());dt.free(o)}},c.Object.defineProperties(ku.prototype,{placeholder:{get:function(){return this.Ra}},computesBoundsAfterDrag:{get:function(){return 0!=(2048&this.P)},set:function(t){var e=0!=(2048&this.P);e!==t&&(this.P^=2048,this.g("computesBoundsAfterDrag",e,t))}},computesBoundsIncludingLinks:{get:function(){return 0!=(4096&this.P)},set:function(t){var e=0!=(4096&this.P);e!==t&&(this.P^=4096,this.g("computesBoundsIncludingLinks",e,t))}},computesBoundsIncludingLocation:{get:function(){return 0!=(8192&this.P)},set:function(t){var e=0!=(8192&this.P);e!==t&&(this.P^=8192,this.g("computesBoundsIncludingLocation",e,t))}},handlesDragDropForMembers:{get:function(){return 0!=(16384&this.P)},set:function(t){var e=0!=(16384&this.P);e!==t&&(this.P^=16384,this.g("handlesDragDropForMembers",e,t))}},memberParts:{get:function(){return this.po.iterator}},layout:{get:function(){return this.hc},set:function(t){var e=this.hc;if(e!==t){null!==e&&(e.diagram=null,e.group=null),this.hc=t;var i=this.diagram;null!==t&&(t.diagram=i,t.group=this),null!==i&&(i.Ig=!0),this.g("layout",e,t),null!==i&&i.Xb()}}},memberAdded:{get:function(){return this.oo},set:function(t){var e=this.oo;e!==t&&(this.oo=t,this.g("memberAdded",e,t))}},memberRemoved:{get:function(){return this.qo},set:function(t){var e=this.qo;e!==t&&(this.qo=t,this.g("memberRemoved",e,t))}},memberValidation:{get:function(){return this.si},set:function(t){var e=this.si;e!==t&&(this.si=t,this.g("memberValidation",e,t))}},ungroupable:{get:function(){return 0!=(256&this.P)},set:function(t){var e=0!=(256&this.P);e!==t&&(this.P^=256,this.g("ungroupable",e,t))}},isSubGraphExpanded:{get:function(){return 0!=(512&this.P)},set:function(t){var e=0!=(512&this.P);if(e!==t){this.P^=512;var i=this.diagram;if(this.g("isSubGraphExpanded",e,t),null!==(e=this.subGraphExpandedChanged)){var n=!0;null!==i&&(n=i.aa,i.aa=!0),e(this),null!==i&&(i.aa=n)}null!==i&&i.undoManager.isUndoingRedoing?(null!==this.Ra&&this.Ra.o(),this.memberParts.each(function(t){t.updateAdornments()})):t?this.expandSubGraph():this.collapseSubGraph()}}},wasSubGraphExpanded:{get:function(){return 0!=(1024&this.P)},set:function(t){var e=0!=(1024&this.P);e!==t&&(this.P^=1024,this.g("wasSubGraphExpanded",e,t))}},subGraphExpandedChanged:{get:function(){return this.Dp},set:function(t){var e=this.Dp;e!==t&&(this.Dp=t,this.g("subGraphExpandedChanged",e,t))}},pk:{get:function(){return 0!=(32768&this.P)},set:function(t){0!=(32768&this.P)!==t&&(this.P^=32768)}}}),ku.prototype.expandSubGraph=ku.prototype.expandSubGraph,ku.prototype.collapseSubGraph=ku.prototype.collapseSubGraph,ku.prototype.findSubGraphParts=ku.prototype.bk,ku.prototype.findContainingGroupChain=ku.prototype.Zy,ku.prototype.findExternalNodesConnected=ku.prototype.$y,ku.prototype.findExternalLinksConnected=ku.prototype.dv,ku.prototype.ensureBounds=ku.prototype.zb,ku.className="Group",u(Pu,Rs),Pu.prototype.cloneProtected=function(t){Rs.prototype.cloneProtected.call(this,t),t.bb=this.bb.G(),t.kp=this.kp.copy()},Pu.prototype.Ch=function(t){if(null===this.background&&null===this.areaBackground)return!1;var e=this.naturalBounds;return Yt(0,0,e.width,e.height,t.x,t.y)},Pu.prototype.mm=function(){var t=this.part;if(null!==t&&(t instanceof ku||t instanceof fu)||A("Placeholder is not inside a Group or Adornment."),t instanceof ku){var e=this.computeBorder(this.kp),i=this.minSize,n=this.pc;for(Ft(n,(isFinite(i.width)?Math.max(i.width,e.width):e.width)||0,(isFinite(i.height)?Math.max(i.height,e.height):e.height)||0),Us(this,0,0,n.width,n.height),n=t.memberParts,i=!1;n.next();)if(n.value.isVisible()){i=!0;break}n=t.diagram,!i||null===n||n.animationManager.sv(t)||isNaN(e.x)||isNaN(e.y)||((i=dt.alloc()).Zi(e,t.locationSpot),i.A(t.location)||(t.location=new dt(i.x,i.y)),dt.free(i))}else{e=this.pc,n=(i=this.bb).left+i.right;var r=i.top+i.bottom,o=t.adornedObject;t.angle=o.Ri();var s=0;o instanceof Ql&&(s=o.strokeWidth);var a=o.qf(),l=o.naturalBounds,h=(l.width+s)*a;s=(l.height+s)*a,t.type!==Al.Link&&(o=o.ga("Selection"===t.category?ee:t.locationSpot,dt.alloc()),t.location=o,dt.free(o)),isNaN(h)||isNaN(s)?(h=(t=t.adornedObject).ga(ee,dt.alloc()),(o=Rt.allocAt(h.x,h.y,0,0)).Ce(t.ga(he,h)),o.Ce(t.ga(ne,h)),o.Ce(t.ga(ae,h)),Ft(e,o.width+n||0,o.height+r||0),Us(this,-i.left,-i.top,e.width,e.height),dt.free(h),Rt.free(o)):(Ft(e,h+n||0,s+r||0),Us(this,-i.left,-i.top,e.width,e.height))}},Pu.prototype.Ah=function(t,e,i,n){this.actualBounds.h(t,e,i,n)},Pu.prototype.computeBorder=function(t){var e=this.part,i=e.diagram;if(null!==i&&e instanceof ku&&!e.layer.isTemporary&&e.computesBoundsAfterDrag&&this.kp.v()){var n=i.toolManager.findTool("Dragging");if(n===i.currentTool&&null!==(i=n.computeBorder(e,this.kp,t)))return i}i=Rt.alloc(),n=this.computeMemberBounds(i);var r=this.bb;return e instanceof ku&&!e.isSubGraphExpanded?t.h(n.x-r.left,n.y-r.top,0,0):t.h(n.x-r.left,n.y-r.top,Math.max(n.width+r.left+r.right,0),Math.max(n.height+r.top+r.bottom,0)),Rt.free(i),e instanceof ku&&e.computesBoundsIncludingLocation&&e.location.v()&&t.Ce(e.location),t},Pu.prototype.computeMemberBounds=function(t){if(!(this.part instanceof ku))return t.h(0,0,0,0),t;for(var e=this.part,i=1/0,n=1/0,r=-1/0,o=-1/0,s=e.memberParts;s.next();){var a=s.value;if(a.isVisible()){if(a instanceof Lu){if(!e.computesBoundsIncludingLinks)continue;if(ia(a))continue;if(a.fromNode===e||a.toNode===e)continue}(a=a.actualBounds).left<i&&(i=a.left),a.top<n&&(n=a.top),a.right>r&&(r=a.right),a.bottom>o&&(o=a.bottom)}}return isFinite(i)&&isFinite(n)?t.h(i,n,r-i,o-n):(e=e.location,t.h(e.x,e.y,0,0)),t},c.Object.defineProperties(Pu.prototype,{padding:{get:function(){return this.bb},set:function(t){"number"==typeof t&&(t=new qt(t));var e=this.bb;e.A(t)||(this.bb=t=t.G(),this.g("padding",e,t))}}}),Pu.className="Placeholder",u(Lu,Xh),Lu.prototype.cloneProtected=function(t){Xh.prototype.cloneProtected.call(this,t),t.Pa=-113&this.Pa,t.Me=this.Me,t.Fn=this.Fn,t.hf=this.hf,t.Kp=this.Kp,t.Pm=this.Pm,t.kn=this.kn,t.mn=this.mn,t.nn=this.nn,t.Gj=this.Gj,t.yp=this.yp,null!==this.O&&(t.O=this.O.copy())},(i=Lu.prototype).pf=function(t){Xh.prototype.pf.call(this,t),this.Me=t.Me,this.hf=t.hf,t.gh=null,t.Na(),t.Gf=this.Gf;var e=t.fromPort;null!==e&&yu(t.fromNode,e),null!==(e=t.toPort)&&yu(t.toNode,e)},i.cb=function(t){t.classType===Lu?2==(2&t.value)?this.routing=t:t===nc||t===rc||t===oc?this.curve=t:t===sc||t===ac||t===lc?this.adjusting=t:t!==Ju&&t!==ic&&A("Unknown Link enum value for a Link property: "+t):Xh.prototype.cb.call(this,t)},i.Ec=function(){null===this.O&&(this.O=new Ic)},i.Wi=function(){var t=this.fromNode;if(null!==t){var e=t.findVisibleNode();if(null!==e&&(t=e),ra(t)||su(t))return!1}return null===(t=this.toNode)||(null!==(e=t.findVisibleNode())&&(t=e),!ra(t)&&!su(t))},i.Sv=function(){return!1},i.Tv=function(){},i.Ub=function(){return!1},Lu.prototype.computeAngle=function(t,e,i){return Lu.computeAngle(e,i)},Lu.computeAngle=function(t,e){switch(t){default:case ic:t=0;break;case hc:t=e;break;case uc:t=e+90;break;case cc:t=e-90;break;case dc:t=e+180;break;case pc:90<(t=Ye.oq(e))&&270>t&&(t-=180);break;case fc:90<(t=Ye.oq(e+90))&&270>t&&(t-=180);break;case mc:90<(t=Ye.oq(e-90))&&270>t&&(t-=180);break;case gc:if(45<(t=Ye.oq(e))&&135>t||225<t&&315>t)return 0;90<t&&270>t&&(t-=180)}return Ye.oq(t)},(i=Lu.prototype).Eh=function(){var t=this.containingGroup;null!==t&&this.fromNode!==t&&this.toNode!==t&&t.computesBoundsIncludingLinks&&Xh.prototype.Eh.call(this)},i.at=function(t){var e=this.fromNode;return t===e?this.toNode:e},i.uz=function(t){var e=this.fromPort;return t===e?this.toPort:e},i.gq=function(t){if(Xh.prototype.gq.call(this,t),Ku(this)&&this.iq(this.actualBounds),!t){var e=null;null!==(t=this.Le)&&xu(t,this,e=this.fromPort);var i=this.gf;if(null!==i){var n=this.toPort;i===t&&n===e||xu(i,this,n)}Wu(this)}},i.hq=function(t){if(Xh.prototype.hq.call(this,t),Ku(this)&&this.iq(this.actualBounds),!t){var e=null;null!==(t=this.Le)&&bu(t,this,e=this.fromPort);var i=this.gf;if(null!==i){var n=this.toPort;i===t&&n===e||bu(i,this,n)}qu(this)}},i.Zj=function(){if(this.yc=!0,null!==this.Zc){var t=this.diagram;if(null!==t)for(var e=this.Zc.copy().iterator;e.next();)t.remove(e.value)}null!==this.data&&(null!==(t=this.diagram)&&t.partManager.removeDataForLink(this))},Lu.prototype.updateRelationshipsFromData=function(){if(null!==this.data){var t=this.diagram;null!==t&&t.partManager.updateRelationshipsFromData(this)}},Lu.prototype.move=function(t,e){var i=e?this.location:this.position,n=i.x;isNaN(n)&&(n=0);var r=i.y;for(isNaN(r)&&(r=0),n=t.x-n,r=t.y-r,!0===e?Xh.prototype.move.call(this,t,!1):(t=dt.allocAt(i.x+n,i.y+r),Xh.prototype.move.call(this,t,!1),dt.free(t)),Du(this,n,r),t=this.labelNodes;t.next();)i=(e=t.value).position,e.moveTo(i.x+n,i.y+r)},Lu.prototype.canRelinkFrom=function(){if(!this.relinkableFrom)return!1;var t=this.layer;return null===t||!!t.allowRelink&&!(null!==(t=t.diagram)&&!t.allowRelink)},Lu.prototype.canRelinkTo=function(){if(!this.relinkableTo)return!1;var t=this.layer;return null===t||!!t.allowRelink&&!(null!==(t=t.diagram)&&!t.allowRelink)},Lu.prototype.computeMidPoint=function(t){var e=this.pointsCount;if(0===e)return t.assign(Ot),t;if(1===e)return t.assign(this.i(0)),t;if(2===e){var i=this.i(0),n=this.i(1);return t.h((i.x+n.x)/2,(i.y+n.y)/2),t}if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===nc))return this.oa.lv(.5,t),t.add(this.i(0)),i=this.oa.figures.first(),t.offset(-i.startX,-i.startY),t;if(this.computeCurve()===nc){if(3===e)return this.i(1);if(i=3*((n=(e-1)/3|0)/2|0),1==n%2){n=this.i(i);var r=this.i(i+1),o=this.i(i+2);i=this.i(i+3),Ye.Fy(n.x,n.y,r.x,r.y,o.x,o.y,i.x,i.y,t)}else t.assign(this.i(i));return t}var s=this.flattenedLengths;for(i=this.flattenedTotalLength,r=o=n=0;n<i/2&&o<e&&!(n+(r=s[o])>i/2);)n+=r,o++;return e=this.i(o),o=this.i(o+1),1>Math.abs(e.x-o.x)?e.y>o.y?t.h(e.x,e.y-(i/2-n)):t.h(e.x,e.y+(i/2-n)):1>Math.abs(e.y-o.y)?e.x>o.x?t.h(e.x-(i/2-n),e.y):t.h(e.x+(i/2-n),e.y):(i=(i/2-n)/r,t.h(e.x+i*(o.x-e.x),e.y+i*(o.y-e.y))),t},Lu.prototype.computeMidAngle=function(){var t=this.pointsCount;if(2>t)return NaN;if(2===t)return this.i(0).Sa(this.i(1));if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===nc)){t:{t=this.oa;var e=.5;if(0>e?e=0:1<e&&(e=1),t.type===ni)t=180*Math.atan2(t.endY-t.startY,t.endX-t.startX)/Math.PI;else{var i=t.flattenedSegments,n=t.flattenedLengths,r=i.length;e=t.flattenedTotalLength*e;for(var o=0,s=0;s<r;s++){var a=n[s],l=a.length;for(t=0;t<l;t++){var h=a[t];if(o+h>=e){i=(e=i[s])[2*t],n=e[2*t+1],r=e[2*t+2],t=e[2*t+3],t=1>Math.abs(r-i)&&1>Math.abs(t-n)?0:1>Math.abs(r-i)?0<=t-n?90:270:1>Math.abs(t-n)?0<=r-i?0:180:180*Math.atan2(t-n,r-i)/Math.PI;break t}o+=h}}t=NaN}}return t}if(this.computeCurve()===nc&&4<=t){if(i=3*((n=(t-1)/3|0)/2|0),1==n%2)return i=Math.floor(i),t=this.i(i),n=this.i(i+1),r=this.i(i+2),i=this.i(i+3),Ye.Ey(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y);if(0<i&&i+1<t)return this.i(i-1).Sa(this.i(i+1))}for(n=this.flattenedLengths,r=this.flattenedTotalLength,i=e=0;e<r/2&&i<t&&!(e+(o=n[i])>r/2);)e+=o,i++;if(n=this.i(i),r=this.i(i+1),1>Math.abs(n.x-r.x)&&1>Math.abs(n.y-r.y)){if(0<i&&i+2<t)return this.i(i-1).Sa(this.i(i+2))}else{if(1>Math.abs(n.x-r.x))return n.y>r.y?270:90;if(1>Math.abs(n.y-r.y))return n.x>r.x?180:0}return n.Sa(r)},(i=Lu.prototype).i=function(t){return this.xb.j[t]},i.jd=function(t,e){this.xb.hd(t,e)},i.K=function(t,e,i){this.xb.hd(t,new dt(e,i))},i.Gz=function(t,e){this.xb.Kb(t,e)},i.m=function(t,e,i){this.xb.Kb(t,new dt(e,i))},i.ue=function(t){this.xb.add(t)},i.lf=function(t,e){this.xb.add(new dt(t,e))},i.Iv=function(t){this.xb.jb(t)},i.Uj=function(){this.xb.clear()},i.Hh=function(){null===this.gh&&(this.gh=this.xb,this.xb=this.xb.copy())},i.mf=function(){if(null!==this.gh){for(var t=this.gh,e=this.xb,i=1/0,n=1/0,r=t.j,o=r.length,s=0;s<o;s++){var a=r[s];i=Math.min(a.x,i),n=Math.min(a.y,n)}a=s=1/0;for(var l=e.j,h=l.length,u=0;u<h;u++){var c=l[u];s=Math.min(c.x,s),a=Math.min(c.y,a),c.freeze()}if(e.freeze(),h===o){for(o=0;o<h;o++)if(u=r[o],c=l[o],u.x-i!=c.x-s||u.y-n!=c.y-a){this.o(),this.bc();break}}else this.o(),this.bc();this.gh=null,null!==(i=this.diagram)&&i.animationManager.ic&&(this.jh=e),Ru(this),this.g("points",t,e)}},i.Rx=function(){null!==this.gh&&(this.xb=this.gh,this.gh=null)},i.Na=function(){if(!this.suspendsRouting){var t=this.diagram;if(t){if(t.kt.contains(this)||t.undoManager.isUndoingRedoing)return;if((t=t.animationManager).isTicking&&!t.isAnimating)return;null!==this.jh&&!t.isTicking&&t.isAnimating&&(this.jh=null)}null!==(t=this.path)&&(this.yc=!1,this.o(),t.o())}},i.cj=function(){if(!this.yc&&!this.Xu){var t=!0;try{this.Xu=!0,this.Hh(),t=this.computePoints()}finally{this.Xu=!1,t?this.mf():this.Rx()}}},Lu.prototype.computePoints=function(){var t=this.diagram;if(null===t)return!1;var e=this.fromNode,i=null;if(null===e?(t.xi||(t.ep=new Ql,t.ep.desiredSize=xt,t.ep.strokeWidth=0,t.xi=new mu,t.xi.add(t.ep),t.xi.zb()),this.defaultFromPoint&&(t.xi.position=t.xi.location=this.defaultFromPoint,t.xi.zb(),e=t.xi,i=t.ep)):i=this.fromPort,null!==i&&!e.isVisible()){var n=e.findVisibleNode();null!==n&&n!==e?(e=n,i=n.port):e=n}if(this.Ww=e,null===e||!e.location.v())return!1;for(;!(null===i||i.actualBounds.v()&&i.vf());)i=i.panel;if(null===i)return!1;var r=this.toNode,o=null;if(null===r?(t.yi||(t.fp=new Ql,t.fp.desiredSize=xt,t.fp.strokeWidth=0,t.yi=new mu,t.yi.add(t.fp),t.yi.zb()),this.defaultToPoint&&(t.yi.position=t.yi.location=this.defaultToPoint,t.yi.zb(),r=t.yi,o=t.fp)):o=this.toPort,null===o||r.isVisible()||(null!==(t=r.findVisibleNode())&&t!==r?(r=t,o=t.port):r=t),this.Xw=r,null===r||!r.location.v())return!1;for(;!(null===o||o.actualBounds.v()&&o.vf());)o=o.panel;if(null===o)return!1;var s=this.pointsCount;n=this.computeSpot(!0,i),t=this.computeSpot(!1,o);var a=Uu(n),l=Uu(t),h=i===o&&null!==i,u=this.isOrthogonal,c=this.curve===nc;this.Pf=!(!h||u)&&(c=!0);var d=this.adjusting===ic||h;if(!u&&!h&&a&&l){if(a=!1,!d&&3<=s&&(d=this.getLinkPoint(e,i,n,!0,!1,r,o),l=this.getLinkPoint(r,o,t,!1,!1,e,i),a=this.adjustPoints(0,d,s-1,l))&&(d=this.getLinkPoint(e,i,n,!0,!1,r,o),l=this.getLinkPoint(r,o,t,!1,!1,e,i),this.adjustPoints(0,d,s-1,l)),!a)if(this.Uj(),c){s=this.getLinkPoint(e,i,n,!0,!1,r,o),a=(d=this.getLinkPoint(r,o,t,!1,!1,e,i)).x-s.x,l=d.y-s.y,h=this.computeCurviness(),c=u=0;var p=s.x+a/3,f=s.y+l/3,m=p,g=f;Ye.w(l,0)?g=0<a?g-h:g+h:(u=-a/l,c=Math.sqrt(h*h/(u*u+1)),0>h&&(c=-c),g=u*((m=(0>l?-1:1)*c+p)-p)+f);var v=p=s.x+2*a/3,A=f=s.y+2*l/3;Ye.w(l,0)?A=0<a?A-h:A+h:A=u*((v=(0>l?-1:1)*c+p)-p)+f,this.Uj(),this.ue(s),this.lf(m,g),this.lf(v,A),this.ue(d),this.jd(0,this.getLinkPoint(e,i,n,!0,!1,r,o)),this.jd(3,this.getLinkPoint(r,o,t,!1,!1,e,i))}else n=this.getLinkPoint(e,i,n,!0,!1,r,o),t=this.getLinkPoint(r,o,t,!1,!1,e,i),this.hasCurviness()?(d=t.x-n.x,r=t.y-n.y,o=this.computeCurviness(),s=e=n.x+d/2,a=i=n.y+r/2,Ye.w(r,0)?a=0<d?a-o:a+o:(d=-d/r,s=Math.sqrt(o*o/(d*d+1)),0>o&&(s=-s),a=d*((s=(0>r?-1:1)*s+e)-e)+i),this.ue(n),this.lf(s,a)):this.ue(n),this.ue(t)}else{c=this.isAvoiding,d&&(u&&c||h)&&this.Uj();var y=h?this.computeCurviness():0;c=this.getLinkPoint(e,i,n,!0,u,r,o),p=m=f=0,(u||!a||h)&&(g=this.computeEndSegmentLength(e,i,n,!0),p=this.getLinkDirection(e,i,c,n,!0,u,r,o),h&&(a||n.A(t)||!u&&1===n.x+t.x&&1===n.y+t.y)&&(p-=u?90:30,0>y&&(p-=180)),0>p?p+=360:360<=p&&(p-=360),h&&(g+=Math.abs(y)*(u?1:2)),0===p?f=g:90===p?m=g:180===p?f=-g:270===p?m=-g:(f=g*Math.cos(p*Math.PI/180),m=g*Math.sin(p*Math.PI/180)),n.jc()&&h&&(g=i.ga(oe,dt.alloc()),v=dt.allocAt(g.x+1e3*f,g.y+1e3*m),this.getLinkPointFromPoint(e,i,g,v,!0,c),dt.free(g),dt.free(v))),g=this.getLinkPoint(r,o,t,!1,u,e,i);var x=A=v=0;if(u||!l||h){var b=this.computeEndSegmentLength(r,o,t,!1);x=this.getLinkDirection(r,o,g,t,!1,u,e,i),h&&(l||n.A(t)||!u&&1===n.x+t.x&&1===n.y+t.y)&&(x+=u?0:30,0>y&&(x+=180)),0>x?x+=360:360<=x&&(x-=360),h&&(b+=Math.abs(y)*(u?1:2)),0===x?v=b:90===x?A=b:180===x?v=-b:270===x?A=-b:(v=b*Math.cos(x*Math.PI/180),A=b*Math.sin(x*Math.PI/180)),t.jc()&&h&&(t=o.ga(oe,dt.alloc()),n=dt.allocAt(t.x+1e3*v,t.y+1e3*A),this.getLinkPointFromPoint(r,o,t,n,!1,g),dt.free(t),dt.free(n))}t=c,(u||!a||h)&&(t=new dt(c.x+f,c.y+m)),n=g,(u||!l||h)&&(n=new dt(g.x+v,g.y+A)),!d&&!u&&a&&3<s&&this.adjustPoints(0,c,s-2,n)?this.jd(s-1,g):!d&&!u&&l&&3<s&&this.adjustPoints(1,t,s-1,g)?this.jd(0,c):!d&&(u?6<=s:4<s)&&this.adjustPoints(1,t,s-2,n)?(this.jd(0,c),this.jd(s-1,g)):(this.Uj(),this.ue(c),(u||!a||h)&&this.ue(t),u&&this.addOrthoPoints(t,p,n,x,e,r),(u||!l||h)&&this.ue(n),this.ue(g))}return!0},Lu.prototype.getLinkPointFromPoint=function(t,e,i,n,r,o){if(void 0===o&&(o=new dt),null===t||null===e)return o.assign(i),o;if(t.isVisible()||null!==(r=t.findVisibleNode())&&r!==t&&(e=r.port),t=null,null===(r=e.panel)||r.Yd()||(r=r.panel),null===r){r=n.x,n=n.y;var s=i.x;i=i.y}else{r=1/((t=r.sd).m11*t.m22-t.m12*t.m21),s=t.m22*r;var a=-t.m12*r,l=-t.m21*r,h=t.m11*r,u=r*(t.m21*t.dy-t.m22*t.dx),c=r*(t.m12*t.dx-t.m11*t.dy);r=n.x*s+n.y*l+u,n=n.x*a+n.y*h+c,s=i.x*s+i.y*l+u,i=i.x*a+i.y*h+c}return e.ck(r,n,s,i,o),null!==t&&o.transform(t),o},Lu.prototype.getLinkPoint=function(t,e,i,n,r,o,s,a){if(void 0===a&&(a=new dt),i.eb()&&!Uu(i))return e.ga(i,a),a;if(i.uf()){var l=Hu(this,e);if(null!==l){if(a.assign(l.lq),r&&this.routing===ec){var h=Hu(this,s);if(null!==h&&l.$l<h.$l){l=dt.alloc(),h=dt.alloc();var u=new Rt(e.ga(ee,l),e.ga(he,h)),c=this.computeSpot(!n,s);t=this.getLinkPoint(o,s,c,!n,r,t,e,h),(i.sf(ce)||i.sf(de))&&t.y>=u.y&&t.y<=u.y+u.height?a.y=t.y:(i.sf(ue)||i.sf(pe))&&t.x>=u.x&&t.x<=u.x+u.width&&(a.x=t.x),dt.free(l),dt.free(h)}}return a}}return i=e.ga(.5===i.x&&.5===i.y?i:oe,dt.alloc()),this.pointsCount>(r?6:2)?(s=n?this.i(1):this.i(this.pointsCount-2),r&&(s=Fu(i,s.copy()))):(l=this.computeSpot(!n,s),o=dt.alloc(),s=s.ga(.5===l.x&&.5===l.y?l:oe,o),r&&(s=Fu(i,s)),dt.free(o)),this.getLinkPointFromPoint(t,e,i,s,n,a),dt.free(i),a},Lu.prototype.getLinkDirection=function(t,e,i,n,r,o,s,a){t:if(n.eb())var l=n.x>n.y?n.x>1-n.y?0:n.x<1-n.y?270:315:n.x<n.y?n.x>1-n.y?90:n.x<1-n.y?180:135:.5>n.x?225:.5<n.x?45:0;else{if(n.uf()&&null!==(l=Hu(this,e)))switch(l.xc){case 1:l=270;break t;case 2:l=180;break t;default:case 4:l=0;break t;case 8:l=90;break t}l=e.ga(oe,dt.alloc()),this.pointsCount>(o?6:2)?(a=r?this.i(1):this.i(this.pointsCount-2),a=o?Fu(l,a.copy()):i):(i=dt.alloc(),a=a.ga(oe,i),dt.free(i)),i=Math.abs(a.x-l.x)>Math.abs(a.y-l.y)?a.x>=l.x?0:180:a.y>=l.y?90:270,dt.free(l),l=i}return n.jc()&&s.Ud(t)&&(360<=(l+=180)&&(l-=360)),Uu(n)?l:0===(t=e.Ri())?l:(45<=t&&135>t?l+=90:135<=t&&225>t?l+=180:225<=t&&315>t&&(l+=270),360<=l&&(l-=360),l)},Lu.prototype.computeEndSegmentLength=function(t,e,i,n){return null!==e&&i.uf()&&null!==(t=Hu(this,e))?t.bv:(t=n?this.fromEndSegmentLength:this.toEndSegmentLength,null!==e&&isNaN(t)&&(t=n?e.fromEndSegmentLength:e.toEndSegmentLength),isNaN(t)&&(t=10),t)},Lu.prototype.computeSpot=function(t,e){return void 0===e&&(e=null),t?null===(t=e||this.fromPort)?t=oe:((e=this.fromSpot).Mb()&&(e=t.fromSpot),t=e===Se?te:e):null===(t=e||this.toPort)?t=oe:((e=this.toSpot).Mb()&&(e=t.toSpot),t=e===Se?te:e),t},Lu.prototype.computeOtherPoint=function(t,e){return t=e.ga(oe),null!==(e=null!==(e=e.To)?Lc(e,this):null)&&(t=e.lq),t},Lu.prototype.computeShortLength=function(t){if(t){if(t=this.fromShortLength,isNaN(t)){var e=this.fromPort;null!==e&&(t=e.fromShortLength)}return isNaN(t)?0:t}return t=this.toShortLength,isNaN(t)&&(null!==(e=this.toPort)&&(t=e.toShortLength)),isNaN(t)?0:t},Lu.prototype.wg=function(t,e,i,n,r,o){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===i&&(i=null);var s=o;if(void 0===o&&(s=ze.alloc()).reset(),s.multiply(this.transform),this.Bh(t,s))return Tl(this,e,i,r),void 0===o&&ze.free(s),!0;if(this.Gc(t,s)){var a=!1;if(!this.isAtomic)for(var l=this.W.j,h=l.length;h--;){var u=l[h];if(u.visible||u===this.locationObject){var c=u.actualBounds,d=this.naturalBounds;if(!(c.x>d.width||c.y>d.height||0>c.x+c.width||0>c.y+c.height)){if((c=ze.alloc()).set(s),u instanceof Al)a=u.wg(t,e,i,n,r,c);else if(this.path===u){if(u instanceof Ql)if(a=t,d=n,!1===u.pickable)a=!1;else if(c.multiply(u.transform),d)t:{var p=a,f=c;if(u.Bh(p,f))a=!0;else{if(void 0===f&&(f=u.transform,p.nf(u.actualBounds))){a=!0;break t}a=p.left,d=p.right;var m=p.top;p=p.bottom;var g=dt.alloc(),v=dt.alloc(),A=dt.alloc(),y=ze.alloc();y.set(f),y.wv(u.transform),y.ft(),v.x=d,v.y=m,v.transform(y),g.x=a,g.y=m,g.transform(y),f=!1,Wl(u,g,v,A)?f=!0:(g.x=d,g.y=p,g.transform(y),Wl(u,g,v,A)?f=!0:(v.x=a,v.y=p,v.transform(y),Wl(u,g,v,A)?f=!0:(g.x=a,g.y=m,g.transform(y),Wl(u,g,v,A)&&(f=!0)))),ze.free(y),dt.free(g),dt.free(v),dt.free(A),a=f}}else a=u.Bh(a,c)}else a=Vs(u,t,n,c);a&&(d=u,null!==e&&(d=e(u)),d&&(null===i||i(d))&&r.add(d)),ze.free(c)}}}return void 0===o&&ze.free(s),a||null!==this.background||null!==this.areaBackground}return void 0===o&&ze.free(s),!1},Lu.prototype.computeCurve=function(){if(null===this.Pf){var t=this.fromPort,e=this.isOrthogonal;this.Pf=null!==t&&t===this.toPort&&!e}return this.Pf?nc:this.curve},Lu.prototype.computeCorner=function(){if(this.curve===nc)return 0;var t=this.corner;return(isNaN(t)||0>t)&&(t=10),t},Lu.prototype.findMidLabel=function(){for(var t=this.path,e=this.W.j,i=e.length,n=0;n<i;n++){var r=e[n];if(r!==t&&!r.isPanelMain&&(-1/0===r.segmentIndex||isNaN(r.segmentIndex)))return r}for(t=this.labelNodes;t.next();)if(-1/0===(e=t.value).segmentIndex||isNaN(e.segmentIndex))return e;return null},Lu.prototype.computeSpacing=function(){if(!this.isVisible())return 0;var t=Math.max(14,this.computeThickness()),e=this.fromPort,i=this.toPort;if(null!==e&&null!==i){var n=this.findMidLabel();if(null!==n){var r=n.naturalBounds,o=n.margin,s=isNaN(r.width)?30:r.width*n.scale+o.left+o.right;r=isNaN(r.height)?14:r.height*n.scale+o.top+o.bottom,(n=n.segmentOrientation)===hc||n===pc||n===dc?t=Math.max(t,r):n===cc||n===mc||n===uc||n===fc?t=Math.max(t,s):(e=e.ga(oe).Sa(i.ga(oe))/180*Math.PI,t=Math.max(t,Math.abs(Math.sin(e)*s)+Math.abs(Math.cos(e)*r)+1)),this.curve===nc&&(t*=1.333)}}return t},Lu.prototype.arrangeBundledLinks=function(t,e){if(e)for(e=0;e<t.length;e++){var i=t[e];i.adjusting===ic&&i.Na()}},Lu.prototype.computeCurviness=function(){var t=this.curviness;if(isNaN(t)){t=16;var e=this.Gf;if(null!==e){for(var i=M(),n=0,r=e.links,o=0;o<r.length;o++){var s=r[o].computeSpacing();i.push(s),n+=s}for(n=-n/2,o=0;o<r.length;o++){if(r[o]===this){t=n+i[o]/2;break}n+=i[o]}e.nt===this.fromNode&&(t=-t),k(i)}}return t},Lu.prototype.computeThickness=function(){if(!this.isVisible())return 0;var t=this.path;return null!==t?Math.max(t.strokeWidth,1):1},Lu.prototype.hasCurviness=function(){return!isNaN(this.curviness)||null!==this.Gf},Lu.prototype.adjustPoints=function(t,e,i,n){var r=this.adjusting;if(this.isOrthogonal){if(r===ac)return!1;r===lc&&(r=sc)}switch(r){case ac:var o=this.i(t),s=this.i(i);if(!o.Ma(e)||!s.Ma(n)){r=o.x,o=o.y;var a=s.x-r,l=s.y-o,h=Math.sqrt(a*a+l*l);if(!Ye.Z(h,0)){if(Ye.Z(a,0))var u=0>l?-Math.PI/2:Math.PI/2;else u=Math.atan(l/Math.abs(a)),0>a&&(u=Math.PI-u);s=e.x;var c=e.y;a=n.x-s;var d=n.y-c;for(l=Math.sqrt(a*a+d*d),Ye.Z(a,0)?d=0>d?-Math.PI/2:Math.PI/2:(d=Math.atan(d/Math.abs(a)),0>a&&(d=Math.PI-d)),h=l/h,u=d-u,this.jd(t,e),t+=1;t<i;t++)a=(e=this.i(t)).x-r,l=e.y-o,e=Math.sqrt(a*a+l*l),Ye.Z(e,0)||(Ye.Z(a,0)?l=0>l?-Math.PI/2:Math.PI/2:(l=Math.atan(l/Math.abs(a)),0>a&&(l=Math.PI-l)),a=l+u,e*=h,this.K(t,s+e*Math.cos(a),c+e*Math.sin(a)));this.jd(i,n)}}return!0;case lc:if(o=this.i(t),c=this.i(i),!o.Ma(e)||!c.Ma(n)){r=o.x,o=o.y,h=((s=c.x)-r)*(s-r)+((c=c.y)-o)*(c-o),a=e.x,u=e.y,l=n.x,d=n.y;var p=1;if(0!=l-a){var f=(d-u)/(l-a);p=Math.sqrt(1+1/(f*f))}else f=9e9;for(this.jd(t,e),t+=1;t<i;t++){var m=(e=this.i(t)).x,g=e.y,v=.5;0!==h&&(v=((r-m)*(r-s)+(o-g)*(o-c))/h);var A=r+v*(s-r),y=o+v*(c-o);e=Math.sqrt((m-A)*(m-A)+(g-y)*(g-y)),g<f*(m-A)+y&&(e=-e),0<f&&(e=-e),m=a+v*(l-a),v=u+v*(d-u),0!==f?(e=m+e/p,this.K(t,e,v-(e-m)/f)):this.K(t,m,v+e)}this.jd(i,n)}return!0;case sc:return this.isOrthogonal&&(r=this.i(t),o=this.i(t+1),s=this.i(t+2),c=a=o.x,h=u=o.y,Ye.w(r.y,o.y)?Ye.w(o.x,s.x)?u=e.y:Ye.w(o.y,s.y)&&(a=e.x):Ye.w(r.x,o.x)&&(Ye.w(o.y,s.y)?a=e.x:Ye.w(o.x,s.x)&&(u=e.y)),this.K(t+1,a,u),r=this.i(i),o=this.i(i-1),s=this.i(i-2),l=a=o.x,d=u=o.y,Ye.w(r.y,o.y)?Ye.w(o.x,s.x)?u=n.y:Ye.w(o.y,s.y)&&(a=n.x):Ye.w(r.x,o.x)&&(Ye.w(o.y,s.y)?a=n.x:Ye.w(o.x,s.x)&&(u=n.y)),this.K(i-1,a,u),Vu(this))?(this.K(t+1,c,h),this.K(i-1,l,d),i=!1):(this.jd(t,e),this.jd(i,n),i=!0),i;default:return!1}},Lu.prototype.addOrthoPoints=function(t,e,i,n,r,o){e=-45<=e&&45>e?0:45<=e&&135>e?90:135<=e&&225>e?180:270,n=-45<=n&&45>n?0:45<=n&&135>n?90:135<=n&&225>n?180:270;var s=r.actualBounds.copy(),a=o.actualBounds.copy();if(s.v()&&a.v()){if(s.Tc(8,8),a.Tc(8,8),s.Ce(t),a.Ce(i),0===e)if(i.x>t.x||270===n&&i.y<t.y&&a.right>t.x||90===n&&i.y>t.y&&a.right>t.x){var l=new dt(i.x,t.y),h=new dt(i.x,(t.y+i.y)/2);180===n?(l.x=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!1),h.x=l.x,h.y=i.y):270===n&&i.y<t.y||90===n&&i.y>t.y?(l.x=t.x<a.left?this.computeMidOrthoPosition(t.x,t.y,a.left,i.y,!1):t.x<a.right&&(270===n&&t.y<a.top||90===n&&t.y>a.bottom)?this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!1):a.right,h.x=l.x,h.y=i.y):0===n&&t.x<a.left&&t.y>a.top&&t.y<a.bottom&&(l.x=t.x,l.y=t.y<i.y?Math.min(i.y,a.top):Math.max(i.y,a.bottom),h.y=l.y)}else l=new dt(t.x,i.y),h=new dt((t.x+i.x)/2,i.y),(180===n||90===n&&i.y<s.top||270===n&&i.y>s.bottom)&&(180===n&&(a.$(t)||s.$(i))?l.y=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!0):i.y<t.y&&(180===n||90===n)?l.y=this.computeMidOrthoPosition(t.x,s.top,i.x,Math.max(i.y,a.bottom),!0):i.y>t.y&&(180===n||270===n)&&(l.y=this.computeMidOrthoPosition(t.x,s.bottom,i.x,Math.min(i.y,a.top),!0)),h.x=i.x,h.y=l.y),l.y>s.top&&l.y<s.bottom&&(i.x>=s.left&&i.x<=t.x||t.x<=a.right&&t.x>=i.x?90!==n&&270!==n||(h=new dt((l=new dt(Math.max((t.x+i.x)/2,t.x),t.y)).x,i.y)):(l.y=270===n||(0===n||180===n)&&i.y<t.y?Math.min(i.y,0===n?s.top:Math.min(s.top,a.top)):Math.max(i.y,0===n?s.bottom:Math.max(s.bottom,a.bottom)),h.x=i.x,h.y=l.y));else 180===e?i.x<t.x||270===n&&i.y<t.y&&a.left<t.x||90===n&&i.y>t.y&&a.left<t.x?(l=new dt(i.x,t.y),h=new dt(i.x,(t.y+i.y)/2),0===n?(l.x=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!1),h.x=l.x,h.y=i.y):270===n&&i.y<t.y||90===n&&i.y>t.y?(l.x=t.x>a.right?this.computeMidOrthoPosition(t.x,t.y,a.right,i.y,!1):t.x>a.left&&(270===n&&t.y<a.top||90===n&&t.y>a.bottom)?this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!1):a.left,h.x=l.x,h.y=i.y):180===n&&t.x>a.right&&t.y>a.top&&t.y<a.bottom&&(l.x=t.x,l.y=t.y<i.y?Math.min(i.y,a.top):Math.max(i.y,a.bottom),h.y=l.y)):(l=new dt(t.x,i.y),h=new dt((t.x+i.x)/2,i.y),(0===n||90===n&&i.y<s.top||270===n&&i.y>s.bottom)&&(0===n&&(a.$(t)||s.$(i))?l.y=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!0):i.y<t.y&&(0===n||90===n)?l.y=this.computeMidOrthoPosition(t.x,s.top,i.x,Math.max(i.y,a.bottom),!0):i.y>t.y&&(0===n||270===n)&&(l.y=this.computeMidOrthoPosition(t.x,s.bottom,i.x,Math.min(i.y,a.top),!0)),h.x=i.x,h.y=l.y),l.y>s.top&&l.y<s.bottom&&(i.x<=s.right&&i.x>=t.x||t.x>=a.left&&t.x<=i.x?90!==n&&270!==n||(h=new dt((l=new dt(Math.min((t.x+i.x)/2,t.x),t.y)).x,i.y)):(l.y=270===n||(0===n||180===n)&&i.y<t.y?Math.min(i.y,180===n?s.top:Math.min(s.top,a.top)):Math.max(i.y,180===n?s.bottom:Math.max(s.bottom,a.bottom)),h.x=i.x,h.y=l.y))):90===e?i.y>t.y||180===n&&i.x<t.x&&a.bottom>t.y||0===n&&i.x>t.x&&a.bottom>t.y?(l=new dt(t.x,i.y),h=new dt((t.x+i.x)/2,i.y),270===n?(l.y=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!0),h.x=i.x,h.y=l.y):180===n&&i.x<t.x||0===n&&i.x>t.x?(l.y=t.y<a.top?this.computeMidOrthoPosition(t.x,t.y,i.x,a.top,!0):t.y<a.bottom&&(180===n&&t.x<a.left||0===n&&t.x>a.right)?this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!0):a.bottom,h.x=i.x,h.y=l.y):90===n&&t.y<a.top&&t.x>a.left&&t.x<a.right&&(l.x=t.x<i.x?Math.min(i.x,a.left):Math.max(i.x,a.right),l.y=t.y,h.x=l.x)):(l=new dt(i.x,t.y),h=new dt(i.x,(t.y+i.y)/2),(270===n||0===n&&i.x<s.left||180===n&&i.x>s.right)&&(270===n&&(a.$(t)||s.$(i))?l.x=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!1):i.x<t.x&&(270===n||0===n)?l.x=this.computeMidOrthoPosition(s.left,t.y,Math.max(i.x,a.right),i.y,!1):i.x>t.x&&(270===n||180===n)&&(l.x=this.computeMidOrthoPosition(s.right,t.y,Math.min(i.x,a.left),i.y,!1)),h.x=l.x,h.y=i.y),l.x>s.left&&l.x<s.right&&(i.y>=s.top&&i.y<=t.y||t.y<=a.bottom&&t.y>=i.y?0!==n&&180!==n||(l=new dt(t.x,Math.max((t.y+i.y)/2,t.y)),h=new dt(i.x,l.y)):(l.x=180===n||(90===n||270===n)&&i.x<t.x?Math.min(i.x,90===n?s.left:Math.min(s.left,a.left)):Math.max(i.x,90===n?s.right:Math.max(s.right,a.right)),h.x=l.x,h.y=i.y))):i.y<t.y||180===n&&i.x<t.x&&a.top<t.y||0===n&&i.x>t.x&&a.top<t.y?(l=new dt(t.x,i.y),h=new dt((t.x+i.x)/2,i.y),90===n?(l.y=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!0),h.x=i.x,h.y=l.y):180===n&&i.x<t.x||0===n&&i.x>=t.x?(l.y=t.y>a.bottom?this.computeMidOrthoPosition(t.x,t.y,i.x,a.bottom,!0):t.y>a.top&&(180===n&&t.x<a.left||0===n&&t.x>a.right)?this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!0):a.top,h.x=i.x,h.y=l.y):270===n&&t.y>a.bottom&&t.x>a.left&&t.x<a.right&&(l.x=t.x<i.x?Math.min(i.x,a.left):Math.max(i.x,a.right),l.y=t.y,h.x=l.x)):(l=new dt(i.x,t.y),h=new dt(i.x,(t.y+i.y)/2),(90===n||0===n&&i.x<s.left||180===n&&i.x>s.right)&&(90===n&&(a.$(t)||s.$(i))?l.x=this.computeMidOrthoPosition(t.x,t.y,i.x,i.y,!1):i.x<t.x&&(90===n||0===n)?l.x=this.computeMidOrthoPosition(s.left,t.y,Math.max(i.x,a.right),i.y,!1):i.x>t.x&&(90===n||180===n)&&(l.x=this.computeMidOrthoPosition(s.right,t.y,Math.min(i.x,a.left),i.y,!1)),h.x=l.x,h.y=i.y),l.x>s.left&&l.x<s.right&&(i.y<=s.bottom&&i.y>=t.y||t.y>=a.top&&t.y<=i.y?0!==n&&180!==n||(l=new dt(t.x,Math.min((t.y+i.y)/2,t.y)),h=new dt(i.x,l.y)):(l.x=180===n||(90===n||270===n)&&i.x<t.x?Math.min(i.x,270===n?s.left:Math.min(s.left,a.left)):Math.max(i.x,270===n?s.right:Math.max(s.right,a.right)),h.x=l.x,h.y=i.y)));var u=l,c=h,d=i;if(this.isAvoiding){var p=this.diagram;if(null===p||!Fo(p)||s.$(d)&&!o.Ud(r)||a.$(t)&&!r.Ud(o)||r===o||this.layer.isTemporary)e=!1;else{var f=Ho(p,!0,this.containingGroup,null);if(f.gk(Math.min(t.x,u.x),Math.min(t.y,u.y),Math.abs(t.x-u.x),Math.abs(t.y-u.y))&&f.gk(Math.min(u.x,c.x),Math.min(u.y,c.y),Math.abs(u.x-c.x),Math.abs(u.y-c.y))&&f.gk(Math.min(c.x,d.x),Math.min(c.y,d.y),Math.abs(c.x-d.x),Math.abs(c.y-d.y)))e=!1;else{r=t,o=d;var m=i=null;if(p.isVirtualized){(p=f.bounds.copy()).Tc(-f.Zl,-f.Yl);var g=dt.alloc();yc(f,t.x,t.y)||(Ye.Sc(p.x,p.y,p.x+p.width,p.y+p.height,t.x,t.y,u.x,u.y,g)?(i=t=g.copy(),e=g.Sa(u)):Ye.Sc(p.x,p.y,p.x+p.width,p.y+p.height,u.x,u.y,c.x,c.y,g)?(i=t=g.copy(),e=g.Sa(c)):Ye.Sc(p.x,p.y,p.x+p.width,p.y+p.height,c.x,c.y,d.x,d.y,g)&&(i=t=g.copy(),e=g.Sa(d))),yc(f,d.x,d.y)||(Ye.Sc(p.x,p.y,p.x+p.width,p.y+p.height,d.x,d.y,c.x,c.y,g)?(m=d=g.copy(),n=c.Sa(g)):Ye.Sc(p.x,p.y,p.x+p.width,p.y+p.height,c.x,c.y,u.x,u.y,g)?(m=d=g.copy(),n=u.Sa(g)):Ye.Sc(p.x,p.y,p.x+p.width,p.y+p.height,u.x,u.y,t.x,t.y,g)&&(m=d=g.copy(),n=t.Sa(g))),dt.free(g)}s=s.copy().Hc(a),a=f.kA,s.Tc(f.Zl*a,f.Yl*a),Tc(f,t,e,d,n,s),a=xc(f,d.x,d.y),!f.abort&&a>=kc&&(Cc(f),a=f.Pz,s.Tc(f.Zl*a,f.Yl*a),Tc(f,t,e,d,n,s),a=xc(f,d.x,d.y)),!f.abort&&a>=kc&&f.rA&&(Cc(f),Tc(f,t,e,d,n,f.bounds),a=xc(f,d.x,d.y)),!f.abort&&a<kc&&xc(f,d.x,d.y)!==_c?(!function t(e,i,n,r,o,s){var a=i.Zl,l=i.Yl,h=xc(i,n,r),u=n,c=r;for(0===o?u+=a:90===o?c+=l:180===o?u-=a:c-=l;h>Mc&&xc(i,u,c)===h-1;)n=u,r=c,0===o?u+=a:90===o?c+=l:180===o?u-=a:c-=l,--h;s?h>Mc&&(180===o||0===o?n=Math.floor(n/a)*a+a/2:90!==o&&270!==o||(r=Math.floor(r/l)*l+l/2)):(n=Math.floor(n/a)*a+a/2,r=Math.floor(r/l)*l+l/2);h>Mc&&(s=o,u=n,c=r,0===o?(s=90,c+=l):90===o?(s=180,u-=a):180===o?(s=270,c-=l):270===o&&(s=0,u+=a),xc(i,u,c)===h-1?t(e,i,u,c,s,!1):(u=n,c=r,0===o?(s=270,c-=l):90===o?(s=0,u+=a):180===o?(s=90,c+=l):270===o&&(s=180,u-=a),xc(i,u,c)===h-1&&t(e,i,u,c,s,!1)));e.lf(n,r)}(this,f,d.x,d.y,n,!0),s=this.i(2),4>this.pointsCount?(0===e||180===e?(s.x=t.x,s.y=d.y):(s.x=d.x,s.y=t.y),this.K(2,s.x,s.y),this.m(3,s.x,s.y)):(d=this.i(3),0===e||180===e?Ye.w(s.x,d.x)?(s=0===e?Math.max(s.x,t.x):Math.min(s.x,t.x),this.K(2,s,t.y),this.K(3,s,d.y)):Ye.w(s.y,d.y)?(Math.abs(t.y-s.y)<=f.Yl/2&&(this.K(2,s.x,t.y),this.K(3,d.x,t.y)),this.m(2,s.x,t.y)):this.K(2,t.x,s.y):90!==e&&270!==e||(Ye.w(s.y,d.y)?(s=90===e?Math.max(s.y,t.y):Math.min(s.y,t.y),this.K(2,t.x,s),this.K(3,d.x,s)):Ye.w(s.x,d.x)?(Math.abs(t.x-s.x)<=f.Zl/2&&(this.K(2,t.x,s.y),this.K(3,t.x,d.y)),this.m(2,t.x,s.y)):this.K(2,s.x,t.y))),null!==i&&(t=this.i(1),d=this.i(2),t.x!==d.x&&t.y!==d.y?0===e||180===e?this.m(2,t.x,d.y):this.m(2,d.x,t.y):0===e||180===e?this.m(2,r.x,i.y):this.m(2,i.x,r.y)),null!==m&&(0===n||180===n?this.lf(o.x,m.y):this.lf(m.x,o.y)),e=!0):e=!1}}}else e=!1;e||(this.ue(l),this.ue(h))}},Lu.prototype.computeMidOrthoPosition=function(t,e,i,n,r){var o=0;return this.hasCurviness()&&(o=this.computeCurviness()),r?(e+n)/2+o:(t+i)/2+o},Lu.prototype.Wy=function(t){var e=t.x;t=t.y;for(var i=this.i(0),n=this.i(1),r=vt(e,t,i.x,i.y,n.x,n.y),o=0,s=1;s<this.pointsCount-1;s++){i=this.i(s+1);var a=vt(e,t,n.x,n.y,i.x,i.y);n=i,a<r&&(o=s,r=a)}return o},Lu.prototype.bc=function(){this.Qn=!0},Lu.prototype.ik=function(t){if(!t){if(!1===this.yc)return;if(t=this.Ab(),!this.Qn&&(null===t||null!==t.geometry))return}if(this.oa=this.makeGeometry(),null!==(t=this.path)){t.oa=this.oa;for(var e=this.W.j,i=e.length,n=0;n<i;n++){var r=e[n];r!==t&&r.isPanelMain&&r instanceof Ql&&(r.oa=this.oa)}}},Lu.prototype.makeGeometry=function(){var t=this.oa,e=this.pointsCount;if(2>e)return t.type=ni,this.Qn=!1,t;var i=!1,n=this.diagram;null!==n&&Ku(this)&&n.di.contains(this)&&(0!==this.Cl.width||0!==this.Cl.height)&&(i=!0);var r=this.i(0).copy(),o=r.copy();n=this.xb.j;var s=this.computeCurve();if(s===nc&&3<=e&&!Ye.Z(this.smoothness,0))if(3===e){var a=this.i(1);n=Math.min(r.x,a.x);var l=Math.min(r.y,a.y);a=this.i(2),n=Math.min(n,a.x),l=Math.min(l,a.y)}else{if(this.isOrthogonal)for(l=0;l<e;l++)a=n[l],o.x=Math.min(a.x,o.x),o.y=Math.min(a.y,o.y);else for(n=3;n<e;n+=3)n+3>=e&&(n=e-1),l=this.i(n),o.x=Math.min(l.x,o.x),o.y=Math.min(l.y,o.y);n=o.x,l=o.y}else{for(l=0;l<e;l++)a=n[l],o.x=Math.min(a.x,o.x),o.y=Math.min(a.y,o.y);n=o.x,l=o.y}if(n-=this.Hu.x,l-=this.Hu.y,r.x-=n,r.y-=l,2!==e||Ku(this)){if(t.type=si,a=Qh(t),0!==this.computeShortLength(!0)&&(r=Gu(this,r,!0,o)),Uh(a,r.x,r.y,!1),s===nc&&3<=e&&!Ye.Z(this.smoothness,0))if(3===e)e=(i=this.i(1)).x-n,i=i.y-l,(r=this.i(2).copy()).x-=n,r.y-=l,0!==this.computeShortLength(!1)&&(r=Gu(this,r,!1,o)),jh(a,e,i,e,i,r.x,r.y);else if(this.isOrthogonal){o=new dt(n,l),r=this.i(1).copy(),s=new dt(n,l),e=new dt(n,l),i=this.i(0);for(var h,u=this.smoothness/3,c=1;c<this.pointsCount-1;c++){var d=i,p=h=this.i(c),f=this.i(zu(this,h,c,!1));if(!(Ye.Z(d.x,p.x)&&Ye.Z(p.x,f.x)||Ye.Z(d.y,p.y)&&Ye.Z(p.y,f.y))){var m=u;isNaN(m)&&(m=this.smoothness/3);var g=d.x;d=d.y;var v=p.x;p=p.y;var A=f.x;f=f.y;var y=m*ju(g,d,v,p);m*=ju(v,p,A,f),Ye.Z(d,p)&&Ye.Z(v,A)&&(v>g?f>p?(s.x=v-y,s.y=p-y,e.x=v+m,e.y=p+m):(s.x=v-y,s.y=p+y,e.x=v+m,e.y=p-m):f>p?(s.x=v+y,s.y=p-y,e.x=v-m,e.y=p+m):(s.x=v+y,s.y=p+y,e.x=v-m,e.y=p-m)),Ye.Z(g,v)&&Ye.Z(p,f)&&(p>d?(A>v?(s.x=v-y,s.y=p-y,e.x=v+m):(s.x=v+y,s.y=p-y,e.x=v-m),e.y=p+m):(A>v?(s.x=v-y,s.y=p+y,e.x=v+m):(s.x=v+y,s.y=p+y,e.x=v-m),e.y=p-m)),(Ye.Z(g,v)&&Ye.Z(v,A)||Ye.Z(d,p)&&Ye.Z(p,f))&&(g=.5*(g+A),d=.5*(d+f),s.x=g,s.y=d,e.x=g,e.y=d),1===c?(r.x=.5*(i.x+h.x),r.y=.5*(i.y+h.y)):2===c&&Ye.Z(i.x,this.i(0).x)&&Ye.Z(i.y,this.i(0).y)&&(r.x=.5*(i.x+h.x),r.y=.5*(i.y+h.y)),jh(a,r.x-n,r.y-l,s.x-n,s.y-l,h.x-n,h.y-l),o.set(s),r.set(e),i=h}}o=i.x,i=i.y,r=this.i(this.pointsCount-1),0!==this.computeShortLength(!1)&&(r=Gu(this,r.copy(),!1,_t)),o=.5*(o+r.x),i=.5*(i+r.y),jh(a,e.x-n,e.y-l,o-n,i-l,r.x-n,r.y-l)}else for(i=3;i<e;i+=3)o=this.i(i-2),i+3>=e&&(i=e-1),r=this.i(i-1),s=this.i(i),i===e-1&&0!==this.computeShortLength(!1)&&(s=Gu(this,s.copy(),!1,_t)),jh(a,o.x-n,o.y-l,r.x-n,r.y-l,s.x-n,s.y-l);else{for((o=dt.alloc()).assign(this.i(0)),s=1,r=0;s<e;){if(s=zu(this,o,s,1<s),u=this.i(s),s>=e-1){if(o.A(u)){if(0===r)for(s=1;s<e;)Qu(this,a,-n,-l,o,u=this.i(s++),i),o.assign(u)}else 0!==this.computeShortLength(!1)&&(u=Gu(this,u.copy(),!1,_t)),Qu(this,a,-n,-l,o,u,i);break}r=zu(this,u,s+1,s<e-3),s=-n,h=-l,c=this.i(r),g=i,Ye.w(o.y,u.y)&&Ye.w(u.x,c.x)?(d=this.computeCorner(),d=Math.min(d,Math.abs(u.x-o.x)/2),d=m=Math.min(d,Math.abs(c.y-u.y)/2),Ye.w(d,0)?(Qu(this,a,s,h,o,u,g),o.assign(u)):(A=v=u.x,f=p=u.y,v=u.x>o.x?u.x-d:u.x+d,f=c.y>u.y?u.y+m:u.y-m,Qu(this,a,s,h,o,new dt(v,p),g),Gh(a,u.x+s,u.y+h,A+s,f+h),o.h(A,f))):Ye.w(o.x,u.x)&&Ye.w(u.y,c.y)?(d=this.computeCorner(),d=Math.min(d,Math.abs(u.y-o.y)/2),d=m=Math.min(d,Math.abs(c.x-u.x)/2),Ye.w(m,0)?(Qu(this,a,s,h,o,u,g),o.assign(u)):(A=v=u.x,f=p=u.y,p=u.y>o.y?u.y-d:u.y+d,A=c.x>u.x?u.x+m:u.x-m,Qu(this,a,s,h,o,new dt(v,p),g),Gh(a,u.x+s,u.y+h,A+s,f+h),o.h(A,f))):(Qu(this,a,s,h,o,u,g),o.assign(u)),s=r}dt.free(o)}Yh=a}else(a=this.i(1).copy()).x-=n,a.y-=l,0!==this.computeShortLength(!0)&&(r=Gu(this,r,!0,o)),0!==this.computeShortLength(!1)&&(a=Gu(this,a,!1,o)),t.type=ni,t.startX=r.x,t.startY=r.y,t.endX=a.x,t.endY=a.y;return this.Qn=!1,t},Lu.prototype.iq=function(t){var e=this.layer;if(null!==e&&e.visible&&!e.isTemporary){var i=e.diagram;if(null!==i&&!i.animationManager.isAnimating){var n=!1;for(i=i.layers;i.next();){var r=i.value;if(r.visible)if(r===e){n=!0;for(var o=!1,s=(r=r.Ca.j).length,a=0;a<s;a++){var l=r[a];l instanceof Lu&&(l===this?o=!0:o&&$u(this,l,t))}}else if(n)for(r=(o=r.Ca.j).length,s=0;s<r;s++)(a=o[s])instanceof Lu&&$u(this,a,t)}}}},Lu.prototype.usesSamePort=function(t){var e=this.pointsCount,i=t.pointsCount;if(0<e&&0<i){var n=this.i(0),r=t.i(0);if(n.Ma(r))return!0;if(e=this.i(e-1),t=t.i(i-1),e.Ma(t)||n.Ma(t)||e.Ma(r))return!0}else if(this.fromNode===t.fromNode||this.toNode===t.toNode||this.fromNode===t.toNode||this.toNode===t.fromNode)return!0;return!1},Lu.prototype.isVisible=function(){if(!Xh.prototype.isVisible.call(this))return!1;var t=this.containingGroup,e=!0,i=this.diagram;if(null!==i&&(e=i.isTreePathToChildren),null!==(i=this.fromNode)){if(this.isTreeLink&&e&&!i.isTreeExpanded)return!1;if(i===t)return!0;for(var n=i;null!==n;){if(n.labeledLink===this)return!0;n=n.containingGroup}if(null===(i=i.findVisibleNode())||i===t)return!1}if(null!==(i=this.toNode)){if(this.isTreeLink&&!e&&!i.isTreeExpanded)return!1;if(i===t)return!0;for(e=i;null!==e;){if(e.labeledLink===this)return!0;e=e.containingGroup}if(null===(e=i.findVisibleNode())||e===t)return!1}return!0},Lu.prototype.Nb=function(t){if(Xh.prototype.Nb.call(this,t),null!==this.Gf&&this.Gf.hm(),null!==this.Zc)for(var e=this.Zc.iterator;e.next();)e.value.Nb(t)},Lu.prototype.Fh=function(){return!0},c.Object.defineProperties(Lu.prototype,{fromNode:{get:function(){return this.Le},set:function(t){var e=this.Le;if(e!==t){var i=this.fromPort;null!==e&&(this.gf!==e&&bu(e,this,i),qu(this),this.C(2)),this.Le=t,null!==t&&this.Nb(t.isVisible()),this.Pf=null,this.Na();var n=this.diagram;null!==n&&n.partManager.setFromNodeForLink(this,t,e);var r=this.fromPort,o=this.fromPortChanged;if(null!==o){var s=!0;null!==n&&(s=n.aa,n.aa=!0),o(this,i,r),null!==n&&(n.aa=s)}null!==t&&(this.gf!==t&&xu(t,this,r),Wu(this),this.C(1)),this.g("fromNode",e,t),Nu(this)}}},fromPortId:{get:function(){return this.Me},set:function(t){var e=this.Me;if(e!==t){var i=this.fromPort;null!==i&&yu(this.fromNode,i),qu(this),this.Me=t;var n=this.fromPort;null!==n&&yu(this.fromNode,n);var r=this.diagram;if(null!==r){var o=this.data,s=r.model;null!==o&&s.jm()&&s.Vx(o,t)}i!==n&&(this.Pf=null,this.Na(),null!==(o=this.fromPortChanged)&&(s=!0,null!==r&&(s=r.aa,r.aa=!0),o(this,i,n),null!==r&&(r.aa=s))),Wu(this),this.g("fromPortId",e,t)}}},fromPort:{get:function(){var t=this.Le;return null===t?null:t.Xs(this.Me)}},fromPortChanged:{get:function(){return this.Fn},set:function(t){var e=this.Fn;e!==t&&(this.Fn=t,this.g("fromPortChanged",e,t))}},toNode:{get:function(){return this.gf},set:function(t){var e=this.gf;if(e!==t){var i=this.toPort;null!==e&&(this.Le!==e&&bu(e,this,i),qu(this),this.C(2)),this.gf=t,null!==t&&this.Nb(t.isVisible()),this.Pf=null,this.Na();var n=this.diagram;null!==n&&n.partManager.setToNodeForLink(this,t,e);var r=this.toPort,o=this.toPortChanged;if(null!==o){var s=!0;null!==n&&(s=n.aa,n.aa=!0),o(this,i,r),null!==n&&(n.aa=s)}null!==t&&(this.Le!==t&&xu(t,this,r),Wu(this),this.C(1)),this.g("toNode",e,t),Nu(this)}}},toPortId:{get:function(){return this.hf},set:function(t){var e=this.hf;if(e!==t){var i=this.toPort;null!==i&&yu(this.toNode,i),qu(this),this.hf=t;var n=this.toPort;null!==n&&yu(this.toNode,n);var r=this.diagram;if(null!==r){var o=this.data,s=r.model;null!==o&&s.jm()&&s.Zx(o,t)}i!==n&&(this.Pf=null,this.Na(),null!==(o=this.toPortChanged)&&(s=!0,null!==r&&(s=r.aa,r.aa=!0),o(this,i,n),null!==r&&(r.aa=s))),Wu(this),this.g("toPortId",e,t)}}},toPort:{get:function(){var t=this.gf;return null===t?null:t.Xs(this.hf)}},toPortChanged:{get:function(){return this.Kp},set:function(t){var e=this.Kp;e!==t&&(this.Kp=t,this.g("toPortChanged",e,t))}},fromSpot:{get:function(){return null!==this.O?this.O.Vg:Se},set:function(t){this.Ec();var e=this.O.Vg;e.A(t)||(t=t.G(),this.O.Vg=t,this.g("fromSpot",e,t),this.Na())}},fromEndSegmentLength:{get:function(){return null!==this.O?this.O.Tg:NaN},set:function(t){this.Ec();var e=this.O.Tg;e!==t&&(0>t&&x(t,">= 0",Lu,"fromEndSegmentLength"),this.O.Tg=t,this.g("fromEndSegmentLength",e,t),this.Na())}},fromShortLength:{get:function(){return null!==this.O?this.O.Ug:NaN},set:function(t){this.Ec();var e=this.O.Ug;e!==t&&(this.O.Ug=t,this.g("fromShortLength",e,t),this.Na(),this.bc())}},toSpot:{get:function(){return null!==this.O?this.O.uh:Se},set:function(t){this.Ec();var e=this.O.uh;e.A(t)||(t=t.G(),this.O.uh=t,this.g("toSpot",e,t),this.Na())}},toEndSegmentLength:{get:function(){return null!==this.O?this.O.sh:NaN},set:function(t){this.Ec();var e=this.O.sh;e!==t&&(0>t&&x(t,">= 0",Lu,"toEndSegmentLength"),this.O.sh=t,this.g("toEndSegmentLength",e,t),this.Na())}},toShortLength:{get:function(){return null!==this.O?this.O.th:NaN},set:function(t){this.Ec();var e=this.O.th;e!==t&&(this.O.th=t,this.g("toShortLength",e,t),this.Na(),this.bc())}},isLabeledLink:{get:function(){return null!==this.Zc&&0<this.Zc.count}},labelNodes:{get:function(){return null===this.Zc?$:this.Zc.iterator}},relinkableFrom:{get:function(){return 0!=(1&this.Pa)},set:function(t){var e=0!=(1&this.Pa);e!==t&&(this.Pa^=1,this.g("relinkableFrom",e,t),this.Lb())}},relinkableTo:{get:function(){return 0!=(2&this.Pa)},set:function(t){var e=0!=(2&this.Pa);e!==t&&(this.Pa^=2,this.g("relinkableTo",e,t),this.Lb())}},resegmentable:{get:function(){return 0!=(4&this.Pa)},set:function(t){var e=0!=(4&this.Pa);e!==t&&(this.Pa^=4,this.g("resegmentable",e,t),this.Lb())}},isTreeLink:{get:function(){return 0!=(8&this.Pa)},set:function(t){var e=0!=(8&this.Pa);e!==t&&(this.Pa^=8,this.g("isTreeLink",e,t),null!==this.fromNode&&Cu(this.fromNode),null!==this.toNode&&Cu(this.toNode))}},path:{get:function(){var t=this.Ab();return t instanceof Ql?t:null}},routeBounds:{get:function(){this.cj();var t=this.Cl,e=1/0,i=1/0,n=this.pointsCount;if(0===n)t.h(NaN,NaN,0,0);else{if(1===n)n=this.i(0),e=Math.min(n.x,e),i=Math.min(n.y,i),t.h(n.x,n.y,0,0);else if(2===n){n=this.i(0);var r=this.i(1);e=Math.min(n.x,r.x),i=Math.min(n.y,r.y),t.h(n.x,n.y,0,0),t.Ce(r)}else if(this.computeCurve()===nc&&3<=n&&!this.isOrthogonal)if(e=(r=this.i(0)).x,i=r.y,t.h(e,i,0,0),3===n){n=this.i(1),e=Math.min(n.x,e),i=Math.min(n.y,i);var o=this.i(2);e=Math.min(o.x,e),i=Math.min(o.y,i),Ye.Xl(r.x,r.y,n.x,n.y,n.x,n.y,o.x,o.y,.5,t)}else for(o=3;o<n;o+=3){var s=this.i(o-2);o+3>=n&&(o=n-1);var a=this.i(o-1),l=this.i(o);Ye.Xl(r.x,r.y,s.x,s.y,a.x,a.y,l.x,l.y,.5,t),e=Math.min(l.x,e),i=Math.min(l.y,i),r=l}else for(r=this.i(0),o=this.i(1),e=Math.min(r.x,o.x),i=Math.min(r.y,o.y),t.h(r.x,r.y,0,0),t.Ce(o),r=2;r<n;r++)o=this.i(r),e=Math.min(o.x,e),i=Math.min(o.y,i),t.Ce(o);this.Hu.h(e-t.x,i-t.y)}return t}},midPoint:{get:function(){return this.cj(),this.computeMidPoint(new dt)}},midAngle:{get:function(){return this.cj(),this.computeMidAngle()}},flattenedLengths:{get:function(){if(null===this.tr){this.yc||Ru(this);for(var t=this.tr=[],e=this.pointsCount,i=0;i<e-1;i++){var n=this.i(i),r=this.i(i+1);Ye.Z(n.x,r.x)?0>(n=r.y-n.y)&&(n=-n):Ye.Z(n.y,r.y)?0>(n=r.x-n.x)&&(n=-n):n=Math.sqrt(n.we(r)),t.push(n)}}return this.tr}},flattenedTotalLength:{get:function(){var t=this.cu;if(isNaN(t)){for(var e=this.flattenedLengths,i=e.length,n=t=0;n<i;n++)t+=e[n];this.cu=t}return t}},points:{get:function(){return this.xb},set:function(t){var e=this.xb;if(e!==t){var i=null;if(Array.isArray(t)){var n=0==t.length%2;if(n)for(var r=0;r<t.length;r++)if("number"!=typeof t[r]||isNaN(t[r])){n=!1;break}if(n)for(i=new Z,n=0;n<t.length/2;n++)r=new dt(t[2*n],t[2*n+1]).freeze(),i.add(r);else{for(n=!0,r=0;r<t.length;r++){var o=t[r];if(!w(o)||"number"!=typeof o.x||isNaN(o.x)||"number"!=typeof o.y||isNaN(o.y)){n=!1;break}}if(n)for(i=new Z,n=0;n<t.length;n++)r=t[n],i.add(new dt(r.x,r.y).freeze())}}else if(t instanceof Z)for(t=(i=t.copy()).iterator;t.next();)t.value.freeze();else A("Link.points value is not an instance of List or Array: "+t);i.freeze(),this.xb=i,this.bc(),this.o(),Ru(this),null!==(t=this.diagram)&&(t.fk||t.undoManager.isUndoingRedoing||t.kt.add(this),t.animationManager.ic&&(this.jh=i)),this.g("points",e,i)}}},pointsCount:{get:function(){return this.xb.count}},yc:{get:function(){return 0!=(16&this.Pa)},set:function(t){0!=(16&this.Pa)!==t&&(this.Pa^=16)}},suspendsRouting:{get:function(){return 0!=(32&this.Pa)},set:function(t){0!=(32&this.Pa)!==t&&(this.Pa^=32)}},Xu:{get:function(){return 0!=(64&this.Pa)},set:function(t){0!=(64&this.Pa)!==t&&(this.Pa^=64)}},defaultFromPoint:{get:function(){return this.u},set:function(t){this.u=t.copy()}},defaultToPoint:{get:function(){return this.I},set:function(t){this.I=t.copy()}},isOrthogonal:{get:function(){return 2==(2&this.Gj.value)}},isAvoiding:{get:function(){return 4==(4&this.Gj.value)}},geometry:{get:function(){return this.Qn&&(this.cj(),this.oa=this.makeGeometry()),this.oa}},firstPickIndex:{get:function(){return 2>=this.pointsCount?0:this.isOrthogonal||!Uu(this.computeSpot(!0))?1:0}},lastPickIndex:{get:function(){var t=this.pointsCount;return 0===t?0:2>=t?t-1:this.isOrthogonal||!Uu(this.computeSpot(!1))?t-2:t-1}},adjusting:{get:function(){return this.Pm},set:function(t){var e=this.Pm;e!==t&&(this.Pm=t,this.g("adjusting",e,t))}},corner:{get:function(){return this.kn},set:function(t){var e=this.kn;e!==t&&(this.kn=t,this.bc(),this.g("corner",e,t))}},curve:{get:function(){return this.mn},set:function(t){var e=this.mn;e!==t&&(this.mn=t,this.Na(),this.bc(),Xu(this,e===rc||e===oc||t===rc||t===oc),this.g("curve",e,t))}},curviness:{get:function(){return this.nn},set:function(t){var e=this.nn;e!==t&&(this.nn=t,this.Na(),this.bc(),this.g("curviness",e,t))}},routing:{get:function(){return this.Gj},set:function(t){var e=this.Gj;e!==t&&(this.Gj=t,this.Pf=null,this.Na(),Xu(this,2==(2&e.value)||2==(2&t.value)),this.g("routing",e,t))}},smoothness:{get:function(){return this.yp},set:function(t){var e=this.yp;e!==t&&(this.yp=t,this.bc(),this.g("smoothness",e,t))}},key:{get:function(){var t=this.diagram;if(null!==t&&t.model.jm())return t.model.Tb(this.data)}}}),Lu.prototype.invalidateOtherJumpOvers=Lu.prototype.iq,Lu.prototype.findClosestSegment=Lu.prototype.Wy,Lu.prototype.updateRoute=Lu.prototype.cj,Lu.prototype.invalidateRoute=Lu.prototype.Na,Lu.prototype.rollbackRoute=Lu.prototype.Rx,Lu.prototype.commitRoute=Lu.prototype.mf,Lu.prototype.startRoute=Lu.prototype.Hh,Lu.prototype.clearPoints=Lu.prototype.Uj,Lu.prototype.removePoint=Lu.prototype.Iv,Lu.prototype.addPointAt=Lu.prototype.lf,Lu.prototype.addPoint=Lu.prototype.ue,Lu.prototype.insertPointAt=Lu.prototype.m,Lu.prototype.insertPoint=Lu.prototype.Gz,Lu.prototype.setPointAt=Lu.prototype.K,Lu.prototype.setPoint=Lu.prototype.jd,Lu.prototype.getPoint=Lu.prototype.i,Lu.prototype.getOtherPort=Lu.prototype.uz,Lu.prototype.getOtherNode=Lu.prototype.at;var Ju=new z(Lu,"Normal",1),Zu=new z(Lu,"Orthogonal",2),tc=new z(Lu,"AvoidsNodes",6),ec=new z(Lu,"AvoidsNodesStraight",7),ic=new z(Lu,"None",0),nc=new z(Lu,"Bezier",9),rc=new z(Lu,"JumpGap",10),oc=new z(Lu,"JumpOver",11),sc=new z(Lu,"End",17),ac=new z(Lu,"Scale",18),lc=new z(Lu,"Stretch",19),hc=new z(Lu,"OrientAlong",21),uc=new z(Lu,"OrientPlus90",22),cc=new z(Lu,"OrientMinus90",23),dc=new z(Lu,"OrientOpposite",24),pc=new z(Lu,"OrientUpright",25),fc=new z(Lu,"OrientPlus90Upright",26),mc=new z(Lu,"OrientMinus90Upright",27),gc=new z(Lu,"OrientUpright45",28);function vc(t,e,i,n){it(this),this.ge=this.Er=!1,this.nt=t,this.Nx=e,this.xv=i,this.Ox=n,this.links=[]}function Ac(){it(this),this.$x=this.group=null,this.et=!0,this.abort=!1,this.Nd=this.Md=1,this.no=this.mo=-1,this.lc=this.kc=8,this.Cb=[[]],this.Mj=this.Lj=0,this.rA=!1,this.kA=22,this.Pz=111}function yc(t,e,i){return t.Md<=e&&e<=t.mo&&t.Nd<=i&&i<=t.no}function xc(t,e,i){return yc(t,e,i)?(e-=t.Md,e/=t.kc,i-=t.Nd,i/=t.lc,t.Cb[0|e][0|i]):Bc}function bc(t,e,i){yc(t,e,i)&&(e-=t.Md,e/=t.kc,i-=t.Nd,i/=t.lc,t.Cb[0|e][0|i]=_c)}function Cc(t){if(null!==t.Cb)for(var e=0;e<=t.Lj;e++)for(var i=0;i<=t.Mj;i++)t.Cb[e][i]>=Mc&&(t.Cb[e][i]=Bc)}function wc(t,e,i,n,r,o,s,a,l){if(!(e<o||e>s||i<a||i>l)){var h=0|e,u=0|i,c=t.Cb[h][u];if(c>=Mc&&c<kc)for(r?u+=n:h+=n,c+=1;o<=h&&h<=s&&a<=u&&u<=l&&!(c>=t.Cb[h][u]);)t.Cb[h][u]=c,c+=1,r?u+=n:h+=n;if(h=r?u:h,r)if(0<n)for(i+=n;i<h;i+=n)wc(t,e,i,1,!r,o,s,a,l),wc(t,e,i,-1,!r,o,s,a,l);else for(i+=n;i>h;i+=n)wc(t,e,i,1,!r,o,s,a,l),wc(t,e,i,-1,!r,o,s,a,l);else if(0<n)for(e+=n;e<h;e+=n)wc(t,e,i,1,!r,o,s,a,l),wc(t,e,i,-1,!r,o,s,a,l);else for(e+=n;e>h;e+=n)wc(t,e,i,1,!r,o,s,a,l),wc(t,e,i,-1,!r,o,s,a,l)}}function Ec(t,e,i,n,r,o,s,a,l){e|=0,i|=0;var h=_c,u=Mc;for(t.Cb[e][i]=u;h===_c&&e>o&&e<s&&i>a&&i<l;)u+=1,t.Cb[e][i]=u,r?i+=n:e+=n,h=t.Cb[e][i]}function Sc(t,e,i,n,r,o,s,a,l){e|=0,i|=0;var h=_c,u=kc;for(t.Cb[e][i]=u;h===_c&&e>o&&e<s&&i>a&&i<l;)t.Cb[e][i]=u,r?i+=n:e+=n,h=t.Cb[e][i]}function Tc(t,e,i,n,r,o){if(null!==t.Cb){t.abort=!1;var s=e.x,a=e.y;if(yc(t,s,a)&&(s-=t.Md,s/=t.kc,a-=t.Nd,a/=t.lc,yc(t,e=n.x,n=n.y)))if(e-=t.Md,e/=t.kc,n-=t.Nd,n/=t.lc,1>=Math.abs(s-e)&&1>=Math.abs(a-n))t.abort=!0;else{var l=o.x,h=o.y,u=o.x+o.width,c=o.y+o.height;l-=t.Md,l/=t.kc,h-=t.Nd,h/=t.lc,u-=t.Md,u/=t.kc,c-=t.Nd,c/=t.lc,o=Math.max(0,Math.min(t.Lj,0|l)),u=Math.min(t.Lj,Math.max(0,0|u)),h=Math.max(0,Math.min(t.Mj,0|h)),c=Math.min(t.Mj,Math.max(0,0|c)),s|=0,a|=0,e|=0,n|=0,l=0===i||90===i?1:-1,i=90===i||270===i,t.Cb[s][a]===_c?(Ec(t,s,a,l,i,o,u,h,c),Ec(t,s,a,1,!i,o,u,h,c),Ec(t,s,a,-1,!i,o,u,h,c)):Ec(t,s,a,l,i,s,a,s,a),t.Cb[e][n]===_c?(Sc(t,e,n,0===r||90===r?1:-1,90===r||270===r,o,u,h,c),Sc(t,e,n,1,!(90===r||270===r),o,u,h,c),Sc(t,e,n,-1,!(90===r||270===r),o,u,h,c)):Sc(t,e,n,l,i,e,n,e,n),t.abort||(wc(t,s,a,1,!1,o,u,h,c),wc(t,s,a,-1,!1,o,u,h,c),wc(t,s,a,1,!0,o,u,h,c),wc(t,s,a,-1,!0,o,u,h,c))}}}Lu.className="Link",Lu.Normal=Ju,Lu.Orthogonal=Zu,Lu.AvoidsNodes=tc,Lu.AvoidsNodesStraight=ec,Lu.None=ic,Lu.Bezier=nc,Lu.JumpGap=rc,Lu.JumpOver=oc,Lu.End=sc,Lu.Scale=ac,Lu.Stretch=lc,Lu.OrientAlong=hc,Lu.OrientPlus90=uc,Lu.OrientMinus90=cc,Lu.OrientOpposite=dc,Lu.OrientUpright=pc,Lu.OrientPlus90Upright=fc,Lu.OrientMinus90Upright=mc,Lu.OrientUpright45=gc,vc.prototype.hm=function(){if(!this.Er){var t=this.links;0<t.length&&(null!==(t=t[0].diagram)&&(t.Hw.add(this),this.ge=t.undoManager.isUndoingRedoing))}this.Er=!0},vc.prototype.fw=function(){if(this.Er){this.Er=!1;var t=this.links;if(0<t.length){var e=t[0],i=e.diagram;i=null===i||i.fk&&!this.ge,this.ge=!1,e.arrangeBundledLinks(t,i),1===t.length&&(e.Gf=null,t.length=0)}0===t.length&&(t=this.nt,null!==this&&null!==t.He&&t.He.remove(this),t=this.xv,null!==this&&null!==t.He&&t.He.remove(this))}},vc.className="LinkBundle",Ac.prototype.initialize=function(t){if(!(0>=t.width||0>=t.height)){var e=t.y,i=t.x+t.width,n=t.y+t.height;if(this.Md=Math.floor((t.x-this.kc)/this.kc)*this.kc,this.Nd=Math.floor((e-this.lc)/this.lc)*this.lc,this.mo=Math.ceil((i+2*this.kc)/this.kc)*this.kc,this.no=Math.ceil((n+2*this.lc)/this.lc)*this.lc,t=1+(0|Math.ceil((this.mo-this.Md)/this.kc)),e=1+(0|Math.ceil((this.no-this.Nd)/this.lc)),null===this.Cb||this.Lj<t-1||this.Mj<e-1){for(i=[],n=0;n<=t;n++)i[n]=[];this.Cb=i,this.Lj=t-1,this.Mj=e-1}if(t=Bc,null!==this.Cb)for(e=0;e<=this.Lj;e++)for(i=0;i<=this.Mj;i++)this.Cb[e][i]=t}},Ac.prototype.gk=function(t,e,i,n){if(t>this.mo||t+i<this.Md||e>this.no||e+n<this.Nd)return!0;t=(t-this.Md)/this.kc|0,e=(e-this.Nd)/this.lc|0,i=Math.max(0,i)/this.kc+1|0;var r=Math.max(0,n)/this.lc+1|0;if(0>t&&(i+=t,t=0),0>e&&(r+=e,e=0),0>i||0>r)return!0;for(n=0|Math.min(t+i-1,this.Lj),i=0|Math.min(e+r-1,this.Mj);t<=n;t++)for(r=e;r<=i;r++)if(this.Cb[t][r]===_c)return!1;return!0},c.Object.defineProperties(Ac.prototype,{bounds:{get:function(){return new Rt(this.Md,this.Nd,this.mo-this.Md,this.no-this.Nd)}},Zl:{get:function(){return this.kc},set:function(t){0<t&&t!==this.kc&&(this.kc=t,this.initialize(this.bounds))}},Yl:{get:function(){return this.lc},set:function(t){0<t&&t!==this.lc&&(this.lc=t,this.initialize(this.bounds))}}});var _c=0,Mc=1,kc=999999,Bc=kc+1;function Oc(){it(this),this.port=this.node=null,this.Vd=[],this.nq=!1}function Pc(t,e,i,n){switch(e=e.offsetY){case 8:return 90;case 2:return 180;case 1:return 270;case 4:return 0}switch(e){case 9:return 180<i?270:90;case 6:return 90<i&&270>=i?180:0}switch(t=180*Math.atan2(t.height,t.width)/Math.PI,e){case 3:return i>t&&i<=180+t?180:270;case 5:return i>180-t&&i<=360-t?270:0;case 12:return i>t&&i<=180+t?90:0;case 10:return i>180-t&&i<=360-t?180:90;case 7:return 90<i&&i<=180+t?180:i>180+t&&i<=360-t?270:0;case 13:return 180<i&&i<=360-t?270:i>t&&180>=i?90:0;case 14:return i>t&&i<=180-t?90:i>180-t&&270>=i?180:0;case 11:return i>180-t&&i<=180+t?180:i>180+t?270:90}return n&&15!==e&&(0>(i-=15)&&(i+=360)),i>t&&i<180-t?90:i>=180-t&&i<=180+t?180:i>180+t&&i<360-t?270:0}function Lc(t,e){var i=t.Vd;if(0===i.length){t:if(!t.nq){i=t.nq,t.nq=!0;var n=null,r=t.node;if(null===(r=r instanceof ku?r:null)||r.isSubGraphExpanded)var o=t.node.ev(t.port.portId);else{if(!r.actualBounds.v()){t.nq=i;break t}o=(n=r).dv()}var s=t.Vd.length=0,a=t.port.ga(ee,dt.alloc()),l=t.port.ga(he,dt.alloc());for((r=Rt.allocAt(a.x,a.y,0,0)).Ce(l),dt.free(a),dt.free(l),a=dt.allocAt(r.x+r.width/2,r.y+r.height/2),l=t.port.Ri(),o=o.iterator;o.next();){var h=o.value;if(h.isVisible()&&h.fromPort!==h.toPort){var u=h.fromPort===t.port||null!==h.fromNode&&h.fromNode.Ud(n),c=h.computeSpot(u,t.port);if(c.uf()&&null!==(u=u?h.toPort:h.fromPort)){var d=u.part;if(null!==d){var p=d.findVisibleNode();null!==p&&p!==d&&(u=(d=p).port),u=h.computeOtherPoint(d,u),d=a.Sa(u),0>(d-=l)&&(d+=360),0===(c=Pc(r,c,d,h.isOrthogonal))?(c=4,180<d&&(d-=360)):c=90===c?8:180===c?2:1,void 0===(p=t.Vd[s])?(p=new Nc(h,d,c),t.Vd[s]=p):(p.link=h,p.angle=d,p.xc=c),p.Bv.set(u),s++}}}}for(dt.free(a),t.Vd.sort(Oc.prototype.l),l=t.Vd.length,n=-1,s=a=0;s<l;s++)void 0!==(o=t.Vd[s])&&(o.xc!==n&&(n=o.xc,a=0),o.fq=a,a++);for(n=-1,a=0,s=l-1;0<=s;s--)void 0!==(l=t.Vd[s])&&(l.xc!==n&&(n=l.xc,a=l.fq+1),l.$l=a);if(s=t.Vd,c=t.port,n=t.node.portSpreading,a=dt.alloc(),l=dt.alloc(),o=dt.alloc(),h=dt.alloc(),c.ga(ee,a),c.ga(ne,l),c.ga(he,o),c.ga(ae,h),p=d=u=c=0,n===Mu)for(var f=0;f<s.length;f++){var m=s[f];if(null!==m){var g=m.link.computeThickness();switch(m.xc){case 8:d+=g;break;case 2:p+=g;break;case 1:c+=g;break;default:case 4:u+=g}}}var v=f=0,A=1,y=m=0;for(g=0;g<s.length;g++){var x=s[g];if(null!==x){if(f!==x.xc){switch(f=x.xc){case 8:var b=o;v=h;break;case 2:b=h,v=a;break;case 1:b=a,v=l;break;default:case 4:b=l,v=o}switch(m=v.x-b.x,y=v.y-b.y,f){case 8:d>Math.abs(m)?(A=Math.abs(m)/d,d=Math.abs(m)):A=1;break;case 2:p>Math.abs(y)?(A=Math.abs(y)/p,p=Math.abs(y)):A=1;break;case 1:c>Math.abs(m)?(A=Math.abs(m)/c,c=Math.abs(m)):A=1;break;default:case 4:u>Math.abs(y)?(A=Math.abs(y)/u,u=Math.abs(y)):A=1}v=0}var C=x.lq;if(n===Mu){switch(x=x.link.computeThickness(),x*=A,C.set(b),f){case 8:C.x=b.x+m/2+d/2-v-x/2;break;case 2:C.y=b.y+y/2+p/2-v-x/2;break;case 1:C.x=b.x+m/2-c/2+v+x/2;break;default:case 4:C.y=b.y+y/2-u/2+v+x/2}v+=x}else{var w=.5;n===_u&&(w=(x.fq+1)/(x.$l+1)),C.x=b.x+m*w,C.y=b.y+y*w}}}for(dt.free(a),dt.free(l),dt.free(o),dt.free(h),b=t.Vd,s=0;s<b.length;s++)null!==(n=b[s])&&(n.bv=t.computeEndSegmentLength(n));t.nq=i,Rt.free(r)}i=t.Vd}for(t=0;t<i.length;t++)if(null!==(r=i[t])&&r.link===e)return r;return null}function Nc(t,e,i){this.link=t,this.angle=e,this.xc=i,this.Bv=new dt,this.$l=this.fq=0,this.lq=new dt,this.bv=0}function Ic(){this.uh=this.Vg=Se,this.th=this.Ug=this.sh=this.Tg=NaN,this.Ip=this.Dn=null,this.Jp=this.En=1/0}function Dc(){it(this),this.I=this.B=null,this.ii=this.Sn=!0,this.Yn=!1,this.Tm=new dt(0,0).freeze(),this.Vn=!0,this.Un=null,this.Aw="",this.u=null,this.Xn=!1,this.l=null}function Rc(t,e,i,n,r,o,s,a){for(i=i.iterator;i.next();){var l=i.value;n&&!l.isTopLevel||null!==r&&!r(l)||!l.canLayout()||(o&&l instanceof mu?l.isLinkLabel||(l instanceof ku&&null===l.layout?Rc(t,e,l.memberParts,!1,r,o,s,a):(Fc(l),e.add(l))):s&&l instanceof Lu?e.add(l):!a||!l.Ub()||l instanceof mu||(Fc(l),e.add(l)))}}function Fc(t){var e=t.actualBounds;(0===e.width||0===e.height||isNaN(e.width)||isNaN(e.height))&&t.zb()}function Hc(t){it(this),this.hc=t,this.jf=new et,this.be=new et,this.ot=new ct,this.jt=new ct}function Uc(t,e){if(null===e)return!1;var i=t.jf.remove(e);return i&&(null!==(e=e.node)&&t.ot.remove(e)),i}function Vc(t,e){if(null!==e){t.be.add(e);var i=e.link;null!==i&&null===t.Zp(i)&&t.jt.add(i,e),e.network=t}}function jc(t,e){null!==e&&t.be.remove(e)&&(null!==(e=e.link)&&t.jt.remove(e))}function Gc(t,e,i){if(null!==i&&i.network!==e){Uc(t,i),e.zh(i);for(var n=i.sourceEdges;n.next();){var r=n.value;r.network!==e&&(jc(t,r),Vc(e,r),Gc(t,e,r.fromVertex))}for(n=i.destinationEdges;n.next();)(i=n.value).network!==e&&(jc(t,i),Vc(e,i),Gc(t,e,i.toVertex))}}function zc(t){it(this),this.Vc=t,this.l=new Rt(0,0,10,10).freeze(),this.u=new dt(5,5).freeze(),this.ti=this.hb=null,this.Dg=new Z,this.ug=new Z}function Qc(t,e){return t=t.ti,e=e.ti,t?e?(t=t.text)<(e=e.text)?-1:t>e?1:0:1:null!==e?-1:0}function Yc(t){it(this),this.kd=t,this.pg=this.Qf=this.rl=this.hb=null}function Kc(){Dc.call(this),this.isViewportSized=!0,this.Pp=this.Qp=NaN,this.Lg=new Lt(NaN,NaN).freeze(),this.af=new Lt(10,10).freeze(),this.wb=Wc,this.Bb=qc,this.Pc=ed,this.Jc=Xc}function Xc(t,e){return(t=t.text)<(e=e.text)?-1:t>e?1:0}Ac.className="PositionArray",Oc.prototype.toString=function(){for(var t=this.Vd,e=this.node.toString()+" "+t.length.toString()+":",i=0;i<t.length;i++){var n=t[i];null!==n&&(e+="\n  "+n.toString())}return e},Oc.prototype.hm=function(){this.Vd.length=0},Oc.prototype.l=function(t,e){return t===e?0:null===t?-1:null===e?1:t.xc<e.xc?-1:t.xc>e.xc?1:t.angle<e.angle?-1:t.angle>e.angle?1:0},Oc.prototype.computeEndSegmentLength=function(t){var e=t.link,i=e.computeEndSegmentLength(this.node,this.port,te,e.fromPort===this.port),n=t.fq;if(0>n)return i;var r=t.$l;if(1>=r||!e.isOrthogonal)return i;e=t.Bv;var o=t.lq;return 2!==t.xc&&8!==t.xc||(n=r-1-n),((t=2===t.xc||4===t.xc)?e.y<o.y:e.x<o.x)?i+8*n:(t?e.y===o.y:e.x===o.x)?i:i+8*(r-1-n)},Oc.className="Knot",Nc.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.xc.toString()+":"+this.fq.toString()+"/"+this.$l.toString()+" "+this.lq.toString()+" "+this.bv.toString()+" "+this.Bv.toString()},Nc.className="LinkInfo",Ic.prototype.copy=function(){var t=new Ic;return t.Vg=this.Vg.G(),t.uh=this.uh.G(),t.Tg=this.Tg,t.sh=this.sh,t.Ug=this.Ug,t.th=this.th,t.Dn=this.Dn,t.Ip=this.Ip,t.En=this.En,t.Jp=this.Jp,t},Ic.className="LinkSettings",Dc.prototype.cloneProtected=function(t){t.Sn=this.Sn,t.ii=this.ii,t.Yn=this.Yn,t.Tm.assign(this.Tm),t.Vn=this.Vn,t.Un=this.Un,t.Aw=this.Aw,t.Xn=!0},Dc.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Dc.prototype.cb=function(){},Dc.prototype.toString=function(){var t=B(this.constructor);return t+="(",null!==this.group&&(t+=" in "+this.group),null!==this.diagram&&(t+=" for "+this.diagram),t+")"},Dc.prototype.C=function(){if(this.isValidLayout){var t=this.diagram;if(null!==t&&!t.undoManager.isUndoingRedoing){var e=t.animationManager;!e.isTicking&&(e.defaultAnimation.isAnimating&&e.Uc(),this.isOngoing&&t.fk||this.isInitial&&!t.fk)&&(this.isValidLayout=!1,t.Xb())}}},Dc.prototype.createNetwork=function(){return new Hc(this)},Dc.prototype.makeNetwork=function(t){var e=this.createNetwork();return t instanceof Br?(e.tg(t.nodes,!0),e.tg(t.links,!0)):t instanceof ku?e.tg(t.memberParts):e.tg(t.iterator),e},Dc.prototype.updateParts=function(){var t=this.diagram;if(null===t&&null!==this.network)for(var e=this.network.vertexes.iterator;e.next();){var i=e.value.node;if(null!==i&&null!==(t=i.diagram))break}this.isValidLayout=!0;try{null!==t&&t.ta("Layout"),this.commitLayout()}finally{null!==t&&t.Ua("Layout")}},Dc.prototype.commitLayout=function(){if(null!==this.network){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();if(this.isRouting)for(t=this.network.edges.iterator;t.next();)t.value.commit()}},Dc.prototype.doLayout=function(t){var e=new et;t instanceof Br?(Rc(this,e,t.nodes,!0,this.pk,!0,!1,!0),Rc(this,e,t.parts,!0,this.pk,!0,!1,!0)):t instanceof ku?Rc(this,e,t.memberParts,!1,this.pk,!0,!1,!0):e.addAll(t.iterator);var i=e.count;if(0<i){null!==(t=this.diagram)&&t.ta("Layout"),i=Math.ceil(Math.sqrt(i)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var n=this.arrangementOrigin.x,r=n,o=this.arrangementOrigin.y,s=0,a=0;for(e=e.iterator;e.next();){var l=e.value;Fc(l);var h=l.measuredBounds,u=h.width;h=h.height,l.moveTo(r,o),l instanceof ku&&(l.pk=!1),r+=Math.max(u,50)+20,a=Math.max(a,Math.max(h,50)),s>=i-1?(s=0,r=n,o+=a+20,a=0):s++}null!==t&&t.Ua("Layout")}this.isValidLayout=!0},Dc.prototype.pk=function(t){return!(t.location.v()&&!(t instanceof ku&&t.pk))},Dc.prototype.Ti=function(t,e){var i=this.boundsComputation;return null!==i?(e||(e=new Rt),i(t,this,e)):e?(e.set(t.actualBounds),e):t.actualBounds},Dc.prototype.nx=function(t){var e=new et;return t instanceof Br?(Rc(this,e,t.nodes,!0,null,!0,!0,!0),Rc(this,e,t.links,!0,null,!0,!0,!0),Rc(this,e,t.parts,!0,null,!0,!0,!0)):Rc(this,e,t instanceof ku?t.memberParts:t.iterator,!1,null,!0,!0,!0),e},Dc.prototype.initialOrigin=function(t){var e=this.group;if(null!==e){var i=e.position.copy();return(isNaN(i.x)||isNaN(i.y))&&i.set(t),null!==(e=e.placeholder)&&(i=e.ga(ee),(isNaN(i.x)||isNaN(i.y))&&i.set(t),t=e.padding,i.x+=t.left,i.y+=t.top),i}return t},c.Object.defineProperties(Dc.prototype,{diagram:{get:function(){return this.B},set:function(t){this.B=t}},group:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t,null!==t&&(this.B=t.diagram))}},isOngoing:{get:function(){return this.Sn},set:function(t){this.Sn!==t&&(this.Sn=t)}},isInitial:{get:function(){return this.ii},set:function(t){this.ii=t,t||(this.Xn=!0)}},isViewportSized:{get:function(){return this.Yn},set:function(t){this.Yn!==t&&(this.Yn=t)&&this.C()}},isRouting:{get:function(){return this.Vn},set:function(t){this.Vn!==t&&(this.Vn=t)}},isRealtime:{get:function(){return this.Un},set:function(t){this.Un!==t&&(this.Un=t)}},isValidLayout:{get:function(){return this.Xn},set:function(t){this.Xn!==t&&(this.Xn=t,t||null!==(t=this.diagram)&&(t.Ig=!0))}},network:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t,null!==t&&(t.layout=this))}},boundsComputation:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t,this.C())}},arrangementOrigin:{get:function(){return this.Tm},set:function(t){this.Tm.A(t)||(this.Tm.assign(t),this.C())}}}),Dc.prototype.collectParts=Dc.prototype.nx,Dc.prototype.getLayoutBounds=Dc.prototype.Ti,Dc.prototype.invalidateLayout=Dc.prototype.C,Dc.className="Layout",Hc.prototype.clear=function(){if(this.jf)for(var t=this.jf.iterator;t.next();)t.value.clear();if(this.be)for(t=this.be.iterator;t.next();)t.value.clear();this.jf=new et,this.be=new et,this.ot=new ct,this.jt=new ct},Hc.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutNetwork"+(null!==this.layout?"("+this.layout.toString()+")":"");if(0>=t)return e;if(e+=" vertexes: "+this.jf.count+" edges: "+this.be.count,1<t){for(var i=this.jf.iterator;i.next();)e+="\n    "+i.value.toString(t-1);for(i=this.be.iterator;i.next();)e+="\n    "+i.value.toString(t-1)}return e},Hc.prototype.createVertex=function(){return new zc(this)},Hc.prototype.createEdge=function(){return new Yc(this)},Hc.prototype.tg=function(t,e,i){if(null!==t){for(void 0===e&&(e=!1),void 0===i&&(i=null),null===i&&(i=function(t){if(t instanceof mu)return!t.isLinkLabel;if(t instanceof Lu){var e=t.fromNode;return null!==e&&!e.isLinkLabel&&(null!==(t=t.toNode)&&!t.isLinkLabel)}return!1}),t=t.iterator;t.next();){var n=t.value;if(n instanceof mu&&(!e||n.isTopLevel)&&n.canLayout()&&i(n))if(n instanceof ku&&null===n.layout)this.tg(n.memberParts,!1);else if(null===this.Qi(n)){var r=this.createVertex();r.node=n,this.zh(r)}}for(t.reset();t.next();)if((n=t.value)instanceof Lu&&(!e||n.isTopLevel)&&n.canLayout()&&i(n)&&null===this.Zp(n)){var o=n.fromNode;r=n.toNode,null!==o&&null!==r&&o!==r&&(o=this.findGroupVertex(o),r=this.findGroupVertex(r),null!==o&&null!==r&&this.hk(o,r,n))}}},Hc.prototype.findGroupVertex=function(t){if(null===t)return null;var e=t.findVisibleNode();if(null===e)return null;if(null!==(t=this.Qi(e)))return t;for(e=e.containingGroup;null!==e;){if(null!==(t=this.Qi(e)))return t;e=e.containingGroup}return null},(i=Hc.prototype).zh=function(t){if(null!==t){this.jf.add(t);var e=t.node;null!==e&&this.ot.add(e,t),t.network=this}},i.Wl=function(t){if(null===t)return null;var e=this.Qi(t);return null===e&&((e=this.createVertex()).node=t,this.zh(e)),e},i.av=function(t){if(null!==t&&Uc(this,t)){for(var e=t.Dg,i=e.count-1;0<=i;i--){var n=e.L(i);this.$j(n)}for(t=(e=t.ug).count-1;0<=t;t--)i=e.L(t),this.$j(i)}},i.Qy=function(t){null!==t&&(null!==(t=this.Qi(t))&&this.av(t))},i.Qi=function(t){return null===t?null:this.ot.H(t)},i.Sp=function(t){if(null!==t){Vc(this,t);var e=t.toVertex;null!==e&&e.Qu(t),null!==(e=t.fromVertex)&&e.Ou(t)}},i.wy=function(t){if(null===t)return null;var e=t.fromNode,i=t.toNode,n=this.Zp(t);return null===n?((n=this.createEdge()).link=t,null!==e&&(n.fromVertex=this.Wl(e)),null!==i&&(n.toVertex=this.Wl(i)),this.Sp(n)):(n.fromVertex=null!==e?this.Wl(e):null,n.toVertex=null!==i?this.Wl(i):null),n},i.$j=function(t){if(null!==t){var e=t.toVertex;null!==e&&e.$u(t),null!==(e=t.fromVertex)&&e.Zu(t),jc(this,t)}},i.Py=function(t){null!==t&&(null!==(t=this.Zp(t))&&this.$j(t))},i.Zp=function(t){return null===t?null:this.jt.H(t)},i.hk=function(t,e,i){if(null===t||null===e)return null;if(t.network===this&&e.network===this){var n=this.createEdge();return n.link=i,n.fromVertex=t,n.toVertex=e,this.Sp(n),n}return null},i.ym=function(t){if(null!==t){var e=t.fromVertex,i=t.toVertex;null!==e&&null!==i&&(e.Zu(t),i.$u(t),t.ym(),e.Qu(t),i.Ou(t))}},i.Xp=function(){for(var t=M(),e=this.be.iterator;e.next();){var i=e.value;i.fromVertex===i.toVertex&&t.push(i)}for(e=t.length,i=0;i<e;i++)this.$j(t[i]);k(t)},Hc.prototype.deleteArtificialVertexes=function(){for(var t=M(),e=this.jf.iterator;e.next();){var i=e.value;null===i.node&&t.push(i)}for(i=t.length,e=0;e<i;e++)this.av(t[e]);for(e=M(),i=this.be.iterator;i.next();){var n=i.value;null===n.link&&e.push(n)}for(i=e.length,n=0;n<i;n++)this.$j(e[n]);k(t),k(e)},Hc.prototype.ay=function(t){void 0===t&&(t=!0),t&&(this.deleteArtificialVertexes(),function(t){for(var e=M(),i=t.be.iterator;i.next();){var n=i.value;null!==n.fromVertex&&null!==n.toVertex||e.push(n)}for(i=e.length,n=0;n<i;n++)t.$j(e[n]);k(e)}(this),this.Xp()),t=new Z;for(var e=!0;e;){e=!1;for(var i=this.jf.iterator;i.next();){var n=i.value;if(0<n.Dg.count||0<n.ug.count){e=this.layout.createNetwork(),t.add(e),Gc(this,e,n),e=!0;break}}}return t.sort(function(t,e){return null===t||null===e||t===e?0:e.vertexes.count-t.vertexes.count}),t},Hc.prototype.Vy=function(){for(var t=new et,e=this.jf.iterator;e.next();)t.add(e.value.node);for(e=this.be.iterator;e.next();)t.add(e.value.link);return t},c.Object.defineProperties(Hc.prototype,{layout:{get:function(){return this.hc},set:function(t){null!==t&&(this.hc=t)}},vertexes:{get:function(){return this.jf}},edges:{get:function(){return this.be}}}),Hc.prototype.findAllParts=Hc.prototype.Vy,Hc.prototype.splitIntoSubNetworks=Hc.prototype.ay,Hc.prototype.deleteSelfEdges=Hc.prototype.Xp,Hc.prototype.reverseEdge=Hc.prototype.ym,Hc.prototype.linkVertexes=Hc.prototype.hk,Hc.prototype.findEdge=Hc.prototype.Zp,Hc.prototype.deleteLink=Hc.prototype.Py,Hc.prototype.deleteEdge=Hc.prototype.$j,Hc.prototype.addLink=Hc.prototype.wy,Hc.prototype.addEdge=Hc.prototype.Sp,Hc.prototype.findVertex=Hc.prototype.Qi,Hc.prototype.deleteNode=Hc.prototype.Qy,Hc.prototype.deleteVertex=Hc.prototype.av,Hc.prototype.addNode=Hc.prototype.Wl,Hc.prototype.addVertex=Hc.prototype.zh,Hc.prototype.addParts=Hc.prototype.tg,Hc.className="LayoutNetwork",zc.prototype.clear=function(){this.ti=this.hb=null,this.Dg=new Z,this.ug=new Z},zc.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutVertex#"+rt(this);if(0<t&&(e+=null!==this.node?"("+this.node.toString()+")":"",1<t)){t="";for(var i=!0,n=this.Dg.iterator;n.next();){var r=n.value;i?i=!1:t+=",",t+=r.toString(0)}for(r="",i=!0,n=this.ug.iterator;n.next();){var o=n.value;i?i=!1:r+=",",r+=o.toString(0)}e+=" sources: "+t+" destinations: "+r}return e},zc.prototype.commit=function(){var t=this.hb;if(null!==t){var e=this.bounds,i=t.bounds;w(i)?(i.x=e.x,i.y=e.y,i.width=e.width,i.height=e.height):t.bounds=e.copy()}else if(null!==(t=this.node)){if(e=this.bounds,!(t instanceof ku)){i=Rt.alloc();var n=this.network.layout.Ti(t,i),r=t.locationObject.ga(oe);if(n.v()&&r.v())return t.moveTo(e.x+this.focusX-(r.x-n.x),e.y+this.focusY-(r.y-n.y)),void Rt.free(i);Rt.free(i)}t.moveTo(e.x,e.y)}},zc.prototype.Qu=function(t){null!==t&&(this.Dg.contains(t)||this.Dg.add(t))},zc.prototype.$u=function(t){null!==t&&this.Dg.remove(t)},zc.prototype.Ou=function(t){null!==t&&(this.ug.contains(t)||this.ug.add(t))},zc.prototype.Zu=function(t){null!==t&&this.ug.remove(t)},c.Object.defineProperties(zc.prototype,{sourceEdgesArrayAccess:{get:function(){return this.Dg._dataArray}},destinationEdgesArrayAccess:{get:function(){return this.ug._dataArray}},data:{get:function(){return this.hb},set:function(t){if(this.hb=t,null!==t){var e=t.bounds;t=e.x;var i=e.y,n=e.width;e=e.height,this.u.h(n/2,e/2),this.l.h(t,i,n,e)}}},node:{get:function(){return this.ti},set:function(t){if(this.ti!==t){this.ti=t,t.zb();var e=this.network.layout,i=Rt.alloc(),n=e.Ti(t,i);e=n.x;var r=n.y,o=n.width;if(n=n.height,isNaN(e)&&(e=0),isNaN(r)&&(r=0),this.l.h(e,r,o,n),Rt.free(i),!(t instanceof ku)&&(t=t.locationObject.ga(oe)).v())return void this.u.h(t.x-e,t.y-r);this.u.h(o/2,n/2)}}},bounds:{get:function(){return this.l},set:function(t){this.l.A(t)||this.l.assign(t)}},focus:{get:function(){return this.u},set:function(t){this.u.A(t)||this.u.assign(t)}},centerX:{get:function(){return this.l.x+this.u.x},set:function(t){var e=this.l;e.x+this.u.x!==t&&(e.ea(),e.x=t-this.u.x,e.freeze())}},centerY:{get:function(){return this.l.y+this.u.y},set:function(t){var e=this.l;e.y+this.u.y!==t&&(e.ea(),e.y=t-this.u.y,e.freeze())}},focusX:{get:function(){return this.u.x},set:function(t){var e=this.u;e.x!==t&&(e.ea(),e.x=t,e.freeze())}},focusY:{get:function(){return this.u.y},set:function(t){var e=this.u;e.y!==t&&(e.ea(),e.y=t,e.freeze())}},x:{get:function(){return this.l.x},set:function(t){var e=this.l;e.x!==t&&(e.ea(),e.x=t,e.freeze())}},y:{get:function(){return this.l.y},set:function(t){var e=this.l;e.y!==t&&(e.ea(),e.y=t,e.freeze())}},width:{get:function(){return this.l.width},set:function(t){var e=this.l;e.width!==t&&(e.ea(),e.width=t,e.freeze())}},height:{get:function(){return this.l.height},set:function(t){var e=this.l;e.height!==t&&(e.ea(),e.height=t,e.freeze())}},network:{get:function(){return this.Vc},set:function(t){this.Vc=t}},sourceVertexes:{get:function(){for(var t=new et,e=this.sourceEdges;e.next();)t.add(e.value.fromVertex);return t.iterator}},destinationVertexes:{get:function(){for(var t=new et,e=this.destinationEdges;e.next();)t.add(e.value.toVertex);return t.iterator}},vertexes:{get:function(){for(var t=new et,e=this.sourceEdges;e.next();)t.add(e.value.fromVertex);for(e=this.destinationEdges;e.next();)t.add(e.value.toVertex);return t.iterator}},sourceEdges:{get:function(){return this.Dg.iterator}},destinationEdges:{get:function(){return this.ug.iterator}},edges:{get:function(){for(var t=new Z,e=this.sourceEdges;e.next();)t.add(e.value);for(e=this.destinationEdges;e.next();)t.add(e.value);return t.iterator}},edgesCount:{get:function(){return this.Dg.count+this.ug.count}}}),zc.prototype.deleteDestinationEdge=zc.prototype.Zu,zc.prototype.addDestinationEdge=zc.prototype.Ou,zc.prototype.deleteSourceEdge=zc.prototype.$u,zc.prototype.addSourceEdge=zc.prototype.Qu,zc.className="LayoutVertex",zc.standardComparer=Qc,zc.smartComparer=function(t,e){if(null!==t){if(null!==e){t=t.ti;var i=e.ti;if(null!==t){if(null!==i){for(e=t.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),t=i.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),i=0;i<e.length;i++)if(""!==t[i]&&void 0!==t[i]){var n=parseFloat(e[i]),r=parseFloat(t[i]);if(isNaN(n)){if(!isNaN(r))return 1;if(0!==e[i].localeCompare(t[i]))return e[i].localeCompare(t[i])}else{if(isNaN(r))return-1;if(0!=n-r)return n-r}}else if(""!==e[i])return 1;return""!==t[i]&&void 0!==t[i]?-1:0}return 1}return null!==i?-1:0}return 1}return null!==e?-1:0},Yc.prototype.clear=function(){this.pg=this.Qf=this.rl=this.hb=null},Yc.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutEdge#"+rt(this);return 0<t&&(e+=null!==this.rl?"("+this.rl.toString()+")":"",1<t&&(e+=" "+(this.Qf?this.Qf.toString():"null")+" --\x3e "+(this.pg?this.pg.toString():"null"))),e},Yc.prototype.ym=function(){var t=this.Qf;this.Qf=this.pg,this.pg=t},Yc.prototype.commit=function(){},Yc.prototype.Ex=function(t){return this.pg===t?this.Qf:this.Qf===t?this.pg:null},c.Object.defineProperties(Yc.prototype,{network:{get:function(){return this.kd},set:function(t){this.kd=t}},data:{get:function(){return this.hb},set:function(t){this.hb!==t&&(this.hb=t)}},link:{get:function(){return this.rl},set:function(t){this.rl!==t&&(this.rl=t)}},fromVertex:{get:function(){return this.Qf},set:function(t){this.Qf!==t&&(this.Qf=t)}},toVertex:{get:function(){return this.pg},set:function(t){this.pg!==t&&(this.pg=t)}}}),Yc.prototype.getOtherVertex=Yc.prototype.Ex,Yc.className="LayoutEdge",u(Kc,Dc),Kc.prototype.cloneProtected=function(t){Dc.prototype.cloneProtected.call(this,t),t.Qp=this.Qp,t.Pp=this.Pp,t.Lg.assign(this.Lg),t.af.assign(this.af),t.wb=this.wb,t.Bb=this.Bb,t.Pc=this.Pc,t.Jc=this.Jc},Kc.prototype.cb=function(t){t.classType===Kc?t===ed||t===id||t===Zc||t===td?this.sorting=t:t===qc||t===Jc?this.arrangement=t:t===Wc||t===$c?this.alignment=t:A("Unknown enum value: "+t):Dc.prototype.cb.call(this,t)},Kc.prototype.doLayout=function(t){this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var e=this.nx(t);t=this.diagram;for(var i=e.copy().iterator;i.next();){var n=i.value;if(!n.Fh()||null===n.fromNode&&null===n.toNode){if(n.zb(),n instanceof ku)for(n=n.memberParts;n.next();)e.remove(n.value)}else e.remove(n)}var r=e.ma();if(0!==r.length){switch(this.sorting){case td:r.reverse();break;case ed:r.sort(this.comparer);break;case id:r.sort(this.comparer),r.reverse()}var o=this.wrappingColumn;isNaN(o)&&(o=0);var s=this.wrappingWidth;switch(isNaN(s)&&null!==t?(e=t.padding,s=Math.max(t.viewportBounds.width-e.left-e.right,0)):s=Math.max(this.wrappingWidth,0),0>=o&&0>=s&&(o=1),e=this.spacing.width,isFinite(e)||(e=0),i=this.spacing.height,isFinite(i)||(i=0),null!==t&&t.ta("Layout"),n=[],this.alignment){case $c:var a=e,l=i,h=Rt.alloc(),u=Math.max(this.cellSize.width,1);if(!isFinite(u))for(var c=u=0;c<r.length;c++){var d=this.Ti(r[c],h);u=Math.max(u,d.width)}if(u=Math.max(u+a,1),c=Math.max(this.cellSize.height,1),!isFinite(c))for(d=c=0;d<r.length;d++){var p=this.Ti(r[d],h);c=Math.max(c,p.height)}c=Math.max(c+l,1),d=this.arrangement;for(var f=p=this.arrangementOrigin.x,m=this.arrangementOrigin.y,g=0,v=0,A=0;A<r.length;A++){var y=r[A],x=this.Ti(y,h),b=Math.ceil((x.width+a)/u)*u,C=Math.ceil((x.height+l)/c)*c;switch(d){case Jc:var w=Math.abs(f-x.width);break;default:w=f+x.width}switch((0<o&&g>o-1||0<s&&0<g&&w-p>s)&&(n.push(new Rt(0,m,s+a,v)),g=0,f=p,m+=v,v=0),v=Math.max(v,C),d){case Jc:x=-x.width;break;default:x=0}switch(y.moveTo(f+x,m),d){case Jc:f-=b;break;default:f+=b}g++}n.push(new Rt(0,m,s+a,v)),Rt.free(h);break;case Wc:for(l=s,u=o,c=e,d=i,s=Rt.alloc(),p=Math.max(this.cellSize.width,1),o=m=h=0,a=dt.alloc(),f=0;f<r.length;f++)v=r[f],g=this.Ti(v,s),v=v.rf(v.locationObject,v.locationSpot,a),h=Math.max(h,v.x),m=Math.max(m,g.width-v.x),o=Math.max(o,v.y);switch(f=this.arrangement){case Jc:h+=c;break;default:m+=c}p=isFinite(p)?Math.max(p+c,1):Math.max(h+m,1);var E=v=this.arrangementOrigin.x;for(A=this.arrangementOrigin.y,m=0,l>=h&&(l-=h),h=y=0,b=Math.max(this.cellSize.height,1),x=o=0,C=!0,g=dt.alloc(),w=0;w<r.length;w++){var S=r[w],T=this.Ti(S,s),_=S.rf(S.locationObject,S.locationSpot,a);if(0<m)switch(f){case Jc:E=(E-v-(T.width-_.x))/p,E=(E=Ye.Z(Math.round(E),E)?Math.round(E):Math.floor(E))*p+v;break;default:E=(E-v+_.x)/p,E=(E=Ye.Z(Math.round(E),E)?Math.round(E):Math.ceil(E))*p+v}else switch(f){case Jc:y=E+_.x+T.width;break;default:y=E-_.x}switch(f){case Jc:var M=-(E+_.x)+y;break;default:M=E+T.width-_.x-y}if(0<u&&m>u-1||0<l&&0<m&&M>l){for(n.push(new Rt(0,C?A-o:A,l+c,x+o+d)),E=0;E<m&&w!==m;E++){var k=(M=r[w-m+E]).rf(M.locationObject,M.locationSpot,g);M.moveTo(M.position.x,M.position.y+o-k.y)}x+=d,A=C?A+x:A+(x+o),m=x=o=0,E=v,C=!1}switch(E===v&&(h=f===Jc?Math.max(h,T.width-_.x):Math.min(h,-_.x)),o=Math.max(o,_.y),x=Math.max(x,T.height-_.y),isFinite(b)&&(x=Math.max(x,Math.max(T.height,b)-_.y)),C?S.moveTo(E-_.x,A-_.y):S.moveTo(E-_.x,A),f){case Jc:E-=_.x+c;break;default:E+=T.width-_.x+c}m++}if(n.push(new Rt(0,A,l+c,(C?x:x+o)+d)),r.length!==m)for(l=0;l<m;l++)c=(u=r[r.length-m+l]).rf(u.locationObject,u.locationSpot,a),u.moveTo(u.position.x,u.position.y+o-c.y);if(dt.free(a),dt.free(g),f===Jc)for(r=0;r<n.length;r++)(o=n[r]).width+=h,o.x-=h;else for(r=0;r<n.length;r++)(o=n[r]).x>h&&(o.width+=o.x-h,o.x=h);Rt.free(s)}for(a=o=s=r=0;a<n.length;a++)l=n[a],r=Math.min(r,l.x),s=Math.min(s,l.y),o=Math.max(o,l.x+l.width);this.arrangement===Jc?this.commitLayers(n,new dt(r+e/2-(o+r),s-i/2)):this.commitLayers(n,new dt(r-e/2,s-i/2)),null!==t&&t.Ua("Layout"),this.isValidLayout=!0}},Kc.prototype.commitLayers=function(){},c.Object.defineProperties(Kc.prototype,{wrappingWidth:{get:function(){return this.Qp},set:function(t){this.Qp!==t&&(0<t||isNaN(t))&&(this.Qp=t,this.isViewportSized=isNaN(t),this.C())}},wrappingColumn:{get:function(){return this.Pp},set:function(t){this.Pp!==t&&(0<t||isNaN(t))&&(this.Pp=t,this.C())}},cellSize:{get:function(){return this.Lg},set:function(t){this.Lg.A(t)||(this.Lg.assign(t),this.C())}},spacing:{get:function(){return this.af},set:function(t){this.af.A(t)||(this.af.assign(t),this.C())}},alignment:{get:function(){return this.wb},set:function(t){this.wb===t||t!==Wc&&t!==$c||(this.wb=t,this.C())}},arrangement:{get:function(){return this.Bb},set:function(t){this.Bb===t||t!==qc&&t!==Jc||(this.Bb=t,this.C())}},sorting:{get:function(){return this.Pc},set:function(t){this.Pc===t||t!==Zc&&t!==td&&t!==ed&&t!==id||(this.Pc=t,this.C())}},comparer:{get:function(){return this.Jc},set:function(t){this.Jc!==t&&(this.Jc=t,this.C())}}});var $c=new z(Kc,"Position",0),Wc=new z(Kc,"Location",1),qc=new z(Kc,"LeftToRight",2),Jc=new z(Kc,"RightToLeft",3),Zc=new z(Kc,"Forward",4),td=new z(Kc,"Reverse",5),ed=new z(Kc,"Ascending",6),id=new z(Kc,"Descending",7);function nd(){this.Go=new et,this.io=new et,this.Ca=new et,this.Je=new ct,this.Ie=new ct,this.sj=new ct,this.B=null,this.Iq=!1}function rd(t,e,i){if(void 0!==e&&null!==e&&!t.diagram.undoManager.isUndoingRedoing&&!t.Je.contains(e)){void 0===i&&(i=!0);t:{if(void 0!==e&&null!==e&&!t.B.undoManager.isUndoingRedoing&&!t.Je.contains(e)){var n=t.Zs(e),r=od(t,e,n);if(null!==r&&(Ol(r),null!==(r=r.copy()))){var o=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,r.Hf=n,r.hb=e,t.Iq&&(r.$g="Tool"),t.diagram.add(r),r.hb=null,r.data=e,t.diagram.skipsModelSourceBindings=o,n=r;break t}}n=null}null!==n&&i&&t.resolveReferencesForData(e)}}function od(t,e,i){var n=(t=t.B).model;return n.ek()&&n.tv(e)?null===(e=t.groupTemplateMap.H(i))&&(null===(e=t.groupTemplateMap.H(""))&&(dd||(dd=!0,b('No Group template found for category "'+i+'"'),b("  Using default group template")),e=t.xw)):null===(e=t.nodeTemplateMap.H(i))&&(null===(e=t.nodeTemplateMap.H(""))&&(cd||(cd=!0,b('No Node template found for category "'+i+'"'),b("  Using default node template")),e=t.zw)),e}function sd(t,e,i){for(var n in i){var r=e[n],o=i[n];if(E(o)){if(!E(r)||r.length<o.length)return!1;for(var s=0;s<r.length;s++){var a=o[s];if(void 0!==a&&!ad(t,r[s],a))return!1}}else if(!ad(t,r,o))return!1}return!0}function ad(t,e,i){if("function"==typeof i){if(!i(e))return!1}else if(i instanceof RegExp){if(!e||!i.test(e.toString()))return!1}else if(w(e)&&w(i)){if(!sd(t,e,i))return!1}else if(e!==i)return!1;return!0}function ld(t,e){var i=e.li;if(E(i)){var n=t.sj.H(i);if(null===n)(n=[]).push(e),t.sj.add(i,n);else{for(t=0;t<n.length;t++)if(n[t]===e)return;n.push(e)}}}function hd(t,e,i){El(e,function(t){for(var e=(t=t.W.j).length,n=0;n<e;n++)Mo(i,t[n])});var n=e.li;if(E(n)){var r=t.sj.H(n);if(null!==r)for(var o=0;o<r.length;o++)if(r[o]===e){r.splice(o,1),0===r.length&&t.sj.remove(n);break}}}function ud(t,e,i,n,r){if(null===e||r&&!e.canCopy())return null;if(n.contains(e))return n.H(e);var o=t.copyPartData(e,i);if(!(o instanceof Xh))return null;if(o.isSelected=!1,o.isHighlighted=!1,n.add(e,o),e instanceof mu){for(var s=e.linksConnected;s.next();){var a=s.value;if(a.fromNode===e){var l=n.H(a);null!==l&&(l.fromNode=o)}a.toNode===e&&(null!==(a=n.H(a))&&(a.toNode=o))}if(e instanceof ku&&o instanceof ku)for(e=e.memberParts;e.next();)(s=ud(t,e.value,i,n,r))instanceof Lu||null===s||(s.containingGroup=o)}else if(e instanceof Lu&&o instanceof Lu)for(null!==(s=e.fromNode)&&(null!==(s=n.H(s))&&(o.fromNode=s)),null!==(s=e.toNode)&&(null!==(s=n.H(s))&&(o.toNode=s)),e=e.labelNodes;e.next();)null!==(s=ud(t,e.value,i,n,r))&&s instanceof mu&&(s.labeledLink=o);return o}Kc.className="GridLayout",Kc.standardComparer=Xc,Kc.smartComparer=function(t,e){if(null!==t){if(null!==e){t=t.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),e=e.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/);for(var i=0;i<t.length;i++)if(""!==e[i]&&void 0!==e[i]){var n=parseFloat(t[i]),r=parseFloat(e[i]);if(isNaN(n)){if(!isNaN(r))return 1;if(0!==t[i].localeCompare(e[i]))return t[i].localeCompare(e[i])}else{if(isNaN(r))return-1;if(0!=n-r)return n-r}}else if(""!==t[i])return 1;return""!==e[i]&&void 0!==e[i]?-1:0}return 1}return null!==e?-1:0},Kc.Position=$c,Kc.Location=Wc,Kc.LeftToRight=qc,Kc.RightToLeft=Jc,Kc.Forward=Zc,Kc.Reverse=td,Kc.Ascending=ed,Kc.Descending=id,(i=nd.prototype).clear=function(){this.Go.clear(),this.io.clear(),this.Ca.clear(),this.Je.clear(),this.Ie.clear(),this.sj.clear()},i.Wd=function(t){this.B=t},i.Vi=function(t){if(t instanceof mu){if(this.Go.add(t),t instanceof ku){var e=t.containingGroup;null===e?this.B.Fi.add(t):e.wl.add(t),null!==(e=t.layout)&&(e.diagram=this.B)}}else t instanceof Lu?this.io.add(t):t instanceof fu||this.Ca.add(t);null===(e=t.data)||t instanceof fu||(t instanceof Lu?this.Ie.add(e,t):this.Je.add(e,t))},i.Fc=function(t){if(t.Tj(),t instanceof mu){if(this.Go.remove(t),t instanceof ku){var e=t.containingGroup;null===e?this.B.Fi.remove(t):e.wl.remove(t),null!==(e=t.layout)&&(e.diagram=null)}}else t instanceof Lu?this.io.remove(t):t instanceof fu||this.Ca.remove(t);null===(e=t.data)||t instanceof fu||(t instanceof Lu?this.Ie.remove(e):this.Je.remove(e))},i.wd=function(){for(var t=this.B.nodeTemplateMap.iterator;t.next();){var e=t.value,i=t.key;(!e.Ub()||e instanceof ku)&&A('Invalid node template in Diagram.nodeTemplateMap: template for "'+i+'" must be a Node or a simple Part, not a Group or Link: '+e)}for(t=this.B.groupTemplateMap.iterator;t.next();)e=t.value,i=t.key,e instanceof ku||A('Invalid group template in Diagram.groupTemplateMap: template for "'+i+'" must be a Group, not a normal Node or Link: '+e);for(t=this.B.linkTemplateMap.iterator;t.next();)e=t.value,i=t.key,e instanceof Lu||A('Invalid link template in Diagram.linkTemplateMap: template for "'+i+'" must be a Link, not a normal Node or simple Part: '+e);for(t=M(),e=this.B.selection.iterator;e.next();)(i=e.value.data)&&t.push(i);for(e=M(),i=this.B.highlighteds.iterator;i.next();){var n=i.value.data;n&&e.push(n)}for(i=M(),n=this.nodes.iterator;n.next();){var r=n.value;null!==r.data&&(i.push(r.data),i.push(r.location))}for(n=this.links.iterator;n.next();)null!==(r=n.value).data&&(i.push(r.data),i.push(r.location));for(n=this.parts.iterator;n.next();)null!==(r=n.value).data&&(i.push(r.data),i.push(r.location));for(this.removeAllModeledParts(),this.addAllModeledParts(),n=0;n<t.length;n++)null!==(r=this.vc(t[n]))&&(r.isSelected=!0);for(n=0;n<e.length;n++)null!==(r=this.vc(e[n]))&&(r.isHighlighted=!0);for(n=0;n<i.length;n+=2)null!==(r=this.vc(i[n]))&&(r.location=i[n+1]);k(t),k(e),k(i)},nd.prototype.addAllModeledParts=function(){this.addModeledParts(this.diagram.model.nodeDataArray)},nd.prototype.addModeledParts=function(t,e){var i=this,n=this.diagram.model;t.forEach(function(t){n.sb(t)&&rd(i,t,!1)}),t.forEach(function(t){n.sb(t)&&i.resolveReferencesForData(t)}),!1!==e&&Oo(this.diagram,!1)},nd.prototype.insertLink=function(){return null},nd.prototype.resolveReferencesForData=function(){},nd.prototype.Zs=function(t){return this.B.model.Zs(t)},nd.prototype.getLinkCategoryForData=function(){return""},nd.prototype.setLinkCategoryForData=function(){},nd.prototype.setFromNodeForLink=function(){},nd.prototype.setToNodeForLink=function(){},nd.prototype.findLinkTemplateForCategory=function(t){var e=this.B.linkTemplateMap.H(t);return null===e&&(null===(e=this.B.linkTemplateMap.H(""))&&(pd||(pd=!0,b('No Link template found for category "'+t+'"'),b("  Using default link template")),e=this.B.yw)),e},nd.prototype.removeAllModeledParts=function(){this.ut(this.diagram.model.nodeDataArray)},nd.prototype.ut=function(t){var e=this;t.forEach(function(t){e.vq(t)})},nd.prototype.vq=function(t){null!==(t=this.vc(t))&&(po(this.diagram,t,!1),this.unresolveReferencesForPart(t))},nd.prototype.unresolveReferencesForPart=function(){},nd.prototype.removeDataForLink=function(){},nd.prototype.findPartForKey=function(t){return null===t||void 0===t?null:null!==(t=this.B.model.Ib(t))?this.Je.H(t):null},nd.prototype.Jb=function(t){return null===t||void 0===t?null:null===(t=this.B.model.Ib(t))?null:(t=this.Je.H(t))instanceof mu?t:null},nd.prototype.findLinkForKey=function(){return null},(i=nd.prototype).vc=function(t){if(null===t)return null;var e=this.Je.H(t);return null!==e?e:e=this.Ie.H(t)},i.Mi=function(t){return null===t?null:(t=this.Je.H(t))instanceof mu?t:null},i.uc=function(t){return null===t?null:this.Ie.H(t)},i.Ws=function(t){for(var e=0;e<arguments.length;++e);e=new et;for(var i=this.Go.iterator;i.next();){var n=i.value,r=n.data;if(null!==r)for(var o=0;o<arguments.length;o++){var s=arguments[o];if(w(s)&&sd(this,r,s)){e.add(n);break}}}return e.iterator},i.Vs=function(t){for(var e=0;e<arguments.length;++e);e=new et;for(var i=this.io.iterator;i.next();){var n=i.value,r=n.data;if(null!==r)for(var o=0;o<arguments.length;o++){var s=arguments[o];if(w(s)&&sd(this,r,s)){e.add(n);break}}}return e.iterator},nd.prototype.doModelChanged=function(t){if(this.B){var e=this.B;if(t.model===e.model){var i=t.change;if(e.doModelChanged(t),e.aa){e.aa=!1;try{var n=t.modelChange;if(""!==n)if(i===bi){if("nodeCategory"===n){var r=this.vc(t.object),o=t.newValue;null!==r&&"string"==typeof o&&(r.category=o)}else"nodeDataArray"===n&&(this.ut(t.oldValue),this.addModeledParts(t.newValue));e.isModified=!0}else if(i===Ci){var s=t.newValue;"nodeDataArray"===n&&w(s)&&rd(this,s),e.isModified=!0}else if(i===wi){var a=t.oldValue;"nodeDataArray"===n&&w(a)&&this.vq(a),e.isModified=!0}else i===xi&&("SourceChanged"===n?null!==t.object?this.updateDataBindings(t.object,t.propertyName):(this.Eq(),this.updateAllTargetBindings()):"ModelDisplaced"===n&&this.wd());else if(i===bi){var l=t.propertyName,h=t.object;h===e.model?"nodeKeyProperty"!==l&&"nodeCategoryProperty"!==l||e.undoManager.isUndoingRedoing||this.wd():this.updateDataBindings(h,l),e.isModified=!0}else if(i===Ci||i===wi){var u=t.change===Ci,c=u?t.newParam:t.oldParam,d=u?t.newValue:t.oldValue,p=this.sj.H(t.object);if(Array.isArray(p))for(t=0;t<p.length;t++){var f=p[t];if(u)Ll(f,d,c);else if(!(0>c)){var m=c+Pl(f);f.Fc(m,!0),Nl(f,m,c)}}e.isModified=!0}}finally{e.aa=!0}}}}},nd.prototype.updateAllTargetBindings=function(t){void 0===t&&(t="");for(var e=this.parts.iterator;e.next();)e.value.Aa(t);for(e=this.nodes.iterator;e.next();)e.value.Aa(t);for(e=this.links.iterator;e.next();)e.value.Aa(t)},nd.prototype.Eq=function(){for(var t=this.B.model,e=new et,i=t.nodeDataArray,n=0;n<i.length;n++)e.add(i[n]);var r=[];for(this.nodes.each(function(t){null===t.data||e.contains(t.data)||r.push(t.data)}),this.parts.each(function(t){null===t.data||e.contains(t.data)||r.push(t.data)}),r.forEach(function(e){Dd(t,e,!1)}),n=0;n<i.length;n++){var o=i[n];null===this.vc(o)&&Id(t,o,!1)}for(this.refreshDataBoundLinks(),i=this.parts.iterator;i.next();)i.value.updateRelationshipsFromData();for(i=this.nodes.iterator;i.next();)i.value.updateRelationshipsFromData();for(i=this.links.iterator;i.next();)i.value.updateRelationshipsFromData()},nd.prototype.refreshDataBoundLinks=function(){},nd.prototype.updateRelationshipsFromData=function(){},nd.prototype.updateDataBindings=function(t,e){if("string"==typeof e){var i=this.vc(t);if(null!==i)i.Aa(e);else{i=null;for(var n=this.sj.iterator;n.next();){for(var r=n.value,o=0;o<r.length;o++){var s=r[o].yx(t);null!==s&&(null===i&&(i=M()),i.push(s))}if(null!==i)break}if(null!==i){for(n=0;n<i.length;n++)i[n].Aa(e);k(i)}}t===this.diagram.model.modelData&&this.updateAllTargetBindings(e)}},nd.prototype.Yj=function(t,e,i){var n=new ct;if(E(t))for(var r=0;r<t.length;r++)ud(this,t[r],e,n,i);else for(t=t.iterator;t.next();)ud(this,t.value,e,n,i);if(null!==e){i=e.model,t=null!==(t=e.toolManager.findTool("Dragging"))?t.dragOptions.dragsLink:e.Mk.dragsLink,r=new et;for(var o=new ct,s=n.iterator;s.next();){var a=s.value;if(a instanceof Lu)t||null!==a.fromNode&&null!==a.toNode||r.add(a);else if(a instanceof mu&&null!==a.data&&i.km()){var l=a,h=(a=s.key).yg();null!==h&&(null!==(h=n.H(h))?(i.Be(l.data,i.ja(h.data)),l=e.uc(l.data),null!==(a=a.Pi())&&null!==l&&o.add(a,l)):i.Be(l.data,void 0))}}if(0<r.count&&e.vt(r,!1),0<o.count)for(i=o.iterator;i.next();)n.add(i.key,i.value)}if(null!==e&&null!==this.B&&null!==(i=(e=e.model).afterCopyFunction)){var u=new ct;n.each(function(t){null!==t.key.data&&u.add(t.key.data,t.value.data)}),i(u,e,this.B.model)}for(e=n.iterator;e.next();)e.value.Aa();return n},nd.prototype.copyPartData=function(t,e){var i=null,n=t.data;if(null!==n&&null!==e){var r=e.model;t instanceof Lu||w(n=r.copyNodeData(n))&&(r.kf(n),i=e.vc(n))}else Ol(t),null!==(i=t.copy())&&(r=this.B,null!==e?e.add(i):null!==n&&null!==r&&null!==r.commandHandler&&r.commandHandler.copiesClipboardData&&(e=r.model,r=null,i instanceof Lu||(r=e.copyNodeData(n)),w(r)&&(i.data=r)));return i},c.Object.defineProperties(nd.prototype,{nodes:{get:function(){return this.Go}},links:{get:function(){return this.io}},parts:{get:function(){return this.Ca}},diagram:{get:function(){return this.B}},addsToTemporaryLayer:{get:function(){return this.Iq},set:function(t){this.Iq=t}}}),nd.prototype.updateAllRelationshipsFromData=nd.prototype.Eq,nd.prototype.findLinksByExample=nd.prototype.Vs,nd.prototype.findNodesByExample=nd.prototype.Ws,nd.prototype.findLinkForData=nd.prototype.uc,nd.prototype.findNodeForData=nd.prototype.Mi,nd.prototype.findPartForData=nd.prototype.vc,nd.prototype.findNodeForKey=nd.prototype.Jb,nd.prototype.removeModeledPart=nd.prototype.vq,nd.prototype.removeModeledParts=nd.prototype.ut,nd.prototype.rebuildParts=nd.prototype.wd;var cd=!1,dd=!1,pd=!1;function fd(t){nd.apply(this,arguments)}function md(t,e){e.forEach(function(e){gd(t,e)}),Oo(t.diagram,!1)}function gd(t,e){if(void 0!==e&&null!==e&&!t.diagram.undoManager.isUndoingRedoing&&!t.Ie.contains(e)){var i=t.getLinkCategoryForData(e),n=t.findLinkTemplateForCategory(i);if(null!==n){Ol(n);var r=n.copy();if(null!==r){n=t.diagram.skipsModelSourceBindings,t.diagram.skipsModelSourceBindings=!0,r.Hf=i,r.hb=e;var o=ip(i=t.diagram.model,e,!0);""!==o&&(r.fromPortId=o),void 0!==(o=tp(i,e,!0))&&((o=t.Jb(o))instanceof mu&&(r.fromNode=o)),""!==(o=ip(i,e,!1))&&(r.toPortId=o),void 0!==(o=tp(i,e,!1))&&((o=t.Jb(o))instanceof mu&&(r.toNode=o)),i=i.zg(e),Array.isArray(i)&&i.forEach(function(e){null!==(e=t.Jb(e))&&(e.labeledLink=r)}),t.Iq&&(r.$g="Tool"),t.diagram.add(r),r.hb=null,r.data=e,t.diagram.skipsModelSourceBindings=n}}}}function vd(t,e){e.forEach(function(e){t.vq(e)})}function Ad(){nd.apply(this,arguments),this.ih=null}function yd(t,e,i){if(null!==e&&null!==i){var n=t.diagram.toolManager.findTool("Linking"),r=e,o=i;if(t.diagram.isTreePathToChildren){for(e=o.linksConnected;e.next();)if(e.value.toNode===o)return}else for(o=e,e=(r=i).linksConnected;e.next();)if(e.value.fromNode===r)return;if((null===n||!an(n,r,o,null,!0))&&(n=t.getLinkCategoryForData(i.data),null!==(e=t.findLinkTemplateForCategory(n))&&(Ol(e),null!==(e=e.copy())))){var s=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,e.Hf=n,e.hb=i.data,e.fromNode=r,e.toNode=o,t.diagram.add(e),e.hb=null,e.data=i.data,t.diagram.skipsModelSourceBindings=s}}}function xd(t){this.Gt=',\n  "insertedNodeKeys": ',this.qw=',\n  "modifiedNodeData": ',this.It=',\n  "removedNodeKeys": ',this.Jh=null,it(this),this.on=this.Qa="",this.Uf=!1,this.l={},this.Cc=[],this.ab=new ct,this.ui="key",this.Jk=this.tl=null,this.en=this.fn=!1,this.hn=!0,this.Qm=null,this.Aj="category",this.Nf=new ct,this.iu=new Z,this.lh=!1,this.u=null,this.undoManager=new Si,void 0!==t&&(this.nodeDataArray=t)}function bd(t){return',\n  "modelData": '+Od(t,t.modelData)}function Cd(t,e){w(e=e.modelData)&&(t.vm(e),t.modelData=e)}function wd(t,e,i,n){if(e===i)return!0;if(typeof e!=typeof i||"function"==typeof e||"function"==typeof i)return!1;if(Array.isArray(e)&&Array.isArray(i)){if(n.H(e)===i)return!0;if(n.add(e,i),e.length!==i.length)return!1;for(var r=0;r<e.length;r++)if(!wd(t,e[r],i[r],n))return!1;return!0}if(w(e)&&w(i)){if(n.H(e)===i)return!0;for(var o in n.add(e,i),e){var s=e[o];if(!kd(o,s)){var a=i[o];if(void 0===a||!wd(t,s,a,n))return!1}}for(r in i)if(!kd(r,o=i[r])&&(void 0===(s=e[r])||!wd(t,s,o,n)))return!1;return!0}return!1}function Ed(t,e,i){t[i]!==e[i]&&A("Model.computeJsonDifference: Model."+i+' is not the same in both models: "'+t[i]+'" and "'+e[i]+'"')}function Sd(t,e){function i(t,e){if(t!==(e=e.part.data)){var i=n.get(t);null===i?((i=new et).add(e),n.add(t,i)):i.add(e)}}var n=t.Jh;null===n&&(n=new ct,e.changes.each(function(t){if(null!==t.diagram){var e=t.change;e===bi?(t=t.object.panel)&&(e=t.data)&&i(e,t):e!==Ci&&e!==wi||(e=(t=t.object).itemArray)&&i(e,t)}}),t.Jh=n)}function Td(t,e){for(var i=new et,n=0;n<t.nodeDataArray.length;n++){var r=t.nodeDataArray[n];_d(t,e,r,r,i)}return i}function _d(t,e,i,n,r){if(Array.isArray(i))for(var o=0;o<i.length;o++){var s=i[o];if(s===e)return r.add(n),!0;if(_d(t,e,s,n,r))return!0}else if(w(i)&&Object.getPrototypeOf(i)===Object.prototype)for(o in i){if((s=i[o])===e)return r.add(n),!0;if(_d(t,e,s,n,r))return!0}return!1}function Md(t,e,i){void 0===i&&(i=!1);var n=e.length;if(0>=n)return"[]";var r=new Y;r.add("[ "),i&&1<n&&r.add("\n");for(var o=0;o<n;o++){var s=e[o];void 0!==s&&(0<o&&(r.add(","),i&&r.add("\n")),r.add(t.Fm(s)))}return i&&1<n&&r.add("\n"),r.add(" ]"),r.toString()}function kd(t,e){return void 0===e||"__gohashid"===t||"_"===t[0]||"function"==typeof e}function Bd(t){return isNaN(t)?"NaN":1/0===t?"9e9999":-1/0===t?"-9e9999":t}function Od(t,e){var i=e;if(i instanceof dt)e={class:"go.Point",x:Bd(i.x),y:Bd(i.y)};else if(i instanceof Lt)e={class:"go.Size",width:Bd(i.width),height:Bd(i.height)};else if(i instanceof Rt)e={class:"go.Rect",x:Bd(i.x),y:Bd(i.y),width:Bd(i.width),height:Bd(i.height)};else if(i instanceof qt)e={class:"go.Margin",top:Bd(i.top),right:Bd(i.right),bottom:Bd(i.bottom),left:Bd(i.left)};else if(i instanceof He)e=i.eb()?{class:"go.Spot",x:Bd(i.x),y:Bd(i.y),offsetX:Bd(i.offsetX),offsetY:Bd(i.offsetY)}:{class:"go.Spot",enum:i.toString()};else if(i instanceof Ma){if(e={class:"go.Brush",type:i.type.name},i.type===ja?e.color=i.color:i.type!==Ga&&i.type!==za||(e.start=i.start,e.end=i.end,i.type===za&&(0!==i.startRadius&&(e.startRadius=Bd(i.startRadius)),isNaN(i.endRadius)||(e.endRadius=Bd(i.endRadius)))),null!==i.colorStops){var n={};for(i=i.colorStops.iterator;i.next();)n[i.key]=i.value;e.colorStops=n}}else i instanceof Ke?(e={class:"go.Geometry",type:i.type.name},0!==i.startX&&(e.startX=Bd(i.startX)),0!==i.startY&&(e.startY=Bd(i.startY)),0!==i.endX&&(e.endX=Bd(i.endX)),0!==i.endY&&(e.endY=Bd(i.endY)),i.spot1.A(ee)||(e.spot1=i.spot1),i.spot2.A(he)||(e.spot2=i.spot2),i.type===si&&(e.path=$e(i))):i instanceof z&&(e={class:"go.EnumValue",classType:jd(t,i.classType),name:i.name});for(var r in n="{",i=!0,e){var o=zd(e,r);if(!kd(r,o))if(i?i=!1:n+=", ",n+='"'+r+'":',"points"===r&&o instanceof Z){var s="[";for(o=o.iterator;o.next();){var a=o.value;1<s.length&&(s+=","),s+=t.Fm(a.x),s+=",",s+=t.Fm(a.y)}n+=s+="]"}else n+=t.Fm(o)}return n+"}"}function Pd(t){return"number"==typeof t?t:"NaN"===t?NaN:"9e9999"===t?1/0:"-9e9999"===t?-1/0:parseFloat(t)}function Ld(t,e,i,n,r,o,s,a,l){void 0===a&&(a=null),void 0===l&&(l=null);var h=new yi;h.model=t,h.change=i,h.modelChange=e,h.propertyName=n,h.object=r,h.oldValue=o,h.oldParam=a,h.newValue=s,h.newParam=l,t.Ns(h)}function Nd(t){return"number"==typeof t||"string"==typeof t}function Id(t,e,i){var n=t.ja(e);void 0!==n&&t.ab.H(n)===e||(t.lt(e),void 0===(n=t.ja(e))?A("Model.makeNodeDataKeyUnique failed on "+e+".  Data not added to Model."):(t.ab.add(n,e),n=null,i&&(n=t.Cc.length,T(t.Cc,n,e)),Ld(t,"nodeDataArray",Ci,"nodeDataArray",t,null,e,null,n),t.xm(e),t.wm(e)))}function Dd(t,e,i){var n=t.ja(e);if(void 0!==n&&t.ab.remove(n),n=null,i){t:if(i=t.Cc,Array.isArray(i))n=i.indexOf(e);else{n=i.length;for(var r=0;r<n;r++)if(i[r]===e){n=r;break t}n=-1}if(0>n)return;_(t.Cc,n)}Ld(t,"nodeDataArray",wi,"nodeDataArray",t,e,null,n,null),t.Dq(e)}function Rd(t,e,i){if(void 0!==e){var n=t.Nf.H(e);null===n&&(n=new et,t.Nf.add(e,n)),n.add(i)}}function Fd(t,e,i){if(void 0!==e){var n=t.Nf.H(e);n instanceof et&&(void 0===i||null===i?t.Nf.remove(e):(n.remove(i),0===n.count&&t.Nf.remove(e)))}}function Hd(t,e){return void 0===e?null:(t=t.Nf.H(e))instanceof et?t:null}function Ud(t,e,i){if(t.copiesArrays&&Array.isArray(e)){var n=[];for(i=0;i<e.length;i++){var r=Ud(t,e[i],t.copiesArrayObjects);n.push(r)}return it(n),n}if(i&&w(e)){for(n in i=(i=e.constructor)?new i:{},r=t.copiesKey||"string"!=typeof t.nodeKeyProperty?null:t.nodeKeyProperty,e)if("__gohashid"===n)i.__gohashid=void 0;else if(n===r)i[r]=void 0;else{var o=zd(e,n),s=jd(t,o);"GraphObject"===s||"Diagram"===s||"Layer"===s||"RowColumnDefinition"===s||"AnimationManager"===s||"Tool"===s||"CommandHandler"===s||"Layout"===s||"InputEvent"===s||"DiagramEvent"===s||o instanceof xd||o instanceof Si||o instanceof Ei||o instanceof yi?Qd(i,n,o):Qd(i,n,o=Ud(t,o,!1))}return it(i),i}return e instanceof dt?e.copy():e instanceof Lt?e.copy():e instanceof Rt?e.copy():e instanceof He?e.copy():e instanceof qt?e.copy():e}function Vd(){return new xd}function jd(t,e){if("function"==typeof e){if(e.className)return e.className;if(e.name)return e.name}else if("object"==typeof e&&null!==e&&e.constructor)return jd(t,e.constructor);return typeof e}function Gd(t){return Kd[t]?Kd[t]:void 0!==p.go&&p.go[t]?p.go[t]:null}function zd(t,e){if(!t||!e)return null;try{if("function"==typeof e)var i=e(t);else"function"==typeof t.getAttribute?null===(i=t.getAttribute(e))&&(i=void 0):i=t[e]}catch(t){}return i}function Qd(t,e,i){if(t&&e)try{"function"==typeof e?e(t,i):"function"==typeof t.setAttribute?t.setAttribute(e,i):t[e]=i}catch(t){}}nd.className="PartManager",u(fd,nd),fd.prototype.addAllModeledParts=function(){var t=this.diagram.model;this.addModeledParts(t.nodeDataArray),md(this,t.linkDataArray)},fd.prototype.addModeledParts=function(t){for(nd.prototype.addModeledParts.call(this,t,!1),t=this.links.iterator;t.next();)Nu(t.value);Oo(this.diagram,!1)},fd.prototype.removeAllModeledParts=function(){var t=this.diagram.model;vd(this,t.linkDataArray),this.ut(t.nodeDataArray)},fd.prototype.getLinkCategoryForData=function(t){return this.diagram.model.jv(t)},fd.prototype.setLinkCategoryForData=function(t,e){return this.diagram.model.xt(t,e)},fd.prototype.setFromNodeForLink=function(t,e){var i=this.diagram.model;i.Ux(t.data,i.ja(null!==e?e.data:null))},fd.prototype.setToNodeForLink=function(t,e){var i=this.diagram.model;i.Yx(t.data,i.ja(null!==e?e.data:null))},fd.prototype.removeDataForLink=function(t){this.diagram.model.tm(t.data)},fd.prototype.findPartForKey=function(t){var e=nd.prototype.findPartForKey.call(this,t);return null===e&&null!==(t=this.diagram.model.vg(t))?this.Ie.H(t):e},fd.prototype.findLinkForKey=function(t){return null===t||void 0===t?null:null!==(t=this.diagram.model.vg(t))?this.Ie.H(t):null},fd.prototype.doModelChanged=function(t){var e=this;if(nd.prototype.doModelChanged.call(this,t),this.diagram){var i=this.diagram;if(t.model===i.model){var n=t.change;if(i.aa){i.aa=!1;try{var r=t.modelChange;if(""!==r){if(n===bi){if("linkFromKey"===r){var o=this.uc(t.object);if(null!==o){var s=this.Jb(t.newValue);o.fromNode=s}}else if("linkToKey"===r){var a=this.uc(t.object);if(null!==a){var l=this.Jb(t.newValue);a.toNode=l}}else if("linkFromPortId"===r){var h=this.uc(t.object);if(null!==h){var u=t.newValue;"string"==typeof u&&(h.fromPortId=u)}}else if("linkToPortId"===r){var c=this.uc(t.object);if(null!==c){var d=t.newValue;"string"==typeof d&&(c.toPortId=d)}}else if("nodeGroupKey"===r){var p=this.vc(t.object);if(null!==p){var f=t.newValue;if(void 0!==f){var m=this.Jb(f);p.containingGroup=m instanceof ku?m:null}else p.containingGroup=null}}else if("linkLabelKeys"===r){var g=this.uc(t.object);if(null!==g){var v=t.oldValue,A=t.newValue;Array.isArray(v)&&v.forEach(function(t){null!==(t=e.Jb(t))&&(t.labeledLink=null)}),Array.isArray(A)&&A.forEach(function(t){null!==(t=e.Jb(t))&&(t.labeledLink=g)})}}else if("linkCategory"===r){var y=this.uc(t.object),x=t.newValue;null!==y&&"string"==typeof x&&(y.category=x)}else"linkDataArray"===r&&(vd(this,t.oldValue),md(this,t.newValue));i.isModified=!0}else if(n===Ci){var b=t.newValue;if("linkDataArray"===r&&"object"==typeof b&&null!==b)gd(this,b);else if("linkLabelKeys"===r&&Nd(b)){var C=this.uc(t.object),w=this.Jb(b);null!==C&&null!==w&&(w.labeledLink=C)}i.isModified=!0}else if(n===wi){var E=t.oldValue;if("linkDataArray"===r&&"object"==typeof E&&null!==E)this.vq(E);else if("linkLabelKeys"===r&&Nd(E)){var S=this.Jb(E);null!==S&&(S.labeledLink=null)}i.isModified=!0}}else if(n===bi){var T=t.propertyName;t.object!==i.model||"linkFromKeyProperty"!==T&&"linkToKeyProperty"!==T&&"linkFromPortIdProperty"!==T&&"linkToPortIdProperty"!==T&&"linkLabelKeysProperty"!==T&&"nodeIsGroupProperty"!==T&&"nodeGroupKeyProperty"!==T&&"linkCategoryProperty"!==T||i.undoManager.isUndoingRedoing||this.wd(),i.isModified=!0}}finally{i.aa=!0}}}}},fd.prototype.refreshDataBoundLinks=function(){var t=this,e=this.diagram.model,i=new et,n=e.linkDataArray;n.forEach(function(t){i.add(t)});var r=[];this.links.each(function(t){null===t.data||i.contains(t.data)||r.push(t.data)}),r.forEach(function(t){op(e,t,!1)}),n.forEach(function(i){null===t.uc(i)&&rp(e,i,!1)})},fd.prototype.updateRelationshipsFromData=function(t){var e=t.data;if(null!==e){var i=t.diagram;if(null!==i){var n=i.model;if(t instanceof Lu){var r=tp(n,e,!0);if(r=i.Jb(r),t.fromNode=r,r=tp(n,e,!1),r=i.Jb(r),t.toNode=r,0<(e=n.zg(e)).length||0<t.labelNodes.count){if(1===e.length&&1===t.labelNodes.count){r=e[0];var o=t.labelNodes.first();if(n.ja(o.data)===r)return}r=(new et).addAll(e);var s=new et;t.labelNodes.each(function(t){null!==t.data&&(void 0!==(t=n.ja(t.data))&&s.add(t))}),(e=s.copy()).uq(r),(r=r.copy()).uq(s),(0<e.count||0<r.count)&&(e.each(function(e){null!==(e=i.Jb(e))&&e.labeledLink===t&&(e.labeledLink=null)}),r.each(function(e){null!==(e=i.Jb(e))&&e.labeledLink!==t&&(e.labeledLink=t)}))}}else!(t instanceof fu)&&(e=n.Si(e),null===(e=i.findPartForKey(e))||e instanceof ku)&&(t.containingGroup=e)}}},fd.prototype.resolveReferencesForData=function(t){var e=this.diagram.model,i=e.ja(t);if(void 0!==i){var n=Hd(e,i),r=this.vc(t);if(null!==n&&null!==r){n=n.iterator;for(var o={};n.next();){var s=n.value;e.sb(s)?r instanceof ku&&e.Si(s)===i&&(null!==(s=this.vc(s))&&(s.containingGroup=r)):(o.link=this.uc(s),null!==o.link&&r instanceof mu&&(tp(e,s,!0)===i&&(o.link.fromNode=r),tp(e,s,!1)===i&&(o.link.toNode=r),s=e.zg(s),Array.isArray(s)&&s.some(function(t){return function(e){return e===i&&(r.labeledLink=t.link,!0)}}(o)))),o={link:o.link}}Fd(e,i)}void 0!==(t=e.Si(t))&&((t=this.Jb(t))instanceof ku&&(r.containingGroup=t))}},fd.prototype.unresolveReferencesForPart=function(t){var e=this.diagram.model;if(t instanceof mu){var i=e.ja(t.data);if(void 0!==i){for(var n=t.linksConnected;n.next();)Rd(e,i,n.value.data);if(t.isLinkLabel&&(null!==(n=t.labeledLink)&&Rd(e,i,n.data)),t instanceof ku)for(t=t.memberParts;t.next();)n=t.value.data,e.sb(n)&&Rd(e,i,n)}}},fd.prototype.copyPartData=function(t,e){var i=nd.prototype.copyPartData.call(this,t,e);if(t instanceof Lu)if(null!==(t=t.data)&&null!==e){var n=e.model;"object"==typeof(t=n.Wp(t))&&null!==t&&(n.Ii(t),i=e.uc(t))}else null!==i&&(e=this.diagram,null!==t&&null!==e&&null!==e.commandHandler&&e.commandHandler.copiesClipboardData&&("object"==typeof(e=e.model.Wp(t))&&null!==e&&(i.data=e)));return i},fd.prototype.insertLink=function(t,e,i,n){var r=this.diagram,o=r.model,s=r.toolManager.findTool("Linking"),a="";if(null!==t&&(null===e&&(e=t),null===(a=e.portId)&&(a="")),e="",null!==i&&(null===n&&(n=i),null===(e=n.portId)&&(e="")),(n=s.archetypeLinkData)instanceof Lu){if(Ol(n),null!==(o=n.copy()))return o.fromNode=t,o.fromPortId=a,o.toNode=i,o.toPortId=e,r.add(o),(t=s.archetypeLabelNodeData)instanceof mu&&(Ol(t),null!==(t=t.copy())&&(t.labeledLink=o,r.add(t))),o}else if(null!==n&&("object"==typeof(n=o.Wp(n))&&null!==n))return null!==t&&ep(o,n,o.ja(t.data),!0),np(o,n,a,!0),null!==i&&ep(o,n,o.ja(i.data),!1),np(o,n,e,!1),o.Ii(n),null===(t=s.archetypeLabelNodeData)||t instanceof mu||"object"==typeof(t=o.copyNodeData(t))&&null!==t&&(o.kf(t),void 0!==(t=o.ja(t))&&o.Pu(n,t)),r.uc(n);return null},fd.prototype.findLinkForKey=fd.prototype.findLinkForKey,fd.prototype.findPartForKey=fd.prototype.findPartForKey,fd.prototype.removeAllModeledParts=fd.prototype.removeAllModeledParts,fd.prototype.addModeledParts=fd.prototype.addModeledParts,fd.prototype.addAllModeledParts=fd.prototype.addAllModeledParts,fd.className="GraphLinksPartManager",u(Ad,nd),Ad.prototype.getLinkCategoryForData=function(t){return this.diagram.model.kv(t)},Ad.prototype.setLinkCategoryForData=function(t,e){this.diagram.model.Qv(t,e)},Ad.prototype.setFromNodeForLink=function(t,e,i){var n=this.diagram.model;if(void 0===i&&(i=null),e=null!==e?e.data:null,this.diagram.isTreePathToChildren)n.Be(t.data,n.ja(e));else{var r=this.ih;this.ih=t,null!==i&&n.Be(i.data,void 0),n.Be(e,n.ja(null!==t.toNode?t.toNode.data:null)),this.ih=r}},Ad.prototype.setToNodeForLink=function(t,e,i){var n=this.diagram.model;if(void 0===i&&(i=null),e=null!==e?e.data:null,this.diagram.isTreePathToChildren){var r=this.ih;this.ih=t,null!==i&&n.Be(i.data,void 0),n.Be(e,n.ja(null!==t.fromNode?t.fromNode.data:null)),this.ih=r}else n.Be(t.data,n.ja(e))},Ad.prototype.removeDataForLink=function(t){this.diagram.model.Be(t.data,void 0)},Ad.prototype.findLinkForKey=function(t){return null===t||void 0===t?null:null!==(t=this.diagram.model.Ib(t))?this.Ie.H(t):null},Ad.prototype.doModelChanged=function(t){if(nd.prototype.doModelChanged.call(this,t),this.diagram){var e=this.diagram;if(t.model===e.model){var i=t.change;if(e.aa){e.aa=!1;try{var n=t.modelChange;if(""!==n){if(i===bi){if("nodeParentKey"===n){var r=t.object,o=this.Jb(t.newValue),s=this.Mi(r);if(null!==this.ih)null!==o&&(this.ih.data=r,this.ih.category=this.getLinkCategoryForData(r));else if(null!==s){var a=s.Pi();null!==a?null===o?e.remove(a):e.isTreePathToChildren?a.fromNode=o:a.toNode=o:yd(this,o,s)}}else if("parentLinkCategory"===n){var l=this.Mi(t.object),h=t.newValue;if(null!==l&&"string"==typeof h){var u=l.Pi();null!==u&&(u.category=h)}}e.isModified=!0}}else if(i===bi){var c=t.propertyName;t.object===e.model&&"nodeParentKeyProperty"===c&&(e.undoManager.isUndoingRedoing||this.wd()),e.isModified=!0}}finally{e.aa=!0}}}}},Ad.prototype.updateRelationshipsFromData=function(t){var e=t.data;if(null!==e){var i=t.diagram;if(null!==i){var n=i.model;t instanceof mu&&(e=n.Ui(e),(e=i.Jb(e))!==(n=t.yg())&&(n=t.Pi(),null!==e?null!==n?i.isTreePathToChildren?n.fromNode=e:n.toNode=e:yd(this,e,t):null!==n&&po(i,n,!1)))}}},Ad.prototype.updateDataBindings=function(t,e){nd.prototype.updateDataBindings.call(this,t,e),"string"==typeof e&&null!==this.vc(t)&&(null!==(t=this.uc(t))&&t.Aa(e))},Ad.prototype.resolveReferencesForData=function(t){var e=this.diagram.model,i=e.ja(t);if(void 0!==i){var n=Hd(e,i),r=this.vc(t);if(null!==n&&null!==r){for(n=n.iterator;n.next();){var o=n.value;e.sb(o)&&r instanceof mu&&e.Ui(o)===i&&yd(this,r,this.Mi(o))}Fd(e,i)}void 0!==(t=e.Ui(t))&&r instanceof mu&&yd(this,t=this.Jb(t),r)}},Ad.prototype.unresolveReferencesForPart=function(t){var e=this.diagram.model;if(t instanceof mu){var i=e.ja(t.data),n=this.uc(t.data);if(null!==n){n.isSelected=!1,n.isHighlighted=!1;var r=n.layer;if(null!==r){var o=r.Fc(-1,n,!1);0<=o&&this.diagram.Ya(wi,"parts",r,n,null,o,null),null!==(o=n.layerChanged)&&o(n,r,null)}}for(n=this.diagram.isTreePathToChildren,t=t.linksConnected;t.next();)r=t.value,r=(n?r.toNode:r.fromNode).data,e.sb(r)&&Rd(e,i,r)}},Ad.prototype.insertLink=function(t,e,i){e=this.diagram.model;var n=t,r=i;return this.diagram.isTreePathToChildren||(n=i,r=t),null!==n&&null!==r?(e.Be(r.data,e.ja(n.data)),r.Pi()):null},Ad.prototype.findLinkForKey=Ad.prototype.findLinkForKey,Ad.className="TreePartManager",xd.prototype.cloneProtected=function(t){t.Qa=this.Qa,t.on=this.on,t.Uf=this.Uf,t.ui=this.ui,t.tl=this.tl,t.Jk=this.Jk,t.fn=this.fn,t.en=this.en,t.hn=this.hn,t.Qm=this.Qm,t.Aj=this.Aj},xd.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},xd.prototype.clear=function(){this.Cc=[],this.ab.clear(),this.Nf.clear(),this.undoManager.clear()},xd.prototype.toString=function(t){if(void 0===t&&(t=0),1<t)return this.Bq();var e=(""!==this.name?this.name:"")+" Model";if(0<t){e+="\n node data:";for(var i=(t=this.nodeDataArray).length,n=0;n<i;n++){var r=t[n];e+=" "+this.ja(r)+":"+O(r)}}return e},xd.prototype.oA=function(t){t.change!==xi&&A("Model.toIncrementalData argument is not a Transaction ChangedEvent:"+t.toString());var e=t.object;return t.isTransactionFinished&&e instanceof Ei?(Sd(this,e),t=this.iw(e,"FinishedUndo"===t.propertyName),this.Jh=null,t):null},xd.prototype.iw=function(t,e){var i=this,n=!1,r=new et,o=new et,s=new et,a=this.Jh;t.changes.each(function(t){t.model===i&&("nodeDataArray"===t.modelChange?t.change===Ci?r.add(t.newValue):t.change===wi&&s.add(t.oldValue):i.sb(t.object)?o.add(t.object):t.change!==bi||i.modelData!==t.object&&"modelData"!==t.propertyName?null!==t.object&&(a&&a.contains(t.object)?a.get(t.object).each(function(t){i.sb(t)&&o.add(t)}):Td(i,t.object).each(function(t){o.add(t)})):n=!0)});var l=new et;r.each(function(t){l.add(i.ja(t)),e||o.add(t)});var h=new et;s.each(function(t){h.add(i.ja(t)),e&&o.add(t)}),t=i.cloneDeep(o.ma());var u=null;return n&&(null===u&&(u={}),u.modelData=this.cloneDeep(this.modelData)),0<l.count&&(null===u&&(u={}),e?u.removedNodeKeys=l.ma():u.insertedNodeKeys=l.ma()),0<t.length&&(null===u&&(u={}),u.modifiedNodeData=t),0<h.count&&(null===u&&(u={}),e?u.insertedNodeKeys=h.ma():u.removedNodeKeys=h.ma()),u},xd.prototype.cloneDeep=function(t){return function t(e,i,n,r,o){function s(t,e){void 0===t.__gohashid&&o.push(t),r.set(t,e)}if(!w(i))return i;o||(o=[]);r||(r=new ct);var a=r.get(i);if(a)return a;if(Array.isArray(i)){s(i,a=[]);for(var l=0;l<i.length;l++)a.push(t(e,i[l],!1,r,o))}else if(i instanceof dt||i instanceof Lt||i instanceof Rt||i instanceof qt||i instanceof He)a=i.copy(),s(i,a);else{if(i instanceof Ma||i instanceof Ke||i instanceof z)return i;if(i instanceof Z)a=(new Z).addAll(t(e,i.ma(),!1,r,o)),s(i,a);else if(i instanceof et)a=(new et).addAll(t(e,i.ma(),!1,r,o)),s(i,a);else if(i instanceof ct)a=(new ct).addAll(t(e,i.ma(),!1,r,o)),s(i,a);else if(i instanceof Date)a=new Date(i.getTime()),s(i,a);else if(i instanceof RegExp)a=new RegExp(i),s(i,a),a.lastIndex=i.lastIndex;else if("function"==typeof i.copy)a=i.copy(),s(i,a);else for(l in s(i,a={}),i)"__gohashid"!==l&&(a[l]=t(e,i[l],!1,r,o))}n&&o.forEach(function(t){delete t.__gohashid});return a}(this,t,!0)},(i=xd.prototype).uk=function(){var t="";return""!==this.name&&(t+=',\n  "name": '+this.quote(this.name)),""!==this.dataFormat&&(t+=',\n  "dataFormat": '+this.quote(this.dataFormat)),this.isReadOnly&&(t+=',\n  "isReadOnly": '+this.isReadOnly),"key"!==this.nodeKeyProperty&&"string"==typeof this.nodeKeyProperty&&(t+=',\n  "nodeKeyProperty": '+this.quote(this.nodeKeyProperty)),this.copiesArrays&&(t+=',\n  "copiesArrays": true'),this.copiesArrayObjects&&(t+=',\n  "copiesArrayObjects": true'),this.copiesKey||(t+=',\n  "copiesKey": false'),"category"!==this.nodeCategoryProperty&&"string"==typeof this.nodeCategoryProperty&&(t+=',\n  "nodeCategoryProperty": '+this.quote(this.nodeCategoryProperty)),t},i.tq=function(t){t.name&&(this.name=t.name),t.dataFormat&&(this.dataFormat=t.dataFormat),t.isReadOnly&&(this.isReadOnly=!0),t.nodeKeyProperty&&(this.nodeKeyProperty=t.nodeKeyProperty),t.copiesArrays&&(this.copiesArrays=!0),t.copiesArrayObjects&&(this.copiesArrayObjects=!0),!1===t.copiesKey&&(this.copiesKey=!1),t.nodeCategoryProperty&&(this.nodeCategoryProperty=t.nodeCategoryProperty)},i.jw=function(){var t,e=this.modelData,i=!1;for(t in e)if(!kd(t,e[t])){i=!0;break}return e="",i&&(e=bd(this)),e+',\n  "nodeDataArray": '+Md(this,this.nodeDataArray,!0)},i.Ev=function(t){Cd(this,t),E(t=t.nodeDataArray)&&(this.vm(t),this.nodeDataArray=t)},i.Gq=function(t){Ed(this,t,"nodeKeyProperty");for(var e=new et,i=new et,n=(new et).addAll(this.ab.iteratorKeys),r=new ct,o=t.nodeDataArray,s=o.length,a=0;a<s;a++){var l=o[a],h=t.ja(l);if(void 0!==h){n.remove(h);var u=this.Ib(h);null===u?(e.add(h),i.add(l)):wd(this,u,l,r)||i.add(l)}else this.lt(l),h=this.ja(l),e.add(h),i.add(l)}return o="",wd(this,this.modelData,t.modelData,r)||(o+=bd(this)),0<e.count&&(o+=this.Gt+Md(this,e.ma(),!0)),0<i.count&&(o+=this.qw+Md(this,i.ma(),!0)),0<n.count&&(o+=this.It+Md(this,n.ma(),!0)),o},i.Iy=function(t,e){return void 0===e&&(e=jd(this,this)),'{ "class": '+this.quote(e)+', "incremental": 1'+this.uk()+this.Gq(t)+"}"},i.hw=function(t,e){var i=this,n=!1,r=new et,o=new et,s=new et,a=this.Jh;t.changes.each(function(t){t.model===i&&("nodeDataArray"===t.modelChange?t.change===Ci?r.add(t.newValue):t.change===wi&&s.add(t.oldValue):i.sb(t.object)?o.add(t.object):t.change!==bi||i.modelData!==t.object&&"modelData"!==t.propertyName?null!==t.object&&(a&&a.contains(t.object)?a.get(t.object).each(function(t){i.sb(t)&&o.add(t)}):Td(i,t.object).each(function(t){o.add(t)})):n=!0)});var l=new et;r.each(function(t){l.add(i.ja(t)),e||o.add(t)});var h=new et;return s.each(function(t){h.add(i.ja(t)),e&&o.add(t)}),t="",n&&(t+=bd(this)),0<l.count&&(t+=(e?this.It:this.Gt)+Md(this,l.ma(),!0)),0<o.count&&(t+=this.qw+Md(this,o.ma(),!0)),0<h.count&&(t+=(e?this.Gt:this.It)+Md(this,h.ma(),!0)),t},i.sq=function(t){(void 0!==t.name&&t.name!==this.name||void 0!==t.dataFormat&&t.dataFormat!==this.dataFormat||void 0!==t.isReadOnly&&t.isReadOnly!==this.isReadOnly||void 0!==t.nodeKeyProperty&&t.nodeKeyProperty!==this.nodeKeyProperty||void 0!==t.copiesArrays&&t.copiesArrays!==this.copiesArrays||void 0!==t.copiesArrayObjects&&t.copiesArrayObjects!==this.copiesArrayObjects||void 0!==t.copiesKey&&t.copiesKey!==this.copiesKey||void 0!==t.nodeCategoryProperty&&t.nodeCategoryProperty!==this.nodeCategoryProperty)&&A("applyIncrementalJson cannot change Model properties"),Cd(this,t);var e=t.insertedNodeKeys,i=t.modifiedNodeData,n=new ct;if(Array.isArray(i))for(var r=0;r<i.length;r++){var o=i[r],s=this.ja(o);void 0!==s&&null!==s&&n.set(s,o)}if(Array.isArray(e))for(r=e.length,o=0;o<r;o++){s=e[o];var a=this.Ib(s);null===a&&(a=(a=n.get(s))?a:this.copyNodeData({}),this.Bm(a,s),this.kf(a))}if(Array.isArray(i))for(e=i.length,n=0;n<e;n++)if(r=i[n],o=this.ja(r),null!==(o=this.Ib(o)))for(var l in r)"__gohashid"===l||l===this.nodeKeyProperty||this.dk()&&l===this.nodeIsGroupProperty||this.setDataProperty(o,l,r[l]);if(t=t.removedNodeKeys,Array.isArray(t))for(i=t.length,l=0;l<i;l++)null!==(e=this.Ib(t[l]))&&this.um(e)},i.by=function(t,e){t.change!==xi&&A("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+t.toString());var i=t.object;return t.isTransactionFinished&&i instanceof Ei?(void 0===e&&(e=jd(this,this)),Sd(this,i),t=this.hw(i,"FinishedUndo"===t.propertyName),this.Jh=null,"2"===e?'{ "incremental": 2'+t+"}":'{ "class": '+this.quote(e)+', "incremental": 1'+this.uk()+t+"}"):'{ "incremental": 0 }'},i.pA=function(t,e){return this.by(t,e)},i.Bq=function(t){return void 0===t&&(t=jd(this,this)),'{ "class": '+this.quote(t)+this.uk()+this.jw()+"}"},i.toJSON=function(t){return this.Bq(t)},i.kx=function(t){var e=null;if("string"==typeof t)try{e=p.JSON.parse(t)}catch(t){}else"object"==typeof t?e=t:A("Unable to modify a Model from: "+t);var i=e.incremental;"number"!=typeof i&&A("Unable to apply non-incremental changes to Model: "+t),0!==i&&(this.ta("applyIncrementalJson"),this.sq(e),this.Ua("applyIncrementalJson"))},i.Cy=function(t){return this.kx(t)},xd.constructGraphLinksModel=function(){return new xd},(i=xd.prototype).vm=function(t){if(E(t))for(var e=t.length,i=0;i<e;i++){var n=t[i];if(w(n)){var r=i;n=this.vm(n),Array.isArray(t)?t[r]=n:A("Cannot replace an object in an HTMLCollection or NodeList at "+r)}}else if(w(t)){for(i in t)if(w(r=t[i])&&(r=this.vm(r),t[i]=r,"points"===i&&Array.isArray(r))){n=0==r.length%2;for(var o=0;o<r.length;o++)if("number"!=typeof r[o]){n=!1;break}if(n){for(n=new Z,o=0;o<r.length/2;o++)n.add(new dt(r[2*o],r[2*o+1]));n.freeze(),t[i]=n}}if("object"==typeof t){if(i=t,0===(r=t.class||"").indexOf("go.")&&(r=r.substr(3)),"NaN"===r)i=NaN;else if("Date"===r)i=new Date(t.value);else if("Point"===r)i=new dt(Pd(t.x),Pd(t.y));else if("Size"===r)i=new Lt(Pd(t.width),Pd(t.height));else if("Rect"===r)i=new Rt(Pd(t.x),Pd(t.y),Pd(t.width),Pd(t.height));else if("Margin"===r)i=new qt(Pd(t.top),Pd(t.right),Pd(t.bottom),Pd(t.left));else if("Spot"===r)i="string"==typeof t.enum?Ve(t.enum):new He(Pd(t.x),Pd(t.y),Pd(t.offsetX),Pd(t.offsetY));else if("Brush"===r){if((i=new Ma).type=Q(Ma,t.type),"string"==typeof t.color&&(i.color=t.color),t.start instanceof He&&(i.start=t.start),t.end instanceof He&&(i.end=t.end),"number"==typeof t.startRadius&&(i.startRadius=Pd(t.startRadius)),"number"==typeof t.endRadius&&(i.endRadius=Pd(t.endRadius)),w(t=t.colorStops))for(e in t)i.addColorStop(parseFloat(e),t[e])}else"Geometry"===r?(e=null,(e="string"==typeof t.path?We(t.path):new Ke).type=Q(Ke,t.type),"number"==typeof t.startX&&(e.startX=Pd(t.startX)),"number"==typeof t.startY&&(e.startY=Pd(t.startY)),"number"==typeof t.endX&&(e.endX=Pd(t.endX)),"number"==typeof t.endY&&(e.endY=Pd(t.endY)),t.spot1 instanceof He&&(e.spot1=t.spot1),t.spot2 instanceof He&&(e.spot2=t.spot2),i=e):"EnumValue"===r&&(0===(e=t.classType).indexOf("go.")&&(e=e.substr(3)),"function"==typeof(e=Gd(e))&&(i=Q(e,t.name)));t=i}}return t},i.quote=function(t){for(var e="",i=t.length,n=0;n<i;n++){var r=t[n];if('"'===r||"\\"===r)e+="\\"+r;else if("\b"===r)e+="\\b";else if("\f"===r)e+="\\f";else if("\n"===r)e+="\\n";else if("\r"===r)e+="\\r";else if("\t"===r)e+="\\t";else{var o=t.charCodeAt(n);e=16>o?e+"\\u000"+t.charCodeAt(n).toString(16):32>o?e+"\\u00"+t.charCodeAt(n).toString(16):8232===o?e+"\\u2028":8233===o?e+"\\u2029":e+r}}return'"'+e+'"'},i.Fm=function(t){return void 0===t?"undefined":null===t?"null":!0===t?"true":!1===t?"false":"string"==typeof t?this.quote(t):"number"==typeof t?1/0===t?"9e9999":-1/0===t?"-9e9999":isNaN(t)?'{"class":"NaN"}':t.toString():t instanceof Date?'{"class":"Date", "value":"'+t.toJSON()+'"}':t instanceof Number?this.Fm(t.valueOf()):E(t)?Md(this,t):w(t)?Od(this,t):"function"==typeof t?"null":t.toString()},i.yh=function(t){this.iu.add(t)},i.rk=function(t){this.iu.remove(t)},i.Ns=function(t){this.skipsUndoManager||this.undoManager.ov(t);for(var e=this.iu,i=e.length,n=0;n<i;n++)e.L(n)(t)},i.Ya=function(t,e,i,n,r,o,s){Ld(this,"",t,e,i,n,r,o,s)},i.g=function(t,e,i,n,r){Ld(this,"",bi,t,this,e,i,n,r)},i.rt=function(t,e,i,n,r,o){Ld(this,"",bi,e,t,i,n,r,o)},i.Sj=function(t,e){if(null!==t&&t.model===this)if(t.change===bi)Qd(t.object,t.propertyName,t.H(e));else if(t.change===Ci){var i=t.newParam;if("nodeDataArray"===t.modelChange){if(w(t=t.newValue)&&"number"==typeof i){var n=this.ja(t);e?(this.Cc[i]===t&&_(this.Cc,i),void 0!==n&&this.ab.remove(n)):(this.Cc[i]!==t&&T(this.Cc,i,t),void 0!==n&&this.ab.add(n,t))}}else""===t.modelChange?((n=t.object)&&!E(n)&&t.propertyName&&(n=zd(t.object,t.propertyName)),E(n)&&"number"==typeof i&&(t=t.newValue,e?_(n,i):T(n,i,t))):A("unknown ChangedEvent.Insert modelChange: "+t.toString())}else t.change===wi?(i=t.oldParam,"nodeDataArray"===t.modelChange?w(t=t.oldValue)&&"number"==typeof i&&(n=this.ja(t),e?(this.Cc[i]!==t&&T(this.Cc,i,t),void 0!==n&&this.ab.add(n,t)):(this.Cc[i]===t&&_(this.Cc,i),void 0!==n&&this.ab.remove(n))):""===t.modelChange?((n=t.object)&&!E(n)&&t.propertyName&&(n=zd(t.object,t.propertyName)),E(n)&&"number"==typeof i&&(t=t.oldValue,e?T(n,i,t):_(n,i))):A("unknown ChangedEvent.Remove modelChange: "+t.toString())):t.change!==xi&&A("unknown ChangedEvent: "+t.toString())},i.ta=function(t){return this.undoManager.ta(t)},i.Ua=function(t){return this.undoManager.Ua(t)},i.yf=function(){return this.undoManager.yf()},xd.prototype.commit=function(t,e){void 0===e&&(e="");var i=this.skipsUndoManager;null===e&&(this.skipsUndoManager=!0,e=""),this.undoManager.ta(e);var n=!1;try{t(this),n=!0}finally{n?this.undoManager.Ua(e):this.undoManager.yf(),this.skipsUndoManager=i}},(i=xd.prototype).Aa=function(t,e){void 0===e&&(e=""),Ld(this,"SourceChanged",xi,e,t,null,null)},i.ja=function(t){if(null!==t){var e=this.ui;if(""!==e&&void 0!==(e=zd(t,e))){if(Nd(e))return e;A("Key value for node data "+t+" is not a number or a string: "+e)}}},i.Bm=function(t,e){if(null!==t){var i=this.ui;if(""!==i)if(this.sb(t)){var n=zd(t,i);n!==e&&null===this.Ib(e)&&(Qd(t,i,e),void 0!==n&&this.ab.remove(n),this.ab.add(e,t),Ld(this,"nodeKey",bi,i,t,n,e),"string"==typeof i&&this.Aa(t,i),this.wq(n,e))}else Qd(t,i,e)}},i.sb=function(t){var e=this.ja(t);return void 0!==e&&this.ab.H(e)===t},i.Ib=function(t){return null===t&&A("Model.findNodeDataForKey:key must not be null"),void 0!==t&&Nd(t)?this.ab.H(t):null},i.lt=function(t){if(null!==t){var e=this.ui;if(""!==e){var i=this.ja(t);if(void 0===i||this.ab.contains(i)){var n=this.tl;if(null!==n&&(void 0!==(i=n(this,t))&&null!==i&&!this.ab.contains(i)))return void Qd(t,e,i);if("string"==typeof i){for(n=2;this.ab.contains(i+n);)n++;Qd(t,e,i+n)}else if(void 0===i||"number"==typeof i){for(i=-this.ab.count-1;this.ab.contains(i);)i--;Qd(t,e,i)}}}}},i.kf=function(t){null!==t&&(nt(t),this.sb(t)||Id(this,t,!0))},i.yy=function(t){if(E(t))for(var e=t.length,i=0;i<e;i++)this.kf(t[i]);else for(t=t.iterator;t.next();)this.kf(t.value)},i.um=function(t){null!==t&&Dd(this,t,!0)},i.eA=function(t){if(E(t))for(var e=t.length,i=0;i<e;i++)this.um(t[i]);else for(t=t.iterator;t.next();)this.um(t.value)},i.Wz=function(t){if(E(t)){for(var e=new et(this.ab.iteratorKeys),i=new et,n=t.length,r=0;r<n;r++){var o=t[r],s=this.ja(o);if(void 0!==s){i.add(s);var a=this.Ib(s);null!==a?this.Rj(a,o):(a={},this.Bm(a,s),this.Rj(a,o),this.kf(a))}else this.kf(o),i.add(this.ja(o))}for(t=e.iterator;t.next();)e=t.value,i.contains(e)||(e=this.Ib(e))&&this.um(e)}},i.wq=function(t,e){void 0!==e&&((t=Hd(this,t))instanceof et&&this.Nf.add(e,t))},i.dw=function(){},i.xm=function(){},i.wm=function(){},i.Dq=function(){},i.Uu=function(t){void 0===t?this.Nf.clear():this.Nf.remove(t)},xd.prototype.copyNodeData=function(t){if(null===t)return null;var e=this.Jk;return w(t=null!==e?e(t,this):Ud(this,t,!0))&&it(t),t},xd.prototype.setDataProperty=function(t,e,i){if(this.sb(t)){if(e===this.nodeKeyProperty)this.Bm(t,i);else if(e===this.nodeCategoryProperty)return void this.yq(t,i)}else!Yd&&t instanceof Rs&&(Yd=!0,b('Model.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),b("  Is that really your intent?"));var n=zd(t,e);n!==i&&(Qd(t,e,i),this.rt(t,e,n,i))},(i=xd.prototype).set=function(t,e,i){this.setDataProperty(t,e,i)},i.Rj=function(t,e){if(e){var i,n=this.sb(t);for(i in e)"__gohashid"===i||n&&i===this.nodeKeyProperty||this.setDataProperty(t,i,e[i])}},i.uy=function(t,e){this.bt(t,-1,e)},i.bt=function(t,e,i){0>e&&(e=t.length),T(t,e,i),Ld(this,"",Ci,"",t,null,i,null,e)},i.Gv=function(t,e){void 0===e&&(e=-1),t===this.Cc&&A("Model.removeArrayItem should not be called on the Model.nodeDataArray"),-1===e&&(e=t.length-1);var i=t[e];_(t,e),Ld(this,"",wi,"",t,i,null,e,null)},i.Zs=function(t){if(null===t)return"";var e=this.Aj;return""===e?"":void 0===(e=zd(t,e))?"":"string"==typeof e?e:(A("getCategoryForNodeData found a non-string category for "+t+": "+e),"")},i.yq=function(t,e){if(null!==t){var i=this.Aj;if(""!==i)if(this.sb(t)){var n=zd(t,i);void 0===n&&(n=""),n!==e&&(Qd(t,i,e),Ld(this,"nodeCategory",bi,i,t,n,e))}else Qd(t,i,e)}},i.km=function(){return!1},i.dk=function(){return!1},i.jm=function(){return!1},i.ht=function(){return!1},i.ek=function(){return!1},c.Object.defineProperties(xd.prototype,{name:{get:function(){return this.Qa},set:function(t){var e=this.Qa;e!==t&&(this.Qa=t,this.g("name",e,t))}},dataFormat:{get:function(){return this.on},set:function(t){var e=this.on;e!==t&&(this.on=t,this.g("dataFormat",e,t))}},isReadOnly:{get:function(){return this.Uf},set:function(t){var e=this.Uf;e!==t&&(this.Uf=t,this.g("isReadOnly",e,t))}},modelData:{get:function(){return this.l},set:function(t){var e=this.l;e!==t&&(this.l=t,this.g("modelData",e,t),this.Aa(t))}},undoManager:{get:function(){return this.u},set:function(t){var e=this.u;e!==t&&(null!==e&&e.Qx(this),this.u=t,null!==t&&t.ix(this))}},skipsUndoManager:{get:function(){return this.lh},set:function(t){this.lh=t}},nodeKeyProperty:{get:function(){return this.ui},set:function(t){var e=this.ui;e!==t&&(""===t&&A("Model.nodeKeyProperty may not be the empty string"),0<this.ab.count&&A("Cannot set Model.nodeKeyProperty when there is existing node data"),this.ui=t,this.g("nodeKeyProperty",e,t))}},makeUniqueKeyFunction:{get:function(){return this.tl},set:function(t){var e=this.tl;e!==t&&(this.tl=t,this.g("makeUniqueKeyFunction",e,t))}},nodeDataArray:{get:function(){return this.Cc},set:function(t){var e=this.Cc;if(e!==t){this.ab.clear(),this.dw();for(var i=t.length,n=0;n<i;n++){var r=t[n];if(!w(r))return void A("Model.nodeDataArray must only contain Objects, not: "+r);nt(r)}for(this.Cc=t,n=new Z,r=0;r<i;r++){var o=t[r],s=this.ja(o);void 0===s?n.add(o):null!==this.ab.H(s)?n.add(o):this.ab.add(s,o)}for(n=n.iterator;n.next();)r=n.value,this.lt(r),void 0!==(o=this.ja(r))&&this.ab.add(o,r);for(Ld(this,"nodeDataArray",bi,"nodeDataArray",this,e,t),e=0;e<i;e++)n=t[e],this.xm(n),this.wm(n);this.Uu(),Array.isArray(t)||(this.isReadOnly=!0)}}},copyNodeDataFunction:{get:function(){return this.Jk},set:function(t){var e=this.Jk;e!==t&&(this.Jk=t,this.g("copyNodeDataFunction",e,t))}},copiesArrays:{get:function(){return this.fn},set:function(t){var e=this.fn;e!==t&&(this.fn=t,this.g("copiesArrays",e,t))}},copiesArrayObjects:{get:function(){return this.en},set:function(t){var e=this.en;e!==t&&(this.en=t,this.g("copiesArrayObjects",e,t))}},copiesKey:{get:function(){return this.hn},set:function(t){var e=this.hn;e!==t&&(this.hn=t,this.g("copiesKey",e,t))}},afterCopyFunction:{get:function(){return this.Qm},set:function(t){var e=this.Qm;e!==t&&(this.Qm=t,this.g("afterCopyFunction",e,t))}},nodeCategoryProperty:{get:function(){return this.Aj},set:function(t){var e=this.Aj;e!==t&&(this.Aj=t,this.g("nodeCategoryProperty",e,t))}}}),c.Object.defineProperties(xd,{type:{get:function(){return"Model"}}}),xd.prototype.setCategoryForNodeData=xd.prototype.yq,xd.prototype.getCategoryForNodeData=xd.prototype.Zs,xd.prototype.removeArrayItem=xd.prototype.Gv,xd.prototype.insertArrayItem=xd.prototype.bt,xd.prototype.addArrayItem=xd.prototype.uy,xd.prototype.assignAllDataProperties=xd.prototype.Rj,xd.prototype.set=xd.prototype.set,xd.prototype.clearUnresolvedReferences=xd.prototype.Uu,xd.prototype.mergeNodeDataArray=xd.prototype.Wz,xd.prototype.removeNodeDataCollection=xd.prototype.eA,xd.prototype.removeNodeData=xd.prototype.um,xd.prototype.addNodeDataCollection=xd.prototype.yy,xd.prototype.addNodeData=xd.prototype.kf,xd.prototype.makeNodeDataKeyUnique=xd.prototype.lt,xd.prototype.findNodeDataForKey=xd.prototype.Ib,xd.prototype.containsNodeData=xd.prototype.sb,xd.prototype.setKeyForNodeData=xd.prototype.Bm,xd.prototype.getKeyForNodeData=xd.prototype.ja,xd.prototype.updateTargetBindings=xd.prototype.Aa,xd.prototype.commit=xd.prototype.commit,xd.prototype.rollbackTransaction=xd.prototype.yf,xd.prototype.commitTransaction=xd.prototype.Ua,xd.prototype.startTransaction=xd.prototype.ta,xd.prototype.raiseDataChanged=xd.prototype.rt,xd.prototype.raiseChanged=xd.prototype.g,xd.prototype.raiseChangedEvent=xd.prototype.Ya,xd.prototype.removeChangedListener=xd.prototype.rk,xd.prototype.addChangedListener=xd.prototype.yh,xd.prototype.writeJsonValue=xd.prototype.Fm,xd.prototype.replaceJsonObjects=xd.prototype.vm,xd.prototype.applyIncrementalJSON=xd.prototype.Cy,xd.prototype.applyIncrementalJson=xd.prototype.kx,xd.prototype.toJSON=xd.prototype.toJSON,xd.prototype.toJson=xd.prototype.Bq,xd.prototype.toIncrementalJSON=xd.prototype.pA,xd.prototype.toIncrementalJson=xd.prototype.by,xd.prototype.computeJsonDifference=xd.prototype.Iy,xd.prototype.toIncrementalData=xd.prototype.oA,xd.prototype.clear=xd.prototype.clear;var Yd=!1,Kd={};function Xd(t,e,i){it(this),this.s=!1,void 0===t&&(t=""),void 0===e&&(e=t),void 0===i&&(i=null),this.l=-1,this.bd=null,this.Sl=t,this.Rl=this.Fp=0,this.ys=null,this.Wn=!1,this.Jl=e,this.dn=i,this.to=Wd,this.Ym=null,this.au=new et}function $d(t,e,i){return null===(t=t.sourceName)||""===t?e:"/"===t?i.part:"."===t?i:".."===t?i.panel:e.Xa(t)}xd.className="Model",xd.fromJSON=xd.fromJson=function(t,e){void 0===e&&(e=null);var i=null;if("string"==typeof t)try{i=p.JSON.parse(t)}catch(t){}else"object"==typeof t?i=t:A("Unable to construct a Model from: "+t);if(null===e){t=null;var n=i.class;if("string"==typeof n)try{var r=null;0===n.indexOf("go.")?r=Gd(n=n.substr(3)):null===(r=Gd(n))&&(r=p[n]),"function"==typeof r&&(t=new r)}catch(t){}null===t||t instanceof xd?e=t:A("Unable to construct a Model of declared class: "+i.class)}return null===e&&(e=xd.constructGraphLinksModel()),e.tq(i),e.Ev(i),e},xd.safePropertyValue=zd,xd.safePropertySet=Qd,Kd.Brush=Ma,Kd.ChangedEvent=yi,Kd.Geometry=Ke,Kd.Margin=qt,Kd.Panel=Al,Kd.Point=dt,Kd.Rect=Rt,Kd.Size=Lt,Kd.Spot=He,Kd.Transaction=Ei,Kd.UndoManager=Si,Xd.prototype.copy=function(){var t=new Xd;return t.Sl=this.Sl,t.Fp=this.Fp,t.Rl=this.Rl,t.ys=this.ys,t.Wn=this.Wn,t.Jl=this.Jl,t.dn=this.dn,t.to=this.to,t.Ym=this.Ym,t},(i=Xd.prototype).cb=function(t){t.classType===Xd&&(this.mode=t)},i.toString=function(){return"Binding("+this.targetProperty+":"+this.sourceProperty+(-1!==this.bj?" "+this.bj:"")+" "+this.mode.name+")"},i.freeze=function(){return this.s=!0,this},i.ea=function(){return this.s=!1,this},i.Jx=function(t){return void 0===t&&(t=null),this.mode=qd,this.backConverter=t,this},i.pq=function(t){return void 0===t&&(t=""),this.sourceName=t,this.isToModel=!1,this},i.Yz=function(){return this.sourceName=null,this.isToModel=!0,this},i.ew=function(t,e,i){var n=this.Jl;if(void 0===i||""===n||n===i){i=this.Sl;var r=this.dn;if(null===r&&""===i)b("Binding error: target property is the empty string: "+this.toString());else{var o=e;if(""!==n&&(o=zd(e,n)),void 0!==o)if(null===r)""!==i&&Qd(t,i,o);else try{if(""!==i)Qd(t,i,r(o,t));else r(o,t)}catch(t){}}}},i.Fq=function(t,e,i,n){if(this.to===qd){var r=this.Sl;if(void 0===i||r===i){i=this.Jl;var o=this.Ym,s=t;if(""!==r&&(s=zd(t,r)),void 0!==s&&!this.au.contains(t))try{this.au.add(t);var a=null!==n?n.diagram:null,l=null!==a?a.model:null;if(null===o){if(""!==i)null!==l?l.setDataProperty(e,i,s):Qd(e,i,s);else if(null!==l&&null!==n&&0<=n.itemIndex&&null!==n.panel&&Array.isArray(n.panel.itemArray)){var h=n.itemIndex,u=n.panel.itemArray;l.Gv(u,h),l.bt(u,h,s)}}else try{if(""!==i){var c=o(s,e,l);null!==l?l.setDataProperty(e,i,c):Qd(e,i,c)}else{var d=o(s,e,l);if(void 0!==d&&null!==l&&null!==n&&0<=n.itemIndex&&null!==n.panel&&Array.isArray(n.panel.itemArray)){var p=n.itemIndex,f=n.panel.itemArray;l.Gv(f,p),l.bt(f,p,d)}}}catch(t){}}finally{this.au.remove(t)}}}},c.Object.defineProperties(Xd.prototype,{bj:{get:function(){return this.l},set:function(t){this.s&&y(this),this.l=t}},targetProperty:{get:function(){return this.Sl},set:function(t){this.s&&y(this),this.Sl=t}},sourceName:{get:function(){return this.ys},set:function(t){this.s&&y(this),this.ys=t,null!==t&&(this.Wn=!1)}},isToModel:{get:function(){return this.Wn},set:function(t){this.s&&y(this),this.Wn=t}},sourceProperty:{get:function(){return this.Jl},set:function(t){this.s&&y(this),this.Jl=t}},converter:{get:function(){return this.dn},set:function(t){this.s&&y(this),this.dn=t}},backConverter:{get:function(){return this.Ym},set:function(t){this.s&&y(this),this.Ym=t}},mode:{get:function(){return this.to},set:function(t){this.s&&y(this),this.to=t}}}),Xd.prototype.updateSource=Xd.prototype.Fq,Xd.prototype.updateTarget=Xd.prototype.ew,Xd.prototype.ofModel=Xd.prototype.Yz,Xd.prototype.ofObject=Xd.prototype.pq,Xd.prototype.makeTwoWay=Xd.prototype.Jx;var Wd=new z(Xd,"OneWay",1),qd=new z(Xd,"TwoWay",2);function Jd(t,e){xd.call(this),this.Ft=',\n  "insertedLinkKeys": ',this.pw=',\n  "modifiedLinkData": ',this.Ht=',\n  "removedLinkKeys": ',this.Nc=[],this.Vf=new et,this.mb=new ct,this.pi="",this.ej=this.Ik=this.ul=null,this.Se="from",this.Te="to",this.xj=this.wj="",this.vj="category",this.Ld="",this.yl="isGroup",this.oe="group",this.gn=!1,void 0!==t&&(this.nodeDataArray=t),void 0!==e&&(this.linkDataArray=e)}function Zd(t,e){for(var i=new et,n=0;n<t.linkDataArray.length;n++){var r=t.linkDataArray[n];_d(t,e,r,r,i)}return i}function tp(t,e,i){if(null!==e&&(""!==(t=i?t.Se:t.Te)&&void 0!==(t=zd(e,t)))){if(Nd(t))return t;A((i?"FromKey":"ToKey")+" value for link data "+e+" is not a number or a string: "+t)}}function ep(t,e,i,n){if(null===i&&(i=void 0),null!==e){var r=n?t.Se:t.Te;if(""!==r)if(i=t.lm(i),t.dd(e)){var o=zd(e,r);o!==i&&(Fd(t,o,e),Qd(e,r,i),null===t.Ib(i)&&Rd(t,i,e),Ld(t,n?"linkFromKey":"linkToKey",bi,r,e,o,i),"string"==typeof r&&t.Aa(e,r))}else Qd(e,r,i)}}function ip(t,e,i){return null===e?"":""===(t=i?t.wj:t.xj)?"":void 0===(e=zd(e,t))?"":e}function np(t,e,i,n){if(null!==e){var r=n?t.wj:t.xj;if(""!==r)if(t.dd(e)){var o=zd(e,r);void 0===o&&(o=""),o!==i&&(Qd(e,r,i),Ld(t,n?"linkFromPortId":"linkToPortId",bi,r,e,o,i),"string"==typeof r&&t.Aa(e,r))}else Qd(e,r,i)}}function rp(t,e,i){if(""!==t.linkKeyProperty){var n=t.Tb(e);if(void 0!==n&&t.mb.H(n)===e)return;if(t.mq(e),void 0===(n=t.Tb(e)))return void A("GraphLinksModel.makeLinkDataKeyUnique failed on "+e+". Data not added to model.");t.mb.add(n,e)}t.Vf.add(e),n=null,i&&(n=t.Nc.length,t.Nc.splice(n,0,e)),Ld(t,"linkDataArray",Ci,"linkDataArray",t,null,e,null,n),sp(t,e)}function op(t,e,i){t.Vf.remove(e);var n=t.Tb(e);if(void 0!==n&&t.mb.remove(n),n=null,i){if(0>(n=t.Nc.indexOf(e)))return;t.Nc.splice(n,1)}if(Ld(t,"linkDataArray",wi,"linkDataArray",t,e,null,n,null),Fd(t,i=tp(t,e,!0),e),Fd(t,i=tp(t,e,!1),e),n=t.zg(e),Array.isArray(n))for(var r=n.length,o=0;o<r;o++)Fd(t,i=n[o],e)}function sp(t,e){var i=tp(t,e,!0);i=t.lm(i),null===t.Ib(i)&&Rd(t,i,e),i=tp(t,e,!1),i=t.lm(i),null===t.Ib(i)&&Rd(t,i,e);var n=t.zg(e);if(Array.isArray(n))for(var r=n.length,o=0;o<r;o++)i=n[o],null===t.Ib(i)&&Rd(t,i,e)}Xd.className="Binding",Xd.parseEnum=function(t,e){return function(i){return null===(i=Q(t,i))?e:i}},Xd.toString=O,Xd.OneWay=Wd,Xd.TwoWay=qd,u(Jd,xd),Jd.constructGraphLinksModel=xd.constructGraphLinksModel,Jd.prototype.cloneProtected=function(t){xd.prototype.cloneProtected.call(this,t),t.pi=this.pi,t.ul=this.ul,t.Ik=this.Ik,t.Se=this.Se,t.Te=this.Te,t.wj=this.wj,t.xj=this.xj,t.vj=this.vj,t.Ld=this.Ld,t.yl=this.yl,t.oe=this.oe,t.gn=this.gn},(i=Jd.prototype).clear=function(){xd.prototype.clear.call(this),this.Nc=[],this.mb.clear(),this.Vf.clear()},i.toString=function(t){if(void 0===t&&(t=0),2<=t)return this.Bq();var e=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<t){e+="\n node data:";var i,n=(t=this.nodeDataArray).length;for(i=0;i<n;i++){var r=t[i];e+=" "+this.ja(r)+":"+O(r)}for(e+="\n link data:",n=(t=this.linkDataArray).length,i=0;i<n;i++)e+=" "+tp(this,r=t[i],!0)+"--\x3e"+tp(this,r,!1)}return e},i.iw=function(t,e){var i=xd.prototype.iw.call(this,t,e),n=this,r=new et,o=new et,s=new et,a=this.Jh;t.changes.each(function(t){t.model===n&&("linkDataArray"===t.modelChange?t.change===Ci?r.add(t.newValue):t.change===wi&&s.add(t.oldValue):n.dd(t.object)?o.add(t.object):null!==t.object&&(null!==t.object&&a&&a.contains(t.object)?a.get(t.object).each(function(t){n.dd(t)&&o.add(t)}):Zd(n,t.object).each(function(t){o.add(t)})))});var l=new et;r.each(function(t){l.add(n.Tb(t)),e||o.add(t)});var h=new et;return s.each(function(t){h.add(n.Tb(t)),e&&o.add(t)}),t=n.cloneDeep(o.ma()),0<l.count&&(null===i&&(i={}),e?i.removedLinkKeys=l.ma():i.insertedLinkKeys=l.ma()),0<t.length&&(null===i&&(i={}),i.modifiedLinkData=t),0<h.count&&(null===i&&(i={}),e?i.insertedLinkKeys=h.ma():i.removedLinkKeys=h.ma()),i},i.uk=function(){var t=xd.prototype.uk.call(this),e="";return"category"!==this.linkCategoryProperty&&"string"==typeof this.linkCategoryProperty&&(e+=',\n  "linkCategoryProperty": '+this.quote(this.linkCategoryProperty)),""!==this.linkKeyProperty&&"string"==typeof this.linkKeyProperty&&(e+=',\n  "linkKeyProperty": '+this.quote(this.linkKeyProperty)),"from"!==this.linkFromKeyProperty&&"string"==typeof this.linkFromKeyProperty&&(e+=',\n  "linkFromKeyProperty": '+this.quote(this.linkFromKeyProperty)),"to"!==this.linkToKeyProperty&&"string"==typeof this.linkToKeyProperty&&(e+=',\n  "linkToKeyProperty": '+this.quote(this.linkToKeyProperty)),""!==this.linkFromPortIdProperty&&"string"==typeof this.linkFromPortIdProperty&&(e+=',\n  "linkFromPortIdProperty": '+this.quote(this.linkFromPortIdProperty)),""!==this.linkToPortIdProperty&&"string"==typeof this.linkToPortIdProperty&&(e+=',\n  "linkToPortIdProperty": '+this.quote(this.linkToPortIdProperty)),""!==this.linkLabelKeysProperty&&"string"==typeof this.linkLabelKeysProperty&&(e+=',\n  "linkLabelKeysProperty": '+this.quote(this.linkLabelKeysProperty)),"isGroup"!==this.nodeIsGroupProperty&&"string"==typeof this.nodeIsGroupProperty&&(e+=',\n  "nodeIsGroupProperty": '+this.quote(this.nodeIsGroupProperty)),"group"!==this.nodeGroupKeyProperty&&"string"==typeof this.nodeGroupKeyProperty&&(e+=',\n  "nodeGroupKeyProperty": '+this.quote(this.nodeGroupKeyProperty)),t+e},i.tq=function(t){xd.prototype.tq.call(this,t),t.linkKeyProperty&&(this.linkKeyProperty=t.linkKeyProperty),t.linkFromKeyProperty&&(this.linkFromKeyProperty=t.linkFromKeyProperty),t.linkToKeyProperty&&(this.linkToKeyProperty=t.linkToKeyProperty),t.linkFromPortIdProperty&&(this.linkFromPortIdProperty=t.linkFromPortIdProperty),t.linkToPortIdProperty&&(this.linkToPortIdProperty=t.linkToPortIdProperty),t.linkCategoryProperty&&(this.linkCategoryProperty=t.linkCategoryProperty),t.linkLabelKeysProperty&&(this.linkLabelKeysProperty=t.linkLabelKeysProperty),t.nodeIsGroupProperty&&(this.nodeIsGroupProperty=t.nodeIsGroupProperty),t.nodeGroupKeyProperty&&(this.nodeGroupKeyProperty=t.nodeGroupKeyProperty)},i.jw=function(){return xd.prototype.jw.call(this)+(',\n  "linkDataArray": '+Md(this,this.linkDataArray,!0))},i.Ev=function(t){xd.prototype.Ev.call(this,t),t=t.linkDataArray,Array.isArray(t)&&(this.vm(t),this.linkDataArray=t)},i.Gq=function(t){if(!(t instanceof Jd))return A("Model.computeJsonDifference: newmodel must be a GraphLinksModel"),"";var e=xd.prototype.Gq.call(this,t);Ed(this,t,"linkKeyProperty"),Ed(this,t,"linkFromKeyProperty"),Ed(this,t,"linkToKeyProperty"),Ed(this,t,"linkLabelKeysProperty"),Ed(this,t,"nodeIsGroupProperty"),Ed(this,t,"nodeGroupKeyProperty");for(var i=new et,n=new et,r=(new et).addAll(this.mb.iteratorKeys),o=new ct,s=t.linkDataArray,a=s.length,l=0;l<a;l++){var h=s[l],u=t.Tb(h);if(void 0!==u){r.remove(u);var c=this.vg(u);null===c?(i.add(u),n.add(h)):wd(this,c,h,o)||n.add(h)}else this.mq(h),u=this.Tb(h),i.add(u),n.add(h)}return t=e,0<i.count&&(t+=this.Ft+Md(this,i.ma(),!0)),0<n.count&&(t+=this.pw+Md(this,n.ma(),!0)),0<r.count&&(t+=this.Ht+Md(this,r.ma(),!0)),t},i.hw=function(t,e){var i=xd.prototype.hw.call(this,t,e),n=this,r=new et,o=new et,s=new et,a=this.Jh;t.changes.each(function(t){t.model===n&&("linkDataArray"===t.modelChange?t.change===Ci?r.add(t.newValue):t.change===wi&&s.add(t.oldValue):n.dd(t.object)?o.add(t.object):null!==t.object&&(null!==t.object&&a&&a.contains(t.object)?a.get(t.object).each(function(t){n.dd(t)&&o.add(t)}):Zd(n,t.object).each(function(t){o.add(t)})))});var l=new et;r.each(function(t){l.add(n.Tb(t)),e||o.add(t)});var h=new et;return s.each(function(t){h.add(n.Tb(t)),e&&o.add(t)}),t=i,0<l.count&&(t+=(e?this.Ht:this.Ft)+Md(this,l.ma(),!0)),0<o.count&&(t+=this.pw+Md(this,o.ma(),!0)),0<h.count&&(t+=(e?this.Ft:this.Ht)+Md(this,h.ma(),!0)),t},i.sq=function(t){(void 0!==t.linkCategoryProperty&&t.linkCategoryProperty!==this.linkCategoryProperty||void 0!==t.linkKeyProperty&&t.linkKeyProperty!==this.linkKeyProperty||void 0!==t.linkFromKeyProperty&&t.linkFromKeyProperty!==this.linkFromKeyProperty||void 0!==t.linkToKeyProperty&&t.linkToKeyProperty!==this.linkToKeyProperty||void 0!==t.linkFromPortIdProperty&&t.linkFromPortIdProperty!==this.linkFromPortIdProperty||void 0!==t.linkToPortIdProperty&&t.linkToPortIdProperty!==this.linkToPortIdProperty||void 0!==t.linkLabelKeysProperty&&t.linkLabelKeysProperty!==this.linkLabelKeysProperty||void 0!==t.nodeIsGroupProperty&&t.nodeIsGroupProperty!==this.nodeIsGroupProperty||void 0!==t.nodeGroupKeyProperty&&t.nodeGroupKeyProperty!==this.nodeGroupKeyProperty)&&A("applyIncrementalJson cannot change Model properties"),xd.prototype.sq.call(this,t);var e=t.insertedLinkKeys;if(Array.isArray(e))for(var i=e.length,n=0;n<i;n++){var r=e[n],o=this.vg(r);null===o&&(o=this.Wp({}),this.zt(o,r),this.Ii(o))}if(e=t.modifiedLinkData,Array.isArray(e))for(i=e.length,n=0;n<i;n++)if(r=e[n],o=this.Tb(r),null!==(o=this.vg(o)))for(var s in r)"__gohashid"!==s&&s!==this.linkKeyProperty&&this.setDataProperty(o,s,r[s]);if(t=t.removedLinkKeys,Array.isArray(t))for(s=t.length,e=0;e<s;e++)null!==(i=this.vg(t[e]))&&this.tm(i)},i.Sj=function(t,e){if(t.change===Ci){var i=t.newParam;if("linkDataArray"===t.modelChange){if(w(t=t.newValue)&&"number"==typeof i){var n=this.Tb(t);e?(this.Vf.remove(t),this.Nc[i]===t&&this.Nc.splice(i,1),void 0!==n&&this.mb.remove(n)):(this.Vf.add(t),this.Nc[i]!==t&&this.Nc.splice(i,0,t),void 0!==n&&this.mb.add(n,t))}return}if("linkLabelKeys"===t.modelChange)return n=this.zg(t.object),void(Array.isArray(n)&&"number"==typeof i&&(e?(i=n.indexOf(t.newValue),0<=i&&n.splice(i,1)):0>n.indexOf(t.newValue)&&n.splice(i,0,t.newValue)))}else if(t.change===wi){if(i=t.oldParam,"linkDataArray"===t.modelChange)return void(w(t=t.oldValue)&&"number"==typeof i&&(n=this.Tb(t),e?(this.Vf.add(t),this.Nc[i]!==t&&this.Nc.splice(i,0,t),void 0!==n&&this.mb.add(n,t)):(this.Vf.remove(t),this.Nc[i]===t&&this.Nc.splice(i,1),void 0!==n&&this.mb.remove(n))));if("linkLabelKeys"===t.modelChange)return n=this.zg(t.object),void(Array.isArray(n)&&"number"==typeof i&&(e?0>n.indexOf(t.newValue)&&n.splice(i,0,t.newValue):(i=n.indexOf(t.newValue),0<=i&&n.splice(i,1))))}xd.prototype.Sj.call(this,t,e)},i.lm=function(t){if(void 0!==t){var e=this.ej;if(null!==e){var i=this.Ib(t);null===i&&(Qd(i=this.copyNodeData(e),this.nodeKeyProperty,t),this.kf(i))}return t}},i.qz=function(t){return tp(this,t,!0)},i.Ux=function(t,e){ep(this,t,e,!0)},i.xz=function(t){return tp(this,t,!1)},i.Yx=function(t,e){ep(this,t,e,!1)},i.rz=function(t){return ip(this,t,!0)},i.Vx=function(t,e){np(this,t,e,!0)},i.yz=function(t){return ip(this,t,!1)},i.Zx=function(t,e){np(this,t,e,!1)},i.zg=function(t){if(null===t)return ap;var e=this.Ld;return""===e?ap:void 0===(t=zd(t,e))?ap:t},i.Pv=function(t,e){if(null!==t){var i=this.Ld;if(""!==i)if(this.dd(t)){var n=zd(t,i);if(void 0===n&&(n=ap),n!==e){if(Array.isArray(n))for(var r=n.length,o=0;o<r;o++)Fd(this,n[o],t);for(Qd(t,i,e),r=e.length,o=0;o<r;o++){var s=e[o];null===this.Ib(s)&&Rd(this,s,t)}Ld(this,"linkLabelKeys",bi,i,t,n,e),"string"==typeof i&&this.Aa(t,i)}}else Qd(t,i,e)}},i.Pu=function(t,e){if(null!==e&&void 0!==e&&null!==t){var i=this.Ld;if(""!==i){var n=zd(t,i);if(void 0===n)(i=[]).push(e),this.Pv(t,i);else if(Array.isArray(n)){var r=n.indexOf(e);0<=r||(r=n.length,n.push(e),this.dd(t)&&(null===this.Ib(e)&&Rd(this,e,t),Ld(this,"linkLabelKeys",Ci,i,t,null,e,null,r)))}else A(i+" property is not an Array; cannot addLabelKeyForLinkData: "+t)}}},i.Px=function(t,e){if(null!==e&&void 0!==e&&null!==t){var i=this.Ld;if(""!==i){var n=zd(t,i);if(Array.isArray(n)){var r=n.indexOf(e);0>r||(n.splice(r,1),this.dd(t)&&(Fd(this,e,t),Ld(this,"linkLabelKeys",wi,i,t,e,null,r,null)))}else void 0!==n&&A(i+" property is not an Array; cannot removeLabelKeyforLinkData: "+t)}}},i.Tb=function(t){if(null!==t){var e=this.pi;if(""!==e&&void 0!==(e=zd(t,e))){if(Nd(e))return e;A("Key value for link data "+t+" is not a number or a string: "+e)}}},i.zt=function(t,e){if(null!==t){var i=this.pi;if(""!==i)if(this.dd(t)){var n=zd(t,i);n!==e&&null===this.vg(e)&&(Qd(t,i,e),void 0!==n&&this.mb.remove(n),this.mb.add(e,t),Ld(this,"linkKey",bi,i,t,n,e),"string"==typeof i&&this.Aa(t,i))}else Qd(t,i,e)}},i.vg=function(t){return null===t&&A("GraphLinksModel.findLinkDataForKey:key must not be null"),void 0!==t&&Nd(t)?this.mb.H(t):null},i.mq=function(t){if(null!==t){var e=this.pi;if(""!==e){var i=this.Tb(t);if(void 0===i||this.mb.contains(i)){var n=this.ul;if(null!==n&&(void 0!==(i=n(this,t))&&null!==i&&!this.mb.contains(i)))return void Qd(t,e,i);if("string"==typeof i){for(n=2;this.mb.contains(i+n);)n++;Qd(t,e,i+n)}else if(void 0===i||"number"==typeof i){for(i=-this.mb.count-1;this.mb.contains(i);)i--;Qd(t,e,i)}}}}},i.dd=function(t){return null!==t&&this.Vf.contains(t)},i.Ii=function(t){null!==t&&(nt(t),this.dd(t)||rp(this,t,!0))},i.xy=function(t){if(Array.isArray(t))for(var e=t.length,i=0;i<e;i++)this.Ii(t[i]);else for(t=t.iterator;t.next();)this.Ii(t.value)},i.tm=function(t){null!==t&&op(this,t,!0)},i.cA=function(t){if(Array.isArray(t))for(var e=t.length,i=0;i<e;i++)this.tm(t[i]);else for(t=t.iterator;t.next();)this.tm(t.value)},i.Vz=function(t){if(E(t)){for(var e=new et(this.mb.iteratorKeys),i=new et,n=t.length,r=0;r<n;r++){var o=t[r],s=this.Tb(o);if(void 0!==s){i.add(s);var a=this.vg(s);null!==a?this.Rj(a,o):(a={},this.zt(a,s),this.Rj(a,o),this.Ii(a))}else this.Ii(o),i.add(this.Tb(o))}for(t=e.iterator;t.next();)e=t.value,i.contains(e)||(e=this.vg(e))&&this.tm(e)}},i.Wp=function(t){if(null===t)return null;var e=this.Ik;return w(t=null!==e?e(t,this):Ud(this,t,!0))&&(it(t),""!==this.Se&&Qd(t,this.Se,void 0),""!==this.Te&&Qd(t,this.Te,void 0),""!==this.Ld&&Qd(t,this.Ld,[])),t},i.tv=function(t){if(null===t)return!1;var e=this.yl;return""!==e&&!!zd(t,e)},i.Si=function(t){if(null!==t){var e=this.oe;if(""!==e&&void 0!==(e=zd(t,e))){if(Nd(e))return e;A("GroupKey value for node data "+t+" is not a number or a string: "+e)}}},i.yt=function(t,e){if(null===e&&(e=void 0),null!==t){var i=this.oe;if(""!==i)if(this.sb(t)){var n=zd(t,i);n!==e&&(Fd(this,n,t),Qd(t,i,e),null===this.Ib(e)&&Rd(this,e,t),Ld(this,"nodeGroupKey",bi,i,t,n,e),"string"==typeof i&&this.Aa(t,i))}else Qd(t,i,e)}},Jd.prototype.copyNodeData=function(t){return null===t?null:(t=xd.prototype.copyNodeData.call(this,t),this.Wj||""===this.oe||void 0===zd(t,this.oe)||Qd(t,this.oe,void 0),t)},Jd.prototype.setDataProperty=function(t,e,i){if(this.sb(t))if(e===this.nodeKeyProperty)this.Bm(t,i);else{if(e===this.nodeCategoryProperty)return void this.yq(t,i);if(e===this.nodeGroupKeyProperty)return void this.yt(t,i)}else if(this.dd(t)){if(e===this.linkFromKeyProperty)return void ep(this,t,i,!0);if(e===this.linkToKeyProperty)return void ep(this,t,i,!1);if(e===this.linkFromPortIdProperty)return void np(this,t,i,!0);if(e===this.linkToPortIdProperty)return void np(this,t,i,!1);if(e===this.linkKeyProperty)return void this.zt(t,i);if(e===this.linkCategoryProperty)return void this.xt(t,i);if(e===this.linkLabelKeysProperty)return void this.Pv(t,i)}var n=zd(t,e);n!==i&&(Qd(t,e,i),this.rt(t,e,n,i))},(i=Jd.prototype).Rj=function(t,e){if(e){var i,n=this.sb(t),r=this.dd(t);for(i in e)"__gohashid"===i||n&&i===this.nodeKeyProperty||r&&i===this.linkKeyProperty||this.setDataProperty(t,i,e[i])}},i.wq=function(t,e){xd.prototype.wq.call(this,t,e);for(var i=this.ab.iterator;i.next();)this.Kv(i.value,t,e);for(i=this.Vf.iterator;i.next();){var n=i.value,r=t,o=e;if(tp(this,n,!0)===r){var s=this.Se;Qd(n,s,o),Ld(this,"linkFromKey",bi,s,n,r,o),"string"==typeof s&&this.Aa(n,s)}if(tp(this,n,!1)===r&&(Qd(n,s=this.Te,o),Ld(this,"linkToKey",bi,s,n,r,o),"string"==typeof s&&this.Aa(n,s)),s=this.zg(n),Array.isArray(s))for(var a=s.length,l=this.Ld,h=0;h<a;h++)s[h]===r&&(s[h]=o,Ld(this,"linkLabelKeys",Ci,l,n,r,o,h,h))}},i.Kv=function(t,e,i){if(this.Si(t)===e){var n=this.oe;Qd(t,n,i),Ld(this,"nodeGroupKey",bi,n,t,e,i),"string"==typeof n&&this.Aa(t,n)}},i.dw=function(){xd.prototype.dw.call(this);for(var t=this.linkDataArray,e=t.length,i=0;i<e;i++)sp(this,t[i])},i.xm=function(t){xd.prototype.xm.call(this,t);var e=Hd(this,t=this.ja(t));if(null!==e){var i=M();for(e=e.iterator;e.next();){var n=e.value;if(this.sb(n)){if(this.Si(n)===t){var r=this.oe;Ld(this,"nodeGroupKey",bi,r,n,t,t),"string"==typeof r&&this.Aa(n,r),i.push(n)}}else if(tp(this,n,!0)===t&&(r=this.Se,Ld(this,"linkFromKey",bi,r,n,t,t),"string"==typeof r&&this.Aa(n,r),i.push(n)),tp(this,n,!1)===t&&(r=this.Te,Ld(this,"linkToKey",bi,r,n,t,t),"string"==typeof r&&this.Aa(n,r),i.push(n)),r=this.zg(n),Array.isArray(r))for(var o=r.length,s=this.Ld,a=0;a<o;a++)r[a]===t&&(Ld(this,"linkLabelKeys",Ci,s,n,t,t,a,a),i.push(n))}for(e=0;e<i.length;e++)Fd(this,t,i[e]);k(i)}},i.wm=function(t){xd.prototype.wm.call(this,t);var e=this.Si(t);null===this.Ib(e)&&Rd(this,e,t)},i.Dq=function(t){xd.prototype.Dq.call(this,t),Fd(this,this.Si(t),t)},i.jv=function(t){if(null===t)return"";var e=this.vj;return""===e?"":void 0===(e=zd(t,e))?"":"string"==typeof e?e:(A("getCategoryForLinkData found a non-string category for "+t+": "+e),"")},Jd.prototype.getLinkCategoryForData=function(t){return this.jv(t)},Jd.prototype.xt=function(t,e){if(null!==t){var i=this.vj;if(""!==i)if(this.dd(t)){var n=zd(t,i);void 0===n&&(n=""),n!==e&&(Qd(t,i,e),Ld(this,"linkCategory",bi,i,t,n,e),"string"==typeof i&&this.Aa(t,i))}else Qd(t,i,e)}},Jd.prototype.setLinkCategoryForData=function(t,e){this.xt(t,e)},Jd.prototype.dk=function(){return!0},Jd.prototype.jm=function(){return!0},Jd.prototype.ht=function(){return!0},Jd.prototype.ek=function(){return!0},c.Object.defineProperties(Jd.prototype,{archetypeNodeData:{get:function(){return this.ej},set:function(t){var e=this.ej;e!==t&&(this.ej=t,this.g("archetypeNodeData",e,t))}},linkFromKeyProperty:{get:function(){return this.Se},set:function(t){var e=this.Se;e!==t&&(this.Se=t,this.g("linkFromKeyProperty",e,t))}},linkToKeyProperty:{get:function(){return this.Te},set:function(t){var e=this.Te;e!==t&&(this.Te=t,this.g("linkToKeyProperty",e,t))}},linkFromPortIdProperty:{get:function(){return this.wj},set:function(t){var e=this.wj;e!==t&&(this.wj=t,this.g("linkFromPortIdProperty",e,t))}},linkToPortIdProperty:{get:function(){return this.xj},set:function(t){var e=this.xj;e!==t&&(this.xj=t,this.g("linkToPortIdProperty",e,t))}},linkLabelKeysProperty:{get:function(){return this.Ld},set:function(t){var e=this.Ld;e!==t&&(this.Ld=t,this.g("linkLabelKeysProperty",e,t))}},linkDataArray:{get:function(){return this.Nc},set:function(t){var e=this.Nc;if(e!==t){this.mb.clear();for(var i=t.length,n=0;n<i;n++){var r=t[n];if(!w(r))return void A("GraphLinksModel.linkDataArray must only contain Objects, not: "+r);nt(r)}if(this.Nc=t,""!==this.linkKeyProperty){for(n=new Z,r=0;r<i;r++){var o=t[r],s=this.Tb(o);void 0===s?n.add(o):null!==this.mb.H(s)?n.add(o):this.mb.add(s,o)}for(n=n.iterator;n.next();)r=n.value,this.mq(r),void 0!==(o=this.Tb(r))&&this.mb.add(o,r)}for(n=new et,r=0;r<i;r++)n.add(t[r]);for(this.Vf=n,Ld(this,"linkDataArray",bi,"linkDataArray",this,e,t),e=0;e<i;e++)sp(this,t[e])}}},linkKeyProperty:{get:function(){return this.pi},set:function(t){var e=this.pi;if(e!==t){this.pi=t,this.mb.clear();for(var i=this.linkDataArray.length,n=0;n<i;n++){var r=this.linkDataArray[n],o=this.Tb(r);void 0===o&&(this.mq(r),o=this.Tb(r)),void 0!==o&&this.mb.add(o,r)}this.g("linkKeyProperty",e,t)}}},makeUniqueLinkKeyFunction:{get:function(){return this.ul},set:function(t){var e=this.ul;e!==t&&(this.ul=t,this.g("makeUniqueLinkKeyFunction",e,t))}},copyLinkDataFunction:{get:function(){return this.Ik},set:function(t){var e=this.Ik;e!==t&&(this.Ik=t,this.g("copyLinkDataFunction",e,t))}},nodeIsGroupProperty:{get:function(){return this.yl},set:function(t){var e=this.yl;e!==t&&(this.yl=t,this.g("nodeIsGroupProperty",e,t))}},nodeGroupKeyProperty:{get:function(){return this.oe},set:function(t){var e=this.oe;e!==t&&(this.oe=t,this.g("nodeGroupKeyProperty",e,t))}},Wj:{get:function(){return this.gn},set:function(t){this.gn!==t&&(this.gn=t)}},linkCategoryProperty:{get:function(){return this.vj},set:function(t){var e=this.vj;e!==t&&(this.vj=t,this.g("linkCategoryProperty",e,t))}}}),c.Object.defineProperties(Jd,{type:{get:function(){return"GraphLinksModel"}}}),Jd.prototype.setCategoryForLinkData=Jd.prototype.xt,Jd.prototype.getCategoryForLinkData=Jd.prototype.jv,Jd.prototype.assignAllDataProperties=Jd.prototype.Rj,Jd.prototype.setGroupKeyForNodeData=Jd.prototype.yt,Jd.prototype.getGroupKeyForNodeData=Jd.prototype.Si,Jd.prototype.isGroupForNodeData=Jd.prototype.tv,Jd.prototype.copyLinkData=Jd.prototype.Wp,Jd.prototype.mergeLinkDataArray=Jd.prototype.Vz,Jd.prototype.removeLinkDataCollection=Jd.prototype.cA,Jd.prototype.removeLinkData=Jd.prototype.tm,Jd.prototype.addLinkDataCollection=Jd.prototype.xy,Jd.prototype.addLinkData=Jd.prototype.Ii,Jd.prototype.containsLinkData=Jd.prototype.dd,Jd.prototype.makeLinkDataKeyUnique=Jd.prototype.mq,Jd.prototype.findLinkDataForKey=Jd.prototype.vg,Jd.prototype.setKeyForLinkData=Jd.prototype.zt,Jd.prototype.getKeyForLinkData=Jd.prototype.Tb,Jd.prototype.removeLabelKeyForLinkData=Jd.prototype.Px,Jd.prototype.addLabelKeyForLinkData=Jd.prototype.Pu,Jd.prototype.setLabelKeysForLinkData=Jd.prototype.Pv,Jd.prototype.getLabelKeysForLinkData=Jd.prototype.zg,Jd.prototype.setToPortIdForLinkData=Jd.prototype.Zx,Jd.prototype.getToPortIdForLinkData=Jd.prototype.yz,Jd.prototype.setFromPortIdForLinkData=Jd.prototype.Vx,Jd.prototype.getFromPortIdForLinkData=Jd.prototype.rz,Jd.prototype.setToKeyForLinkData=Jd.prototype.Yx,Jd.prototype.getToKeyForLinkData=Jd.prototype.xz,Jd.prototype.setFromKeyForLinkData=Jd.prototype.Ux,Jd.prototype.getFromKeyForLinkData=Jd.prototype.qz,Jd.prototype.clear=Jd.prototype.clear;var ap=Object.freeze([]);function lp(t){xd.call(this),this.pe="parent",this.jn=!1,this.Cj="parentLinkCategory",void 0!==t&&(this.nodeDataArray=t)}function hp(){Dc.call(this),this.Dw=this.xn=this.Zb=0,this.mr=360,this.Cw=yp,this.jj=0,this.rw=new dt,this.br=this.Qd=0,this.Js=new Np,this.Ot=this.Bj=0,this.my=600,this.Vo=NaN,this.Vm=1,this.Bp=0,this.Ol=360,this.Bb=yp,this.J=wp,this.Pc=Op,this.Jc=Qc,this.af=6,this.Fo=Pp}function up(t,e,i,n,r){var o=t.mr,s=t.Zb;t=t.Qd,n=n*Math.PI/180,i=i*Math.PI/180;for(var a=e.length,l=0;l<a;l++){var h=n+(r===wp?l*i/(360<=o?a:a-1):-l*i/a),u=e.L(l),c=s*Math.tan(h)/t;c=Math.sqrt((s*s+t*t*c*c)/(1+c*c)),u.centerX=c*Math.cos(h),u.centerY=c*Math.sin(h),u.actualAngle=180*h/Math.PI}}function cp(t,e,i,n){var r=t.Zb,o=t.Qd,s=t.jj;i=i*Math.PI/180;for(var a=e.length,l=0;l<a;l++){var h=e.L(l),u=e.L(l===a-1?0:l+1),c=o*Math.sin(i);h.centerX=r*Math.cos(i),h.centerY=c,h.actualAngle=180*i/Math.PI,isNaN(h.diameter)&&Rp(h,0),isNaN(u.diameter)&&Rp(u,0),h=Ap(t,r,o,n===wp?i:-i,(h.diameter+u.diameter)/2+s),i+=n===wp?h:-h}}function dp(t,e,i,n){var r=t.Zb,o=t.Qd,s=t.br;i=i*Math.PI/180;for(var a=e.length,l=0;l<a;l++){var h=e.L(l);h.centerX=r*Math.cos(i),h.centerY=o*Math.sin(i),h.actualAngle=180*i/Math.PI,h=Ap(t,r,o,n===wp?i:-i,s),i+=n===wp?h:-h}}function pp(t,e,i,n,r){var o=t.mr;if(t.Bj=0,t.Js=new Np,360>i){for(o=n+(r===wp?o:-o);0>o;)o+=360;180<(o%=360)&&(o-=360),o*=Math.PI/180,t.Ot=o,function t(e,i,n,r,o){for(var s=e.Zb,a=e.Qd,l=e.xn,h=s*Math.cos(r*Math.PI/180),u=a*Math.sin(r*Math.PI/180),c=dt.alloc(),d=i.ma(),p=0;p<d.length&&(d[p].centerX=h,d[p].centerY=u,!(p>=d.length-1));p++)fp(e,h,u,d,p,o,c)||mp(e,h,u,d,p,o,c),h=c.x,u=c.y;dt.free(c);e.Bj++;if(!(23<e.Bj)){if(h=Math.atan2(u,h),h=o===wp?e.Ot-h:h-e.Ot,h=Math.abs(h)<Math.abs(h-2*Math.PI)?h:h-2*Math.PI,s=h*(s+a)/2,a=e.Js,Math.abs(s)<Math.abs(a.fm))for(a.fm=s,a.vk=[],a.Gm=[],h=0;h<d.length;h++)a.vk[h]=d[h].bounds.x,a.Gm[h]=d[h].bounds.y;1<Math.abs(s)&&(e.Zb=8>e.Bj?e.Zb-s/(2*Math.PI):e.Zb-(0<s?1.7:-2.3),e.Qd=e.Zb*l,t(e,i,n,r,o))}}(t,e,i,n,r)}else!function t(e,i,n,r,o){var s=e.Zb,a=e.jj,l=e.xn,h=s*Math.cos(r*Math.PI/180),u=e.Qd*Math.sin(r*Math.PI/180),c=i.ma();if(3===c.length)c[0].centerX=s,c[0].centerY=0,c[1].centerX=c[0].centerX-c[0].width/2-c[1].width/2-a,c[1].y=c[0].y,c[2].centerX=(c[0].centerX+c[1].centerX)/2,c[2].y=c[0].y-c[2].height-a;else if(4===c.length)c[0].centerX=s,c[0].centerY=0,c[2].centerX=-c[0].centerX,c[2].centerY=c[0].centerY,c[1].centerX=0,c[1].y=Math.min(c[0].y,c[2].y)-c[1].height-a,c[3].centerX=0,c[3].y=Math.max(c[0].y+c[0].height+a,c[2].y+c[2].height+a);else{s=dt.alloc();for(var d=0;d<c.length&&(c[d].centerX=h,c[d].centerY=u,!(d>=c.length-1));d++)fp(e,h,u,c,d,o,s)||mp(e,h,u,c,d,o,s),h=s.x,u=s.y;if(dt.free(s),e.Bj++,!(23<e.Bj)){h=c[0].centerX,u=c[0].centerY,s=c[c.length-1].centerX,d=c[c.length-1].centerY;var p=Math.abs(h-s)-((c[0].width+c[c.length-1].width)/2+a),f=Math.abs(u-d)-((c[0].height+c[c.length-1].height)/2+a);a=0,1>Math.abs(f)?Math.abs(h-s)<(c[0].width+c[c.length-1].width)/2&&(a=0):a=0<f?f:1>Math.abs(p)?0:p,h=Math.abs(s)>Math.abs(d)?0<s!=u>d:0<d!=h<s,(h=o===wp?h:!h)&&(a=-Math.abs(a),a=Math.min(a,-c[c.length-1].width),a=Math.min(a,-c[c.length-1].height)),e.Js.compare(a,c),1<Math.abs(a)&&(e.Zb=8>e.Bj?e.Zb-a/(2*Math.PI):5>c.length&&10<a?e.Zb/2:e.Zb-(0<a?1.7:-2.3),e.Qd=e.Zb*l,t(e,i,n,r,o))}}}(t,e,i,n,r);t.Js.commit(e)}function fp(t,e,i,n,r,o,s){var a=t.Zb,l=t.Qd,h=0;t=(n[r].width+n[r+1].width)/2+t.jj;var u=!1;if(0<=i!=(o===wp)){if((o=e+t)>a){if((o=e-t)<-a)return s.x=o,s.y=h,!1;u=!0}}else if((o=e-t)<-a){if((o=e+t)>a)return s.x=o,s.y=h,!1;u=!0}return h=Math.sqrt(1-Math.min(1,o*o/(a*a)))*l,0>i!==u&&(h=-h),Math.abs(i-h)>(n[r].height+n[r+1].height)/2?(s.x=o,s.y=h,!1):(s.x=o,s.y=h,!0)}function mp(t,e,i,n,r,o,s){var a=t.Zb,l=t.Qd,h=0;if(t=(n[r].height+n[r+1].height)/2+t.jj,n=!1,0<=e!=(o===wp)){if((o=i-t)<-l){if((o=i+t)>l)return s.x=h,void(s.y=o);n=!0}}else if((o=i+t)>l){if((o=i-t)<-l)return s.x=h,void(s.y=o);n=!0}h=Math.sqrt(1-Math.min(1,o*o/(l*l)))*a,0>e!==n&&(h=-h),s.x=h,s.y=o}function gp(t,e,i,n,r){var o=t.my;if(.001>Math.abs(t.xn-1))return void 0!==n&&void 0!==r?r*e:2*Math.PI*e;t=e>i?Math.sqrt(e*e-i*i)/e:Math.sqrt(i*i-e*e)/i;for(var s=0,a=void 0!==n&&void 0!==r?r/(o+1):Math.PI/(2*(o+1)),l=0,h=0;h<=o;h++){l=void 0!==n&&void 0!==r?n+h*r/o:h*Math.PI/(2*o);var u=Math.sin(l);s+=Math.sqrt(1-t*t*u*u)*a}return void 0!==n&&void 0!==r?(e>i?e:i)*s:4*(e>i?e:i)*s}function vp(t,e,i,n,r){return e/(void 0!==n&&void 0!==r?gp(t,1,i,n,r):gp(t,1,i))}function Ap(t,e,i,n,r){if(.001>Math.abs(t.xn-1))return r/e;var o=e>i?Math.sqrt(e*e-i*i)/e:Math.sqrt(i*i-e*e)/i,s=0;t=2*Math.PI/(700*t.network.vertexes.count),e>i&&(n+=Math.PI/2);for(var a=0;;a++){var l=Math.sin(n+a*t);if((s+=(e>i?e:i)*Math.sqrt(1-o*o*l*l)*t)>=r)return a*t}}Jd.className="GraphLinksModel",Kd.GraphLinksModel=Jd,xd.constructGraphLinksModel=xd.constructGraphLinksModel=function(){return new Jd},xd.initDiagramModel=Vd=function(){return new Jd},u(lp,xd),lp.constructGraphLinksModel=xd.constructGraphLinksModel,lp.prototype.cloneProtected=function(t){xd.prototype.cloneProtected.call(this,t),t.pe=this.pe,t.jn=this.jn,t.Cj=this.Cj},(i=lp.prototype).toString=function(t){if(void 0===t&&(t=0),2<=t)return this.Bq();var e=(""!==this.name?this.name:"")+" TreeModel";if(0<t){e+="\n node data:";for(var i=(t=this.nodeDataArray).length,n=0;n<i;n++){var r=t[n];e+=" "+this.ja(r)+":"+O(r)}}return e},i.uk=function(){var t=xd.prototype.uk.call(this),e="";return"parent"!==this.nodeParentKeyProperty&&"string"==typeof this.nodeParentKeyProperty&&(e+=',\n  "nodeParentKeyProperty": '+this.quote(this.nodeParentKeyProperty)),t+e},i.tq=function(t){xd.prototype.tq.call(this,t),t.nodeParentKeyProperty&&(this.nodeParentKeyProperty=t.nodeParentKeyProperty)},i.Gq=function(t){return Ed(this,t,"nodeParentKeyProperty"),xd.prototype.Gq.call(this,t)},i.sq=function(t){void 0!==t.nodeParentKeyProperty&&t.nodeParentKeyProperty!==this.nodeParentKeyProperty&&A("applyIncrementalJson cannot change Model properties"),xd.prototype.sq.call(this,t)},i.lm=function(t){return t},i.Ui=function(t){if(null!==t){var e=this.pe;if(""!==e&&void 0!==(e=zd(t,e))){if(Nd(e))return e;A("ParentKey value for node data "+t+" is not a number or a string: "+e)}}},i.Be=function(t,e){if(null===e&&(e=void 0),null!==t){var i=this.pe;if(""!==i)if(e=this.lm(e),this.sb(t)){var n=zd(t,i);n!==e&&(Fd(this,n,t),Qd(t,i,e),null===this.Ib(e)&&Rd(this,e,t),Ld(this,"nodeParentKey",bi,i,t,n,e),"string"==typeof i&&this.Aa(t,i))}else Qd(t,i,e)}},i.kv=function(t){if(null===t)return"";var e=this.Cj;return""===e?"":void 0===(e=zd(t,e))?"":"string"==typeof e?e:(A("getParentLinkCategoryForNodeData found a non-string category for "+t+": "+e),"")},lp.prototype.getLinkCategoryForData=function(t){return this.kv(t)},lp.prototype.Qv=function(t,e){if(null!==t){var i=this.Cj;if(""!==i)if(this.sb(t)){var n=zd(t,i);void 0===n&&(n=""),n!==e&&(Qd(t,i,e),Ld(this,"parentLinkCategory",bi,i,t,n,e),"string"==typeof i&&this.Aa(t,i))}else Qd(t,i,e)}},lp.prototype.setLinkCategoryForData=function(t,e){this.Qv(t,e)},lp.prototype.copyNodeData=function(t){return null===t?null:(t=xd.prototype.copyNodeData.call(this,t),this.Xj||""===this.pe||void 0===zd(t,this.pe)||Qd(t,this.pe,void 0),t)},lp.prototype.setDataProperty=function(t,e,i){if(this.sb(t))if(e===this.nodeKeyProperty)this.Bm(t,i);else{if(e===this.nodeCategoryProperty)return void this.yq(t,i);if(e===this.nodeParentKeyProperty)return void this.Be(t,i)}var n=zd(t,e);n!==i&&(Qd(t,e,i),this.rt(t,e,n,i))},(i=lp.prototype).wq=function(t,e){xd.prototype.wq.call(this,t,e);for(var i=this.ab.iterator;i.next();)this.Kv(i.value,t,e)},i.Kv=function(t,e,i){if(this.Ui(t)===e){var n=this.pe;Qd(t,n,i),Ld(this,"nodeParentKey",bi,n,t,e,i),"string"==typeof n&&this.Aa(t,n)}},i.xm=function(t){xd.prototype.xm.call(this,t);var e=Hd(this,t=this.ja(t));if(null!==e){var i=M();for(e=e.iterator;e.next();){var n=e.value;if(this.sb(n)&&this.Ui(n)===t){var r=this.pe;Ld(this,"nodeParentKey",bi,r,n,t,t),"string"==typeof r&&this.Aa(n,r),i.push(n)}}for(e=0;e<i.length;e++)Fd(this,t,i[e]);k(i)}},i.wm=function(t){xd.prototype.wm.call(this,t);var e=this.Ui(t);e=this.lm(e),null===this.Ib(e)&&Rd(this,e,t)},i.Dq=function(t){xd.prototype.Dq.call(this,t),Fd(this,this.Ui(t),t)},i.km=function(){return!0},i.ht=function(){return!0},c.Object.defineProperties(lp.prototype,{nodeParentKeyProperty:{get:function(){return this.pe},set:function(t){var e=this.pe;e!==t&&(this.pe=t,this.g("nodeParentKeyProperty",e,t))}},Xj:{get:function(){return this.jn},set:function(t){this.jn!==t&&(this.jn=t)}},parentLinkCategoryProperty:{get:function(){return this.Cj},set:function(t){var e=this.Cj;e!==t&&(this.Cj=t,this.g("parentLinkCategoryProperty",e,t))}},linkCategoryProperty:{get:function(){return this.parentLinkCategoryProperty},set:function(t){this.parentLinkCategoryProperty=t}}}),c.Object.defineProperties(lp,{type:{get:function(){return"TreeModel"}}}),lp.prototype.setParentLinkCategoryForNodeData=lp.prototype.Qv,lp.prototype.getParentLinkCategoryForNodeData=lp.prototype.kv,lp.prototype.setParentKeyForNodeData=lp.prototype.Be,lp.prototype.getParentKeyForNodeData=lp.prototype.Ui,lp.className="TreeModel",Kd.TreeModel=lp,u(hp,Dc),hp.prototype.cloneProtected=function(t){Dc.prototype.cloneProtected.call(this,t),t.Vo=this.Vo,t.Vm=this.Vm,t.Bp=this.Bp,t.Ol=this.Ol,t.Bb=this.Bb,t.J=this.J,t.Pc=this.Pc,t.Jc=this.Jc,t.af=this.af,t.Fo=this.Fo},hp.prototype.cb=function(t){t.classType===hp?t===kp||t===Bp||t===_p||t===Mp||t===Op?this.sorting=t:t===Sp||t===Tp||t===wp||t===Ep?this.direction=t:t===bp||t===xp||t===yp||t===Cp?this.arrangement=t:t!==Lp&&t!==Pp||(this.nodeDiameterFormula=t):Dc.prototype.cb.call(this,t)},hp.prototype.createNetwork=function(){return new Ip(this)},hp.prototype.doLayout=function(t){if(null===this.network&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),1>=(t=this.network.vertexes).count)1===t.count&&((t=t.first()).centerX=0,t.centerY=0);else{var e=new Z;e.addAll(t.iterator),t=new Z;var i,n,r=new Z,o=this.sort(e),s=this.br,a=this.arrangement,l=this.nodeDiameterFormula,h=this.radius;(!isFinite(h)||0>=h)&&(h=NaN);var u=this.aspectRatio;(!isFinite(u)||0>=u)&&(u=1);var c=this.startAngle;isFinite(c)||(c=0);var d=this.sweepAngle;if((!isFinite(d)||360<d||1>d)&&(d=360),e=this.spacing,isFinite(e)||(e=NaN),a===Cp&&l===Lp?a=yp:a===Cp&&l!==Lp&&(a=this.arrangement),(this.direction===Sp||this.direction===Tp)&&this.sorting!==Op){for(l=0;!(l>=o.length)&&(t.add(o.L(l)),!(l+1>=o.length));l+=2)r.add(o.L(l+1));this.direction===Sp?(this.arrangement===Cp&&t.reverse(),(o=new Z).addAll(t),o.addAll(r)):(this.arrangement===Cp&&r.reverse(),(o=new Z).addAll(r),o.addAll(t))}l=o.length;for(var p=n=i=0;p<o.length;p++){var f=c+d*n*(this.direction===wp?1:-1)/l,m=o.L(p).diameter;isNaN(m)&&(m=Rp(o.L(p),f)),360>d&&(0===p||p===o.length-1)&&(m/=2),i+=m,n++}if(isNaN(h)||a===Cp){if(isNaN(e)&&(e=6),a!==yp&&a!==Cp){for(n=-1/0,s=0;s<l;s++)p=o.L(s),i=o.L(s===l-1?0:s+1),isNaN(p.diameter)&&Rp(p,0),isNaN(i.diameter)&&Rp(i,0),n=Math.max(n,(p.diameter+i.diameter)/2);s=n+e,h=a===bp?(n+e)/(2*Math.PI/l):vp(this,s*(360<=d?l:l-1),u,c*Math.PI/180,d*Math.PI/180)}else h=vp(this,i+(360<=d?l:l-1)*(a!==Cp?e:1.6*e),u,c*Math.PI/180,d*Math.PI/180);n=h*u}else if(p=gp(this,h,n=h*u,c*Math.PI/180,d*Math.PI/180),isNaN(e))a!==yp&&a!==Cp||(e=(p-i)/(360<=d?l:l-1));else if(a===yp||a===Cp)(p=(p-i)/(360<=d?l:l-1))<e?n=(h=vp(this,i+e*(360<=d?l:l-1),u,c*Math.PI/180,d*Math.PI/180))*u:e=p;else{for(s=-1/0,i=0;i<l;i++)f=o.L(i),m=o.L(i===l-1?0:i+1),isNaN(f.diameter)&&Rp(f,0),isNaN(m.diameter)&&Rp(m,0),s=Math.max(s,(f.diameter+m.diameter)/2);(i=vp(this,(s+=e)*(360<=d?l:l-1),u,c*Math.PI/180,d*Math.PI/180))>h?n=(h=i)*u:s=p/(360<=d?l:l-1)}if(this.Cw=a,this.Zb=h,this.xn=u,this.Dw=c,this.mr=d,this.jj=e,this.Qd=n,this.br=s,e=o,o=this.Cw,a=this.Zb,h=this.Dw,u=this.mr,c=this.jj,d=this.Qd,l=this.br,this.direction!==Sp&&this.direction!==Tp||o!==Cp)if(this.direction===Sp||this.direction===Tp){switch(s=0,o){case xp:s=180*Ap(this,a,d,h,l)/Math.PI;break;case yp:l=e=0,null!==(s=t.first())&&(e=Rp(s,Math.PI/2)),null!==(s=r.first())&&(l=Rp(s,Math.PI/2)),s=180*Ap(this,a,d,h,c+(e+l)/2)/Math.PI;break;case bp:s=u/e.length}if(this.direction===Sp){switch(o){case xp:dp(this,t,h,Ep);break;case yp:cp(this,t,h,Ep);break;case bp:up(this,t,u/2,h,Ep)}switch(o){case xp:dp(this,r,h+s,wp);break;case yp:cp(this,r,h+s,wp);break;case bp:up(this,r,u/2,h+s,wp)}}else{switch(o){case xp:dp(this,r,h,Ep);break;case yp:cp(this,r,h,Ep);break;case bp:up(this,r,u/2,h,Ep)}switch(o){case xp:dp(this,t,h+s,wp);break;case yp:cp(this,t,h+s,wp);break;case bp:up(this,t,u/2,h+s,wp)}}}else switch(o){case xp:dp(this,e,h,this.direction);break;case yp:cp(this,e,h,this.direction);break;case bp:up(this,e,u,h,this.direction);break;case Cp:pp(this,e,u,h,this.direction)}else pp(this,e,u,h-u/2,wp)}this.updateParts(),this.network=null,this.isValidLayout=!0},hp.prototype.commitLayout=function(){this.commitNodes(),this.isRouting&&this.commitLinks()},hp.prototype.commitNodes=function(){var t=null!==this.group&&null!==this.group.placeholder&&this.group.isSubGraphExpanded,e=t?this.group.location.copy():null,i=this.actualCenter;t?i=new dt(0,0):(i.x=this.arrangementOrigin.x+this.Zb,i.y=this.arrangementOrigin.y+this.Qd);for(var n=this.network.vertexes.iterator;n.next();){var r=n.value;r.x+=i.x,r.y+=i.y,r.commit()}t&&(this.group.zb(),t=this.group.position.copy(),i=this.group.location.copy(),e=e.Xd(i.Xd(t)),this.group.move(e),this.rw=e.Xd(t))},hp.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},hp.prototype.sort=function(t){switch(this.sorting){case _p:break;case Mp:t.reverse();break;case kp:t.sort(this.comparer);break;case Bp:t.sort(this.comparer),t.reverse();break;case Op:for(var e=[],i=0;i<t.length;i++)e.push(0);i=new Z;for(var n=0;n<t.length;n++){var r=-1,o=-1;if(0===n)for(var s=0;s<t.length;s++){var a=t.L(s).edgesCount;a>r&&(r=a,o=s)}else for(s=0;s<t.length;s++)(a=e[s])>r&&(r=a,o=s);for(i.add(t.L(o)),e[o]=-1,s=(o=t.L(o)).sourceEdges;s.next();)0>(r=t.indexOf(s.value.fromVertex))||0<=e[r]&&e[r]++;for(o=o.destinationEdges;o.next();)0>(r=t.indexOf(o.value.toVertex))||0<=e[r]&&e[r]++}for(t=[],e=0;e<i.length;e++){for(r=i.L(e),t[e]=[],o=r.destinationEdges;o.next();)(n=i.indexOf(o.value.toVertex))!==e&&0>t[e].indexOf(n)&&t[e].push(n);for(r=r.sourceEdges;r.next();)(n=i.indexOf(r.value.fromVertex))!==e&&0>t[e].indexOf(n)&&t[e].push(n)}for(o=[],e=0;e<t.length;e++)o[e]=0;e=[],s=[],a=[],r=[],n=new Z;for(var l=0,h=0;h<t.length;h++){var u=t[h].length;if(1===u)r.push(h);else if(0===u)n.add(i.L(h));else{if(0===l)e.push(h);else{for(var c=u=1/0,d=-1,p=[],f=0;f<e.length;f++)0>t[e[f]].indexOf(e[f===e.length-1?0:f+1])&&p.push(f===e.length-1?0:f+1);if(0===p.length)for(f=0;f<e.length;f++)p.push(f);for(f=0;f<p.length;f++){for(var m=p[f],g=t[h],v=0,y=0;y<s.length;y++){var x=o[s[y]],b=o[a[y]];if(x<b){var C=x;x=b}else C=b;if(C<m&&m<=x)for(b=0;b<g.length;b++){var w=g[b];0>e.indexOf(w)||C<o[w]&&o[w]<x||C===o[w]||x===o[w]||v++}else for(b=0;b<g.length;b++)w=g[b],0>e.indexOf(w)||C<o[w]&&o[w]<x&&C!==o[w]&&x!==o[w]&&v++}for(g=v,y=v=0;y<t[h].length;y++)0<=(C=e.indexOf(t[h][y]))&&(v+=(C=Math.abs(m-(C>=m?C+1:C)))<e.length+1-C?C:e.length+1-C);for(y=0;y<s.length;y++)C=o[s[y]],x=o[a[y]],C>=m&&C++,x>=m&&x++,C>x&&(b=x,x=C,C=b),x-C<(e.length+2)/2==(C<m&&m<=x)&&v++;(g<u||g===u&&v<c)&&(u=g,c=v,d=m)}for(e.splice(d,0,h),u=0;u<e.length;u++)o[e[u]]=u;for(u=0;u<t[h].length;u++)c=t[h][u],0<=e.indexOf(c)&&(s.push(h),a.push(c))}l++}}for(s=e.length;;){for(o=!0,a=0;a<r.length;a++)if(h=t[l=r[a]][0],0<=(u=e.indexOf(h))){for(d=c=0;d<t[h].length;d++)0>(p=e.indexOf(t[h][d]))||p===u||(c+=p<u!=(f=p>u?p-u:u-p)>s-f?1:-1);e.splice(0>c?u:u+1,0,l),r.splice(a,1),a--}else o=!1;if(o)break;e.push(r[0]),r.splice(0,1)}for(t=0;t<e.length;t++)n.add(i.L(e[t]));return n;default:A("Invalid sorting type.")}return t},c.Object.defineProperties(hp.prototype,{radius:{get:function(){return this.Vo},set:function(t){this.Vo!==t&&(0<t||isNaN(t))&&(this.Vo=t,this.C())}},aspectRatio:{get:function(){return this.Vm},set:function(t){this.Vm!==t&&0<t&&(this.Vm=t,this.C())}},startAngle:{get:function(){return this.Bp},set:function(t){this.Bp!==t&&(this.Bp=t,this.C())}},sweepAngle:{get:function(){return this.Ol},set:function(t){this.Ol!==t&&(this.Ol=0<t&&360>=t?t:360,this.C())}},arrangement:{get:function(){return this.Bb},set:function(t){this.Bb===t||t!==Cp&&t!==yp&&t!==xp&&t!==bp||(this.Bb=t,this.C())}},direction:{get:function(){return this.J},set:function(t){this.J===t||t!==wp&&t!==Ep&&t!==Sp&&t!==Tp||(this.J=t,this.C())}},sorting:{get:function(){return this.Pc},set:function(t){this.Pc===t||t!==_p&&t!==Mp&&t!==kp&&!Bp&&t!==Op||(this.Pc=t,this.C())}},comparer:{get:function(){return this.Jc},set:function(t){this.Jc!==t&&(this.Jc=t,this.C())}},spacing:{get:function(){return this.af},set:function(t){this.af!==t&&(this.af=t,this.C())}},nodeDiameterFormula:{get:function(){return this.Fo},set:function(t){this.Fo===t||t!==Pp&&t!==Lp||(this.Fo=t,this.C())}},actualXRadius:{get:function(){return this.Zb}},actualYRadius:{get:function(){return this.Qd}},actualSpacing:{get:function(){return this.jj}},actualCenter:{get:function(){return this.rw}}});var yp=new z(hp,"ConstantSpacing",0),xp=new z(hp,"ConstantDistance",1),bp=new z(hp,"ConstantAngle",2),Cp=new z(hp,"Packed",3),wp=new z(hp,"Clockwise",4),Ep=new z(hp,"Counterclockwise",5),Sp=new z(hp,"BidirectionalLeft",6),Tp=new z(hp,"BidirectionalRight",7),_p=new z(hp,"Forwards",8),Mp=new z(hp,"Reverse",9),kp=new z(hp,"Ascending",10),Bp=new z(hp,"Descending",11),Op=new z(hp,"Optimized",12),Pp=new z(hp,"Pythagorean",13),Lp=new z(hp,"Circular",14);function Np(){this.fm=-1/0,this.Gm=this.vk=null}function Ip(t){Hc.call(this,t)}function Dp(t){zc.call(this,t),this.I=this.ij=NaN}function Rp(t,e){var i=t.network;if(null===i)return NaN;if(null===(i=i.layout))return NaN;if(i.arrangement===Cp)if(i.nodeDiameterFormula===Lp)t.ij=Math.max(t.width,t.height);else{if(i=Math.abs(Math.sin(e)),e=Math.abs(Math.cos(e)),0===i)return t.width;if(0===e)return t.height;t.ij=Math.min(t.height/i,t.width/e)}else t.ij=i.nodeDiameterFormula===Lp?Math.max(t.width,t.height):Math.sqrt(t.width*t.width+t.height*t.height);return t.ij}function Fp(t){Yc.call(this,t)}function Hp(){Dc.call(this),this.wh=null,this.$n=0,this.yd=new Lt(100,100).freeze(),this.Um=!1,this.Ze=!0,this.Wc=!1,this.vl=100,this.An=1,this.Sf=1e3,this.wo=10,this.Wo=Math,this.Qk=.05,this.Pk=50,this.Nk=150,this.Ok=0,this.rn=10,this.qn=5}function Up(t,e,i){if(function(t,e){if(10<e||3>t.network.vertexes.count)return!1;for(t.wh=t.network.vertexes.ma(),(t=t.wh).sort(function(t,e){return null===t||null===e||t===e?0:e.vd-t.vd}),e=t.length-1;0<=e&&1>=t[e].vd;)e--;return 1<t.length-e}(t,e)){var n=t.Sf;t.Sf*=1+1/(e+1);var r=function(t,e){for(var i=t.network,n=new Kp(t),r=0;r<t.wh.length;r++){var o=t.wh[r];if(!(1<o.vd))break;n.zh(o);var s=new Yp;s.Dt=o.vd,s.Et=o.width,s.Ct=o.height,s.kw=o.focus.x,s.lw=o.focus.y,null===o.Ae&&(o.Ae=new Z),o.Ae.add(s),o.Nv=o.Ae.count-1}for(o=i.edges.iterator;o.next();){var a=o.value;r=a.fromVertex,s=a.toVertex,r.network===n&&s.network===n?n.Sp(a):r.network===n?(null===(a=r.Vj)&&(a=new Z,r.Vj=a),a.add(s),r.vd--,r.Gh+=s.Gh):s.network===n&&(null===(a=s.Vj)&&(a=new Z,s.Vj=a),a.add(r),s.vd--,s.Gh+=r.Gh)}for(r=n.edges.iterator;r.next();)(o=r.value).length*=Math.max(1,Ye.sqrt((o.fromVertex.Gh+o.toVertex.Gh)/(4*e+1)));for(e=n.vertexes.iterator;e.next();){var l=(r=e.value).Vj;if(null!==l&&0<l.count&&!(0>=(s=r.Ae.L(r.Ae.count-1).Dt-r.vd))){for(var h=a=0,u=l.count-s;u<l.count;u++){var c=l.L(u),d=null;for(o=c.edges.iterator;o.next();){var p=o.value;if(p.Ex(c)===r){d=p;break}}null!==d&&(h+=d.length,a+=c.width*c.height)}o=r.centerX,l=r.centerY,u=r.width,c=r.height,d=r.focus,1>(p=u*c)&&(p=1),a=Ye.sqrt((a+p+h*h*4/(s*s))/p),s=(a-1)*u/2,a=(a-1)*c/2,r.bounds=new Rt(o-d.x-s,l-d.y-a,u+2*s,c+2*a),r.focus=new dt(d.x+s,d.y+a)}}return t.network=n,i}(t,e),o=Math.max(0,Math.max(Math.min(t.network.vertexes.count,i*(e+1)/11),10));for(t.maxIterations+=o,Up(t,e+1,i),zp(t,o),function(t,e){for(var i=t.network.vertexes.iterator;i.next();){var n=i.value;if(n.network=e,null!==n.Ae){var r=n.Ae.L(n.Nv);n.vd=r.Dt;var o=r.kw,s=r.lw;n.bounds=new Rt(n.centerX-o,n.centerY-s,r.Et,r.Ct),n.focus=new dt(o,s),n.Nv--}}for(i=t.network.edges.iterator;i.next();)i.value.network=e;t.network=e}(t,r),(e=r.vertexes.ma()).sort(function(t,e){return null===t||null===e||t===e?0:e.vd-t.vd}),i=0;i<e.length;i++)Vp(t,e[i]);t.Sf=n}}function Vp(t,e){var i=e.Vj;if(null!==i&&0!==i.count){var n=e.centerX,r=e.centerY,o=e.width,s=e.height;null!==e.Ae&&0<e.Ae.count&&(o=(s=e.Ae.L(0)).Et,s=s.Ct),o=Ye.sqrt(o*o+s*s)/2;for(var a=!1,l=s=0,h=0,u=e.vertexes.iterator;u.next();){var c=u.value;1>=c.vd?l++:(a=!0,h++,s+=Math.atan2(e.centerY-c.centerY,e.centerX-c.centerX))}if(0!==l)for(0<h&&(s/=h),h=e=0,e=a?2*Math.PI/(l+1):2*Math.PI/l,0==l%2&&(h=e/2),1<i.count&&i.sort(function(t,e){return null===t||null===e||t===e?0:e.width*e.height-t.width*t.height}),a=0==l%2?0:1,i=i.iterator;i.next();)if(!(1<(l=i.value).vd||t.isFixed(l))){for(u=null,c=l.edges.iterator;c.next();){u=c.value;break}c=l.width;var d=l.height;c=Ye.sqrt(c*c+d*d)/2,u=o+u.length+c,c=s+(e*(a/2>>1)+h)*(0==a%2?1:-1),l.centerX=n+u*Math.cos(c),l.centerY=r+u*Math.sin(c),a++}}}function jp(t,e,i,n,r,o,s){var a=9e19,l=-1,h=0;t:for(;h<e;h++){var u=t[h],c=u.x-i,d=u.y-n;if((c=c*c+d*d)<a){for(d=h-1;0<=d;d--)if(t[d].y>u.y&&t[d].x-u.x<r+s.width)continue t;for(d=h+1;d<e;d++)if(t[d].x>u.x&&t[d].y-u.y<o+s.height)continue t;l=h,a=c}}return l}function Gp(t,e){var i=t.bounds,n=i.x;t=i.y;var r=i.width;i=i.height;var o=e.bounds,s=o.x;e=o.y;var a=o.width;return o=o.height,n+r<s?t>e+o?(i=n+r-s,t=t-e-o,Ye.sqrt(i*i+t*t)):t+i<e?(n=n+r-s,t=t+i-e,Ye.sqrt(n*n+t*t)):s-(n+r):n>s+a?t>e+o?(i=n-s-a,t=t-e-o,Ye.sqrt(i*i+t*t)):t+i<e?(n=n-s-a,t=t+i-e,Ye.sqrt(n*n+t*t)):n-(s+a):t>e+o?t-(e+o):t+i<e?e-(t+i):.1}function zp(t,e){for(t.wh=null,e=t.$n+e;t.$n<e&&(t.$n++,Qp(t)););t.wh=null}function Qp(t){null===t.wh&&(t.wh=t.network.vertexes.ma());var e=t.wh;if(0>=e.length)return!1;var i=e[0];i.forceX=0,i.forceY=0;for(var n=i.centerX,r=n,o=i=i.centerY,s=1;s<e.length;s++){var a=e[s];a.forceX=0,a.forceY=0;var l=a.centerX;a=a.centerY,n=Math.min(n,l),r=Math.max(r,l),i=Math.min(i,a),o=Math.max(o,a)}(r=r-n>o-i)?e.sort(function(t,e){return null===t||null===e||t===e?0:t.centerX-e.centerX}):e.sort(function(t,e){return null===t||null===e||t===e?0:t.centerY-e.centerY}),i=t.Sf;var h=n=a=0;for(o=0;o<e.length;o++){n=(s=e[o]).bounds,a=s.focus,l=n.x+a.x;var u=n.y+a.y;n=s.charge*t.electricalFieldX(l,u),h=s.charge*t.electricalFieldY(l,u),n+=s.mass*t.gravitationalFieldX(l,u),h+=s.mass*t.gravitationalFieldY(l,u),s.forceX+=n,s.forceY+=h;for(var c=o+1;c<e.length;c++){var d=e[c];if(d!==s){n=d.bounds,a=d.focus,h=n.x+a.x;var p=n.y+a.y;if(l-h>i||h-l>i){if(r)break}else if(u-p>i||p-u>i){if(!r)break}else{var f=Gp(s,d);1>f?(null===(n=t.randomNumberGenerator)&&(t.randomNumberGenerator=n=new Wp),f=n.random(),a=n.random(),l>h?n=(1+(n=Math.abs(d.bounds.right-s.bounds.x)))*f:l<h?n=-(1+(n=Math.abs(d.bounds.x-s.bounds.right)))*f:n=(1+(n=Math.max(d.width,s.width)))*f-n/2,u>p?h=(1+(h=Math.abs(d.bounds.bottom-s.bounds.y)))*a:l<h?h=-(1+(h=Math.abs(d.bounds.y-s.bounds.bottom)))*a:h=(1+(h=Math.max(d.height,s.height)))*a-h/2):(n=(h-l)/f*(a=-s.charge*d.charge/(f*f)),h=(p-u)/f*a),s.forceX+=n,s.forceY+=h,d.forceX-=n,d.forceY-=h}}}}for(r=t.network.edges.iterator;r.next();)i=(a=r.value).fromVertex,o=a.toVertex,s=i.bounds,l=i.focus,n=s.x+l.x,s=s.y+l.y,u=o.bounds,c=o.focus,l=u.x+c.x,u=u.y+c.y,1>(c=Gp(i,o))?(null===(c=t.randomNumberGenerator)&&(t.randomNumberGenerator=c=new Wp),a=c.random(),c=c.random(),n=(n>l?1:-1)*(1+(o.width>i.width?o.width:i.width))*a,h=(s>u?1:-1)*(1+(o.height>i.height?o.height:i.height))*c):(n=(l-n)/c*(a=a.stiffness*(c-a.length)),h=(u-s)/c*a),i.forceX+=n,i.forceY+=h,o.forceX-=n,o.forceY-=h;for(n=0,r=t.moveLimit,i=0;i<e.length;i++)o=e[i],t.isFixed(o)?t.moveFixedVertex(o):(s=o.forceX,l=o.forceY,s<-r?s=-r:s>r&&(s=r),l<-r?l=-r:l>r&&(l=r),o.centerX+=s,o.centerY+=l,n=Math.max(n,s*s+l*l));return n>t.epsilonDistance*t.epsilonDistance}function Yp(){this.lw=this.kw=this.Ct=this.Et=this.Dt=0}function Kp(t){Hc.call(this,t)}function Xp(t){zc.call(this,t),this.Ja=!1,this.Za=this.I=NaN,this.Gh=this.vd=this.Ia=this.Y=0,this.Ae=this.Vj=null,this.Nv=0}function $p(t){Yc.call(this,t),this.l=this.u=NaN}function Wp(){var t=0;void 0===t&&(t=42),this.seed=t,this.ey=48271,this.hy=2147483647,this.Q=44488.07041494893,this.jy=3399,this.gy=1/2147483647,this.random()}function qp(){Dc.call(this),this.Yb=this.ie=25,this.J=0,this.Lk=Of,this.ql=Nf,this.fl=Rf,this.tj=4,this.yk=Vf,this.ig=7,this.Ze=!0,this.ho=4,this.Ea=this.Sr=this.wa=-1,this.pd=this.ro=0,this.Ha=this.nd=this.od=this.Kd=this.fc=null,this.Bo=0,this.Ao=this.yj=null,this.Od=0,this.Co=null,this.Ff=new dt,this.me=[],this.me.length=100}function Jp(t){var e=t.fromVertex.node;return t=t.toVertex.node,null===e&&null===t?8:null===e||null===t?4:1}function Zp(t){null===t.yj&&(t.yj=[]);for(var e=0,i=t.network.vertexes.iterator;i.next();){var n=i.value;t.yj[e]=n.layer,e++,t.yj[e]=n.column,e++,t.yj[e]=n.index,e++}return t.yj}function tf(t,e){var i=0;for(t=t.network.vertexes.iterator;t.next();){var n=t.value;n.layer=e[i],i++,n.column=e[i],i++,n.index=e[i],i++}}function ef(t,e,i){var n=kf(t,e),r=t.fc[e];(null===t.Ao||t.Ao.length<r*r)&&(t.Ao=[]);for(var o=t.Ao,s=0;s<r;s++){var a,l=0,h=n[s],u=h.near;if(null!==u&&u.layer===h.layer)if((h=u.index)>s)for(var c=s+1;c<h;c++){var d=n[c];d.near===u&&d.Qj===u.Qj||l++}else for(c=s-1;c>h;c--)(d=n[c]).near===u&&d.Qj===u.Qj||l++;if(0<=i)for(h=n[s].sourceEdgesArrayAccess,u=0;u<h.length;u++){var p=h[u];if(p.valid&&p.fromVertex.layer!==e)for(d=p.fromVertex.index,c=p.portToPos,p=p.portFromPos,a=u+1;a<h.length;a++){var f=h[a];if(f.valid&&f.fromVertex.layer!==e){var m=f.fromVertex.index,g=f.portToPos;f=f.portFromPos,c<g&&(d>m||d===m&&p>f)&&l++,g<c&&(m>d||m===d&&f>p)&&l++}}}if(0>=i)for(h=n[s].destinationEdgesArrayAccess,u=0;u<h.length;u++)if((p=h[u]).valid&&p.toVertex.layer!==e)for(d=p.toVertex.index,c=p.portToPos,p=p.portFromPos,a=u+1;a<h.length;a++)(f=h[a]).valid&&f.toVertex.layer!==e&&(m=f.toVertex.index,g=f.portToPos,p<(f=f.portFromPos)&&(d>m||d===m&&c>g)&&l++,f<p&&(m>d||m===d&&g>c)&&l++);for(o[s*r+s]=l,h=s+1;h<r;h++){var v=0,A=0;if(0<=i){l=n[s].sourceEdgesArrayAccess;var y=n[h].sourceEdgesArrayAccess;for(u=0;u<l.length;u++)if((p=l[u]).valid&&p.fromVertex.layer!==e)for(d=p.fromVertex.index,p=p.portFromPos,a=0;a<y.length;a++)(f=y[a]).valid&&f.fromVertex.layer!==e&&(m=f.fromVertex.index,f=f.portFromPos,(d<m||d===m&&p<f)&&A++,(m<d||m===d&&f<p)&&v++)}if(0>=i)for(l=n[s].destinationEdgesArrayAccess,y=n[h].destinationEdgesArrayAccess,u=0;u<l.length;u++)if((p=l[u]).valid&&p.toVertex.layer!==e)for(d=p.toVertex.index,c=p.portToPos,a=0;a<y.length;a++)(f=y[a]).valid&&f.toVertex.layer!==e&&(m=f.toVertex.index,g=f.portToPos,(d<m||d===m&&c<g)&&A++,(m<d||m===d&&g<c)&&v++);o[s*r+h]=v,o[h*r+s]=A}}return Bf(t,e,n),o}function nf(t){for(var e=0,i=0;i<=t.wa;i++){for(var n=t,r=i,o=kf(n,r),s=n.fc[r],a=0,l=0;l<s;l++){var h=o[l].destinationEdgesArrayAccess;if(null!==h)for(var u=0;u<h.length;u++){var c=h[u];if(c.valid&&c.toVertex.layer!==r){var d=c.fromVertex.column+c.portFromColOffset,p=c.toVertex.column+c.portToColOffset;a+=(Math.abs(d-p)+1)*Jp(c)}}}Bf(n,r,o),e+=a}return e}function rf(t,e,i){for(var n=kf(t,e),r=t.fc[e],o=[],s=0;s<r;s++){var a=n[s],l=null;0>=i&&(l=a.sourceEdgesArrayAccess);var h=null;0<=i&&(h=a.destinationEdgesArrayAccess);var u=0,c=0,d=a.near;if(null!==d&&d.layer===a.layer&&(u+=d.column-1,c++),null!==l)for(d=0;d<l.length;d++){var p=(a=l[d]).fromVertex;a.valid&&!a.rev&&p.layer!==e&&(u+=p.column,c++)}if(null!==h)for(l=0;l<h.length;l++)d=(a=h[l]).toVertex,a.valid&&!a.rev&&d.layer!==e&&(u+=d.column,c++);o[s]=0===c?-1:u/c}return Bf(t,e,n),o}function of(t,e,i){for(var n=kf(t,e),r=t.fc[e],o=[],s=0;s<r;s++){var a=n[s],l=null;0>=i&&(l=a.sourceEdgesArrayAccess);var h=null;0<=i&&(h=a.destinationEdgesArrayAccess);var u=0,c=[],d=a.near;if(null!==d&&d.layer===a.layer&&(c[u]=d.column-1,u++),a=void 0,null!==l)for(d=0;d<l.length;d++){var p=(a=l[d]).fromVertex;a.valid&&!a.rev&&p.layer!==e&&(c[u]=p.column+a.portFromColOffset,u++)}if(null!==h)for(l=0;l<h.length;l++)d=(a=h[l]).toVertex,a.valid&&!a.rev&&d.layer!==e&&(c[u]=d.column+a.portToColOffset,u++);0===u?o[s]=-1:(c.sort(function(t,e){return t-e}),h=u>>1,o[s]=0!=(1&u)?c[h]:c[h-1]+c[h]>>1)}return Bf(t,e,n),o}function sf(t,e,i,n,r,o){if(e.component===n){if(e.component=i,r)for(var s=e.destinationEdges;s.next();){var a=s.value,l=a.toVertex,h=e.layer-l.layer;h===(a=t.linkMinLength(a))&&sf(t,l,i,n,r,o)}if(o)for(s=e.sourceEdges;s.next();)(h=(l=(a=s.value).fromVertex).layer-e.layer)===(a=t.linkMinLength(a))&&sf(t,l,i,n,r,o)}}function af(t,e,i,n,r,o){if(e.component===n){if(e.component=i,r)for(var s=e.destinationEdges;s.next();)af(t,s.value.toVertex,i,n,r,o);if(o)for(e=e.sourceEdges;e.next();)af(t,e.value.fromVertex,i,n,r,o)}}function lf(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid)return e}return null}function hf(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid){for(var i=!0,n=e.destinationEdges;n.next();)if(n.value.toVertex.valid){i=!1;break}if(i)return e}}return null}function uf(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid){for(var i=!0,n=e.sourceEdges;n.next();)if(n.value.fromVertex.valid){i=!1;break}if(i)return e}}return null}function cf(t,e){e.am=t.Bo,t.Bo++;for(var i=e.destinationEdges;i.next();){var n=i.value,r=n.toVertex;-1===r.am&&(n.forest=!0,cf(t,r))}e.finish=t.Bo,t.Bo++}function df(t){for(var e=t.network.vertexes.iterator;e.next();){var i=pf(t,e.value);t.wa=Math.max(i,t.wa)}}function pf(t,e){var i=0;if(-1===e.layer){for(var n=e.destinationEdges;n.next();){var r=n.value,o=r.toVertex;r=t.linkMinLength(r),i=Math.max(i,pf(t,o)+r)}e.layer=i}else i=e.layer;return i}function ff(t,e){var i=0;if(-1===e.layer){for(var n=e.sourceEdges;n.next();){var r=n.value,o=r.fromVertex;r=t.linkMinLength(r),i=Math.max(i,ff(t,o)+r)}e.layer=i}else i=e.layer;return i}function mf(t,e){if(!e.valid){e.valid=!0;for(var i=e.destinationEdges;i.next();)mf(t,i.value.toVertex);for(i=t.network.vertexes.iterator;i.next();)i.value.component=-1;for(var n=e.sourceEdgesArrayAccess,r=n.length,o=0;o<r;o++){var s=n[o],a=s.fromVertex,l=s.toVertex;s=t.linkMinLength(s),a.layer-l.layer>s&&sf(t,a,0,-1,!0,!1)}for(sf(t,e,1,-1,!0,!0);0!==e.component;){for(o=0,n=1/0,a=0,l=null,s=t.network.vertexes.iterator;s.next();){var h=s.value;if(1===h.component){var u=0,c=!1,d=h.sourceEdgesArrayAccess;r=d.length;for(var p=0;p<r;p++){var f=d[p],m=f.fromVertex;u+=1,1!==m.component&&(o+=1,m=m.layer-h.layer,f=t.linkMinLength(f),n=Math.min(n,m-f))}for(r=(d=h.destinationEdgesArrayAccess).length,p=0;p<r;p++)--u,1!==(f=d[p].toVertex).component?--o:c=!0;(null===l||u<a)&&!c&&(l=h,a=u)}}if(0<o){for(i.reset();i.next();)1===(r=i.value).component&&(r.layer+=n);e.component=0}else l.component=0}for(i=t.network.vertexes.iterator;i.next();)i.value.component=-1;for(sf(t,e,1,-1,!0,!1);0!==e.component;){for(n=0,r=1/0,o=0,a=null,l=t.network.vertexes.iterator;l.next();)if(1===(s=l.value).component){for(h=0,u=!1,c=(d=s.sourceEdgesArrayAccess).length,p=0;p<c;p++)h+=1,1!==(f=d[p].fromVertex).component?n+=1:u=!0;for(c=(d=s.destinationEdgesArrayAccess).length,p=0;p<c;p++)--h,1!==(m=(f=d[p]).toVertex).component&&(--n,m=s.layer-m.layer,f=t.linkMinLength(f),r=Math.min(r,m-f));(null===a||h>o)&&!u&&(a=s,o=h)}if(0>n){for(i.reset();i.next();)1===(n=i.value).component&&(n.layer-=r);e.component=0}else a.component=0}}}function gf(t,e,i){return 90===t.J?i&&!e.rev||!i&&e.rev?270:90:180===t.J?i&&!e.rev||!i&&e.rev?0:180:270===t.J?i&&!e.rev||!i&&e.rev?90:270:i&&!e.rev||!i&&e.rev?180:0}function vf(t,e){var i=e.layer;for(e.index=t.fc[i],t.fc[i]++,e=e.destinationEdgesArrayAccess,i=!0;i;){i=!1;for(var n=0;n<e.length-1;n++){var r=e[n],o=e[n+1];r.portFromColOffset>o.portFromColOffset&&(i=!0,e[n]=o,e[n+1]=r)}}for(i=0;i<e.length;i++)(n=e[i]).valid&&(-1===(n=n.toVertex).index&&vf(t,n))}function Af(t,e){var i=e.layer;e.index=t.fc[i],t.fc[i]++,e=e.sourceEdgesArrayAccess;for(var n=!0;n;)for(n=!1,i=0;i<e.length-1;i++){var r=e[i],o=e[i+1];r.portToColOffset>o.portToColOffset&&(n=!0,e[i]=o,e[i+1]=r)}for(i=0;i<e.length;i++)(n=e[i]).valid&&(-1===(n=n.fromVertex).index&&Af(t,n))}function yf(t,e,i){var n=kf(t,e),r=t.fc[e],o=of(t,e,i),s=rf(t,e,i);for(i=0;i<r;i++)-1===s[i]&&(s[i]=n[i].column),-1===o[i]&&(o[i]=n[i].column);for(var a,l=!0;l;)for(l=!1,i=0;i<r-1;i++)(o[i+1]<o[i]||o[i+1]===o[i]&&s[i+1]<s[i])&&(l=!0,a=o[i],o[i]=o[i+1],o[i+1]=a,a=s[i],s[i]=s[i+1],s[i+1]=a,a=n[i],n[i]=n[i+1],n[i+1]=a);for(i=o=0;i<r;i++)(a=n[i]).index=i,o+=t.nodeMinColumnSpace(a,!0),a.column=o,o+=1,o+=t.nodeMinColumnSpace(a,!1);Bf(t,e,n)}function xf(t,e,i){var n,r=kf(t,e),o=t.fc[e];i=ef(t,e,i);var s=[];for(n=0;n<o;n++)s[n]=-1;var a=[];for(n=0;n<o;n++)a[n]=-1;for(var l=!1,h=!0;h;)for(h=!1,n=0;n<o-1;n++){var u=i[r[n].index*o+r[n+1].index],c=i[r[n+1].index*o+r[n].index],d=0,p=0,f=r[n].column,m=r[n+1].column,g=t.nodeMinColumnSpace(r[n],!0),v=t.nodeMinColumnSpace(r[n],!1),A=t.nodeMinColumnSpace(r[n+1],!0),y=t.nodeMinColumnSpace(r[n+1],!1);g=f-g+A,v=m-v+y;var x=r[n].sourceEdges.iterator;for(x.reset();x.next();)if(y=(A=x.value).fromVertex,A.valid&&y.layer===e){for(A=0;r[A]!==y;)A++;A<n&&(d+=2*(n-A),p+=2*(n+1-A)),A===n+1&&(d+=1),A>n+1&&(d+=4*(A-n),p+=4*(A-(n+1)))}for((x=r[n].destinationEdges.iterator).reset();x.next();)if(y=(A=x.value).toVertex,A.valid&&y.layer===e){for(A=0;r[A]!==y;)A++;A===n+1&&(p+=1)}for((x=r[n+1].sourceEdges.iterator).reset();x.next();)if(y=(A=x.value).fromVertex,A.valid&&y.layer===e){for(A=0;r[A]!==y;)A++;A<n&&(d+=2*(n+1-A),p+=2*(n-A)),A===n&&(p+=1),A>n+1&&(d+=4*(A-(n+1)),p+=4*(A-n))}for((x=r[n+1].destinationEdges.iterator).reset();x.next();)if(y=(A=x.value).toVertex,A.valid&&y.layer===e){for(A=0;r[A]!==y;)A++;A===n&&(d+=1)}A=y=0,x=s[r[n].index];var b=a[r[n].index],C=s[r[n+1].index],w=a[r[n+1].index];-1!==x&&(y+=Math.abs(x-f),A+=Math.abs(x-v)),-1!==b&&(y+=Math.abs(b-f),A+=Math.abs(b-v)),-1!==C&&(y+=Math.abs(C-m),A+=Math.abs(C-g)),-1!==w&&(y+=Math.abs(w-m),A+=Math.abs(w-g)),(p<d-.5||p===d&&c<u-.5||p===d&&c===u&&A<y-.5)&&(h=l=!0,r[n].column=v,r[n+1].column=g,u=r[n],r[n]=r[n+1],r[n+1]=u)}for(n=0;n<o;n++)r[n].index=n;return Bf(t,e,r),l}function bf(t,e,i){for(var n=!1;Cf(t,e,i);)n=!0;return n}function Cf(t,e,i){var n,r=kf(t,e),o=t.fc[e],s=rf(t,e,-1);if(0<i)for(n=0;n<o;n++)s[n]=-1;var a=rf(t,e,1);if(0>i)for(n=0;n<o;n++)a[n]=-1;for(var l=!1,h=!0;h;)for(h=!1,n=0;n<o;n++){var u=r[n].column,c=t.nodeMinColumnSpace(r[n],!0),d=t.nodeMinColumnSpace(r[n],!1),p=0;p=0>n-1||u-r[n-1].column-1>c+t.nodeMinColumnSpace(r[n-1],!1)?u-1:u,c=n+1>=o||r[n+1].column-u-1>d+t.nodeMinColumnSpace(r[n+1],!0)?u+1:u;var f=d=0,m=0;if(0>=i)for(var g=r[n].sourceEdges.iterator;g.next();){var v=g.value,A=v.fromVertex;if(v.valid&&A.layer!==e){var y=Jp(v),x=v.portFromColOffset;v=v.portToColOffset,A=A.column,d+=(Math.abs(u+v-(A+x))+1)*y,f+=(Math.abs(p+v-(A+x))+1)*y,m+=(Math.abs(c+v-(A+x))+1)*y}}if(0<=i)for(g=r[n].destinationEdges.iterator;g.next();)A=(v=g.value).toVertex,v.valid&&A.layer!==e&&(y=Jp(v),x=v.portFromColOffset,v=v.portToColOffset,A=A.column,d+=(Math.abs(u+x-(A+v))+1)*y,f+=(Math.abs(p+x-(A+v))+1)*y,m+=(Math.abs(c+x-(A+v))+1)*y);v=x=y=0,g=s[r[n].index],A=a[r[n].index],-1!==g&&(y+=Math.abs(g-u),x+=Math.abs(g-p),v+=Math.abs(g-c)),-1!==A&&(y+=Math.abs(A-u),x+=Math.abs(A-p),v+=Math.abs(A-c)),f<d||f===d&&x<y?(h=l=!0,r[n].column=p):(m<d||m===d&&v<y)&&(h=l=!0,r[n].column=c)}return Bf(t,e,r),t.normalize(),l}function wf(t,e,i){var n=kf(t,e),r=t.fc[e],o=of(t,e,i),s=[];for(i=0;i<r;i++)s[i]=o[i];for(o=!0;o;)for(o=!1,i=0;i<r;i++){var a=n[i].column,l=t.nodeMinColumnSpace(n[i],!0),h=t.nodeMinColumnSpace(n[i],!1),u=0;if(-1===s[i])if(0===i&&i===r-1)u=a;else if(0===i){var c=n[i+1].column;u=c-a===h+t.nodeMinColumnSpace(n[i+1],!0)?a-1:a}else i===r-1?u=a-(c=n[i-1].column)===l+t.nodeMinColumnSpace(n[i-1],!1)?a+1:a:u=((l=(c=n[i-1].column)+t.nodeMinColumnSpace(n[i-1],!1)+l+1)+(h=(c=n[i+1].column)-t.nodeMinColumnSpace(n[i+1],!0)-h-1))/2|0;else 0===i&&i===r-1?u=s[i]:0===i?(h=(c=n[i+1].column)-t.nodeMinColumnSpace(n[i+1],!0)-h-1,u=Math.min(s[i],h)):i===r-1?(l=(c=n[i-1].column)+t.nodeMinColumnSpace(n[i-1],!1)+l+1,u=Math.max(s[i],l)):(l=(c=n[i-1].column)+t.nodeMinColumnSpace(n[i-1],!1)+l+1,h=(c=n[i+1].column)-t.nodeMinColumnSpace(n[i+1],!0)-h-1,l<s[i]&&s[i]<h?u=s[i]:l>=s[i]?u=l:h<=s[i]&&(u=h));u!==a&&(o=!0,n[i].column=u)}Bf(t,e,n),t.normalize()}function Ef(t,e){for(var i=!0,n=t.network.vertexes.iterator;n.next();){var r=n.value,o=t.nodeMinColumnSpace(r,!0),s=t.nodeMinColumnSpace(r,!1);if(r.column-o<=e&&r.column+s>=e){i=!1;break}}if(t=!1,i)for(n.reset();n.next();)(i=n.value).column>e&&(--i.column,t=!0);return t}function Sf(t,e){var i,n=e+1,r=[],o=[];for(i=0;i<=t.wa;i++)r[i]=!1,o[i]=!1;for(var s=t.network.vertexes.iterator;s.next();){var a=(i=s.value).column-t.nodeMinColumnSpace(i,!0),l=i.column+t.nodeMinColumnSpace(i,!1);a<=e&&l>=e&&(r[i.layer]=!0),a<=n&&l>=n&&(o[i.layer]=!0)}for(a=!0,n=!1,i=0;i<=t.wa;i++)a=a&&!(r[i]&&o[i]);if(a)for(s.reset();s.next();)(t=s.value).column>e&&(--t.column,n=!0);return n}function Tf(t,e){for(var i=0;i<=t.Ea;i++)for(;Ef(t,i););for(t.normalize(),i=0;i<t.Ea;i++)for(;Sf(t,i););var n;if(t.normalize(),0<e)for(i=0;i<=t.Ea;i++){var r=Zp(t),o=nf(t);for(n=o+1;o<n;){n=o,_f(t,i,1);var s=nf(t);s>o?tf(t,r):s<o&&(o=s,r=Zp(t))}}if(0>e)for(i=t.Ea;0<=i;i--)for(r=Zp(t),n=(o=nf(t))+1;o<n;)n=o,_f(t,i,-1),(s=nf(t))>o?tf(t,r):s<o&&(o=s,r=Zp(t));t.normalize()}function _f(t,e,i){t.Od=0;for(var n=t.network.vertexes.iterator;n.next();)n.value.component=-1;if(0<i)for(n.reset();n.next();){var r=n.value;r.column-t.nodeMinColumnSpace(r,!0)<=e&&(r.component=t.Od)}if(0>i)for(n.reset();n.next();)(r=n.value).column+t.nodeMinColumnSpace(r,!1)>=e&&(r.component=t.Od);for(t.Od++,n.reset();n.next();)-1===(e=n.value).component&&(af(t,e,t.Od,-1,!0,!0),t.Od++);var o;for(e=[],o=0;o<t.Od*t.Od;o++)e[o]=!1;for(r=[],o=0;o<(t.wa+1)*(t.Ea+1);o++)r[o]=-1;for(n.reset();n.next();)for(var s=(o=n.value).layer,a=Math.max(0,o.column-t.nodeMinColumnSpace(o,!0)),l=Math.min(t.Ea,o.column+t.nodeMinColumnSpace(o,!1));a<=l;a++)r[s*(t.Ea+1)+a]=o.component;for(o=0;o<=t.wa;o++){if(0<i)for(s=0;s<t.Ea;s++)-1!==r[o*(t.Ea+1)+s]&&-1!==r[o*(t.Ea+1)+s+1]&&r[o*(t.Ea+1)+s]!==r[o*(t.Ea+1)+s+1]&&(e[r[o*(t.Ea+1)+s]*t.Od+r[o*(t.Ea+1)+s+1]]=!0);if(0>i)for(s=t.Ea;0<s;s--)-1!==r[o*(t.Ea+1)+s]&&-1!==r[o*(t.Ea+1)+s-1]&&r[o*(t.Ea+1)+s]!==r[o*(t.Ea+1)+s-1]&&(e[r[o*(t.Ea+1)+s]*t.Od+r[o*(t.Ea+1)+s-1]]=!0)}for(r=[],o=0;o<t.Od;o++)r[o]=!0;for((s=[]).push(0);0!==s.length;)if(l=s[s.length-1],s.pop(),r[l])for(r[l]=!1,o=0;o<t.Od;o++)e[l*t.Od+o]&&s.splice(0,0,o);if(0<i)for(n.reset();n.next();)r[(t=n.value).component]&&--t.column;if(0>i)for(n.reset();n.next();)r[(i=n.value).component]&&(i.column+=1)}function Mf(t,e){return 270===t.J?e?Be:Le:90===t.J?e?Le:Be:180===t.J?e?Oe:Pe:e?Pe:Oe}function kf(t,e){var i=t.fc[e];if(i>=t.me.length){for(var n=[],r=0;r<t.me.length;r++)n[r]=t.me[r];t.me=n}for(void 0===t.me[i]||null===t.me[i]?n=[]:(n=t.me[i],t.me[i]=null),t=t.Co[e],e=0;e<t.length;e++)n[(i=t[e]).index]=i;return n}function Bf(t,e,i){t.me[t.fc[e]]=i}hp.className="CircularLayout",hp.ConstantSpacing=yp,hp.ConstantDistance=xp,hp.ConstantAngle=bp,hp.Packed=Cp,hp.Clockwise=wp,hp.Counterclockwise=Ep,hp.BidirectionalLeft=Sp,hp.BidirectionalRight=Tp,hp.Forwards=_p,hp.Reverse=Mp,hp.Ascending=kp,hp.Descending=Bp,hp.Optimized=Op,hp.Pythagorean=Pp,hp.Circular=Lp,Np.prototype.compare=function(t,e){if(0<t&&0>this.fm||Math.abs(t)<Math.abs(this.fm)&&!(0>t&&0<this.fm))for(this.fm=t,this.vk=[],this.Gm=[],t=0;t<e.length;t++)this.vk[t]=e[t].bounds.x,this.Gm[t]=e[t].bounds.y},Np.prototype.commit=function(t){if(null!==this.vk&&null!==this.Gm)for(var e=0;e<this.vk.length;e++){var i=t.L(e);i.x=this.vk[e],i.y=this.Gm[e]}},Np.className="VertexArrangement",u(Ip,Hc),Ip.prototype.createVertex=function(){return new Dp(this)},Ip.prototype.createEdge=function(){return new Fp(this)},Ip.className="CircularNetwork",u(Dp,zc),c.Object.defineProperties(Dp.prototype,{diameter:{get:function(){return this.ij},set:function(t){this.ij!==t&&(this.ij=t)}},actualAngle:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}}}),Dp.className="CircularVertex",u(Fp,Yc),Fp.className="CircularEdge",u(Hp,Dc),Hp.prototype.cloneProtected=function(t){Dc.prototype.cloneProtected.call(this,t),t.yd.assign(this.yd),t.Um=this.Um,t.Ze=this.Ze,t.Wc=this.Wc,t.vl=this.vl,t.An=this.An,t.Sf=this.Sf,t.wo=this.wo,t.Wo=this.Wo,t.Qk=this.Qk,t.Pk=this.Pk,t.Nk=this.Nk,t.Ok=this.Ok,t.rn=this.rn,t.qn=this.qn},Hp.prototype.createNetwork=function(){return new Kp(this)},Hp.prototype.doLayout=function(t){if(null===this.network&&(this.network=this.makeNetwork(t)),t=this.maxIterations,0<this.network.vertexes.count){this.network.Xp();for(var e=this.network.vertexes.iterator;e.next();){var i=e.value;i.charge=this.electricalCharge(i),i.mass=this.gravitationalMass(i)}for(e=this.network.edges.iterator;e.next();)(i=e.value).stiffness=this.springStiffness(i),i.length=this.springLength(i);if(this.Ru(),this.$n=0,this.needsClusterLayout()){for(i=(e=this.network).ay().iterator;i.next();){this.network=i.value;for(var n=this.network.vertexes.iterator;n.next();){var r=n.value;r.vd=r.vertexes.count,r.Gh=1,r.Vj=null,r.Ae=null}Up(this,0,t)}this.network=e,i.reset(),n=this.arrangementSpacing;for(var o=i.count,s=!0,a=r=0,l=M(),h=0;h<o+e.vertexes.count+2;h++)l[h]=null;o=0,i.reset();for(var u=Rt.alloc();i.next();)if(h=i.value,this.computeBounds(h,u),s)s=!1,r=u.x+u.width/2,a=u.y+u.height/2,l[0]=new dt(u.x+u.width+n.width,u.y),l[1]=new dt(u.x,u.y+u.height+n.height),o=2;else{var c=jp(l,o,r,a,u.width,u.height,n),d=l[c],p=new dt(d.x+u.width+n.width,d.y),f=new dt(d.x,d.y+u.height+n.height);for(c+1<o&&l.splice(c+1,0,null),l[c]=p,l[c+1]=f,o++,c=d.x-u.x,d=d.y-u.y,h=h.vertexes.iterator;h.next();)(p=h.value).centerX+=c,p.centerY+=d}for(Rt.free(u),h=e.vertexes.iterator;h.next();)p=(s=h.value).bounds,2>o?(r=p.x+p.width/2,a=p.y+p.height/2,l[0]=new dt(p.x+p.width+n.width,p.y),l[1]=new dt(p.x,p.y+p.height+n.height),o=2):(c=new dt((d=l[u=jp(l,o,r,a,p.width,p.height,n)]).x+p.width+n.width,d.y),p=new dt(d.x,d.y+p.height+n.height),u+1<o&&l.splice(u+1,0,null),l[u]=c,l[u+1]=p,o++,s.centerX=d.x+s.width/2,s.centerY=d.y+s.height/2);for(k(l),i.reset();i.next();){for(r=(n=i.value).vertexes.iterator;r.next();)e.zh(r.value);for(n=n.edges.iterator;n.next();)e.Sp(n.value)}}zp(this,t),this.updateParts()}this.vl=t,this.network=null,this.isValidLayout=!0},Hp.prototype.needsClusterLayout=function(){if(3>this.network.vertexes.count)return!1;for(var t=0,e=0,i=this.network.vertexes.first().bounds,n=this.network.vertexes.iterator;n.next();){if(n.value.bounds.Gc(i)&&2<++t)return!0;if(10<e)break;e++}return!1},Hp.prototype.computeBounds=function(t,e){var i=!0;for(t=t.vertexes.iterator;t.next();){var n=t.value;i?(i=!1,e.set(n.bounds)):e.Hc(n.bounds)}return e},Hp.prototype.Ru=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},Hp.prototype.addComments=function(t){var e=t.node;if(null!==e)for(e=e.fv();e.next();){var i=e.value;if("Comment"===i.category&&i.isVisible()){var n=this.network.Qi(i);null===n&&(n=this.network.Wl(i)),n.charge=this.defaultCommentElectricalCharge,i=null;for(var r=n.destinationEdges;r.next();){var o=r.value;if(o.toVertex===t){i=o;break}}if(null===i)for(r=n.sourceEdges;r.next();)if((o=r.value).fromVertex===t){i=o;break}null===i&&(i=this.network.hk(t,n,null)),i.length=this.defaultCommentSpringLength}}},Hp.prototype.moveFixedVertex=function(){},Hp.prototype.commitLayout=function(){this.Rv(),this.commitNodes(),this.isRouting&&this.commitLinks()},Hp.prototype.Rv=function(){if(this.setsPortSpots)for(var t=this.network.edges.iterator;t.next();){var e=t.value.link;null!==e&&(e.fromSpot=Se,e.toSpot=Se)}},Hp.prototype.commitNodes=function(){var t=0,e=0;if(this.arrangesToOrigin){var i=Rt.alloc();this.computeBounds(this.network,i),t=(e=this.arrangementOrigin).x-i.x,e=e.y-i.y,Rt.free(i)}i=Rt.alloc();for(var n=this.network.vertexes.iterator;n.next();){var r=n.value;0===t&&0===e||(i.assign(r.bounds),i.x+=t,i.y+=e,r.bounds=i),r.commit()}Rt.free(i)},Hp.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},Hp.prototype.springStiffness=function(t){return t=t.stiffness,isNaN(t)?this.Qk:t},Hp.prototype.springLength=function(t){return t=t.length,isNaN(t)?this.Pk:t},Hp.prototype.electricalCharge=function(t){return t=t.charge,isNaN(t)?this.Nk:t},Hp.prototype.electricalFieldX=function(){return 0},Hp.prototype.electricalFieldY=function(){return 0},Hp.prototype.gravitationalMass=function(t){return t=t.mass,isNaN(t)?this.Ok:t},Hp.prototype.gravitationalFieldX=function(){return 0},Hp.prototype.gravitationalFieldY=function(){return 0},Hp.prototype.isFixed=function(t){return t.isFixed},c.Object.defineProperties(Hp.prototype,{currentIteration:{get:function(){return this.$n}},arrangementSpacing:{get:function(){return this.yd},set:function(t){this.yd.A(t)||(this.yd.assign(t),this.C())}},arrangesToOrigin:{get:function(){return this.Um},set:function(t){this.Um!==t&&(this.Um=t,this.C())}},setsPortSpots:{get:function(){return this.Ze},set:function(t){this.Ze!==t&&(this.Ze=t,this.C())}},comments:{get:function(){return this.Wc},set:function(t){this.Wc!==t&&(this.Wc=t,this.C())}},maxIterations:{get:function(){return this.vl},set:function(t){this.vl!==t&&0<=t&&(this.vl=t,this.C())}},epsilonDistance:{get:function(){return this.An},set:function(t){this.An!==t&&0<t&&(this.An=t,this.C())}},infinityDistance:{get:function(){return this.Sf},set:function(t){this.Sf!==t&&1<t&&(this.Sf=t,this.C())}},moveLimit:{get:function(){return this.wo},set:function(t){this.wo!==t&&1<t&&(this.wo=t,this.C())}},randomNumberGenerator:{get:function(){return this.Wo},set:function(t){this.Wo!==t&&(null!==t&&"function"!=typeof t.random&&A('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+t),this.Wo=t)}},defaultSpringStiffness:{get:function(){return this.Qk},set:function(t){this.Qk!==t&&(this.Qk=t,this.C())}},defaultSpringLength:{get:function(){return this.Pk},set:function(t){this.Pk!==t&&(this.Pk=t,this.C())}},defaultElectricalCharge:{get:function(){return this.Nk},set:function(t){this.Nk!==t&&(this.Nk=t,this.C())}},defaultGravitationalMass:{get:function(){return this.Ok},set:function(t){this.Ok!==t&&(this.Ok=t,this.C())}},defaultCommentSpringLength:{get:function(){return this.rn},set:function(t){this.rn!==t&&(this.rn=t,this.C())}},defaultCommentElectricalCharge:{get:function(){return this.qn},set:function(t){this.qn!==t&&(this.qn=t,this.C())}}}),Hp.className="ForceDirectedLayout",Yp.className="ForceDirectedSubnet",u(Kp,Hc),Kp.prototype.createVertex=function(){return new Xp(this)},Kp.prototype.createEdge=function(){return new $p(this)},Kp.className="ForceDirectedNetwork",u(Xp,zc),c.Object.defineProperties(Xp.prototype,{isFixed:{get:function(){return this.Ja},set:function(t){this.Ja!==t&&(this.Ja=t)}},charge:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}},mass:{get:function(){return this.Za},set:function(t){this.Za!==t&&(this.Za=t)}},forceX:{get:function(){return this.Y},set:function(t){this.Y!==t&&(this.Y=t)}},forceY:{get:function(){return this.Ia},set:function(t){this.Ia!==t&&(this.Ia=t)}}}),Xp.className="ForceDirectedVertex",u($p,Yc),c.Object.defineProperties($p.prototype,{stiffness:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},length:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t)}}}),$p.className="ForceDirectedEdge",Wp.prototype.random=function(){var t=this.seed%this.Q*this.ey-this.seed/this.Q*this.jy;return this.seed=0<t?t:t+this.hy,this.seed*this.gy},Wp.className="RandomNumberGenerator",u(qp,Dc),qp.prototype.cloneProtected=function(t){Dc.prototype.cloneProtected.call(this,t),t.ie=this.ie,t.Yb=this.Yb,t.J=this.J,t.Lk=this.Lk,t.ql=this.ql,t.fl=this.fl,t.tj=this.tj,t.yk=this.yk,t.ig=this.ig,t.Ze=this.Ze,t.ho=this.ho},qp.prototype.cb=function(t){t.classType===qp?0===t.name.indexOf("Aggressive")?this.aggressiveOption=t:0===t.name.indexOf("Cycle")?this.cycleRemoveOption=t:0===t.name.indexOf("Init")?this.initializeOption=t:0===t.name.indexOf("Layer")?this.layeringOption=t:A("Unknown enum value: "+t):Dc.prototype.cb.call(this,t)},qp.prototype.createNetwork=function(){return new zf(this)},qp.prototype.doLayout=function(t){for(null===this.network&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),this.Sr=-1,this.pd=this.ro=0,this.Co=this.Ao=this.yj=null,t=0;t<this.me.length;t++)this.me[t]=null;if(0<this.network.vertexes.count){for(this.network.Xp(),this.cycleRemoveOption!==Lf&&this.removeCycles(),t=this.network.vertexes.iterator;t.next();)t.value.layer=-1;for(this.wa=-1,this.assignLayers(),t.reset();t.next();)this.wa=Math.max(this.wa,t.value.layer);this.cycleRemoveOption===Lf&&this.removeCycles();for(var e=[],i=(t=this.network).edges.iterator;i.next();){var n=i.value;n.valid=!1,e.push(n)}for(i=0;i<e.length;i++){var r=(n=e[i]).fromVertex,o=n.toVertex;if(!n.valid&&(null!==r.node&&null!==o.node||r.layer!==o.layer)){var s=0,a=0,l=0,h=0;if(null!==n.link){if(null===(a=n.link))continue;var u=r.node;if(s=o.node,null===u||null===s)continue;var c=a.fromNode;l=a.toNode;var d=a.fromPort;if(a=a.toPort,n.rev){h=c;var p=d;c=l,d=a,l=h,a=p}var f=r.focus;h=o.focus;var m=n.rev?o.bounds:r.bounds;p=dt.alloc(),u!==c?m.v()&&c.isVisible()?c.actualBounds.v()?(c.rf(d,oe,p),p.x+=c.actualBounds.x-m.x,p.y+=c.actualBounds.y-m.y):(c.rf(d,oe,p),p.v()||p.assign(f)):p.assign(f):m.v()?(c.rf(d,oe,p),p.v()||p.assign(f)):p.assign(f),c=n.rev?r.bounds:o.bounds,u=dt.alloc(),s!==l?c.v()&&l.isVisible()?l.actualBounds.v()?(l.rf(a,oe,u),u.x+=l.actualBounds.x-c.x,u.y+=l.actualBounds.y-c.y):(l.rf(a,oe,u),u.v()||u.assign(h)):u.assign(h):c.v()?(l.rf(a,oe,u),u.v()||u.assign(h)):u.assign(h),90===this.J||270===this.J?(s=Math.round((p.x-f.x)/this.Yb),l=p.x,a=Math.round((u.x-h.x)/this.Yb),h=u.x):(s=Math.round((p.y-f.y)/this.Yb),l=p.y,a=Math.round((u.y-h.y)/this.Yb),h=u.y),dt.free(p),dt.free(u),n.portFromColOffset=s,n.portFromPos=l,n.portToColOffset=a,n.portToPos=h}else n.portFromColOffset=0,n.portFromPos=0,n.portToColOffset=0,n.portToPos=0;if(p=r.layer,u=o.layer,c=0,null!==(m=n.link)){var g=m.fromPort,v=m.toPort;if(null!==g&&null!==v){var A=m.fromNode;if(d=m.toNode,null!==A&&null!==d){var y=Mf(this,!0),x=Mf(this,!1),b=this.setsPortSpots?y:m.computeSpot(!0,g);f=this.setsPortSpots?x:m.computeSpot(!1,v);var C=m.isOrthogonal;b.uf()&&b.sf(x)&&f.uf()&&f.sf(y)?c=0:(y=m.getLinkPoint(A,g,b,!0,C,d,v,dt.alloc()),x=m.getLinkDirection(A,g,y,b,!0,C,d,v),dt.free(y),b.it()||x!==gf(this,n,!0)?this.setsPortSpots&&null!==A&&1===A.ports.count&&n.rev&&(c+=1):c+=1,b=m.getLinkPoint(d,v,f,!1,C,A,g,dt.alloc()),m=m.getLinkDirection(d,v,b,f,!1,C,A,g),dt.free(b),f.it()||m!==gf(this,n,!1)?this.setsPortSpots&&null!==d&&1===d.ports.count&&n.rev&&(c+=2):c+=2)}}}if(c=1===(d=c)||3===d,(d=2===d||3===d)&&((f=t.createVertex()).node=null,f.Qj=1,f.layer=p,f.near=r,t.zh(f),(r=t.hk(r,f,n.link)).valid=!1,r.rev=n.rev,r.portFromColOffset=s,r.portToColOffset=0,r.portFromPos=l,r.portToPos=0,r=f),m=1,c&&m--,p-u>m&&0<p){for(n.valid=!1,(f=t.createVertex()).node=null,f.Qj=2,f.layer=p-1,t.zh(f),(r=t.hk(r,f,n.link)).valid=!0,r.rev=n.rev,r.portFromColOffset=d?0:s,r.portToColOffset=0,r.portFromPos=d?0:l,r.portToPos=0,r=f,p--;p-u>m&&0<p;)(f=t.createVertex()).node=null,f.Qj=3,f.layer=p-1,t.zh(f),(r=t.hk(r,f,n.link)).valid=!0,r.rev=n.rev,r.portFromColOffset=0,r.portToColOffset=0,r.portFromPos=0,r.portToPos=0,r=f,p--;(r=t.hk(f,o,n.link)).valid=!c,c&&(f.near=o),r.rev=n.rev,r.portFromColOffset=0,r.portToColOffset=a,r.portFromPos=0,r.portToPos=h}else n.valid=!0}}for(t=this.fc=[],e=0;e<=this.wa;e++)t[e]=0;for(e=this.network.vertexes.iterator;e.next();)e.value.index=-1;for(this.initializeIndices(),this.Sr=-1,i=this.pd=this.ro=0;i<=this.wa;i++)t[i]>t[this.pd]&&(this.Sr=t[i]-1,this.pd=i),t[i]<t[this.ro]&&(this.ro=i);for(this.Co=[],i=0;i<t.length;i++)this.Co[i]=[];for(e.reset();e.next();)t=e.value,this.Co[t.layer][t.index]=t;for(this.Ea=-1,t=0;t<=this.wa;t++){for(e=kf(this,t),i=0,n=this.fc[t],o=0;o<n;o++)r=e[o],i+=this.nodeMinColumnSpace(r,!0),r.column=i,i+=1,i+=this.nodeMinColumnSpace(r,!1);this.Ea=Math.max(this.Ea,i-1),Bf(this,t,e)}this.reduceCrossings(),this.straightenAndPack(),this.updateParts()}this.network=null,this.isValidLayout=!0},qp.prototype.linkMinLength=function(){return 1},qp.prototype.nodeMinLayerSpace=function(t,e){return null===t.node?0:90===this.J||270===this.J?e?t.focus.y+10:t.bounds.height-t.focus.y+10:e?t.focus.x+10:t.bounds.width-t.focus.x+10},qp.prototype.nodeMinColumnSpace=function(t,e){if(null===t.node)return 0;var i=e?t.zv:t.yv;return null!==i?i:90===(i=this.J)||270===i?e?t.zv=t.focus.x/this.Yb+1|0:t.yv=(t.bounds.width-t.focus.x)/this.Yb+1|0:e?t.zv=t.focus.y/this.Yb+1|0:t.yv=(t.bounds.height-t.focus.y)/this.Yb+1|0},qp.prototype.countCrossings=function(){for(var t=0,e=0;e<=this.wa;e++)for(var i=ef(this,e,1),n=this.fc[e],r=0;r<n;r++)for(var o=r;o<n;o++)t+=i[r*n+o];return t},qp.prototype.normalize=function(){var t=1/0;this.Ea=-1;for(var e=this.network.vertexes.iterator;e.next();){var i=e.value;t=Math.min(t,i.column-this.nodeMinColumnSpace(i,!0)),this.Ea=Math.max(this.Ea,i.column+this.nodeMinColumnSpace(i,!1))}for(e.reset();e.next();)e.value.column-=t;this.Ea-=t},qp.prototype.removeCycles=function(){for(var t=this.network.edges.iterator;t.next();)t.value.rev=!1;switch(this.Lk){default:case Pf:var e=0,i=(t=this.network).vertexes.count-1,n=[];n.length=i+1;for(var r=t.vertexes.iterator;r.next();)r.value.valid=!0;for(;null!==lf(t);){for(r=hf(t);null!==r;)n[i]=r,i--,r.valid=!1,r=hf(t);for(r=uf(t);null!==r;)n[e]=r,e++,r.valid=!1,r=uf(t);r=null;for(var o=0,s=this.network.vertexes.iterator;s.next();){var a=s.value;if(a.valid){for(var l=0,h=a.destinationEdges;h.next();)h.value.toVertex.valid&&l++;h=0;for(var u=a.sourceEdges;u.next();)u.value.fromVertex.valid&&h++;(null===r||o<l-h)&&(r=a,o=l-h)}}null!==r&&(n[e]=r,e++,r.valid=!1)}for(e=0;e<t.vertexes.count;e++)n[e].index=e;for(n=t.edges.iterator;n.next();)(e=n.value).fromVertex.index>e.toVertex.index&&(t.ym(e),e.rev=!0);break;case Of:for(n=this.network.vertexes.iterator;n.next();)(t=n.value).am=-1,t.finish=-1;for(t=this.network.edges.iterator;t.next();)t.value.forest=!1;for(this.Bo=0,n.reset();n.next();)0===(e=n.value).sourceEdges.count&&cf(this,e);for(n.reset();n.next();)-1===(e=n.value).am&&cf(this,e);for(t.reset();t.next();)(n=t.value).forest||(i=(e=n.fromVertex).finish,o=(r=n.toVertex).finish,r.am<e.am&&i<o&&(this.network.ym(n),n.rev=!0));break;case Lf:for(e=(t=this.network).vertexes.iterator,n=1/0;e.next();)n=Math.min(n,e.value.layer);if(1/0>n){if(0>n)for(e.reset();e.next();)e.value.layer-=n;for(n=[],e.reset();e.next();)void 0===(r=n[(i=e.value).layer])?n[i.layer]=[i]:r.push(i);for(i=e=0;i<n.length;i++)if((r=n[i])&&0!==r.length){if(0<i)for(o=0;o<r.length;o++)r[o].layer-=e}else e++;for(n=t.edges.iterator;n.next();)(e=n.value).fromVertex.layer<e.toVertex.layer&&(t.ym(e),e.rev=!0)}}},qp.prototype.assignLayers=function(){switch(this.ql){case If:df(this);break;case Df:for(var t,e=this.network.vertexes.iterator;e.next();)t=ff(this,e.value),this.wa=Math.max(t,this.wa);for(e.reset();e.next();)(t=e.value).layer=this.wa-t.layer;break;default:case Nf:for(df(this),e=this.network.vertexes.iterator;e.next();)e.value.valid=!1;for(e.reset();e.next();)0===(t=e.value).sourceEdges.count&&mf(this,t);for(t=1/0,e.reset();e.next();)t=Math.min(t,e.value.layer);for(this.wa=-1,e.reset();e.next();){var i=e.value;i.layer-=t,this.wa=Math.max(this.wa,i.layer)}}},qp.prototype.initializeIndices=function(){switch(this.fl){default:case Hf:for(var t=this.network.vertexes.iterator;t.next();){var e=t.value,i=e.layer;e.index=this.fc[i],this.fc[i]++}break;case Rf:for(t=this.network.vertexes.iterator,e=this.wa;0<=e;e--)for(t.reset();t.next();)(i=t.value).layer===e&&-1===i.index&&vf(this,i);break;case Ff:for(t=this.network.vertexes.iterator,e=0;e<=this.wa;e++)for(t.reset();t.next();)(i=t.value).layer===e&&-1===i.index&&Af(this,i)}},qp.prototype.reduceCrossings=function(){var t,e,i,n,r,o=this.countCrossings(),s=Zp(this);for(t=0;t<this.tj;t++){for(e=0;e<=this.wa;e++)yf(this,e,1),xf(this,e,1);var a=this.countCrossings();for(a<o&&(o=a,s=Zp(this)),e=this.wa;0<=e;e--)yf(this,e,-1),xf(this,e,-1);(a=this.countCrossings())<o&&(o=a,s=Zp(this))}for(tf(this,s),t=0;t<this.tj;t++){for(e=0;e<=this.wa;e++)yf(this,e,0),xf(this,e,0);for((a=this.countCrossings())<o&&(o=a,s=Zp(this)),e=this.wa;0<=e;e--)yf(this,e,0),xf(this,e,0);(a=this.countCrossings())<o&&(o=a,s=Zp(this))}switch(tf(this,s),this.yk){case Uf:break;case jf:for(r=o+1;(e=this.countCrossings())<r;)for(r=e,t=this.wa;0<=t;t--)for(n=0;n<=t;n++){for(i=!0;i;)for(i=!1,e=t;e>=n;e--)i=xf(this,e,-1)||i;for((a=this.countCrossings())>=o?tf(this,s):(o=a,s=Zp(this)),i=!0;i;)for(i=!1,e=t;e>=n;e--)i=xf(this,e,1)||i;for((a=this.countCrossings())>=o?tf(this,s):(o=a,s=Zp(this)),i=!0;i;)for(i=!1,e=n;e<=t;e++)i=xf(this,e,1)||i;for(a>=o?tf(this,s):(o=a,s=Zp(this)),i=!0;i;)for(i=!1,e=n;e<=t;e++)i=xf(this,e,-1)||i;for(a>=o?tf(this,s):(o=a,s=Zp(this)),i=!0;i;)for(i=!1,e=t;e>=n;e--)i=xf(this,e,0)||i;for(a>=o?tf(this,s):(o=a,s=Zp(this)),i=!0;i;)for(i=!1,e=n;e<=t;e++)i=xf(this,e,0)||i;a>=o?tf(this,s):(o=a,s=Zp(this))}break;default:case Vf:for(t=this.wa,n=0,r=o+1;(e=this.countCrossings())<r;){for(r=e,i=!0;i;)for(i=!1,e=t;e>=n;e--)i=xf(this,e,-1)||i;for((a=this.countCrossings())>=o?tf(this,s):(o=a,s=Zp(this)),i=!0;i;)for(i=!1,e=t;e>=n;e--)i=xf(this,e,1)||i;for((a=this.countCrossings())>=o?tf(this,s):(o=a,s=Zp(this)),i=!0;i;)for(i=!1,e=n;e<=t;e++)i=xf(this,e,1)||i;for(a>=o?tf(this,s):(o=a,s=Zp(this)),i=!0;i;)for(i=!1,e=n;e<=t;e++)i=xf(this,e,-1)||i;for(a>=o?tf(this,s):(o=a,s=Zp(this)),i=!0;i;)for(i=!1,e=t;e>=n;e--)i=xf(this,e,0)||i;for(a>=o?tf(this,s):(o=a,s=Zp(this)),i=!0;i;)for(i=!1,e=n;e<=t;e++)i=xf(this,e,0)||i;a>=o?tf(this,s):(o=a,s=Zp(this))}}tf(this,s)},qp.prototype.straightenAndPack=function(){var t=0!=(1&this.ig),e=7===this.ig;if(1e3<this.network.edges.count&&!e&&(t=!1),t){var i=[];for(e=0;e<=this.wa;e++)i[e]=0;for(var n,r=this.network.vertexes.iterator;r.next();){var o=r.value;e=o.layer,n=o.column,o=this.nodeMinColumnSpace(o,!1),i[e]=Math.max(i[e],n+o)}for(r.reset();r.next();)e=(o=r.value).layer,n=o.column,o.column=(8*(this.Ea-i[e])>>1)+8*n;this.Ea*=8}if(0!=(2&this.ig))for(i=!0;i;){for(i=!1,e=this.pd+1;e<=this.wa;e++)i=bf(this,e,1)||i;for(e=this.pd-1;0<=e;e--)i=bf(this,e,-1)||i;i=bf(this,this.pd,0)||i}if(0!=(4&this.ig)){for(e=this.pd+1;e<=this.wa;e++)wf(this,e,1);for(e=this.pd-1;0<=e;e--)wf(this,e,-1);wf(this,this.pd,0)}if(t&&(Tf(this,-1),Tf(this,1)),0!=(2&this.ig))for(i=!0;i;){for(i=!1,i=bf(this,this.pd,0)||i,e=this.pd+1;e<=this.wa;e++)i=bf(this,e,0)||i;for(e=this.pd-1;0<=e;e--)i=bf(this,e,0)||i}},qp.prototype.commitLayout=function(){if(this.setsPortSpots)for(var t=Mf(this,!0),e=Mf(this,!1),i=this.network.edges.iterator;i.next();){var n=i.value.link;null!==n&&(n.fromSpot=t,n.toSpot=e)}this.commitNodes(),this.Vu(),this.isRouting&&this.commitLinks()},qp.prototype.commitNodes=function(){this.Kd=[],this.od=[],this.nd=[],this.Ha=[];for(var t=0;t<=this.wa;t++)this.Kd[t]=0,this.od[t]=0,this.nd[t]=0,this.Ha[t]=0;for(t=this.network.vertexes.iterator;t.next();){var e=t.value,i=e.layer;this.Kd[i]=Math.max(this.Kd[i],this.nodeMinLayerSpace(e,!0)),this.od[i]=Math.max(this.od[i],this.nodeMinLayerSpace(e,!1))}e=0,i=this.ie;for(var n=0;n<=this.wa;n++){var r=i;0>=this.Kd[n]+this.od[n]&&(r=0),0<n&&(e+=r/2),90===this.J||0===this.J?(e+=this.od[n],this.nd[n]=e,e+=this.Kd[n]):(e+=this.Kd[n],this.nd[n]=e,e+=this.od[n]),n<this.wa&&(e+=r/2),this.Ha[n]=e}for(i=e,e=this.arrangementOrigin,n=0;n<=this.wa;n++)270===this.J?this.nd[n]=e.y+this.nd[n]:90===this.J?(this.nd[n]=e.y+i-this.nd[n],this.Ha[n]=i-this.Ha[n]):180===this.J?this.nd[n]=e.x+this.nd[n]:(this.nd[n]=e.x+i-this.nd[n],this.Ha[n]=i-this.Ha[n]);for(t.reset(),i=n=1/0;t.next();){var o=(r=t.value).layer,s=0|r.column;if(270===this.J||90===this.J){var a=e.x+this.Yb*s;o=this.nd[o]}else a=this.nd[o],o=e.y+this.Yb*s;r.centerX=a,r.centerY=o,n=Math.min(r.x,n),i=Math.min(r.y,i)}for(n=e.x-n,e=e.y-i,this.Ff=new dt(n,e),t.reset();t.next();)(i=t.value).x+=n,i.y+=e,i.commit()},qp.prototype.Vu=function(){for(var t=0,e=this.ie,i=0;i<=this.wa;i++)t+=this.Kd[i],t+=this.od[i];t+=this.wa*e,e=[],i=this.Yb*this.Ea;for(var n=this.maxLayer;0<=n;n--)270===this.J?0===n?e.push(new Rt(0,0,i,Math.abs(this.Ha[0]))):e.push(new Rt(0,this.Ha[n-1],i,Math.abs(this.Ha[n-1]-this.Ha[n]))):90===this.J?0===n?e.push(new Rt(0,this.Ha[0],i,Math.abs(this.Ha[0]-t))):e.push(new Rt(0,this.Ha[n],i,Math.abs(this.Ha[n-1]-this.Ha[n]))):180===this.J?0===n?e.push(new Rt(0,0,Math.abs(this.Ha[0]),i)):e.push(new Rt(this.Ha[n-1],0,Math.abs(this.Ha[n-1]-this.Ha[n]),i)):0===n?e.push(new Rt(this.Ha[0],0,Math.abs(this.Ha[0]-t),i)):e.push(new Rt(this.Ha[n],0,Math.abs(this.Ha[n-1]-this.Ha[n]),i));this.commitLayers(e,this.Ff)},qp.prototype.commitLayers=function(){},qp.prototype.commitLinks=function(){for(var t,e=this.network.edges.iterator;e.next();)null!==(t=e.value.link)&&(t.Hh(),t.Uj(),t.mf());for(e.reset();e.next();)null!==(t=e.value.link)&&t.cj();for(e.reset();e.next();){var i=e.value;if(null!==(t=i.link)){t.Hh();var n=t,r=n.fromNode,o=n.toNode,s=n.fromPort,a=n.toPort;if(null!==r){var l=r.findVisibleNode();null!==l&&l!==r&&(r=l,s=l.port)}null!==o&&(null!==(l=o.findVisibleNode())&&l!==o&&(o=l,a=l.port));var h=t.computeSpot(!0,s);l=t.computeSpot(!1,a);var u=i.fromVertex,c=i.toVertex;if(i.valid){if(t.curve===nc&&4===t.pointsCount)if(u.column===c.column)i=t.getLinkPoint(r,s,h,!0,!1,o,a),s=t.getLinkPoint(o,a,l,!1,!1,r,s),i.v()||i.set(r.actualBounds.center),s.v()||s.set(o.actualBounds.center),t.Uj(),t.lf(i.x,i.y),t.lf((2*i.x+s.x)/3,(2*i.y+s.y)/3),t.lf((i.x+2*s.x)/3,(i.y+2*s.y)/3),t.lf(s.x,s.y);else{var d=!1,p=!1;if(null!==s&&h===te&&(d=!0),null!==a&&l===te&&(p=!0),d||p){var f=t.i(0).x;i=t.i(0).y,u=t.i(3).x,n=t.i(3).y,d&&(90===this.J||270===this.J?(d=f,c=(i+n)/2):(d=(f+u)/2,c=i),t.K(1,d,c),(h=t.getLinkPoint(r,s,h,!0,!1,o,a)).v()||h.set(r.actualBounds.center),t.K(0,h.x,h.y)),p&&(90===this.J||270===this.J?(h=u,i=(i+n)/2):(h=(f+u)/2,i=n),t.K(2,h,i),(r=t.getLinkPoint(o,a,l,!1,!1,r,s)).v()||r.set(o.actualBounds.center),t.K(3,r.x,r.y))}}t.mf()}else if(u.layer===c.layer)t.mf();else{if(d=p=!1,f=t.firstPickIndex+1,t.isOrthogonal){d=!0;var m=t.pointsCount;4<m&&t.points.removeRange(2,m-3)}else if(t.curve===nc)p=!0,4<(m=t.pointsCount)&&t.points.removeRange(2,m-3),4===m&&(f=2);else{m=t.pointsCount;var g=h===te,v=l===te;2<m&&g&&v?t.points.removeRange(1,m-2):3<m&&g&&!v?t.points.removeRange(1,m-3):3<m&&!g&&v?t.points.removeRange(2,m-2):4<m&&!g&&!v&&t.points.removeRange(2,m-3)}if(i.rev){for(;null!==c&&u!==c;){var A=m=null;for(g=c.sourceEdges.iterator;g.next()&&((v=g.value).link!==i.link||(m=v.fromVertex,A=v.toVertex,null!==m.node)););if(m!==u){g=t.i(f-1).x,v=t.i(f-1).y;var y=m.centerX,x=m.centerY;if(d)180===this.J||0===this.J?f===t.firstPickIndex+1?(t.m(f++,g,v),t.m(f++,g,x)):(null!==A?A.centerY:v)!==x&&(A=this.Ha[m.layer-1]+this.Ff.x,t.m(f++,A,v),t.m(f++,A,x)):f===t.firstPickIndex+1?(t.m(f++,g,v),t.m(f++,y,v)):(null!==A?A.centerX:g)!==y&&(A=this.Ha[m.layer-1]+this.Ff.y,t.m(f++,g,A),t.m(f++,y,A));else if(f===t.firstPickIndex+1){A=Math.max(10,this.Kd[c.layer]);var b=Math.max(10,this.od[c.layer]);if(p)180===this.J?y<=c.bounds.x?(c=c.bounds.x,t.m(f++,c-A,x),t.m(f++,c,x),t.m(f++,c+b,x)):(t.m(f++,y-A,x),t.m(f++,y,x),t.m(f++,y+b,x)):90===this.J?x>=c.bounds.bottom?(c=c.bounds.y+c.bounds.height,t.m(f++,y,c+b),t.m(f++,y,c),t.m(f++,y,c-A)):(t.m(f++,y,x+b),t.m(f++,y,x),t.m(f++,y,x-A)):270===this.J?x<=c.bounds.y?(c=c.bounds.y,t.m(f++,y,c-A),t.m(f++,y,c),t.m(f++,y,c+b)):(t.m(f++,y,x-A),t.m(f++,y,x),t.m(f++,y,x+b)):0===this.J&&(y>=c.bounds.right?(c=c.bounds.x+c.bounds.width,t.m(f++,c+b,x),t.m(f++,c,x),t.m(f++,c-A,x)):(t.m(f++,y+b,x),t.m(f++,y,x),t.m(f++,y-A,x)));else{t.m(f++,g,v);var C=0;180===this.J||0===this.J?((180===this.J?y>=c.bounds.right:y<=c.bounds.x)&&(C=(0===this.J?-A:b)/2),t.m(f++,g+C,x)):((270===this.J?x>=c.bounds.bottom:x<=c.bounds.y)&&(C=(90===this.J?-A:b)/2),t.m(f++,y,v+C)),t.m(f++,y,x)}}else A=Math.max(10,this.Kd[m.layer]),b=Math.max(10,this.od[m.layer]),180===this.J?(p&&t.m(f++,y-A,x),t.m(f++,y,x),p&&t.m(f++,y+b,x)):90===this.J?(p&&t.m(f++,y,x+b),t.m(f++,y,x),p&&t.m(f++,y,x-A)):270===this.J?(p&&t.m(f++,y,x-A),t.m(f++,y,x),p&&t.m(f++,y,x+b)):(p&&t.m(f++,y+b,x),t.m(f++,y,x),p&&t.m(f++,y-A,x))}c=m}(null===a||h!==te||d)&&(g=t.i(f-1).x,v=t.i(f-1).y,y=t.i(f).x,x=t.i(f).y,d?(c=this.od[u.layer],180===this.J||0===this.J?((d=v)>=u.bounds.y&&d<=u.bounds.bottom&&(180===this.J?y>=u.bounds.x:y<=u.bounds.right)&&(c=u.centerX+(180===this.J?-c:c),d=d<u.bounds.y+u.bounds.height/2?u.bounds.y-this.Yb/2:u.bounds.bottom+this.Yb/2,t.m(f++,c,v),t.m(f++,c,d)),t.m(f++,y,d)):((d=g)>=u.bounds.x&&d<=u.bounds.right&&(270===this.J?x>=u.bounds.y:x<=u.bounds.bottom)&&(c=u.centerY+(270===this.J?-c:c),d=d<u.bounds.x+u.bounds.width/2?u.bounds.x-this.Yb/2:u.bounds.right+this.Yb/2,t.m(f++,g,c),t.m(f++,d,c)),t.m(f++,d,x)),t.m(f++,y,x)):p?(A=Math.max(10,this.Kd[u.layer]),b=Math.max(10,this.od[u.layer]),180===this.J&&y>=u.bounds.x?(c=u.bounds.x+u.bounds.width,t.K(f-2,c,v),t.K(f-1,c+b,v)):90===this.J&&x<=u.bounds.bottom?(c=u.bounds.y,t.K(f-2,g,c),t.K(f-1,g,c-A)):270===this.J&&x>=u.bounds.y?(c=u.bounds.y+u.bounds.height,t.K(f-2,g,c),t.K(f-1,g,c+b)):0===this.J&&y<=u.bounds.right&&(c=u.bounds.x,t.K(f-2,c,v),t.K(f-1,c-A,v))):(A=Math.max(10,this.Kd[u.layer]),b=Math.max(10,this.od[u.layer]),d=0,180===this.J||0===this.J?((180===this.J?y<=u.bounds.x:y>=u.bounds.right)&&(d=(0===this.J?b:-A)/2),t.m(f++,y+d,v)):((270===this.J?x<=u.bounds.y:x>=u.bounds.bottom)&&(d=(90===this.J?b:-A)/2),t.m(f++,g,x+d)),t.m(f++,y,x)))}else{for(;null!==u&&u!==c;){for(A=m=null,u=u.destinationEdges.iterator;u.next()&&((g=u.value).link!==i.link||(m=g.toVertex,null!==(A=g.fromVertex).node&&(A=null),null!==m.node)););m!==c&&(g=t.i(f-1).x,v=t.i(f-1).y,y=m.centerX,x=m.centerY,d?180===this.J||0===this.J?(null!==A?A.centerY:v)!==x&&(A=this.Ha[m.layer]+this.Ff.x,f===t.firstPickIndex+1&&(A=0===this.J?Math.max(A,g):Math.min(A,g)),t.m(f++,A,v),t.m(f++,A,x)):(null!==A?A.centerX:g)!==y&&(A=this.Ha[m.layer]+this.Ff.y,f===t.firstPickIndex+1&&(A=90===this.J?Math.max(A,v):Math.min(A,v)),t.m(f++,g,A),t.m(f++,y,A)):(A=Math.max(10,this.Kd[m.layer]),b=Math.max(10,this.od[m.layer]),180===this.J?(t.m(f++,y+b,x),p&&t.m(f++,y,x),t.m(f++,y-A,x)):90===this.J?(t.m(f++,y,x-A),p&&t.m(f++,y,x),t.m(f++,y,x+b)):270===this.J?(t.m(f++,y,x+b),p&&t.m(f++,y,x),t.m(f++,y,x-A)):(t.m(f++,y-A,x),p&&t.m(f++,y,x),t.m(f++,y+b,x)))),u=m}d&&(g=t.i(f-1).x,v=t.i(f-1).y,y=t.i(f).x,x=t.i(f).y,180===this.J||0===this.J?v!==x&&(A=0===this.J?Math.min(Math.max((y+g)/2,this.Ha[c.layer]+this.Ff.x),y):Math.max(Math.min((y+g)/2,this.Ha[c.layer]+this.Ff.x),y),t.m(f++,A,v),t.m(f++,A,x)):g!==y&&(A=90===this.J?Math.min(Math.max((x+v)/2,this.Ha[c.layer]+this.Ff.y),x):Math.max(Math.min((x+v)/2,this.Ha[c.layer]+this.Ff.y),x),t.m(f++,g,A),t.m(f++,y,A)))}null!==n&&p&&(null!==s&&(h===te&&(h=t.i(0),n=t.i(2),h.A(n)||t.K(1,(h.x+n.x)/2,(h.y+n.y)/2)),(h=t.getLinkPoint(r,s,te,!0,!1,o,a)).v()||h.set(r.actualBounds.center),t.K(0,h.x,h.y)),null!==a&&(l===te&&(l=t.i(t.pointsCount-1),h=t.i(t.pointsCount-3),l.A(h)||t.K(t.pointsCount-2,(l.x+h.x)/2,(l.y+h.y)/2)),(r=t.getLinkPoint(o,a,te,!1,!1,r,s)).v()||r.set(o.actualBounds.center),t.K(t.pointsCount-1,r.x,r.y))),t.mf(),i.commit()}}}this.avoidOrthogonalOverlaps()},qp.prototype.avoidOrthogonalOverlaps=function(){for(var t=new Z,e=this.network.edges.iterator;e.next();){var i=e.value.link;null!==i&&i.isOrthogonal&&!t.contains(i)&&t.add(i)}if(0<t.count)if(90===this.J||270===this.J){for(e=0,i=[],t=t.iterator;t.next();){var n=t.value;if(null!==n&&n.isOrthogonal)for(var r=2;r<n.pointsCount-3;r++){var o=n.i(r),s=n.i(r+1);if(this.w(o.y,s.y)&&!this.w(o.x,s.x)){var a=new Gf;a.layer=Math.floor(o.y/2);var l=n.i(0),h=n.i(n.pointsCount-1);if(a.first=l.x*l.x+l.y,a.Vb=h.x*h.x+h.y,a.Rc=Math.min(o.x,s.x),a.sc=Math.max(o.x,s.x),a.index=r,a.link=n,r+2<n.pointsCount){l=n.i(r-1),h=n.i(r+2);var u=0;l.y<o.y?u=h.y<o.y?3:o.x<s.x?2:1:l.y>o.y&&(u=h.y>o.y?0:s.x<o.x?2:1),a.l=u}i.push(a)}}}if(1<i.length)for(i.sort(this.Tx),t=0;t<i.length;){for(o=i[t].layer,n=t+1;n<i.length&&i[n].layer===o;)n++;if(1<n-t)for(o=t;o<n;){for(s=i[o].sc,r=t+1;r<n&&i[r].Rc<s;)s=Math.max(s,i[r].sc),r++;if(1<(s=r-o)){for(this.$i(i,this.wt,o,o+s),u=1,a=i[o].Vb,l=o;l<r;l++)(h=i[l]).Vb!==a&&(u++,a=h.Vb);this.$i(i,this.Sx,o,o+s);var c=1;for(a=i[o].first,l=o;l<r;l++)(h=i[l]).first!==a&&(c++,a=h.first);for(l=!0,h=c,u<c?(l=!1,h=u,a=i[o].Vb,this.$i(i,this.wt,o,o+s)):a=i[o].first,u=0,c=o;c<r;c++){var d=i[c];(l?d.first:d.Vb)!==a&&(u++,a=l?d.first:d.Vb);var p=d.link;o=p.i(d.index),s=p.i(d.index+1);var f=this.linkSpacing*(u-(h-1)/2);e++,p.Hh(),p.K(d.index,o.x,o.y+f),p.K(d.index+1,s.x,s.y+f),p.mf()}}o=r}t=n}}else{for(e=0,i=[],t=t.iterator;t.next();)if(null!==(n=t.value)&&n.isOrthogonal)for(r=2;r<n.pointsCount-3;r++)o=n.i(r),s=n.i(r+1),this.w(o.x,s.x)&&!this.w(o.y,s.y)&&((a=new Gf).layer=Math.floor(o.x/2),l=n.i(0),h=n.i(n.pointsCount-1),a.first=l.x+l.y*l.y,a.Vb=h.x+h.y*h.y,a.Rc=Math.min(o.y,s.y),a.sc=Math.max(o.y,s.y),a.index=r,a.link=n,r+2<n.pointsCount&&(l=n.i(r-1),h=n.i(r+2),u=0,l.x<o.x?u=h.x<o.x?3:o.y<s.y?2:1:l.x>o.x&&(u=h.x>o.x?0:s.y<o.y?2:1),a.l=u),i.push(a));if(1<i.length)for(i.sort(this.Tx),t=0;t<i.length;){for(o=i[t].layer,n=t+1;n<i.length&&i[n].layer===o;)n++;if(1<n-t)for(o=t;o<n;){for(s=i[o].sc,r=t+1;r<n&&i[r].Rc<s;)s=Math.max(s,i[r].sc),r++;if(1<(s=r-o)){for(this.$i(i,this.wt,o,o+s),u=1,a=i[o].Vb,l=o;l<r;l++)(h=i[l]).Vb!==a&&(u++,a=h.Vb);for(this.$i(i,this.Sx,o,o+s),c=1,a=i[o].first,l=o;l<r;l++)(h=i[l]).first!==a&&(c++,a=h.first);for(l=!0,h=c,u<c?(l=!1,h=u,a=i[o].Vb,this.$i(i,this.wt,o,o+s)):a=i[o].first,u=0,c=o;c<r;c++)d=i[c],(l?d.first:d.Vb)!==a&&(u++,a=l?d.first:d.Vb),o=(p=d.link).i(d.index),s=p.i(d.index+1),f=this.linkSpacing*(u-(h-1)/2),e++,p.Hh(),p.K(d.index,o.x+f,o.y),p.K(d.index+1,s.x+f,s.y),p.mf()}o=r}t=n}}},(i=qp.prototype).Tx=function(t,e){return t instanceof Gf&&e instanceof Gf&&t!==e?t.layer<e.layer?-1:t.layer>e.layer?1:t.Rc<e.Rc?-1:t.Rc>e.Rc?1:t.sc<e.sc?-1:t.sc>e.sc?1:0:0},i.Sx=function(t,e){return t instanceof Gf&&e instanceof Gf&&t!==e?t.first<e.first?-1:t.first>e.first||t.l<e.l?1:t.l>e.l||t.Rc<e.Rc?-1:t.Rc>e.Rc?1:t.sc<e.sc?-1:t.sc>e.sc?1:0:0},i.wt=function(t,e){return t instanceof Gf&&e instanceof Gf&&t!==e?t.Vb<e.Vb?-1:t.Vb>e.Vb||t.l<e.l?1:t.l>e.l||t.Rc<e.Rc?-1:t.Rc>e.Rc?1:t.sc<e.sc?-1:t.sc>e.sc?1:0:0},i.w=function(t,e){return-1<(t-=e)&&1>t},i.$i=function(t,e,i,n){var r=t.length,o=n-i;if(!(1>=o))if((0>i||i>=r-1)&&A("not in range 0 <= from < length: "+i),2===o)0<e(n=t[i],r=t[i+1])&&(t[i]=r,t[i+1]=n);else if(0===i)if(n>=r)t.sort(e);else for((i=t.slice(0,n)).sort(e),e=0;e<n;e++)t[e]=i[e];else if(n>=r)for((n=t.slice(i)).sort(e),e=i;e<r;e++)t[e]=n[e-i];else for((r=t.slice(i,n)).sort(e),e=i;e<n;e++)t[e]=r[e-i]},c.Object.defineProperties(qp.prototype,{layerSpacing:{get:function(){return this.ie},set:function(t){this.ie!==t&&0<=t&&(this.ie=t,this.C())}},columnSpacing:{get:function(){return this.Yb},set:function(t){this.Yb!==t&&0<t&&(this.Yb=t,this.C())}},direction:{get:function(){return this.J},set:function(t){this.J!==t&&(0===t||90===t||180===t||270===t?(this.J=t,this.C()):A("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}},cycleRemoveOption:{get:function(){return this.Lk},set:function(t){this.Lk===t||t!==Pf&&t!==Of&&t!==Lf||(this.Lk=t,this.C())}},layeringOption:{get:function(){return this.ql},set:function(t){this.ql===t||t!==Nf&&t!==If&&t!==Df||(this.ql=t,this.C())}},initializeOption:{get:function(){return this.fl},set:function(t){this.fl===t||t!==Rf&&t!==Ff&&t!==Hf||(this.fl=t,this.C())}},iterations:{get:function(){return this.tj},set:function(t){this.tj!==t&&0<=t&&(this.tj=t,this.C())}},aggressiveOption:{get:function(){return this.yk},set:function(t){this.yk===t||t!==Uf&&t!==Vf&&t!==jf||(this.yk=t,this.C())}},packOption:{get:function(){return this.ig},set:function(t){this.ig!==t&&0<=t&&8>t&&(this.ig=t,this.C())}},setsPortSpots:{get:function(){return this.Ze},set:function(t){this.Ze!==t&&(this.Ze=t,this.C())}},linkSpacing:{get:function(){return this.ho},set:function(t){this.ho!==t&&0<=t&&(this.ho=t,this.C())}},maxLayer:{get:function(){return this.wa}},maxIndex:{get:function(){return this.Sr}},maxColumn:{get:function(){return this.Ea}},minIndexLayer:{get:function(){return this.ro}},maxIndexLayer:{get:function(){return this.pd}}});var Of=new z(qp,"CycleDepthFirst",0),Pf=new z(qp,"CycleGreedy",1),Lf=new z(qp,"CycleFromLayers",2),Nf=new z(qp,"LayerOptimalLinkLength",0),If=new z(qp,"LayerLongestPathSink",1),Df=new z(qp,"LayerLongestPathSource",2),Rf=new z(qp,"InitDepthFirstOut",0),Ff=new z(qp,"InitDepthFirstIn",1),Hf=new z(qp,"InitNaive",2),Uf=new z(qp,"AggressiveNone",0),Vf=new z(qp,"AggressiveLess",1),jf=new z(qp,"AggressiveMore",2);function Gf(){this.index=this.sc=this.Rc=this.Vb=this.first=this.layer=0,this.link=null,this.l=0}function zf(t){Hc.call(this,t)}function Qf(t){zc.call(this,t),this.Oa=this.Mg=this.ni=-1,this.I=NaN,this.Y=null,this.valid=!1,this.finish=this.am=NaN,this.Qj=0,this.yv=this.zv=null}function Yf(t){Yc.call(this,t),this.l=this.Ja=this.Za=!1,this.Ia=this.I=NaN,this.Y=this.u=0}function Kf(){Dc.call(this),this.Hb=new et,this.Qo=Em,this.Yc=Sm,this.Mp=Vm,this.Qr=Xm,this.sw=[],this.Wc=!0,this.Bb=Qm,this.yd=new Lt(10,10).freeze();var t=new qm(this);this.T=new Jm(t),this.U=new Jm(t),this.Fu=[]}function Xf(t){var e=new et;for(t=t.iterator;t.next();){var i=t.value;i.initialized||e.add(i)}return e}function $f(t,e){var i=999999,n=null;for(e=e.iterator;e.next();){var r=e.value;switch(t.Yc){case Sm:r.sourceEdges.count<i&&(i=r.sourceEdges.count,n=r);break;case Tm:r.destinationEdges.count<i&&(i=r.destinationEdges.count,n=r);break;default:A("Unhandled path value "+t.Yc.toString())}}return n}function Wf(t,e){if(null!==e){switch(t.Yc){case Sm:if(0<e.destinationEdges.count){for(var i=new Z,n=e.destinationVertexes;n.next();){var r=n.value;qf(t,e,r)&&i.add(r)}0<i.count&&(e.children=i.ma())}break;case Tm:if(0<e.sourceEdges.count){for(i=new Z,n=e.sourceVertexes;n.next();)qf(t,e,r=n.value)&&i.add(r);0<i.count&&(e.children=i.ma())}break;default:A("Unhandled path value"+t.Yc.toString())}for(n=(i=e.children).length,r=0;r<n;r++){var o=i[r];o.initialized=!0,o.level=e.level+1,o.parent=e,t.Hb.remove(o)}for(e=0;e<n;e++)Wf(t,i[e])}}function qf(t,e,i){if(i.initialized){if(null===e)var n=!1;else{for(n=e.parent;null!==n&&n!==i;)n=n.parent;n=n===i}if(n||i.level>e.level)return!1;t.removeChild(i.parent,i)}return!0}function Jf(t,e){if(null!==e){t.initializeTreeVertexValues(e),e.alignment===Dm&&t.sortTreeVertexChildren(e);for(var i=0,n=e.childrenCount,r=0,o=e.children,s=o.length,a=0;a<s;a++){var l=o[a];Jf(t,l),i+=l.descendantCount+1,n=Math.max(n,l.maxChildrenCount),r=Math.max(r,l.maxGenerationCount)}e.descendantCount=i,e.maxChildrenCount=n,e.maxGenerationCount=0<n?r+1:0}}function Zf(t,e){if(null!==e){t.assignTreeVertexValues(e);for(var i=(e=e.children).length,n=0;n<i;n++)Zf(t,e[n])}}function tm(t,e){if(null!==e){e.alignment!==Dm&&t.sortTreeVertexChildren(e);for(var i=(e=e.children).length,n=0;n<i;n++)tm(t,e[n])}}function em(t){return t===Im||t===Dm||t===Rm||t===Fm}function im(t){return t===Im||t===Dm}function nm(t){var e=t.parent;if(null!==e){var i=e.alignment;if(em(i)){if(im(i)){for(e=e.children,i=0;i<e.length&&t!==e[i];)i++;return 0==i%2}if(i===Rm)return!0}}return!1}function rm(t,e){if(0===e.childrenCount){var i=!1,n=0;null!==e.parent&&(n=e.parent.angle,i=em(i=e.parent.alignment));var r=nm(e);e.S.h(0,0),e.sa.h(e.width,e.height),null===e.parent||null===e.comments||(180!==n&&270!==n||i)&&!r?e.da.h(0,0):180===n&&!i||(90===n||270===n)&&r?e.da.h(e.width-2*e.focus.x,0):e.da.h(0,e.height-2*e.focus.y)}else{i=90===(n=bm(e))||270===n;for(var o=0,s=(r=e.children).length,a=0;a<s;a++){var l=r[a];o=Math.max(o,i?l.sa.width:l.sa.height)}var h=e.alignment,u=h===Lm,c=h===Nm;a=em(h);var d=Math.max(0,e.breadthLimit);l=Cm(e);var p=e.nodeSpacing,f=wm(e),m=u||c?0:f/2,g=e.rowSpacing,v=0;(u||c||e.zm||e.Am&&1===e.maxGenerationCount)&&(v=Math.max(0,e.rowIndent)),u=e.width;var y=e.height,x=0,b=0,C=0,w=0,E=0,S=0,T=0,_=0,M=0;if(a&&!im(h)&&135<n&&r.reverse(),im(h))if(1<s)for(var k=0;k<s;k++){var B=r[k],O=B.sa;0==k%2&&k!==s-1&&(M=Math.max(M,(i?O.width:O.height)+am(B)-p))}else 1===s&&(M=i?r[0].sa.width:r[0].sa.height);if(a)switch(h){case Im:case Dm:M=(b=135>n?om(e,r,M,x,b):sm(e,r,M,x,b)).x,x=b.width,b=b.height;break;case Rm:for(t=0;t<s;t++)m=(d=r[t]).sa,C=0===T?0:g,i?(d.S.h(o-m.width,E+C),x=Math.max(x,m.width),b=Math.max(b,E+C+m.height),E+=C+m.height):(d.S.h(w+C,o-m.height),x=Math.max(x,w+C+m.width),b=Math.max(b,m.height),w+=C+m.width),T++;break;case Fm:for(o=0;o<s;o++)d=(t=r[o]).sa,m=0===T?0:g,i?(t.S.h(p/2+e.focus.x,E+m),x=Math.max(x,d.width),b=Math.max(b,E+m+d.height),E+=m+d.height):(t.S.h(w+m,p/2+e.focus.y),x=Math.max(x,w+m+d.width),b=Math.max(b,d.height),w+=m+d.width),T++}else for(k=0;k<s;k++){if(O=(B=r[k]).sa,i){0<d&&0<T&&w+p+O.width>d&&(w<o&&dm(e,h,o-w,0,_,k-1),S++,T=0,_=k,C=b,w=0,E=135<n?-b-g:b+g);var P=0===T?m:p;fm(t,B,0,E),B.S.h(w+P,E),x=Math.max(x,w+P+O.width),b=Math.max(b,C+(0===S?0:g)+O.height),w+=P+O.width}else 0<d&&0<T&&E+p+O.height>d&&(E<o&&dm(e,h,0,o-E,_,k-1),S++,T=0,_=k,C=x,E=0,w=135<n?-x-g:x+g),P=0===T?m:p,fm(t,B,w,0),B.S.h(w,E+P),b=Math.max(b,E+P+O.height),x=Math.max(x,C+(0===S?0:g)+O.width),E+=P+O.height;T++}switch(0<S&&(i?(b+=Math.max(0,l),w<x&&dm(e,h,x-w,0,_,s-1),0<v&&(c||pm(e,v,0,0,s-1),x+=v)):(x+=Math.max(0,l),E<b&&dm(e,h,0,b-E,_,s-1),0<v&&(c||pm(e,0,v,0,s-1),b+=v))),v=c=0,h){case Om:i?c+=x/2-e.focus.x-f/2:v+=b/2-e.focus.y-f/2;break;case Pm:0<S?i?c+=x/2-e.focus.x-f/2:v+=b/2-e.focus.y-f/2:i?c+=(h=r[0].S.x+r[0].da.x)+(r[s-1].S.x+r[s-1].da.x+2*r[s-1].focus.x-h)/2-e.focus.x-f/2:v+=(h=r[0].S.y+r[0].da.y)+(r[s-1].S.y+r[s-1].da.y+2*r[s-1].focus.y-h)/2-e.focus.y-f/2;break;case Lm:i?(c-=f,x+=f):(v-=f,b+=f);break;case Nm:i?(c+=x-e.width+f,x+=f):(v+=b-e.height+f,b+=f);break;case Im:case Dm:i?c+=1<s?M+p/2-e.focus.x:r[0].focus.x-e.focus.x+r[0].da.x:v+=1<s?M+p/2-e.focus.y:r[0].focus.y-e.focus.y+r[0].da.y;break;case Rm:i?c+=x+p/2-e.focus.x:v+=b+p/2-e.focus.y;break;case Fm:break;default:A("Unhandled alignment value "+h.toString())}for(f=0;f<s;f++)h=r[f],i?h.S.h(h.S.x+h.da.x-c,h.S.y+(135<n?(a?-b:-h.sa.height)+h.da.y-l:y+l+h.da.y)):h.S.h(h.S.x+(135<n?(a?-x:-h.sa.width)+h.da.x-l:u+l+h.da.x),h.S.y+h.da.y-v);i?(x=hm(e,x,c),0>c&&(c=0),135<n&&(v+=b+l),b+=y+l):(135<n&&(c+=x+l),x+=u+l,b=um(e,b,v),0>v&&(v=0)),e.da.h(c,v),e.sa.h(x,b)}}function om(t,e,i,n,r){var o=e.length;if(0===o)return new Rt(i,0,n,r);if(1===o)return new Rt(i,0,n=(t=e[0]).sa.width,r=t.sa.height);for(var s=t.nodeSpacing,a=t.rowSpacing,l=90===bm(t),h=0,u=0,c=0,d=0;d<o;d++)if(!(0!=d%2||1<o&&d===o-1)){var p=e[d],f=p.sa,m=0===h?0:a;if(l){var g=am(p)-s;p.S.h(i-(f.width+g),c+m),n=Math.max(n,f.width+g),r=Math.max(r,c+m+f.height),c+=m+f.height}else g=am(p)-s,p.S.h(u+m,i-(f.height+g)),r=Math.max(r,f.height+g),n=Math.max(n,u+m+f.width),u+=m+f.width;h++}for(h=0,p=u,d=c,l?(u=i+s,c=0):(u=0,c=i+s),f=0;f<o;f++)if(0!=f%2){g=(m=e[f]).sa;var v=0===h?0:a;if(l){var A=am(m)-s;m.S.h(u+A,c+v),n=Math.max(n,u+g.width+A),r=Math.max(r,c+v+g.height),c+=v+g.height}else A=am(m)-s,m.S.h(u+v,c+A),n=Math.max(n,u+v+g.width),r=Math.max(r,c+g.height+A),u+=v+g.width;h++}return 1<o&&1==o%2&&(o=(e=e[o-1]).sa,a=null===e.parent?0:e.parent.rowSpacing,l?(e.S.h(i+s/2-e.focus.x-e.da.x,r+a),l=i+s/2-e.focus.x-e.da.x,n=Math.max(n,l+o.width),0>l&&(n-=l),r=Math.max(r,Math.max(d,c)+a+o.height),0>e.S.x&&(i=lm(t,e.S.x,!1,i,s))):(e.S.h(n+a,i+s/2-e.focus.y-e.da.y),n=Math.max(n,Math.max(p,u)+a+o.width),c=i+s/2-e.focus.y-e.da.y,r=Math.max(r,c+o.height),0>c&&(r-=c),0>e.S.y&&(i=lm(t,e.S.y,!0,i,s)))),new Rt(i,0,n,r)}function sm(t,e,i,n,r){var o=e.length;if(0===o)return new Rt(i,0,n,r);if(1===o)return new Rt(i,0,n=(e=e[0]).sa.width,r=e.sa.height);for(var s=t.nodeSpacing,a=t.rowSpacing,l=270===bm(t),h=0,u=0,c=0,d=0;d<o;d++)if(!(0!=d%2||1<o&&d===o-1)){var p=e[d],f=p.sa,m=0===h?0:a;if(l){var g=am(p)-s;c-=m+f.height,p.S.h(i-(f.width+g),c),n=Math.max(n,f.width+g),r=Math.max(r,Math.abs(c))}else g=am(p)-s,u-=m+f.width,p.S.h(u,i-(f.height+g)),r=Math.max(r,f.height+g),n=Math.max(n,Math.abs(u));h++}for(h=0,p=u,d=c,l?(u=i+s,c=0):(u=0,c=i+s),f=0;f<o;f++)if(0!=f%2){g=(m=e[f]).sa;var v=0===h?0:a;if(l){var A=am(m)-s;c-=v+g.height,m.S.h(u+A,c),n=Math.max(n,u+g.width+A),r=Math.max(r,Math.abs(c))}else A=am(m)-s,u-=v+g.width,m.S.h(u,c+A),r=Math.max(r,c+g.height+A),n=Math.max(n,Math.abs(u));h++}for(1<o&&1==o%2&&(h=(a=e[o-1]).sa,f=null===a.parent?0:a.parent.rowSpacing,l?(a.S.h(i+s/2-a.focus.x-a.da.x,-r-h.height-f),u=i+s/2-a.focus.x-a.da.x,n=Math.max(n,u+h.width),0>u&&(n-=u),r=Math.max(r,Math.abs(Math.min(d,c))+f+h.height),0>a.S.x&&(i=lm(t,a.S.x,!1,i,s))):(a.S.h(-n-h.width-f,i+s/2-a.focus.y-a.da.y),n=Math.max(n,Math.abs(Math.min(p,u))+f+h.width),c=i+s/2-a.focus.y-a.da.y,r=Math.max(r,c+h.height),0>c&&(r-=c),0>a.S.y&&(i=lm(t,a.S.y,!0,i,s)))),t=0;t<o;t++)s=e[t],l?s.S.h(s.S.x,s.S.y+r):s.S.h(s.S.x+n,s.S.y);return new Rt(i,0,n,r)}function am(t){return null===t.parent?0:t.parent.nodeSpacing}function lm(t,e,i,n,r){for(var o=(t=t.children).length,s=0;s<o;s++)i?t[s].S.h(t[s].S.x,t[s].S.y-e):t[s].S.h(t[s].S.x-e,t[s].S.y);return e=t[o-1],Math.max(n,i?e.da.y+e.focus.y-r/2:e.da.x+e.focus.x-r/2)}function hm(t,e,i){switch(t.alignment){case Pm:case Om:return i+t.width>e&&(e=i+t.width),0>i&&(e-=i),e;case Lm:return t.width>e?t.width:e;case Nm:return 2*t.focus.x>e?t.width:e+t.width-2*t.focus.x;case Im:case Dm:return Math.max(t.width,Math.max(e,i+t.width)-Math.min(0,i));case Rm:return t.width-t.focus.x+t.nodeSpacing/2+e;case Fm:return Math.max(t.width,t.focus.x+t.nodeSpacing/2+e);default:return e}}function um(t,e,i){switch(t.alignment){case Pm:case Om:return i+t.height>e&&(e=i+t.height),0>i&&(e-=i),e;case Lm:return t.height>e?t.height:e;case Nm:return 2*t.focus.y>e?t.height:e+t.height-2*t.focus.y;case Im:case Dm:return Math.max(t.height,Math.max(e,i+t.height)-Math.min(0,i));case Rm:return t.height-t.focus.y+t.nodeSpacing/2+e;case Fm:return Math.max(t.height,t.focus.y+t.nodeSpacing/2+e);default:return e}}function cm(t,e,i){switch(t){case Om:case Pm:e/=2,i/=2;break;case Lm:i=e=0;break;case Nm:break;default:A("Unhandled alignment value "+t.toString())}return new dt(e,i)}function dm(t,e,i,n,r,o){pm(t,(e=cm(e,i,n)).x,e.y,r,o)}function pm(t,e,i,n,r){if(0!==e||0!==i)for(t=t.children;n<=r;n++){var o=t[n].S;o.x+=e,o.y+=i}}function fm(t,e,i,n){var r=e.parent;switch(t.Yc){case Sm:for(t=e.sourceEdges;t.next();)(e=t.value).fromVertex===r&&e.relativePoint.h(i,n);break;case Tm:for(t=e.destinationEdges;t.next();)(e=t.value).toVertex===r&&e.relativePoint.h(i,n);break;default:A("Unhandled path value "+t.Yc.toString())}}function mm(t,e,i){for(var n=0;n<t.length;n++){var r=t[n];r.x+=e,r.y+=i}}function gm(t,e,i,n,r,o,s,a){var l=bm(e),h=90===l||270===l,u=e.nodeSpacing;e=n;var c=r;n=o;var d=s,p=i.kq,f=i.xq;s=i.sa;var m=h?Math.max(d,s.height):Math.max(n,s.width);if(null!==p&&l===bm(i)||(p=vm(t,2),f=vm(t,2),h?(p[0].h(0,0),p[1].h(0,s.height),f[0].h(s.width,0),f[1].h(f[0].x,p[1].y)):(p[0].h(0,0),p[1].h(s.width,0),f[0].h(0,s.height),f[1].h(p[1].x,f[0].y))),h){if(d=9999999,!(null===c||2>c.length||null===p||2>p.length))for(r=i=0;i<c.length&&r<p.length;){o=c[i];var g=p[r];l=g.x,h=g.y,l+=n;var v=o;i+1<c.length&&(v=c[i+1]);var A=g;g=A.x,A=A.y,r+1<p.length&&(g=(A=p[r+1]).x,A=A.y,g+=n);var y=d;o.y===h?y=l-o.x:o.y>h&&o.y<A?y=l+(o.y-h)/(A-h)*(g-l)-o.x:h>o.y&&h<v.y&&(y=l-(o.x+(h-o.y)/(v.y-o.y)*(v.x-o.x))),y<d&&(d=y),v.y<=o.y?i++:A<=h?r++:(v.y<=A&&i++,A<=v.y&&r++)}if(d=n-d,i=p,r=d+=u,null===e||2>e.length||null===i||2>i.length)n=null;else{for(u=vm(t,e.length+i.length),n=o=l=0;o<i.length&&i[o].y<e[0].y;)h=i[o++],u[n++].h(h.x+r,h.y);for(;l<e.length;)h=e[l++],u[n++].h(h.x,h.y);for(l=e[e.length-1].y;o<i.length&&i[o].y<=l;)o++;for(;o<i.length&&i[o].y>l;)h=i[o++],u[n++].h(h.x+r,h.y);for(i=vm(t,n),l=0;l<n;l++)i[l].assign(u[l]);Am(t,u),n=i}if(o=f,l=d,null===c||2>c.length||null===o||2>o.length)r=null;else{for(u=vm(t,c.length+o.length),r=h=i=0;i<c.length&&c[i].y<o[0].y;)v=c[i++],u[r++].h(v.x,v.y);for(;h<o.length;)v=o[h++],u[r++].h(v.x+l,v.y);for(o=o[o.length-1].y;i<c.length&&c[i].y<=o;)i++;for(;i<c.length&&c[i].y>o;)l=c[i++],u[r++].h(l.x,l.y);for(o=vm(t,r),i=0;i<r;i++)o[i].assign(u[i]);Am(t,u),r=o}return o=Math.max(0,d)+s.width,s=m,Am(t,e),Am(t,p),Am(t,c),Am(t,f),a[0]=n,a[1]=r,new Rt(d,0,o,s)}if(n=9999999,!(null===c||2>c.length||null===p||2>p.length))for(r=i=0;i<c.length&&r<p.length;)o=c[i],l=(g=p[r]).x,h=g.y,h+=d,v=o,i+1<c.length&&(v=c[i+1]),g=(A=g).x,A=A.y,r+1<p.length&&(g=(A=p[r+1]).x,A=A.y,A+=d),y=n,o.x===l?y=h-o.y:o.x>l&&o.x<g?y=h+(o.x-l)/(g-l)*(A-h)-o.y:l>o.x&&l<v.x&&(y=h-(o.y+(l-o.x)/(v.x-o.x)*(v.y-o.y))),y<n&&(n=y),v.x<=o.x?i++:g<=l?r++:(v.x<=g&&i++,g<=v.x&&r++);if(d-=n,i=p,r=d+=u,null===e||2>e.length||null===i||2>i.length)n=null;else{for(u=vm(t,e.length+i.length),n=o=l=0;o<i.length&&i[o].x<e[0].x;)h=i[o++],u[n++].h(h.x,h.y+r);for(;l<e.length;)h=e[l++],u[n++].h(h.x,h.y);for(l=e[e.length-1].x;o<i.length&&i[o].x<=l;)o++;for(;o<i.length&&i[o].x>l;)h=i[o++],u[n++].h(h.x,h.y+r);for(i=vm(t,n),l=0;l<n;l++)i[l].assign(u[l]);Am(t,u),n=i}if(o=f,l=d,null===c||2>c.length||null===o||2>o.length)r=null;else{for(u=vm(t,c.length+o.length),r=h=i=0;i<c.length&&c[i].x<o[0].x;)v=c[i++],u[r++].h(v.x,v.y);for(;h<o.length;)v=o[h++],u[r++].h(v.x,v.y+l);for(o=o[o.length-1].x;i<c.length&&c[i].x<=o;)i++;for(;i<c.length&&c[i].x>o;)l=c[i++],u[r++].h(l.x,l.y);for(o=vm(t,r),i=0;i<r;i++)o[i].assign(u[i]);Am(t,u),r=o}return o=m,s=Math.max(0,d)+s.height,Am(t,e),Am(t,p),Am(t,c),Am(t,f),a[0]=n,a[1]=r,new Rt(d,0,o,s)}function vm(t,e){if(void 0!==(t=t.Fu[e])&&void 0!==(t=t.pop()))return t;t=[];for(var i=0;i<e;i++)t[i]=new dt;return t}function Am(t,e){var i=e.length,n=t.Fu[i];void 0===n&&(n=[],t.Fu[i]=n),n.push(e)}function ym(t,e,i,n){if(null!==e){e.x=i,e.y=n;for(var r=(e=e.children).length,o=0;o<r;o++){var s=e[o];ym(t,s,i+s.S.x,n+s.S.y)}}}function xm(t,e){if(null!==e){t.setPortSpots(e);for(var i=(e=e.children).length,n=0;n<i;n++)xm(t,e[n])}}function bm(t){return 45>=(t=t.angle)?0:135>=t?90:225>=t?180:315>=t?270:0}function Cm(t){var e=bm(t);e=90===e||270===e;var i=t.layerSpacing;if(0<t.layerSpacingParentOverlap){var n=Math.min(1,t.layerSpacingParentOverlap);i-=e?t.height*n:t.width*n}return i<(e?-t.height:-t.width)&&(i=e?-t.height:-t.width),i}function wm(t){var e=bm(t),i=t.nodeIndent;if(0<t.nodeIndentPastParent){var n=Math.min(1,t.nodeIndentPastParent);i+=90===e||270===e?t.width*n:t.height*n}return Math.max(0,i)}qp.className="LayeredDigraphLayout",qp.CycleDepthFirst=Of,qp.CycleGreedy=Pf,qp.CycleFromLayers=Lf,qp.LayerOptimalLinkLength=Nf,qp.LayerLongestPathSink=If,qp.LayerLongestPathSource=Df,qp.InitDepthFirstOut=Rf,qp.InitDepthFirstIn=Ff,qp.InitNaive=Hf,qp.AggressiveNone=Uf,qp.AggressiveLess=Vf,qp.AggressiveMore=jf,qp.PackNone=0,qp.PackExpand=1,qp.PackStraighten=2,qp.PackMedian=4,qp.PackAll=7,Gf.className="SegInfo",u(zf,Hc),zf.prototype.createVertex=function(){return new Qf(this)},zf.prototype.createEdge=function(){return new Yf(this)},zf.className="LayeredDigraphNetwork",u(Qf,zc),c.Object.defineProperties(Qf.prototype,{layer:{get:function(){return this.ni},set:function(t){this.ni!==t&&(this.ni=t)}},column:{get:function(){return this.Mg},set:function(t){this.Mg!==t&&(this.Mg=t)}},index:{get:function(){return this.Oa},set:function(t){this.Oa!==t&&(this.Oa=t)}},component:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}},near:{get:function(){return this.Y},set:function(t){this.Y!==t&&(this.Y=t)}}}),Qf.className="LayeredDigraphVertex",u(Yf,Yc),c.Object.defineProperties(Yf.prototype,{valid:{get:function(){return this.Za},set:function(t){this.Za!==t&&(this.Za=t)}},rev:{get:function(){return this.Ja},set:function(t){this.Ja!==t&&(this.Ja=t)}},forest:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t)}},portFromPos:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}},portToPos:{get:function(){return this.Ia},set:function(t){this.Ia!==t&&(this.Ia=t)}},portFromColOffset:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},portToColOffset:{get:function(){return this.Y},set:function(t){this.Y!==t&&(this.Y=t)}}}),Yf.className="LayeredDigraphEdge",u(Kf,Dc),Kf.prototype.cloneProtected=function(t){Dc.prototype.cloneProtected.call(this,t),t.Qo=this.Qo,t.Mp=this.Mp,t.Qr=this.Qr,t.Wc=this.Wc,t.Bb=this.Bb,t.yd.assign(this.yd),t.T.copyInheritedPropertiesFrom(this.T),t.U.copyInheritedPropertiesFrom(this.U)},Kf.prototype.cb=function(t){t.classType===Kf?0===t.name.indexOf("Alignment")?this.alignment=t:0===t.name.indexOf("Arrangement")?this.arrangement=t:0===t.name.indexOf("Compaction")?this.compaction=t:0===t.name.indexOf("Path")?this.path=t:0===t.name.indexOf("Sorting")?this.sorting=t:0===t.name.indexOf("Style")?this.treeStyle=t:A("Unknown enum value: "+t):Dc.prototype.cb.call(this,t)},Kf.prototype.createNetwork=function(){return new qm(this)},Kf.prototype.makeNetwork=function(t){function e(t){if(t instanceof mu)return!t.isLinkLabel&&"Comment"!==t.category;if(t instanceof Lu){var e=t.fromNode;return null!==e&&!e.isLinkLabel&&"Comment"!==e.category&&(null!==(t=t.toNode)&&!t.isLinkLabel&&"Comment"!==t.category)}return!1}var i=this.createNetwork();return t instanceof Br?(i.tg(t.nodes,!0,e),i.tg(t.links,!0,e)):t instanceof ku?i.tg(t.memberParts,!1,e):i.tg(t.iterator,!1,e),i},Kf.prototype.doLayout=function(t){null===this.network&&(this.network=this.makeNetwork(t)),this.arrangement!==Km&&(this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin));var e=this.diagram;if(null===e&&t instanceof Br&&(e=t),this.path===Em&&null!==e?this.Yc=e.isTreePathToChildren?Sm:Tm:this.Yc=this.path===Em?Sm:this.path,0<this.network.vertexes.count){for(this.network.Xp(),t=this.network.vertexes.iterator;t.next();)(e=t.value).initialized=!1,e.level=0,e.parent=null,e.children=[];if(0<this.Hb.count){for(t=new et,e=this.Hb.iterator;e.next();){var i=e.value;i instanceof mu?null!==(i=this.network.Qi(i))&&t.add(i):i instanceof Jm&&t.add(i)}this.Hb=t}for(0===this.Hb.count&&this.findRoots(),t=this.Hb.copy().iterator;t.next();)(e=t.value).initialized||(e.initialized=!0,Wf(this,e));for(e=this.network.vertexes,t=null;0<(t=Xf(e)).count;)null!==(e=$f(this,t))&&this.Hb.add(e),e.initialized=!0,Wf(this,e),e=t;for(t=this.Hb.iterator;t.next();)(e=t.value)instanceof Jm&&Jf(this,e);for(t=this.Hb.iterator;t.next();)(e=t.value)instanceof Jm&&Zf(this,e);for(t=this.Hb.iterator;t.next();)(e=t.value)instanceof Jm&&tm(this,e);if(this.Ru(),this.layerStyle===Wm){for(t=[],e=this.network.vertexes.iterator;e.next();){var n=(i=e.value).parent;null===n&&(n=i),n=0===n.angle||180===n.angle;var r=t[i.level];void 0===r&&(r=0),t[i.level]=Math.max(r,n?i.width:i.height)}for(e=0;e<t.length;e++)void 0===t[e]&&(t[e]=0);for(this.sw=t,e=this.network.vertexes.iterator;e.next();)null===(n=(i=e.value).parent)&&(n=i),0===n.angle||180===n.angle?(180===n.angle&&(i.focusX+=t[i.level]-i.width),i.width=t[i.level]):(270===n.angle&&(i.focusY+=t[i.level]-i.height),i.height=t[i.level])}else if(this.layerStyle===$m)for(t=this.network.vertexes.iterator;t.next();){for(i=0===(e=t.value).angle||180===e.angle,n=-1,r=0;r<e.children.length;r++){var o=e.children[r];n=Math.max(n,i?o.width:o.height)}if(0<=n)for(r=0;r<e.children.length;r++)o=e.children[r],i?(180===e.angle&&(o.focusX+=n-o.width),o.width=n):(270===e.angle&&(o.focusY+=n-o.height),o.height=n)}for(t=this.Hb.iterator;t.next();)(e=t.value)instanceof Jm&&this.layoutTree(e);this.arrangeTrees(),this.updateParts()}this.network=null,this.Hb=new et,this.isValidLayout=!0},Kf.prototype.findRoots=function(){for(var t=this.network.vertexes,e=t.iterator;e.next();){var i=e.value;switch(this.Yc){case Sm:0===i.sourceEdges.count&&this.Hb.add(i);break;case Tm:0===i.destinationEdges.count&&this.Hb.add(i);break;default:A("Unhandled path value "+this.Yc.toString())}}0===this.Hb.count&&(null!==(t=$f(this,t))&&this.Hb.add(t))},Kf.prototype.removeChild=function(t,e){if(null!==t&&null!==e){for(var i=t.children,n=0,r=0;r<i.length;r++)i[r]===e&&n++;if(0<n){n=Array(i.length-n);for(var o=r=0;o<i.length;o++)i[o]!==e&&(n[r++]=i[o]);t.children=n}}},Kf.prototype.initializeTreeVertexValues=function(t){if(t.copyInheritedPropertiesFrom(function(t,e){switch(t.Mp){default:case Vm:return null!==e.parent?e.parent:t.T;case zm:return null===e.parent?t.T:null===e.parent.parent?t.U:e.parent;case Gm:return null!==e.parent?null!==e.parent.parent?e.parent.parent:t.U:t.T;case jm:var i=!0;if(0===e.childrenCount)i=!1;else for(var n=e.children,r=n.length,o=0;o<r;o++)if(0<n[o].childrenCount){i=!1;break}return i&&null!==e.parent?t.U:null!==e.parent?e.parent:t.T}}(this,t)),null!==t.parent&&t.parent.alignment===Dm){for(var e=t.angle,i=t.parent.children,n=0;n<i.length&&t!==i[n];)n++;0==n%2?n!==i.length-1&&(e=90===e?180:180===e?270:270===e?180:270):e=90===e?0:180===e?90:270===e?0:90,t.angle=e}t.initialized=!0},Kf.prototype.assignTreeVertexValues=function(){},Kf.prototype.sortTreeVertexChildren=function(t){switch(t.sorting){case _m:break;case Mm:t.children.reverse();break;case km:t.children.sort(t.comparer);break;case Bm:t.children.sort(t.comparer),t.children.reverse();break;default:A("Unhandled sorting value "+t.sorting.toString())}},Kf.prototype.Ru=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},Kf.prototype.addComments=function(t){var e=t.angle,i=t.parent,n=0,r=!1;null!==i&&(n=i.angle,r=em(r=i.alignment)),e=90===e||270===e,n=90===n||270===n,i=0===t.childrenCount;var o=0,s=0,a=0,l=t.commentSpacing;if(null!==t.node)for(var h=t.node.fv();h.next();){var u=h.value;"Comment"===u.category&&u.canLayout()&&(null===t.comments&&(t.comments=[]),t.comments.push(u),u.zb(),u=u.measuredBounds,e&&!i||!r&&!n&&i||r&&n&&i?(o=Math.max(o,u.width),s+=u.height+Math.abs(a)):(o+=u.width+Math.abs(a),s=Math.max(s,u.height)),a=l)}null!==t.comments&&(e&&!i||!r&&!n&&i||r&&n&&i?(o+=Math.abs(t.commentMargin),s=Math.max(0,s-t.height)):(s+=Math.abs(t.commentMargin),o=Math.max(0,o-t.width)),r=Rt.allocAt(0,0,t.bounds.width+o,t.bounds.height+s),t.bounds=r,Rt.free(r))},Kf.prototype.layoutComments=function(t){if(null!==t.comments){var e=t.node.measuredBounds,i=t.parent,n=t.angle,r=0,o=!1;null!==i&&(r=i.angle,o=em(o=i.alignment)),n=90===n||270===n,i=90===r||270===r;for(var s=0===t.childrenCount,a=nm(t),l=0,h=t.comments,u=h.length,c=dt.alloc(),d=0;d<u;d++){var p=h[d],f=p.measuredBounds;if(n&&!s||!o&&!i&&s||o&&i&&s){if(135<r&&!o||i&&a)if(0<=t.commentMargin)for(c.h(t.bounds.x-t.commentMargin-f.width,t.bounds.y+l),p.move(c),p=p.td();p.next();){var m=p.value;m.fromSpot=Oe,m.toSpot=Pe}else for(c.h(t.bounds.x+2*t.focus.x-t.commentMargin,t.bounds.y+l),p.move(c),p=p.td();p.next();)(m=p.value).fromSpot=Pe,m.toSpot=Oe;else if(0<=t.commentMargin)for(c.h(t.bounds.x+2*t.focus.x+t.commentMargin,t.bounds.y+l),p.move(c),p=p.td();p.next();)(m=p.value).fromSpot=Pe,m.toSpot=Oe;else for(c.h(t.bounds.x+t.commentMargin-f.width,t.bounds.y+l),p.move(c),p=p.td();p.next();)(m=p.value).fromSpot=Oe,m.toSpot=Pe;l=0<=t.commentSpacing?l+(f.height+t.commentSpacing):l+(t.commentSpacing-f.height)}else{if(135<r&&!o||!i&&a)if(0<=t.commentMargin)for(c.h(t.bounds.x+l,t.bounds.y-t.commentMargin-f.height),p.move(c),p=p.td();p.next();)(m=p.value).fromSpot=Be,m.toSpot=Le;else for(c.h(t.bounds.x+l,t.bounds.y+2*t.focus.y-t.commentMargin),p.move(c),p=p.td();p.next();)(m=p.value).fromSpot=Le,m.toSpot=Be;else if(0<=t.commentMargin)for(c.h(t.bounds.x+l,t.bounds.y+2*t.focus.y+t.commentMargin),p.move(c),p=p.td();p.next();)(m=p.value).fromSpot=Le,m.toSpot=Be;else for(c.h(t.bounds.x+l,t.bounds.y+t.commentMargin-f.height),p.move(c),p=p.td();p.next();)(m=p.value).fromSpot=Be,m.toSpot=Le;l=0<=t.commentSpacing?l+(f.width+t.commentSpacing):l+(t.commentSpacing-f.width)}}if(dt.free(c),e=l-t.commentSpacing-(n?e.height:e.width),this.Yc===Sm)for(t=t.destinationEdges;t.next();)null===(r=t.value.link)||r.isAvoiding||(r.fromEndSegmentLength=0<e?e:NaN);else for(t=t.sourceEdges;t.next();)null===(r=t.value.link)||r.isAvoiding||(r.toEndSegmentLength=0<e?e:NaN)}},Kf.prototype.layoutTree=function(t){if(null!==t){for(var e=t.children,i=e.length,n=0;n<i;n++)this.layoutTree(e[n]);switch(t.compaction){case Hm:rm(this,t);break;case Um:if(t.alignment===Dm)rm(this,t);else if(0===t.childrenCount)i=!1,e=0,null!==(n=t.parent)&&(e=n.angle,i=em(i=n.alignment)),n=nm(t),t.S.h(0,0),t.sa.h(t.width,t.height),null===t.parent||null===t.comments||(180!==e&&270!==e||i)&&!n?t.da.h(0,0):180===e&&!i||(90===e||270===e)&&n?t.da.h(t.width-2*t.focus.x,0):t.da.h(0,t.height-2*t.focus.y),t.kq=null,t.xq=null;else{var r=bm(t);e=90===r||270===r;var o=0,s=t.children,a=s.length;for(i=0;i<a;i++)n=s[i],o=Math.max(o,e?n.sa.width:n.sa.height);var l=t.alignment,h=l===Nm,u=em(l),c=Math.max(0,t.breadthLimit);i=Cm(t);var d=t.nodeSpacing,p=wm(t),f=t.rowSpacing,m=0;(l===Lm||h||t.zm||t.Am&&1===t.maxGenerationCount)&&(m=Math.max(0,t.rowIndent)),n=t.width;var g=t.height,v=0,y=0,x=0,b=null,C=null,w=0,E=0,S=0,T=0,_=0,B=0,O=0,P=0;if(u&&!im(l)&&135<r&&s.reverse(),im(l))if(1<a)for(var L=0;L<a;L++)0==L%2&&L!==a-1&&(P=Math.max(P,e?s[L].sa.width:s[L].sa.height));else 1===a&&(P=e?s[0].sa.width:s[0].sa.height);if(u){switch(l){case Im:P=(y=135>r?om(t,s,P,v,y):sm(t,s,P,v,y)).x,v=y.width,y=y.height;break;case Rm:for(b=0;b<a;b++)c=(C=s[b]).sa,x=0===B?0:f,e?(C.S.h(o-c.width,T+x),v=Math.max(v,c.width),y=Math.max(y,T+x+c.height),T+=x+c.height):(C.S.h(S+x,o-c.height),v=Math.max(v,S+x+c.width),y=Math.max(y,c.height),S+=x+c.width),B++;break;case Fm:for(b=0;b<a;b++)o=(C=s[b]).sa,c=0===B?0:f,e?(C.S.h(d/2+t.focus.x,T+c),v=Math.max(v,o.width),y=Math.max(y,T+c+o.height),T+=c+o.height):(C.S.h(S+c,d/2+t.focus.y),v=Math.max(v,S+c+o.width),y=Math.max(y,o.height),S+=c+o.width),B++}b=vm(this,2),C=vm(this,2),e?(b[0].h(0,0),b[1].h(0,y),C[0].h(v,0)):(b[0].h(0,0),b[1].h(v,0),C[0].h(0,y)),C[1].h(v,y)}else for(L=0;L<a;L++){var N=s[L],I=N.sa;if(e){0<c&&0<B&&S+d+I.width>c&&(S<o&&dm(t,l,o-S,0,O,L-1),_++,B=0,O=L,x=y,S=0,T=135<r?-y-f:y+f),fm(this,N,0,T);var D=0;if(0===B)b=N.kq,C=N.xq,w=I.width,E=I.height,(null===b||null===C||r!==bm(N))&&(b=vm(this,2),C=vm(this,2),b[0].h(0,0),b[1].h(0,E),C[0].h(w,0),C[1].h(w,E));else{var R=M();D=(E=gm(this,t,N,b,C,w,E,R)).x,b=R[0],C=R[1],w=E.width,E=E.height,k(R),S<I.width&&0>D&&(pm(t,-D,0,O,L-1),mm(b,-D,0),mm(C,-D,0),D=0)}N.S.h(D,T),v=Math.max(v,w),y=Math.max(y,x+(0===_?0:f)+I.height),S=w}else 0<c&&0<B&&T+d+I.height>c&&(T<o&&dm(t,l,0,o-T,O,L-1),_++,B=0,O=L,x=v,T=0,S=135<r?-v-f:v+f),fm(this,N,S,0),D=0,0===B?(b=N.kq,C=N.xq,w=I.width,E=I.height,(null===b||null===C||r!==bm(N))&&(b=vm(this,2),C=vm(this,2),b[0].h(0,0),b[1].h(w,0),C[0].h(0,E),C[1].h(w,E))):(D=(E=gm(this,t,N,b,C,w,E,R=M())).x,b=R[0],C=R[1],w=E.width,E=E.height,k(R),T<I.height&&0>D&&(pm(t,0,-D,O,L-1),mm(b,0,-D),mm(C,0,-D),D=0)),N.S.h(S,D),y=Math.max(y,E),v=Math.max(v,x+(0===_?0:f)+I.width),T=E;B++}switch(0<_&&(e?(y+=Math.max(0,i),S<v&&dm(t,l,v-S,0,O,a-1),0<m&&(h||pm(t,m,0,0,a-1),v+=m)):(v+=Math.max(0,i),T<y&&dm(t,l,0,y-T,O,a-1),0<m&&(h||pm(t,0,m,0,a-1),y+=m))),m=h=0,l){case Om:e?h+=v/2-t.focus.x-p/2:m+=y/2-t.focus.y-p/2;break;case Pm:0<_?e?h+=v/2-t.focus.x-p/2:m+=y/2-t.focus.y-p/2:e?h+=(P=s[0].S.x+s[0].da.x)+(s[a-1].S.x+s[a-1].da.x+2*s[a-1].focus.x-P)/2-t.focus.x-p/2:m+=(P=s[0].S.y+s[0].da.y)+(s[a-1].S.y+s[a-1].da.y+2*s[a-1].focus.y-P)/2-t.focus.y-p/2;break;case Lm:e?(h-=p,v+=p):(m-=p,y+=p);break;case Nm:e?(h+=v-t.width+p,v+=p):(m+=y-t.height+p,y+=p);break;case Im:e?h+=1<a?P+d/2-t.focus.x:s[0].focus.x-t.focus.x+s[0].da.x:m+=1<a?P+d/2-t.focus.y:s[0].focus.y-t.focus.y+s[0].da.y;break;case Rm:e?h+=v+d/2-t.focus.x:m+=y+d/2-t.focus.y;break;case Fm:break;default:A("Unhandled alignment value "+l.toString())}for(p=0;p<a;p++)P=s[p],e?P.S.h(P.S.x+P.da.x-h,P.S.y+(135<r?(u?-y:-P.sa.height)+P.da.y-i:g+i+P.da.y)):P.S.h(P.S.x+(135<r?(u?-v:-P.sa.width)+P.da.x-i:n+i+P.da.x),P.S.y+P.da.y-m);if(a=s=0,u?e?(v=hm(t,v,h),0>h&&(h=0),135<r&&(m+=y+i),y+=g+i,l===Fm&&(s+=d/2+t.focus.x),a+=g+i):(135<r&&(h+=v+i),v+=n+i,y=um(t,y,m),0>m&&(m=0),l===Fm&&(a+=d/2+t.focus.y),s+=n+i):e?(null===t.comments?n>v&&(s=(v=cm(l,n-v,0)).x,a=v.y,v=n,h=0):v=hm(t,v,h),0>h&&(s-=h,h=0),135<r&&(m+=y+i),y=Math.max(Math.max(y,g),y+g+i),a+=g+i):(135<r&&(h+=v+i),v=Math.max(Math.max(v,n),v+n+i),null===t.comments?g>y&&(s=(y=cm(l,0,g-y)).x,a=y.y,y=g,m=0):y=um(t,y,m),0>m&&(a-=m,m=0),s+=n+i),0<_)r=vm(this,4),_=vm(this,4),e?(r[2].h(0,g+i),r[3].h(r[2].x,y),_[2].h(v,r[2].y),_[3].h(_[2].x,r[3].y)):(r[2].h(n+i,0),r[3].h(v,r[2].y),_[2].h(r[2].x,y),_[3].h(r[3].x,_[2].y));else{for(r=vm(this,b.length+2),_=vm(this,C.length+2),l=0;l<b.length;l++)u=b[l],r[l+2].h(u.x+s,u.y+a);for(l=0;l<C.length;l++)u=C[l],_[l+2].h(u.x+s,u.y+a)}e?(r[0].h(h,0),r[1].h(r[0].x,g),r[2].y<r[1].y&&(r[2].x>r[0].x?r[2].assign(r[1]):r[1].assign(r[2])),r[3].y<r[2].y&&(r[3].x>r[0].x?r[3].assign(r[2]):r[2].assign(r[3])),_[0].h(h+n,0),_[1].h(_[0].x,g),_[2].y<_[1].y&&(_[2].x<_[0].x?_[2].assign(_[1]):_[1].assign(_[2])),_[3].y<_[2].y&&(_[3].x<_[0].x?_[3].assign(_[2]):_[2].assign(_[3])),r[2].y-=i/2,_[2].y-=i/2):(r[0].h(0,m),r[1].h(n,r[0].y),r[2].x<r[1].x&&(r[2].y>r[0].y?r[2].assign(r[1]):r[1].assign(r[2])),r[3].x<r[2].x&&(r[3].y>r[0].y?r[3].assign(r[2]):r[2].assign(r[3])),_[0].h(0,m+g),_[1].h(n,_[0].y),_[2].x<_[1].x&&(_[2].y<_[0].y?_[2].assign(_[1]):_[1].assign(_[2])),_[3].x<_[2].x&&(_[3].y<_[0].y?_[3].assign(_[2]):_[2].assign(_[3])),r[2].x-=i/2,_[2].x-=i/2),Am(this,b),Am(this,C),t.kq=r,t.xq=_,t.da.h(h,m),t.sa.h(v,y)}break;default:A("Unhandled compaction value "+t.compaction.toString())}}},Kf.prototype.arrangeTrees=function(){if(this.Bb===Km)for(var t=this.Hb.iterator;t.next();){var e=t.value;if(e instanceof Jm){var i=e.node;if(null!==i){var n=i.position;i=n.x,n=n.y,isFinite(i)||(i=0),isFinite(n)||(n=0),ym(this,e,i,n)}}}else{for(t=[],e=this.Hb.iterator;e.next();)(i=e.value)instanceof Jm&&t.push(i);switch(this.sorting){case _m:break;case Mm:t.reverse();break;case km:t.sort(this.comparer);break;case Bm:t.sort(this.comparer),t.reverse();break;default:A("Unhandled sorting value "+this.sorting.toString())}for(e=(i=this.arrangementOrigin).x,i=i.y,n=0;n<t.length;n++){var r=t[n];switch(ym(this,r,e+r.da.x,i+r.da.y),this.Bb){case Qm:i+=r.sa.height+this.yd.height;break;case Ym:e+=r.sa.width+this.yd.width;break;default:A("Unhandled arrangement value "+this.Bb.toString())}}}},Kf.prototype.commitLayout=function(){this.Rv(),this.commitNodes(),this.Vu(),this.isRouting&&this.commitLinks()},Kf.prototype.commitNodes=function(){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();for(t.reset();t.next();)this.layoutComments(t.value)},Kf.prototype.Vu=function(){if(this.layerStyle===Wm){for(var t=this.sw,e=[],i=null,n=this.network.vertexes.iterator;n.next();){var r=n.value;null===i?i=r.bounds.copy():i.Hc(r.bounds);var o=e[r.level];o=void 0===o?Cm(r):Math.max(o,Cm(r)),e[r.level]=o}for(n=0;n<e.length;n++)void 0===e[n]&&(e[n]=0);if(90===this.angle||270===this.angle?(i.Tc(this.nodeSpacing/2,this.layerSpacing),n=new dt(-this.nodeSpacing/2,-this.layerSpacing/2)):(i.Tc(this.layerSpacing,this.nodeSpacing/2),n=new dt(-this.layerSpacing/2,-this.nodeSpacing/2)),r=[],i=90===this.angle||270===this.angle?i.width:i.height,o=0,180===this.angle||270===this.angle)for(var s=0;s<t.length;s++)o+=t[s]+e[s];for(s=0;s<t.length;s++){var a=t[s]+e[s];270===this.angle?(o-=a,r.push(new Rt(0,o,i,a))):90===this.angle?(r.push(new Rt(0,o,i,a)),o+=a):180===this.angle?(o-=a,r.push(new Rt(o,0,a,i))):(r.push(new Rt(o,0,a,i)),o+=a)}this.commitLayers(r,n)}},Kf.prototype.commitLayers=function(){},Kf.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},Kf.prototype.Rv=function(){for(var t=this.Hb.iterator;t.next();){var e=t.value;e instanceof Jm&&xm(this,e)}},Kf.prototype.setPortSpots=function(t){var e=t.alignment;if(em(e)){var i=this.Yc===Sm,n=bm(t);switch(n){case 0:var r=Pe;break;case 90:r=Le;break;case 180:r=Oe;break;default:r=Be}var o=t.children,s=o.length;switch(e){case Im:case Dm:for(e=0;e<s;e++){var a=o[e];if(null!==(a=(i?a.sourceEdges:a.destinationEdges).first())&&null!==(a=a.link)){var l=90===n||270===n?Oe:Be;if(1===s||e===s-1&&1==s%2)switch(n){case 0:l=Oe;break;case 90:l=Be;break;case 180:l=Pe;break;default:l=Le}else 0==e%2&&(l=90===n||270===n?Pe:Le);i?(t.setsPortSpot&&(a.fromSpot=r),t.setsChildPortSpot&&(a.toSpot=l)):(t.setsPortSpot&&(a.fromSpot=l),t.setsChildPortSpot&&(a.toSpot=r))}}break;case Rm:for(n=90===n||270===n?Pe:Le,o=i?t.destinationEdges:t.sourceEdges;o.next();)null!==(s=o.value.link)&&(i?(t.setsPortSpot&&(s.fromSpot=r),t.setsChildPortSpot&&(s.toSpot=n)):(t.setsPortSpot&&(s.fromSpot=n),t.setsChildPortSpot&&(s.toSpot=r)));break;case Fm:for(n=90===n||270===n?Oe:Be,o=i?t.destinationEdges:t.sourceEdges;o.next();)null!==(s=o.value.link)&&(i?(t.setsPortSpot&&(s.fromSpot=r),t.setsChildPortSpot&&(s.toSpot=n)):(t.setsPortSpot&&(s.fromSpot=n),t.setsChildPortSpot&&(s.toSpot=r)))}}else if(i=bm(t),this.Yc===Sm){for(r=t.destinationEdges;r.next();)if(null!==(n=r.value.link)){if(t.setsPortSpot)if(t.portSpot.Mb())switch(i){case 0:n.fromSpot=Pe;break;case 90:n.fromSpot=Le;break;case 180:n.fromSpot=Oe;break;default:n.fromSpot=Be}else n.fromSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Mb())switch(i){case 0:n.toSpot=Oe;break;case 90:n.toSpot=Be;break;case 180:n.toSpot=Pe;break;default:n.toSpot=Le}else n.toSpot=t.childPortSpot}}else for(r=t.sourceEdges;r.next();)if(null!==(n=r.value.link)){if(t.setsPortSpot)if(t.portSpot.Mb())switch(i){case 0:n.toSpot=Pe;break;case 90:n.toSpot=Le;break;case 180:n.toSpot=Oe;break;default:n.toSpot=Be}else n.toSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Mb())switch(i){case 0:n.fromSpot=Oe;break;case 90:n.fromSpot=Be;break;case 180:n.fromSpot=Pe;break;default:n.fromSpot=Le}else n.fromSpot=t.childPortSpot}},c.Object.defineProperties(Kf.prototype,{roots:{get:function(){return this.Hb},set:function(t){this.Hb!==t&&(this.Hb=t,this.C())}},path:{get:function(){return this.Qo},set:function(t){this.Qo!==t&&(this.Qo=t,this.C())}},treeStyle:{get:function(){return this.Mp},set:function(t){this.Bb===t||t!==Vm&&t!==Gm&&t!==jm&&t!==zm||(this.Mp=t,this.C())}},layerStyle:{get:function(){return this.Qr},set:function(t){this.Bb===t||t!==Xm&&t!==$m&&t!==Wm||(this.Qr=t,this.C())}},comments:{get:function(){return this.Wc},set:function(t){this.Wc!==t&&(this.Wc=t,this.C())}},arrangement:{get:function(){return this.Bb},set:function(t){this.Bb===t||t!==Qm&&t!==Ym&&t!==Km||(this.Bb=t,this.C())}},arrangementSpacing:{get:function(){return this.yd},set:function(t){this.yd.A(t)||(this.yd.assign(t),this.C())}},rootDefaults:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t,this.C())}},alternateDefaults:{get:function(){return this.U},set:function(t){this.U!==t&&(this.U=t,this.C())}},sorting:{get:function(){return this.T.sorting},set:function(t){this.T.sorting===t||t!==_m&&t!==Mm&&t!==km&&!Bm||(this.T.sorting=t,this.C())}},comparer:{get:function(){return this.T.comparer},set:function(t){this.T.comparer!==t&&(this.T.comparer=t,this.C())}},angle:{get:function(){return this.T.angle},set:function(t){this.T.angle!==t&&(0===t||90===t||180===t||270===t?(this.T.angle=t,this.C()):A("TreeLayout.angle must be 0, 90, 180, or 270"))}},alignment:{get:function(){return this.T.alignment},set:function(t){this.T.alignment!==t&&(this.T.alignment=t,this.C())}},nodeIndent:{get:function(){return this.T.nodeIndent},set:function(t){this.T.nodeIndent!==t&&0<=t&&(this.T.nodeIndent=t,this.C())}},nodeIndentPastParent:{get:function(){return this.T.nodeIndentPastParent},set:function(t){this.T.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.T.nodeIndentPastParent=t,this.C())}},nodeSpacing:{get:function(){return this.T.nodeSpacing},set:function(t){this.T.nodeSpacing!==t&&(this.T.nodeSpacing=t,this.C())}},layerSpacing:{get:function(){return this.T.layerSpacing},set:function(t){this.T.layerSpacing!==t&&(this.T.layerSpacing=t,this.C())}},layerSpacingParentOverlap:{get:function(){return this.T.layerSpacingParentOverlap},set:function(t){this.T.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.T.layerSpacingParentOverlap=t,this.C())}},compaction:{get:function(){return this.T.compaction},set:function(t){this.T.compaction===t||t!==Hm&&t!==Um||(this.T.compaction=t,this.C())}},breadthLimit:{get:function(){return this.T.breadthLimit},set:function(t){this.T.breadthLimit!==t&&0<=t&&(this.T.breadthLimit=t,this.C())}},rowSpacing:{get:function(){return this.T.rowSpacing},set:function(t){this.T.rowSpacing!==t&&(this.T.rowSpacing=t,this.C())}},rowIndent:{get:function(){return this.T.rowIndent},set:function(t){this.T.rowIndent!==t&&0<=t&&(this.T.rowIndent=t,this.C())}},commentSpacing:{get:function(){return this.T.commentSpacing},set:function(t){this.T.commentSpacing!==t&&(this.T.commentSpacing=t,this.C())}},commentMargin:{get:function(){return this.T.commentMargin},set:function(t){this.T.commentMargin!==t&&(this.T.commentMargin=t,this.C())}},setsPortSpot:{get:function(){return this.T.setsPortSpot},set:function(t){this.T.setsPortSpot!==t&&(this.T.setsPortSpot=t,this.C())}},portSpot:{get:function(){return this.T.portSpot},set:function(t){this.T.portSpot.A(t)||(this.T.portSpot=t,this.C())}},setsChildPortSpot:{get:function(){return this.T.setsChildPortSpot},set:function(t){this.T.setsChildPortSpot!==t&&(this.T.setsChildPortSpot=t,this.C())}},childPortSpot:{get:function(){return this.T.childPortSpot},set:function(t){this.T.childPortSpot.A(t)||(this.T.childPortSpot=t,this.C())}},alternateSorting:{get:function(){return this.U.sorting},set:function(t){this.U.sorting===t||t!==_m&&t!==Mm&&t!==km&&!Bm||(this.U.sorting=t,this.C())}},alternateComparer:{get:function(){return this.U.comparer},set:function(t){this.U.comparer!==t&&(this.U.comparer=t,this.C())}},alternateAngle:{get:function(){return this.U.angle},set:function(t){this.U.angle===t||0!==t&&90!==t&&180!==t&&270!==t||(this.U.angle=t,this.C())}},alternateAlignment:{get:function(){return this.U.alignment},set:function(t){this.U.alignment!==t&&(this.U.alignment=t,this.C())}},alternateNodeIndent:{get:function(){return this.U.nodeIndent},set:function(t){this.U.nodeIndent!==t&&0<=t&&(this.U.nodeIndent=t,this.C())}},alternateNodeIndentPastParent:{get:function(){return this.U.nodeIndentPastParent},set:function(t){this.U.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.U.nodeIndentPastParent=t,this.C())}},alternateNodeSpacing:{get:function(){return this.U.nodeSpacing},set:function(t){this.U.nodeSpacing!==t&&(this.U.nodeSpacing=t,this.C())}},alternateLayerSpacing:{get:function(){return this.U.layerSpacing},set:function(t){this.U.layerSpacing!==t&&(this.U.layerSpacing=t,this.C())}},alternateLayerSpacingParentOverlap:{get:function(){return this.U.layerSpacingParentOverlap},set:function(t){this.U.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.U.layerSpacingParentOverlap=t,this.C())}},alternateCompaction:{get:function(){return this.U.compaction},set:function(t){this.U.compaction===t||t!==Hm&&t!==Um||(this.U.compaction=t,this.C())}},alternateBreadthLimit:{get:function(){return this.U.breadthLimit},set:function(t){this.U.breadthLimit!==t&&0<=t&&(this.U.breadthLimit=t,this.C())}},alternateRowSpacing:{get:function(){return this.U.rowSpacing},set:function(t){this.U.rowSpacing!==t&&(this.U.rowSpacing=t,this.C())}},alternateRowIndent:{get:function(){return this.U.rowIndent},set:function(t){this.U.rowIndent!==t&&0<=t&&(this.U.rowIndent=t,this.C())}},alternateCommentSpacing:{get:function(){return this.U.commentSpacing},set:function(t){this.U.commentSpacing!==t&&(this.U.commentSpacing=t,this.C())}},alternateCommentMargin:{get:function(){return this.U.commentMargin},set:function(t){this.U.commentMargin!==t&&(this.U.commentMargin=t,this.C())}},alternateSetsPortSpot:{get:function(){return this.U.setsPortSpot},set:function(t){this.U.setsPortSpot!==t&&(this.U.setsPortSpot=t,this.C())}},alternatePortSpot:{get:function(){return this.U.portSpot},set:function(t){this.U.portSpot.A(t)||(this.U.portSpot=t,this.C())}},alternateSetsChildPortSpot:{get:function(){return this.U.setsChildPortSpot},set:function(t){this.U.setsChildPortSpot!==t&&(this.U.setsChildPortSpot=t,this.C())}},alternateChildPortSpot:{get:function(){return this.U.childPortSpot},set:function(t){this.U.childPortSpot.A(t)||(this.U.childPortSpot=t,this.C())}}});var Em=new z(Kf,"PathDefault",-1),Sm=new z(Kf,"PathDestination",0),Tm=new z(Kf,"PathSource",1),_m=new z(Kf,"SortingForwards",10),Mm=new z(Kf,"SortingReverse",11),km=new z(Kf,"SortingAscending",12),Bm=new z(Kf,"SortingDescending",13),Om=new z(Kf,"AlignmentCenterSubtrees",20),Pm=new z(Kf,"AlignmentCenterChildren",21),Lm=new z(Kf,"AlignmentStart",22),Nm=new z(Kf,"AlignmentEnd",23),Im=new z(Kf,"AlignmentBus",24),Dm=new z(Kf,"AlignmentBusBranching",25),Rm=new z(Kf,"AlignmentTopLeftBus",26),Fm=new z(Kf,"AlignmentBottomRightBus",27),Hm=new z(Kf,"CompactionNone",30),Um=new z(Kf,"CompactionBlock",31),Vm=new z(Kf,"StyleLayered",40),jm=new z(Kf,"StyleLastParents",41),Gm=new z(Kf,"StyleAlternating",42),zm=new z(Kf,"StyleRootOnly",43),Qm=new z(Kf,"ArrangementVertical",50),Ym=new z(Kf,"ArrangementHorizontal",51),Km=new z(Kf,"ArrangementFixedRoots",52),Xm=new z(Kf,"LayerIndividual",60),$m=new z(Kf,"LayerSiblings",61),Wm=new z(Kf,"LayerUniform",62);function qm(t){Hc.call(this,t)}function Jm(t){zc.call(this,t),this.Ia=!1,this.Ic=null,this.I=[],this.kd=this.Za=this.Y=this.Ja=0,this.Wc=null,this.S=new dt(0,0),this.sa=new Lt(0,0),this.da=new dt(0,0),this.Am=this.zm=this.gA=!1,this.xq=this.kq=null,this.Pc=_m,this.Jc=Qc,this.cc=0,this.wb=Pm,this.bs=this.$r=0,this.ds=20,this.ie=50,this.Pr=0,this.$q=Um,this.Tq=0,this.os=25,this.Zq=this.ns=10,this.Yq=20,this.xs=!0,this.ks=Se,this.ws=!0,this.Wq=Se}function Zm(t){Yc.call(this,t),this.tu=new dt(0,0)}Kf.className="TreeLayout",Kf.PathDefault=Em,Kf.PathDestination=Sm,Kf.PathSource=Tm,Kf.SortingForwards=_m,Kf.SortingReverse=Mm,Kf.SortingAscending=km,Kf.SortingDescending=Bm,Kf.AlignmentCenterSubtrees=Om,Kf.AlignmentCenterChildren=Pm,Kf.AlignmentStart=Lm,Kf.AlignmentEnd=Nm,Kf.AlignmentBus=Im,Kf.AlignmentBusBranching=Dm,Kf.AlignmentTopLeftBus=Rm,Kf.AlignmentBottomRightBus=Fm,Kf.CompactionNone=Hm,Kf.CompactionBlock=Um,Kf.StyleLayered=Vm,Kf.StyleLastParents=jm,Kf.StyleAlternating=Gm,Kf.StyleRootOnly=zm,Kf.ArrangementVertical=Qm,Kf.ArrangementHorizontal=Ym,Kf.ArrangementFixedRoots=Km,Kf.LayerIndividual=Xm,Kf.LayerSiblings=$m,Kf.LayerUniform=Wm,u(qm,Hc),qm.prototype.createVertex=function(){return new Jm(this)},qm.prototype.createEdge=function(){return new Zm(this)},qm.className="TreeNetwork",u(Jm,zc),Jm.prototype.copyInheritedPropertiesFrom=function(t){null!==t&&(this.Pc=t.sorting,this.Jc=t.comparer,this.cc=t.angle,this.wb=t.alignment,this.$r=t.nodeIndent,this.bs=t.nodeIndentPastParent,this.ds=t.nodeSpacing,this.ie=t.layerSpacing,this.Pr=t.layerSpacingParentOverlap,this.$q=t.compaction,this.Tq=t.breadthLimit,this.os=t.rowSpacing,this.ns=t.rowIndent,this.Zq=t.commentSpacing,this.Yq=t.commentMargin,this.xs=t.setsPortSpot,this.ks=t.portSpot,this.ws=t.setsChildPortSpot,this.Wq=t.childPortSpot)},c.Object.defineProperties(Jm.prototype,{initialized:{get:function(){return this.Ia},set:function(t){this.Ia!==t&&(this.Ia=t)}},parent:{get:function(){return this.Ic},set:function(t){this.Ic!==t&&(this.Ic=t)}},children:{get:function(){return this.I},set:function(t){if(this.I!==t){if(null!==t)for(var e=t.length,i=0;i<e;i++);this.I=t}}},level:{get:function(){return this.Ja},set:function(t){this.Ja!==t&&(this.Ja=t)}},descendantCount:{get:function(){return this.Y},set:function(t){this.Y!==t&&(this.Y=t)}},maxChildrenCount:{get:function(){return this.Za},set:function(t){this.Za!==t&&(this.Za=t)}},maxGenerationCount:{get:function(){return this.kd},set:function(t){this.kd!==t&&(this.kd=t)}},comments:{get:function(){return this.Wc},set:function(t){if(this.Wc!==t){if(null!==t)for(var e=t.length,i=0;i<e;i++);this.Wc=t}}},sorting:{get:function(){return this.Pc},set:function(t){this.Pc!==t&&(this.Pc=t)}},comparer:{get:function(){return this.Jc},set:function(t){this.Jc!==t&&(this.Jc=t)}},angle:{get:function(){return this.cc},set:function(t){this.cc!==t&&(this.cc=t)}},alignment:{get:function(){return this.wb},set:function(t){this.wb!==t&&(this.wb=t)}},nodeIndent:{get:function(){return this.$r},set:function(t){this.$r!==t&&(this.$r=t)}},nodeIndentPastParent:{get:function(){return this.bs},set:function(t){this.bs!==t&&(this.bs=t)}},nodeSpacing:{get:function(){return this.ds},set:function(t){this.ds!==t&&(this.ds=t)}},layerSpacing:{get:function(){return this.ie},set:function(t){this.ie!==t&&(this.ie=t)}},layerSpacingParentOverlap:{get:function(){return this.Pr},set:function(t){this.Pr!==t&&(this.Pr=t)}},compaction:{get:function(){return this.$q},set:function(t){this.$q!==t&&(this.$q=t)}},breadthLimit:{get:function(){return this.Tq},set:function(t){this.Tq!==t&&(this.Tq=t)}},rowSpacing:{get:function(){return this.os},set:function(t){this.os!==t&&(this.os=t)}},rowIndent:{get:function(){return this.ns},set:function(t){this.ns!==t&&(this.ns=t)}},commentSpacing:{get:function(){return this.Zq},set:function(t){this.Zq!==t&&(this.Zq=t)}},commentMargin:{get:function(){return this.Yq},set:function(t){this.Yq!==t&&(this.Yq=t)}},setsPortSpot:{get:function(){return this.xs},set:function(t){this.xs!==t&&(this.xs=t)}},portSpot:{get:function(){return this.ks},set:function(t){this.ks.A(t)||(this.ks=t)}},setsChildPortSpot:{get:function(){return this.ws},set:function(t){this.ws!==t&&(this.ws=t)}},childPortSpot:{get:function(){return this.Wq},set:function(t){this.Wq.A(t)||(this.Wq=t)}},childrenCount:{get:function(){return this.children.length}},relativePosition:{get:function(){return this.S},set:function(t){this.S.set(t)}},subtreeSize:{get:function(){return this.sa},set:function(t){this.sa.set(t)}},subtreeOffset:{get:function(){return this.da},set:function(t){this.da.set(t)}}}),Jm.className="TreeVertex",u(Zm,Yc),Zm.prototype.commit=function(){var t=this.link;if(null!==t&&!t.isAvoiding){var e=this.network.layout,i=null,n=null;switch(e.Yc){case Sm:i=this.fromVertex,n=this.toVertex;break;case Tm:i=this.toVertex,n=this.fromVertex;break;default:A("Unhandled path value "+e.Yc.toString())}if(null!==i&&null!==n)if(0!==(e=this.tu).x||0!==e.y||i.gA){n=i.bounds;var r=bm(i),o=Cm(i),s=i.rowSpacing;t.cj();var a,l=t.curve===nc,h=t.isOrthogonal;if(t.Hh(),h||l){for(a=2;4<t.pointsCount;)t.Iv(2);var u=t.i(1),c=t.i(2)}else{for(a=1;3<t.pointsCount;)t.Iv(1);u=t.i(0),c=t.i(t.pointsCount-1)}var d=t.i(t.pointsCount-1);0===r?(i.alignment===Nm?(r=n.bottom+e.y,0===e.y&&u.y>d.y+i.rowIndent&&(r=Math.min(r,Math.max(u.y,r-wm(i))))):i.alignment===Lm?(r=n.top+e.y,0===e.y&&u.y<d.y-i.rowIndent&&(r=Math.max(r,Math.min(u.y,r+wm(i))))):r=i.zm||i.Am&&1===i.maxGenerationCount?n.top-i.da.y+e.y:n.y+n.height/2+e.y,l?(t.m(a,u.x,r),a++,t.m(a,n.right+o,r),a++,t.m(a,n.right+o+(e.x-s)/3,r),a++,t.m(a,n.right+o+2*(e.x-s)/3,r),a++,t.m(a,n.right+o+(e.x-s),r),a++,t.m(a,c.x,r)):(h&&(t.m(a,n.right+o/2,u.y),a++),t.m(a,n.right+o/2,r),a++,t.m(a,n.right+o+e.x-(h?s/2:s),r),a++,h&&t.m(a,t.i(a-1).x,c.y))):90===r?(i.alignment===Nm?(r=n.right+e.x,0===e.x&&u.x>d.x+i.rowIndent&&(r=Math.min(r,Math.max(u.x,r-wm(i))))):i.alignment===Lm?(r=n.left+e.x,0===e.x&&u.x<d.x-i.rowIndent&&(r=Math.max(r,Math.min(u.x,r+wm(i))))):r=i.zm||i.Am&&1===i.maxGenerationCount?n.left-i.da.x+e.x:n.x+n.width/2+e.x,l?(t.m(a,r,u.y),a++,t.m(a,r,n.bottom+o),a++,t.m(a,r,n.bottom+o+(e.y-s)/3),a++,t.m(a,r,n.bottom+o+2*(e.y-s)/3),a++,t.m(a,r,n.bottom+o+(e.y-s)),a++,t.m(a,r,c.y)):(h&&(t.m(a,u.x,n.bottom+o/2),a++),t.m(a,r,n.bottom+o/2),a++,t.m(a,r,n.bottom+o+e.y-(h?s/2:s)),a++,h&&t.m(a,c.x,t.i(a-1).y))):180===r?(i.alignment===Nm?(r=n.bottom+e.y,0===e.y&&u.y>d.y+i.rowIndent&&(r=Math.min(r,Math.max(u.y,r-wm(i))))):i.alignment===Lm?(r=n.top+e.y,0===e.y&&u.y<d.y-i.rowIndent&&(r=Math.max(r,Math.min(u.y,r+wm(i))))):r=i.zm||i.Am&&1===i.maxGenerationCount?n.top-i.da.y+e.y:n.y+n.height/2+e.y,l?(t.m(a,u.x,r),a++,t.m(a,n.left-o,r),a++,t.m(a,n.left-o+(e.x+s)/3,r),a++,t.m(a,n.left-o+2*(e.x+s)/3,r),a++,t.m(a,n.left-o+(e.x+s),r),a++,t.m(a,c.x,r)):(h&&(t.m(a,n.left-o/2,u.y),a++),t.m(a,n.left-o/2,r),a++,t.m(a,n.left-o+e.x+(h?s/2:s),r),a++,h&&t.m(a,t.i(a-1).x,c.y))):270===r?(i.alignment===Nm?(r=n.right+e.x,0===e.x&&u.x>d.x+i.rowIndent&&(r=Math.min(r,Math.max(u.x,r-wm(i))))):i.alignment===Lm?(r=n.left+e.x,0===e.x&&u.x<d.x-i.rowIndent&&(r=Math.max(r,Math.min(u.x,r+wm(i))))):r=i.zm||i.Am&&1===i.maxGenerationCount?n.left-i.da.x+e.x:n.x+n.width/2+e.x,l?(t.m(a,r,u.y),a++,t.m(a,r,n.top-o),a++,t.m(a,r,n.top-o+(e.y+s)/3),a++,t.m(a,r,n.top-o+2*(e.y+s)/3),a++,t.m(a,r,n.top-o+(e.y+s)),a++,t.m(a,r,c.y)):(h&&(t.m(a,u.x,n.top-o/2),a++),t.m(a,r,n.top-o/2),a++,t.m(a,r,n.top-o+e.y+(h?s/2:s)),a++,h&&t.m(a,c.x,t.i(a-1).y))):A("Invalid angle "+r),t.mf()}else t=this.link,(o=bm(i))!==bm(n)&&(s=Cm(i),l=i.bounds,i=n.bounds,0===o&&i.left-l.right<s+1||90===o&&i.top-l.bottom<s+1||180===o&&l.left-i.right<s+1||270===o&&l.top-i.bottom<s+1||(t.cj(),i=t.curve===nc,e=t.isOrthogonal,n=em(this.fromVertex.alignment),t.Hh(),0===o?(o=l.right+s/2,i?4===t.pointsCount&&(i=t.i(3).y,t.K(1,o-20,t.i(1).y),t.m(2,o-20,i),t.m(3,o,i),t.m(4,o+20,i),t.K(5,t.i(5).x,i)):e?n?t.K(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.K(2,o,t.i(2).y),t.K(3,o,t.i(3).y)):4===t.pointsCount?t.m(2,o,t.i(2).y):3===t.pointsCount?t.K(1,o,t.i(2).y):2===t.pointsCount&&t.m(1,o,t.i(1).y)):90===o?(o=l.bottom+s/2,i?4===t.pointsCount&&(i=t.i(3).x,t.K(1,t.i(1).x,o-20),t.m(2,i,o-20),t.m(3,i,o),t.m(4,i,o+20),t.K(5,i,t.i(5).y)):e?n?t.K(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.K(2,t.i(2).x,o),t.K(3,t.i(3).x,o)):4===t.pointsCount?t.m(2,t.i(2).x,o):3===t.pointsCount?t.K(1,t.i(2).x,o):2===t.pointsCount&&t.m(1,t.i(1).x,o)):180===o?(o=l.left-s/2,i?4===t.pointsCount&&(i=t.i(3).y,t.K(1,o+20,t.i(1).y),t.m(2,o+20,i),t.m(3,o,i),t.m(4,o-20,i),t.K(5,t.i(5).x,i)):e?n?t.K(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.K(2,o,t.i(2).y),t.K(3,o,t.i(3).y)):4===t.pointsCount?t.m(2,o,t.i(2).y):3===t.pointsCount?t.K(1,o,t.i(2).y):2===t.pointsCount&&t.m(1,o,t.i(1).y)):270===o&&(o=l.top-s/2,i?4===t.pointsCount&&(i=t.i(3).x,t.K(1,t.i(1).x,o+20),t.m(2,i,o+20),t.m(3,i,o),t.m(4,i,o-20),t.K(5,i,t.i(5).y)):e?n?t.K(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.K(2,t.i(2).x,o),t.K(3,t.i(3).x,o)):4===t.pointsCount?t.m(2,t.i(2).x,o):3===t.pointsCount?t.K(1,t.i(2).x,o):2===t.pointsCount&&t.m(1,t.i(1).x,o)),t.mf()))}},c.Object.defineProperties(Zm.prototype,{relativePoint:{get:function(){return this.tu},set:function(t){this.tu.set(t)}}}),Zm.className="TreeEdge",Mi.prototype.initializeStandardTools=function(){this.Va("Action",new wn,this.mouseDownTools),this.Va("Relinking",new dn,this.mouseDownTools),this.Va("LinkReshaping",new fn,this.mouseDownTools),this.Va("Rotating",new bn,this.mouseDownTools),this.Va("Resizing",new xn,this.mouseDownTools),this.Va("Linking",new ln,this.mouseMoveTools),this.Va("Dragging",new Di,this.mouseMoveTools),this.Va("DragSelecting",new Sn,this.mouseMoveTools),this.Va("Panning",new Tn,this.mouseMoveTools),this.Va("ContextMenu",new kn,this.mouseUpTools),this.Va("TextEditing",new Rn,this.mouseUpTools),this.Va("ClickCreating",new En,this.mouseUpTools),this.Va("ClickSelecting",new Cn,this.mouseUpTools)},Dl("Horizontal",new ol),Dl("Spot",new al),Dl("Table",new hl),Dl("Viewbox",new dl),Dl("TableRow",new ul),Dl("TableColumn",new cl),Dl("Graduated",new vl),Dl("Grid",new pl),is.add(Jd.type,fd),is.add(lp.type,Ad);var tg=p.go,eg={get licenseKey(){return Br.licenseKey},set licenseKey(t){Br.licenseKey=t},get version(){return Br.version},Group:ku,EnumValue:z,List:Z,Set:et,Map:ct,Point:dt,Size:Lt,Rect:Rt,Margin:qt,Spot:He,Geometry:Ke,PathFigure:ai,PathSegment:li,InputEvent:vi,DiagramEvent:Ai,ChangedEvent:yi,Model:xd,GraphLinksModel:Jd,TreeModel:lp,Binding:Xd,Transaction:Ei,UndoManager:Si,CommandHandler:Is,Tool:_i,DraggingTool:Di,DraggingInfo:Ms,LinkingBaseTool:sn,LinkingTool:ln,RelinkingTool:dn,LinkReshapingTool:fn,ResizingTool:xn,RotatingTool:bn,ClickSelectingTool:Cn,ActionTool:wn,ClickCreatingTool:En,HTMLInfo:_n,ContextMenuTool:kn,DragSelectingTool:Sn,PanningTool:Tn,TextEditingTool:Rn,ToolManager:Mi,Animation:pr,AnimationManager:Jn,AnimationTrigger:Cr,Layer:Tr,Diagram:Br,Palette:Os,Overview:Ps,Brush:Ma,GraphObject:Rs,Panel:Al,RowColumnDefinition:Ul,Shape:Ql,TextBlock:eh,TextBlockMetrics:Mh,Picture:kh,Part:Xh,Adornment:fu,Node:mu,Link:Lu,Placeholder:Pu,Layout:Dc,LayoutNetwork:Hc,LayoutVertex:zc,LayoutEdge:Yc,GridLayout:Kc,PanelLayout:nl,CircularLayout:hp,CircularNetwork:Ip,CircularVertex:Dp,CircularEdge:Fp,ForceDirectedLayout:Hp,ForceDirectedNetwork:Kp,ForceDirectedVertex:Xp,ForceDirectedEdge:$p,LayeredDigraphLayout:qp,LayeredDigraphNetwork:zf,LayeredDigraphVertex:Qf,LayeredDigraphEdge:Yf,TreeLayout:Kf,TreeNetwork:qm,TreeVertex:Jm,TreeEdge:Zm};tg&&tg.version!==eg.version&&A("WARNING: a `go` object on the root object is already defined with a version mismatch."+tg.version+". Replaced with version: "+eg.version),p.go=eg,(void 0===p||void 0===p.module||"object"!=typeof p.module.exports)&&p.define&&"function"==typeof p.define&&p.define.amd&&p.define(eg),void 0!==t&&"object"==typeof t.exports&&(t.exports=void 0!==e?e.go:self.go)}()}).call(e,i("DuR2"))},PzxK:function(t,e,i){var n=i("D2L2"),r=i("sB3e"),o=i("ax3d")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},QRG4:function(t,e,i){var n=i("UuGF"),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},"QWe/":function(t,e,i){i("crlp")("observable")},QuNk:function(t,e,i){"use strict";var n=/^(attrs|props|on|nativeOn|class|style|hook)$/;function r(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}var o={prop:{type:String},label:String,className:String,labelClassName:String,property:String,width:{},minWidth:{},renderHeader:Function,sortable:{type:[String,Boolean],default:!1},sortMethod:Function,resizable:{type:Boolean,default:!0},context:{},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterMultiple:{type:Boolean,default:!0},treeKey:{type:String,default:"id"},childNumKey:{type:String,default:"child_num"},parentKey:{type:String,default:"parent_id"},levelKey:{type:String,default:"depth"},childKey:{type:String,default:"children"},fileIcon:{type:String,default:"el-icon-file"},folderIcon:{type:String,default:"el-icon-folder"},remote:{type:Function,default:null},allRemote:{type:Boolean,default:!1},indentSize:{type:Number,default:14},expandAll:{type:Boolean,default:!1},expandKey:{type:String,default:"expanded"}};function s(t,e){return parseInt(e.row[t.props.levelKey])*parseInt(t.props.indentSize.toString())+"px"}function a(t,e){var i=e.store.states._treeRowLoading,n=t.props.treeKey,r=e.row;return i.map(function(t){return t[n]}).filter(function(t){return t==r[n]}).length>0}function l(t,e){var i=e.store.states._treeRowExpanded,n=t.props.treeKey,r=e.row;return i.map(function(t){return t[n]}).filter(function(t){return t==r[n]}).length>0}function h(t,e,i){return e.data.scopedSlots&&e.data.scopedSlots.default?e.data.scopedSlots.default(i):e.props.formatter?t("span",null,[e.props.formatter(i.row,i.column)]):t("span",null,[i.row[e.props.prop]])}var u=function(t){return JSON.parse(JSON.stringify(t))},c=function(t,e){for(var i=-1,n=0;n<e.length;n++)if(e[n]==t){i=n;break}return i},d=function(t,e,i){var n=t.props.treeKey,r=e.store.states;r._treeCachedExpanded=r._treeCachedExpanded.filter(function(t){return t[n]!=e.row[n]}),i?r._treeRowExpanded=r._treeRowExpanded.filter(function(t){return t[n]!=e.row[n]}):r._treeRowExpanded.push(e.row)},p=function(t,e,i){var n=t.props.treeKey;i?e.store.states._treeRowLoading=e.store.states._treeRowLoading.filter(function(t){return t[n]!=e.row[n]}):e.store.states._treeRowLoading.push(e.row)},f=function(t,e,i){var n=e.store.table;e.store.states;n.store.commit("setData",i)},m=function(t,e,i){var n=-1,r=t.props.treeKey;return i.forEach(function(t,i){t[r]==e.row[r]&&(n=i)}),n},g=function(t,e,i){var n=t.props,r=n.parentKey,o=n.treeKey,s=e.store.states,a=function(t,e,i,n){for(var r=[],o=[t],s=-1;s!=o.length;)s=o.length,e.forEach(function(t){c(t[i],o)>-1&&-1==c(t[n],o)&&(r.push(t[n]),o.push(t[n]))});return r}(e.row[o],i,r,o);i=i.filter(function(t){return!a.some(function(e){return e==t[o]})});var l=s._treeRowExpanded.filter(function(t){return a.some(function(e){return e==t[o]})}),h=s._treeCachedExpanded;l.forEach(function(t){h.some(function(e){return e[o]==t[o]})||s._treeCachedExpanded.push(t)}),s._treeRowExpanded=s._treeRowExpanded.filter(function(t){return!a.some(function(e){return e==t[o]})}),f(0,e,i)},v=function(t,e,i,n){void 0===n&&(n=!1);for(var r=u(e.store.states._data),o=m(t,e,r),s=r.slice(0,o+1),a=0;a<o+1;)r.shift(),a++;return n&&(s[o][t.props.childKey]=i),r=s.concat(i).concat(r)},A=function(t,e,i){var n=t.props,r=(n.treeKey,n.remote);p(t,e,!1);f(0,e,i),r(e.row,function(i){var n,r=t.props.childNumKey;if(p(t,e,!0),i&&i.length>0){var o=!t.props.allRemote;n=v(t,e,i,o)}else(n=u(e.store.states._data))[m(t,e,n)][r]=0;f(0,e,n)})},y=function(t,e,i){var n=t.props.childKey;i=v(t,e,e.row[n]),f(0,e,i)};function x(t,e){var i=u(e.store.states._data),n=t.props.childKey;if(!a(t,e)){var r=l(t,e);if(d(t,e,r),r)return g(t,e,i);var o=t.props,s=o.remote,h=o.allRemote;return s&&h?A(t,e,i):e.row[n]?y(t,e,i):s?A(t,e,i):void y(t,e,i)}}var b=new(function(){function t(){this.Injected={}}return t.prototype.isInjected=function(t){return this.Injected[t.store.table.tableId]},t.prototype.Inject=function(t){this.isInjected(t)||(this.Injected[t.store.table.tableId]=!0,t.store.states._treeRowExpanded=[],t.store.states._treeRowLoading=[],t.store.states._treeCachedExpanded=[],t.store.states._treeInitedExpanded=[])},t}()),C=function(t,e,i){return function(t,e){if(t.props.expandAll&&!e.store.states._treeInitedExpanded.some(function(i){return i==e.row[t.props.treeKey]}))return e.store.states._treeInitedExpanded.push(e.row[t.props.treeKey]),!0;var i=t.props.expandKey,n=e.row;if(i&&n[i]&&!e.store.states._treeInitedExpanded.some(function(e){return e==n[t.props.treeKey]}))return e.store.states._treeInitedExpanded.push(e.row[t.props.treeKey]),!0;var r=function(t,e){var i=e.store.states._treeCachedExpanded,n=t.props.treeKey,r=e.row;return i.map(function(t){return t[n]}).filter(function(t){return t==r[n]}).length>0}(t,e);return r&&function(t,e){var i=e.store.states._treeCachedExpanded,n=t.props.treeKey,r=e.row;e.store.states._treeCachedExpanded=i.filter(function(t){return t[n]!=r[n]})}(t,e),r}(e,i)&&setTimeout(function(){x(e,i)},15),t("span",{on:{click:function(t){t.preventDefault(),x(e,i)}}},[t("span",{style:{paddingLeft:s(e,i)}},[t("i",{class:function(t,e){return a(e,t)?"el-icon-loading":l(e,t)?"el-icon-caret-bottom":"el-icon-caret-right"}(i,e)},[]),t("i",{class:function(t,e){var i=t.props.folderIcon,n=t.props.folderIcon+"-open";return l(t,e)?n:i}(e,i)},[])]),h(t,e,i)])},w=function(t,e,i){return b.Inject(i),function(t,e){var i=t.props,n=i.childNumKey,r=i.childKey,o=e.row;return void 0!=o[n]?o[n]>0:void 0!=o[r]&&o[r].length>0}(e,i)?C(t,e,i):function(t,e,i){return t("span",{style:{paddingLeft:s(e,i)}},[t("i",{class:e.props.fileIcon},[]),h(t,e,i)])}(t,e,i)},E={name:"el-table-tree-column",functional:!0,props:o,render:function(t,e){var i={};return Object.keys(e.props).map(function(t){i[t]=e.props[t]}),t("el-table-column",[{attrs:i},{scopedSlots:{default:function(i){return w(t,e,i)}}}].reduce(function(t,e){var i,o,s,a,l;for(s in e)if(i=t[s],o=e[s],i&&n.test(s))if("class"===s&&("string"==typeof i&&(l=i,t[s]=i={},i[l]=!0),"string"==typeof o&&(l=o,e[s]=o={},o[l]=!0)),"on"===s||"nativeOn"===s||"hook"===s)for(a in o)i[a]=r(i[a],o[a]);else if(Array.isArray(i))t[s]=i.concat(o);else if(Array.isArray(o))t[s]=[i].concat(o);else for(a in o)i[a]=o[a];else t[s]=e[s];return t},{}),[])}};"undefined"!=typeof window&&window.Vue&&window.Vue.component("el-table-tree-column",E),t.exports=E},R4wc:function(t,e,i){var n=i("kM2E");n(n.S+n.F,"Object",{assign:i("To3L")})},R9M2:function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},RDoK:function(t,e,i){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=116)}({0:function(t,e,i){"use strict";function n(t,e,i,n,r,o,s,a){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),n&&(h.functional=!0),o&&(h._scopeId="data-v-"+o),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},h._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return n})},116:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"el-radio",class:[t.border&&t.radioSize?"el-radio--"+t.radioSize:"",{"is-disabled":t.isDisabled},{"is-focus":t.focus},{"is-bordered":t.border},{"is-checked":t.model===t.label}],attrs:{role:"radio","aria-checked":t.model===t.label,"aria-disabled":t.isDisabled,tabindex:t.tabIndex},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.stopPropagation(),e.preventDefault(),t.model=t.isDisabled?t.model:t.label}}},[i("span",{staticClass:"el-radio__input",class:{"is-disabled":t.isDisabled,"is-checked":t.model===t.label}},[i("span",{staticClass:"el-radio__inner"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],ref:"radio",staticClass:"el-radio__original",attrs:{type:"radio","aria-hidden":"true",name:t.name,disabled:t.isDisabled,tabindex:"-1"},domProps:{value:t.label,checked:t._q(t.model,t.label)},on:{focus:function(e){t.focus=!0},blur:function(e){t.focus=!1},change:[function(e){t.model=t.label},t.handleChange]}})]),i("span",{staticClass:"el-radio__label",on:{keydown:function(t){t.stopPropagation()}}},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2)])};n._withStripped=!0;var r=i(4),o={name:"ElRadio",mixins:[i.n(r).a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElRadio",props:{value:{},label:{},disabled:Boolean,name:String,border:Boolean,size:String},data:function(){return{focus:!1}},computed:{isGroup:function(){for(var t=this.$parent;t;){if("ElRadioGroup"===t.$options.componentName)return this._radioGroup=t,!0;t=t.$parent}return!1},model:{get:function(){return this.isGroup?this._radioGroup.value:this.value},set:function(t){this.isGroup?this.dispatch("ElRadioGroup","input",[t]):this.$emit("input",t),this.$refs.radio&&(this.$refs.radio.checked=this.model===this.label)}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},radioSize:function(){var t=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._radioGroup.radioGroupSize||t},isDisabled:function(){return this.isGroup?this._radioGroup.disabled||this.disabled||(this.elForm||{}).disabled:this.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this.isGroup&&this.model!==this.label?-1:0}},methods:{handleChange:function(){var t=this;this.$nextTick(function(){t.$emit("change",t.model),t.isGroup&&t.dispatch("ElRadioGroup","handleChange",t.model)})}}},s=i(0),a=Object(s.a)(o,n,[],!1,null,null,null);a.options.__file="packages/radio/src/radio.vue";var l=a.exports;l.install=function(t){t.component(l.name,l)};e.default=l},4:function(t,e){t.exports=i("fPll")}})},RPLV:function(t,e,i){var n=i("7KvD").document;t.exports=n&&n.documentElement},"RY/4":function(t,e,i){var n=i("R9M2"),r=i("dSzd")("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?i:o?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},Rrel:function(t,e,i){var n=i("TcQ7"),r=i("n0T6").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(n(t))}},S82l:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},STLj:function(t,e,i){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=53)}({0:function(t,e,i){"use strict";function n(t,e,i,n,r,o,s,a){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),n&&(h.functional=!0),o&&(h._scopeId="data-v-"+o),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},h._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return n})},3:function(t,e){t.exports=i("ylDJ")},34:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:t.itemSelected,"is-disabled":t.disabled||t.groupDisabled||t.limitReached,hover:t.hover},on:{mouseenter:t.hoverItem,click:function(e){return e.stopPropagation(),t.selectOptionClick(e)}}},[t._t("default",[i("span",[t._v(t._s(t.currentLabel))])])],2)};n._withStripped=!0;var r=i(4),o=i.n(r),s=i(3),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l={mixins:[o.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(t,e){var i=this.select,n=i.remote,r=i.valueKey;if(!this.created&&!n){if(r&&"object"===(void 0===t?"undefined":a(t))&&"object"===(void 0===e?"undefined":a(e))&&t[r]===e[r])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(t,e){if(this.isObject){var i=this.select.valueKey;return Object(s.getValueByPath)(t,i)===Object(s.getValueByPath)(e,i)}return t===e},contains:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if(this.isObject){var i=this.select.valueKey;return t&&t.some(function(t){return Object(s.getValueByPath)(t,i)===Object(s.getValueByPath)(e,i)})}return t&&t.indexOf(e)>-1},handleGroupDisabled:function(t){this.groupDisabled=t},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(t){this.visible=new RegExp(Object(s.escapeRegexpString)(t),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var t=this.select,e=t.selected,i=t.multiple?e:[e],n=this.select.cachedOptions.indexOf(this),r=i.indexOf(this);n>-1&&r<0&&this.select.cachedOptions.splice(n,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},h=i(0),u=Object(h.a)(l,n,[],!1,null,null,null);u.options.__file="packages/select/src/option.vue";e.a=u.exports},4:function(t,e){t.exports=i("fPll")},53:function(t,e,i){"use strict";i.r(e);var n=i(34);n.a.install=function(t){t.component(n.a.name,n.a)},e.default=n.a}})},SXzR:function(t,e,i){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=74)}({0:function(t,e,i){"use strict";function n(t,e,i,n,r,o,s,a){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),n&&(h.functional=!0),o&&(h._scopeId="data-v-"+o),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},h._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return n})},2:function(t,e){t.exports=i("2kvA")},3:function(t,e){t.exports=i("ylDJ")},5:function(t,e){t.exports=i("fKx3")},7:function(t,e){t.exports=i("7+uW")},74:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("transition",{attrs:{name:t.transition},on:{"after-enter":t.handleAfterEnter,"after-leave":t.handleAfterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.disabled&&t.showPopper,expression:"!disabled && showPopper"}],ref:"popper",staticClass:"el-popover el-popper",class:[t.popperClass,t.content&&"el-popover--plain"],style:{width:t.width+"px"},attrs:{role:"tooltip",id:t.tooltipId,"aria-hidden":t.disabled||!t.showPopper?"true":"false"}},[t.title?i("div",{staticClass:"el-popover__title",domProps:{textContent:t._s(t.title)}}):t._e(),t._t("default",[t._v(t._s(t.content))])],2)]),t._t("reference")],2)};n._withStripped=!0;var r=i(5),o=i.n(r),s=i(2),a=i(3),l={name:"ElPopover",mixins:[o.a],props:{trigger:{type:String,default:"click",validator:function(t){return["click","focus","hover","manual"].indexOf(t)>-1}},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:200},title:String,disabled:Boolean,content:String,reference:{},popperClass:String,width:{},visibleArrow:{default:!0},arrowOffset:{type:Number,default:0},transition:{type:String,default:"fade-in-linear"},tabindex:{type:Number,default:0}},computed:{tooltipId:function(){return"el-popover-"+Object(a.generateId)()}},watch:{showPopper:function(t){this.disabled||(t?this.$emit("show"):this.$emit("hide"))}},mounted:function(){var t=this,e=this.referenceElm=this.reference||this.$refs.reference,i=this.popper||this.$refs.popper;!e&&this.$slots.reference&&this.$slots.reference[0]&&(e=this.referenceElm=this.$slots.reference[0].elm),e&&(Object(s.addClass)(e,"el-popover__reference"),e.setAttribute("aria-describedby",this.tooltipId),e.setAttribute("tabindex",this.tabindex),i.setAttribute("tabindex",0),"click"!==this.trigger&&(Object(s.on)(e,"focusin",function(){t.handleFocus();var i=e.__vue__;i&&"function"==typeof i.focus&&i.focus()}),Object(s.on)(i,"focusin",this.handleFocus),Object(s.on)(e,"focusout",this.handleBlur),Object(s.on)(i,"focusout",this.handleBlur)),Object(s.on)(e,"keydown",this.handleKeydown),Object(s.on)(e,"click",this.handleClick)),"click"===this.trigger?(Object(s.on)(e,"click",this.doToggle),Object(s.on)(document,"click",this.handleDocumentClick)):"hover"===this.trigger?(Object(s.on)(e,"mouseenter",this.handleMouseEnter),Object(s.on)(i,"mouseenter",this.handleMouseEnter),Object(s.on)(e,"mouseleave",this.handleMouseLeave),Object(s.on)(i,"mouseleave",this.handleMouseLeave)):"focus"===this.trigger&&(this.tabindex<0&&console.warn("[Element Warn][Popover]a negative taindex means that the element cannot be focused by tab key"),e.querySelector("input, textarea")?(Object(s.on)(e,"focusin",this.doShow),Object(s.on)(e,"focusout",this.doClose)):(Object(s.on)(e,"mousedown",this.doShow),Object(s.on)(e,"mouseup",this.doClose)))},beforeDestroy:function(){this.cleanup()},deactivated:function(){this.cleanup()},methods:{doToggle:function(){this.showPopper=!this.showPopper},doShow:function(){this.showPopper=!0},doClose:function(){this.showPopper=!1},handleFocus:function(){Object(s.addClass)(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!0)},handleClick:function(){Object(s.removeClass)(this.referenceElm,"focusing")},handleBlur:function(){Object(s.removeClass)(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!1)},handleMouseEnter:function(){var t=this;clearTimeout(this._timer),this.openDelay?this._timer=setTimeout(function(){t.showPopper=!0},this.openDelay):this.showPopper=!0},handleKeydown:function(t){27===t.keyCode&&"manual"!==this.trigger&&this.doClose()},handleMouseLeave:function(){var t=this;clearTimeout(this._timer),this.closeDelay?this._timer=setTimeout(function(){t.showPopper=!1},this.closeDelay):this.showPopper=!1},handleDocumentClick:function(t){var e=this.reference||this.$refs.reference,i=this.popper||this.$refs.popper;!e&&this.$slots.reference&&this.$slots.reference[0]&&(e=this.referenceElm=this.$slots.reference[0].elm),this.$el&&e&&!this.$el.contains(t.target)&&!e.contains(t.target)&&i&&!i.contains(t.target)&&(this.showPopper=!1)},handleAfterEnter:function(){this.$emit("after-enter")},handleAfterLeave:function(){this.$emit("after-leave"),this.doDestroy()},cleanup:function(){(this.openDelay||this.closeDelay)&&clearTimeout(this._timer)}},destroyed:function(){var t=this.reference;Object(s.off)(t,"click",this.doToggle),Object(s.off)(t,"mouseup",this.doClose),Object(s.off)(t,"mousedown",this.doShow),Object(s.off)(t,"focusin",this.doShow),Object(s.off)(t,"focusout",this.doClose),Object(s.off)(t,"mousedown",this.doShow),Object(s.off)(t,"mouseup",this.doClose),Object(s.off)(t,"mouseleave",this.handleMouseLeave),Object(s.off)(t,"mouseenter",this.handleMouseEnter),Object(s.off)(document,"click",this.handleDocumentClick)}},h=i(0),u=Object(h.a)(l,n,[],!1,null,null,null);u.options.__file="packages/popover/src/main.vue";var c=u.exports,d=function(t,e,i){var n=e.expression?e.value:e.arg,r=i.context.$refs[n];r&&(Array.isArray(r)?r[0].$refs.reference=t:r.$refs.reference=t)},p={bind:function(t,e,i){d(t,e,i)},inserted:function(t,e,i){d(t,e,i)}},f=i(7);i.n(f).a.directive("popover",p),c.install=function(t){t.directive("popover",p),t.component(c.name,c)},c.directive=p;e.default=c}})},SfB7:function(t,e,i){t.exports=!i("+E39")&&!i("S82l")(function(){return 7!=Object.defineProperty(i("ON07")("div"),"a",{get:function(){return 7}}).a})},SvnF:function(t,e,i){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t){return function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];return 1===i.length&&"object"===n(i[0])&&(i=i[0]),i&&i.hasOwnProperty||(i={}),t.replace(o,function(e,n,o,s){var a=void 0;return"{"===t[s-1]&&"}"===t[s+e.length]?o:null===(a=(0,r.hasOwn)(i,o)?i[o]:null)||void 0===a?"":a})}};var r=i("ylDJ"),o=/(%|)\{([0-9a-zA-Z_]+)\}/g},TcQ7:function(t,e,i){var n=i("MU5D"),r=i("52gC");t.exports=function(t){return n(r(t))}},To3L:function(t,e,i){"use strict";var n=i("lktj"),r=i("1kS7"),o=i("NpIQ"),s=i("sB3e"),a=i("MU5D"),l=Object.assign;t.exports=!l||i("S82l")(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=l({},t)[i]||Object.keys(l({},e)).join("")!=n})?function(t,e){for(var i=s(t),l=arguments.length,h=1,u=r.f,c=o.f;l>h;)for(var d,p=a(arguments[h++]),f=u?n(p).concat(u(p)):n(p),m=f.length,g=0;m>g;)c.call(p,d=f[g++])&&(i[d]=p[d]);return i}:l},UuGF:function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},V3tA:function(t,e,i){i("R4wc"),t.exports=i("FeBl").Object.assign},"VU/8":function(t,e){t.exports=function(t,e,i,n,r,o){var s,a=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(s=t,a=t.default);var h,u="function"==typeof a?a.options:a;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),i&&(u.functional=!0),r&&(u._scopeId=r),o?(h=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=h):n&&(h=n),h){var c=u.functional,d=c?u.render:u.beforeCreate;c?(u._injectStyles=h,u.render=function(t,e){return h.call(e),d(t,e)}):u.beforeCreate=d?[].concat(d,h):[h]}return{esModule:s,exports:a,options:u}}},Vi3T:function(t,e,i){"use strict";e.__esModule=!0,e.default={el:{colorpicker:{confirm:"",clear:""},datepicker:{now:"",today:"",cancel:"",clear:"",confirm:"",selectDate:"",selectTime:"",startDate:"",startTime:"",endDate:"",endTime:"",prevYear:"",nextYear:"",prevMonth:"",nextMonth:"",year:"",month1:"1 ",month2:"2 ",month3:"3 ",month4:"4 ",month5:"5 ",month6:"6 ",month7:"7 ",month8:"8 ",month9:"9 ",month10:"10 ",month11:"11 ",month12:"12 ",weeks:{sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},months:{jan:"",feb:"",mar:"",apr:"",may:"",jun:"",jul:"",aug:"",sep:"",oct:"",nov:"",dec:""}},select:{loading:"",noMatch:"",noData:"",placeholder:""},cascader:{noMatch:"",loading:"",placeholder:"",noData:""},pagination:{goto:"",pagesize:"/",total:" {total} ",pageClassifier:""},messagebox:{title:"",confirm:"",cancel:"",error:"!"},upload:{deleteTip:" delete ",delete:"",preview:"",continue:""},table:{emptyText:"",confirmFilter:"",resetFilter:"",clearFilter:"",sumText:""},tree:{emptyText:""},transfer:{noMatch:"",noData:"",titles:[" 1"," 2"],filterPlaceholder:"",noCheckedFormat:" {total} ",hasCheckedFormat:" {checked}/{total} "},image:{error:""},pageHeader:{title:""},popconfirm:{confirmButtonText:"",cancelButtonText:""}}}},X8DO:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},Xc4G:function(t,e,i){var n=i("lktj"),r=i("1kS7"),o=i("NpIQ");t.exports=function(t){var e=n(t),i=r.f;if(i)for(var s,a=i(t),l=o.f,h=0;a.length>h;)l.call(t,s=a[h++])&&e.push(s);return e}},Y5mS:function(t,e,i){"use strict";var n,r=i("lFkc");r.canUseDOM&&(n=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""))
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */,t.exports=function(t,e){if(!r.canUseDOM||e&&!("addEventListener"in document))return!1;var i="on"+t,o=i in document;if(!o){var s=document.createElement("div");s.setAttribute(i,"return;"),o="function"==typeof s[i]}return!o&&n&&"wheel"===t&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}},YAhB:function(t,e,i){"use strict";var n=i("++K3"),r=i("Y5mS"),o=10,s=40,a=800;function l(t){var e=0,i=0,n=0,r=0;return"detail"in t&&(i=t.detail),"wheelDelta"in t&&(i=-t.wheelDelta/120),"wheelDeltaY"in t&&(i=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=i,i=0),n=e*o,r=i*o,"deltaY"in t&&(r=t.deltaY),"deltaX"in t&&(n=t.deltaX),(n||r)&&t.deltaMode&&(1==t.deltaMode?(n*=s,r*=s):(n*=a,r*=a)),n&&!e&&(e=n<1?-1:1),r&&!i&&(i=r<1?-1:1),{spinX:e,spinY:i,pixelX:n,pixelY:r}}l.getEventType=function(){return n.firefox()?"DOMMouseScroll":r("wheel")?"wheel":"mousewheel"},t.exports=l},Yobk:function(t,e,i){var n=i("77Pl"),r=i("qio6"),o=i("xnc9"),s=i("ax3d")("IE_PROTO"),a=function(){},l=function(){var t,e=i("ON07")("iframe"),n=o.length;for(e.style.display="none",i("RPLV").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[o[n]];return l()};t.exports=Object.create||function(t,e){var i;return null!==t?(a.prototype=n(t),i=new a,a.prototype=null,i[s]=t):i=l(),void 0===e?i:r(i,e)}},Zcwg:function(t,e,i){"use strict";e.__esModule=!0;var n=i("2kvA");var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.beforeEnter=function(t){(0,n.addClass)(t,"collapse-transition"),t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height="0",t.style.paddingTop=0,t.style.paddingBottom=0},t.prototype.enter=function(t){t.dataset.oldOverflow=t.style.overflow,0!==t.scrollHeight?(t.style.height=t.scrollHeight+"px",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom):(t.style.height="",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom),t.style.overflow="hidden"},t.prototype.afterEnter=function(t){(0,n.removeClass)(t,"collapse-transition"),t.style.height="",t.style.overflow=t.dataset.oldOverflow},t.prototype.beforeLeave=function(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.height=t.scrollHeight+"px",t.style.overflow="hidden"},t.prototype.leave=function(t){0!==t.scrollHeight&&((0,n.addClass)(t,"collapse-transition"),t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0)},t.prototype.afterLeave=function(t){(0,n.removeClass)(t,"collapse-transition"),t.style.height="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},t}();e.default={name:"ElCollapseTransition",functional:!0,render:function(t,e){var i=e.children;return t("transition",{on:new r},i)}}},Zzip:function(t,e,i){t.exports={default:i("/n6Q"),__esModule:!0}},aMwW:function(t,e,i){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=131)}({131:function(t,e,i){"use strict";i.r(e);var n=i(5),r=i.n(n),o=i(17),s=i.n(o),a=i(2),l=i(3),h=i(7),u=i.n(h),c={name:"ElTooltip",mixins:[r.a],props:{openDelay:{type:Number,default:0},disabled:Boolean,manual:Boolean,effect:{type:String,default:"dark"},arrowOffset:{type:Number,default:0},popperClass:String,content:String,visibleArrow:{default:!0},transition:{type:String,default:"el-fade-in-linear"},popperOptions:{default:function(){return{boundariesPadding:10,gpuAcceleration:!1}}},enterable:{type:Boolean,default:!0},hideAfter:{type:Number,default:0},tabindex:{type:Number,default:0}},data:function(){return{tooltipId:"el-tooltip-"+Object(l.generateId)(),timeoutPending:null,focusing:!1}},beforeCreate:function(){var t=this;this.$isServer||(this.popperVM=new u.a({data:{node:""},render:function(t){return this.node}}).$mount(),this.debounceClose=s()(200,function(){return t.handleClosePopper()}))},render:function(t){var e=this;this.popperVM&&(this.popperVM.node=t("transition",{attrs:{name:this.transition},on:{afterLeave:this.doDestroy}},[t("div",{on:{mouseleave:function(){e.setExpectedState(!1),e.debounceClose()},mouseenter:function(){e.setExpectedState(!0)}},ref:"popper",attrs:{role:"tooltip",id:this.tooltipId,"aria-hidden":this.disabled||!this.showPopper?"true":"false"},directives:[{name:"show",value:!this.disabled&&this.showPopper}],class:["el-tooltip__popper","is-"+this.effect,this.popperClass]},[this.$slots.content||this.content])]));var i=this.getFirstElement();if(!i)return null;var n=i.data=i.data||{};return n.staticClass=this.addTooltipClass(n.staticClass),i},mounted:function(){var t=this;this.referenceElm=this.$el,1===this.$el.nodeType&&(this.$el.setAttribute("aria-describedby",this.tooltipId),this.$el.setAttribute("tabindex",this.tabindex),Object(a.on)(this.referenceElm,"mouseenter",this.show),Object(a.on)(this.referenceElm,"mouseleave",this.hide),Object(a.on)(this.referenceElm,"focus",function(){if(t.$slots.default&&t.$slots.default.length){var e=t.$slots.default[0].componentInstance;e&&e.focus?e.focus():t.handleFocus()}else t.handleFocus()}),Object(a.on)(this.referenceElm,"blur",this.handleBlur),Object(a.on)(this.referenceElm,"click",this.removeFocusing)),this.value&&this.popperVM&&this.popperVM.$nextTick(function(){t.value&&t.updatePopper()})},watch:{focusing:function(t){t?Object(a.addClass)(this.referenceElm,"focusing"):Object(a.removeClass)(this.referenceElm,"focusing")}},methods:{show:function(){this.setExpectedState(!0),this.handleShowPopper()},hide:function(){this.setExpectedState(!1),this.debounceClose()},handleFocus:function(){this.focusing=!0,this.show()},handleBlur:function(){this.focusing=!1,this.hide()},removeFocusing:function(){this.focusing=!1},addTooltipClass:function(t){return t?"el-tooltip "+t.replace("el-tooltip",""):"el-tooltip"},handleShowPopper:function(){var t=this;this.expectedState&&!this.manual&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.showPopper=!0},this.openDelay),this.hideAfter>0&&(this.timeoutPending=setTimeout(function(){t.showPopper=!1},this.hideAfter)))},handleClosePopper:function(){this.enterable&&this.expectedState||this.manual||(clearTimeout(this.timeout),this.timeoutPending&&clearTimeout(this.timeoutPending),this.showPopper=!1,this.disabled&&this.doDestroy())},setExpectedState:function(t){!1===t&&clearTimeout(this.timeoutPending),this.expectedState=t},getFirstElement:function(){var t=this.$slots.default;if(!Array.isArray(t))return null;for(var e=null,i=0;i<t.length;i++)t[i]&&t[i].tag&&(e=t[i]);return e}},beforeDestroy:function(){this.popperVM&&this.popperVM.$destroy()},destroyed:function(){var t=this.referenceElm;1===t.nodeType&&(Object(a.off)(t,"mouseenter",this.show),Object(a.off)(t,"mouseleave",this.hide),Object(a.off)(t,"focus",this.handleFocus),Object(a.off)(t,"blur",this.handleBlur),Object(a.off)(t,"click",this.removeFocusing))},install:function(t){t.component(c.name,c)}};e.default=c},17:function(t,e){t.exports=i("ON3O")},2:function(t,e){t.exports=i("2kvA")},3:function(t,e){t.exports=i("ylDJ")},5:function(t,e){t.exports=i("fKx3")},7:function(t,e){t.exports=i("7+uW")}})},aW5l:function(t,e,i){"use strict";e.__esModule=!0;i("ylDJ");e.default={mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}},ax3d:function(t,e,i){var n=i("e8AB")("keys"),r=i("3Eo+");t.exports=function(t){return n[t]||(n[t]=r(t))}},"c/Tr":function(t,e,i){t.exports={default:i("5zde"),__esModule:!0}},crlp:function(t,e,i){var n=i("7KvD"),r=i("FeBl"),o=i("O4g8"),s=i("Kh4W"),a=i("evD5").f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},d64e:function(t,e,i){var n;n=function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=6)}([function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var i=this[e];i[2]?t.push("@media "+i[2]+"{"+i[1]+"}"):t.push(i[1])}return t.join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&n[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),t.push(s))}},t}},function(t,e){t.exports=function(t,e,i,n,r){var o,s=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(o=t,s=t.default);var l,h="function"==typeof s?s.options:s;if(e&&(h.render=e.render,h.staticRenderFns=e.staticRenderFns),n&&(h._scopeId=n),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},h._ssrRegister=l):i&&(l=i),l){var u=h.functional,c=u?h.render:h.beforeCreate;u?h.render=function(t,e){return l.call(e),c(t,e)}:h.beforeCreate=c?[].concat(c,l):[l]}return{esModule:o,exports:s,options:h}}},function(t,e,i){function n(t){for(var e=0;e<t.length;e++){var i=t[e],n=h[i.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](i.parts[r]);for(;r<i.parts.length;r++)n.parts.push(o(i.parts[r]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{var s=[];for(r=0;r<i.parts.length;r++)s.push(o(i.parts[r]));h[i.id]={id:i.id,refs:1,parts:s}}}}function r(){var t=document.createElement("style");return t.type="text/css",u.appendChild(t),t}function o(t){var e,i,n=document.querySelector("style["+g+'~="'+t.id+'"]');if(n){if(p)return f;n.parentNode.removeChild(n)}if(v){var o=d++;n=c||(c=r()),e=s.bind(null,n,o,!1),i=s.bind(null,n,o,!0)}else n=r(),e=function(t,e){var i=e.css,n=e.media,r=e.sourceMap;if(n&&t.setAttribute("media",n),m.ssrId&&t.setAttribute(g,e.id),r&&(i+="\n/*# sourceURL="+r.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,n),i=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else i()}}function s(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=A(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l=i(14),h={},u=a&&(document.head||document.getElementsByTagName("head")[0]),c=null,d=0,p=!1,f=function(){},m=null,g="data-vue-ssr-id",v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,i,r){p=i,m=r||{};var o=l(t,e);return n(o),function(e){for(var i=[],r=0;r<o.length;r++){var s=o[r];(a=h[s.id]).refs--,i.push(a)}e?n(o=l(t,e)):o=[];for(r=0;r<i.length;r++){var a;if(0===(a=i[r]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete h[a.id]}}}};var A=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e,i){var n=i(1)(i(5),i(10),function(t){i(12)},"data-v-1931f86e",null);t.exports=n.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"tree-child-component",props:["itemchildren","float"],methods:{fnHandler:function(t){this.$emit("childhandler",t)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),r=i.n(n);e.default={name:"context-menu-component",components:{Tree:r.a},data:function(){return{floatDirection:"float-statue-1"}},props:{contextMenuData:{type:Object,requred:!1,default:function(){return{menuName:null,axis:{x:null,y:null},menulists:[{fnHandler:"",icoName:"",btnName:""}]}}},transferIndex:{type:Number,default:0}},watch:{"contextMenuData.axis":function(t){var e=t.x,i=t.y,n=window.innerWidth,r=window.innerHeight,o=this.transferIndex,s="vue-contextmenuName-"+this.contextMenuData.menuName,a=document.getElementsByClassName(s)[o];a.style.display="block";var l=30*this.contextMenuData.menulists.length;a.style.top=(i+l>r?r-l:i)+"px",a.style.left=(e+150>n?n-150:e)+"px",document.addEventListener("mouseup",function(t){0===t.button&&(a.style.display="none")},!1),e+300>n&&i+2*l>r&&(this.floatDirection="float-status-4"),e+300<n&&i+2*l>r&&(this.floatDirection="float-status-1"),e+300>n&&i+2*l<r&&(this.floatDirection="float-status-3"),e+300<n&&i+2*l<r&&(this.floatDirection="float-status-2")}},methods:{fnHandler:function(t){this.$emit(t.fnHandler)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=i.n(n),o={install:function(t){t.component("VueContextMenu",r.a)}};e.default=o},function(t,e,i){(t.exports=i(0)()).push([t.i,".vue-contextmenu-listWrapper[data-v-1931f86e]{display:none;position:fixed;z-index:9999;background:#fff;top:0;left:0;border-radius:2px;box-shadow:0 2px 2px 0 #ccc;font-family:Courier New,Courier,monospace;font-size:12px}.vue-contextmenu-listWrapper .context-menu-list[data-v-1931f86e]{position:relative;background:#fff;text-decoration:none;list-style:none;margin:3px 0}.context-menu-list[data-v-1931f86e]:hover{background:#2894f8}.context-menu-list .has-child[data-v-1931f86e]{position:relative;cursor:pointer;padding:5px 10px}.context-menu-list:hover>.has-child>.child-ul-wrapper[data-v-1931f86e]{display:block}.parent-name .icon[data-v-1931f86e]{position:absolute;display:block;top:4px;right:0;border-top:4px solid transparent;border-left:8px solid #111;border-bottom:4px solid transparent;border-right:4px solid transparent}.no-child-btn[data-v-1931f86e]{padding:5px 10px;cursor:pointer}.nav-icon-fontawe[data-v-1931f86e]{position:absolute;left:0}.nav-name-right[data-v-1931f86e]{margin:0 20px;height:16px;line-height:16px;display:block}.no-allow[data-v-1931f86e]{color:#d3cfcf;cursor:not-allowed}.btn-wrapper-simple[data-v-1931f86e]{position:relative;height:16px;line-height:16px}",""])},function(t,e,i){(t.exports=i(0)()).push([t.i,".float-status-1[data-v-65699d5f]{left:100%;bottom:-1px;z-index:10001}.float-status-2[data-v-65699d5f]{left:100%;top:-1px;z-index:10001}.float-status-3[data-v-65699d5f]{right:100%;top:-1px;z-index:10001}.float-status-4[data-v-65699d5f]{right:100%;bottom:-1px;z-index:10001}.child-ul-wrapper .has-child[data-v-65699d5f]{padding:5px 10px;position:relative}li[data-v-65699d5f]{list-style:none}.parent-name .icon[data-v-65699d5f]{position:absolute;display:block;top:4px;right:0;border-top:4px solid transparent;border-left:8px solid #111;border-bottom:4px solid transparent;border-right:4px solid transparent}.no-child-btn[data-v-65699d5f]{padding:5px 10px}.child-ul-wrapper[data-v-65699d5f]{background:#fff;position:absolute;display:none;border:1px solid #e8e8e8;border-radius:3px}.child-li-wrapper:hover>.has-child>.child-ul-wrapper[data-v-65699d5f]{display:block}.child-li-wrapper[data-v-65699d5f]:hover,.context-menu-list[data-v-65699d5f]:hover{background:#2894f8}.nav-icon-fontawe[data-v-65699d5f]{position:absolute}.nav-name-right[data-v-65699d5f]{white-space:nowrap;display:block;margin:auto 20px}.btn-wrapper-simple[data-v-65699d5f]{position:relative;height:16px;line-height:16px}",""])},function(t,e,i){var n=i(1)(i(4),i(11),function(t){i(13)},"data-v-65699d5f",null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"vue-contextmenu-listWrapper",class:"vue-contextmenuName-"+t.contextMenuData.menuName,on:{contextmenu:function(t){t.stopPropagation()}}},t._l(t.contextMenuData.menulists,function(e){return i("li",{key:e.btnName,staticClass:"context-menu-list"},[e.children&&e.children.length>0?i("div",{staticClass:"has-child"},[i("div",{staticClass:"parent-name btn-wrapper-simple",class:{"no-allow":!!e.disabled&&e.disabled}},[i("i",{staticClass:"nav-icon-fontawe",class:e.icoName?e.icoName:""}),t._v(" "),i("span",{staticClass:"nav-name-right"},[t._v(t._s(e.btnName))]),t._v(" "),i("i",{staticClass:"icon"})]),t._v(" "),i("Tree",{attrs:{itemchildren:e.children,float:t.floatDirection},on:{childhandler:t.fnHandler}})],1):i("div",[i("div",{staticClass:"no-child-btn btn-wrapper-simple",class:{"no-allow":!!e.disabled&&e.disabled},on:{click:function(i){i.stopPropagation(),!0===e.disabled||t.fnHandler(e)}}},[i("i",{staticClass:"nav-icon-fontawe",class:e.icoName?e.icoName:""}),t._v(" "),i("span",{staticClass:"nav-name-right"},[t._v(t._s(e.btnName))])])])])}),0)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"child-ul-wrapper",class:t.float},t._l(t.itemchildren,function(e){return i("li",{key:e.name,staticClass:"child-li-wrapper"},[e.children&&e.children.length>0?i("div",{staticClass:"has-child"},[i("div",{staticClass:"parent-name btn-wrapper-simple"},[i("i",{staticClass:"nav-icon-fontawe",class:e.icoName?e.icoName:""}),t._v(" "),i("span",{staticClass:"nav-name-right"},[t._v(t._s(e.btnName))]),t._v(" "),i("i",{staticClass:"icon"})]),t._v(" "),i("tree-child-component",{attrs:{itemchildren:e.children,float:t.float},on:{childhandler:t.fnHandler}})],1):i("div",[i("div",{staticClass:"no-child-btn btn-wrapper-simple",on:{click:function(i){return i.stopPropagation(),t.fnHandler(e)}}},[i("i",{staticClass:"nav-icon-fontawe",class:e.icoName?e.icoName:""}),t._v(" "),i("span",{staticClass:"nav-name-right"},[t._v(t._s(e.btnName))])])])])}),0)},staticRenderFns:[]}},function(t,e,i){var n=i(7);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),i(2)("6b12b0a8",n,!0,{})},function(t,e,i){var n=i(8);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),i(2)("007c7502",n,!0,{})},function(t,e){t.exports=function(t,e){for(var i=[],n={},r=0;r<e.length;r++){var o=e[r],s=o[0],a={id:t+":"+r,css:o[1],media:o[2],sourceMap:o[3]};n[s]?n[s].parts.push(a):i.push(n[s]={id:s,parts:[a]})}return i}}])},t.exports=n()},dSzd:function(t,e,i){var n=i("e8AB")("wks"),r=i("3Eo+"),o=i("7KvD").Symbol,s="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=n},dXij:function(t,e,i){t.exports={default:i("E/TR"),__esModule:!0}},dY0y:function(t,e,i){var n=i("dSzd")("iterator"),r=!1;try{var o=[7][n]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var o=[7],s=o[n]();s.next=function(){return{done:i=!0}},o[n]=function(){return s},t(o)}catch(t){}return i}},e0Bm:function(t,e,i){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=61)}([function(t,e,i){"use strict";function n(t,e,i,n,r,o,s,a){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),n&&(h.functional=!0),o&&(h._scopeId="data-v-"+o),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},h._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return n})},,,function(t,e){t.exports=i("ylDJ")},function(t,e){t.exports=i("fPll")},function(t,e){t.exports=i("fKx3")},function(t,e){t.exports=i("y+7x")},,,,function(t,e){t.exports=i("HJMx")},,function(t,e){t.exports=i("ISYW")},,function(t,e){t.exports=i("fEB+")},,function(t,e){t.exports=i("02w1")},function(t,e){t.exports=i("ON3O")},,function(t,e){t.exports=i("urW8")},,function(t,e){t.exports=i("E/in")},function(t,e){t.exports=i("1oZe")},,,,,,,,,function(t,e){t.exports=i("zTCi")},,,function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:t.itemSelected,"is-disabled":t.disabled||t.groupDisabled||t.limitReached,hover:t.hover},on:{mouseenter:t.hoverItem,click:function(e){return e.stopPropagation(),t.selectOptionClick(e)}}},[t._t("default",[i("span",[t._v(t._s(t.currentLabel))])])],2)};n._withStripped=!0;var r=i(4),o=i.n(r),s=i(3),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l={mixins:[o.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(t,e){var i=this.select,n=i.remote,r=i.valueKey;if(!this.created&&!n){if(r&&"object"===(void 0===t?"undefined":a(t))&&"object"===(void 0===e?"undefined":a(e))&&t[r]===e[r])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(t,e){if(this.isObject){var i=this.select.valueKey;return Object(s.getValueByPath)(t,i)===Object(s.getValueByPath)(e,i)}return t===e},contains:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if(this.isObject){var i=this.select.valueKey;return t&&t.some(function(t){return Object(s.getValueByPath)(t,i)===Object(s.getValueByPath)(e,i)})}return t&&t.indexOf(e)>-1},handleGroupDisabled:function(t){this.groupDisabled=t},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(t){this.visible=new RegExp(Object(s.escapeRegexpString)(t),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var t=this.select,e=t.selected,i=t.multiple?e:[e],n=this.select.cachedOptions.indexOf(this),r=i.indexOf(this);n>-1&&r<0&&this.select.cachedOptions.splice(n,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},h=i(0),u=Object(h.a)(l,n,[],!1,null,null,null);u.options.__file="packages/select/src/option.vue";e.a=u.exports},,,,function(t,e){t.exports=i("orbS")},,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],staticClass:"el-select",class:[t.selectSize?"el-select--"+t.selectSize:""],on:{click:function(e){return e.stopPropagation(),t.toggleMenu(e)}}},[t.multiple?i("div",{ref:"tags",staticClass:"el-select__tags",style:{"max-width":t.inputWidth-32+"px",width:"100%"}},[t.collapseTags&&t.selected.length?i("span",[i("el-tag",{attrs:{closable:!t.selectDisabled,size:t.collapseTagSize,hit:t.selected[0].hitState,type:"info","disable-transitions":""},on:{close:function(e){t.deleteTag(e,t.selected[0])}}},[i("span",{staticClass:"el-select__tags-text"},[t._v(t._s(t.selected[0].currentLabel))])]),t.selected.length>1?i("el-tag",{attrs:{closable:!1,size:t.collapseTagSize,type:"info","disable-transitions":""}},[i("span",{staticClass:"el-select__tags-text"},[t._v("+ "+t._s(t.selected.length-1))])]):t._e()],1):t._e(),t.collapseTags?t._e():i("transition-group",{on:{"after-leave":t.resetInputHeight}},t._l(t.selected,function(e){return i("el-tag",{key:t.getValueKey(e),attrs:{closable:!t.selectDisabled,size:t.collapseTagSize,hit:e.hitState,type:"info","disable-transitions":""},on:{close:function(i){t.deleteTag(i,e)}}},[i("span",{staticClass:"el-select__tags-text"},[t._v(t._s(e.currentLabel))])])}),1),t.filterable?i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"input",staticClass:"el-select__input",class:[t.selectSize?"is-"+t.selectSize:""],style:{"flex-grow":"1",width:t.inputLength/(t.inputWidth-32)+"%","max-width":t.inputWidth-42+"px"},attrs:{type:"text",disabled:t.selectDisabled,autocomplete:t.autoComplete||t.autocomplete},domProps:{value:t.query},on:{focus:t.handleFocus,blur:function(e){t.softFocus=!1},keyup:t.managePlaceholder,keydown:[t.resetInputState,function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault(),t.navigateOptions("next")},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault(),t.navigateOptions("prev")},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.selectOption(e)):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation(),e.preventDefault(),t.visible=!1},function(e){return"button"in e||!t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?t.deletePrevTag(e):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key,"Tab"))return null;t.visible=!1}],compositionstart:t.handleComposition,compositionupdate:t.handleComposition,compositionend:t.handleComposition,input:[function(e){e.target.composing||(t.query=e.target.value)},t.debouncedQueryChange]}}):t._e()],1):t._e(),i("el-input",{ref:"reference",class:{"is-focus":t.visible},attrs:{type:"text",placeholder:t.currentPlaceholder,name:t.name,id:t.id,autocomplete:t.autoComplete||t.autocomplete,size:t.selectSize,disabled:t.selectDisabled,readonly:t.readonly,"validate-event":!1,tabindex:t.multiple&&t.filterable?"-1":null},on:{focus:t.handleFocus,blur:t.handleBlur},nativeOn:{keyup:function(e){return t.debouncedOnInputChange(e)},keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.stopPropagation(),e.preventDefault(),t.navigateOptions("next")},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.stopPropagation(),e.preventDefault(),t.navigateOptions("prev")},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.selectOption(e)):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation(),e.preventDefault(),t.visible=!1},function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key,"Tab"))return null;t.visible=!1}],paste:function(e){return t.debouncedOnInputChange(e)},mouseenter:function(e){t.inputHovering=!0},mouseleave:function(e){t.inputHovering=!1}},model:{value:t.selectedLabel,callback:function(e){t.selectedLabel=e},expression:"selectedLabel"}},[t.$slots.prefix?i("template",{slot:"prefix"},[t._t("prefix")],2):t._e(),i("template",{slot:"suffix"},[i("i",{directives:[{name:"show",rawName:"v-show",value:!t.showClose,expression:"!showClose"}],class:["el-select__caret","el-input__icon","el-icon-"+t.iconClass]}),t.showClose?i("i",{staticClass:"el-select__caret el-input__icon el-icon-circle-close",on:{click:t.handleClearClick}}):t._e()])],2),i("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":t.handleMenuEnter,"after-leave":t.doDestroy}},[i("el-select-menu",{directives:[{name:"show",rawName:"v-show",value:t.visible&&!1!==t.emptyText,expression:"visible && emptyText !== false"}],ref:"popper",attrs:{"append-to-body":t.popperAppendToBody}},[i("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:t.options.length>0&&!t.loading,expression:"options.length > 0 && !loading"}],ref:"scrollbar",class:{"is-empty":!t.allowCreate&&t.query&&0===t.filteredOptionsCount},attrs:{tag:"ul","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list"}},[t.showNewOption?i("el-option",{attrs:{value:t.query,created:""}}):t._e(),t._t("default")],2),t.emptyText&&(!t.allowCreate||t.loading||t.allowCreate&&0===t.options.length)?[t.$slots.empty?t._t("empty"):i("p",{staticClass:"el-select-dropdown__empty"},[t._v("\n          "+t._s(t.emptyText)+"\n        ")])]:t._e()],2)],1)],1)};n._withStripped=!0;var r=i(4),o=i.n(r),s=i(22),a=i.n(s),l=i(6),h=i.n(l),u=i(10),c=i.n(u),d=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-select-dropdown el-popper",class:[{"is-multiple":this.$parent.multiple},this.popperClass],style:{minWidth:this.minWidth}},[this._t("default")],2)};d._withStripped=!0;var p=i(5),f={name:"ElSelectDropdown",componentName:"ElSelectDropdown",mixins:[i.n(p).a],props:{placement:{default:"bottom-start"},boundariesPadding:{default:0},popperOptions:{default:function(){return{gpuAcceleration:!1}}},visibleArrow:{default:!0},appendToBody:{type:Boolean,default:!0}},data:function(){return{minWidth:""}},computed:{popperClass:function(){return this.$parent.popperClass}},watch:{"$parent.inputWidth":function(){this.minWidth=this.$parent.$el.getBoundingClientRect().width+"px"}},mounted:function(){var t=this;this.referenceElm=this.$parent.$refs.reference.$el,this.$parent.popperElm=this.popperElm=this.$el,this.$on("updatePopper",function(){t.$parent.visible&&t.updatePopper()}),this.$on("destroyPopper",this.destroyPopper)}},m=i(0),g=Object(m.a)(f,d,[],!1,null,null,null);g.options.__file="packages/select/src/select-dropdown.vue";var v=g.exports,A=i(34),y=i(38),x=i.n(y),b=i(14),C=i.n(b),w=i(17),E=i.n(w),S=i(12),T=i.n(S),_=i(16),M=i(19),k=i(31),B=i.n(k),O=i(3),P=i(21),L={mixins:[o.a,h.a,a()("reference"),{data:function(){return{hoverOption:-1}},computed:{optionsAllDisabled:function(){return this.options.filter(function(t){return t.visible}).every(function(t){return t.disabled})}},watch:{hoverIndex:function(t){var e=this;"number"==typeof t&&t>-1&&(this.hoverOption=this.options[t]||{}),this.options.forEach(function(t){t.hover=e.hoverOption===t})}},methods:{navigateOptions:function(t){var e=this;if(this.visible){if(0!==this.options.length&&0!==this.filteredOptionsCount&&!this.optionsAllDisabled){"next"===t?(this.hoverIndex++,this.hoverIndex===this.options.length&&(this.hoverIndex=0)):"prev"===t&&(this.hoverIndex--,this.hoverIndex<0&&(this.hoverIndex=this.options.length-1));var i=this.options[this.hoverIndex];!0!==i.disabled&&!0!==i.groupDisabled&&i.visible||this.navigateOptions(t),this.$nextTick(function(){return e.scrollToOption(e.hoverOption)})}}else this.visible=!0}}}],name:"ElSelect",componentName:"ElSelect",inject:{elForm:{default:""},elFormItem:{default:""}},provide:function(){return{select:this}},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},readonly:function(){return!this.filterable||this.multiple||!Object(O.isIE)()&&!Object(O.isEdge)()&&!this.visible},showClose:function(){var t=this.multiple?Array.isArray(this.value)&&this.value.length>0:void 0!==this.value&&null!==this.value&&""!==this.value;return this.clearable&&!this.selectDisabled&&this.inputHovering&&t},iconClass:function(){return this.remote&&this.filterable?"":this.visible?"arrow-up is-reverse":"arrow-up"},debounce:function(){return this.remote?300:0},emptyText:function(){return this.loading?this.loadingText||this.t("el.select.loading"):(!this.remote||""!==this.query||0!==this.options.length)&&(this.filterable&&this.query&&this.options.length>0&&0===this.filteredOptionsCount?this.noMatchText||this.t("el.select.noMatch"):0===this.options.length?this.noDataText||this.t("el.select.noData"):null)},showNewOption:function(){var t=this,e=this.options.filter(function(t){return!t.created}).some(function(e){return e.currentLabel===t.query});return this.filterable&&this.allowCreate&&""!==this.query&&!e},selectSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},selectDisabled:function(){return this.disabled||(this.elForm||{}).disabled},collapseTagSize:function(){return["small","mini"].indexOf(this.selectSize)>-1?"mini":"small"}},components:{ElInput:c.a,ElSelectMenu:v,ElOption:A.a,ElTag:x.a,ElScrollbar:C.a},directives:{Clickoutside:T.a},props:{name:String,id:String,value:{required:!0},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(t){return!0}},automaticDropdown:Boolean,size:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:String,remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String,default:function(){return Object(M.t)("el.select.placeholder")}},defaultFirstOption:Boolean,reserveKeyword:Boolean,valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:!0}},data:function(){return{options:[],cachedOptions:[],createdLabel:null,createdSelected:!1,selected:this.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,cachedPlaceHolder:"",optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,currentPlaceholder:"",menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1}},watch:{selectDisabled:function(){var t=this;this.$nextTick(function(){t.resetInputHeight()})},placeholder:function(t){this.cachedPlaceHolder=this.currentPlaceholder=t},value:function(t,e){this.multiple&&(this.resetInputHeight(),t&&t.length>0||this.$refs.input&&""!==this.query?this.currentPlaceholder="":this.currentPlaceholder=this.cachedPlaceHolder,this.filterable&&!this.reserveKeyword&&(this.query="",this.handleQueryChange(this.query))),this.setSelected(),this.filterable&&!this.multiple&&(this.inputLength=20),Object(O.valueEquals)(t,e)||this.dispatch("ElFormItem","el.form.change",t)},visible:function(t){var e=this;t?(this.broadcast("ElSelectDropdown","updatePopper"),this.filterable&&(this.query=this.remote?"":this.selectedLabel,this.handleQueryChange(this.query),this.multiple?this.$refs.input.focus():(this.remote||(this.broadcast("ElOption","queryChange",""),this.broadcast("ElOptionGroup","queryChange")),this.selectedLabel&&(this.currentPlaceholder=this.selectedLabel,this.selectedLabel="")))):(this.broadcast("ElSelectDropdown","destroyPopper"),this.$refs.input&&this.$refs.input.blur(),this.query="",this.previousQuery=null,this.selectedLabel="",this.inputLength=20,this.menuVisibleOnFocus=!1,this.resetHoverIndex(),this.$nextTick(function(){e.$refs.input&&""===e.$refs.input.value&&0===e.selected.length&&(e.currentPlaceholder=e.cachedPlaceHolder)}),this.multiple||(this.selected&&(this.filterable&&this.allowCreate&&this.createdSelected&&this.createdLabel?this.selectedLabel=this.createdLabel:this.selectedLabel=this.selected.currentLabel,this.filterable&&(this.query=this.selectedLabel)),this.filterable&&(this.currentPlaceholder=this.cachedPlaceHolder))),this.$emit("visible-change",t)},options:function(){var t=this;if(!this.$isServer){this.$nextTick(function(){t.broadcast("ElSelectDropdown","updatePopper")}),this.multiple&&this.resetInputHeight();var e=this.$el.querySelectorAll("input");-1===[].indexOf.call(e,document.activeElement)&&this.setSelected(),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()}}},methods:{handleComposition:function(t){var e=this,i=t.target.value;if("compositionend"===t.type)this.isOnComposition=!1,this.$nextTick(function(t){return e.handleQueryChange(i)});else{var n=i[i.length-1]||"";this.isOnComposition=!Object(P.isKorean)(n)}},handleQueryChange:function(t){var e=this;this.previousQuery===t||this.isOnComposition||(null!==this.previousQuery||"function"!=typeof this.filterMethod&&"function"!=typeof this.remoteMethod?(this.previousQuery=t,this.$nextTick(function(){e.visible&&e.broadcast("ElSelectDropdown","updatePopper")}),this.hoverIndex=-1,this.multiple&&this.filterable&&this.$nextTick(function(){var t=15*e.$refs.input.value.length+20;e.inputLength=e.collapseTags?Math.min(50,t):t,e.managePlaceholder(),e.resetInputHeight()}),this.remote&&"function"==typeof this.remoteMethod?(this.hoverIndex=-1,this.remoteMethod(t)):"function"==typeof this.filterMethod?(this.filterMethod(t),this.broadcast("ElOptionGroup","queryChange")):(this.filteredOptionsCount=this.optionsCount,this.broadcast("ElOption","queryChange",t),this.broadcast("ElOptionGroup","queryChange")),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()):this.previousQuery=t)},scrollToOption:function(t){var e=Array.isArray(t)&&t[0]?t[0].$el:t.$el;if(this.$refs.popper&&e){var i=this.$refs.popper.$el.querySelector(".el-select-dropdown__wrap");B()(i,e)}this.$refs.scrollbar&&this.$refs.scrollbar.handleScroll()},handleMenuEnter:function(){var t=this;this.$nextTick(function(){return t.scrollToOption(t.selected)})},emitChange:function(t){Object(O.valueEquals)(this.value,t)||this.$emit("change",t)},getOption:function(t){for(var e=void 0,i="[object object]"===Object.prototype.toString.call(t).toLowerCase(),n="[object null]"===Object.prototype.toString.call(t).toLowerCase(),r="[object undefined]"===Object.prototype.toString.call(t).toLowerCase(),o=this.cachedOptions.length-1;o>=0;o--){var s=this.cachedOptions[o];if(i?Object(O.getValueByPath)(s.value,this.valueKey)===Object(O.getValueByPath)(t,this.valueKey):s.value===t){e=s;break}}if(e)return e;var a={value:t,currentLabel:i||n||r?"":t};return this.multiple&&(a.hitState=!1),a},setSelected:function(){var t=this;if(!this.multiple){var e=this.getOption(this.value);return e.created?(this.createdLabel=e.currentLabel,this.createdSelected=!0):this.createdSelected=!1,this.selectedLabel=e.currentLabel,this.selected=e,void(this.filterable&&(this.query=this.selectedLabel))}var i=[];Array.isArray(this.value)&&this.value.forEach(function(e){i.push(t.getOption(e))}),this.selected=i,this.$nextTick(function(){t.resetInputHeight()})},handleFocus:function(t){this.softFocus?this.softFocus=!1:((this.automaticDropdown||this.filterable)&&(this.visible=!0,this.filterable&&(this.menuVisibleOnFocus=!0)),this.$emit("focus",t))},blur:function(){this.visible=!1,this.$refs.reference.blur()},handleBlur:function(t){var e=this;setTimeout(function(){e.isSilentBlur?e.isSilentBlur=!1:e.$emit("blur",t)},50),this.softFocus=!1},handleClearClick:function(t){this.deleteSelected(t)},doDestroy:function(){this.$refs.popper&&this.$refs.popper.doDestroy()},handleClose:function(){this.visible=!1},toggleLastOptionHitState:function(t){if(Array.isArray(this.selected)){var e=this.selected[this.selected.length-1];if(e)return!0===t||!1===t?(e.hitState=t,t):(e.hitState=!e.hitState,e.hitState)}},deletePrevTag:function(t){if(t.target.value.length<=0&&!this.toggleLastOptionHitState()){var e=this.value.slice();e.pop(),this.$emit("input",e),this.emitChange(e)}},managePlaceholder:function(){""!==this.currentPlaceholder&&(this.currentPlaceholder=this.$refs.input.value?"":this.cachedPlaceHolder)},resetInputState:function(t){8!==t.keyCode&&this.toggleLastOptionHitState(!1),this.inputLength=15*this.$refs.input.value.length+20,this.resetInputHeight()},resetInputHeight:function(){var t=this;this.collapseTags&&!this.filterable||this.$nextTick(function(){if(t.$refs.reference){var e=t.$refs.reference.$el.childNodes,i=[].filter.call(e,function(t){return"INPUT"===t.tagName})[0],n=t.$refs.tags,r=t.initialInputHeight||40;i.style.height=0===t.selected.length?r+"px":Math.max(n?n.clientHeight+(n.clientHeight>r?6:0):0,r)+"px",t.visible&&!1!==t.emptyText&&t.broadcast("ElSelectDropdown","updatePopper")}})},resetHoverIndex:function(){var t=this;setTimeout(function(){t.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map(function(e){return t.options.indexOf(e)})):t.hoverIndex=-1:t.hoverIndex=t.options.indexOf(t.selected)},300)},handleOptionSelect:function(t,e){var i=this;if(this.multiple){var n=(this.value||[]).slice(),r=this.getValueIndex(n,t.value);r>-1?n.splice(r,1):(this.multipleLimit<=0||n.length<this.multipleLimit)&&n.push(t.value),this.$emit("input",n),this.emitChange(n),t.created&&(this.query="",this.handleQueryChange(""),this.inputLength=20),this.filterable&&this.$refs.input.focus()}else this.$emit("input",t.value),this.emitChange(t.value),this.visible=!1;this.isSilentBlur=e,this.setSoftFocus(),this.visible||this.$nextTick(function(){i.scrollToOption(t)})},setSoftFocus:function(){this.softFocus=!0;var t=this.$refs.input||this.$refs.reference;t&&t.focus()},getValueIndex:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if("[object object]"===Object.prototype.toString.call(e).toLowerCase()){var i=this.valueKey,n=-1;return t.some(function(t,r){return Object(O.getValueByPath)(t,i)===Object(O.getValueByPath)(e,i)&&(n=r,!0)}),n}return t.indexOf(e)},toggleMenu:function(){this.selectDisabled||(this.menuVisibleOnFocus?this.menuVisibleOnFocus=!1:this.visible=!this.visible,this.visible&&(this.$refs.input||this.$refs.reference).focus())},selectOption:function(){this.visible?this.options[this.hoverIndex]&&this.handleOptionSelect(this.options[this.hoverIndex]):this.toggleMenu()},deleteSelected:function(t){t.stopPropagation();var e=this.multiple?[]:"";this.$emit("input",e),this.emitChange(e),this.visible=!1,this.$emit("clear")},deleteTag:function(t,e){var i=this.selected.indexOf(e);if(i>-1&&!this.selectDisabled){var n=this.value.slice();n.splice(i,1),this.$emit("input",n),this.emitChange(n),this.$emit("remove-tag",e.value)}t.stopPropagation()},onInputChange:function(){this.filterable&&this.query!==this.selectedLabel&&(this.query=this.selectedLabel,this.handleQueryChange(this.query))},onOptionDestroy:function(t){t>-1&&(this.optionsCount--,this.filteredOptionsCount--,this.options.splice(t,1))},resetInputWidth:function(){this.inputWidth=this.$refs.reference.$el.getBoundingClientRect().width},handleResize:function(){this.resetInputWidth(),this.multiple&&this.resetInputHeight()},checkDefaultFirstOption:function(){this.hoverIndex=-1;for(var t=!1,e=this.options.length-1;e>=0;e--)if(this.options[e].created){t=!0,this.hoverIndex=e;break}if(!t)for(var i=0;i!==this.options.length;++i){var n=this.options[i];if(this.query){if(!n.disabled&&!n.groupDisabled&&n.visible){this.hoverIndex=i;break}}else if(n.itemSelected){this.hoverIndex=i;break}}},getValueKey:function(t){return"[object object]"!==Object.prototype.toString.call(t.value).toLowerCase()?t.value:Object(O.getValueByPath)(t.value,this.valueKey)}},created:function(){var t=this;this.cachedPlaceHolder=this.currentPlaceholder=this.placeholder,this.multiple&&!Array.isArray(this.value)&&this.$emit("input",[]),!this.multiple&&Array.isArray(this.value)&&this.$emit("input",""),this.debouncedOnInputChange=E()(this.debounce,function(){t.onInputChange()}),this.debouncedQueryChange=E()(this.debounce,function(e){t.handleQueryChange(e.target.value)}),this.$on("handleOptionClick",this.handleOptionSelect),this.$on("setSelected",this.setSelected)},mounted:function(){var t=this;this.multiple&&Array.isArray(this.value)&&this.value.length>0&&(this.currentPlaceholder=""),Object(_.addResizeListener)(this.$el,this.handleResize);var e=this.$refs.reference;if(e&&e.$el){var i=e.$el.querySelector("input");this.initialInputHeight=i.getBoundingClientRect().height||{medium:36,small:32,mini:28}[this.selectSize]}this.remote&&this.multiple&&this.resetInputHeight(),this.$nextTick(function(){e&&e.$el&&(t.inputWidth=e.$el.getBoundingClientRect().width)}),this.setSelected()},beforeDestroy:function(){this.$el&&this.handleResize&&Object(_.removeResizeListener)(this.$el,this.handleResize)}},N=Object(m.a)(L,n,[],!1,null,null,null);N.options.__file="packages/select/src/select.vue";var I=N.exports;I.install=function(t){t.component(I.name,I)};e.default=I}])},e6n0:function(t,e,i){var n=i("evD5").f,r=i("D2L2"),o=i("dSzd")("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},e8AB:function(t,e,i){var n=i("FeBl"),r=i("7KvD"),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:i("O4g8")?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},eMjc:function(t,e,i){
/*!
 * html2canvas 1.0.0-rc.5 <https://html2canvas.hertzen.com>
 * Copyright (c) 2019 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var n;n=function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};function e(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function n(t,e,i,n){return new(i||(i=Promise))(function(r,o){function s(t){try{l(n.next(t))}catch(t){o(t)}}function a(t){try{l(n.throw(t))}catch(t){o(t)}}function l(t){t.done?r(t.value):new i(function(e){e(t.value)}).then(s,a)}l((n=n.apply(t,e||[])).next())})}function r(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}for(var o=function(){function t(t,e,i,n){this.left=t,this.top=e,this.width=i,this.height=n}return t.prototype.add=function(e,i,n,r){return new t(this.left+e,this.top+i,this.width+n,this.height+r)},t.fromClientRect=function(e){return new t(e.left,e.top,e.width,e.height)},t}(),s=function(t){return o.fromClientRect(t.getBoundingClientRect())},a=function(t){for(var e=[],i=0,n=t.length;i<n;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<n){var o=t.charCodeAt(i++);56320==(64512&o)?e.push(((1023&r)<<10)+(1023&o)+65536):(e.push(r),i--)}else e.push(r)}return e},l=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var i=t.length;if(!i)return"";for(var n=[],r=-1,o="";++r<i;){var s=t[r];s<=65535?n.push(s):(s-=65536,n.push(55296+(s>>10),s%1024+56320)),(r+1===i||n.length>16384)&&(o+=String.fromCharCode.apply(String,n),n.length=0)}return o},h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u="undefined"==typeof Uint8Array?[]:new Uint8Array(256),c=0;c<h.length;c++)u[h.charCodeAt(c)]=c;var d,p=function(t,e,i){return t.slice?t.slice(e,i):new Uint16Array(Array.prototype.slice.call(t,e,i))},f=function(){function t(t,e,i,n,r,o){this.initialValue=t,this.errorValue=e,this.highStart=i,this.highValueIndex=n,this.index=r,this.data=o}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),m=10,g=13,v=15,A=17,y=18,x=19,b=20,C=21,w=22,E=24,S=25,T=26,_=27,M=28,k=30,B=32,O=33,P=34,L=35,N=37,I=38,D=39,R=40,F=42,H="!",U=function(t){var e,i,n,r=function(t){var e,i,n,r,o,s=.75*t.length,a=t.length,l=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var h="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),c=Array.isArray(h)?h:new Uint8Array(h);for(e=0;e<a;e+=4)i=u[t.charCodeAt(e)],n=u[t.charCodeAt(e+1)],r=u[t.charCodeAt(e+2)],o=u[t.charCodeAt(e+3)],c[l++]=i<<2|n>>4,c[l++]=(15&n)<<4|r>>2,c[l++]=(3&r)<<6|63&o;return h}(t),o=Array.isArray(r)?function(t){for(var e=t.length,i=[],n=0;n<e;n+=4)i.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return i}(r):new Uint32Array(r),s=Array.isArray(r)?function(t){for(var e=t.length,i=[],n=0;n<e;n+=2)i.push(t[n+1]<<8|t[n]);return i}(r):new Uint16Array(r),a=p(s,12,o[4]/2),l=2===o[5]?p(s,(24+o[4])/2):(e=o,i=Math.ceil((24+o[4])/4),e.slice?e.slice(i,n):new Uint32Array(Array.prototype.slice.call(e,i,n)));return new f(o[0],o[1],o[2],o[3],a,l)}("KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"),V=[k,36],j=[1,2,3,5],G=[m,8],z=[_,T],Q=j.concat(G),Y=[I,D,R,P,L],K=[v,g],X=function(t,e,i,n){var r=n[i];if(Array.isArray(t)?-1!==t.indexOf(r):t===r)for(var o=i;o<=n.length;){if((l=n[++o])===e)return!0;if(l!==m)break}if(r===m)for(o=i;o>0;){var s=n[--o];if(Array.isArray(t)?-1!==t.indexOf(s):t===s)for(var a=i;a<=n.length;){var l;if((l=n[++a])===e)return!0;if(l!==m)break}if(s!==m)break}return!1},$=function(t,e){for(var i=t;i>=0;){var n=e[i];if(n!==m)return n;i--}return 0},W=function(t,e,i,n,r){if(0===i[n])return"";var o=n-1;if(Array.isArray(r)&&!0===r[o])return"";var s=o-1,a=o+1,l=e[o],h=s>=0?e[s]:0,u=e[a];if(2===l&&3===u)return"";if(-1!==j.indexOf(l))return H;if(-1!==j.indexOf(u))return"";if(-1!==G.indexOf(u))return"";if(8===$(o,e))return"";if(11===U.get(t[o])&&(u===N||u===B||u===O))return"";if(7===l||7===u)return"";if(9===l)return"";if(-1===[m,g,v].indexOf(l)&&9===u)return"";if(-1!==[A,y,x,E,M].indexOf(u))return"";if($(o,e)===w)return"";if(X(23,w,o,e))return"";if(X([A,y],C,o,e))return"";if(X(12,12,o,e))return"";if(l===m)return"";if(23===l||23===u)return"";if(16===u||16===l)return"";if(-1!==[g,v,C].indexOf(u)||14===l)return"";if(36===h&&-1!==K.indexOf(l))return"";if(l===M&&36===u)return"";if(u===b&&-1!==V.concat(b,x,S,N,B,O).indexOf(l))return"";if(-1!==V.indexOf(u)&&l===S||-1!==V.indexOf(l)&&u===S)return"";if(l===_&&-1!==[N,B,O].indexOf(u)||-1!==[N,B,O].indexOf(l)&&u===T)return"";if(-1!==V.indexOf(l)&&-1!==z.indexOf(u)||-1!==z.indexOf(l)&&-1!==V.indexOf(u))return"";if(-1!==[_,T].indexOf(l)&&(u===S||-1!==[w,v].indexOf(u)&&e[a+1]===S)||-1!==[w,v].indexOf(l)&&u===S||l===S&&-1!==[S,M,E].indexOf(u))return"";if(-1!==[S,M,E,A,y].indexOf(u))for(var c=o;c>=0;){if((d=e[c])===S)return"";if(-1===[M,E].indexOf(d))break;c--}if(-1!==[_,T].indexOf(u))for(c=-1!==[A,y].indexOf(l)?s:o;c>=0;){var d;if((d=e[c])===S)return"";if(-1===[M,E].indexOf(d))break;c--}if(I===l&&-1!==[I,D,P,L].indexOf(u)||-1!==[D,P].indexOf(l)&&-1!==[D,R].indexOf(u)||-1!==[R,L].indexOf(l)&&u===R)return"";if(-1!==Y.indexOf(l)&&-1!==[b,T].indexOf(u)||-1!==Y.indexOf(u)&&l===_)return"";if(-1!==V.indexOf(l)&&-1!==V.indexOf(u))return"";if(l===E&&-1!==V.indexOf(u))return"";if(-1!==V.concat(S).indexOf(l)&&u===w||-1!==V.concat(S).indexOf(u)&&l===y)return"";if(41===l&&41===u){for(var p=i[o],f=1;p>0&&41===e[--p];)f++;if(f%2!=0)return""}return l===B&&u===O?"":""},q=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var i=function(t,e){void 0===e&&(e="strict");var i=[],n=[],r=[];return t.forEach(function(t,o){var s=U.get(t);if(s>50?(r.push(!0),s-=50):r.push(!1),-1!==["normal","auto","loose"].indexOf(e)&&-1!==[8208,8211,12316,12448].indexOf(t))return n.push(o),i.push(16);if(4===s||11===s){if(0===o)return n.push(o),i.push(k);var a=i[o-1];return-1===Q.indexOf(a)?(n.push(n[o-1]),i.push(a)):(n.push(o),i.push(k))}return n.push(o),31===s?i.push("strict"===e?C:N):s===F?i.push(k):29===s?i.push(k):43===s?t>=131072&&t<=196605||t>=196608&&t<=262141?i.push(N):i.push(k):void i.push(s)}),[n,i,r]}(t,e.lineBreak),n=i[0],r=i[1],o=i[2];return"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(r=r.map(function(t){return-1!==[S,k,F].indexOf(t)?N:t})),[n,r,"keep-all"===e.wordBreak?o.map(function(e,i){return e&&t[i]>=19968&&t[i]<=40959}):void 0]},J=function(){function t(t,e,i,n){this.codePoints=t,this.required=e===H,this.start=i,this.end=n}return t.prototype.slice=function(){return l.apply(void 0,this.codePoints.slice(this.start,this.end))},t}();!function(t){t[t.STRING_TOKEN=0]="STRING_TOKEN",t[t.BAD_STRING_TOKEN=1]="BAD_STRING_TOKEN",t[t.LEFT_PARENTHESIS_TOKEN=2]="LEFT_PARENTHESIS_TOKEN",t[t.RIGHT_PARENTHESIS_TOKEN=3]="RIGHT_PARENTHESIS_TOKEN",t[t.COMMA_TOKEN=4]="COMMA_TOKEN",t[t.HASH_TOKEN=5]="HASH_TOKEN",t[t.DELIM_TOKEN=6]="DELIM_TOKEN",t[t.AT_KEYWORD_TOKEN=7]="AT_KEYWORD_TOKEN",t[t.PREFIX_MATCH_TOKEN=8]="PREFIX_MATCH_TOKEN",t[t.DASH_MATCH_TOKEN=9]="DASH_MATCH_TOKEN",t[t.INCLUDE_MATCH_TOKEN=10]="INCLUDE_MATCH_TOKEN",t[t.LEFT_CURLY_BRACKET_TOKEN=11]="LEFT_CURLY_BRACKET_TOKEN",t[t.RIGHT_CURLY_BRACKET_TOKEN=12]="RIGHT_CURLY_BRACKET_TOKEN",t[t.SUFFIX_MATCH_TOKEN=13]="SUFFIX_MATCH_TOKEN",t[t.SUBSTRING_MATCH_TOKEN=14]="SUBSTRING_MATCH_TOKEN",t[t.DIMENSION_TOKEN=15]="DIMENSION_TOKEN",t[t.PERCENTAGE_TOKEN=16]="PERCENTAGE_TOKEN",t[t.NUMBER_TOKEN=17]="NUMBER_TOKEN",t[t.FUNCTION=18]="FUNCTION",t[t.FUNCTION_TOKEN=19]="FUNCTION_TOKEN",t[t.IDENT_TOKEN=20]="IDENT_TOKEN",t[t.COLUMN_TOKEN=21]="COLUMN_TOKEN",t[t.URL_TOKEN=22]="URL_TOKEN",t[t.BAD_URL_TOKEN=23]="BAD_URL_TOKEN",t[t.CDC_TOKEN=24]="CDC_TOKEN",t[t.CDO_TOKEN=25]="CDO_TOKEN",t[t.COLON_TOKEN=26]="COLON_TOKEN",t[t.SEMICOLON_TOKEN=27]="SEMICOLON_TOKEN",t[t.LEFT_SQUARE_BRACKET_TOKEN=28]="LEFT_SQUARE_BRACKET_TOKEN",t[t.RIGHT_SQUARE_BRACKET_TOKEN=29]="RIGHT_SQUARE_BRACKET_TOKEN",t[t.UNICODE_RANGE_TOKEN=30]="UNICODE_RANGE_TOKEN",t[t.WHITESPACE_TOKEN=31]="WHITESPACE_TOKEN",t[t.EOF_TOKEN=32]="EOF_TOKEN"}(d||(d={}));var Z=function(t){return t>=48&&t<=57},tt=function(t){return Z(t)||t>=65&&t<=70||t>=97&&t<=102},et=function(t){return 10===t||9===t||32===t},it=function(t){return function(t){return function(t){return t>=97&&t<=122}(t)||function(t){return t>=65&&t<=90}(t)}(t)||function(t){return t>=128}(t)||95===t},nt=function(t){return it(t)||Z(t)||45===t},rt=function(t){return t>=0&&t<=8||11===t||t>=14&&t<=31||127===t},ot=function(t,e){return 92===t&&10!==e},st=function(t,e,i){return 45===t?it(e)||ot(e,i):!!it(t)||!(92!==t||!ot(t,e))},at=function(t,e,i){return 43===t||45===t?!!Z(e)||46===e&&Z(i):Z(46===t?e:t)},lt={type:d.LEFT_PARENTHESIS_TOKEN},ht={type:d.RIGHT_PARENTHESIS_TOKEN},ut={type:d.COMMA_TOKEN},ct={type:d.SUFFIX_MATCH_TOKEN},dt={type:d.PREFIX_MATCH_TOKEN},pt={type:d.COLUMN_TOKEN},ft={type:d.DASH_MATCH_TOKEN},mt={type:d.INCLUDE_MATCH_TOKEN},gt={type:d.LEFT_CURLY_BRACKET_TOKEN},vt={type:d.RIGHT_CURLY_BRACKET_TOKEN},At={type:d.SUBSTRING_MATCH_TOKEN},yt={type:d.BAD_URL_TOKEN},xt={type:d.BAD_STRING_TOKEN},bt={type:d.CDO_TOKEN},Ct={type:d.CDC_TOKEN},wt={type:d.COLON_TOKEN},Et={type:d.SEMICOLON_TOKEN},St={type:d.LEFT_SQUARE_BRACKET_TOKEN},Tt={type:d.RIGHT_SQUARE_BRACKET_TOKEN},_t={type:d.WHITESPACE_TOKEN},Mt={type:d.EOF_TOKEN},kt=function(){function t(){this._value=[]}return t.prototype.write=function(t){this._value=this._value.concat(a(t))},t.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==Mt;)t.push(e),e=this.consumeToken();return t},t.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case 34:return this.consumeStringToken(34);case 35:var e=this.peekCodePoint(0),i=this.peekCodePoint(1),n=this.peekCodePoint(2);if(nt(e)||ot(i,n)){var r=st(e,i,n)?2:1,o=this.consumeName();return{type:d.HASH_TOKEN,value:o,flags:r}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ct;break;case 39:return this.consumeStringToken(39);case 40:return lt;case 41:return ht;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),At;break;case 43:if(at(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 44:return ut;case 45:var s=t,a=this.peekCodePoint(0),h=this.peekCodePoint(1);if(at(s,a,h))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(st(s,a,h))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(45===a&&62===h)return this.consumeCodePoint(),this.consumeCodePoint(),Ct;break;case 46:if(at(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(42===u&&47===(u=this.consumeCodePoint()))return this.consumeToken();if(-1===u)return this.consumeToken()}break;case 58:return wt;case 59:return Et;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),bt;break;case 64:var c=this.peekCodePoint(0),p=this.peekCodePoint(1),f=this.peekCodePoint(2);if(st(c,p,f)){o=this.consumeName();return{type:d.AT_KEYWORD_TOKEN,value:o}}break;case 91:return St;case 92:if(ot(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case 93:return Tt;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),dt;break;case 123:return gt;case 125:return vt;case 117:case 85:var m=this.peekCodePoint(0),g=this.peekCodePoint(1);return 43!==m||!tt(g)&&63!==g||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ft;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),pt;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),mt;break;case-1:return Mt}return et(t)?(this.consumeWhiteSpace(),_t):Z(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):it(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:d.DELIM_TOKEN,value:l(t)}},t.prototype.consumeCodePoint=function(){var t=this._value.shift();return void 0===t?-1:t},t.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},t.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},t.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();tt(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var i=!1;63===e&&t.length<6;)t.push(e),e=this.consumeCodePoint(),i=!0;if(i){var n=parseInt(l.apply(void 0,t.map(function(t){return 63===t?48:t})),16),r=parseInt(l.apply(void 0,t.map(function(t){return 63===t?70:t})),16);return{type:d.UNICODE_RANGE_TOKEN,start:n,end:r}}var o=parseInt(l.apply(void 0,t),16);if(45===this.peekCodePoint(0)&&tt(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var s=[];tt(e)&&s.length<6;)s.push(e),e=this.consumeCodePoint();r=parseInt(l.apply(void 0,s),16);return{type:d.UNICODE_RANGE_TOKEN,start:o,end:r}}return{type:d.UNICODE_RANGE_TOKEN,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return"url"===t.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:d.FUNCTION_TOKEN,value:t}):{type:d.IDENT_TOKEN,value:t}},t.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:d.URL_TOKEN,value:""};var e=this.peekCodePoint(0);if(39===e||34===e){var i=this.consumeStringToken(this.consumeCodePoint());return i.type===d.STRING_TOKEN&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:d.URL_TOKEN,value:i.value}):(this.consumeBadUrlRemnants(),yt)}for(;;){var n=this.consumeCodePoint();if(-1===n||41===n)return{type:d.URL_TOKEN,value:l.apply(void 0,t)};if(et(n))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:d.URL_TOKEN,value:l.apply(void 0,t)}):(this.consumeBadUrlRemnants(),yt);if(34===n||39===n||40===n||rt(n))return this.consumeBadUrlRemnants(),yt;if(92===n){if(!ot(n,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),yt;t.push(this.consumeEscapedCodePoint())}else t.push(n)}},t.prototype.consumeWhiteSpace=function(){for(;et(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(41===t||-1===t)return;ot(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(t){for(var e="";t>0;){var i=Math.min(6e4,t);e+=l.apply(void 0,this._value.splice(0,i)),t-=i}return this._value.shift(),e},t.prototype.consumeStringToken=function(t){for(var e="",i=0;;){var n=this._value[i];if(-1===n||void 0===n||n===t)return e+=this.consumeStringSlice(i),{type:d.STRING_TOKEN,value:e};if(10===n)return this._value.splice(0,i),xt;if(92===n){var r=this._value[i+1];-1!==r&&void 0!==r&&(10===r?(e+=this.consumeStringSlice(i),i=-1,this._value.shift()):ot(n,r)&&(e+=this.consumeStringSlice(i),e+=l(this.consumeEscapedCodePoint()),i=-1))}i++}},t.prototype.consumeNumber=function(){var t=[],e=4,i=this.peekCodePoint(0);for(43!==i&&45!==i||t.push(this.consumeCodePoint());Z(this.peekCodePoint(0));)t.push(this.consumeCodePoint());i=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(46===i&&Z(n))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;Z(this.peekCodePoint(0));)t.push(this.consumeCodePoint());i=this.peekCodePoint(0),n=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((69===i||101===i)&&((43===n||45===n)&&Z(r)||Z(n)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;Z(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[function(t){var e=0,i=1;43!==t[e]&&45!==t[e]||(45===t[e]&&(i=-1),e++);for(var n=[];Z(t[e]);)n.push(t[e++]);var r=n.length?parseInt(l.apply(void 0,n),10):0;46===t[e]&&e++;for(var o=[];Z(t[e]);)o.push(t[e++]);var s=o.length,a=s?parseInt(l.apply(void 0,o),10):0;69!==t[e]&&101!==t[e]||e++;var h=1;43!==t[e]&&45!==t[e]||(45===t[e]&&(h=-1),e++);for(var u=[];Z(t[e]);)u.push(t[e++]);var c=u.length?parseInt(l.apply(void 0,u),10):0;return i*(r+a*Math.pow(10,-s))*Math.pow(10,h*c)}(t),e]},t.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],i=t[1],n=this.peekCodePoint(0),r=this.peekCodePoint(1),o=this.peekCodePoint(2);if(st(n,r,o)){var s=this.consumeName();return{type:d.DIMENSION_TOKEN,number:e,flags:i,unit:s}}return 37===n?(this.consumeCodePoint(),{type:d.PERCENTAGE_TOKEN,number:e,flags:i}):{type:d.NUMBER_TOKEN,number:e,flags:i}},t.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(tt(t)){for(var e=l(t);tt(this.peekCodePoint(0))&&e.length<6;)e+=l(this.consumeCodePoint());et(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(e,16);return 0===i||function(t){return t>=55296&&t<=57343}(i)||i>1114111?65533:i}return-1===t?65533:t},t.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(nt(e))t+=l(e);else{if(!ot(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),t;t+=l(this.consumeEscapedCodePoint())}}},t}(),Bt=function(){function t(t){this._tokens=t}return t.create=function(e){var i=new kt;return i.write(e),new t(i.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===d.WHITESPACE_TOKEN;)t=this.consumeToken();if(t.type===d.EOF_TOKEN)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do{t=this.consumeToken()}while(t.type===d.WHITESPACE_TOKEN);if(t.type===d.EOF_TOKEN)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(e.type===d.EOF_TOKEN)return t;t.push(e),t.push()}},t.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case d.LEFT_CURLY_BRACKET_TOKEN:case d.LEFT_SQUARE_BRACKET_TOKEN:case d.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(t.type);case d.FUNCTION_TOKEN:return this.consumeFunction(t)}return t},t.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},i=this.consumeToken();;){if(i.type===d.EOF_TOKEN||Ht(i,t))return e;this.reconsumeToken(i),e.values.push(this.consumeComponentValue()),i=this.consumeToken()}},t.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:d.FUNCTION};;){var i=this.consumeToken();if(i.type===d.EOF_TOKEN||i.type===d.RIGHT_PARENTHESIS_TOKEN)return e;this.reconsumeToken(i),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var t=this._tokens.shift();return void 0===t?Mt:t},t.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},t}(),Ot=function(t){return t.type===d.DIMENSION_TOKEN},Pt=function(t){return t.type===d.NUMBER_TOKEN},Lt=function(t){return t.type===d.IDENT_TOKEN},Nt=function(t){return t.type===d.STRING_TOKEN},It=function(t,e){return Lt(t)&&t.value===e},Dt=function(t){return t.type!==d.WHITESPACE_TOKEN},Rt=function(t){return t.type!==d.WHITESPACE_TOKEN&&t.type!==d.COMMA_TOKEN},Ft=function(t){var e=[],i=[];return t.forEach(function(t){if(t.type===d.COMMA_TOKEN){if(0===i.length)throw new Error("Error parsing function args, zero tokens for arg");return e.push(i),void(i=[])}t.type!==d.WHITESPACE_TOKEN&&i.push(t)}),i.length&&e.push(i),e},Ht=function(t,e){return e===d.LEFT_CURLY_BRACKET_TOKEN&&t.type===d.RIGHT_CURLY_BRACKET_TOKEN||(e===d.LEFT_SQUARE_BRACKET_TOKEN&&t.type===d.RIGHT_SQUARE_BRACKET_TOKEN||e===d.LEFT_PARENTHESIS_TOKEN&&t.type===d.RIGHT_PARENTHESIS_TOKEN)},Ut=function(t){return t.type===d.NUMBER_TOKEN||t.type===d.DIMENSION_TOKEN},Vt=function(t){return t.type===d.PERCENTAGE_TOKEN||Ut(t)},jt=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Gt={type:d.NUMBER_TOKEN,number:0,flags:4},zt={type:d.PERCENTAGE_TOKEN,number:50,flags:4},Qt={type:d.PERCENTAGE_TOKEN,number:100,flags:4},Yt=function(t,e,i){var n=t[0],r=t[1];return[Kt(n,e),Kt(void 0!==r?r:n,i)]},Kt=function(t,e){if(t.type===d.PERCENTAGE_TOKEN)return t.number/100*e;if(Ot(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},Xt=function(t){if(t.type===d.DIMENSION_TOKEN)switch(t.unit){case"deg":return Math.PI*t.number/180;case"grad":return Math.PI/200*t.number;case"rad":return t.number;case"turn":return 2*Math.PI*t.number}throw new Error("Unsupported angle type")},$t=function(t){return t.type===d.DIMENSION_TOKEN&&("deg"===t.unit||"grad"===t.unit||"rad"===t.unit||"turn"===t.unit)},Wt=function(t){switch(t.filter(Lt).map(function(t){return t.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Gt,Gt];case"to top":case"bottom":return qt(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Gt,Qt];case"to right":case"left":return qt(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Qt,Qt];case"to bottom":case"top":return qt(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Qt,Gt];case"to left":case"right":return qt(270)}return 0},qt=function(t){return Math.PI*t/180},Jt=function(t){if(t.type===d.FUNCTION){var e=le[t.name];if(void 0===e)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return e(t.values)}if(t.type===d.HASH_TOKEN){if(3===t.value.length){var i=t.value.substring(0,1),n=t.value.substring(1,2),r=t.value.substring(2,3);return ee(parseInt(i+i,16),parseInt(n+n,16),parseInt(r+r,16),1)}if(4===t.value.length){i=t.value.substring(0,1),n=t.value.substring(1,2),r=t.value.substring(2,3);var o=t.value.substring(3,4);return ee(parseInt(i+i,16),parseInt(n+n,16),parseInt(r+r,16),parseInt(o+o,16)/255)}if(6===t.value.length){i=t.value.substring(0,2),n=t.value.substring(2,4),r=t.value.substring(4,6);return ee(parseInt(i,16),parseInt(n,16),parseInt(r,16),1)}if(8===t.value.length){i=t.value.substring(0,2),n=t.value.substring(2,4),r=t.value.substring(4,6),o=t.value.substring(6,8);return ee(parseInt(i,16),parseInt(n,16),parseInt(r,16),parseInt(o,16)/255)}}if(t.type===d.IDENT_TOKEN){var s=he[t.value.toUpperCase()];if(void 0!==s)return s}return he.TRANSPARENT},Zt=function(t){return 0==(255&t)},te=function(t){var e=255&t,i=255&t>>8,n=255&t>>16,r=255&t>>24;return e<255?"rgba("+r+","+n+","+i+","+e/255+")":"rgb("+r+","+n+","+i+")"},ee=function(t,e,i,n){return(t<<24|e<<16|i<<8|Math.round(255*n)<<0)>>>0},ie=function(t,e){if(t.type===d.NUMBER_TOKEN)return t.number;if(t.type===d.PERCENTAGE_TOKEN){var i=3===e?1:255;return 3===e?t.number/100*i:Math.round(t.number/100*i)}return 0},ne=function(t){var e=t.filter(Rt);if(3===e.length){var i=e.map(ie),n=i[0],r=i[1],o=i[2];return ee(n,r,o,1)}if(4===e.length){var s=e.map(ie),a=(n=s[0],r=s[1],o=s[2],s[3]);return ee(n,r,o,a)}return 0};function re(t,e,i){return i<0&&(i+=1),i>=1&&(i-=1),i<1/6?(e-t)*i*6+t:i<.5?e:i<2/3?6*(e-t)*(2/3-i)+t:t}var oe,se,ae=function(t){var e=t.filter(Rt),i=e[0],n=e[1],r=e[2],o=e[3],s=(i.type===d.NUMBER_TOKEN?qt(i.number):Xt(i))/(2*Math.PI),a=Vt(n)?n.number/100:0,l=Vt(r)?r.number/100:0,h=void 0!==o&&Vt(o)?Kt(o,1):1;if(0===a)return ee(255*l,255*l,255*l,1);var u=l<=.5?l*(a+1):l+a-l*a,c=2*l-u,p=re(c,u,s+1/3),f=re(c,u,s),m=re(c,u,s-1/3);return ee(255*p,255*f,255*m,h)},le={hsl:ae,hsla:ae,rgb:ne,rgba:ne},he={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};!function(t){t[t.VALUE=0]="VALUE",t[t.LIST=1]="LIST",t[t.IDENT_VALUE=2]="IDENT_VALUE",t[t.TYPE_VALUE=3]="TYPE_VALUE",t[t.TOKEN_VALUE=4]="TOKEN_VALUE"}(oe||(oe={})),function(t){t[t.BORDER_BOX=0]="BORDER_BOX",t[t.PADDING_BOX=1]="PADDING_BOX",t[t.CONTENT_BOX=2]="CONTENT_BOX"}(se||(se={}));var ue,ce={name:"background-clip",initialValue:"border-box",prefix:!1,type:oe.LIST,parse:function(t){return t.map(function(t){if(Lt(t))switch(t.value){case"padding-box":return se.PADDING_BOX;case"content-box":return se.CONTENT_BOX}return se.BORDER_BOX})}},de={name:"background-color",initialValue:"transparent",prefix:!1,type:oe.TYPE_VALUE,format:"color"},pe=function(t){var e=Jt(t[0]),i=t[1];return i&&Vt(i)?{color:e,stop:i}:{color:e,stop:null}},fe=function(t,e){var i=t[0],n=t[t.length-1];null===i.stop&&(i.stop=Gt),null===n.stop&&(n.stop=Qt);for(var r=[],o=0,s=0;s<t.length;s++){var a=t[s].stop;if(null!==a){var l=Kt(a,e);l>o?r.push(l):r.push(o),o=l}else r.push(null)}var h=null;for(s=0;s<r.length;s++){var u=r[s];if(null===u)null===h&&(h=s);else if(null!==h){for(var c=s-h,d=(u-r[h-1])/(c+1),p=1;p<=c;p++)r[h+p-1]=d*p;h=null}}return t.map(function(t,i){return{color:t.color,stop:Math.max(Math.min(1,r[i]/e),0)}})},me=function(t,e,i){var n="number"==typeof t?t:function(t,e,i){var n=e/2,r=i/2,o=Kt(t[0],e)-n,s=r-Kt(t[1],i);return(Math.atan2(s,o)+2*Math.PI)%(2*Math.PI)}(t,e,i),r=Math.abs(e*Math.sin(n))+Math.abs(i*Math.cos(n)),o=e/2,s=i/2,a=r/2,l=Math.sin(n-Math.PI/2)*a,h=Math.cos(n-Math.PI/2)*a;return[r,o-h,o+h,s-l,s+l]},ge=function(t,e){return Math.sqrt(t*t+e*e)},ve=function(t,e,i,n,r){return[[0,0],[0,e],[t,0],[t,e]].reduce(function(t,e){var o=e[0],s=e[1],a=ge(i-o,n-s);return(r?a<t.optimumDistance:a>t.optimumDistance)?{optimumCorner:e,optimumDistance:a}:t},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},Ae=function(t){var e=qt(180),i=[];return Ft(t).forEach(function(t,n){if(0===n){var r=t[0];if(r.type===d.IDENT_TOKEN&&-1!==["top","left","right","bottom"].indexOf(r.value))return void(e=Wt(t));if($t(r))return void(e=(Xt(r)+qt(270))%qt(360))}var o=pe(t);i.push(o)}),{angle:e,stops:i,type:ue.LINEAR_GRADIENT}},ye=function(t){return 0===t[0]&&255===t[1]&&0===t[2]&&255===t[3]},xe=function(t,e,i,n,r){var o="http://www.w3.org/2000/svg",s=document.createElementNS(o,"svg"),a=document.createElementNS(o,"foreignObject");return s.setAttributeNS(null,"width",t.toString()),s.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",i.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(a),a.appendChild(r),s},be=function(t){return new Promise(function(e,i){var n=new Image;n.onload=function(){return e(n)},n.onerror=i,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))})},Ce={get SUPPORT_RANGE_BOUNDS(){var t=function(t){if(t.createRange){var e=t.createRange();if(e.getBoundingClientRect){var i=t.createElement("boundtest");i.style.height="123px",i.style.display="block",t.body.appendChild(i),e.selectNode(i);var n=e.getBoundingClientRect(),r=Math.round(n.height);if(t.body.removeChild(i),123===r)return!0}}return!1}(document);return Object.defineProperty(Ce,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=function(t){var e=new Image,i=t.createElement("canvas"),n=i.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),i.toDataURL()}catch(t){return!1}return!0}(document);return Object.defineProperty(Ce,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t="function"==typeof Array.from&&"function"==typeof window.fetch?function(t){var e=t.createElement("canvas");e.width=100,e.height=100;var i=e.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,100,100);var n=new Image,r=e.toDataURL();n.src=r;var o=xe(100,100,0,0,n);return i.fillStyle="red",i.fillRect(0,0,100,100),be(o).then(function(e){i.drawImage(e,0,0);var n=i.getImageData(0,0,100,100).data;i.fillStyle="red",i.fillRect(0,0,100,100);var o=t.createElement("div");return o.style.backgroundImage="url("+r+")",o.style.height="100px",ye(n)?be(xe(100,100,0,0,o)):Promise.reject(!1)}).then(function(t){return i.drawImage(t,0,0),ye(i.getImageData(0,0,100,100).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(Ce,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=void 0!==(new Image).crossOrigin;return Object.defineProperty(Ce,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Ce,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ce,"SUPPORT_CORS_XHR",{value:t}),t}},we=function(){function t(t){var e=t.id,i=t.enabled;this.id=e,this.enabled=i,this.start=Date.now()}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,[this.id,this.getTime()+"ms"].concat(t)):this.info.apply(this,t))},t.prototype.getTime=function(){return Date.now()-this.start},t.create=function(e){t.instances[e.id]=new t(e)},t.destroy=function(e){delete t.instances[e]},t.getInstance=function(e){var i=t.instances[e];if(void 0===i)throw new Error("No logger instance found with id "+e);return i},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,[this.id,this.getTime()+"ms"].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,[this.id,this.getTime()+"ms"].concat(t)):this.info.apply(this,t))},t.instances={},t}(),Ee=function(){function t(){}return t.create=function(e,i){return t._caches[e]=new Se(e,i)},t.destroy=function(e){delete t._caches[e]},t.open=function(e){var i=t._caches[e];if(void 0!==i)return i;throw new Error('Cache with key "'+e+'" not found')},t.getOrigin=function(e){var i=t._link;return i?(i.href=e,i.href=i.href,i.protocol+i.hostname+i.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t.getInstance=function(){var e=t._current;if(null===e)throw new Error("No cache instance attached");return e},t.attachInstance=function(e){t._current=e},t.detachInstance=function(){t._current=null},t._caches={},t._origin="about:blank",t._current=null,t}(),Se=function(){function t(t,e){this.id=t,this._options=e,this._cache={}}return t.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)?e:Pe(t)||ke(t)?(this._cache[t]=this.loadImage(t),e):e},t.prototype.match=function(t){return this._cache[t]},t.prototype.loadImage=function(t){return n(this,void 0,void 0,function(){var e,i,n,o,s=this;return r(this,function(r){switch(r.label){case 0:return e=Ee.isSameOrigin(t),i=!Be(t)&&!0===this._options.useCORS&&Ce.SUPPORT_CORS_IMAGES&&!e,n=!Be(t)&&!e&&"string"==typeof this._options.proxy&&Ce.SUPPORT_CORS_XHR&&!i,e||!1!==this._options.allowTaint||Be(t)||n||i?(o=t,n?[4,this.proxy(o)]:[3,2]):[2];case 1:o=r.sent(),r.label=2;case 2:return we.getInstance(this.id).debug("Added image "+t.substring(0,256)),[4,new Promise(function(t,e){var n=new Image;n.onload=function(){return t(n)},n.onerror=e,(Oe(o)||i)&&(n.crossOrigin="anonymous"),n.src=o,!0===n.complete&&setTimeout(function(){return t(n)},500),s._options.imageTimeout>0&&setTimeout(function(){return e("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,r.sent()]}})})},t.prototype.has=function(t){return void 0!==this._cache[t]},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(t){var e=this,i=this._options.proxy;if(!i)throw new Error("No proxy defined");var n=t.substring(0,256);return new Promise(function(r,o){var s=Ce.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;if(a.onload=function(){if(200===a.status)if("text"===s)r(a.response);else{var t=new FileReader;t.addEventListener("load",function(){return r(t.result)},!1),t.addEventListener("error",function(t){return o(t)},!1),t.readAsDataURL(a.response)}else o("Failed to proxy resource "+n+" with status code "+a.status)},a.onerror=o,a.open("GET",i+"?url="+encodeURIComponent(t)+"&responseType="+s),"text"!==s&&a instanceof XMLHttpRequest&&(a.responseType=s),e._options.imageTimeout){var l=e._options.imageTimeout;a.timeout=l,a.ontimeout=function(){return o("Timed out ("+l+"ms) proxying "+n)}}a.send()})},t}(),Te=/^data:image\/svg\+xml/i,_e=/^data:image\/.*;base64,/i,Me=/^data:image\/.*/i,ke=function(t){return Ce.SUPPORT_SVG_DRAWING||!Le(t)},Be=function(t){return Me.test(t)},Oe=function(t){return _e.test(t)},Pe=function(t){return"blob"===t.substr(0,4)},Le=function(t){return"svg"===t.substr(-3).toLowerCase()||Te.test(t)},Ne=function(t){var e=Ie.CIRCLE,i=De.FARTHEST_CORNER,n=[],r=[];return Ft(t).forEach(function(t,o){var s=!0;if(0===o?s=t.reduce(function(t,e){if(Lt(e))switch(e.value){case"center":return r.push(zt),!1;case"top":case"left":return r.push(Gt),!1;case"right":case"bottom":return r.push(Qt),!1}else if(Vt(e)||Ut(e))return r.push(e),!1;return t},s):1===o&&(s=t.reduce(function(t,n){if(Lt(n))switch(n.value){case"circle":return e=Ie.CIRCLE,!1;case"ellipse":return e=Ie.ELLIPSE,!1;case"contain":case"closest-side":return i=De.CLOSEST_SIDE,!1;case"farthest-side":return i=De.FARTHEST_SIDE,!1;case"closest-corner":return i=De.CLOSEST_CORNER,!1;case"cover":case"farthest-corner":return i=De.FARTHEST_CORNER,!1}else if(Ut(n)||Vt(n))return Array.isArray(i)||(i=[]),i.push(n),!1;return t},s)),s){var a=pe(t);n.push(a)}}),{size:i,shape:e,stops:n,position:r,type:ue.RADIAL_GRADIENT}};!function(t){t[t.URL=0]="URL",t[t.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",t[t.RADIAL_GRADIENT=2]="RADIAL_GRADIENT"}(ue||(ue={}));var Ie,De;!function(t){t[t.CIRCLE=0]="CIRCLE",t[t.ELLIPSE=1]="ELLIPSE"}(Ie||(Ie={})),function(t){t[t.CLOSEST_SIDE=0]="CLOSEST_SIDE",t[t.FARTHEST_SIDE=1]="FARTHEST_SIDE",t[t.CLOSEST_CORNER=2]="CLOSEST_CORNER",t[t.FARTHEST_CORNER=3]="FARTHEST_CORNER"}(De||(De={}));var Re=function(t){if(t.type===d.URL_TOKEN){var e={url:t.value,type:ue.URL};return Ee.getInstance().addImage(t.value),e}if(t.type===d.FUNCTION){var i=He[t.name];if(void 0===i)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return i(t.values)}throw new Error("Unsupported image type")};var Fe,He={"linear-gradient":function(t){var e=qt(180),i=[];return Ft(t).forEach(function(t,n){if(0===n){var r=t[0];if(r.type===d.IDENT_TOKEN&&"to"===r.value)return void(e=Wt(t));if($t(r))return void(e=Xt(r))}var o=pe(t);i.push(o)}),{angle:e,stops:i,type:ue.LINEAR_GRADIENT}},"-moz-linear-gradient":Ae,"-ms-linear-gradient":Ae,"-o-linear-gradient":Ae,"-webkit-linear-gradient":Ae,"radial-gradient":function(t){var e=Ie.CIRCLE,i=De.FARTHEST_CORNER,n=[],r=[];return Ft(t).forEach(function(t,o){var s=!0;if(0===o){var a=!1;s=t.reduce(function(t,n){if(a)if(Lt(n))switch(n.value){case"center":return r.push(zt),t;case"top":case"left":return r.push(Gt),t;case"right":case"bottom":return r.push(Qt),t}else(Vt(n)||Ut(n))&&r.push(n);else if(Lt(n))switch(n.value){case"circle":return e=Ie.CIRCLE,!1;case"ellipse":return e=Ie.ELLIPSE,!1;case"at":return a=!0,!1;case"closest-side":return i=De.CLOSEST_SIDE,!1;case"cover":case"farthest-side":return i=De.FARTHEST_SIDE,!1;case"contain":case"closest-corner":return i=De.CLOSEST_CORNER,!1;case"farthest-corner":return i=De.FARTHEST_CORNER,!1}else if(Ut(n)||Vt(n))return Array.isArray(i)||(i=[]),i.push(n),!1;return t},s)}if(s){var l=pe(t);n.push(l)}}),{size:i,shape:e,stops:n,position:r,type:ue.RADIAL_GRADIENT}},"-moz-radial-gradient":Ne,"-ms-radial-gradient":Ne,"-o-radial-gradient":Ne,"-webkit-radial-gradient":Ne,"-webkit-gradient":function(t){var e=qt(180),i=[],n=ue.LINEAR_GRADIENT,r=Ie.CIRCLE,o=De.FARTHEST_CORNER;return Ft(t).forEach(function(t,e){var r=t[0];if(0===e){if(Lt(r)&&"linear"===r.value)return void(n=ue.LINEAR_GRADIENT);if(Lt(r)&&"radial"===r.value)return void(n=ue.RADIAL_GRADIENT)}if(r.type===d.FUNCTION)if("from"===r.name){var o=Jt(r.values[0]);i.push({stop:Gt,color:o})}else if("to"===r.name)o=Jt(r.values[0]),i.push({stop:Qt,color:o});else if("color-stop"===r.name){var s=r.values.filter(Rt);if(2===s.length){o=Jt(s[1]);var a=s[0];Pt(a)&&i.push({stop:{type:d.PERCENTAGE_TOKEN,number:100*a.number,flags:a.flags},color:o})}}}),n===ue.LINEAR_GRADIENT?{angle:(e+qt(180))%qt(360),stops:i,type:n}:{size:o,shape:r,stops:i,position:[],type:n}}},Ue={name:"background-image",initialValue:"none",type:oe.LIST,prefix:!1,parse:function(t){if(0===t.length)return[];var e=t[0];return e.type===d.IDENT_TOKEN&&"none"===e.value?[]:t.filter(function(t){return Rt(t)&&function(t){return t.type!==d.FUNCTION||He[t.name]}(t)}).map(Re)}},Ve={name:"background-origin",initialValue:"border-box",prefix:!1,type:oe.LIST,parse:function(t){return t.map(function(t){if(Lt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},je={name:"background-position",initialValue:"0% 0%",type:oe.LIST,prefix:!1,parse:function(t){return Ft(t).map(function(t){return t.filter(Vt)}).map(jt)}};!function(t){t[t.REPEAT=0]="REPEAT",t[t.NO_REPEAT=1]="NO_REPEAT",t[t.REPEAT_X=2]="REPEAT_X",t[t.REPEAT_Y=3]="REPEAT_Y"}(Fe||(Fe={}));var Ge,ze={name:"background-repeat",initialValue:"repeat",prefix:!1,type:oe.LIST,parse:function(t){return Ft(t).map(function(t){return t.filter(Lt).map(function(t){return t.value}).join(" ")}).map(Qe)}},Qe=function(t){switch(t){case"no-repeat":return Fe.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return Fe.REPEAT_X;case"repeat-y":case"no-repeat repeat":return Fe.REPEAT_Y;case"repeat":default:return Fe.REPEAT}};!function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"}(Ge||(Ge={}));var Ye,Ke={name:"background-size",initialValue:"0",prefix:!1,type:oe.LIST,parse:function(t){return Ft(t).map(function(t){return t.filter(Xe)})}},Xe=function(t){return Lt(t)||Vt(t)},$e=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:oe.TYPE_VALUE,format:"color"}},We=$e("top"),qe=$e("right"),Je=$e("bottom"),Ze=$e("left"),ti=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:oe.LIST,parse:function(t){return jt(t.filter(Vt))}}},ei=ti("top-left"),ii=ti("top-right"),ni=ti("bottom-right"),ri=ti("bottom-left");!function(t){t[t.NONE=0]="NONE",t[t.SOLID=1]="SOLID"}(Ye||(Ye={}));var oi,si=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"none":return Ye.NONE}return Ye.SOLID}}},ai=si("top"),li=si("right"),hi=si("bottom"),ui=si("left"),ci=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:oe.VALUE,prefix:!1,parse:function(t){return Ot(t)?t.number:0}}},di=ci("top"),pi=ci("right"),fi=ci("bottom"),mi=ci("left"),gi={name:"color",initialValue:"transparent",prefix:!1,type:oe.TYPE_VALUE,format:"color"},vi={name:"display",initialValue:"inline-block",prefix:!1,type:oe.LIST,parse:function(t){return t.filter(Lt).reduce(function(t,e){return t|Ai(e.value)},0)}},Ai=function(t){switch(t){case"block":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0};!function(t){t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.INLINE_START=3]="INLINE_START",t[t.INLINE_END=4]="INLINE_END"}(oi||(oi={}));var yi,xi={name:"float",initialValue:"none",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"left":return oi.LEFT;case"right":return oi.RIGHT;case"inline-start":return oi.INLINE_START;case"inline-end":return oi.INLINE_END}return oi.NONE}},bi={name:"letter-spacing",initialValue:"0",prefix:!1,type:oe.VALUE,parse:function(t){return t.type===d.IDENT_TOKEN&&"normal"===t.value?0:t.type===d.NUMBER_TOKEN?t.number:t.type===d.DIMENSION_TOKEN?t.number:0}};!function(t){t.NORMAL="normal",t.STRICT="strict"}(yi||(yi={}));var Ci,wi={name:"line-break",initialValue:"normal",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"strict":return yi.STRICT;case"normal":default:return yi.NORMAL}}},Ei={name:"line-height",initialValue:"normal",prefix:!1,type:oe.TOKEN_VALUE},Si={name:"list-style-image",initialValue:"none",type:oe.VALUE,prefix:!1,parse:function(t){return t.type===d.IDENT_TOKEN&&"none"===t.value?null:Re(t)}};!function(t){t[t.INSIDE=0]="INSIDE",t[t.OUTSIDE=1]="OUTSIDE"}(Ci||(Ci={}));var Ti,_i={name:"list-style-position",initialValue:"outside",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"inside":return Ci.INSIDE;case"outside":default:return Ci.OUTSIDE}}};!function(t){t[t.NONE=-1]="NONE",t[t.DISC=0]="DISC",t[t.CIRCLE=1]="CIRCLE",t[t.SQUARE=2]="SQUARE",t[t.DECIMAL=3]="DECIMAL",t[t.CJK_DECIMAL=4]="CJK_DECIMAL",t[t.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",t[t.LOWER_ROMAN=6]="LOWER_ROMAN",t[t.UPPER_ROMAN=7]="UPPER_ROMAN",t[t.LOWER_GREEK=8]="LOWER_GREEK",t[t.LOWER_ALPHA=9]="LOWER_ALPHA",t[t.UPPER_ALPHA=10]="UPPER_ALPHA",t[t.ARABIC_INDIC=11]="ARABIC_INDIC",t[t.ARMENIAN=12]="ARMENIAN",t[t.BENGALI=13]="BENGALI",t[t.CAMBODIAN=14]="CAMBODIAN",t[t.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",t[t.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",t[t.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",t[t.DEVANAGARI=18]="DEVANAGARI",t[t.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",t[t.GEORGIAN=20]="GEORGIAN",t[t.GUJARATI=21]="GUJARATI",t[t.GURMUKHI=22]="GURMUKHI",t[t.HEBREW=22]="HEBREW",t[t.HIRAGANA=23]="HIRAGANA",t[t.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",t[t.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",t[t.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",t[t.KANNADA=27]="KANNADA",t[t.KATAKANA=28]="KATAKANA",t[t.KATAKANA_IROHA=29]="KATAKANA_IROHA",t[t.KHMER=30]="KHMER",t[t.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",t[t.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",t[t.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",t[t.LAO=34]="LAO",t[t.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",t[t.MALAYALAM=36]="MALAYALAM",t[t.MONGOLIAN=37]="MONGOLIAN",t[t.MYANMAR=38]="MYANMAR",t[t.ORIYA=39]="ORIYA",t[t.PERSIAN=40]="PERSIAN",t[t.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",t[t.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",t[t.TAMIL=43]="TAMIL",t[t.TELUGU=44]="TELUGU",t[t.THAI=45]="THAI",t[t.TIBETAN=46]="TIBETAN",t[t.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",t[t.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",t[t.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",t[t.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN",t[t.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED"}(Ti||(Ti={}));var Mi,ki={name:"list-style-type",initialValue:"none",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"disc":return Ti.DISC;case"circle":return Ti.CIRCLE;case"square":return Ti.SQUARE;case"decimal":return Ti.DECIMAL;case"cjk-decimal":return Ti.CJK_DECIMAL;case"decimal-leading-zero":return Ti.DECIMAL_LEADING_ZERO;case"lower-roman":return Ti.LOWER_ROMAN;case"upper-roman":return Ti.UPPER_ROMAN;case"lower-greek":return Ti.LOWER_GREEK;case"lower-alpha":return Ti.LOWER_ALPHA;case"upper-alpha":return Ti.UPPER_ALPHA;case"arabic-indic":return Ti.ARABIC_INDIC;case"armenian":return Ti.ARMENIAN;case"bengali":return Ti.BENGALI;case"cambodian":return Ti.CAMBODIAN;case"cjk-earthly-branch":return Ti.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return Ti.CJK_HEAVENLY_STEM;case"cjk-ideographic":return Ti.CJK_IDEOGRAPHIC;case"devanagari":return Ti.DEVANAGARI;case"ethiopic-numeric":return Ti.ETHIOPIC_NUMERIC;case"georgian":return Ti.GEORGIAN;case"gujarati":return Ti.GUJARATI;case"gurmukhi":return Ti.GURMUKHI;case"hebrew":return Ti.HEBREW;case"hiragana":return Ti.HIRAGANA;case"hiragana-iroha":return Ti.HIRAGANA_IROHA;case"japanese-formal":return Ti.JAPANESE_FORMAL;case"japanese-informal":return Ti.JAPANESE_INFORMAL;case"kannada":return Ti.KANNADA;case"katakana":return Ti.KATAKANA;case"katakana-iroha":return Ti.KATAKANA_IROHA;case"khmer":return Ti.KHMER;case"korean-hangul-formal":return Ti.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return Ti.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return Ti.KOREAN_HANJA_INFORMAL;case"lao":return Ti.LAO;case"lower-armenian":return Ti.LOWER_ARMENIAN;case"malayalam":return Ti.MALAYALAM;case"mongolian":return Ti.MONGOLIAN;case"myanmar":return Ti.MYANMAR;case"oriya":return Ti.ORIYA;case"persian":return Ti.PERSIAN;case"simp-chinese-formal":return Ti.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return Ti.SIMP_CHINESE_INFORMAL;case"tamil":return Ti.TAMIL;case"telugu":return Ti.TELUGU;case"thai":return Ti.THAI;case"tibetan":return Ti.TIBETAN;case"trad-chinese-formal":return Ti.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return Ti.TRAD_CHINESE_INFORMAL;case"upper-armenian":return Ti.UPPER_ARMENIAN;case"disclosure-open":return Ti.DISCLOSURE_OPEN;case"disclosure-closed":return Ti.DISCLOSURE_CLOSED;case"none":default:return Ti.NONE}}},Bi=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:oe.TOKEN_VALUE}},Oi=Bi("top"),Pi=Bi("right"),Li=Bi("bottom"),Ni=Bi("left");!function(t){t[t.VISIBLE=0]="VISIBLE",t[t.HIDDEN=1]="HIDDEN",t[t.SCROLL=2]="SCROLL",t[t.AUTO=3]="AUTO"}(Mi||(Mi={}));var Ii,Di={name:"overflow",initialValue:"visible",prefix:!1,type:oe.LIST,parse:function(t){return t.filter(Lt).map(function(t){switch(t.value){case"hidden":return Mi.HIDDEN;case"scroll":return Mi.SCROLL;case"auto":return Mi.AUTO;case"visible":default:return Mi.VISIBLE}})}};!function(t){t.NORMAL="normal",t.BREAK_WORD="break-word"}(Ii||(Ii={}));var Ri,Fi={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"break-word":return Ii.BREAK_WORD;case"normal":default:return Ii.NORMAL}}},Hi=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:oe.TYPE_VALUE,format:"length-percentage"}},Ui=Hi("top"),Vi=Hi("right"),ji=Hi("bottom"),Gi=Hi("left");!function(t){t[t.LEFT=0]="LEFT",t[t.CENTER=1]="CENTER",t[t.RIGHT=2]="RIGHT"}(Ri||(Ri={}));var zi,Qi={name:"text-align",initialValue:"left",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"right":return Ri.RIGHT;case"center":case"justify":return Ri.CENTER;case"left":default:return Ri.LEFT}}};!function(t){t[t.STATIC=0]="STATIC",t[t.RELATIVE=1]="RELATIVE",t[t.ABSOLUTE=2]="ABSOLUTE",t[t.FIXED=3]="FIXED",t[t.STICKY=4]="STICKY"}(zi||(zi={}));var Yi,Ki={name:"position",initialValue:"static",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"relative":return zi.RELATIVE;case"absolute":return zi.ABSOLUTE;case"fixed":return zi.FIXED;case"sticky":return zi.STICKY}return zi.STATIC}},Xi={name:"text-shadow",initialValue:"none",type:oe.LIST,prefix:!1,parse:function(t){return 1===t.length&&It(t[0],"none")?[]:Ft(t).map(function(t){for(var e={color:he.TRANSPARENT,offsetX:Gt,offsetY:Gt,blur:Gt},i=0,n=0;n<t.length;n++){var r=t[n];Ut(r)?(0===i?e.offsetX=r:1===i?e.offsetY=r:e.blur=r,i++):e.color=Jt(r)}return e})}};!function(t){t[t.NONE=0]="NONE",t[t.LOWERCASE=1]="LOWERCASE",t[t.UPPERCASE=2]="UPPERCASE",t[t.CAPITALIZE=3]="CAPITALIZE"}(Yi||(Yi={}));var $i,Wi={name:"text-transform",initialValue:"none",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"uppercase":return Yi.UPPERCASE;case"lowercase":return Yi.LOWERCASE;case"capitalize":return Yi.CAPITALIZE}return Yi.NONE}},qi={name:"transform",initialValue:"none",prefix:!0,type:oe.VALUE,parse:function(t){if(t.type===d.IDENT_TOKEN&&"none"===t.value)return null;if(t.type===d.FUNCTION){var e=Ji[t.name];if(void 0===e)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return e(t.values)}return null}},Ji={matrix:function(t){var e=t.filter(function(t){return t.type===d.NUMBER_TOKEN}).map(function(t){return t.number});return 6===e.length?e:null},matrix3d:function(t){var e=t.filter(function(t){return t.type===d.NUMBER_TOKEN}).map(function(t){return t.number}),i=e[0],n=e[1],r=(e[2],e[3],e[4]),o=e[5],s=(e[6],e[7],e[8],e[9],e[10],e[11],e[12]),a=e[13];e[14],e[15];return 16===e.length?[i,n,r,o,s,a]:null}},Zi={type:d.PERCENTAGE_TOKEN,number:50,flags:4},tn=[Zi,Zi],en={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:oe.LIST,parse:function(t){var e=t.filter(Vt);return 2!==e.length?tn:[e[0],e[1]]}};!function(t){t[t.VISIBLE=0]="VISIBLE",t[t.HIDDEN=1]="HIDDEN",t[t.COLLAPSE=2]="COLLAPSE"}($i||($i={}));var nn,rn={name:"visible",initialValue:"none",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"hidden":return $i.HIDDEN;case"collapse":return $i.COLLAPSE;case"visible":default:return $i.VISIBLE}}};!function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"}(nn||(nn={}));var on,sn={name:"word-break",initialValue:"normal",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"break-all":return nn.BREAK_ALL;case"keep-all":return nn.KEEP_ALL;case"normal":default:return nn.NORMAL}}},an={name:"z-index",initialValue:"auto",prefix:!1,type:oe.VALUE,parse:function(t){if(t.type===d.IDENT_TOKEN)return{auto:!0,order:0};if(Pt(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},ln={name:"opacity",initialValue:"1",type:oe.VALUE,prefix:!1,parse:function(t){return Pt(t)?t.number:1}},hn={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:oe.TYPE_VALUE,format:"color"},un={name:"text-decoration-line",initialValue:"none",prefix:!1,type:oe.LIST,parse:function(t){return t.filter(Lt).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return 0!==t})}},cn={name:"font-family",initialValue:"",prefix:!1,type:oe.LIST,parse:function(t){return t.filter(dn).map(function(t){return t.value})}},dn=function(t){return t.type===d.STRING_TOKEN||t.type===d.IDENT_TOKEN},pn={name:"font-size",initialValue:"0",prefix:!1,type:oe.TYPE_VALUE,format:"length"},fn={name:"font-weight",initialValue:"normal",type:oe.VALUE,prefix:!1,parse:function(t){if(Pt(t))return t.number;if(Lt(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},mn={name:"font-variant",initialValue:"none",type:oe.LIST,prefix:!1,parse:function(t){return t.filter(Lt).map(function(t){return t.value})}};!function(t){t.NORMAL="normal",t.ITALIC="italic",t.OBLIQUE="oblique"}(on||(on={}));var gn,vn={name:"font-style",initialValue:"normal",prefix:!1,type:oe.IDENT_VALUE,parse:function(t){switch(t){case"oblique":return on.OBLIQUE;case"italic":return on.ITALIC;case"normal":default:return on.NORMAL}}},An=function(t,e){return 0!=(t&e)},yn={name:"content",initialValue:"none",type:oe.LIST,prefix:!1,parse:function(t){if(0===t.length)return[];var e=t[0];return e.type===d.IDENT_TOKEN&&"none"===e.value?[]:t}},xn={name:"counter-increment",initialValue:"none",prefix:!0,type:oe.LIST,parse:function(t){if(0===t.length)return null;var e=t[0];if(e.type===d.IDENT_TOKEN&&"none"===e.value)return null;for(var i=[],n=t.filter(Dt),r=0;r<n.length;r++){var o=n[r],s=n[r+1];if(o.type===d.IDENT_TOKEN){var a=s&&Pt(s)?s.number:1;i.push({counter:o.value,increment:a})}}return i}},bn={name:"counter-reset",initialValue:"none",prefix:!0,type:oe.LIST,parse:function(t){if(0===t.length)return[];for(var e=[],i=t.filter(Dt),n=0;n<i.length;n++){var r=i[n],o=i[n+1];if(Lt(r)&&"none"!==r.value){var s=o&&Pt(o)?o.number:0;e.push({counter:r.value,reset:s})}}return e}},Cn={name:"quotes",initialValue:"none",prefix:!0,type:oe.LIST,parse:function(t){if(0===t.length)return null;var e=t[0];if(e.type===d.IDENT_TOKEN&&"none"===e.value)return null;var i=[],n=t.filter(Nt);if(n.length%2!=0)return null;for(var r=0;r<n.length;r+=2){var o=n[r].value,s=n[r+1].value;i.push({open:o,close:s})}return i}},wn=function(t,e,i){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?i?n.open:n.close:""},En={name:"box-shadow",initialValue:"none",type:oe.LIST,prefix:!1,parse:function(t){return 1===t.length&&It(t[0],"none")?[]:Ft(t).map(function(t){for(var e={color:255,offsetX:Gt,offsetY:Gt,blur:Gt,spread:Gt,inset:!1},i=0,n=0;n<t.length;n++){var r=t[n];It(r,"inset")?e.inset=!0:Ut(r)?(0===i?e.offsetX=r:1===i?e.offsetY=r:2===i?e.blur=r:e.spread=r,i++):e.color=Jt(r)}return e})}},Sn=function(){function t(t){this.backgroundClip=Mn(ce,t.backgroundClip),this.backgroundColor=Mn(de,t.backgroundColor),this.backgroundImage=Mn(Ue,t.backgroundImage),this.backgroundOrigin=Mn(Ve,t.backgroundOrigin),this.backgroundPosition=Mn(je,t.backgroundPosition),this.backgroundRepeat=Mn(ze,t.backgroundRepeat),this.backgroundSize=Mn(Ke,t.backgroundSize),this.borderTopColor=Mn(We,t.borderTopColor),this.borderRightColor=Mn(qe,t.borderRightColor),this.borderBottomColor=Mn(Je,t.borderBottomColor),this.borderLeftColor=Mn(Ze,t.borderLeftColor),this.borderTopLeftRadius=Mn(ei,t.borderTopLeftRadius),this.borderTopRightRadius=Mn(ii,t.borderTopRightRadius),this.borderBottomRightRadius=Mn(ni,t.borderBottomRightRadius),this.borderBottomLeftRadius=Mn(ri,t.borderBottomLeftRadius),this.borderTopStyle=Mn(ai,t.borderTopStyle),this.borderRightStyle=Mn(li,t.borderRightStyle),this.borderBottomStyle=Mn(hi,t.borderBottomStyle),this.borderLeftStyle=Mn(ui,t.borderLeftStyle),this.borderTopWidth=Mn(di,t.borderTopWidth),this.borderRightWidth=Mn(pi,t.borderRightWidth),this.borderBottomWidth=Mn(fi,t.borderBottomWidth),this.borderLeftWidth=Mn(mi,t.borderLeftWidth),this.boxShadow=Mn(En,t.boxShadow),this.color=Mn(gi,t.color),this.display=Mn(vi,t.display),this.float=Mn(xi,t.cssFloat),this.fontFamily=Mn(cn,t.fontFamily),this.fontSize=Mn(pn,t.fontSize),this.fontStyle=Mn(vn,t.fontStyle),this.fontVariant=Mn(mn,t.fontVariant),this.fontWeight=Mn(fn,t.fontWeight),this.letterSpacing=Mn(bi,t.letterSpacing),this.lineBreak=Mn(wi,t.lineBreak),this.lineHeight=Mn(Ei,t.lineHeight),this.listStyleImage=Mn(Si,t.listStyleImage),this.listStylePosition=Mn(_i,t.listStylePosition),this.listStyleType=Mn(ki,t.listStyleType),this.marginTop=Mn(Oi,t.marginTop),this.marginRight=Mn(Pi,t.marginRight),this.marginBottom=Mn(Li,t.marginBottom),this.marginLeft=Mn(Ni,t.marginLeft),this.opacity=Mn(ln,t.opacity);var e=Mn(Di,t.overflow);this.overflowX=e[0],this.overflowY=e[e.length>1?1:0],this.overflowWrap=Mn(Fi,t.overflowWrap),this.paddingTop=Mn(Ui,t.paddingTop),this.paddingRight=Mn(Vi,t.paddingRight),this.paddingBottom=Mn(ji,t.paddingBottom),this.paddingLeft=Mn(Gi,t.paddingLeft),this.position=Mn(Ki,t.position),this.textAlign=Mn(Qi,t.textAlign),this.textDecorationColor=Mn(hn,t.textDecorationColor||t.color),this.textDecorationLine=Mn(un,t.textDecorationLine),this.textShadow=Mn(Xi,t.textShadow),this.textTransform=Mn(Wi,t.textTransform),this.transform=Mn(qi,t.transform),this.transformOrigin=Mn(en,t.transformOrigin),this.visibility=Mn(rn,t.visibility),this.wordBreak=Mn(sn,t.wordBreak),this.zIndex=Mn(an,t.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===$i.VISIBLE},t.prototype.isTransparent=function(){return Zt(this.backgroundColor)},t.prototype.isTransformed=function(){return null!==this.transform},t.prototype.isPositioned=function(){return this.position!==zi.STATIC},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==oi.NONE},t.prototype.isInlineLevel=function(){return An(this.display,4)||An(this.display,33554432)||An(this.display,268435456)||An(this.display,536870912)||An(this.display,67108864)||An(this.display,134217728)},t}(),Tn=function(){return function(t){this.content=Mn(yn,t.content),this.quotes=Mn(Cn,t.quotes)}}(),_n=function(){return function(t){this.counterIncrement=Mn(xn,t.counterIncrement),this.counterReset=Mn(bn,t.counterReset)}}(),Mn=function(t,e){var i=new kt,n=null!==e&&void 0!==e?e.toString():t.initialValue;i.write(n);var r=new Bt(i.read());switch(t.type){case oe.IDENT_VALUE:var o=r.parseComponentValue();return t.parse(Lt(o)?o.value:t.initialValue);case oe.VALUE:return t.parse(r.parseComponentValue());case oe.LIST:return t.parse(r.parseComponentValues());case oe.TOKEN_VALUE:return r.parseComponentValue();case oe.TYPE_VALUE:switch(t.format){case"angle":return Xt(r.parseComponentValue());case"color":return Jt(r.parseComponentValue());case"image":return Re(r.parseComponentValue());case"length":var s=r.parseComponentValue();return Ut(s)?s:Gt;case"length-percentage":var a=r.parseComponentValue();return Vt(a)?a:Gt}}throw new Error("Attempting to parse unsupported css format type "+t.format)},kn=function(){return function(t){this.styles=new Sn(window.getComputedStyle(t,null)),this.textNodes=[],this.elements=[],null!==this.styles.transform&&cr(t)&&(t.style.transform="none"),this.bounds=s(t),this.flags=0}}(),Bn=function(){return function(t,e){this.text=t,this.bounds=e}}(),On=function(t,e,i){var n=[],r=0;return Nn(t,e).forEach(function(t){if(e.textDecorationLine.length||t.trim().length>0)if(Ce.SUPPORT_RANGE_BOUNDS)n.push(new Bn(t,Ln(i,r,t.length)));else{var o=i.splitText(t.length);n.push(new Bn(t,Pn(i))),i=o}else Ce.SUPPORT_RANGE_BOUNDS||(i=i.splitText(t.length));r+=t.length}),n},Pn=function(t){var e=t.ownerDocument;if(e){var i=e.createElement("html2canvaswrapper");i.appendChild(t.cloneNode(!0));var n=t.parentNode;if(n){n.replaceChild(i,t);var r=s(i);return i.firstChild&&n.replaceChild(i.firstChild,i),r}}return new o(0,0,0,0)},Ln=function(t,e,i){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var r=n.createRange();return r.setStart(t,e),r.setEnd(t,e+i),o.fromClientRect(r.getBoundingClientRect())},Nn=function(t,e){return 0!==e.letterSpacing?a(t).map(function(t){return l(t)}):In(t,e)},In=function(t,e){for(var i,n=function(t,e){var i=a(t),n=q(i,e),r=n[0],o=n[1],s=n[2],l=i.length,h=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var t="";u<l&&""===(t=W(i,o,r,++u,s)););if(""!==t||u===l){var e=new J(i,t,h,u);return h=u,{value:e,done:!1}}return{done:!0,value:null}}}}(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap===Ii.BREAK_WORD?"break-word":e.wordBreak}),r=[];!(i=n.next()).done;)i.value&&r.push(i.value.slice());return r},Dn=function(){return function(t,e){this.text=Rn(t.data,e.textTransform),this.textBounds=On(this.text,e,t)}}(),Rn=function(t,e){switch(e){case Yi.LOWERCASE:return t.toLowerCase();case Yi.CAPITALIZE:return t.replace(Fn,Hn);case Yi.UPPERCASE:return t.toUpperCase();default:return t}},Fn=/(^|\s|:|-|\(|\))([a-z])/g,Hn=function(t,e,i){return t.length>0?e+i.toUpperCase():t},Un=function(t){function i(e){var i=t.call(this,e)||this;return i.src=e.currentSrc||e.src,i.intrinsicWidth=e.naturalWidth,i.intrinsicHeight=e.naturalHeight,Ee.getInstance().addImage(i.src),i}return e(i,t),i}(kn),Vn=function(t){function i(e){var i=t.call(this,e)||this;return i.canvas=e,i.intrinsicWidth=e.width,i.intrinsicHeight=e.height,i}return e(i,t),i}(kn),jn=function(t){function i(e){var i=t.call(this,e)||this,n=new XMLSerializer;return i.svg="data:image/svg+xml,"+encodeURIComponent(n.serializeToString(e)),i.intrinsicWidth=e.width.baseVal.value,i.intrinsicHeight=e.height.baseVal.value,Ee.getInstance().addImage(i.svg),i}return e(i,t),i}(kn),Gn=function(t){function i(e){var i=t.call(this,e)||this;return i.value=e.value,i}return e(i,t),i}(kn),zn=function(t){function i(e){var i=t.call(this,e)||this;return i.start=e.start,i.reversed="boolean"==typeof e.reversed&&!0===e.reversed,i}return e(i,t),i}(kn),Qn=[{type:d.DIMENSION_TOKEN,flags:0,unit:"px",number:3}],Yn=[{type:d.PERCENTAGE_TOKEN,flags:0,number:50}],Kn=function(t){return t.width>t.height?new o(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new o(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Xn=function(t){var e=t.type===qn?new Array(t.value.length+1).join(""):t.value;return 0===e.length?t.placeholder||"":e},$n="checkbox",Wn="radio",qn="password",Jn=function(t){function i(e){var i=t.call(this,e)||this;switch(i.type=e.type.toLowerCase(),i.checked=e.checked,i.value=Xn(e),i.type!==$n&&i.type!==Wn||(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=Ye.SOLID,i.styles.backgroundClip=[se.BORDER_BOX],i.styles.backgroundOrigin=[0],i.bounds=Kn(i.bounds)),i.type){case $n:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Qn;break;case Wn:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Yn}return i}return e(i,t),i}(kn),Zn=function(t){function i(e){var i=t.call(this,e)||this,n=e.options[e.selectedIndex||0];return i.value=n&&n.text||"",i}return e(i,t),i}(kn),tr=function(t){function i(e){var i=t.call(this,e)||this;return i.value=e.value,i}return e(i,t),i}(kn),er=function(t){return Jt(Bt.create(t).parseComponentValue())},ir=function(t){function i(e){var i=t.call(this,e)||this;i.src=e.src,i.width=parseInt(e.width,10)||0,i.height=parseInt(e.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(e.contentWindow&&e.contentWindow.document&&e.contentWindow.document.documentElement){i.tree=sr(e.contentWindow.document.documentElement);var n=e.contentWindow.document.documentElement?er(getComputedStyle(e.contentWindow.document.documentElement).backgroundColor):he.TRANSPARENT,r=e.contentWindow.document.body?er(getComputedStyle(e.contentWindow.document.body).backgroundColor):he.TRANSPARENT;i.backgroundColor=Zt(n)?Zt(r)?i.styles.backgroundColor:r:n}}catch(t){}return i}return e(i,t),i}(kn),nr=["OL","UL","MENU"],rr=function(t,e,i){for(var n=t.firstChild,r=void 0;n;n=r)if(r=n.nextSibling,hr(n)&&n.data.trim().length>0)e.textNodes.push(new Dn(n,e.styles));else if(ur(n)){var o=or(n);o.styles.isVisible()&&(ar(n,o,i)?o.flags|=4:lr(o.styles)&&(o.flags|=2),-1!==nr.indexOf(n.tagName)&&(o.flags|=8),e.elements.push(o),Cr(n)||mr(n)||wr(n)||rr(n,o,i))}},or=function(t){return Ar(t)?new Un(t):vr(t)?new Vn(t):mr(t)?new jn(t):dr(t)?new Gn(t):pr(t)?new zn(t):fr(t)?new Jn(t):wr(t)?new Zn(t):Cr(t)?new tr(t):yr(t)?new ir(t):new kn(t)},sr=function(t){var e=or(t);return e.flags|=4,rr(t,e,e),e},ar=function(t,e,i){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||gr(t)&&i.styles.isTransparent()},lr=function(t){return t.isPositioned()||t.isFloating()},hr=function(t){return t.nodeType===Node.TEXT_NODE},ur=function(t){return t.nodeType===Node.ELEMENT_NODE},cr=function(t){return void 0!==t.style},dr=function(t){return"LI"===t.tagName},pr=function(t){return"OL"===t.tagName},fr=function(t){return"INPUT"===t.tagName},mr=function(t){return"svg"===t.tagName},gr=function(t){return"BODY"===t.tagName},vr=function(t){return"CANVAS"===t.tagName},Ar=function(t){return"IMG"===t.tagName},yr=function(t){return"IFRAME"===t.tagName},xr=function(t){return"STYLE"===t.tagName},br=function(t){return"SCRIPT"===t.tagName},Cr=function(t){return"TEXTAREA"===t.tagName},wr=function(t){return"SELECT"===t.tagName},Er=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},t.prototype.getCounterValues=function(t){var e=this.counters[t];return e||[]},t.prototype.pop=function(t){var e=this;t.forEach(function(t){return e.counters[t].pop()})},t.prototype.parse=function(t){var e=this,i=t.counterIncrement,n=t.counterReset,r=!0;null!==i&&i.forEach(function(t){var i=e.counters[t.counter];i&&0!==t.increment&&(r=!1,i[Math.max(0,i.length-1)]+=t.increment)});var o=[];return r&&n.forEach(function(t){var i=e.counters[t.counter];o.push(t.counter),i||(i=e.counters[t.counter]=[]),i.push(t.reset)}),o},t}(),Sr={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Tr={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},_r={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Mr={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},kr=function(t,e,i,n,r,o){return t<e||t>i?Nr(t,r,o.length>0):n.integers.reduce(function(e,i,r){for(;t>=i;)t-=i,e+=n.values[r];return e},"")+o},Br=function(t,e,i,n){var r="";do{i||t--,r=n(t)+r,t/=e}while(t*e>=e);return r},Or=function(t,e,i,n,r){var o=i-e+1;return(t<0?"-":"")+(Br(Math.abs(t),o,n,function(t){return l(Math.floor(t%o)+e)})+r)},Pr=function(t,e,i){void 0===i&&(i=". ");var n=e.length;return Br(Math.abs(t),n,!1,function(t){return e[Math.floor(t%n)]})+i},Lr=function(t,e,i,n,r,o){if(t<-9999||t>9999)return Nr(t,Ti.CJK_DECIMAL,r.length>0);var s=Math.abs(t),a=r;if(0===s)return e[0]+a;for(var l=0;s>0&&l<=4;l++){var h=s%10;0===h&&An(o,1)&&""!==a?a=e[h]+a:h>1||1===h&&0===l||1===h&&1===l&&An(o,2)||1===h&&1===l&&An(o,4)&&t>100||1===h&&l>1&&An(o,8)?a=e[h]+(l>0?i[l-1]:"")+a:1===h&&l>0&&(a=i[l-1]+a),s=Math.floor(s/10)}return(t<0?n:"")+a},Nr=function(t,e,i){var n=i?". ":"",r=i?"":"",o=i?", ":"",s=i?" ":"";switch(e){case Ti.DISC:return""+s;case Ti.CIRCLE:return""+s;case Ti.SQUARE:return""+s;case Ti.DECIMAL_LEADING_ZERO:var a=Or(t,48,57,!0,n);return a.length<4?"0"+a:a;case Ti.CJK_DECIMAL:return Pr(t,"",r);case Ti.LOWER_ROMAN:return kr(t,1,3999,Sr,Ti.DECIMAL,n).toLowerCase();case Ti.UPPER_ROMAN:return kr(t,1,3999,Sr,Ti.DECIMAL,n);case Ti.LOWER_GREEK:return Or(t,945,969,!1,n);case Ti.LOWER_ALPHA:return Or(t,97,122,!1,n);case Ti.UPPER_ALPHA:return Or(t,65,90,!1,n);case Ti.ARABIC_INDIC:return Or(t,1632,1641,!0,n);case Ti.ARMENIAN:case Ti.UPPER_ARMENIAN:return kr(t,1,9999,Tr,Ti.DECIMAL,n);case Ti.LOWER_ARMENIAN:return kr(t,1,9999,Tr,Ti.DECIMAL,n).toLowerCase();case Ti.BENGALI:return Or(t,2534,2543,!0,n);case Ti.CAMBODIAN:case Ti.KHMER:return Or(t,6112,6121,!0,n);case Ti.CJK_EARTHLY_BRANCH:return Pr(t,"",r);case Ti.CJK_HEAVENLY_STEM:return Pr(t,"",r);case Ti.CJK_IDEOGRAPHIC:case Ti.TRAD_CHINESE_INFORMAL:return Lr(t,"","","",r,14);case Ti.TRAD_CHINESE_FORMAL:return Lr(t,"","","",r,15);case Ti.SIMP_CHINESE_INFORMAL:return Lr(t,"","","",r,14);case Ti.SIMP_CHINESE_FORMAL:return Lr(t,"","","",r,15);case Ti.JAPANESE_INFORMAL:return Lr(t,"","","",r,0);case Ti.JAPANESE_FORMAL:return Lr(t,"","","",r,7);case Ti.KOREAN_HANGUL_FORMAL:return Lr(t,"","","",o,7);case Ti.KOREAN_HANJA_INFORMAL:return Lr(t,"","","",o,0);case Ti.KOREAN_HANJA_FORMAL:return Lr(t,"","","",o,7);case Ti.DEVANAGARI:return Or(t,2406,2415,!0,n);case Ti.GEORGIAN:return kr(t,1,19999,Mr,Ti.DECIMAL,n);case Ti.GUJARATI:return Or(t,2790,2799,!0,n);case Ti.GURMUKHI:return Or(t,2662,2671,!0,n);case Ti.HEBREW:return kr(t,1,10999,_r,Ti.DECIMAL,n);case Ti.HIRAGANA:return Pr(t,"");case Ti.HIRAGANA_IROHA:return Pr(t,"");case Ti.KANNADA:return Or(t,3302,3311,!0,n);case Ti.KATAKANA:return Pr(t,"",r);case Ti.KATAKANA_IROHA:return Pr(t,"",r);case Ti.LAO:return Or(t,3792,3801,!0,n);case Ti.MONGOLIAN:return Or(t,6160,6169,!0,n);case Ti.MYANMAR:return Or(t,4160,4169,!0,n);case Ti.ORIYA:return Or(t,2918,2927,!0,n);case Ti.PERSIAN:return Or(t,1776,1785,!0,n);case Ti.TAMIL:return Or(t,3046,3055,!0,n);case Ti.TELUGU:return Or(t,3174,3183,!0,n);case Ti.THAI:return Or(t,3664,3673,!0,n);case Ti.TIBETAN:return Or(t,3872,3881,!0,n);case Ti.DECIMAL:default:return Or(t,48,57,!0,n)}},Ir=function(){function t(t,e){if(this.options=e,this.scrolledElements=[],this.referenceElement=t,this.counters=new Er,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement)}return t.prototype.toIFrame=function(t,e){var i=this,o=Rr(t,e);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var s=t.defaultView.pageXOffset,a=t.defaultView.pageYOffset,l=o.contentWindow,h=l.document,u=Fr(o).then(function(){return n(i,void 0,void 0,function(){var t;return r(this,function(i){switch(i.label){case 0:return this.scrolledElements.forEach(jr),l&&(l.scrollTo(e.left,e.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===e.top&&l.scrollX===e.left||(h.documentElement.style.top=-e.top+"px",h.documentElement.style.left=-e.left+"px",h.documentElement.style.position="absolute")),t=this.options.onclone,void 0===this.clonedReferenceElement?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:h.fonts&&h.fonts.ready?[4,h.fonts.ready]:[3,2];case 1:i.sent(),i.label=2;case 2:return"function"==typeof t?[2,Promise.resolve().then(function(){return t(h)}).then(function(){return o})]:[2,o]}})})});return h.open(),h.write(Ur(document.doctype)+"<html></html>"),Vr(this.referenceElement.ownerDocument,s,a),h.replaceChild(h.adoptNode(this.documentElement),h.documentElement),h.close(),u},t.prototype.createElementClone=function(t){return vr(t)?this.createCanvasClone(t):xr(t)?this.createStyleClone(t):t.cloneNode(!1)},t.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var i=[].slice.call(e.cssRules,0).reduce(function(t,e){return e&&"string"==typeof e.cssText?t+e.cssText:t},""),n=t.cloneNode(!1);return n.textContent=i,n}}catch(t){if(we.getInstance(this.options.id).error("Unable to access cssRules property",t),"SecurityError"!==t.name)throw t}return t.cloneNode(!1)},t.prototype.createCanvasClone=function(t){if(this.options.inlineImages&&t.ownerDocument){var e=t.ownerDocument.createElement("img");try{return e.src=t.toDataURL(),e}catch(t){we.getInstance(this.options.id).info("Unable to clone canvas contents, canvas is tainted")}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var n=t.getContext("2d"),r=i.getContext("2d");return r&&(n?r.putImageData(n.getImageData(0,0,t.width,t.height),0,0):r.drawImage(t,0,0)),i}catch(t){}return i},t.prototype.cloneNode=function(t){if(hr(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var e=t.ownerDocument.defaultView;if(cr(t)&&e){var i=this.createElementClone(t),n=e.getComputedStyle(t),r=e.getComputedStyle(t,":before"),o=e.getComputedStyle(t,":after");this.referenceElement===t&&(this.clonedReferenceElement=i),gr(i)&&Qr(i);for(var s=this.counters.parse(new _n(n)),a=this.resolvePseudoContent(t,i,r,gn.BEFORE),l=t.firstChild;l;l=l.nextSibling)ur(l)&&(br(l)||l.hasAttribute("data-html2canvas-ignore")||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(l))||this.options.copyStyles&&ur(l)&&xr(l)||i.appendChild(this.cloneNode(l));a&&i.insertBefore(a,i.firstChild);var h=this.resolvePseudoContent(t,i,o,gn.AFTER);return h&&i.appendChild(h),this.counters.pop(s),n&&this.options.copyStyles&&!yr(t)&&Hr(n,i),0===t.scrollTop&&0===t.scrollLeft||this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(Cr(t)||wr(t))&&(Cr(i)||wr(i))&&(i.value=t.value),i}return t.cloneNode(!1)},t.prototype.resolvePseudoContent=function(t,e,i,n){var r=this;if(i){var o=i.content,s=e.ownerDocument;if(s&&o&&"none"!==o&&"-moz-alt-content"!==o&&"none"!==i.display){this.counters.parse(new _n(i));var a=new Tn(i),l=s.createElement("html2canvaspseudoelement");return Hr(i,l),a.content.forEach(function(e){if(e.type===d.STRING_TOKEN)l.appendChild(s.createTextNode(e.value));else if(e.type===d.URL_TOKEN){var i=s.createElement("img");i.src=e.value,i.style.opacity="1",l.appendChild(i)}else if(e.type===d.FUNCTION){if("attr"===e.name){var n=e.values.filter(Lt);n.length&&l.appendChild(s.createTextNode(t.getAttribute(n[0].value)||""))}else if("counter"===e.name){var o=e.values.filter(Rt),h=o[0],u=o[1];if(h&&Lt(h)){var c=r.counters.getCounterValue(h.value),p=u&&Lt(u)?ki.parse(u.value):Ti.DECIMAL;l.appendChild(s.createTextNode(Nr(c,p,!1)))}}else if("counters"===e.name){var f=e.values.filter(Rt),m=(h=f[0],f[1]);u=f[2];if(h&&Lt(h)){var g=r.counters.getCounterValues(h.value),v=u&&Lt(u)?ki.parse(u.value):Ti.DECIMAL,A=m&&m.type===d.STRING_TOKEN?m.value:"",y=g.map(function(t){return Nr(t,v,!1)}).join(A);l.appendChild(s.createTextNode(y))}}}else if(e.type===d.IDENT_TOKEN)switch(e.value){case"open-quote":l.appendChild(s.createTextNode(wn(a.quotes,r.quoteDepth++,!0)));break;case"close-quote":l.appendChild(s.createTextNode(wn(a.quotes,--r.quoteDepth,!1)));break;default:l.appendChild(s.createTextNode(e.value))}}),l.className=Gr+" "+zr,e.className+=n===gn.BEFORE?" "+Gr:" "+zr,l}}},t.destroy=function(t){return!!t.parentNode&&(t.parentNode.removeChild(t),!0)},t}();!function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"}(gn||(gn={}));var Dr,Rr=function(t,e){var i=t.createElement("iframe");return i.className="html2canvas-container",i.style.visibility="hidden",i.style.position="fixed",i.style.left="-10000px",i.style.top="0px",i.style.border="0",i.width=e.width.toString(),i.height=e.height.toString(),i.scrolling="no",i.setAttribute("data-html2canvas-ignore","true"),t.body.appendChild(i),i},Fr=function(t){return new Promise(function(e,i){var n=t.contentWindow;if(!n)return i("No window assigned for iframe");var r=n.document;n.onload=t.onload=r.onreadystatechange=function(){n.onload=t.onload=r.onreadystatechange=null;var i=setInterval(function(){r.body.childNodes.length>0&&"complete"===r.readyState&&(clearInterval(i),e(t))},50)}})},Hr=function(t,e){for(var i=t.length-1;i>=0;i--){var n=t.item(i);"content"!==n&&e.style.setProperty(n,t.getPropertyValue(n))}return e},Ur=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Vr=function(t,e,i){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||i!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,i)},jr=function(t){var e=t[0],i=t[1],n=t[2];e.scrollLeft=i,e.scrollTop=n},Gr="___html2canvas___pseudoelement_before",zr="___html2canvas___pseudoelement_after",Qr=function(t){Yr(t,"."+Gr+':before{\n    content: "" !important;\n    display: none !important;\n}\n         .'+zr+':after{\n    content: "" !important;\n    display: none !important;\n}')},Yr=function(t,e){var i=t.ownerDocument;if(i){var n=i.createElement("style");n.textContent=e,t.appendChild(n)}};!function(t){t[t.VECTOR=0]="VECTOR",t[t.BEZIER_CURVE=1]="BEZIER_CURVE"}(Dr||(Dr={}));var Kr,Xr=function(t,e){return t.length===e.length&&t.some(function(t,i){return t===e[i]})},$r=function(){function t(t,e){this.type=Dr.VECTOR,this.x=t,this.y=e}return t.prototype.add=function(e,i){return new t(this.x+e,this.y+i)},t}(),Wr=function(t,e,i){return new $r(t.x+(e.x-t.x)*i,t.y+(e.y-t.y)*i)},qr=function(){function t(t,e,i,n){this.type=Dr.BEZIER_CURVE,this.start=t,this.startControl=e,this.endControl=i,this.end=n}return t.prototype.subdivide=function(e,i){var n=Wr(this.start,this.startControl,e),r=Wr(this.startControl,this.endControl,e),o=Wr(this.endControl,this.end,e),s=Wr(n,r,e),a=Wr(r,o,e),l=Wr(s,a,e);return i?new t(this.start,n,s,l):new t(l,a,o,this.end)},t.prototype.add=function(e,i){return new t(this.start.add(e,i),this.startControl.add(e,i),this.endControl.add(e,i),this.end.add(e,i))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Jr=function(t){return t.type===Dr.BEZIER_CURVE},Zr=function(){return function(t){var e=t.styles,i=t.bounds,n=Yt(e.borderTopLeftRadius,i.width,i.height),r=n[0],o=n[1],s=Yt(e.borderTopRightRadius,i.width,i.height),a=s[0],l=s[1],h=Yt(e.borderBottomRightRadius,i.width,i.height),u=h[0],c=h[1],d=Yt(e.borderBottomLeftRadius,i.width,i.height),p=d[0],f=d[1],m=[];m.push((r+a)/i.width),m.push((p+u)/i.width),m.push((o+f)/i.height),m.push((l+c)/i.height);var g=Math.max.apply(Math,m);g>1&&(r/=g,o/=g,a/=g,l/=g,u/=g,c/=g,p/=g,f/=g);var v=i.width-a,A=i.height-c,y=i.width-u,x=i.height-f,b=e.borderTopWidth,C=e.borderRightWidth,w=e.borderBottomWidth,E=e.borderLeftWidth,S=Kt(e.paddingTop,t.bounds.width),T=Kt(e.paddingRight,t.bounds.width),_=Kt(e.paddingBottom,t.bounds.width),M=Kt(e.paddingLeft,t.bounds.width);this.topLeftBorderBox=r>0||o>0?to(i.left,i.top,r,o,Kr.TOP_LEFT):new $r(i.left,i.top),this.topRightBorderBox=a>0||l>0?to(i.left+v,i.top,a,l,Kr.TOP_RIGHT):new $r(i.left+i.width,i.top),this.bottomRightBorderBox=u>0||c>0?to(i.left+y,i.top+A,u,c,Kr.BOTTOM_RIGHT):new $r(i.left+i.width,i.top+i.height),this.bottomLeftBorderBox=p>0||f>0?to(i.left,i.top+x,p,f,Kr.BOTTOM_LEFT):new $r(i.left,i.top+i.height),this.topLeftPaddingBox=r>0||o>0?to(i.left+E,i.top+b,Math.max(0,r-E),Math.max(0,o-b),Kr.TOP_LEFT):new $r(i.left+E,i.top+b),this.topRightPaddingBox=a>0||l>0?to(i.left+Math.min(v,i.width+E),i.top+b,v>i.width+E?0:a-E,l-b,Kr.TOP_RIGHT):new $r(i.left+i.width-C,i.top+b),this.bottomRightPaddingBox=u>0||c>0?to(i.left+Math.min(y,i.width-E),i.top+Math.min(A,i.height+b),Math.max(0,u-C),c-w,Kr.BOTTOM_RIGHT):new $r(i.left+i.width-C,i.top+i.height-w),this.bottomLeftPaddingBox=p>0||f>0?to(i.left+E,i.top+x,Math.max(0,p-E),f-w,Kr.BOTTOM_LEFT):new $r(i.left+E,i.top+i.height-w),this.topLeftContentBox=r>0||o>0?to(i.left+E+M,i.top+b+S,Math.max(0,r-(E+M)),Math.max(0,o-(b+S)),Kr.TOP_LEFT):new $r(i.left+E+M,i.top+b+S),this.topRightContentBox=a>0||l>0?to(i.left+Math.min(v,i.width+E+M),i.top+b+S,v>i.width+E+M?0:a-E+M,l-(b+S),Kr.TOP_RIGHT):new $r(i.left+i.width-(C+T),i.top+b+S),this.bottomRightContentBox=u>0||c>0?to(i.left+Math.min(y,i.width-(E+M)),i.top+Math.min(A,i.height+b+S),Math.max(0,u-(C+T)),c-(w+_),Kr.BOTTOM_RIGHT):new $r(i.left+i.width-(C+T),i.top+i.height-(w+_)),this.bottomLeftContentBox=p>0||f>0?to(i.left+E+M,i.top+x,Math.max(0,p-(E+M)),f-(w+_),Kr.BOTTOM_LEFT):new $r(i.left+E+M,i.top+i.height-(w+_))}}();!function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Kr||(Kr={}));var to=function(t,e,i,n,r){var o=(Math.sqrt(2)-1)/3*4,s=i*o,a=n*o,l=t+i,h=e+n;switch(r){case Kr.TOP_LEFT:return new qr(new $r(t,h),new $r(t,h-a),new $r(l-s,e),new $r(l,e));case Kr.TOP_RIGHT:return new qr(new $r(t,e),new $r(t+s,e),new $r(l,h-a),new $r(l,h));case Kr.BOTTOM_RIGHT:return new qr(new $r(l,e),new $r(l,e+a),new $r(t+s,h),new $r(t,h));case Kr.BOTTOM_LEFT:default:return new qr(new $r(l,h),new $r(l-s,h),new $r(t,e+a),new $r(t,e))}},eo=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},io=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},no=function(){return function(t,e,i){this.type=0,this.offsetX=t,this.offsetY=e,this.matrix=i,this.target=6}}(),ro=function(){return function(t,e){this.type=1,this.target=e,this.path=t}}(),oo=function(){return function(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}}(),so=function(){function t(t,e){if(this.container=t,this.effects=e.slice(0),this.curves=new Zr(t),null!==t.styles.transform){var i=t.bounds.left+t.styles.transformOrigin[0].number,n=t.bounds.top+t.styles.transformOrigin[1].number,r=t.styles.transform;this.effects.push(new no(i,n,r))}if(t.styles.overflowX!==Mi.VISIBLE){var o=eo(this.curves),s=io(this.curves);Xr(o,s)?this.effects.push(new ro(o,6)):(this.effects.push(new ro(o,2)),this.effects.push(new ro(s,4)))}}return t.prototype.getParentEffects=function(){var t=this.effects.slice(0);if(this.container.styles.overflowX!==Mi.VISIBLE){var e=eo(this.curves),i=io(this.curves);Xr(e,i)||t.push(new ro(i,6))}return t},t}(),ao=function(t,e,i,n){t.container.elements.forEach(function(r){var o=An(r.flags,4),s=An(r.flags,2),a=new so(r,t.getParentEffects());An(r.styles.display,2048)&&n.push(a);var l=An(r.flags,8)?[]:n;if(o||s){var h=o||r.styles.isPositioned()?i:e,u=new oo(a);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var c=r.styles.zIndex.order;if(c<0){var d=0;h.negativeZIndex.some(function(t,e){return c>t.element.container.styles.zIndex.order?(d=e,!1):d>0}),h.negativeZIndex.splice(d,0,u)}else if(c>0){var p=0;h.positiveZIndex.some(function(t,e){return c>t.element.container.styles.zIndex.order?(p=e+1,!1):p>0}),h.positiveZIndex.splice(p,0,u)}else h.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else r.styles.isFloating()?h.nonPositionedFloats.push(u):h.nonPositionedInlineLevel.push(u);ao(a,u,o?u:i,l)}else r.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),ao(a,e,i,l);An(r.flags,8)&&lo(r,l)})},lo=function(t,e){for(var i=t instanceof zn?t.start:1,n=t instanceof zn&&t.reversed,r=0;r<e.length;r++){var o=e[r];o.container instanceof Gn&&"number"==typeof o.container.value&&0!==o.container.value&&(i=o.container.value),o.listValue=Nr(i,o.container.styles.listStyleType,!0),i+=n?-1:1}},ho=function(t,e,i,n){var r=[];return Jr(t)?r.push(t.subdivide(.5,!1)):r.push(t),Jr(i)?r.push(i.subdivide(.5,!0)):r.push(i),Jr(n)?r.push(n.subdivide(.5,!0).reverse()):r.push(n),Jr(e)?r.push(e.subdivide(.5,!1).reverse()):r.push(e),r},uo=function(t){var e=t.bounds,i=t.styles;return e.add(i.borderLeftWidth,i.borderTopWidth,-(i.borderRightWidth+i.borderLeftWidth),-(i.borderTopWidth+i.borderBottomWidth))},co=function(t){var e=t.styles,i=t.bounds,n=Kt(e.paddingLeft,i.width),r=Kt(e.paddingRight,i.width),o=Kt(e.paddingTop,i.width),s=Kt(e.paddingBottom,i.width);return i.add(n+e.borderLeftWidth,o+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+r),-(e.borderTopWidth+e.borderBottomWidth+o+s))},po=function(t,e,i){var n,r,o=(n=vo(t.styles.backgroundOrigin,e),r=t,0===n?r.bounds:2===n?co(r):uo(r)),s=function(t,e){return t===se.BORDER_BOX?e.bounds:t===se.CONTENT_BOX?co(e):uo(e)}(vo(t.styles.backgroundClip,e),t),a=go(vo(t.styles.backgroundSize,e),i,o),l=a[0],h=a[1],u=Yt(vo(t.styles.backgroundPosition,e),o.width-l,o.height-h);return[Ao(vo(t.styles.backgroundRepeat,e),u,a,o,s),Math.round(o.left+u[0]),Math.round(o.top+u[1]),l,h]},fo=function(t){return Lt(t)&&t.value===Ge.AUTO},mo=function(t){return"number"==typeof t},go=function(t,e,i){var n=e[0],r=e[1],o=e[2],s=t[0],a=t[1];if(Vt(s)&&a&&Vt(a))return[Kt(s,i.width),Kt(a,i.height)];var l=mo(o);if(Lt(s)&&(s.value===Ge.CONTAIN||s.value===Ge.COVER))return mo(o)?i.width/i.height<o!=(s.value===Ge.COVER)?[i.width,i.width/o]:[i.height*o,i.height]:[i.width,i.height];var h=mo(n),u=mo(r),c=h||u;if(fo(s)&&(!a||fo(a)))return h&&u?[n,r]:l||c?c&&l?[h?n:r*o,u?r:n/o]:[h?n:i.width,u?r:i.height]:[i.width,i.height];if(l){var d=0,p=0;return Vt(s)?d=Kt(s,i.width):Vt(a)&&(p=Kt(a,i.height)),fo(s)?d=p*o:a&&!fo(a)||(p=d/o),[d,p]}var f=null,m=null;if(Vt(s)?f=Kt(s,i.width):a&&Vt(a)&&(m=Kt(a,i.height)),null===f||a&&!fo(a)||(m=h&&u?f/n*r:i.height),null!==m&&fo(s)&&(f=h&&u?m/r*n:i.width),null!==f&&null!==m)return[f,m];throw new Error("Unable to calculate background-size for element")},vo=function(t,e){var i=t[e];return void 0===i?t[0]:i},Ao=function(t,e,i,n,r){var o=e[0],s=e[1],a=i[0],l=i[1];switch(t){case Fe.REPEAT_X:return[new $r(Math.round(n.left),Math.round(n.top+s)),new $r(Math.round(n.left+n.width),Math.round(n.top+s)),new $r(Math.round(n.left+n.width),Math.round(l+n.top+s)),new $r(Math.round(n.left),Math.round(l+n.top+s))];case Fe.REPEAT_Y:return[new $r(Math.round(n.left+o),Math.round(n.top)),new $r(Math.round(n.left+o+a),Math.round(n.top)),new $r(Math.round(n.left+o+a),Math.round(n.height+n.top)),new $r(Math.round(n.left+o),Math.round(n.height+n.top))];case Fe.NO_REPEAT:return[new $r(Math.round(n.left+o),Math.round(n.top+s)),new $r(Math.round(n.left+o+a),Math.round(n.top+s)),new $r(Math.round(n.left+o+a),Math.round(n.top+s+l)),new $r(Math.round(n.left+o),Math.round(n.top+s+l))];default:return[new $r(Math.round(r.left),Math.round(r.top)),new $r(Math.round(r.left+r.width),Math.round(r.top)),new $r(Math.round(r.left+r.width),Math.round(r.height+r.top)),new $r(Math.round(r.left),Math.round(r.height+r.top))]}},yo=function(){function t(t){this._data={},this._document=t}return t.prototype.parseMetrics=function(t,e){var i=this._document.createElement("div"),n=this._document.createElement("img"),r=this._document.createElement("span"),o=this._document.body;i.style.visibility="hidden",i.style.fontFamily=t,i.style.fontSize=e,i.style.margin="0",i.style.padding="0",o.appendChild(i),n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",r.style.fontFamily=t,r.style.fontSize=e,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode("Hidden Text")),i.appendChild(r),i.appendChild(n);var s=n.offsetTop-r.offsetTop+2;i.removeChild(r),i.appendChild(this._document.createTextNode("Hidden Text")),i.style.lineHeight="normal",n.style.verticalAlign="super";var a=n.offsetTop-i.offsetTop+2;return o.removeChild(i),{baseline:s,middle:a}},t.prototype.getMetrics=function(t,e){var i=t+" "+e;return void 0===this._data[i]&&(this._data[i]=this.parseMetrics(t,e)),this._data[i]},t}(),xo=function(){function t(t){this._activeEffects=[],this.canvas=t.canvas?t.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=t,t.canvas||(this.canvas.width=Math.floor(t.width*t.scale),this.canvas.height=Math.floor(t.height*t.scale),this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px"),this.fontMetrics=new yo(document),this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-t.x+t.scrollX,-t.y+t.scrollY),this.ctx.textBaseline="bottom",this._activeEffects=[],we.getInstance(t.id).debug("Canvas renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale)}return t.prototype.applyEffects=function(t,e){for(var i=this;this._activeEffects.length;)this.popEffect();t.filter(function(t){return An(t.target,e)}).forEach(function(t){return i.applyEffect(t)})},t.prototype.applyEffect=function(t){this.ctx.save(),function(t){return 0===t.type}(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),function(t){return 1===t.type}(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(t){return n(this,void 0,void 0,function(){var e;return r(this,function(i){switch(i.label){case 0:return(e=t.element.container.styles).isVisible()?(this.ctx.globalAlpha=e.opacity,[4,this.renderStackContent(t)]):[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(t){return n(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(t)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(t,e){var i=this;0===e?this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+t.bounds.height):a(t.text).map(function(t){return l(t)}).reduce(function(e,n){return i.ctx.fillText(n,e,t.bounds.top+t.bounds.height),e+i.ctx.measureText(n).width},t.bounds.left)},t.prototype.createFontStyle=function(t){var e=t.fontVariant.filter(function(t){return"normal"===t||"small-caps"===t}).join(""),i=t.fontFamily.join(", "),n=Ot(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,e,t.fontWeight,n,i].join(" "),i,n]},t.prototype.renderTextNode=function(t,e){return n(this,void 0,void 0,function(){var i,n,o,s,a=this;return r(this,function(r){return i=this.createFontStyle(e),n=i[0],o=i[1],s=i[2],this.ctx.font=n,t.textBounds.forEach(function(t){a.ctx.fillStyle=te(e.color),a.renderTextWithLetterSpacing(t,e.letterSpacing);var i=e.textShadow;i.length&&t.text.trim().length&&(i.slice(0).reverse().forEach(function(e){a.ctx.shadowColor=te(e.color),a.ctx.shadowOffsetX=e.offsetX.number*a.options.scale,a.ctx.shadowOffsetY=e.offsetY.number*a.options.scale,a.ctx.shadowBlur=e.blur.number,a.ctx.fillText(t.text,t.bounds.left,t.bounds.top+t.bounds.height)}),a.ctx.shadowColor="",a.ctx.shadowOffsetX=0,a.ctx.shadowOffsetY=0,a.ctx.shadowBlur=0),e.textDecorationLine.length&&(a.ctx.fillStyle=te(e.textDecorationColor||e.color),e.textDecorationLine.forEach(function(e){switch(e){case 1:var i=a.fontMetrics.getMetrics(o,s).baseline;a.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top+i),t.bounds.width,1);break;case 2:a.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top),t.bounds.width,1);break;case 3:var n=a.fontMetrics.getMetrics(o,s).middle;a.ctx.fillRect(t.bounds.left,Math.ceil(t.bounds.top+n),t.bounds.width,1)}}))}),[2]})})},t.prototype.renderReplacedElement=function(t,e,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var n=co(t),r=io(e);this.path(r),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,n.left,n.top,n.width,n.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(e){return n(this,void 0,void 0,function(){var i,n,s,a,l,h,u,c,p,f,m,g,v,A;return r(this,function(r){switch(r.label){case 0:this.applyEffects(e.effects,4),i=e.container,n=e.curves,s=i.styles,a=0,l=i.textNodes,r.label=1;case 1:return a<l.length?(h=l[a],[4,this.renderTextNode(h,s)]):[3,4];case 2:r.sent(),r.label=3;case 3:return a++,[3,1];case 4:if(!(i instanceof Un))return[3,8];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.options.cache.match(i.src)];case 6:return g=r.sent(),this.renderReplacedElement(i,n,g),[3,8];case 7:return r.sent(),we.getInstance(this.options.id).error("Error loading image "+i.src),[3,8];case 8:if(i instanceof Vn&&this.renderReplacedElement(i,n,i.canvas),!(i instanceof jn))return[3,12];r.label=9;case 9:return r.trys.push([9,11,,12]),[4,this.options.cache.match(i.svg)];case 10:return g=r.sent(),this.renderReplacedElement(i,n,g),[3,12];case 11:return r.sent(),we.getInstance(this.options.id).error("Error loading svg "+i.svg.substring(0,255)),[3,12];case 12:return i instanceof ir&&i.tree?[4,new t({id:this.options.id,scale:this.options.scale,backgroundColor:i.backgroundColor,x:0,y:0,scrollX:0,scrollY:0,width:i.width,height:i.height,cache:this.options.cache,windowWidth:i.width,windowHeight:i.height}).render(i.tree)]:[3,14];case 13:u=r.sent(),i.width&&i.height&&this.ctx.drawImage(u,0,0,i.width,i.height,i.bounds.left,i.bounds.top,i.bounds.width,i.bounds.height),r.label=14;case 14:if(i instanceof Jn&&(c=Math.min(i.bounds.width,i.bounds.height),i.type===$n?i.checked&&(this.ctx.save(),this.path([new $r(i.bounds.left+.39363*c,i.bounds.top+.79*c),new $r(i.bounds.left+.16*c,i.bounds.top+.5549*c),new $r(i.bounds.left+.27347*c,i.bounds.top+.44071*c),new $r(i.bounds.left+.39694*c,i.bounds.top+.5649*c),new $r(i.bounds.left+.72983*c,i.bounds.top+.23*c),new $r(i.bounds.left+.84*c,i.bounds.top+.34085*c),new $r(i.bounds.left+.39363*c,i.bounds.top+.79*c)]),this.ctx.fillStyle=te(707406591),this.ctx.fill(),this.ctx.restore()):i.type===Wn&&i.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(i.bounds.left+c/2,i.bounds.top+c/2,c/4,0,2*Math.PI,!0),this.ctx.fillStyle=te(707406591),this.ctx.fill(),this.ctx.restore())),bo(i)&&i.value.length){switch(this.ctx.font=this.createFontStyle(s)[0],this.ctx.fillStyle=te(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign=wo(i.styles.textAlign),A=co(i),p=0,i.styles.textAlign){case Ri.CENTER:p+=A.width/2;break;case Ri.RIGHT:p+=A.width}f=A.add(p,0,0,-A.height/2+1),this.ctx.save(),this.path([new $r(A.left,A.top),new $r(A.left+A.width,A.top),new $r(A.left+A.width,A.top+A.height),new $r(A.left,A.top+A.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Bn(i.value,f),s.letterSpacing),this.ctx.restore(),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"}if(!An(i.styles.display,2048))return[3,20];if(null===i.styles.listStyleImage)return[3,19];if((m=i.styles.listStyleImage).type!==ue.URL)return[3,18];g=void 0,v=m.url,r.label=15;case 15:return r.trys.push([15,17,,18]),[4,this.options.cache.match(v)];case 16:return g=r.sent(),this.ctx.drawImage(g,i.bounds.left-(g.width+10),i.bounds.top),[3,18];case 17:return r.sent(),we.getInstance(this.options.id).error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:e.listValue&&i.styles.listStyleType!==Ti.NONE&&(this.ctx.font=this.createFontStyle(s)[0],this.ctx.fillStyle=te(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",A=new o(i.bounds.left,i.bounds.top+Kt(i.styles.paddingTop,i.bounds.width),i.bounds.width,(y=s.lineHeight,x=s.fontSize.number,(Lt(y)&&"normal"===y.value?1.2*x:y.type===d.NUMBER_TOKEN?x*y.number:Vt(y)?Kt(y,x):x)/2+1)),this.renderTextWithLetterSpacing(new Bn(e.listValue,A),s.letterSpacing),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),r.label=20;case 20:return[2]}var y,x})})},t.prototype.renderStackContent=function(t){return n(this,void 0,void 0,function(){var e,i,n,o,s,a,l,h,u,c,d,p,f,m,g;return r(this,function(r){switch(r.label){case 0:return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:r.sent(),e=0,i=t.negativeZIndex,r.label=2;case 2:return e<i.length?(g=i[e],[4,this.renderStack(g)]):[3,5];case 3:r.sent(),r.label=4;case 4:return e++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:r.sent(),n=0,o=t.nonInlineLevel,r.label=7;case 7:return n<o.length?(g=o[n],[4,this.renderNode(g)]):[3,10];case 8:r.sent(),r.label=9;case 9:return n++,[3,7];case 10:s=0,a=t.nonPositionedFloats,r.label=11;case 11:return s<a.length?(g=a[s],[4,this.renderStack(g)]):[3,14];case 12:r.sent(),r.label=13;case 13:return s++,[3,11];case 14:l=0,h=t.nonPositionedInlineLevel,r.label=15;case 15:return l<h.length?(g=h[l],[4,this.renderStack(g)]):[3,18];case 16:r.sent(),r.label=17;case 17:return l++,[3,15];case 18:u=0,c=t.inlineLevel,r.label=19;case 19:return u<c.length?(g=c[u],[4,this.renderNode(g)]):[3,22];case 20:r.sent(),r.label=21;case 21:return u++,[3,19];case 22:d=0,p=t.zeroOrAutoZIndexOrTransformedOrOpacity,r.label=23;case 23:return d<p.length?(g=p[d],[4,this.renderStack(g)]):[3,26];case 24:r.sent(),r.label=25;case 25:return d++,[3,23];case 26:f=0,m=t.positiveZIndex,r.label=27;case 27:return f<m.length?(g=m[f],[4,this.renderStack(g)]):[3,30];case 28:r.sent(),r.label=29;case 29:return f++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},t.prototype.formatPath=function(t){var e=this;t.forEach(function(t,i){var n=Jr(t)?t.start:t;0===i?e.ctx.moveTo(n.x,n.y):e.ctx.lineTo(n.x,n.y),Jr(t)&&e.ctx.bezierCurveTo(t.startControl.x,t.startControl.y,t.endControl.x,t.endControl.y,t.end.x,t.end.y)})},t.prototype.renderRepeat=function(t,e,i,n){this.path(t),this.ctx.fillStyle=e,this.ctx.translate(i,n),this.ctx.fill(),this.ctx.translate(-i,-n)},t.prototype.resizeImage=function(t,e,i){if(t.width===e&&t.height===i)return t;var n=this.canvas.ownerDocument.createElement("canvas");return n.width=e,n.height=i,n.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,e,i),n},t.prototype.renderBackgroundImage=function(t){return n(this,void 0,void 0,function(){var e,i,n,o,s,a;return r(this,function(l){switch(l.label){case 0:e=t.styles.backgroundImage.length-1,i=function(i){var o,s,a,l,h,u,c,d,p,f,m,g,v,A,y,x,b,C,w,E,S,T,_,M,k,B,O,P,L,N,I;return r(this,function(r){switch(r.label){case 0:if(i.type!==ue.URL)return[3,5];o=void 0,s=i.url,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.options.cache.match(s)];case 2:return o=r.sent(),[3,4];case 3:return r.sent(),we.getInstance(n.options.id).error("Error loading background-image "+s),[3,4];case 4:return o&&(a=po(t,e,[o.width,o.height,o.width/o.height]),x=a[0],T=a[1],_=a[2],w=a[3],E=a[4],A=n.ctx.createPattern(n.resizeImage(o,w,E),"repeat"),n.renderRepeat(x,A,T,_)),[3,6];case 5:i.type===ue.LINEAR_GRADIENT?(l=po(t,e,[null,null,null]),x=l[0],T=l[1],_=l[2],w=l[3],E=l[4],h=me(i.angle,w,E),u=h[0],c=h[1],d=h[2],p=h[3],f=h[4],(m=document.createElement("canvas")).width=w,m.height=E,g=m.getContext("2d"),v=g.createLinearGradient(c,p,d,f),fe(i.stops,u).forEach(function(t){return v.addColorStop(t.stop,te(t.color))}),g.fillStyle=v,g.fillRect(0,0,w,E),w>0&&E>0&&(A=n.ctx.createPattern(m,"repeat"),n.renderRepeat(x,A,T,_))):function(t){return t.type===ue.RADIAL_GRADIENT}(i)&&(y=po(t,e,[null,null,null]),x=y[0],b=y[1],C=y[2],w=y[3],E=y[4],S=0===i.position.length?[zt]:i.position,T=Kt(S[0],w),_=Kt(S[S.length-1],E),M=function(t,e,i,n,r){var o=0,s=0;switch(t.size){case De.CLOSEST_SIDE:t.shape===Ie.CIRCLE?o=s=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(i),Math.abs(i-r)):t.shape===Ie.ELLIPSE&&(o=Math.min(Math.abs(e),Math.abs(e-n)),s=Math.min(Math.abs(i),Math.abs(i-r)));break;case De.CLOSEST_CORNER:if(t.shape===Ie.CIRCLE)o=s=Math.min(ge(e,i),ge(e,i-r),ge(e-n,i),ge(e-n,i-r));else if(t.shape===Ie.ELLIPSE){var a=Math.min(Math.abs(i),Math.abs(i-r))/Math.min(Math.abs(e),Math.abs(e-n)),l=ve(n,r,e,i,!0),h=l[0],u=l[1];s=a*(o=ge(h-e,(u-i)/a))}break;case De.FARTHEST_SIDE:t.shape===Ie.CIRCLE?o=s=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(i),Math.abs(i-r)):t.shape===Ie.ELLIPSE&&(o=Math.max(Math.abs(e),Math.abs(e-n)),s=Math.max(Math.abs(i),Math.abs(i-r)));break;case De.FARTHEST_CORNER:if(t.shape===Ie.CIRCLE)o=s=Math.max(ge(e,i),ge(e,i-r),ge(e-n,i),ge(e-n,i-r));else if(t.shape===Ie.ELLIPSE){a=Math.max(Math.abs(i),Math.abs(i-r))/Math.max(Math.abs(e),Math.abs(e-n));var c=ve(n,r,e,i,!1);h=c[0],u=c[1],s=a*(o=ge(h-e,(u-i)/a))}}return Array.isArray(t.size)&&(o=Kt(t.size[0],n),s=2===t.size.length?Kt(t.size[1],r):o),[o,s]}(i,T,_,w,E),k=M[0],B=M[1],k>0&&k>0&&(O=n.ctx.createRadialGradient(b+T,C+_,0,b+T,C+_,k),fe(i.stops,2*k).forEach(function(t){return O.addColorStop(t.stop,te(t.color))}),n.path(x),n.ctx.fillStyle=O,k!==B?(P=t.bounds.left+.5*t.bounds.width,L=t.bounds.top+.5*t.bounds.height,I=1/(N=B/k),n.ctx.save(),n.ctx.translate(P,L),n.ctx.transform(1,0,0,N,0,0),n.ctx.translate(-P,-L),n.ctx.fillRect(b,I*(C-L)+L,w,E*I),n.ctx.restore()):n.ctx.fill())),r.label=6;case 6:return e--,[2]}})},n=this,o=0,s=t.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return o<s.length?(a=s[o],[5,i(a)]):[3,4];case 2:l.sent(),l.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderBorder=function(t,e,i){return n(this,void 0,void 0,function(){return r(this,function(n){return this.path(function(t,e){switch(e){case 0:return ho(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return ho(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return ho(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return ho(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}}(i,e)),this.ctx.fillStyle=te(t),this.ctx.fill(),[2]})})},t.prototype.renderNodeBackgroundAndBorders=function(t){return n(this,void 0,void 0,function(){var e,i,n,o,s,a,l,h,u=this;return r(this,function(r){switch(r.label){case 0:return this.applyEffects(t.effects,2),e=t.container.styles,i=!Zt(e.backgroundColor)||e.backgroundImage.length,n=[{style:e.borderTopStyle,color:e.borderTopColor},{style:e.borderRightStyle,color:e.borderRightColor},{style:e.borderBottomStyle,color:e.borderBottomColor},{style:e.borderLeftStyle,color:e.borderLeftColor}],o=Co(vo(e.backgroundClip,0),t.curves),i||e.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Zt(e.backgroundColor)||(this.ctx.fillStyle=te(e.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:r.sent(),this.ctx.restore(),e.boxShadow.slice(0).reverse().forEach(function(e){u.ctx.save();var i,n,r,o,s,a=eo(t.curves),l=e.inset?0:1e4,h=(i=a,n=-l+(e.inset?1:-1)*e.spread.number,r=(e.inset?1:-1)*e.spread.number,o=e.spread.number*(e.inset?-2:2),s=e.spread.number*(e.inset?-2:2),i.map(function(t,e){switch(e){case 0:return t.add(n,r);case 1:return t.add(n+o,r);case 2:return t.add(n+o,r+s);case 3:return t.add(n,r+s)}return t}));e.inset?(u.path(a),u.ctx.clip(),u.mask(h)):(u.mask(a),u.ctx.clip(),u.path(h)),u.ctx.shadowOffsetX=e.offsetX.number+l,u.ctx.shadowOffsetY=e.offsetY.number,u.ctx.shadowColor=te(e.color),u.ctx.shadowBlur=e.blur.number,u.ctx.fillStyle=e.inset?te(e.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),r.label=2;case 2:s=0,a=0,l=n,r.label=3;case 3:return a<l.length?(h=l[a]).style===Ye.NONE||Zt(h.color)?[3,5]:[4,this.renderBorder(h.color,s,t.curves)]:[3,7];case 4:r.sent(),r.label=5;case 5:s++,r.label=6;case 6:return a++,[3,3];case 7:return[2]}})})},t.prototype.render=function(t){return n(this,void 0,void 0,function(){var e;return r(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=te(this.options.backgroundColor),this.ctx.fillRect(this.options.x-this.options.scrollX,this.options.y-this.options.scrollY,this.options.width,this.options.height)),n=new so(t,[]),r=new oo(n),ao(n,r,r,o=[]),lo(n.container,o),e=r,[4,this.renderStack(e)];case 1:return i.sent(),this.applyEffects([],2),[2,this.canvas]}var n,r,o})})},t}(),bo=function(t){return t instanceof tr||(t instanceof Zn||t instanceof Jn&&t.type!==Wn&&t.type!==$n)},Co=function(t,e){switch(t){case se.BORDER_BOX:return eo(e);case se.CONTENT_BOX:return function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]}(e);case se.PADDING_BOX:default:return io(e)}},wo=function(t){switch(t){case Ri.CENTER:return"center";case Ri.RIGHT:return"right";case Ri.LEFT:default:return"left"}},Eo=function(){function t(t){this.canvas=t.canvas?t.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=t,this.canvas.width=Math.floor(t.width*t.scale),this.canvas.height=Math.floor(t.height*t.scale),this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-t.x+t.scrollX,-t.y+t.scrollY),we.getInstance(t.id).debug("EXPERIMENTAL ForeignObject renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale)}return t.prototype.render=function(t){return n(this,void 0,void 0,function(){var e,i;return r(this,function(n){switch(n.label){case 0:return e=xe(Math.max(this.options.windowWidth,this.options.width)*this.options.scale,Math.max(this.options.windowHeight,this.options.height)*this.options.scale,this.options.scrollX*this.options.scale,this.options.scrollY*this.options.scale,t),[4,So(e)];case 1:return i=n.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=te(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(),So=function(t){return new Promise(function(e,i){var n=new Image;n.onload=function(){e(n)},n.onerror=i,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))})},To=function(t){return Jt(Bt.create(t).parseComponentValue())};Ee.setContext(window);var _o=function(t,e){return n(void 0,void 0,void 0,function(){var n,a,l,h,u,c,d,p,f,m,g,v,A,y,x,b,C,w,E,S,T,_,M;return r(this,function(r){switch(r.label){case 0:if(!(n=t.ownerDocument))throw new Error("Element is not attached to a Document");if(!(a=n.defaultView))throw new Error("Document is not attached to a Window");return l=(Math.round(1e3*Math.random())+Date.now()).toString(16),h=gr(t)||"HTML"===t.tagName?function(t){var e=t.body,i=t.documentElement;if(!e||!i)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,i.scrollWidth),Math.max(e.offsetWidth,i.offsetWidth),Math.max(e.clientWidth,i.clientWidth)),r=Math.max(Math.max(e.scrollHeight,i.scrollHeight),Math.max(e.offsetHeight,i.offsetHeight),Math.max(e.clientHeight,i.clientHeight));return new o(0,0,n,r)}(n):s(t),u=h.width,c=h.height,d=h.left,p=h.top,f=i({},{allowTaint:!1,imageTimeout:15e3,proxy:void 0,useCORS:!1},e),m={backgroundColor:"#ffffff",cache:e.cache?e.cache:Ee.create(l,f),logging:!0,removeContainer:!0,foreignObjectRendering:!1,scale:a.devicePixelRatio||1,windowWidth:a.innerWidth,windowHeight:a.innerHeight,scrollX:a.pageXOffset,scrollY:a.pageYOffset,x:d,y:p,width:Math.ceil(u),height:Math.ceil(c),id:l},g=i({},m,f,e),v=new o(g.scrollX,g.scrollY,g.windowWidth,g.windowHeight),we.create({id:l,enabled:g.logging}),we.getInstance(l).debug("Starting document clone"),A=new Ir(t,{id:l,onclone:g.onclone,ignoreElements:g.ignoreElements,inlineImages:g.foreignObjectRendering,copyStyles:g.foreignObjectRendering}),(y=A.clonedReferenceElement)?[4,A.toIFrame(n,v)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return x=r.sent(),b=n.documentElement?To(getComputedStyle(n.documentElement).backgroundColor):he.TRANSPARENT,C=n.body?To(getComputedStyle(n.body).backgroundColor):he.TRANSPARENT,w=e.backgroundColor,E="string"==typeof w?To(w):null===w?he.TRANSPARENT:4294967295,S=t===n.documentElement?Zt(b)?Zt(C)?E:C:b:E,T={id:l,cache:g.cache,canvas:g.canvas,backgroundColor:S,scale:g.scale,x:g.x,y:g.y,scrollX:g.scrollX,scrollY:g.scrollY,width:g.width,height:g.height,windowWidth:g.windowWidth,windowHeight:g.windowHeight},g.foreignObjectRendering?(we.getInstance(l).debug("Document cloned, using foreign object rendering"),[4,new Eo(T).render(y)]):[3,3];case 2:return _=r.sent(),[3,5];case 3:return we.getInstance(l).debug("Document cloned, using computed rendering"),Ee.attachInstance(g.cache),we.getInstance(l).debug("Starting DOM parsing"),M=sr(y),Ee.detachInstance(),S===M.styles.backgroundColor&&(M.styles.backgroundColor=he.TRANSPARENT),we.getInstance(l).debug("Starting renderer"),[4,new xo(T).render(M)];case 4:_=r.sent(),r.label=5;case 5:return!0===g.removeContainer&&(Ir.destroy(x)||we.getInstance(l).error("Cannot detach cloned iframe as it is not in the DOM anymore")),we.getInstance(l).debug("Finished rendering"),we.destroy(l),Ee.destroy(l),[2,_]}})})};return function(t,e){return void 0===e&&(e={}),_o(t,e)}},t.exports=n()},eNfa:function(t,e,i){"use strict";var n;!function(r){var o={},s=/d{1,4}|M{1,4}|yy(?:yy)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,a="[^\\s]+",l=/\[([^]*?)\]/gm,h=function(){};function u(t,e){for(var i=[],n=0,r=t.length;n<r;n++)i.push(t[n].substr(0,e));return i}function c(t){return function(e,i,n){var r=n[t].indexOf(i.charAt(0).toUpperCase()+i.substr(1).toLowerCase());~r&&(e.month=r)}}function d(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}var p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f=["January","February","March","April","May","June","July","August","September","October","November","December"],m=u(f,3),g=u(p,3);o.i18n={dayNamesShort:g,dayNames:p,monthNamesShort:m,monthNames:f,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10)*t%10]}};var v={D:function(t){return t.getDay()},DD:function(t){return d(t.getDay())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return t.getDate()},dd:function(t){return d(t.getDate())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return d(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},yy:function(t){return d(String(t.getFullYear()),4).substr(2)},yyyy:function(t){return d(t.getFullYear(),4)},h:function(t){return t.getHours()%12||12},hh:function(t){return d(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return d(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return d(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return d(t.getSeconds())},S:function(t){return Math.round(t.getMilliseconds()/100)},SS:function(t){return d(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return d(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+d(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},A={d:["\\d\\d?",function(t,e){t.day=e}],Do:["\\d\\d?"+a,function(t,e){t.day=parseInt(e,10)}],M:["\\d\\d?",function(t,e){t.month=e-1}],yy:["\\d\\d?",function(t,e){var i=+(""+(new Date).getFullYear()).substr(0,2);t.year=""+(e>68?i-1:i)+e}],h:["\\d\\d?",function(t,e){t.hour=e}],m:["\\d\\d?",function(t,e){t.minute=e}],s:["\\d\\d?",function(t,e){t.second=e}],yyyy:["\\d{4}",function(t,e){t.year=e}],S:["\\d",function(t,e){t.millisecond=100*e}],SS:["\\d{2}",function(t,e){t.millisecond=10*e}],SSS:["\\d{3}",function(t,e){t.millisecond=e}],D:["\\d\\d?",h],ddd:[a,h],MMM:[a,c("monthNamesShort")],MMMM:[a,c("monthNames")],a:[a,function(t,e,i){var n=e.toLowerCase();n===i.amPm[0]?t.isPm=!1:n===i.amPm[1]&&(t.isPm=!0)}],ZZ:["[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z",function(t,e){var i,n=(e+"").match(/([+-]|\d\d)/gi);n&&(i=60*n[1]+parseInt(n[2],10),t.timezoneOffset="+"===n[0]?i:-i)}]};A.dd=A.d,A.dddd=A.ddd,A.DD=A.D,A.mm=A.m,A.hh=A.H=A.HH=A.h,A.MM=A.M,A.ss=A.s,A.A=A.a,o.masks={default:"ddd MMM dd yyyy HH:mm:ss",shortDate:"M/D/yy",mediumDate:"MMM d, yyyy",longDate:"MMMM d, yyyy",fullDate:"dddd, MMMM d, yyyy",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},o.format=function(t,e,i){var n=i||o.i18n;if("number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in fecha.format");var r=[];return(e=(e=(e=o.masks[e]||e||o.masks.default).replace(l,function(t,e){return r.push(e),"@@@"})).replace(s,function(e){return e in v?v[e](t,n):e.slice(1,e.length-1)})).replace(/@@@/g,function(){return r.shift()})},o.parse=function(t,e,i){var n=i||o.i18n;if("string"!=typeof e)throw new Error("Invalid format in fecha.parse");if(e=o.masks[e]||e,t.length>1e3)return null;var r={},a=[],h=[];e=e.replace(l,function(t,e){return h.push(e),"@@@"});var u,c=(u=e,u.replace(/[|\\{()[^$+*?.-]/g,"\\$&")).replace(s,function(t){if(A[t]){var e=A[t];return a.push(e[1]),"("+e[0]+")"}return t});c=c.replace(/@@@/g,function(){return h.shift()});var d=t.match(new RegExp(c,"i"));if(!d)return null;for(var p=1;p<d.length;p++)a[p-1](r,d[p],n);var f,m=new Date;return!0===r.isPm&&null!=r.hour&&12!=+r.hour?r.hour=+r.hour+12:!1===r.isPm&&12==+r.hour&&(r.hour=0),null!=r.timezoneOffset?(r.minute=+(r.minute||0)-+r.timezoneOffset,f=new Date(Date.UTC(r.year||m.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0))):f=new Date(r.year||m.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0),f},void 0!==t&&t.exports?t.exports=o:void 0===(n=function(){return o}.call(e,i,e,t))||(t.exports=n)}()},evD5:function(t,e,i){var n=i("77Pl"),r=i("SfB7"),o=i("MmMw"),s=Object.defineProperty;e.f=i("+E39")?Object.defineProperty:function(t,e,i){if(n(t),e=o(e,!0),n(i),r)try{return s(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},fBQ2:function(t,e,i){"use strict";var n=i("evD5"),r=i("X8DO");t.exports=function(t,e,i){e in t?n.f(t,e,r(0,i)):t[e]=i}},"fEB+":function(t,e,i){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=127)}({127:function(t,e,i){"use strict";i.r(e);var n=i(16),r=i(39),o=i.n(r),s=i(3),a=i(2),l={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};var h={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar:function(){return l[this.vertical?"vertical":"horizontal"]},wrap:function(){return this.$parent.wrap}},render:function(t){var e=this.size,i=this.move,n=this.bar;return t("div",{class:["el-scrollbar__bar","is-"+n.key],on:{mousedown:this.clickTrackHandler}},[t("div",{ref:"thumb",class:"el-scrollbar__thumb",on:{mousedown:this.clickThumbHandler},style:function(t){var e=t.move,i=t.size,n=t.bar,r={},o="translate"+n.axis+"("+e+"%)";return r[n.size]=i,r.transform=o,r.msTransform=o,r.webkitTransform=o,r}({size:e,move:i,bar:n})})])},methods:{clickThumbHandler:function(t){t.ctrlKey||2===t.button||(this.startDrag(t),this[this.bar.axis]=t.currentTarget[this.bar.offset]-(t[this.bar.client]-t.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler:function(t){var e=100*(Math.abs(t.target.getBoundingClientRect()[this.bar.direction]-t[this.bar.client])-this.$refs.thumb[this.bar.offset]/2)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=e*this.wrap[this.bar.scrollSize]/100},startDrag:function(t){t.stopImmediatePropagation(),this.cursorDown=!0,Object(a.on)(document,"mousemove",this.mouseMoveDocumentHandler),Object(a.on)(document,"mouseup",this.mouseUpDocumentHandler),document.onselectstart=function(){return!1}},mouseMoveDocumentHandler:function(t){if(!1!==this.cursorDown){var e=this[this.bar.axis];if(e){var i=100*(-1*(this.$el.getBoundingClientRect()[this.bar.direction]-t[this.bar.client])-(this.$refs.thumb[this.bar.offset]-e))/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=i*this.wrap[this.bar.scrollSize]/100}}},mouseUpDocumentHandler:function(t){this.cursorDown=!1,this[this.bar.axis]=0,Object(a.off)(document,"mousemove",this.mouseMoveDocumentHandler),document.onselectstart=null}},destroyed:function(){Object(a.off)(document,"mouseup",this.mouseUpDocumentHandler)}},u={name:"ElScrollbar",components:{Bar:h},props:{native:Boolean,wrapStyle:{},wrapClass:{},viewClass:{},viewStyle:{},noresize:Boolean,tag:{type:String,default:"div"}},data:function(){return{sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0}},computed:{wrap:function(){return this.$refs.wrap}},render:function(t){var e=o()(),i=this.wrapStyle;if(e){var n="-"+e+"px",r="margin-bottom: "+n+"; margin-right: "+n+";";Array.isArray(this.wrapStyle)?(i=Object(s.toObject)(this.wrapStyle)).marginRight=i.marginBottom=n:"string"==typeof this.wrapStyle?i+=r:i=r}var a=t(this.tag,{class:["el-scrollbar__view",this.viewClass],style:this.viewStyle,ref:"resize"},this.$slots.default),l=t("div",{ref:"wrap",style:i,on:{scroll:this.handleScroll},class:[this.wrapClass,"el-scrollbar__wrap",e?"":"el-scrollbar__wrap--hidden-default"]},[[a]]);return t("div",{class:"el-scrollbar"},this.native?[t("div",{ref:"wrap",class:[this.wrapClass,"el-scrollbar__wrap"],style:i},[[a]])]:[l,t(h,{attrs:{move:this.moveX,size:this.sizeWidth}}),t(h,{attrs:{vertical:!0,move:this.moveY,size:this.sizeHeight}})])},methods:{handleScroll:function(){var t=this.wrap;this.moveY=100*t.scrollTop/t.clientHeight,this.moveX=100*t.scrollLeft/t.clientWidth},update:function(){var t,e,i=this.wrap;i&&(t=100*i.clientHeight/i.scrollHeight,e=100*i.clientWidth/i.scrollWidth,this.sizeHeight=t<100?t+"%":"",this.sizeWidth=e<100?e+"%":"")}},mounted:function(){this.native||(this.$nextTick(this.update),!this.noresize&&Object(n.addResizeListener)(this.$refs.resize,this.update))},beforeDestroy:function(){this.native||!this.noresize&&Object(n.removeResizeListener)(this.$refs.resize,this.update)},install:function(t){t.component(u.name,u)}};e.default=u},16:function(t,e){t.exports=i("02w1")},2:function(t,e){t.exports=i("2kvA")},3:function(t,e){t.exports=i("ylDJ")},39:function(t,e){t.exports=i("6Twh")}})},fKx3:function(t,e,i){"use strict";e.__esModule=!0;var n,r=i("7+uW"),o=(n=r)&&n.__esModule?n:{default:n},s=i("7J9s");var a=o.default.prototype.$isServer?function(){}:i("NMof"),l=function(t){return t.stopPropagation()};e.default={props:{transformOrigin:{type:[Boolean,String],default:!0},placement:{type:String,default:"bottom"},boundariesPadding:{type:Number,default:5},reference:{},popper:{},offset:{default:0},value:Boolean,visibleArrow:Boolean,arrowOffset:{type:Number,default:35},appendToBody:{type:Boolean,default:!0},popperOptions:{type:Object,default:function(){return{gpuAcceleration:!1}}}},data:function(){return{showPopper:!1,currentPlacement:""}},watch:{value:{immediate:!0,handler:function(t){this.showPopper=t,this.$emit("input",t)}},showPopper:function(t){this.disabled||(t?this.updatePopper():this.destroyPopper(),this.$emit("input",t))}},methods:{createPopper:function(){var t=this;if(!this.$isServer&&(this.currentPlacement=this.currentPlacement||this.placement,/^(top|bottom|left|right)(-start|-end)?$/g.test(this.currentPlacement))){var e=this.popperOptions,i=this.popperElm=this.popperElm||this.popper||this.$refs.popper,n=this.referenceElm=this.referenceElm||this.reference||this.$refs.reference;!n&&this.$slots.reference&&this.$slots.reference[0]&&(n=this.referenceElm=this.$slots.reference[0].elm),i&&n&&(this.visibleArrow&&this.appendArrow(i),this.appendToBody&&document.body.appendChild(this.popperElm),this.popperJS&&this.popperJS.destroy&&this.popperJS.destroy(),e.placement=this.currentPlacement,e.offset=this.offset,e.arrowOffset=this.arrowOffset,this.popperJS=new a(n,i,e),this.popperJS.onCreate(function(e){t.$emit("created",t),t.resetTransformOrigin(),t.$nextTick(t.updatePopper)}),"function"==typeof e.onUpdate&&this.popperJS.onUpdate(e.onUpdate),this.popperJS._popper.style.zIndex=s.PopupManager.nextZIndex(),this.popperElm.addEventListener("click",l))}},updatePopper:function(){var t=this.popperJS;t?(t.update(),t._popper&&(t._popper.style.zIndex=s.PopupManager.nextZIndex())):this.createPopper()},doDestroy:function(t){!this.popperJS||this.showPopper&&!t||(this.popperJS.destroy(),this.popperJS=null)},destroyPopper:function(){this.popperJS&&this.resetTransformOrigin()},resetTransformOrigin:function(){if(this.transformOrigin){var t=this.popperJS._popper.getAttribute("x-placement").split("-")[0],e={top:"bottom",bottom:"top",left:"right",right:"left"}[t];this.popperJS._popper.style.transformOrigin="string"==typeof this.transformOrigin?this.transformOrigin:["top","bottom"].indexOf(t)>-1?"center "+e:e+" center"}},appendArrow:function(t){var e=void 0;if(!this.appended){for(var i in this.appended=!0,t.attributes)if(/^_v-/.test(t.attributes[i].name)){e=t.attributes[i].name;break}var n=document.createElement("div");e&&n.setAttribute(e,""),n.setAttribute("x-arrow",""),n.className="popper__arrow",t.appendChild(n)}}},beforeDestroy:function(){this.doDestroy(!0),this.popperElm&&this.popperElm.parentNode===document.body&&(this.popperElm.removeEventListener("click",l),document.body.removeChild(this.popperElm))},deactivated:function(){this.$options.beforeDestroy[0].call(this)}}},fPll:function(t,e,i){"use strict";e.__esModule=!0,e.default={methods:{dispatch:function(t,e,i){for(var n=this.$parent||this.$root,r=n.$options.componentName;n&&(!r||r!==t);)(n=n.$parent)&&(r=n.$options.componentName);n&&n.$emit.apply(n,[e].concat(i))},broadcast:function(t,e,i){(function t(e,i,n){this.$children.forEach(function(r){r.$options.componentName===e?r.$emit.apply(r,[i].concat(n)):t.apply(r,[e,i].concat([n]))})}).call(this,t,e,i)}}}},fUqW:function(t,e,i){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.isVNode=function(t){return null!==t&&"object"===(void 0===t?"undefined":n(t))&&(0,r.hasOwn)(t,"componentOptions")};var r=i("ylDJ")},fWfb:function(t,e,i){"use strict";var n=i("7KvD"),r=i("D2L2"),o=i("+E39"),s=i("kM2E"),a=i("880/"),l=i("06OY").KEY,h=i("S82l"),u=i("e8AB"),c=i("e6n0"),d=i("3Eo+"),p=i("dSzd"),f=i("Kh4W"),m=i("crlp"),g=i("Xc4G"),v=i("7UMu"),A=i("77Pl"),y=i("EqjI"),x=i("TcQ7"),b=i("MmMw"),C=i("X8DO"),w=i("Yobk"),E=i("Rrel"),S=i("LKZe"),T=i("evD5"),_=i("lktj"),M=S.f,k=T.f,B=E.f,O=n.Symbol,P=n.JSON,L=P&&P.stringify,N=p("_hidden"),I=p("toPrimitive"),D={}.propertyIsEnumerable,R=u("symbol-registry"),F=u("symbols"),H=u("op-symbols"),U=Object.prototype,V="function"==typeof O,j=n.QObject,G=!j||!j.prototype||!j.prototype.findChild,z=o&&h(function(){return 7!=w(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=M(U,e);n&&delete U[e],k(t,e,i),n&&t!==U&&k(U,e,n)}:k,Q=function(t){var e=F[t]=w(O.prototype);return e._k=t,e},Y=V&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},K=function(t,e,i){return t===U&&K(H,e,i),A(t),e=b(e,!0),A(i),r(F,e)?(i.enumerable?(r(t,N)&&t[N][e]&&(t[N][e]=!1),i=w(i,{enumerable:C(0,!1)})):(r(t,N)||k(t,N,C(1,{})),t[N][e]=!0),z(t,e,i)):k(t,e,i)},X=function(t,e){A(t);for(var i,n=g(e=x(e)),r=0,o=n.length;o>r;)K(t,i=n[r++],e[i]);return t},$=function(t){var e=D.call(this,t=b(t,!0));return!(this===U&&r(F,t)&&!r(H,t))&&(!(e||!r(this,t)||!r(F,t)||r(this,N)&&this[N][t])||e)},W=function(t,e){if(t=x(t),e=b(e,!0),t!==U||!r(F,e)||r(H,e)){var i=M(t,e);return!i||!r(F,e)||r(t,N)&&t[N][e]||(i.enumerable=!0),i}},q=function(t){for(var e,i=B(x(t)),n=[],o=0;i.length>o;)r(F,e=i[o++])||e==N||e==l||n.push(e);return n},J=function(t){for(var e,i=t===U,n=B(i?H:x(t)),o=[],s=0;n.length>s;)!r(F,e=n[s++])||i&&!r(U,e)||o.push(F[e]);return o};V||(a((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(i){this===U&&e.call(H,i),r(this,N)&&r(this[N],t)&&(this[N][t]=!1),z(this,t,C(1,i))};return o&&G&&z(U,t,{configurable:!0,set:e}),Q(t)}).prototype,"toString",function(){return this._k}),S.f=W,T.f=K,i("n0T6").f=E.f=q,i("NpIQ").f=$,i("1kS7").f=J,o&&!i("O4g8")&&a(U,"propertyIsEnumerable",$,!0),f.f=function(t){return Q(p(t))}),s(s.G+s.W+s.F*!V,{Symbol:O});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)p(Z[tt++]);for(var et=_(p.store),it=0;et.length>it;)m(et[it++]);s(s.S+s.F*!V,"Symbol",{for:function(t){return r(R,t+="")?R[t]:R[t]=O(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in R)if(R[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),s(s.S+s.F*!V,"Object",{create:function(t,e){return void 0===e?w(t):X(w(t),e)},defineProperty:K,defineProperties:X,getOwnPropertyDescriptor:W,getOwnPropertyNames:q,getOwnPropertySymbols:J}),P&&s(s.S+s.F*(!V||h(function(){var t=O();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))})),"JSON",{stringify:function(t){for(var e,i,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);if(i=e=n[1],(y(e)||void 0!==t)&&!Y(t))return v(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!Y(e))return e}),n[1]=e,L.apply(P,n)}}),O.prototype[I]||i("hJx8")(O.prototype,I,O.prototype.valueOf),c(O,"Symbol"),c(Math,"Math",!0),c(n.JSON,"JSON",!0)},fkB2:function(t,e,i){var n=i("UuGF"),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=n(t))<0?r(t+e,0):o(t,e)}},h65t:function(t,e,i){var n=i("UuGF"),r=i("52gC");t.exports=function(t){return function(e,i){var o,s,a=String(r(e)),l=n(i),h=a.length;return l<0||l>=h?t?"":void 0:(o=a.charCodeAt(l))<55296||o>56319||l+1===h||(s=a.charCodeAt(l+1))<56320||s>57343?t?a.charAt(l):o:t?a.slice(l,l+2):s-56320+(o-55296<<10)+65536}}},hJx8:function(t,e,i){var n=i("evD5"),r=i("X8DO");t.exports=i("+E39")?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},hyEB:function(t,e,i){"use strict";e.__esModule=!0;var n=n||{};n.Utils=n.Utils||{},n.Utils.focusFirstDescendant=function(t){for(var e=0;e<t.childNodes.length;e++){var i=t.childNodes[e];if(n.Utils.attemptFocus(i)||n.Utils.focusFirstDescendant(i))return!0}return!1},n.Utils.focusLastDescendant=function(t){for(var e=t.childNodes.length-1;e>=0;e--){var i=t.childNodes[e];if(n.Utils.attemptFocus(i)||n.Utils.focusLastDescendant(i))return!0}return!1},n.Utils.attemptFocus=function(t){if(!n.Utils.isFocusable(t))return!1;n.Utils.IgnoreUtilFocusChanges=!0;try{t.focus()}catch(t){}return n.Utils.IgnoreUtilFocusChanges=!1,document.activeElement===t},n.Utils.isFocusable=function(t){if(t.tabIndex>0||0===t.tabIndex&&null!==t.getAttribute("tabIndex"))return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&"ignore"!==t.rel;case"INPUT":return"hidden"!==t.type&&"file"!==t.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},n.Utils.triggerEvent=function(t,e){var i=void 0;i=/^mouse|click/.test(e)?"MouseEvents":/^key/.test(e)?"KeyboardEvent":"HTMLEvents";for(var n=document.createEvent(i),r=arguments.length,o=Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];return n.initEvent.apply(n,[e].concat(o)),t.dispatchEvent?t.dispatchEvent(n):t.fireEvent("on"+e,n),t},n.Utils.keys={tab:9,enter:13,space:32,left:37,up:38,right:39,down:40,esc:27},e.default=n.Utils},i3rX:function(t,e,i){"use strict";var n=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===r}(t)}(t)};var r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(t,e){var i;return e&&!0===e.clone&&n(t)?a((i=t,Array.isArray(i)?[]:{}),t,e):t}function s(t,e,i){var r=t.slice();return e.forEach(function(e,s){void 0===r[s]?r[s]=o(e,i):n(e)?r[s]=a(t[s],e,i):-1===t.indexOf(e)&&r.push(o(e,i))}),r}function a(t,e,i){var r=Array.isArray(e);return r===Array.isArray(t)?r?((i||{arrayMerge:s}).arrayMerge||s)(t,e,i):function(t,e,i){var r={};return n(t)&&Object.keys(t).forEach(function(e){r[e]=o(t[e],i)}),Object.keys(e).forEach(function(s){n(e[s])&&t[s]?r[s]=a(t[s],e[s],i):r[s]=o(e[s],i)}),r}(t,e,i):o(e,i)}a.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce(function(t,i){return a(t,i,e)})};var l=a;t.exports=l},ivXw:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return!1},r=function(){return!0},o={"@@functional/placeholder":!0};function s(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function a(t){return function e(i){return 0===arguments.length||s(i)?e:t.apply(this,arguments)}}function l(t){return function e(i,n){switch(arguments.length){case 0:return e;case 1:return s(i)?e:a(function(e){return t(i,e)});default:return s(i)&&s(n)?e:s(i)?a(function(e){return t(e,n)}):s(n)?a(function(e){return t(i,e)}):t(i,n)}}}var h=l(function(t,e){return Number(t)+Number(e)});function u(t,e){var i;t=t||[],e=e||[];var n=t.length,r=e.length,o=[];for(i=0;i<n;)o[o.length]=t[i],i+=1;for(i=0;i<r;)o[o.length]=e[i],i+=1;return o}function c(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,i){return e.apply(this,arguments)};case 3:return function(t,i,n){return e.apply(this,arguments)};case 4:return function(t,i,n,r){return e.apply(this,arguments)};case 5:return function(t,i,n,r,o){return e.apply(this,arguments)};case 6:return function(t,i,n,r,o,s){return e.apply(this,arguments)};case 7:return function(t,i,n,r,o,s,a){return e.apply(this,arguments)};case 8:return function(t,i,n,r,o,s,a,l){return e.apply(this,arguments)};case 9:return function(t,i,n,r,o,s,a,l,h){return e.apply(this,arguments)};case 10:return function(t,i,n,r,o,s,a,l,h,u){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function d(t,e,i){return function(){for(var n=[],r=0,o=t,a=0;a<e.length||r<arguments.length;){var l;a<e.length&&(!s(e[a])||r>=arguments.length)?l=e[a]:(l=arguments[r],r+=1),n[a]=l,s(l)||(o-=1),a+=1}return o<=0?i.apply(this,n):c(o,d(t,n,i))}}var p=l(function(t,e){return 1===t?a(e):c(t,d(t,[],e))}),f=a(function(t){return p(t.length,function(){var e=0,i=arguments[0],n=arguments[arguments.length-1],r=Array.prototype.slice.call(arguments,0);return r[0]=function(){var t=i.apply(this,u(arguments,[e,n]));return e+=1,t},t.apply(this,r)})});function m(t){return function e(i,n,r){switch(arguments.length){case 0:return e;case 1:return s(i)?e:l(function(e,n){return t(i,e,n)});case 2:return s(i)&&s(n)?e:s(i)?l(function(e,i){return t(e,n,i)}):s(n)?l(function(e,n){return t(i,e,n)}):a(function(e){return t(i,n,e)});default:return s(i)&&s(n)&&s(r)?e:s(i)&&s(n)?l(function(e,i){return t(e,i,r)}):s(i)&&s(r)?l(function(e,i){return t(e,n,i)}):s(n)&&s(r)?l(function(e,n){return t(i,e,n)}):s(i)?a(function(e){return t(e,n,r)}):s(n)?a(function(e){return t(i,e,r)}):s(r)?a(function(e){return t(i,n,e)}):t(i,n,r)}}}var g=m(function(t,e,i){if(t>=i.length||t<-i.length)return i;var n=(t<0?i.length:0)+t,r=u(i);return r[n]=e(i[n]),r}),v=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function A(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function y(t,e,i){return function(){if(0===arguments.length)return i();var n=Array.prototype.slice.call(arguments,0),r=n.pop();if(!v(r)){for(var o=0;o<t.length;){if("function"==typeof r[t[o]])return r[t[o]].apply(r,n);o+=1}if(A(r))return e.apply(null,n)(r)}return i.apply(this,arguments)}}function x(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var b={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}},C=function(){function t(t,e){this.xf=e,this.f=t,this.all=!0}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=function(t){return this.all&&(t=this.xf["@@transducer/step"](t,!0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)||(this.all=!1,t=x(this.xf["@@transducer/step"](t,!1))),t},t}(),w=l(y(["all"],l(function(t,e){return new C(t,e)}),function(t,e){for(var i=0;i<e.length;){if(!t(e[i]))return!1;i+=1}return!0})),E=l(function(t,e){return e>t?e:t});function S(t,e){for(var i=0,n=e.length,r=Array(n);i<n;)r[i]=t(e[i]),i+=1;return r}function T(t){return"[object String]"===Object.prototype.toString.call(t)}var _=a(function(t){return!!v(t)||!!t&&("object"==typeof t&&(!T(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))}),M=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();function k(t){return new M(t)}var B=l(function(t,e){return c(t.length,function(){return t.apply(e,arguments)})});function O(t,e,i){for(var n=i.next();!n.done;){if((e=t["@@transducer/step"](e,n.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n=i.next()}return t["@@transducer/result"](e)}function P(t,e,i,n){return t["@@transducer/result"](i[n](B(t["@@transducer/step"],t),e))}var L="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function N(t,e,i){if("function"==typeof t&&(t=k(t)),_(i))return function(t,e,i){for(var n=0,r=i.length;n<r;){if((e=t["@@transducer/step"](e,i[n]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n+=1}return t["@@transducer/result"](e)}(t,e,i);if("function"==typeof i["fantasy-land/reduce"])return P(t,e,i,"fantasy-land/reduce");if(null!=i[L])return O(t,e,i[L]());if("function"==typeof i.next)return O(t,e,i);if("function"==typeof i.reduce)return P(t,e,i,"reduce");throw new TypeError("reduce: list must be array or iterable")}var I=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=b.result,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}(),D=l(function(t,e){return new I(t,e)});function R(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var F=Object.prototype.toString,H=function(){return"[object Arguments]"===F.call(arguments)?function(t){return"[object Arguments]"===F.call(t)}:function(t){return R("callee",t)}}(),U=!{toString:null}.propertyIsEnumerable("toString"),V=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],j=function(){return arguments.propertyIsEnumerable("length")}(),G=function(t,e){for(var i=0;i<t.length;){if(t[i]===e)return!0;i+=1}return!1},z="function"!=typeof Object.keys||j?a(function(t){if(Object(t)!==t)return[];var e,i,n=[],r=j&&H(t);for(e in t)!R(e,t)||r&&"length"===e||(n[n.length]=e);if(U)for(i=V.length-1;i>=0;)R(e=V[i],t)&&!G(n,e)&&(n[n.length]=e),i-=1;return n}):a(function(t){return Object(t)!==t?[]:Object.keys(t)}),Q=l(y(["fantasy-land/map","map"],D,function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return p(e.length,function(){return t.call(this,e.apply(this,arguments))});case"[object Object]":return N(function(i,n){return i[n]=t(e[n]),i},{},z(e));default:return S(t,e)}})),Y=l(function(t,e){for(var i=e,n=0;n<t.length;){if(null==i)return;i=i[t[n]],n+=1}return i}),K=l(function(t,e){return Y([t],e)}),X=l(function(t,e){return Q(K(t),e)}),$=m(N),W=a(function(t){return p($(E,0,X("length",t)),function(){for(var e=0,i=t.length;e<i;){if(!t[e].apply(this,arguments))return!1;e+=1}return!0})}),q=a(function(t){return function(){return t}}),J=l(function(t,e){return t&&e}),Z=function(){function t(t,e){this.xf=e,this.f=t,this.any=!1}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.any=!0,t=x(this.xf["@@transducer/step"](t,!0))),t},t}(),tt=l(y(["any"],l(function(t,e){return new Z(t,e)}),function(t,e){for(var i=0;i<e.length;){if(t(e[i]))return!0;i+=1}return!1})),et=a(function(t){return p($(E,0,X("length",t)),function(){for(var e=0,i=t.length;e<i;){if(t[e].apply(this,arguments))return!0;e+=1}return!1})}),it=l(function(t,e){return"function"==typeof e["fantasy-land/ap"]?e["fantasy-land/ap"](t):"function"==typeof t.ap?t.ap(e):"function"==typeof t?function(i){return t(i)(e(i))}:N(function(t,i){return u(t,Q(i,e))},[],t)});var nt=function(){function t(t,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.store(e),this.full?this.xf["@@transducer/step"](t,this.getCopy()):t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t.prototype.getCopy=function(){return u(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},t}(),rt=l(y([],l(function(t,e){return new nt(t,e)}),function(t,e){for(var i=0,n=e.length-(t-1),r=new Array(n>=0?n:0);i<n;)r[i]=Array.prototype.slice.call(e,i,i+t),i+=1;return r})),ot=l(function(t,e){return u(e,[t])}),st=l(function(t,e){return t.apply(this,e)}),at=a(function(t){for(var e=z(t),i=e.length,n=[],r=0;r<i;)n[r]=t[e[r]],r+=1;return n});function lt(t,e){return z(e).reduce(function(i,n){return i[n]=t(e[n]),i},{})}var ht=a(function t(e){return e=lt(function(e){return"function"==typeof e?e:t(e)},e),p($(E,0,X("length",at(e))),function(){var t=arguments;return lt(function(e){return st(e,t)},e)})}),ut=l(function(t,e){return e(t)}),ct=m(function(t,e,i){var n=t(e),r=t(i);return n<r?-1:n>r?1:0}),dt=m(function(t,e,i){var n={};for(var r in i)n[r]=i[r];return n[t]=e,n}),pt=Number.isInteger||function(t){return t<<0===t},ft=a(function(t){return null==t}),mt=m(function t(e,i,n){if(0===e.length)return i;var r=e[0];if(e.length>1){var o=!ft(n)&&R(r,n)?n[r]:pt(e[1])?[]:{};i=t(Array.prototype.slice.call(e,1),i,o)}if(pt(r)&&v(n)){var s=[].concat(n);return s[r]=i,s}return dt(r,i,n)}),gt=l(function(t,e){switch(t){case 0:return function(){return e.call(this)};case 1:return function(t){return e.call(this,t)};case 2:return function(t,i){return e.call(this,t,i)};case 3:return function(t,i,n){return e.call(this,t,i,n)};case 4:return function(t,i,n,r){return e.call(this,t,i,n,r)};case 5:return function(t,i,n,r,o){return e.call(this,t,i,n,r,o)};case 6:return function(t,i,n,r,o,s){return e.call(this,t,i,n,r,o,s)};case 7:return function(t,i,n,r,o,s,a){return e.call(this,t,i,n,r,o,s,a)};case 8:return function(t,i,n,r,o,s,a,l){return e.call(this,t,i,n,r,o,s,a,l)};case 9:return function(t,i,n,r,o,s,a,l,h){return e.call(this,t,i,n,r,o,s,a,l,h)};case 10:return function(t,i,n,r,o,s,a,l,h,u){return e.call(this,t,i,n,r,o,s,a,l,h,u)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}}),vt=a(function(t){return gt(2,t)});function At(t){return"[object Function]"===Object.prototype.toString.call(t)}var yt=l(function(t,e){var i=p(t,e);return p(t,function(){return N(it,Q(i,arguments[0]),Array.prototype.slice.call(arguments,1))})}),xt=a(function(t){return yt(t.length,t)}),bt=l(function(t,e){return At(t)?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:xt(J)(t,e)}),Ct=a(function(t){return p(t.length,t)}),wt=Ct(function(t){return t.apply(this,Array.prototype.slice.call(arguments,1))});function Et(t){return function e(i){for(var n,r,o,s=[],a=0,l=i.length;a<l;){if(_(i[a]))for(o=0,r=(n=t?e(i[a]):i[a]).length;o<r;)s[s.length]=n[o],o+=1;else s[s.length]=i[a];a+=1}return s}}var St=function(t){var e=function(t){return{"@@transducer/init":b.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,i){var n=t["@@transducer/step"](e,i);return n["@@transducer/reduced"]?{"@@transducer/value":n,"@@transducer/reduced":!0}:n}}}(t);return{"@@transducer/init":b.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,i){return _(i)?N(e,t,i):N(e,t,[i])}}},Tt=l(y(["fantasy-land/chain","chain"],l(function(t,e){return Q(t,St(e))}),function(t,e){return"function"==typeof e?function(i){return t(e(i))(i)}:Et(!1)(Q(t,e))})),_t=m(function(t,e,i){if(t>e)throw new Error("min must not be greater than max in clamp(min, max, value)");return i<t?t:i>e?e:i});function Mt(t){return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))}var kt=a(function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)});function Bt(t,e,i,n){var r=function(r){for(var o=e.length,s=0;s<o;){if(t===e[s])return i[s];s+=1}for(var a in e[s+1]=t,i[s+1]=r,t)r[a]=n?Bt(t[a],e,i,!0):t[a];return r};switch(kt(t)){case"Object":return r({});case"Array":return r([]);case"Date":return new Date(t.valueOf());case"RegExp":return Mt(t);default:return t}}var Ot=a(function(t){return null!=t&&"function"==typeof t.clone?t.clone():Bt(t,[],[],!0)}),Pt=a(function(t){return function(e,i){return t(e,i)?-1:t(i,e)?1:0}}),Lt=a(function(t){return!t}),Nt=xt(Lt);function It(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function Dt(t,e){return function(){var i=arguments.length;if(0===i)return e();var n=arguments[i-1];return v(n)||"function"!=typeof n[t]?e.apply(this,arguments):n[t].apply(n,Array.prototype.slice.call(arguments,0,i-1))}}var Rt=m(Dt("slice",function(t,e,i){return Array.prototype.slice.call(i,t,e)})),Ft=a(Dt("tail",Rt(1,1/0)));function Ht(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return c(arguments[0].length,$(It,arguments[0],Ft(arguments)))}var Ut=a(function(t){return T(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()});function Vt(){if(0===arguments.length)throw new Error("compose requires at least one argument");return Ht.apply(this,Ut(arguments))}function jt(){if(0===arguments.length)throw new Error("composeK requires at least one argument");var t=Array.prototype.slice.call(arguments),e=t.pop();return Vt(Vt.apply(this,Q(Tt,t)),e)}function Gt(t,e){return function(){var i=this;return t.apply(i,arguments).then(function(t){return e.call(i,t)})}}function zt(){if(0===arguments.length)throw new Error("pipeP requires at least one argument");return c(arguments[0].length,$(Gt,arguments[0],Ft(arguments)))}function Qt(){if(0===arguments.length)throw new Error("composeP requires at least one argument");return zt.apply(this,Ut(arguments))}var Yt=l(function(t,e){var i=t<0?e.length+t:t;return T(e)?e.charAt(i):e[i]}),Kt=Yt(0);function Xt(t){return t}var $t=a(Xt),Wt=l(function(t,e){if(e.length<=0)return $t;var i=Kt(e),n=Ft(e);return c(i.length,function(){return N(function(e,i){return t.call(this,i,e)},i.apply(this,arguments),n)})}),qt=l(function(t,e){return Wt.apply(this,[t,Ut(e)])});function Jt(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}function Zt(t,e,i){for(var n=0,r=i.length;n<r;){if(t(e,i[n]))return!0;n+=1}return!1}var te="function"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};function ee(t,e,i,n){var r=Jt(t);function o(t,e){return ie(t,e,i.slice(),n.slice())}return!Zt(function(t,e){return!Zt(o,e,t)},Jt(e),r)}function ie(t,e,i,n){if(te(t,e))return!0;var r,o,s=kt(t);if(s!==kt(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(s){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===(r=t.constructor,null==(o=String(r).match(/^function (\w*)/))?"":o[1]))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!te(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!te(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var a=i.length-1;a>=0;){if(i[a]===t)return n[a]===e;a-=1}switch(s){case"Map":return t.size===e.size&&ee(t.entries(),e.entries(),i.concat([t]),n.concat([e]));case"Set":return t.size===e.size&&ee(t.values(),e.values(),i.concat([t]),n.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var l=z(t);if(l.length!==z(e).length)return!1;var h=i.concat([t]),u=n.concat([e]);for(a=l.length-1;a>=0;){var c=l[a];if(!R(c,e)||!ie(e[c],t[c],h,u))return!1;a-=1}return!0}var ne=l(function(t,e){return ie(t,e,[],[])});function re(t,e,i){var n,r;if("function"==typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(n=1/e;i<t.length;){if(0===(r=t[i])&&1/r===n)return i;i+=1}return-1}if(e!=e){for(;i<t.length;){if("number"==typeof(r=t[i])&&r!=r)return i;i+=1}return-1}return t.indexOf(e,i);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,i);case"object":if(null===e)return t.indexOf(e,i)}for(;i<t.length;){if(ne(t[i],e))return i;i+=1}return-1}function oe(t,e){return re(e,t,0)>=0}function se(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var ae=function(t){return(t<10?"0":"")+t},le="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+ae(t.getUTCMonth()+1)+"-"+ae(t.getUTCDate())+"T"+ae(t.getUTCHours())+":"+ae(t.getUTCMinutes())+":"+ae(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function he(t){return function(){return!t.apply(this,arguments)}}function ue(t,e){for(var i=0,n=e.length,r=[];i<n;)t(e[i])&&(r[r.length]=e[i]),i+=1;return r}function ce(t){return"[object Object]"===Object.prototype.toString.call(t)}var de=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=b.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):t},t}(),pe=l(y(["filter"],l(function(t,e){return new de(t,e)}),function(t,e){return ce(e)?N(function(i,n){return t(e[n])&&(i[n]=e[n]),i},{},z(e)):ue(t,e)})),fe=l(function(t,e){return pe(he(t),e)});function me(t,e){var i=function(i){var n=e.concat([t]);return oe(i,n)?"<Circular>":me(i,n)},n=function(t,e){return S(function(e){return se(e)+": "+i(t[e])},e.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+S(i,t).join(", ")+"))";case"[object Array]":return"["+S(i,t).concat(n(t,fe(function(t){return/^\d+$/.test(t)},z(t)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof t?"new Boolean("+i(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?i(NaN):se(le(t)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof t?"new Number("+i(t.valueOf())+")":1/t==-1/0?"-0":t.toString(10);case"[object String]":return"object"==typeof t?"new String("+i(t.valueOf())+")":se(t);case"[object Undefined]":return"undefined";default:if("function"==typeof t.toString){var r=t.toString();if("[object Object]"!==r)return r}return"{"+n(t,z(t)).join(", ")+"}"}}var ge=a(function(t){return me(t,[])}),ve=l(function(t,e){if(v(t)){if(v(e))return t.concat(e);throw new TypeError(ge(e)+" is not an array")}if(T(t)){if(T(e))return t+e;throw new TypeError(ge(e)+" is not a string")}if(null!=t&&At(t["fantasy-land/concat"]))return t["fantasy-land/concat"](e);if(null!=t&&At(t.concat))return t.concat(e);throw new TypeError(ge(t)+' does not have a method named "concat" or "fantasy-land/concat"')}),Ae=a(function(t){return c($(E,0,Q(function(t){return t[0].length},t)),function(){for(var e=0;e<t.length;){if(t[e][0].apply(this,arguments))return t[e][1].apply(this,arguments);e+=1}})}),ye=l(function(t,e){if(t>10)throw new Error("Constructor with greater than ten arguments");return 0===t?function(){return new e}:Ct(gt(t,function(t,i,n,r,o,s,a,l,h,u){switch(arguments.length){case 1:return new e(t);case 2:return new e(t,i);case 3:return new e(t,i,n);case 4:return new e(t,i,n,r);case 5:return new e(t,i,n,r,o);case 6:return new e(t,i,n,r,o,s);case 7:return new e(t,i,n,r,o,s,a);case 8:return new e(t,i,n,r,o,s,a,l);case 9:return new e(t,i,n,r,o,s,a,l,h);case 10:return new e(t,i,n,r,o,s,a,l,h,u)}}))}),xe=a(function(t){return ye(t.length,t)}),be=l(oe),Ce=l(function(t,e){return p($(E,0,X("length",e)),function(){var i=arguments,n=this;return t.apply(n,S(function(t){return t.apply(n,i)},e))})}),we=function(){function t(t,e,i,n){this.valueFn=t,this.valueAcc=e,this.keyFn=i,this.xf=n,this.inputs={}}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=function(t){var e;for(e in this.inputs)if(R(e,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[e]))["@@transducer/reduced"]){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){var i=this.keyFn(e);return this.inputs[i]=this.inputs[i]||[i,this.valueAcc],this.inputs[i][1]=this.valueFn(this.inputs[i][1],e),t},t}(),Ee=d(4,[],y([],d(4,[],function(t,e,i,n){return new we(t,e,i,n)}),function(t,e,i,n){return N(function(n,r){var o=i(r);return n[o]=t(R(o,n)?n[o]:e,r),n},{},n)})),Se=Ee(function(t,e){return t+1},0),Te=h(-1),_e=l(function(t,e){return null==e||e!=e?t:e}),Me=m(function(t,e,i){var n=t(e),r=t(i);return n>r?-1:n<r?1:0});function ke(t,e,i){var n,r=typeof t;switch(r){case"string":case"number":return 0===t&&1/t==-1/0?!!i._items["-0"]||(e&&(i._items["-0"]=!0),!1):null!==i._nativeSet?e?(n=i._nativeSet.size,i._nativeSet.add(t),i._nativeSet.size===n):i._nativeSet.has(t):r in i._items?t in i._items[r]||(e&&(i._items[r][t]=!0),!1):(e&&(i._items[r]={},i._items[r][t]=!0),!1);case"boolean":if(r in i._items){var o=t?1:0;return!!i._items[r][o]||(e&&(i._items[r][o]=!0),!1)}return e&&(i._items[r]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==i._nativeSet?e?(n=i._nativeSet.size,i._nativeSet.add(t),i._nativeSet.size===n):i._nativeSet.has(t):r in i._items?!!oe(t,i._items[r])||(e&&i._items[r].push(t),!1):(e&&(i._items[r]=[t]),!1);case"undefined":return!!i._items[r]||(e&&(i._items[r]=!0),!1);case"object":if(null===t)return!!i._items.null||(e&&(i._items.null=!0),!1);default:return(r=Object.prototype.toString.call(t))in i._items?!!oe(t,i._items[r])||(e&&i._items[r].push(t),!1):(e&&(i._items[r]=[t]),!1)}}var Be=function(){function t(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return t.prototype.add=function(t){return!ke(t,!0,this)},t.prototype.has=function(t){return ke(t,!1,this)},t}(),Oe=l(function(t,e){for(var i=[],n=0,r=t.length,o=e.length,s=new Be,a=0;a<o;a+=1)s.add(e[a]);for(;n<r;)s.add(t[n])&&(i[i.length]=t[n]),n+=1;return i}),Pe=m(function(t,e,i){for(var n=[],r=0,o=e.length;r<o;)Zt(t,e[r],i)||Zt(t,e[r],n)||n.push(e[r]),r+=1;return n}),Le=l(function(t,e){var i={};for(var n in e)i[n]=e[n];return delete i[t],i}),Ne=m(function(t,e,i){var n=Array.prototype.slice.call(i,0);return n.splice(t,e),n}),Ie=m(function(t,e,i){return g(t,q(e),i)}),De=l(function t(e,i){switch(e.length){case 0:return i;case 1:return pt(e[0])&&v(i)?Ne(e[0],1,i):Le(e[0],i);default:var n=e[0],r=Array.prototype.slice.call(e,1);return null==i[n]?i:pt(n)&&v(i)?Ie(n,t(r,i[n]),i):dt(n,t(r,i[n]),i)}}),Re=l(function(t,e){return t/e}),Fe=function(){function t(t,e){this.xf=e,this.n=t}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=b.result,t.prototype["@@transducer/step"]=function(t,e){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,e)},t}(),He=l(y(["drop"],l(function(t,e){return new Fe(t,e)}),function(t,e){return Rt(Math.max(0,t),1/0,e)})),Ue=function(){function t(t,e){this.xf=e,this.n=t,this.i=0}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=b.result,t.prototype["@@transducer/step"]=function(t,e){this.i+=1;var i=0===this.n?t:this.xf["@@transducer/step"](t,e);return this.n>=0&&this.i>=this.n?x(i):i},t}(),Ve=l(y(["take"],l(function(t,e){return new Ue(t,e)}),function(t,e){return Rt(0,t<0?1/0:t,e)}));var je=function(){function t(t,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.full&&(t=this.xf["@@transducer/step"](t,this.acc[this.pos])),this.store(e),t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t}(),Ge=l(y([],l(function(t,e){return new je(t,e)}),function(t,e){return Ve(t<e.length?e.length-t:0,e)}));var ze=function(){function t(t,e){this.f=t,this.retained=[],this.xf=e}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=function(t){return this.retained=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.retain(t,e):this.flush(t,e)},t.prototype.flush=function(t,e){return t=N(this.xf["@@transducer/step"],t,this.retained),this.retained=[],this.xf["@@transducer/step"](t,e)},t.prototype.retain=function(t,e){return this.retained.push(e),t},t}(),Qe=l(y([],l(function(t,e){return new ze(t,e)}),function(t,e){for(var i=e.length-1;i>=0&&t(e[i]);)i-=1;return Rt(0,i+1,e)})),Ye=function(){function t(t,e){this.xf=e,this.pred=t,this.lastValue=void 0,this.seenFirstValue=!1}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=b.result,t.prototype["@@transducer/step"]=function(t,e){var i=!1;return this.seenFirstValue?this.pred(this.lastValue,e)&&(i=!0):this.seenFirstValue=!0,this.lastValue=e,i?t:this.xf["@@transducer/step"](t,e)},t}(),Ke=l(function(t,e){return new Ye(t,e)}),Xe=Yt(-1),$e=l(y([],Ke,function(t,e){var i=[],n=1,r=e.length;if(0!==r)for(i[0]=e[0];n<r;)t(Xe(i),e[n])||(i[i.length]=e[n]),n+=1;return i})),We=a(y([],Ke(ne),$e(ne))),qe=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=b.result,t.prototype["@@transducer/step"]=function(t,e){if(this.f){if(this.f(e))return t;this.f=null}return this.xf["@@transducer/step"](t,e)},t}(),Je=l(y(["dropWhile"],l(function(t,e){return new qe(t,e)}),function(t,e){for(var i=0,n=e.length;i<n&&t(e[i]);)i+=1;return Rt(i,1/0,e)})),Ze=l(function(t,e){return t||e}),ti=l(function(t,e){return At(t)?function(){return t.apply(this,arguments)||e.apply(this,arguments)}:xt(Ze)(t,e)}),ei=a(function(t){return null!=t&&"function"==typeof t["fantasy-land/empty"]?t["fantasy-land/empty"]():null!=t&&null!=t.constructor&&"function"==typeof t.constructor["fantasy-land/empty"]?t.constructor["fantasy-land/empty"]():null!=t&&"function"==typeof t.empty?t.empty():null!=t&&null!=t.constructor&&"function"==typeof t.constructor.empty?t.constructor.empty():v(t)?[]:T(t)?"":ce(t)?{}:H(t)?function(){return arguments}():void 0}),ii=l(function(t,e){return He(t>=0?e.length-t:0,e)}),ni=l(function(t,e){return ne(ii(t.length,e),t)}),ri=m(function(t,e,i){return ne(t(e),t(i))}),oi=m(function(t,e,i){return ne(e[t],i[t])}),si=l(function t(e,i){var n,r,o,s=i instanceof Array?[]:{};for(r in i)o=typeof(n=e[r]),s[r]="function"===o?n(i[r]):n&&"object"===o?t(n,i[r]):i[r];return s}),ai=function(){function t(t,e){this.xf=e,this.f=t,this.found=!1}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.found=!0,t=x(this.xf["@@transducer/step"](t,e))),t},t}(),li=l(y(["find"],l(function(t,e){return new ai(t,e)}),function(t,e){for(var i=0,n=e.length;i<n;){if(t(e[i]))return e[i];i+=1}})),hi=function(){function t(t,e){this.xf=e,this.f=t,this.idx=-1,this.found=!1}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,-1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.idx+=1,this.f(e)&&(this.found=!0,t=x(this.xf["@@transducer/step"](t,this.idx))),t},t}(),ui=l(y([],l(function(t,e){return new hi(t,e)}),function(t,e){for(var i=0,n=e.length;i<n;){if(t(e[i]))return i;i+=1}return-1})),ci=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.last))},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.last=e),t},t}(),di=l(y([],l(function(t,e){return new ci(t,e)}),function(t,e){for(var i=e.length-1;i>=0;){if(t(e[i]))return e[i];i-=1}})),pi=function(){function t(t,e){this.xf=e,this.f=t,this.idx=-1,this.lastIdx=-1}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.lastIdx))},t.prototype["@@transducer/step"]=function(t,e){return this.idx+=1,this.f(e)&&(this.lastIdx=this.idx),t},t}(),fi=l(y([],l(function(t,e){return new pi(t,e)}),function(t,e){for(var i=e.length-1;i>=0;){if(t(e[i]))return i;i-=1}return-1})),mi=a(Et(!0)),gi=a(function(t){return p(t.length,function(e,i){var n=Array.prototype.slice.call(arguments,0);return n[0]=i,n[1]=e,t.apply(this,n)})}),vi=l(Dt("forEach",function(t,e){for(var i=e.length,n=0;n<i;)t(e[n]),n+=1;return e})),Ai=l(function(t,e){for(var i=z(e),n=0;n<i.length;){var r=i[n];t(e[r],r,e),n+=1}return e}),yi=a(function(t){for(var e={},i=0;i<t.length;)e[t[i][0]]=t[i][1],i+=1;return e}),xi=l(Dt("groupBy",Ee(function(t,e){return null==t&&(t=[]),t.push(e),t},null))),bi=l(function(t,e){for(var i=[],n=0,r=e.length;n<r;){for(var o=n+1;o<r&&t(e[o-1],e[o]);)o+=1;i.push(e.slice(n,o)),n=o}return i}),Ci=l(function(t,e){return t>e}),wi=l(function(t,e){return t>=e}),Ei=l(function(t,e){if(0===t.length)return!1;for(var i=e,n=0;n<t.length;){if(!R(t[n],i))return!1;i=i[t[n]],n+=1}return!0}),Si=l(function(t,e){return Ei([t],e)}),Ti=l(function(t,e){return t in e}),_i=l(te),Mi=m(function(t,e,i){return p(Math.max(t.length,e.length,i.length),function(){return t.apply(this,arguments)?e.apply(this,arguments):i.apply(this,arguments)})}),ki=h(1),Bi=l(oe),Oi=Ee(function(t,e){return e},null),Pi=l(function(t,e){return"function"!=typeof e.indexOf||v(e)?re(e,t,0):e.indexOf(t)}),Li=Rt(0,-1),Ni=m(function(t,e,i){return ue(function(e){return Zt(t,e,i)},e)}),Ii=m(function(t,e,i){t=t<i.length&&t>=0?t:i.length;var n=Array.prototype.slice.call(i,0);return n.splice(t,0,e),n}),Di=m(function(t,e,i){return t=t<i.length&&t>=0?t:i.length,[].concat(Array.prototype.slice.call(i,0,t),e,Array.prototype.slice.call(i,t))}),Ri=l(function(t,e){for(var i,n,r=new Be,o=[],s=0;s<e.length;)i=t(n=e[s]),r.add(i)&&o.push(n),s+=1;return o}),Fi=Ri($t),Hi=l(function(t,e){var i,n;return t.length>e.length?(i=t,n=e):(i=e,n=t),Fi(ue(gi(oe)(i),n))}),Ui=l(Dt("intersperse",function(t,e){for(var i=[],n=0,r=e.length;n<r;)n===r-1?i.push(e[n]):i.push(e[n],t),n+=1;return i}));var Vi="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1,n=arguments.length;i<n;){var r=arguments[i];if(null!=r)for(var o in r)R(o,r)&&(e[o]=r[o]);i+=1}return e},ji=l(function(t,e){var i={};return i[t]=e,i}),Gi={"@@transducer/init":Array,"@@transducer/step":function(t,e){return t.push(e),t},"@@transducer/result":Xt},zi={"@@transducer/init":String,"@@transducer/step":function(t,e){return t+e},"@@transducer/result":Xt},Qi={"@@transducer/init":Object,"@@transducer/step":function(t,e){return Vi(t,_(e)?ji(e[0],e[1]):e)},"@@transducer/result":Xt};var Yi=m(function(t,e,i){return A(t)?N(e(t),t["@@transducer/init"](),i):N(e(function(t){if(A(t))return t;if(_(t))return Gi;if("string"==typeof t)return zi;if("object"==typeof t)return Qi;throw new Error("Cannot create transformer for "+t)}(t)),Bt(t,[],[],!1),i)}),Ki=a(function(t){for(var e=z(t),i=e.length,n=0,r={};n<i;){var o=e[n],s=t[o],a=R(s,r)?r[s]:r[s]=[];a[a.length]=o,n+=1}return r}),Xi=a(function(t){for(var e=z(t),i=e.length,n=0,r={};n<i;){var o=e[n];r[t[o]]=o,n+=1}return r}),$i=l(function(t,e){return p(t+1,function(){var i=arguments[t];if(null!=i&&At(i[e]))return i[e].apply(i,Array.prototype.slice.call(arguments,0,t));throw new TypeError(ge(i)+' does not have a method named "'+e+'"')})}),Wi=l(function(t,e){return null!=e&&e.constructor===t||e instanceof t}),qi=a(function(t){return null!=t&&ne(t,ei(t))}),Ji=$i(1,"join"),Zi=a(function(t){return Ce(function(){return Array.prototype.slice.call(arguments,0)},t)}),tn=a(function(t){var e,i=[];for(e in t)i[i.length]=e;return i}),en=l(function(t,e){if("function"!=typeof e.lastIndexOf||v(e)){for(var i=e.length-1;i>=0;){if(ne(e[i],t))return i;i-=1}return-1}return e.lastIndexOf(t)});function nn(t){return"[object Number]"===Object.prototype.toString.call(t)}var rn=a(function(t){return null!=t&&nn(t.length)?t.length:NaN}),on=l(function(t,e){return function(i){return function(n){return Q(function(t){return e(t,n)},i(t(n)))}}}),sn=a(function(t){return on(Yt(t),Ie(t))}),an=a(function(t){return on(Y(t),mt(t))}),ln=a(function(t){return on(K(t),dt(t))}),hn=l(function(t,e){return t<e}),un=l(function(t,e){return t<=e}),cn=m(function(t,e,i){for(var n=0,r=i.length,o=[],s=[e];n<r;)s=t(s[0],i[n]),o[n]=s[1],n+=1;return[s[0],o]}),dn=m(function(t,e,i){for(var n=i.length-1,r=[],o=[e];n>=0;)o=t(o[0],i[n]),r[n]=o[1],n-=1;return[o[0],r]}),pn=l(function(t,e){return N(function(i,n){return i[n]=t(e[n],n,e),i},{},z(e))}),fn=l(function(t,e){return e.match(t)||[]}),mn=l(function(t,e){return pt(t)?!pt(e)||e<1?NaN:(t%e+e)%e:NaN}),gn=m(function(t,e,i){return t(i)>t(e)?i:e}),vn=$(h,0),An=a(function(t){return vn(t)/t.length}),yn=a(function(t){var e=t.length;if(0===e)return NaN;var i=2-e%2,n=(e-i)/2;return An(Array.prototype.slice.call(t,0).sort(function(t,e){return t<e?-1:t>e?1:0}).slice(n,n+i))}),xn=l(function(t,e){var i={};return c(e.length,function(){var n=t.apply(this,arguments);return R(n,i)||(i[n]=e.apply(this,arguments)),i[n]})}),bn=l(function(t,e){return Vi({},t,e)}),Cn=a(function(t){return Vi.apply(null,[{}].concat(t))}),wn=m(function(t,e,i){var n,r={};for(n in e)R(n,e)&&(r[n]=R(n,i)?t(n,e[n],i[n]):e[n]);for(n in i)R(n,i)&&!R(n,r)&&(r[n]=i[n]);return r}),En=m(function t(e,i,n){return wn(function(i,n,r){return ce(n)&&ce(r)?t(e,n,r):e(i,n,r)},i,n)}),Sn=l(function(t,e){return En(function(t,e,i){return e},t,e)}),Tn=l(function(t,e){return En(function(t,e,i){return i},t,e)}),_n=m(function(t,e,i){return En(function(e,i,n){return t(i,n)},e,i)}),Mn=l(function(t,e){return Vi({},e,t)}),kn=l(function(t,e){return Vi({},t,e)}),Bn=m(function(t,e,i){return wn(function(e,i,n){return t(i,n)},e,i)}),On=l(function(t,e){return e<t?e:t}),Pn=m(function(t,e,i){return t(i)<t(e)?i:e}),Ln=l(function(t,e){return t%e}),Nn=m(function(t,e,i){var n=i.length,r=i.slice(),o=t<0?n+t:t,s=e<0?n+e:e,a=r.splice(o,1);return o<0||o>=i.length||s<0||s>=i.length?i:[].concat(r.slice(0,s)).concat(a).concat(r.slice(s,i.length))}),In=l(function(t,e){return t*e}),Dn=a(function(t){return-t}),Rn=l(function(t,e){return w(he(t),e)}),Fn=a(function(t){return p(t<0?1:t+1,function(){return Yt(t,arguments)})}),Hn=m(function(t,e,i){return t(e(i))});var Un=a(function(t){return[t]}),Vn=l(function(t,e){for(var i={},n={},r=0,o=t.length;r<o;)n[t[r]]=1,r+=1;for(var s in e)n.hasOwnProperty(s)||(i[s]=e[s]);return i}),jn=a(function(t){var e,i=!1;return c(t.length,function(){return i?e:(i=!0,e=t.apply(this,arguments))})});function Gn(t,e){if(null==e||!At(e.then))throw new TypeError("`"+t+"` expected a Promise, received "+me(e,[]))}var zn=l(function(t,e){return Gn("otherwise",e),e.then(null,t)}),Qn=function(t){return{value:t,map:function(e){return Qn(e(t))}}},Yn=m(function(t,e,i){return t(function(t){return Qn(e(t))})(i).value}),Kn=l(function(t,e){return[t,e]});function Xn(t){return l(function(e,i){return c(Math.max(0,e.length-i.length),function(){return e.apply(this,t(i,arguments))})})}var $n=Xn(u),Wn=Xn(gi(u)),qn=Zi([pe,fe]),Jn=m(function(t,e,i){return ne(Y(t,i),e)}),Zn=m(function(t,e,i){return _e(t,Y(e,i))}),tr=m(function(t,e,i){return e.length>0&&t(Y(e,i))}),er=l(function(t,e){for(var i={},n=0;n<t.length;)t[n]in e&&(i[t[n]]=e[t[n]]),n+=1;return i}),ir=l(function(t,e){for(var i={},n=0,r=t.length;n<r;){var o=t[n];i[o]=e[o],n+=1}return i}),nr=l(function(t,e){var i={};for(var n in e)t(e[n],n,e)&&(i[n]=e[n]);return i});function rr(){if(0===arguments.length)throw new Error("pipeK requires at least one argument");return jt.apply(this,Ut(arguments))}var or=l(function(t,e){return u([t],e)}),sr=$(In,1),ar=l(function(t,e){return p(e.length,function(){for(var i=[],n=0;n<e.length;)i.push(e[n].call(this,arguments[n])),n+=1;return t.apply(this,i.concat(Array.prototype.slice.call(arguments,e.length)))})}),lr=ar(S,[ir,$t]),hr=m(function(t,e,i){return ne(e,i[t])}),ur=m(function(t,e,i){return Wi(t,i[e])}),cr=m(function(t,e,i){return Zn(t,[e],i)}),dr=m(function(t,e,i){return t(i[e])}),pr=l(function(t,e){for(var i=t.length,n=[],r=0;r<i;)n[r]=e[t[r]],r+=1;return n}),fr=l(function(t,e){if(!nn(t)||!nn(e))throw new TypeError("Both arguments to range must be numbers");for(var i=[],n=t;n<e;)i.push(n),n+=1;return i}),mr=m(function(t,e,i){for(var n=i.length-1;n>=0;)e=t(i[n],e),n-=1;return e}),gr=d(4,[],function(t,e,i,n){return N(function(i,n){return t(i,n)?e(i,n):x(i)},i,n)}),vr=a(x),Ar=l(function(t,e){var i,n=Number(e),r=0;if(n<0||isNaN(n))throw new RangeError("n must be a non-negative number");for(i=new Array(n);r<n;)i[r]=t(r),r+=1;return i}),yr=l(function(t,e){return Ar(q(t),e)}),xr=m(function(t,e,i){return i.replace(t,e)}),br=m(function(t,e,i){for(var n=0,r=i.length,o=[e];n<r;)e=t(e,i[n]),o[n+1]=e,n+=1;return o}),Cr=l(function(t,e){return"function"==typeof e.sequence?e.sequence(t):mr(function(t,e){return it(Q(or,t),e)},t([]),e)}),wr=m(function(t,e,i){return Yn(t,q(e),i)}),Er=l(function(t,e){return Array.prototype.slice.call(e,0).sort(t)}),Sr=l(function(t,e){return Array.prototype.slice.call(e,0).sort(function(e,i){var n=t(e),r=t(i);return n<r?-1:n>r?1:0})}),Tr=l(function(t,e){return Array.prototype.slice.call(e,0).sort(function(e,i){for(var n=0,r=0;0===n&&r<t.length;)n=t[r](e,i),r+=1;return n})}),_r=$i(1,"split"),Mr=l(function(t,e){return[Rt(0,t,e),Rt(t,rn(e),e)]}),kr=l(function(t,e){if(t<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var i=[],n=0;n<e.length;)i.push(Rt(n,n+=t,e));return i}),Br=l(function(t,e){for(var i=0,n=e.length,r=[];i<n&&!t(e[i]);)r.push(e[i]),i+=1;return[r,Array.prototype.slice.call(e,i)]}),Or=l(function(t,e){return ne(Ve(t.length,e),t)}),Pr=l(function(t,e){return Number(t)-Number(e)}),Lr=l(function(t,e){return ve(Oe(t,e),Oe(e,t))}),Nr=m(function(t,e,i){return ve(Pe(t,e,i),Pe(t,i,e))}),Ir=l(function(t,e){for(var i=e.length-1;i>=0&&t(e[i]);)i-=1;return Rt(i+1,1/0,e)}),Dr=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=b.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):x(t)},t}(),Rr=l(y(["takeWhile"],l(function(t,e){return new Dr(t,e)}),function(t,e){for(var i=0,n=e.length;i<n&&t(e[i]);)i+=1;return Rt(0,i,e)})),Fr=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=b.init,t.prototype["@@transducer/result"]=b.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e),this.xf["@@transducer/step"](t,e)},t}(),Hr=l(y([],l(function(t,e){return new Fr(t,e)}),function(t,e){return t(e),e}));var Ur=l(function(t,e){if(i=t,"[object RegExp]"!==Object.prototype.toString.call(i))throw new TypeError("test requires a value of type RegExp as its first argument; received "+ge(t));var i;return Mt(t).test(e)}),Vr=l(function(t,e){return Gn("then",e),e.then(t)}),jr=$i(0,"toLowerCase"),Gr=a(function(t){var e=[];for(var i in t)R(i,t)&&(e[e.length]=[i,t[i]]);return e}),zr=a(function(t){var e=[];for(var i in t)e[e.length]=[i,t[i]];return e}),Qr=$i(0,"toUpperCase"),Yr=p(4,function(t,e,i,n){return N(t("function"==typeof e?k(e):e),i,n)}),Kr=a(function(t){for(var e=0,i=[];e<t.length;){for(var n=t[e],r=0;r<n.length;)void 0===i[r]&&(i[r]=[]),i[r].push(n[r]),r+=1;e+=1}return i}),Xr=m(function(t,e,i){return"function"==typeof i["fantasy-land/traverse"]?i["fantasy-land/traverse"](e,t):Cr(t,Q(e,i))}),$r="\t\n\v\f\r \u2028\u2029\ufeff",Wr=a("function"==typeof String.prototype.trim&&!$r.trim()&&"".trim()?function(t){return t.trim()}:function(t){var e=new RegExp("^["+$r+"]["+$r+"]*"),i=new RegExp("["+$r+"]["+$r+"]*$");return t.replace(e,"").replace(i,"")}),qr=l(function(t,e){return c(t.length,function(){try{return t.apply(this,arguments)}catch(t){return e.apply(this,u([t],arguments))}})}),Jr=a(function(t){return function(){return t(Array.prototype.slice.call(arguments,0))}}),Zr=a(function(t){return gt(1,t)}),to=l(function(t,e){return p(t,function(){for(var i,n=1,r=e,o=0;n<=t&&"function"==typeof r;)i=n===t?arguments.length:o+r.length,r=r.apply(this,Array.prototype.slice.call(arguments,o,i)),n+=1,o=i;return r})}),eo=l(function(t,e){for(var i=t(e),n=[];i&&i.length;)n[n.length]=i[0],i=t(i[1]);return n}),io=l(Vt(Fi,u)),no=l(function(t,e){for(var i,n=0,r=e.length,o=[];n<r;)Zt(t,i=e[n],o)||(o[o.length]=i),n+=1;return o}),ro=m(function(t,e,i){return no(t,u(e,i))}),oo=m(function(t,e,i){return t(i)?i:e(i)}),so=Tt(Xt),ao=m(function(t,e,i){for(var n=i;!t(n);)n=e(n);return n}),lo=a(function(t){var e,i=[];for(e in t)i[i.length]=t[e];return i}),ho=function(t){return{value:t,"fantasy-land/map":function(){return this}}},uo=l(function(t,e){return t(ho)(e).value}),co=m(function(t,e,i){return t(i)?e(i):i}),po=l(function(t,e){for(var i in t)if(R(i,t)&&!t[i](e[i]))return!1;return!0}),fo=l(function(t,e){return po(Q(ne,t),e)}),mo=l(function(t,e){return fe(gi(oe)(t),e)}),go=l(function(t,e){for(var i,n=0,r=t.length,o=e.length,s=[];n<r;){for(i=0;i<o;)s[s.length]=[t[n],e[i]],i+=1;n+=1}return s}),vo=l(function(t,e){for(var i=[],n=0,r=Math.min(t.length,e.length);n<r;)i[n]=[t[n],e[n]],n+=1;return i}),Ao=l(function(t,e){for(var i=0,n=Math.min(t.length,e.length),r={};i<n;)r[t[i]]=e[i],i+=1;return r}),yo=m(function(t,e,i){for(var n=[],r=0,o=Math.min(e.length,i.length);r<o;)n[r]=t(e[r],i[r]),r+=1;return n}),xo=a(function(t){return p(t.length,function(){var e=arguments;return function(){return t.apply(this,e)}})});i.d(e,"F",function(){return n}),i.d(e,"T",function(){return r}),i.d(e,"__",function(){return o}),i.d(e,"add",function(){return h}),i.d(e,"addIndex",function(){return f}),i.d(e,"adjust",function(){return g}),i.d(e,"all",function(){return w}),i.d(e,"allPass",function(){return W}),i.d(e,"always",function(){return q}),i.d(e,"and",function(){return J}),i.d(e,"any",function(){return tt}),i.d(e,"anyPass",function(){return et}),i.d(e,"ap",function(){return it}),i.d(e,"aperture",function(){return rt}),i.d(e,"append",function(){return ot}),i.d(e,"apply",function(){return st}),i.d(e,"applySpec",function(){return ht}),i.d(e,"applyTo",function(){return ut}),i.d(e,"ascend",function(){return ct}),i.d(e,"assoc",function(){return dt}),i.d(e,"assocPath",function(){return mt}),i.d(e,"binary",function(){return vt}),i.d(e,"bind",function(){return B}),i.d(e,"both",function(){return bt}),i.d(e,"call",function(){return wt}),i.d(e,"chain",function(){return Tt}),i.d(e,"clamp",function(){return _t}),i.d(e,"clone",function(){return Ot}),i.d(e,"comparator",function(){return Pt}),i.d(e,"complement",function(){return Nt}),i.d(e,"compose",function(){return Vt}),i.d(e,"composeK",function(){return jt}),i.d(e,"composeP",function(){return Qt}),i.d(e,"composeWith",function(){return qt}),i.d(e,"concat",function(){return ve}),i.d(e,"cond",function(){return Ae}),i.d(e,"construct",function(){return xe}),i.d(e,"constructN",function(){return ye}),i.d(e,"contains",function(){return be}),i.d(e,"converge",function(){return Ce}),i.d(e,"countBy",function(){return Se}),i.d(e,"curry",function(){return Ct}),i.d(e,"curryN",function(){return p}),i.d(e,"dec",function(){return Te}),i.d(e,"defaultTo",function(){return _e}),i.d(e,"descend",function(){return Me}),i.d(e,"difference",function(){return Oe}),i.d(e,"differenceWith",function(){return Pe}),i.d(e,"dissoc",function(){return Le}),i.d(e,"dissocPath",function(){return De}),i.d(e,"divide",function(){return Re}),i.d(e,"drop",function(){return He}),i.d(e,"dropLast",function(){return Ge}),i.d(e,"dropLastWhile",function(){return Qe}),i.d(e,"dropRepeats",function(){return We}),i.d(e,"dropRepeatsWith",function(){return $e}),i.d(e,"dropWhile",function(){return Je}),i.d(e,"either",function(){return ti}),i.d(e,"empty",function(){return ei}),i.d(e,"endsWith",function(){return ni}),i.d(e,"eqBy",function(){return ri}),i.d(e,"eqProps",function(){return oi}),i.d(e,"equals",function(){return ne}),i.d(e,"evolve",function(){return si}),i.d(e,"filter",function(){return pe}),i.d(e,"find",function(){return li}),i.d(e,"findIndex",function(){return ui}),i.d(e,"findLast",function(){return di}),i.d(e,"findLastIndex",function(){return fi}),i.d(e,"flatten",function(){return mi}),i.d(e,"flip",function(){return gi}),i.d(e,"forEach",function(){return vi}),i.d(e,"forEachObjIndexed",function(){return Ai}),i.d(e,"fromPairs",function(){return yi}),i.d(e,"groupBy",function(){return xi}),i.d(e,"groupWith",function(){return bi}),i.d(e,"gt",function(){return Ci}),i.d(e,"gte",function(){return wi}),i.d(e,"has",function(){return Si}),i.d(e,"hasIn",function(){return Ti}),i.d(e,"hasPath",function(){return Ei}),i.d(e,"head",function(){return Kt}),i.d(e,"identical",function(){return _i}),i.d(e,"identity",function(){return $t}),i.d(e,"ifElse",function(){return Mi}),i.d(e,"inc",function(){return ki}),i.d(e,"includes",function(){return Bi}),i.d(e,"indexBy",function(){return Oi}),i.d(e,"indexOf",function(){return Pi}),i.d(e,"init",function(){return Li}),i.d(e,"innerJoin",function(){return Ni}),i.d(e,"insert",function(){return Ii}),i.d(e,"insertAll",function(){return Di}),i.d(e,"intersection",function(){return Hi}),i.d(e,"intersperse",function(){return Ui}),i.d(e,"into",function(){return Yi}),i.d(e,"invert",function(){return Ki}),i.d(e,"invertObj",function(){return Xi}),i.d(e,"invoker",function(){return $i}),i.d(e,"is",function(){return Wi}),i.d(e,"isEmpty",function(){return qi}),i.d(e,"isNil",function(){return ft}),i.d(e,"join",function(){return Ji}),i.d(e,"juxt",function(){return Zi}),i.d(e,"keys",function(){return z}),i.d(e,"keysIn",function(){return tn}),i.d(e,"last",function(){return Xe}),i.d(e,"lastIndexOf",function(){return en}),i.d(e,"length",function(){return rn}),i.d(e,"lens",function(){return on}),i.d(e,"lensIndex",function(){return sn}),i.d(e,"lensPath",function(){return an}),i.d(e,"lensProp",function(){return ln}),i.d(e,"lift",function(){return xt}),i.d(e,"liftN",function(){return yt}),i.d(e,"lt",function(){return hn}),i.d(e,"lte",function(){return un}),i.d(e,"map",function(){return Q}),i.d(e,"mapAccum",function(){return cn}),i.d(e,"mapAccumRight",function(){return dn}),i.d(e,"mapObjIndexed",function(){return pn}),i.d(e,"match",function(){return fn}),i.d(e,"mathMod",function(){return mn}),i.d(e,"max",function(){return E}),i.d(e,"maxBy",function(){return gn}),i.d(e,"mean",function(){return An}),i.d(e,"median",function(){return yn}),i.d(e,"memoizeWith",function(){return xn}),i.d(e,"merge",function(){return bn}),i.d(e,"mergeAll",function(){return Cn}),i.d(e,"mergeDeepLeft",function(){return Sn}),i.d(e,"mergeDeepRight",function(){return Tn}),i.d(e,"mergeDeepWith",function(){return _n}),i.d(e,"mergeDeepWithKey",function(){return En}),i.d(e,"mergeLeft",function(){return Mn}),i.d(e,"mergeRight",function(){return kn}),i.d(e,"mergeWith",function(){return Bn}),i.d(e,"mergeWithKey",function(){return wn}),i.d(e,"min",function(){return On}),i.d(e,"minBy",function(){return Pn}),i.d(e,"modulo",function(){return Ln}),i.d(e,"move",function(){return Nn}),i.d(e,"multiply",function(){return In}),i.d(e,"nAry",function(){return gt}),i.d(e,"negate",function(){return Dn}),i.d(e,"none",function(){return Rn}),i.d(e,"not",function(){return Lt}),i.d(e,"nth",function(){return Yt}),i.d(e,"nthArg",function(){return Fn}),i.d(e,"o",function(){return Hn}),i.d(e,"objOf",function(){return ji}),i.d(e,"of",function(){return Un}),i.d(e,"omit",function(){return Vn}),i.d(e,"once",function(){return jn}),i.d(e,"or",function(){return Ze}),i.d(e,"otherwise",function(){return zn}),i.d(e,"over",function(){return Yn}),i.d(e,"pair",function(){return Kn}),i.d(e,"partial",function(){return $n}),i.d(e,"partialRight",function(){return Wn}),i.d(e,"partition",function(){return qn}),i.d(e,"path",function(){return Y}),i.d(e,"pathEq",function(){return Jn}),i.d(e,"pathOr",function(){return Zn}),i.d(e,"pathSatisfies",function(){return tr}),i.d(e,"pick",function(){return er}),i.d(e,"pickAll",function(){return ir}),i.d(e,"pickBy",function(){return nr}),i.d(e,"pipe",function(){return Ht}),i.d(e,"pipeK",function(){return rr}),i.d(e,"pipeP",function(){return zt}),i.d(e,"pipeWith",function(){return Wt}),i.d(e,"pluck",function(){return X}),i.d(e,"prepend",function(){return or}),i.d(e,"product",function(){return sr}),i.d(e,"project",function(){return lr}),i.d(e,"prop",function(){return K}),i.d(e,"propEq",function(){return hr}),i.d(e,"propIs",function(){return ur}),i.d(e,"propOr",function(){return cr}),i.d(e,"propSatisfies",function(){return dr}),i.d(e,"props",function(){return pr}),i.d(e,"range",function(){return fr}),i.d(e,"reduce",function(){return $}),i.d(e,"reduceBy",function(){return Ee}),i.d(e,"reduceRight",function(){return mr}),i.d(e,"reduceWhile",function(){return gr}),i.d(e,"reduced",function(){return vr}),i.d(e,"reject",function(){return fe}),i.d(e,"remove",function(){return Ne}),i.d(e,"repeat",function(){return yr}),i.d(e,"replace",function(){return xr}),i.d(e,"reverse",function(){return Ut}),i.d(e,"scan",function(){return br}),i.d(e,"sequence",function(){return Cr}),i.d(e,"set",function(){return wr}),i.d(e,"slice",function(){return Rt}),i.d(e,"sort",function(){return Er}),i.d(e,"sortBy",function(){return Sr}),i.d(e,"sortWith",function(){return Tr}),i.d(e,"split",function(){return _r}),i.d(e,"splitAt",function(){return Mr}),i.d(e,"splitEvery",function(){return kr}),i.d(e,"splitWhen",function(){return Br}),i.d(e,"startsWith",function(){return Or}),i.d(e,"subtract",function(){return Pr}),i.d(e,"sum",function(){return vn}),i.d(e,"symmetricDifference",function(){return Lr}),i.d(e,"symmetricDifferenceWith",function(){return Nr}),i.d(e,"tail",function(){return Ft}),i.d(e,"take",function(){return Ve}),i.d(e,"takeLast",function(){return ii}),i.d(e,"takeLastWhile",function(){return Ir}),i.d(e,"takeWhile",function(){return Rr}),i.d(e,"tap",function(){return Hr}),i.d(e,"test",function(){return Ur}),i.d(e,"then",function(){return Vr}),i.d(e,"times",function(){return Ar}),i.d(e,"toLower",function(){return jr}),i.d(e,"toPairs",function(){return Gr}),i.d(e,"toPairsIn",function(){return zr}),i.d(e,"toString",function(){return ge}),i.d(e,"toUpper",function(){return Qr}),i.d(e,"transduce",function(){return Yr}),i.d(e,"transpose",function(){return Kr}),i.d(e,"traverse",function(){return Xr}),i.d(e,"trim",function(){return Wr}),i.d(e,"tryCatch",function(){return qr}),i.d(e,"type",function(){return kt}),i.d(e,"unapply",function(){return Jr}),i.d(e,"unary",function(){return Zr}),i.d(e,"uncurryN",function(){return to}),i.d(e,"unfold",function(){return eo}),i.d(e,"union",function(){return io}),i.d(e,"unionWith",function(){return ro}),i.d(e,"uniq",function(){return Fi}),i.d(e,"uniqBy",function(){return Ri}),i.d(e,"uniqWith",function(){return no}),i.d(e,"unless",function(){return oo}),i.d(e,"unnest",function(){return so}),i.d(e,"until",function(){return ao}),i.d(e,"update",function(){return Ie}),i.d(e,"useWith",function(){return ar}),i.d(e,"values",function(){return at}),i.d(e,"valuesIn",function(){return lo}),i.d(e,"view",function(){return uo}),i.d(e,"when",function(){return co}),i.d(e,"where",function(){return po}),i.d(e,"whereEq",function(){return fo}),i.d(e,"without",function(){return mo}),i.d(e,"xprod",function(){return go}),i.d(e,"zip",function(){return vo}),i.d(e,"zipObj",function(){return Ao}),i.d(e,"zipWith",function(){return yo}),i.d(e,"thunkify",function(){return xo})},jmaC:function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t){for(var e=1,i=arguments.length;e<i;e++){var n=arguments[e]||{};for(var r in n)if(n.hasOwnProperty(r)){var o=n[r];void 0!==o&&(t[r]=o)}}return t}},jwfv:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Dd8w"),r=i.n(n),o=i("pFYg"),s=i.n(o),a=/%[sdj%]/g,l=function(){};function h(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=1,r=e[0],o=e.length;if("function"==typeof r)return r.apply(null,e.slice(1));if("string"==typeof r){for(var s=String(r).replace(a,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(e[n++]);case"%d":return Number(e[n++]);case"%j":try{return JSON.stringify(e[n++])}catch(t){return"[Circular]"}break;default:return t}}),l=e[n];n<o;l=e[++n])s+=" "+l;return s}return r}function u(t,e){return void 0===t||null===t||(!("array"!==e||!Array.isArray(t)||t.length)||!(!function(t){return"string"===t||"url"===t||"hex"===t||"email"===t||"pattern"===t}(e)||"string"!=typeof t||t))}function c(t,e,i){var n=0,r=t.length;!function o(s){if(s&&s.length)i(s);else{var a=n;n+=1,a<r?e(t[a],o):i([])}}([])}function d(t,e,i,n){if(e.first)return c(function(t){var e=[];return Object.keys(t).forEach(function(i){e.push.apply(e,t[i])}),e}(t),i,n);var r=e.firstFields||[];!0===r&&(r=Object.keys(t));var o=Object.keys(t),s=o.length,a=0,l=[],h=function(t){l.push.apply(l,t),++a===s&&n(l)};o.forEach(function(e){var n=t[e];-1!==r.indexOf(e)?c(n,i,h):function(t,e,i){var n=[],r=0,o=t.length;function s(t){n.push.apply(n,t),++r===o&&i(n)}t.forEach(function(t){e(t,s)})}(n,i,h)})}function p(t){return function(e){return e&&e.message?(e.field=e.field||t.fullField,e):{message:e,field:e.field||t.fullField}}}function f(t,e){if(e)for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];"object"===(void 0===n?"undefined":s()(n))&&"object"===s()(t[i])?t[i]=r()({},t[i],n):t[i]=n}return t}var m=function(t,e,i,n,r,o){!t.required||i.hasOwnProperty(t.field)&&!u(e,o||t.type)||n.push(h(r.messages.required,t.fullField))};var g=function(t,e,i,n,r){(/^\s+$/.test(e)||""===e)&&n.push(h(r.messages.whitespace,t.fullField))},v={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},A={integer:function(t){return A.number(t)&&parseInt(t,10)===t},float:function(t){return A.number(t)&&!A.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch(t){return!1}},date:function(t){return"function"==typeof t.getTime&&"function"==typeof t.getMonth&&"function"==typeof t.getYear},number:function(t){return!isNaN(t)&&"number"==typeof t},object:function(t){return"object"===(void 0===t?"undefined":s()(t))&&!A.array(t)},method:function(t){return"function"==typeof t},email:function(t){return"string"==typeof t&&!!t.match(v.email)&&t.length<255},url:function(t){return"string"==typeof t&&!!t.match(v.url)},hex:function(t){return"string"==typeof t&&!!t.match(v.hex)}};var y="enum";var x={required:m,whitespace:g,type:function(t,e,i,n,r){if(t.required&&void 0===e)m(t,e,i,n,r);else{var o=t.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?A[o](e)||n.push(h(r.messages.types[o],t.fullField,t.type)):o&&(void 0===e?"undefined":s()(e))!==t.type&&n.push(h(r.messages.types[o],t.fullField,t.type))}},range:function(t,e,i,n,r){var o="number"==typeof t.len,s="number"==typeof t.min,a="number"==typeof t.max,l=e,u=null,c="number"==typeof e,d="string"==typeof e,p=Array.isArray(e);if(c?u="number":d?u="string":p&&(u="array"),!u)return!1;p&&(l=e.length),d&&(l=e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?l!==t.len&&n.push(h(r.messages[u].len,t.fullField,t.len)):s&&!a&&l<t.min?n.push(h(r.messages[u].min,t.fullField,t.min)):a&&!s&&l>t.max?n.push(h(r.messages[u].max,t.fullField,t.max)):s&&a&&(l<t.min||l>t.max)&&n.push(h(r.messages[u].range,t.fullField,t.min,t.max))},enum:function(t,e,i,n,r){t[y]=Array.isArray(t[y])?t[y]:[],-1===t[y].indexOf(e)&&n.push(h(r.messages[y],t.fullField,t[y].join(", ")))},pattern:function(t,e,i,n,r){t.pattern&&(t.pattern instanceof RegExp?(t.pattern.lastIndex=0,t.pattern.test(e)||n.push(h(r.messages.pattern.mismatch,t.fullField,e,t.pattern))):"string"==typeof t.pattern&&(new RegExp(t.pattern).test(e)||n.push(h(r.messages.pattern.mismatch,t.fullField,e,t.pattern))))}};var b="enum";var C=function(t,e,i,n,r){var o=t.type,s=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(u(e,o)&&!t.required)return i();x.required(t,e,n,s,r,o),u(e,o)||x.type(t,e,n,s,r)}i(s)},w={string:function(t,e,i,n,r){var o=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(u(e,"string")&&!t.required)return i();x.required(t,e,n,o,r,"string"),u(e,"string")||(x.type(t,e,n,o,r),x.range(t,e,n,o,r),x.pattern(t,e,n,o,r),!0===t.whitespace&&x.whitespace(t,e,n,o,r))}i(o)},method:function(t,e,i,n,r){var o=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(u(e)&&!t.required)return i();x.required(t,e,n,o,r),void 0!==e&&x.type(t,e,n,o,r)}i(o)},number:function(t,e,i,n,r){var o=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(u(e)&&!t.required)return i();x.required(t,e,n,o,r),void 0!==e&&(x.type(t,e,n,o,r),x.range(t,e,n,o,r))}i(o)},boolean:function(t,e,i,n,r){var o=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(u(e)&&!t.required)return i();x.required(t,e,n,o,r),void 0!==e&&x.type(t,e,n,o,r)}i(o)},regexp:function(t,e,i,n,r){var o=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(u(e)&&!t.required)return i();x.required(t,e,n,o,r),u(e)||x.type(t,e,n,o,r)}i(o)},integer:function(t,e,i,n,r){var o=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(u(e)&&!t.required)return i();x.required(t,e,n,o,r),void 0!==e&&(x.type(t,e,n,o,r),x.range(t,e,n,o,r))}i(o)},float:function(t,e,i,n,r){var o=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(u(e)&&!t.required)return i();x.required(t,e,n,o,r),void 0!==e&&(x.type(t,e,n,o,r),x.range(t,e,n,o,r))}i(o)},array:function(t,e,i,n,r){var o=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(u(e,"array")&&!t.required)return i();x.required(t,e,n,o,r,"array"),u(e,"array")||(x.type(t,e,n,o,r),x.range(t,e,n,o,r))}i(o)},object:function(t,e,i,n,r){var o=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(u(e)&&!t.required)return i();x.required(t,e,n,o,r),void 0!==e&&x.type(t,e,n,o,r)}i(o)},enum:function(t,e,i,n,r){var o=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(u(e)&&!t.required)return i();x.required(t,e,n,o,r),e&&x[b](t,e,n,o,r)}i(o)},pattern:function(t,e,i,n,r){var o=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(u(e,"string")&&!t.required)return i();x.required(t,e,n,o,r),u(e,"string")||x.pattern(t,e,n,o,r)}i(o)},date:function(t,e,i,n,r){var o=[];if(t.required||!t.required&&n.hasOwnProperty(t.field)){if(u(e)&&!t.required)return i();if(x.required(t,e,n,o,r),!u(e)){var s=void 0;s="number"==typeof e?new Date(e):e,x.type(t,s,n,o,r),s&&x.range(t,s.getTime(),n,o,r)}}i(o)},url:C,hex:C,email:C,required:function(t,e,i,n,r){var o=[],a=Array.isArray(e)?"array":void 0===e?"undefined":s()(e);x.required(t,e,n,o,r,a),i(o)}};function E(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var S=E();function T(t){this.rules=null,this._messages=S,this.define(t)}T.prototype={messages:function(t){return t&&(this._messages=f(E(),t)),this._messages},define:function(t){if(!t)throw new Error("Cannot configure a schema with no rules");if("object"!==(void 0===t?"undefined":s()(t))||Array.isArray(t))throw new Error("Rules must be an object");this.rules={};var e=void 0,i=void 0;for(e in t)t.hasOwnProperty(e)&&(i=t[e],this.rules[e]=Array.isArray(i)?i:[i])},validate:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],o=t,a=i,u=n;if("function"==typeof a&&(u=a,a={}),this.rules&&0!==Object.keys(this.rules).length){if(a.messages){var c=this.messages();c===S&&(c=E()),f(c,a.messages),a.messages=c}else a.messages=this.messages();var m=void 0,g=void 0,v={};(a.keys||Object.keys(this.rules)).forEach(function(i){m=e.rules[i],g=o[i],m.forEach(function(n){var s=n;"function"==typeof s.transform&&(o===t&&(o=r()({},o)),g=o[i]=s.transform(g)),(s="function"==typeof s?{validator:s}:r()({},s)).validator=e.getValidationMethod(s),s.field=i,s.fullField=s.fullField||i,s.type=e.getType(s),s.validator&&(v[i]=v[i]||[],v[i].push({rule:s,value:g,source:o,field:i}))})});var A={};d(v,a,function(t,e){var i=t.rule,n=!("object"!==i.type&&"array"!==i.type||"object"!==s()(i.fields)&&"object"!==s()(i.defaultField));function o(t,e){return r()({},e,{fullField:i.fullField+"."+t})}function u(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Array.isArray(s)||(s=[s]),s.length&&l("async-validator:",s),s.length&&i.message&&(s=[].concat(i.message)),s=s.map(p(i)),a.first&&s.length)return A[i.field]=1,e(s);if(n){if(i.required&&!t.value)return s=i.message?[].concat(i.message).map(p(i)):a.error?[a.error(i,h(a.messages.required,i.field))]:[],e(s);var u={};if(i.defaultField)for(var c in t.value)t.value.hasOwnProperty(c)&&(u[c]=i.defaultField);for(var d in u=r()({},u,t.rule.fields))if(u.hasOwnProperty(d)){var f=Array.isArray(u[d])?u[d]:[u[d]];u[d]=f.map(o.bind(null,d))}var m=new T(u);m.messages(a.messages),t.rule.options&&(t.rule.options.messages=a.messages,t.rule.options.error=a.error),m.validate(t.value,t.rule.options||a,function(t){e(t&&t.length?s.concat(t):t)})}else e(s)}n=n&&(i.required||!i.required&&t.value),i.field=t.field;var c=i.validator(i,t.value,u,t.source,a);c&&c.then&&c.then(function(){return u()},function(t){return u(t)})},function(t){!function(t){var e,i=void 0,n=void 0,r=[],o={};for(i=0;i<t.length;i++)e=t[i],Array.isArray(e)?r=r.concat.apply(r,e):r.push(e);if(r.length)for(i=0;i<r.length;i++)o[n=r[i].field]=o[n]||[],o[n].push(r[i]);else r=null,o=null;u(r,o)}(t)})}else u&&u()},getType:function(t){if(void 0===t.type&&t.pattern instanceof RegExp&&(t.type="pattern"),"function"!=typeof t.validator&&t.type&&!w.hasOwnProperty(t.type))throw new Error(h("Unknown rule type %s",t.type));return t.type||"string"},getValidationMethod:function(t){if("function"==typeof t.validator)return t.validator;var e=Object.keys(t),i=e.indexOf("message");return-1!==i&&e.splice(i,1),1===e.length&&"required"===e[0]?w.required:w[this.getType(t)]||!1}},T.register=function(t,e){if("function"!=typeof e)throw new Error("Cannot register a validator by type, validator is not a function");w[t]=e},T.messages=S;e.default=T},kM2E:function(t,e,i){var n=i("7KvD"),r=i("FeBl"),o=i("+ZMJ"),s=i("hJx8"),a=i("D2L2"),l=function(t,e,i){var h,u,c,d=t&l.F,p=t&l.G,f=t&l.S,m=t&l.P,g=t&l.B,v=t&l.W,A=p?r:r[e]||(r[e]={}),y=A.prototype,x=p?n:f?n[e]:(n[e]||{}).prototype;for(h in p&&(i=e),i)(u=!d&&x&&void 0!==x[h])&&a(A,h)||(c=u?x[h]:i[h],A[h]=p&&"function"!=typeof x[h]?i[h]:g&&u?o(c,n):v&&x[h]==c?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):m&&"function"==typeof c?o(Function.call,c):c,m&&((A.virtual||(A.virtual={}))[h]=c,t&l.R&&y&&!y[h]&&s(y,h,c)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},kNJA:function(t,e,i){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=59)}({0:function(t,e,i){"use strict";function n(t,e,i,n,r,o,s,a){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),n&&(h.functional=!0),o&&(h._scopeId="data-v-"+o),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},h._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return n})},14:function(t,e){t.exports=i("fEB+")},18:function(t,e){t.exports=i("EKTV")},21:function(t,e){t.exports=i("E/in")},26:function(t,e){t.exports=i("nvbp")},3:function(t,e){t.exports=i("ylDJ")},31:function(t,e){t.exports=i("zTCi")},32:function(t,e){t.exports=i("hyEB")},51:function(t,e){t.exports=i("RDoK")},59:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:["el-cascader-panel",this.border&&"is-bordered"],on:{keydown:this.handleKeyDown}},this._l(this.menus,function(t,i){return e("cascader-menu",{key:i,ref:"menu",refInFor:!0,attrs:{index:i,nodes:t}})}),1)};n._withStripped=!0;var r=i(26),o=i.n(r),s=i(14),a=i.n(s),l=i(18),h=i.n(l),u=i(51),c=i.n(u),d=i(3),p=function(t){return t.stopPropagation()},f={inject:["panel"],components:{ElCheckbox:h.a,ElRadio:c.a},props:{node:{required:!0},nodeId:String},computed:{config:function(){return this.panel.config},isLeaf:function(){return this.node.isLeaf},isDisabled:function(){return this.node.isDisabled},checkedValue:function(){return this.panel.checkedValue},isChecked:function(){return this.node.isSameNode(this.checkedValue)},inActivePath:function(){return this.isInPath(this.panel.activePath)},inCheckedPath:function(){var t=this;return!!this.config.checkStrictly&&this.panel.checkedNodePaths.some(function(e){return t.isInPath(e)})},value:function(){return this.node.getValueByOption()}},methods:{handleExpand:function(){var t=this,e=this.panel,i=this.node,n=this.isDisabled,r=this.config,o=r.multiple;!r.checkStrictly&&n||i.loading||(r.lazy&&!i.loaded?e.lazyLoad(i,function(){var e=t.isLeaf;if(e||t.handleExpand(),o){var n=!!e&&i.checked;t.handleMultiCheckChange(n)}}):e.handleExpand(i))},handleCheckChange:function(){var t=this.panel,e=this.value,i=this.node;t.handleCheckChange(e),t.handleExpand(i)},handleMultiCheckChange:function(t){this.node.doCheck(t),this.panel.calculateMultiCheckedValue()},isInPath:function(t){var e=this.node;return(t[e.level-1]||{}).uid===e.uid},renderPrefix:function(t){var e=this.isLeaf,i=this.isChecked,n=this.config,r=n.checkStrictly;return n.multiple?this.renderCheckbox(t):r?this.renderRadio(t):e&&i?this.renderCheckIcon(t):null},renderPostfix:function(t){var e=this.node,i=this.isLeaf;return e.loading?this.renderLoadingIcon(t):i?null:this.renderExpandIcon(t)},renderCheckbox:function(t){var e=this.node,i=this.config,n=this.isDisabled,r={on:{change:this.handleMultiCheckChange},nativeOn:{}};return i.checkStrictly&&(r.nativeOn.click=p),t("el-checkbox",o()([{attrs:{value:e.checked,indeterminate:e.indeterminate,disabled:n}},r]))},renderRadio:function(t){var e=this.checkedValue,i=this.value,n=this.isDisabled;return Object(d.isEqual)(i,e)&&(i=e),t("el-radio",{attrs:{value:e,label:i,disabled:n},on:{change:this.handleCheckChange},nativeOn:{click:p}},[t("span")])},renderCheckIcon:function(t){return t("i",{class:"el-icon-check el-cascader-node__prefix"})},renderLoadingIcon:function(t){return t("i",{class:"el-icon-loading el-cascader-node__postfix"})},renderExpandIcon:function(t){return t("i",{class:"el-icon-arrow-right el-cascader-node__postfix"})},renderContent:function(t){var e=this.panel,i=this.node,n=e.renderLabelFn;return t("span",{class:"el-cascader-node__label"},[(n?n({node:i,data:i.data}):null)||i.label])}},render:function(t){var e=this,i=this.inActivePath,n=this.inCheckedPath,r=this.isChecked,s=this.isLeaf,a=this.isDisabled,l=this.config,h=this.nodeId,u=l.expandTrigger,c=l.checkStrictly,d=l.multiple,p=!c&&a,f={on:{}};return"click"===u?f.on.click=this.handleExpand:(f.on.mouseenter=function(t){e.handleExpand(),e.$emit("expand",t)},f.on.focus=function(t){e.handleExpand(),e.$emit("expand",t)}),!s||a||c||d||(f.on.click=this.handleCheckChange),t("li",o()([{attrs:{role:"menuitem",id:h,"aria-expanded":i,tabindex:p?null:-1},class:{"el-cascader-node":!0,"is-selectable":c,"in-active-path":i,"in-checked-path":n,"is-active":r,"is-disabled":p}},f]),[this.renderPrefix(t),this.renderContent(t),this.renderPostfix(t)])}},m=i(0),g=Object(m.a)(f,void 0,void 0,!1,null,null,null);g.options.__file="packages/cascader-panel/src/cascader-node.vue";var v=g.exports,A=i(6),y={name:"ElCascaderMenu",mixins:[i.n(A).a],inject:["panel"],components:{ElScrollbar:a.a,CascaderNode:v},props:{nodes:{type:Array,required:!0},index:Number},data:function(){return{activeNode:null,hoverTimer:null,id:Object(d.generateId)()}},computed:{isEmpty:function(){return!this.nodes.length},menuId:function(){return"cascader-menu-"+this.id+"-"+this.index}},methods:{handleExpand:function(t){this.activeNode=t.target},handleMouseMove:function(t){var e=this.activeNode,i=this.hoverTimer,n=this.$refs.hoverZone;if(e&&n)if(e.contains(t.target)){clearTimeout(i);var r=this.$el.getBoundingClientRect().left,o=t.clientX-r,s=this.$el,a=s.offsetWidth,l=s.offsetHeight,h=e.offsetTop,u=h+e.offsetHeight;n.innerHTML='\n          <path style="pointer-events: auto;" fill="transparent" d="M'+o+" "+h+" L"+a+" 0 V"+h+' Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M'+o+" "+u+" L"+a+" "+l+" V"+u+' Z" />\n        '}else i||(this.hoverTimer=setTimeout(this.clearHoverZone,this.panel.config.hoverThreshold))},clearHoverZone:function(){var t=this.$refs.hoverZone;t&&(t.innerHTML="")},renderEmptyText:function(t){return t("div",{class:"el-cascader-menu__empty-text"},[this.t("el.cascader.noData")])},renderNodeList:function(t){var e=this.menuId,i=this.panel.isHoverMenu,n={on:{}};i&&(n.on.expand=this.handleExpand);var r=this.nodes.map(function(i,r){var s=i.hasChildren;return t("cascader-node",o()([{key:i.uid,attrs:{node:i,"node-id":e+"-"+r,"aria-haspopup":s,"aria-owns":s?e:null}},n]))});return[].concat(r,[i?t("svg",{ref:"hoverZone",class:"el-cascader-menu__hover-zone"}):null])}},render:function(t){var e=this.isEmpty,i=this.menuId,n={nativeOn:{}};return this.panel.isHoverMenu&&(n.nativeOn.mousemove=this.handleMouseMove),t("el-scrollbar",o()([{attrs:{tag:"ul",role:"menu",id:i,"wrap-class":"el-cascader-menu__wrap","view-class":{"el-cascader-menu__list":!0,"is-empty":e}},class:"el-cascader-menu"},n]),[e?this.renderEmptyText(t):this.renderNodeList(t)])}},x=Object(m.a)(y,void 0,void 0,!1,null,null,null);x.options.__file="packages/cascader-panel/src/cascader-menu.vue";var b=x.exports,C=i(21),w=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var E=0,S=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.config=i,this.parent=n||null,this.level=this.parent?this.parent.level+1:1,this.uid=E++,this.initState(),this.initChildren()}return t.prototype.initState=function(){var t=this.config,e=t.value,i=t.label;this.value=this.data[e],this.label=this.data[i],this.pathNodes=this.calculatePathNodes(),this.path=this.pathNodes.map(function(t){return t.value}),this.pathLabels=this.pathNodes.map(function(t){return t.label}),this.loading=!1,this.loaded=!1},t.prototype.initChildren=function(){var e=this,i=this.config,n=i.children,r=this.data[n];this.hasChildren=Array.isArray(r),this.children=(r||[]).map(function(n){return new t(n,i,e)})},t.prototype.calculatePathNodes=function(){for(var t=[this],e=this.parent;e;)t.unshift(e),e=e.parent;return t},t.prototype.getPath=function(){return this.path},t.prototype.getValue=function(){return this.value},t.prototype.getValueByOption=function(){return this.config.emitPath?this.getPath():this.getValue()},t.prototype.getText=function(t,e){return t?this.pathLabels.join(e):this.label},t.prototype.isSameNode=function(t){var e=this.getValueByOption();return this.config.multiple&&Array.isArray(t)?t.some(function(t){return Object(d.isEqual)(t,e)}):Object(d.isEqual)(t,e)},t.prototype.broadcast=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var r="onParent"+Object(d.capitalize)(t);this.children.forEach(function(e){e&&(e.broadcast.apply(e,[t].concat(i)),e[r]&&e[r].apply(e,i))})},t.prototype.emit=function(t){var e=this.parent,i="onChild"+Object(d.capitalize)(t);if(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e[i]&&e[i].apply(e,r),e.emit.apply(e,[t].concat(r))}},t.prototype.onParentCheck=function(t){this.isDisabled||this.setCheckState(t)},t.prototype.onChildCheck=function(){var t=this.children.filter(function(t){return!t.isDisabled}),e=!!t.length&&t.every(function(t){return t.checked});this.setCheckState(e)},t.prototype.setCheckState=function(t){var e=this.children.length,i=this.children.reduce(function(t,e){return t+(e.checked?1:e.indeterminate?.5:0)},0);this.checked=t,this.indeterminate=i!==e&&i>0},t.prototype.syncCheckState=function(t){var e=this.getValueByOption(),i=this.isSameNode(t,e);this.doCheck(i)},t.prototype.doCheck=function(t){this.checked!==t&&(this.config.checkStrictly?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check")))},w(t,[{key:"isDisabled",get:function(){var t=this.data,e=this.parent,i=this.config,n=i.disabled,r=i.checkStrictly;return t[n]||!r&&e&&e.isDisabled}},{key:"isLeaf",get:function(){var t=this.data,e=this.loaded,i=this.hasChildren,n=this.children,r=this.config,o=r.lazy,s=r.leaf;if(o){var a=Object(C.isDef)(t[s])?t[s]:!!e&&!n.length;return this.hasChildren=!a,a}return!i}}]),t}();var T=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=i,this.initNodes(e)}return t.prototype.initNodes=function(t){var e=this;t=Object(d.coerceTruthyValueToArray)(t),this.nodes=t.map(function(t){return new S(t,e.config)}),this.flattedNodes=this.getFlattedNodes(!1,!1),this.leafNodes=this.getFlattedNodes(!0,!1)},t.prototype.appendNode=function(t,e){var i=new S(t,this.config,e);(e?e.children:this.nodes).push(i)},t.prototype.appendNodes=function(t,e){var i=this;(t=Object(d.coerceTruthyValueToArray)(t)).forEach(function(t){return i.appendNode(t,e)})},t.prototype.getNodes=function(){return this.nodes},t.prototype.getFlattedNodes=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t?this.leafNodes:this.flattedNodes;return e?i:function t(e,i){return e.reduce(function(e,n){return n.isLeaf?e.push(n):(!i&&e.push(n),e=e.concat(t(n.children,i))),e},[])}(this.nodes,t)},t.prototype.getNodeByValue=function(t){if(t){var e=this.getFlattedNodes(!1,!this.config.lazy).filter(function(e){return Object(d.valueEquals)(e.path,t)||e.value===t});return e&&e.length?e[0]:null}return null},t}(),_=i(9),M=i.n(_),k=i(32),B=i.n(k),O=i(31),P=i.n(O),L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},N=B.a.keys,I={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:d.noop,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},D=function(t){return!t.getAttribute("aria-owns")},R=function(t,e){var i=t.parentNode;if(i){var n=i.querySelectorAll('.el-cascader-node[tabindex="-1"]');return n[Array.prototype.indexOf.call(n,t)+e]||null}return null},F=function(t,e){if(t){var i=t.id.split("-");return Number(i[i.length-2])}},H=function(t){t&&(t.focus(),!D(t)&&t.click())},U={name:"ElCascaderPanel",components:{CascaderMenu:b},props:{value:{},options:Array,props:Object,border:{type:Boolean,default:!0},renderLabel:Function},provide:function(){return{panel:this}},data:function(){return{checkedValue:null,checkedNodePaths:[],store:[],menus:[],activePath:[],loadCount:0}},computed:{config:function(){return M()(L({},I),this.props||{})},multiple:function(){return this.config.multiple},checkStrictly:function(){return this.config.checkStrictly},leafOnly:function(){return!this.checkStrictly},isHoverMenu:function(){return"hover"===this.config.expandTrigger},renderLabelFn:function(){return this.renderLabel||this.$scopedSlots.default}},watch:{options:{handler:function(){this.initStore()},immediate:!0,deep:!0},value:function(){this.syncCheckedValue(),this.checkStrictly&&this.calculateCheckedNodePaths()},checkedValue:function(t){Object(d.isEqual)(t,this.value)||(this.checkStrictly&&this.calculateCheckedNodePaths(),this.$emit("input",t),this.$emit("change",t))}},mounted:function(){Object(d.isEmpty)(this.value)||this.syncCheckedValue()},methods:{initStore:function(){var t=this.config,e=this.options;t.lazy&&Object(d.isEmpty)(e)?this.lazyLoad():(this.store=new T(e,t),this.menus=[this.store.getNodes()],this.syncMenuState())},syncCheckedValue:function(){var t=this.value,e=this.checkedValue;Object(d.isEqual)(t,e)||(this.checkedValue=t,this.syncMenuState())},syncMenuState:function(){var t=this.multiple,e=this.checkStrictly;this.syncActivePath(),t&&this.syncMultiCheckState(),e&&this.calculateCheckedNodePaths(),this.$nextTick(this.scrollIntoView)},syncMultiCheckState:function(){var t=this;this.getFlattedNodes(this.leafOnly).forEach(function(e){e.syncCheckState(t.checkedValue)})},syncActivePath:function(){var t=this,e=this.store,i=this.multiple,n=this.activePath,r=this.checkedValue;if(Object(d.isEmpty)(n))if(Object(d.isEmpty)(r))this.activePath=[],this.menus=[e.getNodes()];else{var o=i?r[0]:r,s=((this.getNodeByValue(o)||{}).pathNodes||[]).slice(0,-1);this.expandNodes(s)}else{var a=n.map(function(e){return t.getNodeByValue(e.getValue())});this.expandNodes(a)}},expandNodes:function(t){var e=this;t.forEach(function(t){return e.handleExpand(t,!0)})},calculateCheckedNodePaths:function(){var t=this,e=this.checkedValue,i=this.multiple?Object(d.coerceTruthyValueToArray)(e):[e];this.checkedNodePaths=i.map(function(e){var i=t.getNodeByValue(e);return i?i.pathNodes:[]})},handleKeyDown:function(t){var e=t.target;switch(t.keyCode){case N.up:var i=R(e,-1);H(i);break;case N.down:var n=R(e,1);H(n);break;case N.left:var r=this.$refs.menu[F(e)-1];if(r){var o=r.$el.querySelector('.el-cascader-node[aria-expanded="true"]');H(o)}break;case N.right:var s=this.$refs.menu[F(e)+1];if(s){var a=s.$el.querySelector('.el-cascader-node[tabindex="-1"]');H(a)}break;case N.enter:!function(t){if(t){var e=t.querySelector("input");e?e.click():D(t)&&t.click()}}(e);break;case N.esc:case N.tab:this.$emit("close");break;default:return}},handleExpand:function(t,e){var i=this.activePath,n=t.level,r=i.slice(0,n-1),o=this.menus.slice(0,n);if(t.isLeaf||(r.push(t),o.push(t.children)),this.activePath=r,this.menus=o,!e){var s=r.map(function(t){return t.getValue()}),a=i.map(function(t){return t.getValue()});Object(d.valueEquals)(s,a)||(this.$emit("active-item-change",s),this.$emit("expand-change",s))}},handleCheckChange:function(t){this.checkedValue=t},lazyLoad:function(t,e){var i=this,n=this.config;t||(t=t||{root:!0,level:0},this.store=new T([],n),this.menus=[this.store.getNodes()]),t.loading=!0;n.lazyLoad(t,function(n){var r=t.root?null:t;if(n&&n.length&&i.store.appendNodes(n,r),t.loading=!1,t.loaded=!0,Array.isArray(i.checkedValue)){var o=i.checkedValue[i.loadCount++],s=i.config.value,a=i.config.leaf;if(Array.isArray(n)&&n.filter(function(t){return t[s]===o}).length>0){var l=i.store.getNodeByValue(o);l.data[a]||i.lazyLoad(l,function(){i.handleExpand(l)}),i.loadCount===i.checkedValue.length&&i.$parent.computePresentText()}}e&&e(n)})},calculateMultiCheckedValue:function(){this.checkedValue=this.getCheckedNodes(this.leafOnly).map(function(t){return t.getValueByOption()})},scrollIntoView:function(){this.$isServer||(this.$refs.menu||[]).forEach(function(t){var e=t.$el;if(e){var i=e.querySelector(".el-scrollbar__wrap"),n=e.querySelector(".el-cascader-node.is-active")||e.querySelector(".el-cascader-node.in-active-path");P()(i,n)}})},getNodeByValue:function(t){return this.store.getNodeByValue(t)},getFlattedNodes:function(t){var e=!this.config.lazy;return this.store.getFlattedNodes(t,e)},getCheckedNodes:function(t){var e=this.checkedValue;return this.multiple?this.getFlattedNodes(t).filter(function(t){return t.checked}):Object(d.isEmpty)(e)?[]:[this.getNodeByValue(e)]},clearCheckedNodes:function(){var t=this.config,e=this.leafOnly,i=t.multiple,n=t.emitPath;i?(this.getCheckedNodes(e).filter(function(t){return!t.isDisabled}).forEach(function(t){return t.doCheck(!1)}),this.calculateMultiCheckedValue()):this.checkedValue=n?[]:null}}},V=Object(m.a)(U,n,[],!1,null,null,null);V.options.__file="packages/cascader-panel/src/cascader-panel.vue";var j=V.exports;j.install=function(t){t.component(j.name,j)};e.default=j},6:function(t,e){t.exports=i("y+7x")},9:function(t,e){t.exports=i("jmaC")}})},lFkc:function(t,e,i){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=r},lOnJ:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},lktj:function(t,e,i){var n=i("Ibhu"),r=i("xnc9");t.exports=Object.keys||function(t){return n(t,r)}},msXi:function(t,e,i){var n=i("77Pl");t.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},mtrD:function(t,e){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=97)}({0:function(t,e,i){"use strict";function n(t,e,i,n,r,o,s,a){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),n&&(h.functional=!0),o&&(h._scopeId="data-v-"+o),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},h._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return n})},97:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"el-button",class:[t.type?"el-button--"+t.type:"",t.buttonSize?"el-button--"+t.buttonSize:"",{"is-disabled":t.buttonDisabled,"is-loading":t.loading,"is-plain":t.plain,"is-round":t.round,"is-circle":t.circle}],attrs:{disabled:t.buttonDisabled||t.loading,autofocus:t.autofocus,type:t.nativeType},on:{click:t.handleClick}},[t.loading?i("i",{staticClass:"el-icon-loading"}):t._e(),t.icon&&!t.loading?i("i",{class:t.icon}):t._e(),t.$slots.default?i("span",[t._t("default")],2):t._e()])};n._withStripped=!0;var r={name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},methods:{handleClick:function(t){this.$emit("click",t)}}},o=i(0),s=Object(o.a)(r,n,[],!1,null,null,null);s.options.__file="packages/button/src/button.vue";var a=s.exports;a.install=function(t){t.component(a.name,a)};e.default=a}})},n0T6:function(t,e,i){var n=i("Ibhu"),r=i("xnc9").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},nErl:function(t,e){(function(e){t.exports=e}).call(e,{})},nvbp:function(t,e){var i=/^(attrs|props|on|nativeOn|class|style|hook)$/;function n(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}}t.exports=function(t){return t.reduce(function(t,e){var r,o,s,a,l;for(s in e)if(r=t[s],o=e[s],r&&i.test(s))if("class"===s&&("string"==typeof r&&(l=r,t[s]=r={},r[l]=!0),"string"==typeof o&&(l=o,e[s]=o={},o[l]=!0)),"on"===s||"nativeOn"===s||"hook"===s)for(a in o)r[a]=n(r[a],o[a]);else if(Array.isArray(r))t[s]=r.concat(o);else if(Array.isArray(o))t[s]=[r].concat(o);else for(a in o)r[a]=o[a];else t[s]=e[s];return t},{})}},orbS:function(t,e){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=124)}({0:function(t,e,i){"use strict";function n(t,e,i,n,r,o,s,a){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),n&&(h.functional=!0),o&&(h._scopeId="data-v-"+o),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},h._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return n})},124:function(t,e,i){"use strict";i.r(e);var n={name:"ElTag",props:{text:String,closable:Boolean,type:String,hit:Boolean,disableTransitions:Boolean,color:String,size:String,effect:{type:String,default:"light",validator:function(t){return-1!==["dark","light","plain"].indexOf(t)}}},methods:{handleClose:function(t){t.stopPropagation(),this.$emit("close",t)},handleClick:function(t){this.$emit("click",t)}},computed:{tagSize:function(){return this.size||(this.$ELEMENT||{}).size}},render:function(t){var e=this.type,i=this.tagSize,n=this.hit,r=this.effect,o=t("span",{class:["el-tag",e?"el-tag--"+e:"",i?"el-tag--"+i:"",r?"el-tag--"+r:"",n&&"is-hit"],style:{backgroundColor:this.color},on:{click:this.handleClick}},[this.$slots.default,this.closable&&t("i",{class:"el-tag__close el-icon-close",on:{click:this.handleClose}})]);return this.disableTransitions?o:t("transition",{attrs:{name:"el-zoom-in-center"}},[o])}},r=i(0),o=Object(r.a)(n,void 0,void 0,!1,null,null,null);o.options.__file="packages/tag/src/tag.vue";var s=o.exports;s.install=function(t){t.component(s.name,s)};e.default=s}})},pFYg:function(t,e,i){"use strict";e.__esModule=!0;var n=s(i("Zzip")),r=s(i("5QVw")),o="function"==typeof r.default&&"symbol"==typeof n.default?function(t){return typeof t}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":typeof t};function s(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof r.default&&"symbol"===o(n.default)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":void 0===t?"undefined":o(t)}},qio6:function(t,e,i){var n=i("evD5"),r=i("77Pl"),o=i("lktj");t.exports=i("+E39")?Object.defineProperties:function(t,e){r(t);for(var i,s=o(e),a=s.length,l=0;a>l;)n.f(t,i=s[l++],e[i]);return t}},qyJz:function(t,e,i){"use strict";var n=i("+ZMJ"),r=i("kM2E"),o=i("sB3e"),s=i("msXi"),a=i("Mhyx"),l=i("QRG4"),h=i("fBQ2"),u=i("3fs2");r(r.S+r.F*!i("dY0y")(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,r,c,d=o(t),p="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,g=void 0!==m,v=0,A=u(d);if(g&&(m=n(m,f>2?arguments[2]:void 0,2)),void 0==A||p==Array&&a(A))for(i=new p(e=l(d.length));e>v;v++)h(i,v,g?m(d[v],v):d[v]);else for(c=A.call(d),i=new p;!(r=c.next()).done;v++)h(i,v,g?s(c,m,[r.value,v],!0):r.value);return i.length=v,i}})},s3ue:function(t,e,i){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=86)}({0:function(t,e,i){"use strict";function n(t,e,i,n,r,o,s,a){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),n&&(h.functional=!0),o&&(h._scopeId="data-v-"+o),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},h._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return n})},4:function(t,e){t.exports=i("fPll")},86:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-checkbox-group",attrs:{role:"group","aria-label":"checkbox-group"}},[this._t("default")],2)};n._withStripped=!0;var r=i(4),o={name:"ElCheckboxGroup",componentName:"ElCheckboxGroup",mixins:[i.n(r).a],inject:{elFormItem:{default:""}},props:{value:{},disabled:Boolean,min:Number,max:Number,size:String,fill:String,textColor:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",[t])}}},s=i(0),a=Object(s.a)(o,n,[],!1,null,null,null);a.options.__file="packages/checkbox/src/checkbox-group.vue";var l=a.exports;l.install=function(t){t.component(l.name,l)};e.default=l}})},sB3e:function(t,e,i){var n=i("52gC");t.exports=function(t){return Object(n(t))}},sOR5:function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},sTcZ:function(t,e,i){!function(e){"use strict";var i=function(){return{escape:function(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:e,mimeType:function(t){var i=e(t).toLowerCase();return(n="application/font-woff",{woff:n,woff2:n,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"})[i]||"";var n},dataAsUrl:function(t,e){return"data:"+e+";base64,"+t},isDataUrl:function(t){return-1!==t.search(/^(data:)/)},canvasToBlob:function(t){return t.toBlob?new Promise(function(e){t.toBlob(e)}):function(t){return new Promise(function(e){for(var i=window.atob(t.toDataURL().split(",")[1]),n=i.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=i.charCodeAt(o);e(new Blob([r],{type:"image/png"}))})}(t)},resolveUrl:function(t,e){var i=document.implementation.createHTMLDocument(),n=i.createElement("base");i.head.appendChild(n);var r=i.createElement("a");return i.body.appendChild(r),n.href=e,r.href=t,r.href},getAndEncode:function(t){var e=3e4;a.impl.options.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime());return new Promise(function(i){var n,r=new XMLHttpRequest;if(r.onreadystatechange=function(){if(4!==r.readyState)return;if(200!==r.status)return void(n?i(n):s("cannot fetch resource: "+t+", status: "+r.status));var e=new FileReader;e.onloadend=function(){var t=e.result.split(/,/)[1];i(t)},e.readAsDataURL(r.response)},r.ontimeout=function(){n?i(n):s("timeout of "+e+"ms occured while fetching resource: "+t)},r.responseType="blob",r.timeout=e,r.open("GET",t,!0),r.send(),a.impl.options.imagePlaceholder){var o=a.impl.options.imagePlaceholder.split(/,/);o&&o[1]&&(n=o[1])}function s(t){console.error(t),i("")}})},uid:(t=0,function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+t++}),delay:function(t){return function(e){return new Promise(function(i){setTimeout(function(){i(e)},t)})}},asArray:function(t){for(var e=[],i=t.length,n=0;n<i;n++)e.push(t[n]);return e},escapeXhtml:function(t){return t.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(t){return new Promise(function(e,i){var n=new Image;n.onload=function(){e(n)},n.onerror=i,n.src=t})},width:function(t){var e=i(t,"border-left-width"),n=i(t,"border-right-width");return t.scrollWidth+e+n},height:function(t){var e=i(t,"border-top-width"),n=i(t,"border-bottom-width");return t.scrollHeight+e+n}};var t;function e(t){var e=/\.([^\.\/]*?)$/g.exec(t);return e?e[1]:""}function i(t,e){var i=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(i.replace("px",""))}}(),n=function(){var t=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(t,i,o){return e(t)?Promise.resolve(t).then(n).then(function(e){var n=Promise.resolve(t);return e.forEach(function(t){n=n.then(function(e){return r(e,t,i,o)})}),n}):Promise.resolve(t)},shouldProcess:e,impl:{readUrls:n,inline:r}};function e(e){return-1!==e.search(t)}function n(e){for(var n,r=[];null!==(n=t.exec(e));)r.push(n[1]);return r.filter(function(t){return!i.isDataUrl(t)})}function r(t,e,n,r){return Promise.resolve(e).then(function(t){return n?i.resolveUrl(t,n):t}).then(r||i.getAndEncode).then(function(t){return i.dataAsUrl(t,i.mimeType(e))}).then(function(n){return t.replace(function(t){return new RegExp("(url\\(['\"]?)("+i.escape(t)+")(['\"]?\\))","g")}(e),"$1"+n+"$3")})}}(),r=function(){return{resolveAll:function(){return t(document).then(function(t){return Promise.all(t.map(function(t){return t.resolve()}))}).then(function(t){return t.join("\n")})},impl:{readAll:t}};function t(){return Promise.resolve(i.asArray(document.styleSheets)).then(function(t){var e=[];return t.forEach(function(t){try{i.asArray(t.cssRules||[]).forEach(e.push.bind(e))}catch(e){console.log("Error while reading CSS rules from "+t.href,e.toString())}}),e}).then(function(t){return t.filter(function(t){return t.type===CSSRule.FONT_FACE_RULE}).filter(function(t){return n.shouldProcess(t.style.getPropertyValue("src"))})}).then(function(e){return e.map(t)});function t(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return n.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue("src")}}}}}(),o=function(){return{inlineAll:function e(r){if(!(r instanceof Element))return Promise.resolve(r);return function(t){var e=t.style.getPropertyValue("background");return e?n.inlineAll(e).then(function(e){t.style.setProperty("background",e,t.style.getPropertyPriority("background"))}).then(function(){return t}):Promise.resolve(t)}(r).then(function(){return r instanceof HTMLImageElement?t(r).inline():Promise.all(i.asArray(r.childNodes).map(function(t){return e(t)}))})},impl:{newImage:t}};function t(t){return{inline:function(e){return i.isDataUrl(t.src)?Promise.resolve():Promise.resolve(t.src).then(e||i.getAndEncode).then(function(e){return i.dataAsUrl(e,i.mimeType(t.src))}).then(function(e){return new Promise(function(i,n){t.onload=i,t.onerror=n,t.src=e})})}}}}(),s={imagePlaceholder:void 0,cacheBust:!1},a={toSvg:l,toPng:function(t,e){return h(t,e||{}).then(function(t){return t.toDataURL()})},toJpeg:function(t,e){return h(t,e=e||{}).then(function(t){return t.toDataURL("image/jpeg",e.quality||1)})},toBlob:function(t,e){return h(t,e||{}).then(i.canvasToBlob)},toPixelData:function(t,e){return h(t,e||{}).then(function(e){return e.getContext("2d").getImageData(0,0,i.width(t),i.height(t)).data})},impl:{fontFaces:r,images:o,util:i,inliner:n,options:{}}};function l(t,e){return function(t){void 0===t.imagePlaceholder?a.impl.options.imagePlaceholder=s.imagePlaceholder:a.impl.options.imagePlaceholder=t.imagePlaceholder;void 0===t.cacheBust?a.impl.options.cacheBust=s.cacheBust:a.impl.options.cacheBust=t.cacheBust}(e=e||{}),Promise.resolve(t).then(function(t){return function(t,e,n){if(!n&&e&&!e(t))return Promise.resolve();return Promise.resolve(t).then(function(t){return t instanceof HTMLCanvasElement?i.makeImage(t.toDataURL()):t.cloneNode(!1)}).then(function(n){return function(t,e,n){var r=t.childNodes;return 0===r.length?Promise.resolve(e):function(t,e,i){var n=Promise.resolve();return e.forEach(function(e){n=n.then(function(){return u(e,i)}).then(function(e){e&&t.appendChild(e)})}),n}(e,i.asArray(r),n).then(function(){return e})}(t,n,e)}).then(function(e){return function(t,e){return e instanceof Element?Promise.resolve().then(function(){var n,r;n=window.getComputedStyle(t),r=e.style,n.cssText?r.cssText=n.cssText:function(t,e){i.asArray(t).forEach(function(i){e.setProperty(i,t.getPropertyValue(i),t.getPropertyPriority(i))})}(n,r)}).then(function(){[":before",":after"].forEach(function(n){!function(n){var r=window.getComputedStyle(t,n),o=r.getPropertyValue("content");if(""!==o&&"none"!==o){var s=i.uid();e.className=e.className+" "+s;var a=document.createElement("style");a.appendChild(function(t,e,n){var r="."+t+":"+e,o=n.cssText?function(t){var e=t.getPropertyValue("content");return t.cssText+" content: "+e+";"}(n):function(t){return i.asArray(t).map(function(e){return e+": "+t.getPropertyValue(e)+(t.getPropertyPriority(e)?" !important":"")}).join("; ")+";"}(n);return document.createTextNode(r+"{"+o+"}")}(s,n,r)),e.appendChild(a)}}(n)})}).then(function(){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute("value",t.value)}).then(function(){e instanceof SVGElement&&(e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e instanceof SVGRectElement&&["width","height"].forEach(function(t){var i=e.getAttribute(t);i&&e.style.setProperty(t,i)}))}).then(function(){return e}):e}(t,e)})}(t,e.filter,!0)}).then(c).then(d).then(function(t){e.bgcolor&&(t.style.backgroundColor=e.bgcolor);e.width&&(t.style.width=e.width+"px");e.height&&(t.style.height=e.height+"px");e.style&&Object.keys(e.style).forEach(function(i){t.style[i]=e.style[i]});return t}).then(function(n){return function(t,e,n){return Promise.resolve(t).then(function(t){return t.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(t)}).then(i.escapeXhtml).then(function(t){return'<foreignObject x="0" y="0" width="100%" height="100%">'+t+"</foreignObject>"}).then(function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+n+'">'+t+"</svg>"}).then(function(t){return"data:image/svg+xml;charset=utf-8,"+t})}(n,e.width||i.width(t),e.height||i.height(t))})}function h(t,e){return l(t,e).then(i.makeImage).then(i.delay(100)).then(function(n){var r=function(t){var n=document.createElement("canvas");if(n.width=e.width||i.width(t),n.height=e.height||i.height(t),e.bgcolor){var r=n.getContext("2d");r.fillStyle=e.bgcolor,r.fillRect(0,0,n.width,n.height)}return n}(t);return r.getContext("2d").drawImage(n,0,0),r})}function u(t,e,n){if(!n&&e&&!e(t))return Promise.resolve();return Promise.resolve(t).then(r).then(function(i){return o(t,i,e)}).then(function(e){return s(t,e)});function r(t){return t instanceof HTMLCanvasElement?i.makeImage(t.toDataURL()):t.cloneNode(!1)}function o(t,e,n){var r=t.childNodes;return 0===r.length?Promise.resolve(e):function(t,e,i){var n=Promise.resolve();return e.forEach(function(e){n=n.then(function(){return u(e,i)}).then(function(e){e&&t.appendChild(e)})}),n}(e,i.asArray(r),n).then(function(){return e});function o(t,e,i){var n=Promise.resolve();return e.forEach(function(e){n=n.then(function(){return u(e,i)}).then(function(e){e&&t.appendChild(e)})}),n}}function s(t,e){return e instanceof Element?Promise.resolve().then(function(){!function(t,e){t.cssText?e.cssText=t.cssText:function(t,e){i.asArray(t).forEach(function(i){e.setProperty(i,t.getPropertyValue(i),t.getPropertyPriority(i))})}(t,e)}(window.getComputedStyle(t),e.style)}).then(function(){[":before",":after"].forEach(function(n){!function(n){var r=window.getComputedStyle(t,n),o=r.getPropertyValue("content");if(""===o||"none"===o)return;var s=i.uid();e.className=e.className+" "+s;var a=document.createElement("style");a.appendChild(function(t,e,n){var r="."+t+":"+e,o=n.cssText?function(t){var e=t.getPropertyValue("content");return t.cssText+" content: "+e+";"}(n):function(t){return i.asArray(t).map(function(e){return e+": "+t.getPropertyValue(e)+(t.getPropertyPriority(e)?" !important":"")}).join("; ")+";"}(n);return document.createTextNode(r+"{"+o+"}")}(s,n,r)),e.appendChild(a)}(n)})}).then(function(){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value);t instanceof HTMLInputElement&&e.setAttribute("value",t.value)}).then(function(){if(!(e instanceof SVGElement))return;if(e.setAttribute("xmlns","http://www.w3.org/2000/svg"),!(e instanceof SVGRectElement))return;["width","height"].forEach(function(t){var i=e.getAttribute(t);i&&e.style.setProperty(t,i)})}).then(function(){return e}):e;function n(){function n(t,e){if(t.cssText)e.cssText=t.cssText;else n(t,e);function n(t,e){i.asArray(t).forEach(function(i){e.setProperty(i,t.getPropertyValue(i),t.getPropertyPriority(i))})}}n(window.getComputedStyle(t),e.style)}function r(){function n(n){var r=window.getComputedStyle(t,n),o=r.getPropertyValue("content");if(o===""||o==="none")return;var s=i.uid();e.className=e.className+" "+s;var a=document.createElement("style");function l(t,e,n){var r="."+t+":"+e,o=n.cssText?s(n):a(n);return document.createTextNode(r+"{"+o+"}");function s(t){var e=t.getPropertyValue("content");return t.cssText+" content: "+e+";"}function a(t){return i.asArray(t).map(e).join("; ")+";";function e(e){return e+": "+t.getPropertyValue(e)+(t.getPropertyPriority(e)?" !important":"")}}}a.appendChild(l(s,n,r)),e.appendChild(a)}[":before",":after"].forEach(function(t){n(t)})}function o(){if(t instanceof HTMLTextAreaElement)e.innerHTML=t.value;if(t instanceof HTMLInputElement)e.setAttribute("value",t.value)}function s(){if(!(e instanceof SVGElement))return;if(e.setAttribute("xmlns","http://www.w3.org/2000/svg"),!(e instanceof SVGRectElement))return;["width","height"].forEach(function(t){var i=e.getAttribute(t);if(!i)return;e.style.setProperty(t,i)})}}}function c(t){return r.resolveAll().then(function(e){var i=document.createElement("style");return t.appendChild(i),i.appendChild(document.createTextNode(e)),t})}function d(t){return o.inlineAll(t).then(function(){return t})}t.exports=a}()},tsU9:function(t,e,i){(function(t){
/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */
var n,r,o,s,a,l,h,u,c,d,p,f,m,g,v,A=A||{version:"3.5.0"};if(e.fabric=A,"undefined"!=typeof document&&"undefined"!=typeof window)document instanceof("undefined"!=typeof HTMLDocument?HTMLDocument:Document)?A.document=document:A.document=document.implementation.createHTMLDocument(""),A.window=window;else{var y=new(i(0).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;A.document=y.document,A.jsdomImplForWrapper=i(1).implForWrapper,A.nodeCanvas=i(2).Canvas,A.window=y,DOMParser=A.window.DOMParser}function x(t,e){var i=t.canvas,n=e.targetCanvas,r=n.getContext("2d");r.translate(0,n.height),r.scale(1,-1);var o=i.height-n.height;r.drawImage(i,0,o,n.width,n.height,0,0,n.width,n.height)}function b(t,e){var i=e.targetCanvas.getContext("2d"),n=e.destinationWidth,r=e.destinationHeight,o=n*r*4,s=new Uint8Array(this.imageBuffer,0,o),a=new Uint8ClampedArray(this.imageBuffer,0,o);t.readPixels(0,0,n,r,t.RGBA,t.UNSIGNED_BYTE,s);var l=new ImageData(a,n,r);i.putImageData(l,0,0)}A.isTouchSupported="ontouchstart"in A.window||"ontouchstart"in A.document||A.window&&A.window.navigator&&A.window.navigator.maxTouchPoints>0,A.isLikelyNode=void 0!==t&&"undefined"==typeof window,A.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],A.DPI=96,A.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",A.fontPaths={},A.iMatrix=[1,0,0,1,0,0],A.perfLimitSizeTotal=2097152,A.maxCacheSideLimit=4096,A.minCacheSideLimit=256,A.charWidthsCache={},A.textureSize=2048,A.disableStyleCopyPaste=!1,A.enableGLFiltering=!0,A.devicePixelRatio=A.window.devicePixelRatio||A.window.webkitDevicePixelRatio||A.window.mozDevicePixelRatio||1,A.browserShadowBlurConstant=1,A.arcToSegmentsCache={},A.boundsOfCurveCache={},A.cachesBoundsOfCurve=!0,A.forceGLPutImageData=!1,A.initFilterBackend=function(){return A.enableGLFiltering&&A.isWebglSupported&&A.isWebglSupported(A.textureSize)?(console.log("max texture size: "+A.maxTextureSize),new A.WebglFilterBackend({tileSize:A.textureSize})):A.Canvas2dFilterBackend?new A.Canvas2dFilterBackend:void 0},"undefined"!=typeof document&&"undefined"!=typeof window&&(window.fabric=A),function(){function t(t,e){if(this.__eventListeners[t]){var i=this.__eventListeners[t];e?i[i.indexOf(e)]=!1:A.util.array.fill(i,!1)}}function e(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var i in t)this.on(i,t[i]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this}function i(e,i){if(!this.__eventListeners)return this;if(0===arguments.length)for(e in this.__eventListeners)t.call(this,e);else if(1===arguments.length&&"object"==typeof arguments[0])for(var n in e)t.call(this,n,e[n]);else t.call(this,e,i);return this}function n(t,e){if(!this.__eventListeners)return this;var i=this.__eventListeners[t];if(!i)return this;for(var n=0,r=i.length;n<r;n++)i[n]&&i[n].call(this,e||{});return this.__eventListeners[t]=i.filter(function(t){return!1!==t}),this}A.Observable={observe:e,stopObserving:i,fire:n,on:e,off:i,trigger:n}}(),A.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var t=0,e=arguments.length;t<e;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(t,e,i){var n=this._objects;return i?n[e]=t:n.splice(e,0,t),this._onObjectAdded&&this._onObjectAdded(t),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var t,e=this._objects,i=!1,n=0,r=arguments.length;n<r;n++)-1!==(t=e.indexOf(arguments[n]))&&(i=!0,e.splice(t,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[n]));return this.renderOnAddRemove&&i&&this.requestRenderAll(),this},forEachObject:function(t,e){for(var i=this.getObjects(),n=0,r=i.length;n<r;n++)t.call(e,i[n],n,i);return this},getObjects:function(t){return void 0===t?this._objects.concat():this._objects.filter(function(e){return e.type===t})},item:function(t){return this._objects[t]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(t){return this._objects.indexOf(t)>-1},complexity:function(){return this._objects.reduce(function(t,e){return t+=e.complexity?e.complexity():0},0)}},A.CommonMethods={_setOptions:function(t){for(var e in t)this.set(e,t[e])},_initGradient:function(t,e){!t||!t.colorStops||t instanceof A.Gradient||this.set(e,new A.Gradient(t))},_initPattern:function(t,e,i){!t||!t.source||t instanceof A.Pattern?i&&i():this.set(e,new A.Pattern(t,i))},_initClipping:function(t){if(t.clipTo&&"string"==typeof t.clipTo){var e=A.util.getFunctionBody(t.clipTo);void 0!==e&&(this.clipTo=new Function("ctx",e))}},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"==typeof t?this._setObject(t):"function"==typeof e&&"clipTo"!==t?this._set(t,e(this.get(t))):this._set(t,e),this},_set:function(t,e){this[t]=e},toggle:function(t){var e=this.get(t);return"boolean"==typeof e&&this.set(t,!e),this},get:function(t){return this[t]}},n=e,r=Math.sqrt,o=Math.atan2,s=Math.pow,a=Math.PI/180,l=Math.PI/2,A.util={cos:function(t){if(0===t)return 1;switch(t<0&&(t=-t),t/l){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},sin:function(t){if(0===t)return 0;var e=1;switch(t<0&&(e=-1),t/l){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(t)},removeFromArray:function(t,e){var i=t.indexOf(e);return-1!==i&&t.splice(i,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*a},radiansToDegrees:function(t){return t/a},rotatePoint:function(t,e,i){t.subtractEquals(e);var n=A.util.rotateVector(t,i);return new A.Point(n.x,n.y).addEquals(e)},rotateVector:function(t,e){var i=A.util.sin(e),n=A.util.cos(e);return{x:t.x*n-t.y*i,y:t.x*i+t.y*n}},transformPoint:function(t,e,i){return i?new A.Point(e[0]*t.x+e[2]*t.y,e[1]*t.x+e[3]*t.y):new A.Point(e[0]*t.x+e[2]*t.y+e[4],e[1]*t.x+e[3]*t.y+e[5])},makeBoundingBoxFromPoints:function(t,e){if(e)for(var i=0;i<t.length;i++)t[i]=A.util.transformPoint(t[i],e);var n=[t[0].x,t[1].x,t[2].x,t[3].x],r=A.util.array.min(n),o=A.util.array.max(n)-r,s=[t[0].y,t[1].y,t[2].y,t[3].y],a=A.util.array.min(s);return{left:r,top:a,width:o,height:A.util.array.max(s)-a}},invertTransform:function(t){var e=1/(t[0]*t[3]-t[1]*t[2]),i=[e*t[3],-e*t[1],-e*t[2],e*t[0]],n=A.util.transformPoint({x:t[4],y:t[5]},i,!0);return i[4]=-n.x,i[5]=-n.y,i},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var i=/\D{0,2}$/.exec(t),n=parseFloat(t);switch(e||(e=A.Text.DEFAULT_SVG_FONT_SIZE),i[0]){case"mm":return n*A.DPI/25.4;case"cm":return n*A.DPI/2.54;case"in":return n*A.DPI;case"pt":return n*A.DPI/72;case"pc":return n*A.DPI/72*12;case"em":return n*e;default:return n}},falseFunction:function(){return!1},getKlass:function(t,e){return t=A.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),A.util.resolveNamespace(e)[t]},getSvgAttributes:function(t){var e=["instantiated_by_use","style","id","class"];switch(t){case"linearGradient":e=e.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":e=e.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":e=e.concat(["offset","stop-color","stop-opacity"])}return e},resolveNamespace:function(t){if(!t)return A;var e,i=t.split("."),r=i.length,o=n||A.window;for(e=0;e<r;++e)o=o[i[e]];return o},loadImage:function(t,e,i,n){if(t){var r=A.util.createImage(),o=function(){e&&e.call(i,r),r=r.onload=r.onerror=null};r.onload=o,r.onerror=function(){A.log("Error loading "+r.src),e&&e.call(i,null,!0),r=r.onload=r.onerror=null},0!==t.indexOf("data")&&n&&(r.crossOrigin=n),"data:image/svg"===t.substring(0,14)&&(r.onload=null,A.util.loadImageInDom(r,o)),r.src=t}else e&&e.call(i,t)},loadImageInDom:function(t,e){var i=A.document.createElement("div");i.style.width=i.style.height="1px",i.style.left=i.style.top="-100%",i.style.position="absolute",i.appendChild(t),A.document.querySelector("body").appendChild(i),t.onload=function(){e(),i.parentNode.removeChild(i),i=null}},enlivenObjects:function(t,e,i,n){var r=[],o=0,s=(t=t||[]).length;function a(){++o===s&&e&&e(r.filter(function(t){return t}))}s?t.forEach(function(t,e){t&&t.type?A.util.getKlass(t.type,i).fromObject(t,function(i,o){o||(r[e]=i),n&&n(t,i,o),a()}):a()}):e&&e(r)},enlivenPatterns:function(t,e){function i(){++r===o&&e&&e(n)}var n=[],r=0,o=(t=t||[]).length;o?t.forEach(function(t,e){t&&t.source?new A.Pattern(t,function(t){n[e]=t,i()}):(n[e]=t,i())}):e&&e(n)},groupSVGElements:function(t,e,i){var n;return t&&1===t.length?t[0]:(e&&(e.width&&e.height?e.centerPoint={x:e.width/2,y:e.height/2}:(delete e.width,delete e.height)),n=new A.Group(t,e),void 0!==i&&(n.sourcePath=i),n)},populateWithProperties:function(t,e,i){if(i&&"[object Array]"===Object.prototype.toString.call(i))for(var n=0,r=i.length;n<r;n++)i[n]in t&&(e[i[n]]=t[i[n]])},drawDashedLine:function(t,e,i,n,s,a){var l=n-e,h=s-i,u=r(l*l+h*h),c=o(h,l),d=a.length,p=0,f=!0;for(t.save(),t.translate(e,i),t.moveTo(0,0),t.rotate(c),e=0;u>e;)(e+=a[p++%d])>u&&(e=u),t[f?"lineTo":"moveTo"](e,0),f=!f;t.restore()},createCanvasElement:function(){return A.document.createElement("canvas")},copyCanvasElement:function(t){var e=A.util.createCanvasElement();return e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e},toDataURL:function(t,e,i){return t.toDataURL("image/"+e,i)},createImage:function(){return A.document.createElement("img")},clipContext:function(t,e){e.save(),e.beginPath(),t.clipTo(e),e.clip()},multiplyTransformMatrices:function(t,e,i){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],i?0:t[0]*e[4]+t[2]*e[5]+t[4],i?0:t[1]*e[4]+t[3]*e[5]+t[5]]},qrDecompose:function(t){var e=o(t[1],t[0]),i=s(t[0],2)+s(t[1],2),n=r(i),l=(t[0]*t[3]-t[2]*t[1])/n,h=o(t[0]*t[2]+t[1]*t[3],i);return{angle:e/a,scaleX:n,scaleY:l,skewX:h/a,skewY:0,translateX:t[4],translateY:t[5]}},calcRotateMatrix:function(t){if(!t.angle)return A.iMatrix.concat();var e=A.util.degreesToRadians(t.angle),i=A.util.cos(e),n=A.util.sin(e);return[i,n,-n,i,0,0]},calcDimensionsMatrix:function(t){var e=void 0===t.scaleX?1:t.scaleX,i=void 0===t.scaleY?1:t.scaleY,n=[t.flipX?-e:e,0,0,t.flipY?-i:i,0,0],r=A.util.multiplyTransformMatrices,o=A.util.degreesToRadians;return t.skewX&&(n=r(n,[1,0,Math.tan(o(t.skewX)),1],!0)),t.skewY&&(n=r(n,[1,Math.tan(o(t.skewY)),0,1],!0)),n},composeMatrix:function(t){var e=[1,0,0,1,t.translateX||0,t.translateY||0],i=A.util.multiplyTransformMatrices;return t.angle&&(e=i(e,A.util.calcRotateMatrix(t))),(t.scaleX||t.scaleY||t.skewX||t.skewY||t.flipX||t.flipY)&&(e=i(e,A.util.calcDimensionsMatrix(t))),e},customTransformMatrix:function(t,e,i){return A.util.composeMatrix({scaleX:t,scaleY:e,skewX:i})},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},saveObjectTransform:function(t){return{scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}},getFunctionBody:function(t){return(String(t).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(t,e,i,n){n>0&&(e>n?e-=n:e=0,i>n?i-=n:i=0);var r,o=!0,s=t.getImageData(e,i,2*n||1,2*n||1),a=s.data.length;for(r=3;r<a&&!1!=(o=s.data[r]<=0);r+=4);return s=null,o},parsePreserveAspectRatioAttribute:function(t){var e,i="meet",n=t.split(" ");return n&&n.length&&("meet"!==(i=n.pop())&&"slice"!==i?(e=i,i="meet"):n.length&&(e=n.pop())),{meetOrSlice:i,alignX:"none"!==e?e.slice(1,4):"none",alignY:"none"!==e?e.slice(5,8):"none"}},clearFabricFontCache:function(t){(t=(t||"").toLowerCase())?A.charWidthsCache[t]&&delete A.charWidthsCache[t]:A.charWidthsCache={}},limitDimsByArea:function(t,e){var i=Math.sqrt(e*t),n=Math.floor(e/i);return{x:Math.floor(i),y:n}},capValue:function(t,e,i){return Math.max(t,Math.min(e,i))},findScaleToFit:function(t,e){return Math.min(e.width/t.width,e.height/t.height)},findScaleToCover:function(t,e){return Math.max(e.width/t.width,e.height/t.height)},matrixToSVG:function(t){return"matrix("+t.map(function(t){return A.util.toFixed(t,A.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"}},function(){var t=Array.prototype.join;function e(e,r,o,s,a,l,h){var u=t.call(arguments);if(A.arcToSegmentsCache[u])return A.arcToSegmentsCache[u];var c=Math.PI,d=h*c/180,p=A.util.sin(d),f=A.util.cos(d),m=0,g=0,v=-f*e*.5-p*r*.5,y=-f*r*.5+p*e*.5,x=(o=Math.abs(o))*o,b=(s=Math.abs(s))*s,C=y*y,w=v*v,E=x*b-x*C-b*w,S=0;if(E<0){var T=Math.sqrt(1-E/(x*b));o*=T,s*=T}else S=(a===l?-1:1)*Math.sqrt(E/(x*C+b*w));var _=S*o*y/s,M=-S*s*v/o,k=f*_-p*M+.5*e,B=p*_+f*M+.5*r,O=n(1,0,(v-_)/o,(y-M)/s),P=n((v-_)/o,(y-M)/s,(-v-_)/o,(-y-M)/s);0===l&&P>0?P-=2*c:1===l&&P<0&&(P+=2*c);for(var L=Math.ceil(Math.abs(P/c*2)),N=[],I=P/L,D=8/3*Math.sin(I/4)*Math.sin(I/4)/Math.sin(I/2),R=O+I,F=0;F<L;F++)N[F]=i(O,R,f,p,o,s,k,B,D,m,g),m=N[F][4],g=N[F][5],O=R,R+=I;return A.arcToSegmentsCache[u]=N,N}function i(t,e,i,n,r,o,s,a,l,h,u){var c=A.util.cos(t),d=A.util.sin(t),p=A.util.cos(e),f=A.util.sin(e),m=i*r*p-n*o*f+s,g=n*r*p+i*o*f+a;return[h+l*(-i*r*d-n*o*c),u+l*(-n*r*d+i*o*c),m+l*(i*r*f+n*o*p),g+l*(n*r*f-i*o*p),m,g]}function n(t,e,i,n){var r=Math.atan2(e,t),o=Math.atan2(n,i);return o>=r?o-r:2*Math.PI-(r-o)}function r(e,i,n,r,o,s,a,l){var h;if(A.cachesBoundsOfCurve&&(h=t.call(arguments),A.boundsOfCurveCache[h]))return A.boundsOfCurveCache[h];var u,c,d,p,f,m,g,v,y=Math.sqrt,x=Math.min,b=Math.max,C=Math.abs,w=[],E=[[],[]];c=6*e-12*n+6*o,u=-3*e+9*n-9*o+3*a,d=3*n-3*e;for(var S=0;S<2;++S)if(S>0&&(c=6*i-12*r+6*s,u=-3*i+9*r-9*s+3*l,d=3*r-3*i),C(u)<1e-12){if(C(c)<1e-12)continue;0<(p=-d/c)&&p<1&&w.push(p)}else(g=c*c-4*d*u)<0||(0<(f=(-c+(v=y(g)))/(2*u))&&f<1&&w.push(f),0<(m=(-c-v)/(2*u))&&m<1&&w.push(m));for(var T,_,M,k=w.length,B=k;k--;)T=(M=1-(p=w[k]))*M*M*e+3*M*M*p*n+3*M*p*p*o+p*p*p*a,E[0][k]=T,_=M*M*M*i+3*M*M*p*r+3*M*p*p*s+p*p*p*l,E[1][k]=_;E[0][B]=e,E[1][B]=i,E[0][B+1]=a,E[1][B+1]=l;var O=[{x:x.apply(null,E[0]),y:x.apply(null,E[1])},{x:b.apply(null,E[0]),y:b.apply(null,E[1])}];return A.cachesBoundsOfCurve&&(A.boundsOfCurveCache[h]=O),O}A.util.drawArc=function(t,i,n,r){for(var o=r[0],s=r[1],a=r[2],l=r[3],h=r[4],u=[[],[],[],[]],c=e(r[5]-i,r[6]-n,o,s,l,h,a),d=0,p=c.length;d<p;d++)u[d][0]=c[d][0]+i,u[d][1]=c[d][1]+n,u[d][2]=c[d][2]+i,u[d][3]=c[d][3]+n,u[d][4]=c[d][4]+i,u[d][5]=c[d][5]+n,t.bezierCurveTo.apply(t,u[d])},A.util.getBoundsOfArc=function(t,i,n,o,s,a,l,h,u){for(var c,d=0,p=0,f=[],m=e(h-t,u-i,n,o,a,l,s),g=0,v=m.length;g<v;g++)c=r(d,p,m[g][0],m[g][1],m[g][2],m[g][3],m[g][4],m[g][5]),f.push({x:c[0].x+t,y:c[0].y+i}),f.push({x:c[1].x+t,y:c[1].y+i}),d=m[g][4],p=m[g][5];return f},A.util.getBoundsOfCurve=r}(),function(){var t=Array.prototype.slice;function e(t,e,i){if(t&&0!==t.length){var n=t.length-1,r=e?t[n][e]:t[n];if(e)for(;n--;)i(t[n][e],r)&&(r=t[n][e]);else for(;n--;)i(t[n],r)&&(r=t[n]);return r}}A.util.array={fill:function(t,e){for(var i=t.length;i--;)t[i]=e;return t},invoke:function(e,i){for(var n=t.call(arguments,2),r=[],o=0,s=e.length;o<s;o++)r[o]=n.length?e[o][i].apply(e[o],n):e[o][i].call(e[o]);return r},min:function(t,i){return e(t,i,function(t,e){return t<e})},max:function(t,i){return e(t,i,function(t,e){return t>=e})}}}(),function(){function t(e,i,n){if(n)if(!A.isLikelyNode&&i instanceof Element)e=i;else if(i instanceof Array){e=[];for(var r=0,o=i.length;r<o;r++)e[r]=t({},i[r],n)}else if(i&&"object"==typeof i)for(var s in i)"canvas"===s?e[s]=t({},i[s]):i.hasOwnProperty(s)&&(e[s]=t({},i[s],n));else e=i;else for(var s in i)e[s]=i[s];return e}A.util.object={extend:t,clone:function(e,i){return t({},e,i)}},A.util.object.extend(A.util,A.Observable)}(),function(){function t(t,e){var i=t.charCodeAt(e);if(isNaN(i))return"";if(i<55296||i>57343)return t.charAt(e);if(55296<=i&&i<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";var n=t.charCodeAt(e+1);if(56320>n||n>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(0===e)throw"Low surrogate without preceding high surrogate";var r=t.charCodeAt(e-1);if(55296>r||r>56319)throw"Low surrogate without preceding high surrogate";return!1}A.util.string={camelize:function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},escapeXml:function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(e){var i,n=0,r=[];for(n=0;n<e.length;n++)!1!==(i=t(e,n))&&r.push(i);return r}}}(),function(){var t=Array.prototype.slice,e=function(){},i=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),n=function(t,e,n){for(var r in e)r in t.prototype&&"function"==typeof t.prototype[r]&&(e[r]+"").indexOf("callSuper")>-1?t.prototype[r]=function(t){return function(){var i=this.constructor.superclass;this.constructor.superclass=n;var r=e[t].apply(this,arguments);if(this.constructor.superclass=i,"initialize"!==t)return r}}(r):t.prototype[r]=e[r],i&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))};function r(){}function o(e){for(var i=null,n=this;n.constructor.superclass;){var r=n.constructor.superclass.prototype[e];if(n[e]!==r){i=r;break}n=n.constructor.superclass.prototype}return i?arguments.length>1?i.apply(this,t.call(arguments,1)):i.call(this):console.log("tried to callSuper "+e+", method not found in prototype chain",this)}A.util.createClass=function(){var i=null,s=t.call(arguments,0);function a(){this.initialize.apply(this,arguments)}"function"==typeof s[0]&&(i=s.shift()),a.superclass=i,a.subclasses=[],i&&(r.prototype=i.prototype,a.prototype=new r,i.subclasses.push(a));for(var l=0,h=s.length;l<h;l++)n(a,s[l],i);return a.prototype.initialize||(a.prototype.initialize=e),a.prototype.constructor=a,a.prototype.callSuper=o,a}}(),function(){var t=!!A.document.createElement("div").attachEvent;A.util.addListener=function(e,i,n,r){e&&e.addEventListener(i,n,!t&&r)},A.util.removeListener=function(e,i,n,r){e&&e.removeEventListener(i,n,!t&&r)},A.util.getPointer=function(t){var e=t.target,i=A.util.getScrollLeftTop(e),n=function(t){var e=t.changedTouches;return e&&e[0]?e[0]:t}(t);return{x:n.clientX+i.left,y:n.clientY+i.top}}}(),function(){var t=A.document.createElement("div"),e="string"==typeof t.style.opacity,i="string"==typeof t.style.filter,n=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,r=function(t){return t};e?r=function(t,e){return t.style.opacity=e,t}:i&&(r=function(t,e){var i=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(i.zoom=1),n.test(i.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",i.filter=i.filter.replace(n,e)):i.filter+=" alpha(opacity="+100*e+")",t}),A.util.setStyle=function(t,e){var i=t.style;if(!i)return t;if("string"==typeof e)return t.style.cssText+=";"+e,e.indexOf("opacity")>-1?r(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var n in e)"opacity"===n?r(t,e[n]):i["float"===n||"cssFloat"===n?void 0===i.styleFloat?"cssFloat":"styleFloat":n]=e[n];return t}}(),function(){var t=Array.prototype.slice;var e,i,n=function(e){return t.call(e,0)};try{e=n(A.document.childNodes)instanceof Array}catch(t){}function r(t,e){var i=A.document.createElement(t);for(var n in e)"class"===n?i.className=e[n]:"for"===n?i.htmlFor=e[n]:i.setAttribute(n,e[n]);return i}function o(t){for(var e=0,i=0,n=A.document.documentElement,r=A.document.body||{scrollLeft:0,scrollTop:0};t&&(t.parentNode||t.host)&&((t=t.parentNode||t.host)===A.document?(e=r.scrollLeft||n.scrollLeft||0,i=r.scrollTop||n.scrollTop||0):(e+=t.scrollLeft||0,i+=t.scrollTop||0),1!==t.nodeType||"fixed"!==t.style.position););return{left:e,top:i}}e||(n=function(t){for(var e=new Array(t.length),i=t.length;i--;)e[i]=t[i];return e}),i=A.document.defaultView&&A.document.defaultView.getComputedStyle?function(t,e){var i=A.document.defaultView.getComputedStyle(t,null);return i?i[e]:void 0}:function(t,e){var i=t.style[e];return!i&&t.currentStyle&&(i=t.currentStyle[e]),i},function(){var t=A.document.documentElement.style,e="userSelect"in t?"userSelect":"MozUserSelect"in t?"MozUserSelect":"WebkitUserSelect"in t?"WebkitUserSelect":"KhtmlUserSelect"in t?"KhtmlUserSelect":"";A.util.makeElementUnselectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=A.util.falseFunction),e?t.style[e]="none":"string"==typeof t.unselectable&&(t.unselectable="on"),t},A.util.makeElementSelectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=null),e?t.style[e]="":"string"==typeof t.unselectable&&(t.unselectable=""),t}}(),function(){A.util.getScript=function(t,e){var i=A.document.getElementsByTagName("head")[0],n=A.document.createElement("script"),r=!0;n.onload=n.onreadystatechange=function(t){if(r){if("string"==typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)return;r=!1,e(t||A.window.event),n=n.onload=n.onreadystatechange=null}},n.src=t,i.appendChild(n)}}(),A.util.getById=function(t){return"string"==typeof t?A.document.getElementById(t):t},A.util.toArray=n,A.util.makeElement=r,A.util.addClass=function(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)},A.util.wrapElement=function(t,e,i){return"string"==typeof e&&(e=r(e,i)),t.parentNode&&t.parentNode.replaceChild(e,t),e.appendChild(t),e},A.util.getScrollLeftTop=o,A.util.getElementOffset=function(t){var e,n,r=t&&t.ownerDocument,s={left:0,top:0},a={left:0,top:0},l={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!r)return a;for(var h in l)a[l[h]]+=parseInt(i(t,h),10)||0;return e=r.documentElement,void 0!==t.getBoundingClientRect&&(s=t.getBoundingClientRect()),n=o(t),{left:s.left+n.left-(e.clientLeft||0)+a.left,top:s.top+n.top-(e.clientTop||0)+a.top}},A.util.getElementStyle=i,A.util.getNodeCanvas=function(t){var e=A.jsdomImplForWrapper(t);return e._canvas||e._image},A.util.cleanUpJsdomNode=function(t){if(A.isLikelyNode){var e=A.jsdomImplForWrapper(t);e&&(e._image=null,e._canvas=null,e._currentSrc=null,e._attributes=null,e._classList=null)}}}(),function(){function t(){}A.util.request=function(e,i){i||(i={});var n=i.method?i.method.toUpperCase():"GET",r=i.onComplete||function(){},o=new A.window.XMLHttpRequest,s=i.body||i.parameters;return o.onreadystatechange=function(){4===o.readyState&&(r(o),o.onreadystatechange=t)},"GET"===n&&(s=null,"string"==typeof i.parameters&&(e=function(t,e){return t+(/\?/.test(t)?"&":"?")+e}(e,i.parameters))),o.open(n,e,!0),"POST"!==n&&"PUT"!==n||o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(s),o}}(),A.log=function(){},A.warn=function(){},"undefined"!=typeof console&&["log","warn"].forEach(function(t){void 0!==console[t]&&"function"==typeof console[t].apply&&(A[t]=function(){return console[t].apply(console,arguments)})}),function(){function t(){return!1}function e(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e}var i=A.window.requestAnimationFrame||A.window.webkitRequestAnimationFrame||A.window.mozRequestAnimationFrame||A.window.oRequestAnimationFrame||A.window.msRequestAnimationFrame||function(t){return A.window.setTimeout(t,1e3/60)},n=A.window.cancelAnimationFrame||A.window.clearTimeout;function r(){return i.apply(A.window,arguments)}A.util.animate=function(i){r(function(n){i||(i={});var o,s=n||+new Date,a=i.duration||500,l=s+a,h=i.onChange||t,u=i.abort||t,c=i.onComplete||t,d=i.easing||e,p="startValue"in i?i.startValue:0,f="endValue"in i?i.endValue:100,m=i.byValue||f-p;i.onStart&&i.onStart(),function t(e){var i=(o=e||+new Date)>l?a:o-s,n=i/a,g=d(i,p,m,a),v=Math.abs((g-p)/m);if(!u())return o>l?(h(f,1,1),void c(f,1,1)):(h(g,v,n),void r(t));c(f,1,1)}(s)})},A.util.requestAnimFrame=r,A.util.cancelAnimFrame=function(){return n.apply(A.window,arguments)}}(),function(){A.util.animateColor=function(t,e,i,n){var r=new A.Color(t).getSource(),o=new A.Color(e).getSource();n=n||{},A.util.animate(A.util.object.extend(n,{duration:i||500,startValue:r,endValue:o,byValue:o,easing:function(t,e,i,r){var o,s,a,l,h=n.colorEasing?n.colorEasing(t,r):1-Math.cos(t/r*(Math.PI/2));return o=e,s=i,a=h,l="rgba("+parseInt(o[0]+a*(s[0]-o[0]),10)+","+parseInt(o[1]+a*(s[1]-o[1]),10)+","+parseInt(o[2]+a*(s[2]-o[2]),10),l+=","+(o&&s?parseFloat(o[3]+a*(s[3]-o[3])):1),l+=")"}}))}}(),function(){function t(t,e,i,n){return t<Math.abs(e)?(t=e,n=i/4):n=0===e&&0===t?i/(2*Math.PI)*Math.asin(1):i/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:i,s:n}}function e(t,e,i){return t.a*Math.pow(2,10*(e-=1))*Math.sin((e*i-t.s)*(2*Math.PI)/t.p)}function i(t,e,i,r){return i-n(r-t,0,i,r)+e}function n(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e}A.util.ease={easeInQuad:function(t,e,i,n){return i*(t/=n)*t+e},easeOutQuad:function(t,e,i,n){return-i*(t/=n)*(t-2)+e},easeInOutQuad:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,i,n){return i*(t/=n)*t*t+e},easeOutCubic:function(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e},easeInOutCubic:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,i,n){return i*(t/=n)*t*t*t+e},easeOutQuart:function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},easeOutQuint:function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e},easeOutSine:function(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e},easeInOutSine:function(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e},easeInExpo:function(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e},easeOutExpo:function(t,e,i,n){return t===n?e+i:i*(1-Math.pow(2,-10*t/n))+e},easeInOutExpo:function(t,e,i,n){return 0===t?e:t===n?e+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e},easeOutCirc:function(t,e,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+e},easeInOutCirc:function(t,e,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(i,n,r,o){var s=0;return 0===i?n:1==(i/=o)?n+r:(s||(s=.3*o),-e(t(r,r,s,1.70158),i,o)+n)},easeOutElastic:function(e,i,n,r){var o=0,s=n;if(0===e)return i;if(1==(e/=r))return i+n;o||(o=.3*r);var a=t(s,n,o,1.70158);return a.a*Math.pow(2,-10*e)*Math.sin((e*r-a.s)*(2*Math.PI)/a.p)+a.c+i},easeInOutElastic:function(i,n,r,o){var s=0,a=r;if(0===i)return n;if(2==(i/=o/2))return n+r;s||(s=o*(.3*1.5));var l=t(a,r,s,1.70158);return i<1?-.5*e(l,i,o)+n:l.a*Math.pow(2,-10*(i-=1))*Math.sin((i*o-l.s)*(2*Math.PI)/l.p)*.5+l.c+n},easeInBack:function(t,e,i,n,r){return void 0===r&&(r=1.70158),i*(t/=n)*t*((r+1)*t-r)+e},easeOutBack:function(t,e,i,n,r){return void 0===r&&(r=1.70158),i*((t=t/n-1)*t*((r+1)*t+r)+1)+e},easeInOutBack:function(t,e,i,n,r){return void 0===r&&(r=1.70158),(t/=n/2)<1?i/2*(t*t*((1+(r*=1.525))*t-r))+e:i/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},easeInBounce:i,easeOutBounce:n,easeInOutBounce:function(t,e,r,o){return t<o/2?.5*i(2*t,0,r,o)+e:.5*n(2*t-o,0,r,o)+.5*r+e}}}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.object.clone,r=e.util.toFixed,o=e.util.parseUnit,s=e.util.multiplyTransformMatrices,a={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform"},l={stroke:"strokeOpacity",fill:"fillOpacity"};function h(t){return t in a?a[t]:t}function u(t,i,n,r){var a,l="[object Array]"===Object.prototype.toString.call(i);if("fill"!==t&&"stroke"!==t||"none"!==i)if("vector-effect"===t)i="non-scaling-stroke"===i;else if("strokeDashArray"===t)i="none"===i?null:i.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===t)i=n&&n.transformMatrix?s(n.transformMatrix,e.parseTransformAttribute(i)):e.parseTransformAttribute(i);else if("visible"===t)i="none"!==i&&"hidden"!==i,n&&!1===n.visible&&(i=!1);else if("opacity"===t)i=parseFloat(i),n&&void 0!==n.opacity&&(i*=n.opacity);else if("textAnchor"===t)i="start"===i?"left":"end"===i?"right":"center";else if("charSpacing"===t)a=o(i,r)/r*1e3;else if("paintFirst"===t){var h=i.indexOf("fill"),u=i.indexOf("stroke");i="fill";h>-1&&u>-1&&u<h?i="stroke":-1===h&&u>-1&&(i="stroke")}else{if("href"===t||"xlink:href"===t)return i;a=l?i.map(o):o(i,r)}else i="";return!l&&isNaN(a)?i:a}function c(t){return new RegExp("^("+t.join("|")+")\\b","i")}function d(t,e){var i,n,r,o,s=[];for(r=0,o=e.length;r<o;r++)i=e[r],n=t.getElementsByTagName(i),s=s.concat(Array.prototype.slice.call(n));return s}function p(t,e){var i,n=!0;return(i=f(t,e.pop()))&&e.length&&(n=function(t,e){var i,n=!0;for(;t.parentNode&&1===t.parentNode.nodeType&&e.length;)n&&(i=e.pop()),t=t.parentNode,n=f(t,i);return 0===e.length}(t,e)),i&&n&&0===e.length}function f(t,e){var i,n,r=t.nodeName,o=t.getAttribute("class"),s=t.getAttribute("id");if(i=new RegExp("^"+r,"i"),e=e.replace(i,""),s&&e.length&&(i=new RegExp("#"+s+"(?![a-zA-Z\\-]+)","i"),e=e.replace(i,"")),o&&e.length)for(n=(o=o.split(" ")).length;n--;)i=new RegExp("\\."+o[n]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(i,"");return 0===e.length}function m(t,e){var i;if(t.getElementById&&(i=t.getElementById(e)),i)return i;var n,r,o,s=t.getElementsByTagName("*");for(r=0,o=s.length;r<o;r++)if(e===(n=s[r]).getAttribute("id"))return n}e.svgValidTagNamesRegEx=c(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),e.svgViewBoxElementsRegEx=c(["symbol","image","marker","pattern","view","svg"]),e.svgInvalidAncestorsRegEx=c(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),e.svgValidParentsRegEx=c(["symbol","g","a","svg","clipPath","defs"]),e.cssRules={},e.gradientDefs={},e.clipPaths={},e.parseTransformAttribute=function(){function t(t,i,n){t[n]=Math.tan(e.util.degreesToRadians(i[0]))}var i=e.iMatrix,n=e.reNum,r="(?:\\s+,?\\s*|,\\s*)",o="(?:"+("(?:(matrix)\\s*\\(\\s*("+n+")"+r+"("+n+")"+r+"("+n+")"+r+"("+n+")"+r+"("+n+")"+r+"("+n+")\\s*\\))")+"|"+("(?:(translate)\\s*\\(\\s*("+n+")(?:"+r+"("+n+"))?\\s*\\))")+"|"+("(?:(scale)\\s*\\(\\s*("+n+")(?:"+r+"("+n+"))?\\s*\\))")+"|"+("(?:(rotate)\\s*\\(\\s*("+n+")(?:"+r+"("+n+")"+r+"("+n+"))?\\s*\\))")+"|"+("(?:(skewX)\\s*\\(\\s*("+n+")\\s*\\))")+"|"+("(?:(skewY)\\s*\\(\\s*("+n+")\\s*\\))")+")",s=new RegExp("^\\s*(?:"+("(?:"+o+"(?:"+r+"*"+o+")*)")+"?)\\s*$"),a=new RegExp(o,"g");return function(n){var r=i.concat(),l=[];if(!n||n&&!s.test(n))return r;n.replace(a,function(n){var s=new RegExp(o).exec(n).filter(function(t){return!!t}),a=s[1],h=s.slice(2).map(parseFloat);switch(a){case"translate":!function(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}(r,h);break;case"rotate":h[0]=e.util.degreesToRadians(h[0]),function(t,i){var n=e.util.cos(i[0]),r=e.util.sin(i[0]),o=0,s=0;3===i.length&&(o=i[1],s=i[2]),t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=o-(n*o-r*s),t[5]=s-(r*o+n*s)}(r,h);break;case"scale":!function(t,e){var i=e[0],n=2===e.length?e[1]:e[0];t[0]=i,t[3]=n}(r,h);break;case"skewX":t(r,h,2);break;case"skewY":t(r,h,1);break;case"matrix":r=h}l.push(r.concat()),r=i.concat()});for(var h=l[0];l.length>1;)l.shift(),h=e.util.multiplyTransformMatrices(h,l[0]);return h}}();var g=new RegExp("^\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*$");function v(t){var i,n,r,s,a,l,h=t.getAttribute("viewBox"),u=1,c=1,d=t.getAttribute("width"),p=t.getAttribute("height"),f=t.getAttribute("x")||0,m=t.getAttribute("y")||0,v=t.getAttribute("preserveAspectRatio")||"",A=!h||!e.svgViewBoxElementsRegEx.test(t.nodeName)||!(h=h.match(g)),y=!d||!p||"100%"===d||"100%"===p,x=A&&y,b={},C="",w=0,E=0;if(b.width=0,b.height=0,b.toBeParsed=x,x)return b;if(A)return b.width=o(d),b.height=o(p),b;if(i=-parseFloat(h[1]),n=-parseFloat(h[2]),r=parseFloat(h[3]),s=parseFloat(h[4]),b.minX=i,b.minY=n,b.viewBoxWidth=r,b.viewBoxHeight=s,y?(b.width=r,b.height=s):(b.width=o(d),b.height=o(p),u=b.width/r,c=b.height/s),"none"!==(v=e.util.parsePreserveAspectRatioAttribute(v)).alignX&&("meet"===v.meetOrSlice&&(c=u=u>c?c:u),"slice"===v.meetOrSlice&&(c=u=u>c?u:c),w=b.width-r*u,E=b.height-s*u,"Mid"===v.alignX&&(w/=2),"Mid"===v.alignY&&(E/=2),"Min"===v.alignX&&(w=0),"Min"===v.alignY&&(E=0)),1===u&&1===c&&0===i&&0===n&&0===f&&0===m)return b;if((f||m)&&(C=" translate("+o(f)+" "+o(m)+") "),a=C+" matrix("+u+" 0 0 "+c+" "+(i*u+w)+" "+(n*c+E)+") ",b.viewboxTransform=e.parseTransformAttribute(a),"svg"===t.nodeName){for(l=t.ownerDocument.createElement("g");t.firstChild;)l.appendChild(t.firstChild);t.appendChild(l)}else a=(l=t).getAttribute("transform")+a;return l.setAttribute("transform",a),b}function A(t,e){var i=m(t,e.getAttribute("xlink:href").substr(1));if(i&&i.getAttribute("xlink:href")&&A(t,i),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach(function(t){i&&!e.hasAttribute(t)&&i.hasAttribute(t)&&e.setAttribute(t,i.getAttribute(t))}),!e.children.length)for(var n=i.cloneNode(!0);n.firstChild;)e.appendChild(n.firstChild);e.removeAttribute("xlink:href")}e.parseSVGDocument=function(t,i,r,o){if(t){!function(t){for(var e=d(t,["use","svg:use"]),i=0;e.length&&i<e.length;){var n,r,o,s,a=e[i],l=(a.getAttribute("xlink:href")||a.getAttribute("href")).substr(1),h=a.getAttribute("x")||0,u=a.getAttribute("y")||0,c=m(t,l).cloneNode(!0),p=(c.getAttribute("transform")||"")+" translate("+h+", "+u+")",f=e.length;if(v(c),/^svg$/i.test(c.nodeName)){var g=c.ownerDocument.createElement("g");for(r=0,s=(o=c.attributes).length;r<s;r++)n=o.item(r),g.setAttribute(n.nodeName,n.nodeValue);for(;c.firstChild;)g.appendChild(c.firstChild);c=g}for(r=0,s=(o=a.attributes).length;r<s;r++)"x"!==(n=o.item(r)).nodeName&&"y"!==n.nodeName&&"xlink:href"!==n.nodeName&&"href"!==n.nodeName&&("transform"===n.nodeName?p=n.nodeValue+" "+p:c.setAttribute(n.nodeName,n.nodeValue));c.setAttribute("transform",p),c.setAttribute("instantiated_by_use","1"),c.removeAttribute("id"),a.parentNode.replaceChild(c,a),e.length===f&&i++}}(t);var s,a,l=e.Object.__uid++,h=v(t),u=e.util.toArray(t.getElementsByTagName("*"));if(h.crossOrigin=o&&o.crossOrigin,h.svgUid=l,0===u.length&&e.isLikelyNode){var c=[];for(s=0,a=(u=t.selectNodes('//*[name(.)!="svg"]')).length;s<a;s++)c[s]=u[s];u=c}var p=u.filter(function(t){return v(t),e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))&&!function(t,e){for(;t&&(t=t.parentNode);)if(t.nodeName&&e.test(t.nodeName.replace("svg:",""))&&!t.getAttribute("instantiated_by_use"))return!0;return!1}(t,e.svgInvalidAncestorsRegEx)});if(!p||p&&!p.length)i&&i([],{});else{var f={};u.filter(function(t){return"clipPath"===t.nodeName.replace("svg:","")}).forEach(function(t){var i=t.getAttribute("id");f[i]=e.util.toArray(t.getElementsByTagName("*")).filter(function(t){return e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))})}),e.gradientDefs[l]=e.getGradientDefs(t),e.cssRules[l]=e.getCSSRules(t),e.clipPaths[l]=f,e.parseElements(p,function(t,n){i&&(i(t,h,n,u),delete e.gradientDefs[l],delete e.cssRules[l],delete e.clipPaths[l])},n(h),r,o)}}};var y=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+e.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+e.reNum+"))?\\s+(.*)");i(e,{parseFontDeclaration:function(t,e){var i=t.match(y);if(i){var n=i[1],r=i[3],s=i[4],a=i[5],l=i[6];n&&(e.fontStyle=n),r&&(e.fontWeight=isNaN(parseFloat(r))?r:parseFloat(r)),s&&(e.fontSize=o(s)),l&&(e.fontFamily=l),a&&(e.lineHeight="normal"===a?1:a)}},getGradientDefs:function(t){var e,i=d(t,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),n=0,r={};for(n=i.length;n--;)(e=i[n]).getAttribute("xlink:href")&&A(t,e),r[e.getAttribute("id")]=e;return r},parseAttributes:function(t,n,s){if(t){var a,c,d,f={};void 0===s&&(s=t.getAttribute("svgUid")),t.parentNode&&e.svgValidParentsRegEx.test(t.parentNode.nodeName)&&(f=e.parseAttributes(t.parentNode,n,s));var m=n.reduce(function(e,i){return(a=t.getAttribute(i))&&(e[i]=a),e},{});m=i(m,i(function(t,i){var n={};for(var r in e.cssRules[i])if(p(t,r.split(" ")))for(var o in e.cssRules[i][r])n[o]=e.cssRules[i][r][o];return n}(t,s),e.parseStyleAttribute(t))),c=d=f.fontSize||e.Text.DEFAULT_SVG_FONT_SIZE,m["font-size"]&&(m["font-size"]=c=o(m["font-size"],d));var g,v,A={};for(var y in m)v=u(g=h(y),m[y],f,c),A[g]=v;A&&A.font&&e.parseFontDeclaration(A.font,A);var x=i(f,A);return e.svgValidParentsRegEx.test(t.nodeName)?x:function(t){for(var i in l)if(void 0!==t[l[i]]&&""!==t[i]){if(void 0===t[i]){if(!e.Object.prototype[i])continue;t[i]=e.Object.prototype[i]}if(0!==t[i].indexOf("url(")){var n=new e.Color(t[i]);t[i]=n.setAlpha(r(n.getAlpha()*t[l[i]],2)).toRgba()}}return t}(x)}},parseElements:function(t,i,n,r,o){new e.ElementsParser(t,i,n,r,o).parse()},parseStyleAttribute:function(t){var e={},i=t.getAttribute("style");return i?("string"==typeof i?function(t,e){var i,n;t.replace(/;\s*$/,"").split(";").forEach(function(t){var r=t.split(":");i=r[0].trim().toLowerCase(),n=r[1].trim(),e[i]=n})}(i,e):function(t,e){var i,n;for(var r in t)void 0!==t[r]&&(i=r.toLowerCase(),n=t[r],e[i]=n)}(i,e),e):e},parsePointsAttribute:function(t){if(!t)return null;var e,i,n=[];for(e=0,i=(t=(t=t.replace(/,/g," ").trim()).split(/\s+/)).length;e<i;e+=2)n.push({x:parseFloat(t[e]),y:parseFloat(t[e+1])});return n},getCSSRules:function(t){var i,n,r=t.getElementsByTagName("style"),o={};for(i=0,n=r.length;i<n;i++){var s=r[i].textContent||r[i].text;""!==(s=s.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&s.match(/[^{]*\{[\s\S]*?\}/g).map(function(t){return t.trim()}).forEach(function(t){var r=t.match(/([\s\S]*?)\s*\{([^}]*)\}/),s={},a=r[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(i=0,n=a.length;i<n;i++){var l=a[i].split(/\s*:\s*/),h=l[0],u=l[1];s[h]=u}(t=r[1]).split(",").forEach(function(t){""!==(t=t.replace(/^svg/i,"").trim())&&(o[t]?e.util.object.extend(o[t],s):o[t]=e.util.object.clone(s))})})}return o},loadSVGFromURL:function(t,i,n,r){t=t.replace(/^\n\s*/,"").trim(),new e.util.request(t,{method:"get",onComplete:function(t){var o=t.responseXML;o&&!o.documentElement&&e.window.ActiveXObject&&t.responseText&&((o=new ActiveXObject("Microsoft.XMLDOM")).async="false",o.loadXML(t.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));if(!o||!o.documentElement)return i&&i(null),!1;e.parseSVGDocument(o.documentElement,function(t,e,n,r){i&&i(t,e,n,r)},n,r)}})},loadSVGFromString:function(t,i,n,r){var o;if(t=t.trim(),void 0!==e.window.DOMParser){var s=new e.window.DOMParser;s&&s.parseFromString&&(o=s.parseFromString(t,"text/xml"))}else e.window.ActiveXObject&&((o=new ActiveXObject("Microsoft.XMLDOM")).async="false",o.loadXML(t.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));e.parseSVGDocument(o.documentElement,function(t,e,n,r){i(t,e,n,r)},n,r)}})}(e),A.ElementsParser=function(t,e,i,n,r){this.elements=t,this.callback=e,this.options=i,this.reviver=n,this.svgUid=i&&i.svgUid||0,this.parsingOptions=r,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g},(h=A.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},h.createObjects=function(){var t=this;this.elements.forEach(function(e,i){e.setAttribute("svgUid",t.svgUid),t.createObject(e,i)})},h.findTag=function(t){return A[A.util.string.capitalize(t.tagName.replace("svg:",""))]},h.createObject=function(t,e){var i=this.findTag(t);if(i&&i.fromElement)try{i.fromElement(t,this.createCallback(e,t),this.options)}catch(t){A.log(t)}else this.checkIfDone()},h.createCallback=function(t,e){var i=this;return function(n){var r;i.resolveGradient(n,e,"fill"),i.resolveGradient(n,e,"stroke"),n instanceof A.Image&&n._originalElement&&(r=n.parsePreserveAspectRatioAttribute(e)),n._removeTransformMatrix(r),i.resolveClipPath(n),i.reviver&&i.reviver(e,n),i.instances[t]=n,i.checkIfDone()}},h.extractPropertyDefinition=function(t,e,i){var n=t[e];if(/^url\(/.test(n)){var r=this.regexUrl.exec(n)[1];return this.regexUrl.lastIndex=0,A[i][this.svgUid][r]}},h.resolveGradient=function(t,e,i){var n=this.extractPropertyDefinition(t,i,"gradientDefs");if(n){var r=e.getAttribute(i+"-opacity"),o=A.Gradient.fromElement(n,t,r,this.options);t.set(i,o)}},h.createClipPathCallback=function(t,e){return function(t){t._removeTransformMatrix(),t.fillRule=t.clipRule,e.push(t)}},h.resolveClipPath=function(t){var e,i,n,r,o=this.extractPropertyDefinition(t,"clipPath","clipPaths");if(o){n=[],i=A.util.invertTransform(t.calcTransformMatrix());for(var s=0;s<o.length;s++)e=o[s],this.findTag(e).fromElement(e,this.createClipPathCallback(t,n),this.options);o=1===n.length?n[0]:new A.Group(n),r=A.util.multiplyTransformMatrices(i,o.calcTransformMatrix()),o.clipPath&&this.resolveClipPath(o);var a=A.util.qrDecompose(r);o.flipX=!1,o.flipY=!1,o.set("scaleX",a.scaleX),o.set("scaleY",a.scaleY),o.angle=a.angle,o.skewX=a.skewX,o.skewY=0,o.setPositionByOrigin({x:a.translateX,y:a.translateY},"center","center"),t.clipPath=o}},h.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter(function(t){return null!=t}),this.callback(this.instances,this.elements))},function(t){"use strict";var e=t.fabric||(t.fabric={});function i(t,e){this.x=t,this.y=e}e.Point?e.warn("fabric.Point is already defined"):(e.Point=i,i.prototype={type:"point",constructor:i,add:function(t){return new i(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new i(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new i(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new i(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new i(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new i(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,e){return void 0===e&&(e=.5),e=Math.max(Math.min(1,e),0),new i(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)},distanceFrom:function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},midPointFrom:function(t){return this.lerp(t)},min:function(t){return new i(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new i(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setFromPoint:function(t){return this.x=t.x,this.y=t.y,this},swap:function(t){var e=this.x,i=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=i},clone:function(){return new i(this.x,this.y)}})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});function i(t){this.status=t,this.points=[]}e.Intersection?e.warn("fabric.Intersection is already defined"):(e.Intersection=i,e.Intersection.prototype={constructor:i,appendPoint:function(t){return this.points.push(t),this},appendPoints:function(t){return this.points=this.points.concat(t),this}},e.Intersection.intersectLineLine=function(t,n,r,o){var s,a=(o.x-r.x)*(t.y-r.y)-(o.y-r.y)*(t.x-r.x),l=(n.x-t.x)*(t.y-r.y)-(n.y-t.y)*(t.x-r.x),h=(o.y-r.y)*(n.x-t.x)-(o.x-r.x)*(n.y-t.y);if(0!==h){var u=a/h,c=l/h;0<=u&&u<=1&&0<=c&&c<=1?(s=new i("Intersection")).appendPoint(new e.Point(t.x+u*(n.x-t.x),t.y+u*(n.y-t.y))):s=new i}else s=new i(0===a||0===l?"Coincident":"Parallel");return s},e.Intersection.intersectLinePolygon=function(t,e,n){var r,o,s,a,l=new i,h=n.length;for(a=0;a<h;a++)r=n[a],o=n[(a+1)%h],s=i.intersectLineLine(t,e,r,o),l.appendPoints(s.points);return l.points.length>0&&(l.status="Intersection"),l},e.Intersection.intersectPolygonPolygon=function(t,e){var n,r=new i,o=t.length;for(n=0;n<o;n++){var s=t[n],a=t[(n+1)%o],l=i.intersectLinePolygon(s,a,e);r.appendPoints(l.points)}return r.points.length>0&&(r.status="Intersection"),r},e.Intersection.intersectPolygonRectangle=function(t,n,r){var o=n.min(r),s=n.max(r),a=new e.Point(s.x,o.y),l=new e.Point(o.x,s.y),h=i.intersectLinePolygon(o,a,t),u=i.intersectLinePolygon(a,s,t),c=i.intersectLinePolygon(s,l,t),d=i.intersectLinePolygon(l,o,t),p=new i;return p.appendPoints(h.points),p.appendPoints(u.points),p.appendPoints(c.points),p.appendPoints(d.points),p.points.length>0&&(p.status="Intersection"),p})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});function i(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function n(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}e.Color?e.warn("fabric.Color is already defined."):(e.Color=i,e.Color.prototype={_tryParsingColor:function(t){var e;t in i.colorNameMap&&(t=i.colorNameMap[t]),"transparent"===t&&(e=[255,255,255,0]),e||(e=i.sourceFromHex(t)),e||(e=i.sourceFromRgb(t)),e||(e=i.sourceFromHsl(t)),e||(e=[0,0,0,1]),e&&this.setSource(e)},_rgbToHsl:function(t,i,n){t/=255,i/=255,n/=255;var r,o,s,a=e.util.array.max([t,i,n]),l=e.util.array.min([t,i,n]);if(s=(a+l)/2,a===l)r=o=0;else{var h=a-l;switch(o=s>.5?h/(2-a-l):h/(a+l),a){case t:r=(i-n)/h+(i<n?6:0);break;case i:r=(n-t)/h+2;break;case n:r=(t-i)/h+4}r/=6}return[Math.round(360*r),Math.round(100*o),Math.round(100*s)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e,i,n=this.getSource();return t=1===(t=n[0].toString(16)).length?"0"+t:t,e=1===(e=n[1].toString(16)).length?"0"+e:e,i=1===(i=n[2].toString(16)).length?"0"+i:i,t.toUpperCase()+e.toUpperCase()+i.toUpperCase()},toHexa:function(){var t,e=this.getSource();return t=1===(t=(t=Math.round(255*e[3])).toString(16)).length?"0"+t:t,this.toHex()+t.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10),i=t[3];return this.setSource([e,e,e,i]),this},toBlackWhite:function(t){var e=this.getSource(),i=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),n=e[3];return t=t||127,i=Number(i)<Number(t)?0:255,this.setSource([i,i,i,n]),this},overlayWith:function(t){t instanceof i||(t=new i(t));var e,n=[],r=this.getAlpha(),o=this.getSource(),s=t.getSource();for(e=0;e<3;e++)n.push(Math.round(.5*o[e]+.5*s[e]));return n[3]=r,this.setSource(n),this}},e.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,e.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,e.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,e.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},e.Color.fromRgb=function(t){return i.fromSource(i.sourceFromRgb(t))},e.Color.sourceFromRgb=function(t){var e=t.match(i.reRGBa);if(e){var n=parseInt(e[1],10)/(/%$/.test(e[1])?100:1)*(/%$/.test(e[1])?255:1),r=parseInt(e[2],10)/(/%$/.test(e[2])?100:1)*(/%$/.test(e[2])?255:1),o=parseInt(e[3],10)/(/%$/.test(e[3])?100:1)*(/%$/.test(e[3])?255:1);return[parseInt(n,10),parseInt(r,10),parseInt(o,10),e[4]?parseFloat(e[4]):1]}},e.Color.fromRgba=i.fromRgb,e.Color.fromHsl=function(t){return i.fromSource(i.sourceFromHsl(t))},e.Color.sourceFromHsl=function(t){var e=t.match(i.reHSLa);if(e){var r,o,s,a=(parseFloat(e[1])%360+360)%360/360,l=parseFloat(e[2])/(/%$/.test(e[2])?100:1),h=parseFloat(e[3])/(/%$/.test(e[3])?100:1);if(0===l)r=o=s=h;else{var u=h<=.5?h*(l+1):h+l-h*l,c=2*h-u;r=n(c,u,a+1/3),o=n(c,u,a),s=n(c,u,a-1/3)}return[Math.round(255*r),Math.round(255*o),Math.round(255*s),e[4]?parseFloat(e[4]):1]}},e.Color.fromHsla=i.fromHsl,e.Color.fromHex=function(t){return i.fromSource(i.sourceFromHex(t))},e.Color.sourceFromHex=function(t){if(t.match(i.reHex)){var e=t.slice(t.indexOf("#")+1),n=3===e.length||4===e.length,r=8===e.length||4===e.length,o=n?e.charAt(0)+e.charAt(0):e.substring(0,2),s=n?e.charAt(1)+e.charAt(1):e.substring(2,4),a=n?e.charAt(2)+e.charAt(2):e.substring(4,6),l=r?n?e.charAt(3)+e.charAt(3):e.substring(6,8):"FF";return[parseInt(o,16),parseInt(s,16),parseInt(a,16),parseFloat((parseInt(l,16)/255).toFixed(2))]}},e.Color.fromSource=function(t){var e=new i;return e.setSource(t),e})}(e),function(){function t(t,e){var i,n,r,o,s=t.getAttribute("style"),a=t.getAttribute("offset")||0;if(a=(a=parseFloat(a)/(/%$/.test(a)?100:1))<0?0:a>1?1:a,s){var l=s.split(/\s*;\s*/);for(""===l[l.length-1]&&l.pop(),o=l.length;o--;){var h=l[o].split(/\s*:\s*/),u=h[0].trim(),c=h[1].trim();"stop-color"===u?i=c:"stop-opacity"===u&&(r=c)}}return i||(i=t.getAttribute("stop-color")||"rgb(0,0,0)"),r||(r=t.getAttribute("stop-opacity")),n=(i=new A.Color(i)).getAlpha(),r=isNaN(parseFloat(r))?1:parseFloat(r),r*=n*e,{offset:a,color:i.toRgb(),opacity:r}}var e=A.util.object.clone;function i(t,e,i,n){var r,o;Object.keys(e).forEach(function(t){"Infinity"===(r=e[t])?o=1:"-Infinity"===r?o=0:(o=parseFloat(e[t],10),"string"==typeof r&&/^(\d+\.\d+)%|(\d+)%$/.test(r)&&(o*=.01,"pixels"===n&&("x1"!==t&&"x2"!==t&&"r2"!==t||(o*=i.viewBoxWidth||i.width),"y1"!==t&&"y2"!==t||(o*=i.viewBoxHeight||i.height)))),e[t]=o})}A.Gradient=A.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(t){t||(t={}),t.coords||(t.coords={});var e,i=this;Object.keys(t).forEach(function(e){i[e]=t[e]}),this.id?this.id+="_"+A.Object.__uid++:this.id=A.Object.__uid++,e={x1:t.coords.x1||0,y1:t.coords.y1||0,x2:t.coords.x2||0,y2:t.coords.y2||0},"radial"===this.type&&(e.r1=t.coords.r1||0,e.r2=t.coords.r2||0),this.coords=e,this.colorStops=t.colorStops.slice()},addColorStop:function(t){for(var e in t){var i=new A.Color(t[e]);this.colorStops.push({offset:parseFloat(e),color:i.toRgb(),opacity:i.getAlpha()})}return this},toObject:function(t){var e={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return A.util.populateWithProperties(this,e,t),e},toSVG:function(t,i){var n,r,o,s,a=e(this.coords,!0),l=(i=i||{},e(this.colorStops,!0)),h=a.r1>a.r2,u=this.gradientTransform?this.gradientTransform.concat():A.iMatrix.concat(),c=-this.offsetX,d=-this.offsetY,p=!!i.additionalTransform,f="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(l.sort(function(t,e){return t.offset-e.offset}),"objectBoundingBox"===f?(c/=t.width,d/=t.height):(c+=t.width/2,d+=t.height/2),"path"===t.type&&(c-=t.pathOffset.x,d-=t.pathOffset.y),u[4]-=c,u[5]-=d,s='id="SVGID_'+this.id+'" gradientUnits="'+f+'"',s+=' gradientTransform="'+(p?i.additionalTransform+" ":"")+A.util.matrixToSVG(u)+'" ',"linear"===this.type?o=["<linearGradient ",s,' x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,'">\n']:"radial"===this.type&&(o=["<radialGradient ",s,' cx="',h?a.x1:a.x2,'" cy="',h?a.y1:a.y2,'" r="',h?a.r1:a.r2,'" fx="',h?a.x2:a.x1,'" fy="',h?a.y2:a.y1,'">\n']),"radial"===this.type){if(h)for((l=l.concat()).reverse(),n=0,r=l.length;n<r;n++)l[n].offset=1-l[n].offset;var m=Math.min(a.r1,a.r2);if(m>0){var g=m/Math.max(a.r1,a.r2);for(n=0,r=l.length;n<r;n++)l[n].offset+=g*(1-l[n].offset)}}for(n=0,r=l.length;n<r;n++){var v=l[n];o.push("<stop ",'offset="',100*v.offset+"%",'" style="stop-color:',v.color,void 0!==v.opacity?";stop-opacity: "+v.opacity:";",'"/>\n')}return o.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),o.join("")},toLive:function(t){var e,i,n,r=A.util.object.clone(this.coords);if(this.type){for("linear"===this.type?e=t.createLinearGradient(r.x1,r.y1,r.x2,r.y2):"radial"===this.type&&(e=t.createRadialGradient(r.x1,r.y1,r.r1,r.x2,r.y2,r.r2)),i=0,n=this.colorStops.length;i<n;i++){var o=this.colorStops[i].color,s=this.colorStops[i].opacity,a=this.colorStops[i].offset;void 0!==s&&(o=new A.Color(o).setAlpha(s).toRgba()),e.addColorStop(a,o)}return e}}}),A.util.object.extend(A.Gradient,{fromElement:function(e,n,r,o){var s=parseFloat(r)/(/%$/.test(r)?100:1);s=s<0?0:s>1?1:s,isNaN(s)&&(s=1);var a,l,h,u,c=e.getElementsByTagName("stop"),d="userSpaceOnUse"===e.getAttribute("gradientUnits")?"pixels":"percentage",p=e.getAttribute("gradientTransform")||"",f=[],m=0,g=0;for("linearGradient"===e.nodeName||"LINEARGRADIENT"===e.nodeName?(a="linear",l=function(t){return{x1:t.getAttribute("x1")||0,y1:t.getAttribute("y1")||0,x2:t.getAttribute("x2")||"100%",y2:t.getAttribute("y2")||0}}(e)):(a="radial",l=function(t){return{x1:t.getAttribute("fx")||t.getAttribute("cx")||"50%",y1:t.getAttribute("fy")||t.getAttribute("cy")||"50%",r1:0,x2:t.getAttribute("cx")||"50%",y2:t.getAttribute("cy")||"50%",r2:t.getAttribute("r")||"50%"}}(e)),h=c.length;h--;)f.push(t(c[h],s));return u=A.parseTransformAttribute(p),i(n,l,o,d),"pixels"===d&&(m=-n.left,g=-n.top),new A.Gradient({id:e.getAttribute("id"),type:a,coords:l,colorStops:f,gradientUnits:d,gradientTransform:u,offsetX:m,offsetY:g})},forObject:function(t,e){return e||(e={}),i(t,e.coords,e.gradientUnits,{viewBoxWidth:100,viewBoxHeight:100}),new A.Gradient(e)}})}(),function(){"use strict";var t=A.util.toFixed;A.Pattern=A.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(t,e){if(t||(t={}),this.id=A.Object.__uid++,this.setOptions(t),!t.source||t.source&&"string"!=typeof t.source)e&&e(this);else if(void 0!==A.util.getFunctionBody(t.source))this.source=new Function(A.util.getFunctionBody(t.source)),e&&e(this);else{var i=this;this.source=A.util.createImage(),A.util.loadImage(t.source,function(t){i.source=t,e&&e(i)},null,this.crossOrigin)}},toObject:function(e){var i,n,r=A.Object.NUM_FRACTION_DIGITS;return"function"==typeof this.source?i=String(this.source):"string"==typeof this.source.src?i=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(i=this.source.toDataURL()),n={type:"pattern",source:i,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:t(this.offsetX,r),offsetY:t(this.offsetY,r),patternTransform:this.patternTransform?this.patternTransform.concat():null},A.util.populateWithProperties(this,n,e),n},toSVG:function(t){var e="function"==typeof this.source?this.source():this.source,i=e.width/t.width,n=e.height/t.height,r=this.offsetX/t.width,o=this.offsetY/t.height,s="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(n=1,o&&(n+=Math.abs(o))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(i=1,r&&(i+=Math.abs(r))),e.src?s=e.src:e.toDataURL&&(s=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+r+'" y="'+o+'" width="'+i+'" height="'+n+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+s+'"></image>\n</pattern>\n'},setOptions:function(t){for(var e in t)this[e]=t[e]},toLive:function(t){var e="function"==typeof this.source?this.source():this.source;if(!e)return"";if(void 0!==e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.toFixed;e.Shadow?e.warn("fabric.Shadow is already defined."):(e.Shadow=e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(t){for(var i in"string"==typeof t&&(t=this._parseShadow(t)),t)this[i]=t[i];this.id=e.Object.__uid++},_parseShadow:function(t){var i=t.trim(),n=e.Shadow.reOffsetsAndBlur.exec(i)||[];return{color:(i.replace(e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseInt(n[1],10)||0,offsetY:parseInt(n[2],10)||0,blur:parseInt(n[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var n=40,r=40,o=e.Object.NUM_FRACTION_DIGITS,s=e.util.rotateVector({x:this.offsetX,y:this.offsetY},e.util.degreesToRadians(-t.angle)),a=new e.Color(this.color);return t.width&&t.height&&(n=100*i((Math.abs(s.x)+this.blur)/t.width,o)+20,r=100*i((Math.abs(s.y)+this.blur)/t.height,o)+20),t.flipX&&(s.x*=-1),t.flipY&&(s.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+r+'%" height="'+(100+2*r)+'%" x="-'+n+'%" width="'+(100+2*n)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+i(this.blur?this.blur/2:0,o)+'"></feGaussianBlur>\n\t<feOffset dx="'+i(s.x,o)+'" dy="'+i(s.y,o)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+a.toRgb()+'" flood-opacity="'+a.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var t={},i=e.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(e){this[e]!==i[e]&&(t[e]=this[e])},this),t}}),e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)}(e),function(){"use strict";if(A.StaticCanvas)A.warn("fabric.StaticCanvas is already defined.");else{var t=A.util.object.extend,e=A.util.getElementOffset,i=A.util.removeFromArray,n=A.util.toFixed,r=A.util.transformPoint,o=A.util.invertTransform,s=A.util.getNodeCanvas,a=A.util.createCanvasElement,l=new Error("Could not initialize `canvas` element");A.StaticCanvas=A.util.createClass(A.CommonMethods,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:A.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,onBeforeScaleRotate:function(){},enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(t,e){var i=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this._setImageSmoothing(),this.interactive||this._initRetinaScaling(),e.overlayImage&&this.setOverlayImage(e.overlayImage,i),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,i),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,i),e.overlayColor&&this.setOverlayColor(e.overlayColor,i),this.calcOffset()},_isRetinaScaling:function(){return 1!==A.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?A.devicePixelRatio:1},_initRetinaScaling:function(){this._isRetinaScaling()&&(this.lowerCanvasEl.setAttribute("width",this.width*A.devicePixelRatio),this.lowerCanvasEl.setAttribute("height",this.height*A.devicePixelRatio),this.contextContainer.scale(A.devicePixelRatio,A.devicePixelRatio))},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e,i){return this.__setBgOverlayImage("overlayImage",t,e,i)},setBackgroundImage:function(t,e,i){return this.__setBgOverlayImage("backgroundImage",t,e,i)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},_setImageSmoothing:function(){var t=this.getContext();t.imageSmoothingEnabled=t.imageSmoothingEnabled||t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled||t.oImageSmoothingEnabled,t.imageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(t,e,i,n){return"string"==typeof e?A.util.loadImage(e,function(e){if(e){var r=new A.Image(e,n);this[t]=r,r.canvas=this}i&&i(e)},this,n&&n.crossOrigin):(n&&e.setOptions(n),this[t]=e,e&&(e.canvas=this),i&&i(e)),this},__setBgOverlayColor:function(t,e,i){return this[t]=e,this._initGradient(e,t),this._initPattern(e,t,i),this},_createCanvasElement:function(){var t=a();if(!t)throw l;if(t.style||(t.style={}),void 0===t.getContext)throw l;return t},_initOptions:function(t){var e=this.lowerCanvasEl;this._setOptions(t),this.width=this.width||parseInt(e.width,10)||0,this.height=this.height||parseInt(e.height,10)||0,this.lowerCanvasEl.style&&(e.width=this.width,e.height=this.height,e.style.width=this.width+"px",e.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){t&&t.getContext?this.lowerCanvasEl=t:this.lowerCanvasEl=A.util.getById(t)||this._createCanvasElement(),A.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var i;for(var n in e=e||{},t)i=t[n],e.cssOnly||(this._setBackstoreDimension(n,t[n]),i+="px",this.hasLostContext=!0),e.backstoreOnly||this._setCssDimension(n,i);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this._setImageSmoothing(),this.calcOffset(),e.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(t){var e,i,n,r=this._activeObject;for(this.viewportTransform=t,i=0,n=this._objects.length;i<n;i++)(e=this._objects[i]).group||e.setCoords(!1,!0);return r&&"activeSelection"===r.type&&r.setCoords(!1,!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(t,e){var i=t,n=this.viewportTransform.slice(0);t=r(t,o(this.viewportTransform)),n[0]=e,n[3]=e;var s=r(t,n);return n[4]+=i.x-s.x,n[5]+=i.y-s.y,this.setViewportTransform(n)},setZoom:function(t){return this.zoomToPoint(new A.Point(0,0),t),this},absolutePan:function(t){var e=this.viewportTransform.slice(0);return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)},relativePan:function(t){return this.absolutePan(new A.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(t){this.stateful&&t.setupState(),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.fire("object:removed",{target:t}),t.fire("removed"),delete t.canvas},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var t=this.contextContainer;return this.renderCanvas(t,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=A.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var t={},e=this.width,i=this.height,n=o(this.viewportTransform);return t.tl=r({x:0,y:0},n),t.br=r({x:e,y:i},n),t.tr=new A.Point(t.br.x,t.tl.y),t.bl=new A.Point(t.tl.x,t.br.y),this.vptCoords=t,t},cancelRequestedRender:function(){this.isRendering&&(A.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(t,e){var i=this.viewportTransform,n=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(t),this.fire("before:render",{ctx:t}),this.clipTo&&A.util.clipContext(this,t),this._renderBackground(t),t.save(),t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this._renderObjects(t,e),t.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.clipTo&&t.restore(),n&&(n.canvas=this,n.shouldCache(),n._transformDone=!0,n.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t)),this._renderOverlay(t),this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.fire("after:render",{ctx:t})},drawClipPathOnCanvas:function(t){var e=this.viewportTransform,i=this.clipPath;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t.globalCompositeOperation="destination-in",i.transform(t),t.scale(1/i.zoomX,1/i.zoomY),t.drawImage(i._cacheCanvas,-i.cacheTranslationX,-i.cacheTranslationY),t.restore()},_renderObjects:function(t,e){var i,n;for(i=0,n=e.length;i<n;++i)e[i]&&e[i].render(t)},_renderBackgroundOrOverlay:function(t,e){var i=this[e+"Color"],n=this[e+"Image"],r=this.viewportTransform,o=this[e+"Vpt"];if(i||n){if(i){t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=i.toLive?i.toLive(t,this):i,o&&t.transform(r[0],r[1],r[2],r[3],r[4]+(i.offsetX||0),r[5]+(i.offsetY||0));var s=i.gradientTransform||i.patternTransform;s&&t.transform(s[0],s[1],s[2],s[3],s[4],s[5]),t.fill(),t.restore()}n&&(t.save(),o&&t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),n.render(t),t.restore())}},_renderBackground:function(t){this._renderBackgroundOrOverlay(t,"background")},_renderOverlay:function(t){this._renderBackgroundOrOverlay(t,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(t){return this._centerObject(t,new A.Point(this.getCenter().left,t.getCenterPoint().y))},centerObjectV:function(t){return this._centerObject(t,new A.Point(t.getCenterPoint().x,this.getCenter().top))},centerObject:function(t){var e=this.getCenter();return this._centerObject(t,new A.Point(e.left,e.top))},viewportCenterObject:function(t){var e=this.getVpCenter();return this._centerObject(t,e)},viewportCenterObjectH:function(t){var e=this.getVpCenter();return this._centerObject(t,new A.Point(e.x,t.getCenterPoint().y)),this},viewportCenterObjectV:function(t){var e=this.getVpCenter();return this._centerObject(t,new A.Point(t.getCenterPoint().x,e.y))},getVpCenter:function(){var t=this.getCenter(),e=o(this.viewportTransform);return r({x:t.left,y:t.top},e)},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(e,i){var n=this.clipPath,r={version:A.version,objects:this._toObjects(e,i)};return n&&(r.clipPath=this._toObject(this.clipPath,e,i)),t(r,this.__serializeBgOverlay(e,i)),A.util.populateWithProperties(this,r,i),r},_toObjects:function(t,e){return this._objects.filter(function(t){return!t.excludeFromExport}).map(function(i){return this._toObject(i,t,e)},this)},_toObject:function(t,e,i){var n;this.includeDefaultValues||(n=t.includeDefaultValues,t.includeDefaultValues=!1);var r=t[e](i);return this.includeDefaultValues||(t.includeDefaultValues=n),r},__serializeBgOverlay:function(t,e){var i={},n=this.backgroundImage,r=this.overlayImage;return this.backgroundColor&&(i.background=this.backgroundColor.toObject?this.backgroundColor.toObject(e):this.backgroundColor),this.overlayColor&&(i.overlay=this.overlayColor.toObject?this.overlayColor.toObject(e):this.overlayColor),n&&!n.excludeFromExport&&(i.backgroundImage=this._toObject(n,t,e)),r&&!r.excludeFromExport&&(i.overlayImage=this._toObject(r,t,e)),i},svgViewportTransformation:!0,toSVG:function(t,e){t||(t={}),t.reviver=e;var i=[];return this._setSVGPreamble(i,t),this._setSVGHeader(i,t),this.clipPath&&i.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(i,"background"),this._setSVGBgOverlayImage(i,"backgroundImage",e),this._setSVGObjects(i,e),this.clipPath&&i.push("</g>\n"),this._setSVGBgOverlayColor(i,"overlay"),this._setSVGBgOverlayImage(i,"overlayImage",e),i.push("</svg>"),i.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var i,r=e.width||this.width,o=e.height||this.height,s='viewBox="0 0 '+this.width+" "+this.height+'" ',a=A.Object.NUM_FRACTION_DIGITS;e.viewBox?s='viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':this.svgViewportTransformation&&(i=this.viewportTransform,s='viewBox="'+n(-i[4]/i[0],a)+" "+n(-i[5]/i[3],a)+" "+n(this.width/i[0],a)+" "+n(this.height/i[3],a)+'" '),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',r,'" ','height="',o,'" ',s,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",A.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),"</defs>\n")},createSVGClipPathMarkup:function(t){var e=this.clipPath;return e?(e.clipPathId="CLIPPATH_"+A.Object.__uid++,'<clipPath id="'+e.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(t.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var t=this;return["background","overlay"].map(function(e){var i=t[e+"Color"];if(i&&i.toLive){var n=t[e+"Vpt"],r=t.viewportTransform,o={width:t.width/(n?r[0]:1),height:t.height/(n?r[3]:1)};return i.toSVG(o,{additionalTransform:n?A.util.matrixToSVG(r):""})}}).join("")},createSVGFontFacesMarkup:function(){var t,e,i,n,r,o,s,a,l="",h={},u=A.fontPaths,c=this._objects;for(s=0,a=c.length;s<a;s++)if(e=(t=c[s]).fontFamily,-1!==t.type.indexOf("text")&&!h[e]&&u[e]&&(h[e]=!0,t.styles))for(r in i=t.styles)for(o in n=i[r])!h[e=n[o].fontFamily]&&u[e]&&(h[e]=!0);for(var d in h)l+=["\t\t@font-face {\n","\t\t\tfont-family: '",d,"';\n","\t\t\tsrc: url('",u[d],"');\n","\t\t}\n"].join("");return l&&(l=['\t<style type="text/css">',"<![CDATA[\n",l,"]]>","</style>\n"].join("")),l},_setSVGObjects:function(t,e){var i,n,r,o=this._objects;for(n=0,r=o.length;n<r;n++)(i=o[n]).excludeFromExport||this._setSVGObject(t,i,e)},_setSVGObject:function(t,e,i){t.push(e.toSVG(i))},_setSVGBgOverlayImage:function(t,e,i){this[e]&&!this[e].excludeFromExport&&this[e].toSVG&&t.push(this[e].toSVG(i))},_setSVGBgOverlayColor:function(t,e){var i=this[e+"Color"],n=this.viewportTransform,r=this.width,o=this.height;if(i)if(i.toLive){var s=i.repeat,a=A.util.invertTransform(n),l=this[e+"Vpt"]?A.util.matrixToSVG(a):"";t.push('<rect transform="'+l+" translate(",r/2,",",o/2,')"',' x="',i.offsetX-r/2,'" y="',i.offsetY-o/2,'" ','width="',"repeat-y"===s||"no-repeat"===s?i.source.width:r,'" height="',"repeat-x"===s||"no-repeat"===s?i.source.height:o,'" fill="url(#SVGID_'+i.id+')"',"></rect>\n")}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',i,'"',"></rect>\n")},sendToBack:function(t){if(!t)return this;var e,n,r,o=this._activeObject;if(t===o&&"activeSelection"===t.type)for(e=(r=o._objects).length;e--;)n=r[e],i(this._objects,n),this._objects.unshift(n);else i(this._objects,t),this._objects.unshift(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(t){if(!t)return this;var e,n,r,o=this._activeObject;if(t===o&&"activeSelection"===t.type)for(r=o._objects,e=0;e<r.length;e++)n=r[e],i(this._objects,n),this._objects.push(n);else i(this._objects,t),this._objects.push(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(t,e){if(!t)return this;var n,r,o,s,a,l=this._activeObject,h=0;if(t===l&&"activeSelection"===t.type)for(a=l._objects,n=0;n<a.length;n++)r=a[n],(o=this._objects.indexOf(r))>0+h&&(s=o-1,i(this._objects,r),this._objects.splice(s,0,r)),h++;else 0!==(o=this._objects.indexOf(t))&&(s=this._findNewLowerIndex(t,o,e),i(this._objects,t),this._objects.splice(s,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(t,e,i){var n,r;if(i)for(n=e,r=e-1;r>=0;--r){if(t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t)){n=r;break}}else n=e-1;return n},bringForward:function(t,e){if(!t)return this;var n,r,o,s,a,l=this._activeObject,h=0;if(t===l&&"activeSelection"===t.type)for(n=(a=l._objects).length;n--;)r=a[n],(o=this._objects.indexOf(r))<this._objects.length-1-h&&(s=o+1,i(this._objects,r),this._objects.splice(s,0,r)),h++;else(o=this._objects.indexOf(t))!==this._objects.length-1&&(s=this._findNewUpperIndex(t,o,e),i(this._objects,t),this._objects.splice(s,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(t,e,i){var n,r,o;if(i)for(n=e,r=e+1,o=this._objects.length;r<o;++r){if(t.intersectsWithObject(this._objects[r])||t.isContainedWithinObject(this._objects[r])||this._objects[r].isContainedWithinObject(t)){n=r;break}}else n=e+1;return n},moveTo:function(t,e){return i(this._objects,t),this._objects.splice(e,0,t),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(A.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(t){t.dispose&&t.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,A.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),t(A.StaticCanvas.prototype,A.Observable),t(A.StaticCanvas.prototype,A.Collection),t(A.StaticCanvas.prototype,A.DataURLExporter),t(A.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=a();if(!e||!e.getContext)return null;var i=e.getContext("2d");if(!i)return null;switch(t){case"setLineDash":return void 0!==i.setLineDash;default:return null}}}),A.StaticCanvas.prototype.toJSON=A.StaticCanvas.prototype.toObject,A.isLikelyNode&&(A.StaticCanvas.prototype.createPNGStream=function(){var t=s(this.lowerCanvasEl);return t&&t.createPNGStream()},A.StaticCanvas.prototype.createJPEGStream=function(t){var e=s(this.lowerCanvasEl);return e&&e.createJPEGStream(t)})}}(),A.BaseBrush=A.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,setShadow:function(t){return this.shadow=new A.Shadow(t),this},_setBrushStyles:function(){var t=this.canvas.contextTop;t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.miterLimit=this.strokeMiterLimit,t.lineJoin=this.strokeLineJoin,A.StaticCanvas.supports("setLineDash")&&t.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(t){var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},_setShadow:function(){if(this.shadow){var t=this.canvas.contextTop,e=this.canvas.getZoom();t.shadowColor=this.shadow.color,t.shadowBlur=this.shadow.blur*e,t.shadowOffsetX=this.shadow.offsetX*e,t.shadowOffsetY=this.shadow.offsetY*e}},needsFullRender:function(){return new A.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0}}),A.PencilBrush=A.util.createClass(A.BaseBrush,{decimate:.4,initialize:function(t){this.canvas=t,this._points=[]},_drawSegment:function(t,e,i){var n=e.midPointFrom(i);return t.quadraticCurveTo(e.x,e.y,n.x,n.y),n},onMouseDown:function(t,e){this.canvas._isMainEvent(e.e)&&(this._prepareForDrawing(t),this._captureDrawingPath(t),this._render())},onMouseMove:function(t,e){if(this.canvas._isMainEvent(e.e)&&this._captureDrawingPath(t)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var i=this._points,n=i.length,r=this.canvas.contextTop;this._saveAndTransform(r),this.oldEnd&&(r.beginPath(),r.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(r,i[n-2],i[n-1],!0),r.stroke(),r.restore()}},onMouseUp:function(t){return!this.canvas._isMainEvent(t.e)||(this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(t){var e=new A.Point(t.x,t.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(t){return!(this._points.length>1&&t.eq(this._points[this._points.length-1])||(this._points.push(t),0))},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(t){var e=new A.Point(t.x,t.y);return this._addPoint(e)},_render:function(){var t,e,i=this.canvas.contextTop,n=this._points[0],r=this._points[1];if(this._saveAndTransform(i),i.beginPath(),2===this._points.length&&n.x===r.x&&n.y===r.y){var o=this.width/1e3;n=new A.Point(n.x,n.y),r=new A.Point(r.x,r.y),n.x-=o,r.x+=o}for(i.moveTo(n.x,n.y),t=1,e=this._points.length;t<e;t++)this._drawSegment(i,n,r),n=this._points[t],r=this._points[t+1];i.lineTo(n.x,n.y),i.stroke(),i.restore()},convertPointsToSVGPath:function(t){var e,i=[],n=this.width/1e3,r=new A.Point(t[0].x,t[0].y),o=new A.Point(t[1].x,t[1].y),s=t.length,a=1,l=0,h=s>2;for(h&&(a=t[2].x<o.x?-1:t[2].x===o.x?0:1,l=t[2].y<o.y?-1:t[2].y===o.y?0:1),i.push("M ",r.x-a*n," ",r.y-l*n," "),e=1;e<s;e++){if(!r.eq(o)){var u=r.midPointFrom(o);i.push("Q ",r.x," ",r.y," ",u.x," ",u.y," ")}r=t[e],e+1<t.length&&(o=t[e+1])}return h&&(a=r.x>t[e-2].x?1:r.x===t[e-2].x?0:-1,l=r.y>t[e-2].y?1:r.y===t[e-2].y?0:-1),i.push("L ",r.x+a*n," ",r.y+l*n),i},createPath:function(t){var e=new A.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,e.setShadow(this.shadow)),e},decimatePoints:function(t,e){if(t.length<=2)return t;var i,n=this.canvas.getZoom(),r=Math.pow(e/n,2),o=t.length-1,s=t[0],a=[s];for(i=1;i<o;i++)Math.pow(s.x-t[i].x,2)+Math.pow(s.y-t[i].y,2)>=r&&(s=t[i],a.push(s));return 1===a.length&&a.push(new A.Point(a[0].x,a[0].y)),a},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var t=this.convertPointsToSVGPath(this._points).join("");if("M 0 0 Q 0 0 0 0 L 0 0"!==t){var e=this.createPath(t);this.canvas.clearContext(this.canvas.contextTop),this.canvas.add(e),this.canvas.requestRenderAll(),e.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:e})}else this.canvas.requestRenderAll()}}),A.CircleBrush=A.util.createClass(A.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var e=this.addPoint(t),i=this.canvas.contextTop;this._saveAndTransform(i),this.dot(i,e),i.restore()},dot:function(t,e){t.fillStyle=e.fill,t.beginPath(),t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.closePath(),t.fill()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},_render:function(){var t,e,i=this.canvas.contextTop,n=this.points;for(this._saveAndTransform(i),t=0,e=n.length;t<e;t++)this.dot(i,n[t]);i.restore()},onMouseMove:function(t){this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(t),this._render()):this.drawDot(t)},onMouseUp:function(){var t,e,i=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var n=[];for(t=0,e=this.points.length;t<e;t++){var r=this.points[t],o=new A.Circle({radius:r.radius,left:r.x,top:r.y,originX:"center",originY:"center",fill:r.fill});this.shadow&&o.setShadow(this.shadow),n.push(o)}var s=new A.Group(n);s.canvas=this.canvas,this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=i,this.canvas.requestRenderAll()},addPoint:function(t){var e=new A.Point(t.x,t.y),i=A.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,n=new A.Color(this.color).setAlpha(A.util.getRandomInt(0,100)/100).toRgba();return e.radius=i,e.fill=n,this.points.push(e),e}}),A.SprayBrush=A.util.createClass(A.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render(this.sprayChunkPoints)},onMouseMove:function(t){this.addSprayChunk(t),this.render(this.sprayChunkPoints)},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],i=0,n=this.sprayChunks.length;i<n;i++)for(var r=this.sprayChunks[i],o=0,s=r.length;o<s;o++){var a=new A.Rect({width:r[o].width,height:r[o].width,left:r[o].x+1,top:r[o].y+1,originX:"center",originY:"center",fill:this.color});e.push(a)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var l=new A.Group(e);this.shadow&&l.setShadow(this.shadow),this.canvas.add(l),this.canvas.fire("path:created",{path:l}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()},_getOptimizedRects:function(t){var e,i,n,r={};for(i=0,n=t.length;i<n;i++)r[e=t[i].left+""+t[i].top]||(r[e]=t[i]);var o=[];for(e in r)o.push(r[e]);return o},render:function(t){var e,i,n=this.canvas.contextTop;for(n.fillStyle=this.color,this._saveAndTransform(n),e=0,i=t.length;e<i;e++){var r=t[e];void 0!==r.opacity&&(n.globalAlpha=r.opacity),n.fillRect(r.x,r.y,r.width,r.width)}n.restore()},_render:function(){var t,e,i=this.canvas.contextTop;for(i.fillStyle=this.color,this._saveAndTransform(i),t=0,e=this.sprayChunks.length;t<e;t++)this.render(this.sprayChunks[t]);i.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];var e,i,n,r,o=this.width/2;for(r=0;r<this.density;r++){e=A.util.getRandomInt(t.x-o,t.x+o),i=A.util.getRandomInt(t.y-o,t.y+o),n=this.dotWidthVariance?A.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var s=new A.Point(e,i);s.width=n,this.randomOpacity&&(s.opacity=A.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),A.PatternBrush=A.util.createClass(A.PencilBrush,{getPatternSrc:function(){var t=A.util.createCanvasElement(),e=t.getContext("2d");return t.width=t.height=25,e.fillStyle=this.color,e.beginPath(),e.arc(10,10,10,0,2*Math.PI,!1),e.closePath(),e.fill(),t},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(t){var e=this.callSuper("createPath",t),i=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);return e.stroke=new A.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-i.x,offsetY:-i.y}),e}}),function(){var t=A.util.getPointer,e=A.util.degreesToRadians,i=A.util.radiansToDegrees,n=Math.atan2,r=Math.abs,o=A.StaticCanvas.supports("setLineDash");for(var s in A.Canvas=A.util.createClass(A.StaticCanvas,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas()},uniScaleTransform:!1,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=A.PencilBrush&&new A.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var t,e,i,n=this.getActiveObjects();if(n.length>0&&!this.preserveObjectStacking){e=[],i=[];for(var r=0,o=this._objects.length;r<o;r++)t=this._objects[r],-1===n.indexOf(t)?e.push(t):i.push(t);n.length>1&&(this._activeObject._objects=i),e.push.apply(e,i)}else e=this._objects;return e},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var t=this.contextContainer;return this.renderCanvas(t,this._chooseObjectsToRender()),this},renderTopLayer:function(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()},renderTop:function(){var t=this.contextTop;return this.clearContext(t),this.renderTopLayer(t),this.fire("after:render"),this},_resetCurrentTransform:function(){var t=this._currentTransform;t.target.set({scaleX:t.original.scaleX,scaleY:t.original.scaleY,skewX:t.original.skewX,skewY:t.original.skewY,left:t.original.left,top:t.original.top}),this._shouldCenterTransform(t.target)?("center"!==t.originX&&("right"===t.originX?t.mouseXSign=-1:t.mouseXSign=1),"center"!==t.originY&&("bottom"===t.originY?t.mouseYSign=-1:t.mouseYSign=1),t.originX="center",t.originY="center"):(t.originX=t.original.originX,t.originY=t.original.originY)},containsPoint:function(t,e,i){var n,r=i||this.getPointer(t,!0);return n=e.group&&e.group===this._activeObject&&"activeSelection"===e.group.type?this._normalizePointer(e.group,r):{x:r.x,y:r.y},e.containsPoint(n)||e._findTargetCorner(r)},_normalizePointer:function(t,e){var i=t.calcTransformMatrix(),n=A.util.invertTransform(i),r=this.restorePointerVpt(e);return A.util.transformPoint(r,n)},isTargetTransparent:function(t,e,i){if(t.shouldCache()&&t._cacheCanvas&&t!==this._activeObject){var n=this._normalizePointer(t,{x:e,y:i}),r=Math.max(t.cacheTranslationX+n.x*t.zoomX,0),o=Math.max(t.cacheTranslationY+n.y*t.zoomY,0);return A.util.isTransparent(t._cacheContext,Math.round(r),Math.round(o),this.targetFindTolerance)}var s=this.contextCache,a=t.selectionBackgroundColor,l=this.viewportTransform;return t.selectionBackgroundColor="",this.clearContext(s),s.save(),s.transform(l[0],l[1],l[2],l[3],l[4],l[5]),t.render(s),s.restore(),t===this._activeObject&&t._renderControls(s,{hasBorders:!1,transparentCorners:!1},{hasBorders:!1}),t.selectionBackgroundColor=a,A.util.isTransparent(s,e,i,this.targetFindTolerance)},_isSelectionKeyPressed:function(t){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find(function(e){return!0===t[e]}):t[this.selectionKey]},_shouldClearSelection:function(t,e){var i=this.getActiveObjects(),n=this._activeObject;return!e||e&&n&&i.length>1&&-1===i.indexOf(e)&&n!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&n&&n!==e},_shouldCenterTransform:function(t){if(t){var e,i=this._currentTransform;return"scale"===i.action||"scaleX"===i.action||"scaleY"===i.action?e=this.centeredScaling||t.centeredScaling:"rotate"===i.action&&(e=this.centeredRotation||t.centeredRotation),e?!i.altKey:i.altKey}},_getOriginFromCorner:function(t,e){var i={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?i.x="right":"mr"!==e&&"tr"!==e&&"br"!==e||(i.x="left"),"tl"===e||"mt"===e||"tr"===e?i.y="bottom":"bl"!==e&&"mb"!==e&&"br"!==e||(i.y="top"),i},_getActionFromCorner:function(t,e,i){if(!e||!t)return"drag";switch(e){case"mtr":return"rotate";case"ml":case"mr":return i[this.altActionKey]?"skewY":"scaleX";case"mt":case"mb":return i[this.altActionKey]?"skewX":"scaleY";default:return"scale"}},_setupCurrentTransform:function(t,i,n){if(i){var r=this.getPointer(t),o=i._findTargetCorner(this.getPointer(t,!0)),s=this._getActionFromCorner(n,o,t,i),a=this._getOriginFromCorner(i,o);this._currentTransform={target:i,action:s,corner:o,scaleX:i.scaleX,scaleY:i.scaleY,skewX:i.skewX,skewY:i.skewY,offsetX:r.x-i.left,offsetY:r.y-i.top,originX:a.x,originY:a.y,ex:r.x,ey:r.y,lastX:r.x,lastY:r.y,theta:e(i.angle),width:i.width*i.scaleX,mouseXSign:1,mouseYSign:1,shiftKey:t.shiftKey,altKey:t[this.centeredKey],original:A.util.saveObjectTransform(i)},this._currentTransform.original.originX=a.x,this._currentTransform.original.originY=a.y,this._resetCurrentTransform(),this._beforeTransform(t)}},_translateObject:function(t,e){var i=this._currentTransform,n=i.target,r=t-i.offsetX,o=e-i.offsetY,s=!n.get("lockMovementX")&&n.left!==r,a=!n.get("lockMovementY")&&n.top!==o;return s&&n.set("left",r),a&&n.set("top",o),s||a},_changeSkewTransformOrigin:function(t,e,i){var n="originX",r={0:"center"},o=e.target.skewX,s="left",a="right",l="mt"===e.corner||"ml"===e.corner?1:-1,h=1;t=t>0?1:-1,"y"===i&&(o=e.target.skewY,s="top",a="bottom",n="originY"),r[-1]=s,r[1]=a,e.target.flipX&&(h*=-1),e.target.flipY&&(h*=-1),0===o?(e.skewSign=-l*t*h,e[n]=r[-t]):(o=o>0?1:-1,e.skewSign=o,e[n]=r[o*l*h])},_skewObject:function(t,e,i){var n,r=this._currentTransform,o=r.target,s=o.get("lockSkewingX"),a=o.get("lockSkewingY");if(s&&"x"===i||a&&"y"===i)return!1;var l,h,u=o.getCenterPoint(),c=o.toLocalPoint(new A.Point(t,e),"center","center")[i],d=o.toLocalPoint(new A.Point(r.lastX,r.lastY),"center","center")[i],p=o._getTransformedDimensions();return this._changeSkewTransformOrigin(c-d,r,i),l=o.toLocalPoint(new A.Point(t,e),r.originX,r.originY)[i],h=o.translateToOriginPoint(u,r.originX,r.originY),n=this._setObjectSkew(l,r,i,p),r.lastX=t,r.lastY=e,o.setPositionByOrigin(h,r.originX,r.originY),n},_setObjectSkew:function(t,e,i,n){var r,o,s,a,l,h,u,c,d,p,f=e.target,m=e.skewSign;return"x"===i?(l="y",h="Y",u="X",d=0,p=f.skewY):(l="x",h="X",u="Y",d=f.skewX,p=0),a=f._getTransformedDimensions(d,p),(c=2*Math.abs(t)-a[i])<=2?r=0:(r=m*Math.atan(c/f["scale"+u]/(a[l]/f["scale"+h])),r=A.util.radiansToDegrees(r)),o=f["skew"+u]!==r,f.set("skew"+u,r),0!==f["skew"+h]&&(s=f._getTransformedDimensions(),r=n[l]/s[l]*f["scale"+h],f.set("scale"+h,r)),o},_scaleObject:function(t,e,i){var n=this._currentTransform,r=n.target,o=r.lockScalingX,s=r.lockScalingY,a=r.lockScalingFlip;if(o&&s)return!1;var l,h=r.translateToOriginPoint(r.getCenterPoint(),n.originX,n.originY),u=r.toLocalPoint(new A.Point(t,e),n.originX,n.originY),c=r._getTransformedDimensions();return this._setLocalMouse(u,n),l=this._setObjectScale(u,n,o,s,i,a,c),r.setPositionByOrigin(h,n.originX,n.originY),l},_setObjectScale:function(t,e,i,n,r,o,s){var a=e.target,l=!1,h=!1,u=!1,c=t.x*a.scaleX/s.x,d=t.y*a.scaleY/s.y,p=a.scaleX!==c,f=a.scaleY!==d;if(e.newScaleX=c,e.newScaleY=d,"x"===r&&a instanceof A.Textbox){var m=a.width*(t.x/s.x);return m>=a.getMinWidth()&&(u=m!==a.width,a.set("width",m),u)}return o&&c<=0&&c<a.scaleX&&(l=!0,t.x=0),o&&d<=0&&d<a.scaleY&&(h=!0,t.y=0),"equally"!==r||i||n?r?"x"!==r||a.get("lockUniScaling")?"y"!==r||a.get("lockUniScaling")||h||n||a.set("scaleY",d)&&(u=f):l||i||a.set("scaleX",c)&&(u=p):(l||i||a.set("scaleX",c)&&(u=u||p),h||n||a.set("scaleY",d)&&(u=u||f)):u=this._scaleObjectEqually(t,a,e,s),l||h||this._flipObject(e,r),u},_scaleObjectEqually:function(t,e,i,n){var r,o,s,a=t.y+t.x,l=n.y*i.original.scaleY/e.scaleY+n.x*i.original.scaleX/e.scaleX,h=t.x<0?-1:1,u=t.y<0?-1:1;return o=h*Math.abs(i.original.scaleX*a/l),s=u*Math.abs(i.original.scaleY*a/l),r=o!==e.scaleX||s!==e.scaleY,e.set("scaleX",o),e.set("scaleY",s),r},_flipObject:function(t,e){t.newScaleX<0&&"y"!==e&&("left"===t.originX?t.originX="right":"right"===t.originX&&(t.originX="left")),t.newScaleY<0&&"x"!==e&&("top"===t.originY?t.originY="bottom":"bottom"===t.originY&&(t.originY="top"))},_setLocalMouse:function(t,e){var i=e.target,n=this.getZoom(),o=i.padding/n;"right"===e.originX?t.x*=-1:"center"===e.originX&&(t.x*=2*e.mouseXSign,t.x<0&&(e.mouseXSign=-e.mouseXSign)),"bottom"===e.originY?t.y*=-1:"center"===e.originY&&(t.y*=2*e.mouseYSign,t.y<0&&(e.mouseYSign=-e.mouseYSign)),r(t.x)>o?t.x<0?t.x+=o:t.x-=o:t.x=0,r(t.y)>o?t.y<0?t.y+=o:t.y-=o:t.y=0},_rotateObject:function(t,e){var r=this._currentTransform,o=r.target,s=o.translateToOriginPoint(o.getCenterPoint(),r.originX,r.originY);if(o.lockRotation)return!1;var a=n(r.ey-s.y,r.ex-s.x),l=n(e-s.y,t-s.x),h=i(l-a+r.theta),u=!0;if(o.snapAngle>0){var c=o.snapAngle,d=o.snapThreshold||c,p=Math.ceil(h/c)*c,f=Math.floor(h/c)*c;Math.abs(h-f)<d?h=f:Math.abs(h-p)<d&&(h=p)}return h<0&&(h=360+h),h%=360,o.angle===h?u=!1:(o.angle=h,o.setPositionByOrigin(s,r.originX,r.originY)),u},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_drawSelection:function(t){var e=this._groupSelector,i=e.left,n=e.top,s=r(i),a=r(n);if(this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(e.ex-(i>0?0:-i),e.ey-(n>0?0:-n),s,a)),this.selectionLineWidth&&this.selectionBorderColor)if(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1&&!o){var l=e.ex+.5-(i>0?0:s),h=e.ey+.5-(n>0?0:a);t.beginPath(),A.util.drawDashedLine(t,l,h,l+s,h,this.selectionDashArray),A.util.drawDashedLine(t,l,h+a-1,l+s,h+a-1,this.selectionDashArray),A.util.drawDashedLine(t,l,h,l,h+a,this.selectionDashArray),A.util.drawDashedLine(t,l+s-1,h,l+s-1,h+a,this.selectionDashArray),t.closePath(),t.stroke()}else A.Object.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(e.ex+.5-(i>0?0:s),e.ey+.5-(n>0?0:a),s,a)},findTarget:function(t,e){if(!this.skipTargetFind){var i,n,r=this.getPointer(t,!0),o=this._activeObject,s=this.getActiveObjects();if(this.targets=[],s.length>1&&!e&&o===this._searchPossibleTargets([o],r))return o;if(1===s.length&&o._findTargetCorner(r))return o;if(1===s.length&&o===this._searchPossibleTargets([o],r)){if(!this.preserveObjectStacking)return o;i=o,n=this.targets,this.targets=[]}var a=this._searchPossibleTargets(this._objects,r);return t[this.altSelectionKey]&&a&&i&&a!==i&&(a=i,this.targets=n),a}},_checkTarget:function(t,e,i){if(e&&e.visible&&e.evented&&this.containsPoint(null,e,t)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;if(!this.isTargetTransparent(e,i.x,i.y))return!0}},_searchPossibleTargets:function(t,e){for(var i,n,r=t.length;r--;){var o=t[r],s=o.group&&"activeSelection"!==o.group.type?this._normalizePointer(o.group,e):e;if(this._checkTarget(s,o,e)){(i=t[r]).subTargetCheck&&i instanceof A.Group&&(n=this._searchPossibleTargets(i._objects,e))&&this.targets.push(n);break}}return i},restorePointerVpt:function(t){return A.util.transformPoint(t,A.util.invertTransform(this.viewportTransform))},getPointer:function(e,i){if(this._absolutePointer&&!i)return this._absolutePointer;if(this._pointer&&i)return this._pointer;var n,r=t(e),o=this.upperCanvasEl,s=o.getBoundingClientRect(),a=s.width||0,l=s.height||0;return a&&l||("top"in s&&"bottom"in s&&(l=Math.abs(s.top-s.bottom)),"right"in s&&"left"in s&&(a=Math.abs(s.right-s.left))),this.calcOffset(),r.x=r.x-this._offset.left,r.y=r.y-this._offset.top,i||(r=this.restorePointerVpt(r)),n=0===a||0===l?{width:1,height:1}:{width:o.width/a,height:o.height/l},{x:r.x*n.width,y:r.y*n.height}},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,"");this.upperCanvasEl?this.upperCanvasEl.className="":this.upperCanvasEl=this._createCanvasElement(),A.util.addClass(this.upperCanvasEl,"upper-canvas "+t),this.wrapperEl.appendChild(this.upperCanvasEl),this._copyCanvasStyle(this.lowerCanvasEl,this.upperCanvasEl),this._applyCanvasStyle(this.upperCanvasEl),this.contextTop=this.upperCanvasEl.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=A.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),A.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),A.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.width||t.width,i=this.height||t.height;A.util.setStyle(t,{position:"absolute",width:e+"px",height:i+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),t.width=e,t.height=i,A.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var t=this._activeObject;return t?"activeSelection"===t.type&&t._objects?t._objects.slice(0):[t]:[]},_onObjectRemoved:function(t){t===this._activeObject&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared",{target:t}),t.fire("deselected")),this._hoveredTarget===t&&(this._hoveredTarget=null),this.callSuper("_onObjectRemoved",t)},_fireSelectionEvents:function(t,e){var i=!1,n=this.getActiveObjects(),r=[],o=[],s={e:e};t.forEach(function(t){-1===n.indexOf(t)&&(i=!0,t.fire("deselected",s),o.push(t))}),n.forEach(function(e){-1===t.indexOf(e)&&(i=!0,e.fire("selected",s),r.push(e))}),t.length>0&&n.length>0?(s.selected=r,s.deselected=o,s.updated=r[0]||o[0],s.target=this._activeObject,i&&this.fire("selection:updated",s)):n.length>0?(1===n.length&&(s.target=r[0],this.fire("object:selected",s)),s.selected=r,s.target=this._activeObject,this.fire("selection:created",s)):t.length>0&&(s.deselected=o,this.fire("selection:cleared",s))},setActiveObject:function(t,e){var i=this.getActiveObjects();return this._setActiveObject(t,e),this._fireSelectionEvents(i,e),this},_setActiveObject:function(t,e){return this._activeObject!==t&&(!!this._discardActiveObject(e,t)&&(!t.onSelect({e:e})&&(this._activeObject=t,!0)))},_discardActiveObject:function(t,e){var i=this._activeObject;if(i){if(i.onDeselect({e:t,object:e}))return!1;this._activeObject=null}return!0},discardActiveObject:function(t){var e=this.getActiveObjects(),i=this.getActiveObject();return e.length&&this.fire("before:selection:cleared",{target:i,e:t}),this._discardActiveObject(t),this._fireSelectionEvents(e,t),this},dispose:function(){var t=this.wrapperEl;return this.removeListeners(),t.removeChild(this.upperCanvasEl),t.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(t){A.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this)),t.parentNode&&t.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,A.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(t){var e=this._activeObject;e&&e._renderControls(t)},_toObject:function(t,e,i){var n=this._realizeGroupTransformOnObject(t),r=this.callSuper("_toObject",t,e,i);return this._unwindGroupTransformOnObject(t,n),r},_realizeGroupTransformOnObject:function(t){if(t.group&&"activeSelection"===t.group.type&&this._activeObject===t.group){var e={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach(function(i){e[i]=t[i]}),this._activeObject.realizeTransform(t),e}return null},_unwindGroupTransformOnObject:function(t,e){e&&t.set(e)},_setSVGObject:function(t,e,i){var n=this._realizeGroupTransformOnObject(e);this.callSuper("_setSVGObject",t,e,i),this._unwindGroupTransformOnObject(e,n)},setViewportTransform:function(t){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),A.StaticCanvas.prototype.setViewportTransform.call(this,t)}}),A.StaticCanvas)"prototype"!==s&&(A.Canvas[s]=A.StaticCanvas[s])}(),function(){var t={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},e=A.util.addListener,i=A.util.removeListener,n={passive:!1};function r(t,e){return t.button&&t.button===e-1}A.util.object.extend(A.Canvas.prototype,{cursorMap:["n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize","nw-resize"],mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(e,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(t,e){var i=this.upperCanvasEl,r=this._getEventPrefix();t(A.window,"resize",this._onResize),t(i,r+"down",this._onMouseDown),t(i,r+"move",this._onMouseMove,n),t(i,r+"out",this._onMouseOut),t(i,r+"enter",this._onMouseEnter),t(i,"wheel",this._onMouseWheel),t(i,"contextmenu",this._onContextMenu),t(i,"dblclick",this._onDoubleClick),t(i,"dragover",this._onDragOver),t(i,"dragenter",this._onDragEnter),t(i,"dragleave",this._onDragLeave),t(i,"drop",this._onDrop),this.enablePointerEvents||t(i,"touchstart",this._onTouchStart,n),"undefined"!=typeof eventjs&&e in eventjs&&(eventjs[e](i,"gesture",this._onGesture),eventjs[e](i,"drag",this._onDrag),eventjs[e](i,"orientation",this._onOrientationChange),eventjs[e](i,"shake",this._onShake),eventjs[e](i,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var t=this._getEventPrefix();i(A.document,t+"up",this._onMouseUp),i(A.document,"touchend",this._onTouchEnd,n),i(A.document,t+"move",this._onMouseMove,n),i(A.document,"touchmove",this._onMouseMove,n)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t){this.__onMouseWheel(t)},_onMouseOut:function(t){var e=this._hoveredTarget;this.fire("mouse:out",{target:e,e:t}),this._hoveredTarget=null,e&&e.fire("mouseout",{e:t}),this._iTextInstances&&this._iTextInstances.forEach(function(t){t.isEditing&&t.hiddenTextarea.focus()})},_onMouseEnter:function(t){this.currentTransform||this.findTarget(t)||(this.fire("mouse:over",{target:null,e:t}),this._hoveredTarget=null)},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onDragOver:function(t){t.preventDefault();var e=this._simpleEventHandler("dragover",t);this._fireEnterLeaveEvents(e,t)},_onContextMenu:function(t){return this.stopContextMenu&&(t.stopPropagation(),t.preventDefault()),!1},_onDoubleClick:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData(t)},getPointerId:function(t){var e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1},_isMainEvent:function(t){return!0===t.isPrimary||!1!==t.isPrimary&&("touchend"===t.type&&0===t.touches.length||(!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId))},_onTouchStart:function(t){t.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(t)),this.__onMouseDown(t),this._resetTransformEventData();var r=this.upperCanvasEl,o=this._getEventPrefix();e(A.document,"touchend",this._onTouchEnd,n),e(A.document,"touchmove",this._onMouseMove,n),i(r,o+"down",this._onMouseDown)},_onMouseDown:function(t){this.__onMouseDown(t),this._resetTransformEventData();var r=this.upperCanvasEl,o=this._getEventPrefix();i(r,o+"move",this._onMouseMove,n),e(A.document,o+"up",this._onMouseUp),e(A.document,o+"move",this._onMouseMove,n)},_onTouchEnd:function(t){if(!(t.touches.length>0)){this.__onMouseUp(t),this._resetTransformEventData(),this.mainTouchId=null;var r=this._getEventPrefix();i(A.document,"touchend",this._onTouchEnd,n),i(A.document,"touchmove",this._onMouseMove,n);var o=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){e(o.upperCanvasEl,r+"down",o._onMouseDown),o._willAddMouseDown=0},400)}},_onMouseUp:function(t){this.__onMouseUp(t),this._resetTransformEventData();var r=this.upperCanvasEl,o=this._getEventPrefix();this._isMainEvent(t)&&(i(A.document,o+"up",this._onMouseUp),i(A.document,o+"move",this._onMouseMove,n),e(r,o+"move",this._onMouseMove,n))},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t){var e=this._activeObject;return!!(!!e!=!!t||e&&t&&e!==t)||(e&&e.isEditing,!1)},__onMouseUp:function(t){var e,i=this._currentTransform,n=this._groupSelector,o=!1,s=!n||0===n.left&&0===n.top;if(this._cacheTransformEventData(t),e=this._target,this._handleEvent(t,"up:before"),!r(t,3))return r(t,2)?(this.fireMiddleClick&&this._handleEvent(t,"up",2,s),void this._resetTransformEventData()):void(this.isDrawingMode&&this._isCurrentlyDrawing?this._onMouseUpInDrawingMode(t):this._isMainEvent(t)&&(i&&(this._finalizeCurrentTransform(t),o=i.actionPerformed),s||(this._maybeGroupObjects(t),o||(o=this._shouldRender(e))),e&&(e.isMoving=!1),this._setCursorFromEvent(t,e),this._handleEvent(t,"up",1,s),this._groupSelector=null,this._currentTransform=null,e&&(e.__corner=0),o?this.requestRenderAll():s||this.renderTop()));this.fireRightClick&&this._handleEvent(t,"up",3,s)},_simpleEventHandler:function(t,e){var i=this.findTarget(e),n=this.targets,r={e:e,target:i,subTargets:n};if(this.fire(t,r),i&&i.fire(t,r),!n)return i;for(var o=0;o<n.length;o++)n[o].fire(t,r);return i},_handleEvent:function(t,e,i,n){var r=this._target,o=this.targets||[],s={e:t,target:r,subTargets:o,button:i||1,isClick:n||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};this.fire("mouse:"+e,s),r&&r.fire("mouse"+e,s);for(var a=0;a<o.length;a++)o[a].fire("mouse"+e,s)},_finalizeCurrentTransform:function(t){var e,i=this._currentTransform,n=i.target,r={e:t,target:n,transform:i};n._scaling&&(n._scaling=!1),n.setCoords(),(i.actionPerformed||this.stateful&&n.hasStateChanged())&&(i.actionPerformed&&(e=this._addEventOptions(r,i),this._fire(e,r)),this._fire("modified",r))},_addEventOptions:function(t,e){var i,n;switch(e.action){case"scaleX":i="scaled",n="x";break;case"scaleY":i="scaled",n="y";break;case"skewX":i="skewed",n="x";break;case"skewY":i="skewed",n="y";break;case"scale":i="scaled",n="equally";break;case"rotate":i="rotated";break;case"drag":i="moved"}return t.by=n,i},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(t).requestRenderAll(),this.clipTo&&A.util.clipContext(this,this.contextTop);var e=this.getPointer(t);this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down")},_onMouseMoveInDrawingMode:function(t){if(this._isCurrentlyDrawing){var e=this.getPointer(t);this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")},_onMouseUpInDrawingMode:function(t){this.clipTo&&this.contextTop.restore();var e=this.getPointer(t);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:t,pointer:e}),this._handleEvent(t,"up")},__onMouseDown:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"down:before");var e=this._target;if(r(t,3))this.fireRightClick&&this._handleEvent(t,"down",3);else if(r(t,2))this.fireMiddleClick&&this._handleEvent(t,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(t);else if(this._isMainEvent(t)&&!this._currentTransform){var i=this._pointer;this._previousPointer=i;var n=this._shouldRender(e),o=this._shouldGroup(t,e);if(this._shouldClearSelection(t,e)?this.discardActiveObject(t):o&&(this._handleGrouping(t,e),e=this._activeObject),!this.selection||e&&(e.selectable||e.isEditing||e===this._activeObject)||(this._groupSelector={ex:i.x,ey:i.y,top:0,left:0}),e){var s=e===this._activeObject;e.selectable&&this.setActiveObject(e,t),e!==this._activeObject||!e.__corner&&o||this._setupCurrentTransform(t,e,s)}this._handleEvent(t,"down"),(n||o)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(t){this._resetTransformEventData(),this._pointer=this.getPointer(t,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)||null},_beforeTransform:function(t){var e=this._currentTransform;this.stateful&&e.target.saveState(),this.fire("before:transform",{e:t,transform:e}),e.corner&&this.onBeforeScaleRotate(e.target)},__onMouseMove:function(t){var e,i;if(this._handleEvent(t,"move:before"),this._cacheTransformEventData(t),this.isDrawingMode)this._onMouseMoveInDrawingMode(t);else if(this._isMainEvent(t)){var n=this._groupSelector;n?(i=this._pointer,n.left=i.x-n.ex,n.top=i.y-n.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t)||null,this._setCursorFromEvent(t,e),this._fireOverOutEvents(e,t)),this._handleEvent(t,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(t,e){this.fireSyntheticInOutEvents(t,e,{targetName:"_hoveredTarget",canvasEvtOut:"mouse:out",evtOut:"mouseout",canvasEvtIn:"mouse:over",evtIn:"mouseover"})},_fireEnterLeaveEvents:function(t,e){this.fireSyntheticInOutEvents(t,e,{targetName:"_draggedoverTarget",evtOut:"dragleave",evtIn:"dragenter"})},fireSyntheticInOutEvents:function(t,e,i){var n,r,o,s=this[i.targetName],a=s!==t,l=i.canvasEvtIn,h=i.canvasEvtOut;a&&(n={e:e,target:t,previousTarget:s},r={e:e,target:s,nextTarget:t},this[i.targetName]=t),o=t&&a,s&&a&&(h&&this.fire(h,r),s.fire(i.evtOut,r)),o&&(l&&this.fire(l,n),t.fire(i.evtIn,n))},__onMouseWheel:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()},_transformObject:function(t){var e=this.getPointer(t),i=this._currentTransform;i.reset=!1,i.target.isMoving=!0,i.shiftKey=t.shiftKey,i.altKey=t[this.centeredKey],this._beforeScaleTransform(t,i),this._performTransformAction(t,i,e),i.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(t,e,i){var n=i.x,r=i.y,o=e.action,s=!1,a={target:e.target,e:t,transform:e,pointer:i};"rotate"===o?(s=this._rotateObject(n,r))&&this._fire("rotating",a):"scale"===o?(s=this._onScale(t,e,n,r))&&this._fire("scaling",a):"scaleX"===o?(s=this._scaleObject(n,r,"x"))&&this._fire("scaling",a):"scaleY"===o?(s=this._scaleObject(n,r,"y"))&&this._fire("scaling",a):"skewX"===o?(s=this._skewObject(n,r,"x"))&&this._fire("skewing",a):"skewY"===o?(s=this._skewObject(n,r,"y"))&&this._fire("skewing",a):(s=this._translateObject(n,r))&&(this._fire("moving",a),this.setCursor(a.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||s},_fire:function(t,e){this.fire("object:"+t,e),e.target.fire(t,e)},_beforeScaleTransform:function(t,e){if("scale"===e.action||"scaleX"===e.action||"scaleY"===e.action){var i=this._shouldCenterTransform(e.target);(i&&("center"!==e.originX||"center"!==e.originY)||!i&&"center"===e.originX&&"center"===e.originY)&&(this._resetCurrentTransform(),e.reset=!0)}},_onScale:function(t,e,i,n){return this._isUniscalePossible(t,e.target)?(e.currentAction="scale",this._scaleObject(i,n)):(e.reset||"scale"!==e.currentAction||this._resetCurrentTransform(),e.currentAction="scaleEqually",this._scaleObject(i,n,"equally"))},_isUniscalePossible:function(t,e){return(t[this.uniScaleKey]||this.uniScaleTransform)&&!e.get("lockUniScaling")},_setCursorFromEvent:function(t,e){if(!e)return this.setCursor(this.defaultCursor),!1;var i=e.hoverCursor||this.hoverCursor,n=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,r=(!n||!n.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));r?this.setCursor(this.getCornerCursor(r,e,t)):this.setCursor(i)},getCornerCursor:function(e,i,n){return this.actionIsDisabled(e,i,n)?this.notAllowedCursor:e in t?this._getRotatedCornerCursor(e,i,n):"mtr"===e&&i.hasRotatingPoint?this.rotationCursor:this.defaultCursor},actionIsDisabled:function(t,e,i){return"mt"===t||"mb"===t?i[this.altActionKey]?e.lockSkewingX:e.lockScalingY:"ml"===t||"mr"===t?i[this.altActionKey]?e.lockSkewingY:e.lockScalingX:"mtr"===t?e.lockRotation:this._isUniscalePossible(i,e)?e.lockScalingX&&e.lockScalingY:e.lockScalingX||e.lockScalingY},_getRotatedCornerCursor:function(e,i,n){var r=Math.round(i.angle%360/45);return r<0&&(r+=8),r+=t[e],n[this.altActionKey]&&t[e]%2==0&&(r+=2),r%=8,this.cursorMap[r]}})}(),u=Math.min,c=Math.max,A.util.object.extend(A.Canvas.prototype,{_shouldGroup:function(t,e){var i=this._activeObject;return i&&this._isSelectionKeyPressed(t)&&e&&e.selectable&&this.selection&&(i!==e||"activeSelection"===i.type)&&!e.onSelect({e:t})},_handleGrouping:function(t,e){var i=this._activeObject;i.__corner||(e!==i||(e=this.findTarget(t,!0))&&e.selectable)&&(i&&"activeSelection"===i.type?this._updateActiveSelection(e,t):this._createActiveSelection(e,t))},_updateActiveSelection:function(t,e){var i=this._activeObject,n=i._objects.slice(0);i.contains(t)?(i.removeWithUpdate(t),this._hoveredTarget=t,1===i.size()&&this._setActiveObject(i.item(0),e)):(i.addWithUpdate(t),this._hoveredTarget=i),this._fireSelectionEvents(n,e)},_createActiveSelection:function(t,e){var i=this.getActiveObjects(),n=this._createGroup(t);this._hoveredTarget=n,this._setActiveObject(n,e),this._fireSelectionEvents(i,e)},_createGroup:function(t){var e=this._objects,i=e.indexOf(this._activeObject)<e.indexOf(t)?[this._activeObject,t]:[t,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new A.ActiveSelection(i,{canvas:this})},_groupSelectedObjects:function(t){var e,i=this._collectObjects(t);1===i.length?this.setActiveObject(i[0],t):i.length>1&&(e=new A.ActiveSelection(i.reverse(),{canvas:this}),this.setActiveObject(e,t))},_collectObjects:function(t){for(var e,i=[],n=this._groupSelector.ex,r=this._groupSelector.ey,o=n+this._groupSelector.left,s=r+this._groupSelector.top,a=new A.Point(u(n,o),u(r,s)),l=new A.Point(c(n,o),c(r,s)),h=!this.selectionFullyContained,d=n===o&&r===s,p=this._objects.length;p--&&!((e=this._objects[p])&&e.selectable&&e.visible&&(h&&e.intersectsWithRect(a,l)||e.isContainedWithinRect(a,l)||h&&e.containsPoint(a)||h&&e.containsPoint(l))&&(i.push(e),d)););return i.length>1&&(i=i.filter(function(e){return!e.onSelect({e:t})})),i},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t),this.setCursor(this.defaultCursor),this._groupSelector=null}}),A.util.object.extend(A.StaticCanvas.prototype,{toDataURL:function(t){t||(t={});var e=t.format||"png",i=t.quality||1,n=(t.multiplier||1)*(t.enableRetinaScaling?this.getRetinaScaling():1),r=this.toCanvasElement(n,t);return A.util.toDataURL(r,e,i)},toCanvasElement:function(t,e){t=t||1;var i=((e=e||{}).width||this.width)*t,n=(e.height||this.height)*t,r=this.getZoom(),o=this.width,s=this.height,a=r*t,l=this.viewportTransform,h=(l[4]-(e.left||0))*t,u=(l[5]-(e.top||0))*t,c=this.interactive,d=[a,0,0,a,h,u],p=this.enableRetinaScaling,f=A.util.createCanvasElement(),m=this.contextTop;return f.width=i,f.height=n,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=d,this.width=i,this.height=n,this.calcViewportBoundaries(),this.renderCanvas(f.getContext("2d"),this._objects),this.viewportTransform=l,this.width=o,this.height=s,this.calcViewportBoundaries(),this.interactive=c,this.enableRetinaScaling=p,this.contextTop=m,f}}),A.util.object.extend(A.StaticCanvas.prototype,{loadFromDatalessJSON:function(t,e,i){return this.loadFromJSON(t,e,i)},loadFromJSON:function(t,e,i){if(t){var n="string"==typeof t?JSON.parse(t):A.util.object.clone(t),r=this,o=n.clipPath,s=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete n.clipPath,this._enlivenObjects(n.objects,function(t){r.clear(),r._setBgOverlay(n,function(){o?r._enlivenObjects([o],function(i){r.clipPath=i[0],r.__setupCanvas.call(r,n,t,s,e)}):r.__setupCanvas.call(r,n,t,s,e)})},i),this}},__setupCanvas:function(t,e,i,n){var r=this;e.forEach(function(t,e){r.insertAt(t,e)}),this.renderOnAddRemove=i,delete t.objects,delete t.backgroundImage,delete t.overlayImage,delete t.background,delete t.overlay,this._setOptions(t),this.renderAll(),n&&n()},_setBgOverlay:function(t,e){var i={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(t.backgroundImage||t.overlayImage||t.background||t.overlay){var n=function(){i.backgroundImage&&i.overlayImage&&i.backgroundColor&&i.overlayColor&&e&&e()};this.__setBgOverlay("backgroundImage",t.backgroundImage,i,n),this.__setBgOverlay("overlayImage",t.overlayImage,i,n),this.__setBgOverlay("backgroundColor",t.background,i,n),this.__setBgOverlay("overlayColor",t.overlay,i,n)}else e&&e()},__setBgOverlay:function(t,e,i,n){var r=this;if(!e)return i[t]=!0,void(n&&n());"backgroundImage"===t||"overlayImage"===t?A.util.enlivenObjects([e],function(e){r[t]=e[0],i[t]=!0,n&&n()}):this["set"+A.util.string.capitalize(t,!0)](e,function(){i[t]=!0,n&&n()})},_enlivenObjects:function(t,e,i){t&&0!==t.length?A.util.enlivenObjects(t,function(t){e&&e(t)},null,i):e&&e([])},_toDataURL:function(t,e){this.clone(function(i){e(i.toDataURL(t))})},_toDataURLWithMultiplier:function(t,e,i){this.clone(function(n){i(n.toDataURLWithMultiplier(t,e))})},clone:function(t,e){var i=JSON.stringify(this.toJSON(e));this.cloneWithoutData(function(e){e.loadFromJSON(i,function(){t&&t(e)})})},cloneWithoutData:function(t){var e=A.util.createCanvasElement();e.width=this.width,e.height=this.height;var i=new A.Canvas(e);i.clipTo=this.clipTo,this.backgroundImage?(i.setBackgroundImage(this.backgroundImage.src,function(){i.renderAll(),t&&t(i)}),i.backgroundImageOpacity=this.backgroundImageOpacity,i.backgroundImageStretch=this.backgroundImageStretch):t&&t(i)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.object.clone,r=e.util.toFixed,o=e.util.string.capitalize,s=e.util.degreesToRadians,a=e.StaticCanvas.supports("setLineDash"),l=!e.isLikelyNode;e.Object||(e.Object=e.util.createClass(e.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",borderDashArray:null,cornerColor:"rgba(102,153,255,0.5)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:l,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(t){t&&this.setOptions(t)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=e.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(t){var i=e.perfLimitSizeTotal,n=t.width,r=t.height,o=e.maxCacheSideLimit,s=e.minCacheSideLimit;if(n<=o&&r<=o&&n*r<=i)return n<s&&(t.width=s),r<s&&(t.height=s),t;var a=n/r,l=e.util.limitDimsByArea(a,i),h=e.util.capValue,u=h(s,l.x,o),c=h(s,l.y,o);return n>u&&(t.zoomX/=n/u,t.width=u,t.capped=!0),r>c&&(t.zoomY/=r/c,t.height=c,t.capped=!0),t},_getCacheCanvasDimensions:function(){var t=this.getTotalObjectScaling(),e=this._getTransformedDimensions(0,0),i=e.x*t.scaleX/this.scaleX,n=e.y*t.scaleY/this.scaleY;return{width:i+2,height:n+2,zoomX:t.scaleX,zoomY:t.scaleY,x:i,y:n}},_updateCacheCanvas:function(){var t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){var i=t._currentTransform.target,n=t._currentTransform.action;if(this===i&&n.slice&&"scale"===n.slice(0,5))return!1}var r,o,s=this._cacheCanvas,a=this._limitCacheSize(this._getCacheCanvasDimensions()),l=e.minCacheSideLimit,h=a.width,u=a.height,c=a.zoomX,d=a.zoomY,p=h!==this.cacheWidth||u!==this.cacheHeight,f=this.zoomX!==c||this.zoomY!==d,m=p||f,g=0,v=0,A=!1;if(p){var y=this._cacheCanvas.width,x=this._cacheCanvas.height,b=h>y||u>x;A=b||(h<.9*y||u<.9*x)&&y>l&&x>l,b&&!a.capped&&(h>l||u>l)&&(g=.1*h,v=.1*u)}return!!m&&(A?(s.width=Math.ceil(h+g),s.height=Math.ceil(u+v)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,s.width,s.height)),r=a.x/2,o=a.y/2,this.cacheTranslationX=Math.round(s.width/2-r)+r,this.cacheTranslationY=Math.round(s.height/2-o)+o,this.cacheWidth=h,this.cacheHeight=u,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(c,d),this.zoomX=c,this.zoomY=d,!0)},setOptions:function(t){this._setOptions(t),this._initGradient(t.fill,"fill"),this._initGradient(t.stroke,"stroke"),this._initClipping(t),this._initPattern(t.fill,"fill"),this._initPattern(t.stroke,"stroke")},transform:function(t){var e;e=this.group&&!this.group._transformDone?this.calcTransformMatrix():this.calcOwnMatrix(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},toObject:function(t){var i=e.Object.NUM_FRACTION_DIGITS,n={type:this.type,version:e.version,originX:this.originX,originY:this.originY,left:r(this.left,i),top:r(this.top,i),width:r(this.width,i),height:r(this.height,i),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:r(this.strokeWidth,i),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:r(this.strokeMiterLimit,i),scaleX:r(this.scaleX,i),scaleY:r(this.scaleY,i),angle:r(this.angle,i),flipX:this.flipX,flipY:this.flipY,opacity:r(this.opacity,i),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,transformMatrix:this.transformMatrix?this.transformMatrix.concat():null,skewX:r(this.skewX,i),skewY:r(this.skewY,i)};return this.clipPath&&(n.clipPath=this.clipPath.toObject(t),n.clipPath.inverted=this.clipPath.inverted,n.clipPath.absolutePositioned=this.clipPath.absolutePositioned),e.util.populateWithProperties(this,n,t),this.includeDefaultValues||(n=this._removeDefaultValues(n)),n},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(t){var i=e.util.getKlass(t.type).prototype;return i.stateProperties.forEach(function(e){"left"!==e&&"top"!==e&&(t[e]===i[e]&&delete t[e],"[object Array]"===Object.prototype.toString.call(t[e])&&"[object Array]"===Object.prototype.toString.call(i[e])&&0===t[e].length&&0===i[e].length&&delete t[e])}),t},toString:function(){return"#<fabric."+o(this.type)+">"},getObjectScaling:function(){var t=this.scaleX,e=this.scaleY;if(this.group){var i=this.group.getObjectScaling();t*=i.scaleX,e*=i.scaleY}return{scaleX:t,scaleY:e}},getTotalObjectScaling:function(){var t=this.getObjectScaling(),e=t.scaleX,i=t.scaleY;if(this.canvas){var n=this.canvas.getZoom(),r=this.canvas.getRetinaScaling();e*=n*r,i*=n*r}return{scaleX:e,scaleY:i}},getObjectOpacity:function(){var t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t},_set:function(t,i){var n="scaleX"===t||"scaleY"===t,r=this[t]!==i,o=!1;return n&&(i=this._constrainScale(i)),"scaleX"===t&&i<0?(this.flipX=!this.flipX,i*=-1):"scaleY"===t&&i<0?(this.flipY=!this.flipY,i*=-1):"shadow"!==t||!i||i instanceof e.Shadow?"dirty"===t&&this.group&&this.group.set("dirty",i):i=new e.Shadow(i),this[t]=i,r&&(o=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(t)>-1?(this.dirty=!0,o&&this.group.set("dirty",!0)):o&&this.stateProperties.indexOf(t)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:e.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||0===this.width&&0===this.height&&0===this.strokeWidth||!this.visible},render:function(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t,this),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this.clipTo&&e.util.clipContext(this,t),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(t),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),this.clipTo&&t.restore(),t.restore())},renderCache:function(t){t=t||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,t.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!=typeof this.shadow)||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(t){var i=this.clipPath;if(t.save(),i.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",i.absolutePositioned){var n=e.util.invertTransform(this.calcTransformMatrix());t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}i.transform(t),t.scale(1/i.zoomX,1/i.zoomY),t.drawImage(i._cacheCanvas,-i.cacheTranslationX,-i.cacheTranslationY),t.restore()},drawObject:function(t,e){var i=this.fill,n=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):(this._renderBackground(t),this._setStrokeStyles(t,this),this._setFillStyles(t,this)),this._render(t),this._drawClipPath(t),this.fill=i,this.stroke=n},_drawClipPath:function(t){var e=this.clipPath;e&&(e.canvas=this.canvas,e.shouldCache(),e._transformDone=!0,e.renderCache({forClipping:!0}),this.drawClipPathOnCache(t))},drawCacheOnCanvas:function(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(t){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!t&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!t){var e=this.cacheWidth/this.zoomX,i=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-e/2,-i/2,e,i)}return!0}return!1},_renderBackground:function(t){if(this.backgroundColor){var e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}},_setOpacity:function(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity},_setStrokeStyles:function(t,e){e.stroke&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,t.strokeStyle=e.stroke.toLive?e.stroke.toLive(t,this):e.stroke)},_setFillStyles:function(t,e){e.fill&&(t.fillStyle=e.fill.toLive?e.fill.toLive(t,this):e.fill)},_setClippingProperties:function(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"},_setLineDash:function(t,e,i){e&&(1&e.length&&e.push.apply(e,e),a?t.setLineDash(e):i&&i(t))},_renderControls:function(t,i){var n,r,o,a=this.getViewportTransform(),l=this.calcTransformMatrix();r=void 0!==(i=i||{}).hasBorders?i.hasBorders:this.hasBorders,o=void 0!==i.hasControls?i.hasControls:this.hasControls,l=e.util.multiplyTransformMatrices(a,l),n=e.util.qrDecompose(l),t.save(),t.translate(n.translateX,n.translateY),t.lineWidth=1*this.borderScaleFactor,this.group||(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),i.forActiveSelection?(t.rotate(s(n.angle)),r&&this.drawBordersInGroup(t,n,i)):(t.rotate(s(this.angle)),r&&this.drawBorders(t,i)),o&&this.drawControls(t,i),t.restore()},_setShadow:function(t){if(this.shadow){var i,n=this.shadow,r=this.canvas,o=r&&r.viewportTransform[0]||1,s=r&&r.viewportTransform[3]||1;i=n.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),r&&r._isRetinaScaling()&&(o*=e.devicePixelRatio,s*=e.devicePixelRatio),t.shadowColor=n.color,t.shadowBlur=n.blur*e.browserShadowBlurConstant*(o+s)*(i.scaleX+i.scaleY)/4,t.shadowOffsetX=n.offsetX*o*i.scaleX,t.shadowOffsetY=n.offsetY*s*i.scaleY}},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_applyPatternGradientTransform:function(t,e){if(!e||!e.toLive)return{offsetX:0,offsetY:0};var i=e.gradientTransform||e.patternTransform,n=-this.width/2+e.offsetX||0,r=-this.height/2+e.offsetY||0;return"percentage"===e.gradientUnits?t.transform(this.width,0,0,this.height,n,r):t.transform(1,0,0,1,n,r),i&&t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),{offsetX:n,offsetY:r}},_renderPaintInOrder:function(t){"stroke"===this.paintFirst?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))},_render:function(){},_renderFill:function(t){this.fill&&(t.save(),this._applyPatternGradientTransform(t,this.fill),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore())},_renderStroke:function(t){this.stroke&&0!==this.strokeWidth&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform&&t.scale(1/this.scaleX,1/this.scaleY),this._setLineDash(t,this.strokeDashArray,this._renderDashedStroke),this.stroke.toLive&&"percentage"===this.stroke.gradientUnits?this._applyPatternForTransformedGradient(t,this.stroke):this._applyPatternGradientTransform(t,this.stroke),t.stroke(),t.restore())},_applyPatternForTransformedGradient:function(t,i){var n,r=this._limitCacheSize(this._getCacheCanvasDimensions()),o=e.util.createCanvasElement(),s=this.canvas.getRetinaScaling(),a=r.x/this.scaleX/s,l=r.y/this.scaleY/s;o.width=a,o.height=l,(n=o.getContext("2d")).beginPath(),n.moveTo(0,0),n.lineTo(a,0),n.lineTo(a,l),n.lineTo(0,l),n.closePath(),n.translate(a/2,l/2),n.scale(r.zoomX/this.scaleX/s,r.zoomY/this.scaleY/s),this._applyPatternGradientTransform(n,i),n.fillStyle=i.toLive(t),n.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(s*this.scaleX/r.zoomX,s*this.scaleY/r.zoomY),t.strokeStyle=n.createPattern(o,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var t=e.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",t.scaleX),this.set("scaleY",t.scaleY),this.angle=t.angle,this.skewX=t.skewX,this.skewY=0}},_removeTransformMatrix:function(t){var i=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),i=e.util.transformPoint(i,this.transformMatrix)),this.transformMatrix=null,t&&(this.scaleX*=t.scaleX,this.scaleY*=t.scaleY,this.cropX=t.cropX,this.cropY=t.cropY,i.x+=t.offsetLeft,i.y+=t.offsetTop,this.width=t.width,this.height=t.height),this.setPositionByOrigin(i,"center","center")},clone:function(t,i){var n=this.toObject(i);this.constructor.fromObject?this.constructor.fromObject(n,t):e.Object._fromObject("Object",n,t)},cloneAsImage:function(t,i){var n=this.toCanvasElement(i);return t&&t(new e.Image(n)),this},toCanvasElement:function(t){t||(t={});var i=e.util,n=i.saveObjectTransform(this),r=this.group,o=this.shadow,s=Math.abs,a=(t.multiplier||1)*(t.enableRetinaScaling?e.devicePixelRatio:1);delete this.group,t.withoutTransform&&i.resetObjectTransform(this),t.withoutShadow&&(this.shadow=null);var l,h,u=e.util.createCanvasElement(),c=this.getBoundingRect(!0,!0),d=this.shadow,p={x:0,y:0};d&&(h=d.blur,l=d.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),p.x=2*Math.round(s(d.offsetX)+h)*s(l.scaleX),p.y=2*Math.round(s(d.offsetY)+h)*s(l.scaleY)),u.width=c.width+p.x,u.height=c.height+p.y,u.width+=u.width%2?2-u.width%2:0,u.height+=u.height%2?2-u.height%2:0;var f=new e.StaticCanvas(u,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===t.format&&(f.backgroundColor="#fff"),this.setPositionByOrigin(new e.Point(f.width/2,f.height/2),"center","center");var m=this.canvas;f.add(this);var g=f.toCanvasElement(a||1,t);return this.shadow=o,this.canvas=m,r&&(this.group=r),this.set(n).setCoords(),f._objects=[],f.dispose(),f=null,g},toDataURL:function(t){return t||(t={}),e.util.toDataURL(this.toCanvasElement(t),t.format||"png",t.quality||1)},isType:function(t){return this.type===t},complexity:function(){return 1},toJSON:function(t){return this.toObject(t)},setGradient:function(t,i){i||(i={});var n={colorStops:[]};return n.type=i.type||(i.r1||i.r2?"radial":"linear"),n.coords={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.gradientUnits=i.gradientUnits||"pixels",(i.r1||i.r2)&&(n.coords.r1=i.r1,n.coords.r2=i.r2),n.gradientTransform=i.gradientTransform,e.Gradient.prototype.addColorStop.call(n,i.colorStops),this.set(t,e.Gradient.forObject(this,n))},setPatternFill:function(t,i){return this.set("fill",new e.Pattern(t,i))},setShadow:function(t){return this.set("shadow",t?new e.Shadow(t):null)},setColor:function(t){return this.set("fill",t),this},rotate:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(t,i){i=i||this.canvas.getPointer(t);var n=new e.Point(i.x,i.y),r=this._getLeftTopCoords();return this.angle&&(n=e.util.rotatePoint(n,r,s(-this.angle))),{x:n.x-r.x,y:n.y-r.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}}),e.util.createAccessors&&e.util.createAccessors(e.Object),i(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object._fromObject=function(t,i,r,o){var s=e[t];i=n(i,!0),e.util.enlivenPatterns([i.fill,i.stroke],function(t){void 0!==t[0]&&(i.fill=t[0]),void 0!==t[1]&&(i.stroke=t[1]),e.util.enlivenObjects([i.clipPath],function(t){i.clipPath=t[0];var e=o?new s(i[o],i):new s(i);r&&r(e)})})},e.Object.__uid=0)}(e),d=A.util.degreesToRadians,p={left:-.5,center:0,right:.5},f={top:-.5,center:0,bottom:.5},A.util.object.extend(A.Object.prototype,{translateToGivenOrigin:function(t,e,i,n,r){var o,s,a,l=t.x,h=t.y;return"string"==typeof e?e=p[e]:e-=.5,"string"==typeof n?n=p[n]:n-=.5,o=n-e,"string"==typeof i?i=f[i]:i-=.5,"string"==typeof r?r=f[r]:r-=.5,s=r-i,(o||s)&&(a=this._getTransformedDimensions(),l=t.x+o*a.x,h=t.y+s*a.y),new A.Point(l,h)},translateToCenterPoint:function(t,e,i){var n=this.translateToGivenOrigin(t,e,i,"center","center");return this.angle?A.util.rotatePoint(n,t,d(this.angle)):n},translateToOriginPoint:function(t,e,i){var n=this.translateToGivenOrigin(t,"center","center",e,i);return this.angle?A.util.rotatePoint(n,t,d(this.angle)):n},getCenterPoint:function(){var t=new A.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var i=this.getCenterPoint();return this.translateToOriginPoint(i,t,e)},toLocalPoint:function(t,e,i){var n,r,o=this.getCenterPoint();return n=void 0!==e&&void 0!==i?this.translateToGivenOrigin(o,"center","center",e,i):new A.Point(this.left,this.top),r=new A.Point(t.x,t.y),this.angle&&(r=A.util.rotatePoint(r,o,-d(this.angle))),r.subtractEquals(n)},setPositionByOrigin:function(t,e,i){var n=this.translateToCenterPoint(t,e,i),r=this.translateToOriginPoint(n,this.originX,this.originY);this.set("left",r.x),this.set("top",r.y)},adjustPosition:function(t){var e,i,n=d(this.angle),r=this.getScaledWidth(),o=A.util.cos(n)*r,s=A.util.sin(n)*r;e="string"==typeof this.originX?p[this.originX]:this.originX-.5,i="string"==typeof t?p[t]:t-.5,this.left+=o*(i-e),this.top+=s*(i-e),this.setCoords(),this.originX=t},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}}),function(){var t=A.util.degreesToRadians,e=A.util.multiplyTransformMatrices,i=A.util.transformPoint;A.util.object.extend(A.Object.prototype,{oCoords:null,aCoords:null,ownMatrixCache:null,matrixCache:null,getCoords:function(t,e){this.oCoords||this.setCoords();var i=t?this.aCoords:this.oCoords;return function(t){return[new A.Point(t.tl.x,t.tl.y),new A.Point(t.tr.x,t.tr.y),new A.Point(t.br.x,t.br.y),new A.Point(t.bl.x,t.bl.y)]}(e?this.calcCoords(t):i)},intersectsWithRect:function(t,e,i,n){var r=this.getCoords(i,n);return"Intersection"===A.Intersection.intersectPolygonRectangle(r,t,e).status},intersectsWithObject:function(t,e,i){return"Intersection"===A.Intersection.intersectPolygonPolygon(this.getCoords(e,i),t.getCoords(e,i)).status||t.isContainedWithinObject(this,e,i)||this.isContainedWithinObject(t,e,i)},isContainedWithinObject:function(t,e,i){for(var n=this.getCoords(e,i),r=0,o=t._getImageLines(i?t.calcCoords(e):e?t.aCoords:t.oCoords);r<4;r++)if(!t.containsPoint(n[r],o))return!1;return!0},isContainedWithinRect:function(t,e,i,n){var r=this.getBoundingRect(i,n);return r.left>=t.x&&r.left+r.width<=e.x&&r.top>=t.y&&r.top+r.height<=e.y},containsPoint:function(t,e,i,n){e=e||this._getImageLines(n?this.calcCoords(i):i?this.aCoords:this.oCoords);var r=this._findCrossPoints(t,e);return 0!==r&&r%2==1},isOnScreen:function(t){if(!this.canvas)return!1;for(var e,i=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br,r=this.getCoords(!0,t),o=0;o<4;o++)if((e=r[o]).x<=n.x&&e.x>=i.x&&e.y<=n.y&&e.y>=i.y)return!0;return!!this.intersectsWithRect(i,n,!0,t)||this._containsCenterOfCanvas(i,n,t)},_containsCenterOfCanvas:function(t,e,i){var n={x:(t.x+e.x)/2,y:(t.y+e.y)/2};return!!this.containsPoint(n,null,!0,i)},isPartiallyOnScreen:function(t){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,i=this.canvas.vptCoords.br;return!!this.intersectsWithRect(e,i,!0,t)||this._containsCenterOfCanvas(e,i,t)},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_findCrossPoints:function(t,e){var i,n,r,o,s=0;for(var a in e)if(!((o=e[a]).o.y<t.y&&o.d.y<t.y||o.o.y>=t.y&&o.d.y>=t.y||(o.o.x===o.d.x&&o.o.x>=t.x?r=o.o.x:(i=0,n=(o.d.y-o.o.y)/(o.d.x-o.o.x),r=-(t.y-i*t.x-(o.o.y-n*o.o.x))/(i-n)),r>=t.x&&(s+=1),2!==s)))break;return s},getBoundingRect:function(t,e){var i=this.getCoords(t,e);return A.util.makeBoundingBoxFromPoints(i)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:0===t?1e-4:t},scale:function(t){return this._set("scaleX",t),this._set("scaleY",t),this.setCoords()},scaleToWidth:function(t,e){var i=this.getBoundingRect(e).width/this.getScaledWidth();return this.scale(t/this.width/i)},scaleToHeight:function(t,e){var i=this.getBoundingRect(e).height/this.getScaledHeight();return this.scale(t/this.height/i)},calcCoords:function(n){var r=this._calcRotateMatrix(),o=this._calcTranslateMatrix(),s=e(o,r),a=this.getViewportTransform(),l=n?s:e(a,s),h=this._getTransformedDimensions(),u=h.x/2,c=h.y/2,d=i({x:-u,y:-c},l),p=i({x:u,y:-c},l),f=i({x:-u,y:c},l),m=i({x:u,y:c},l);if(!n){var g=this.padding,v=t(this.angle),y=A.util.cos(v),x=A.util.sin(v),b=y*g,C=x*g,w=b+C,E=b-C;g&&(d.x-=E,d.y-=w,p.x+=w,p.y-=E,f.x-=w,f.y+=E,m.x+=E,m.y+=w);var S=new A.Point((d.x+f.x)/2,(d.y+f.y)/2),T=new A.Point((p.x+d.x)/2,(p.y+d.y)/2),_=new A.Point((m.x+p.x)/2,(m.y+p.y)/2),M=new A.Point((m.x+f.x)/2,(m.y+f.y)/2),k=new A.Point(T.x+x*this.rotatingPointOffset,T.y-y*this.rotatingPointOffset)}var B={tl:d,tr:p,br:m,bl:f};return n||(B.ml=S,B.mt=T,B.mr=_,B.mb=M,B.mtr=k),B},setCoords:function(t,e){return this.oCoords=this.calcCoords(t),e||(this.aCoords=this.calcCoords(!0)),t||this._setCornerCoords&&this._setCornerCoords(),this},_calcRotateMatrix:function(){return A.util.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var t=this.getCenterPoint();return[1,0,0,1,t.x,t.y]},transformMatrixKey:function(t){var e="";return!t&&this.group&&(e=this.group.transformMatrixKey(t)+"_"),e+this.top+"_"+this.left+"_"+this.scaleX+"_"+this.scaleY+"_"+this.skewX+"_"+this.skewY+"_"+this.angle+"_"+this.originX+"_"+this.originY+"_"+this.width+"_"+this.height+"_"+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(t){if(t)return this.calcOwnMatrix();var i=this.transformMatrixKey(),n=this.matrixCache||(this.matrixCache={});if(n.key===i)return n.value;var r=this.calcOwnMatrix();return this.group&&(r=e(this.group.calcTransformMatrix(),r)),n.key=i,n.value=r,r},calcOwnMatrix:function(){var t=this.transformMatrixKey(!0),e=this.ownMatrixCache||(this.ownMatrixCache={});if(e.key===t)return e.value;var i=this._calcTranslateMatrix();return this.translateX=i[4],this.translateY=i[5],e.key=t,e.value=A.util.composeMatrix(this),e.value},_calcDimensionsTransformMatrix:function(t,e,i){return A.util.calcDimensionsMatrix({skewX:t,skewY:e,scaleX:this.scaleX*(i&&this.flipX?-1:1),scaleY:this.scaleY*(i&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var t=this.strokeWidth;return{x:this.width+t,y:this.height+t}},_getTransformedDimensions:function(t,e){void 0===t&&(t=this.skewX),void 0===e&&(e=this.skewY);var i,n,r=this._getNonTransformedDimensions(),o=0===t&&0===e;if(this.strokeUniform?(i=this.width,n=this.height):(i=r.x,n=r.y),o)return this._finalizeDimensions(i*this.scaleX,n*this.scaleY);var s=[{x:-(i/=2),y:-(n/=2)},{x:i,y:-n},{x:-i,y:n},{x:i,y:n}],a=A.util.calcDimensionsMatrix({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY}),l=A.util.makeBoundingBoxFromPoints(s,a);return this._finalizeDimensions(l.width,l.height)},_finalizeDimensions:function(t,e){return this.strokeUniform?{x:t+this.strokeWidth,y:e+this.strokeWidth}:{x:t,y:e}},_calculateCurrentDimensions:function(){var t=this.getViewportTransform(),e=this._getTransformedDimensions();return A.util.transformPoint(e,t,!0).scalarAdd(2*this.padding)}})}(),A.util.object.extend(A.Object.prototype,{sendToBack:function(){return this.group?A.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?A.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?A.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?A.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group&&"activeSelection"!==this.group.type?A.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas.moveTo(this,t),this}}),function(){function t(t,e){if(e){if(e.toLive)return t+": url(#SVGID_"+e.id+"); ";var i=new A.Color(e),n=t+": "+i.toRgb()+"; ",r=i.getAlpha();return 1!==r&&(n+=t+"-opacity: "+r.toString()+"; "),n}return t+": none; "}var e=A.util.toFixed;A.util.object.extend(A.Object.prototype,{getSvgStyles:function(e){var i=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):"none",o=this.strokeDashOffset?this.strokeDashOffset:"0",s=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",h=void 0!==this.opacity?this.opacity:"1",u=this.visible?"":" visibility: hidden;",c=e?"":this.getSvgFilter(),d=t("fill",this.fill);return[t("stroke",this.stroke),"stroke-width: ",n,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",s,"; ","stroke-dashoffset: ",o,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",l,"; ",d,"fill-rule: ",i,"; ","opacity: ",h,";",c,u].join("")},getSvgSpanStyles:function(e,i){var n=e.fontFamily?"font-family: "+(-1===e.fontFamily.indexOf("'")&&-1===e.fontFamily.indexOf('"')?"'"+e.fontFamily+"'":e.fontFamily)+"; ":"",r=e.strokeWidth?"stroke-width: "+e.strokeWidth+"; ":"",o=(n=n,e.fontSize?"font-size: "+e.fontSize+"px; ":""),s=e.fontStyle?"font-style: "+e.fontStyle+"; ":"",a=e.fontWeight?"font-weight: "+e.fontWeight+"; ":"",l=e.fill?t("fill",e.fill):"",h=e.stroke?t("stroke",e.stroke):"",u=this.getSvgTextDecoration(e),c=e.deltaY?"baseline-shift: "+-e.deltaY+"; ":"";return u&&(u="text-decoration: "+u+"; "),[h,r,n,o,s,a,u,l,c,i?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(t){return"overline"in t||"underline"in t||"linethrough"in t?(t.overline?"overline ":"")+(t.underline?"underline ":"")+(t.linethrough?"line-through ":""):""},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(t,e){var i=t?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+A.util.matrixToSVG(i)+(e||"")+this.getSvgTransformMatrix()+'" '},getSvgTransformMatrix:function(){return this.transformMatrix?" "+A.util.matrixToSVG(this.transformMatrix):""},_setSVGBg:function(t){if(this.backgroundColor){var i=A.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',e(-this.width/2,i),'" y="',e(-this.height/2,i),'" width="',e(this.width,i),'" height="',e(this.height,i),'"></rect>\n')}},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})},toClipPathSVG:function(t){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})},_createBaseClipPathSVGMarkup:function(t,e){var i=(e=e||{}).reviver,n=e.additionalTransform||"",r=[this.getSvgTransform(!0,n),this.getSvgCommons()].join("");return t[t.indexOf("COMMON_PARTS")]=r,i?i(t.join("")):t.join("")},_createBaseSVGMarkup:function(t,e){var i,n,r=(e=e||{}).noStyle,o=e.reviver,s=r?"":'style="'+this.getSvgStyles()+'" ',a=e.withShadow?'style="'+this.getSvgFilter()+'" ':"",l=this.clipPath,h=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",u=l&&l.absolutePositioned,c=this.stroke,d=this.fill,p=this.shadow,f=[],m=t.indexOf("COMMON_PARTS"),g=e.additionalTransform;return l&&(l.clipPathId="CLIPPATH_"+A.Object.__uid++,n='<clipPath id="'+l.clipPathId+'" >\n'+l.toClipPathSVG(o)+"</clipPath>\n"),u&&f.push("<g ",a,this.getSvgCommons()," >\n"),f.push("<g ",this.getSvgTransform(!1),u?"":a+this.getSvgCommons()," >\n"),i=[s,h,r?"":this.addPaintOrder()," ",g?'transform="'+g+'" ':""].join(""),t[m]=i,d&&d.toLive&&f.push(d.toSVG(this)),c&&c.toLive&&f.push(c.toSVG(this)),p&&f.push(p.toSVG(this)),l&&f.push(n),f.push(t.join("")),f.push("</g>\n"),u&&f.push("</g>\n"),o?o(f.join("")):f.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var t=A.util.object.extend;function e(e,i,n){var r={};n.forEach(function(t){r[t]=e[t]}),t(e[i],r,!0)}A.util.object.extend(A.Object.prototype,{hasStateChanged:function(t){var e="_"+(t=t||"stateProperties");return Object.keys(this[e]).length<this[t].length||!function t(e,i,n){if(e===i)return!0;if(Array.isArray(e)){if(!Array.isArray(i)||e.length!==i.length)return!1;for(var r=0,o=e.length;r<o;r++)if(!t(e[r],i[r]))return!1;return!0}if(e&&"object"==typeof e){var s,a=Object.keys(e);if(!i||"object"!=typeof i||!n&&a.length!==Object.keys(i).length)return!1;for(r=0,o=a.length;r<o;r++)if("canvas"!==(s=a[r])&&!t(e[s],i[s]))return!1;return!0}}(this[e],this,!0)},saveState:function(t){var i=t&&t.propertySet||"stateProperties",n="_"+i;return this[n]?(e(this,n,this[i]),t&&t.stateProperties&&e(this,n,t.stateProperties),this):this.setupState(t)},setupState:function(t){var e=(t=t||{}).propertySet||"stateProperties";return t.propertySet=e,this["_"+e]={},this.saveState(t),this}})}(),function(){var t=A.util.degreesToRadians;A.util.object.extend(A.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(t){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var e,i,n=t.x,r=t.y;for(var o in this.__corner=0,this.oCoords)if(this.isControlVisible(o)&&("mtr"!==o||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||"mt"!==o&&"mr"!==o&&"mb"!==o&&"ml"!==o)&&(i=this._getImageLines(this.oCoords[o].corner),0!==(e=this._findCrossPoints({x:n,y:r},i))&&e%2==1))return this.__corner=o,o;return!1},_setCornerCoords:function(){var e,i,n=this.oCoords,r=t(45-this.angle),o=.707106*this.cornerSize,s=o*A.util.cos(r),a=o*A.util.sin(r);for(var l in n)e=n[l].x,i=n[l].y,n[l].corner={tl:{x:e-a,y:i-s},tr:{x:e+s,y:i-a},bl:{x:e-s,y:i+a},br:{x:e+a,y:i+s}}},drawSelectionBackground:function(e){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;e.save();var i=this.getCenterPoint(),n=this._calculateCurrentDimensions(),r=this.canvas.viewportTransform;return e.translate(i.x,i.y),e.scale(1/r[0],1/r[3]),e.rotate(t(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),e.restore(),this},drawBorders:function(t,e){e=e||{};var i=this._calculateCurrentDimensions(),n=1/this.borderScaleFactor,r=i.x+n,o=i.y+n,s=void 0!==e.hasRotatingPoint?e.hasRotatingPoint:this.hasRotatingPoint,a=void 0!==e.hasControls?e.hasControls:this.hasControls,l=void 0!==e.rotatingPointOffset?e.rotatingPointOffset:this.rotatingPointOffset;if(t.save(),t.strokeStyle=e.borderColor||this.borderColor,this._setLineDash(t,e.borderDashArray||this.borderDashArray,null),t.strokeRect(-r/2,-o/2,r,o),s&&this.isControlVisible("mtr")&&a){var h=-o/2;t.beginPath(),t.moveTo(0,h),t.lineTo(0,h-l),t.stroke()}return t.restore(),this},drawBordersInGroup:function(t,e,i){i=i||{};var n=this._getNonTransformedDimensions(),r=A.util.composeMatrix({scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX}),o=A.util.transformPoint(n,r),s=1/this.borderScaleFactor,a=o.x+s,l=o.y+s;return t.save(),this._setLineDash(t,i.borderDashArray||this.borderDashArray,null),t.strokeStyle=i.borderColor||this.borderColor,t.strokeRect(-a/2,-l/2,a,l),t.restore(),this},drawControls:function(t,e){e=e||{};var i=this._calculateCurrentDimensions(),n=i.x,r=i.y,o=e.cornerSize||this.cornerSize,s=-(n+o)/2,a=-(r+o)/2,l=void 0!==e.transparentCorners?e.transparentCorners:this.transparentCorners,h=void 0!==e.hasRotatingPoint?e.hasRotatingPoint:this.hasRotatingPoint,u=l?"stroke":"fill";return t.save(),t.strokeStyle=t.fillStyle=e.cornerColor||this.cornerColor,this.transparentCorners||(t.strokeStyle=e.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(t,e.cornerDashArray||this.cornerDashArray,null),this._drawControl("tl",t,u,s,a,e),this._drawControl("tr",t,u,s+n,a,e),this._drawControl("bl",t,u,s,a+r,e),this._drawControl("br",t,u,s+n,a+r,e),this.get("lockUniScaling")||(this._drawControl("mt",t,u,s+n/2,a,e),this._drawControl("mb",t,u,s+n/2,a+r,e),this._drawControl("mr",t,u,s+n,a+r/2,e),this._drawControl("ml",t,u,s,a+r/2,e)),h&&this._drawControl("mtr",t,u,s+n/2,a-this.rotatingPointOffset,e),t.restore(),this},_drawControl:function(t,e,i,n,r,o){if(o=o||{},this.isControlVisible(t)){var s=this.cornerSize,a=!this.transparentCorners&&this.cornerStrokeColor;switch(o.cornerStyle||this.cornerStyle){case"circle":e.beginPath(),e.arc(n+s/2,r+s/2,s/2,0,2*Math.PI,!1),e[i](),a&&e.stroke();break;default:this.transparentCorners||e.clearRect(n,r,s,s),e[i+"Rect"](n,r,s,s),a&&e.strokeRect(n,r,s,s)}}},isControlVisible:function(t){return this._getControlsVisibility()[t]},setControlVisible:function(t,e){return this._getControlsVisibility()[t]=e,this},setControlsVisibility:function(t){for(var e in t||(t={}),t)this.setControlVisible(e,t[e]);return this},_getControlsVisibility:function(){return this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0}),this._controlsVisibility},onDeselect:function(){},onSelect:function(){}})}(),A.util.object.extend(A.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){var i=function(){},n=(e=e||{}).onComplete||i,r=e.onChange||i,o=this;return A.util.animate({startValue:t.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),o.requestRenderAll(),r()},onComplete:function(){t.setCoords(),n()}}),this},fxCenterObjectV:function(t,e){var i=function(){},n=(e=e||{}).onComplete||i,r=e.onChange||i,o=this;return A.util.animate({startValue:t.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),o.requestRenderAll(),r()},onComplete:function(){t.setCoords(),n()}}),this},fxRemove:function(t,e){var i=function(){},n=(e=e||{}).onComplete||i,r=e.onChange||i,o=this;return A.util.animate({startValue:t.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(e){t.set("opacity",e),o.requestRenderAll(),r()},onComplete:function(){o.remove(t),n()}}),this}}),A.util.object.extend(A.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var t,e,i=[];for(t in arguments[0])i.push(t);for(var n=0,r=i.length;n<r;n++)t=i[n],e=n!==r-1,this._animate(t,arguments[0][t],arguments[1],e)}else this._animate.apply(this,arguments);return this},_animate:function(t,e,i,n){var r,o=this;e=e.toString(),i=i?A.util.object.clone(i):{},~t.indexOf(".")&&(r=t.split("."));var s=r?this.get(r[0])[r[1]]:this.get(t);"from"in i||(i.from=s),e=~e.indexOf("=")?s+parseFloat(e.replace("=","")):parseFloat(e),A.util.animate({startValue:i.from,endValue:e,byValue:i.by,easing:i.easing,duration:i.duration,abort:i.abort&&function(){return i.abort.call(o)},onChange:function(e,s,a){r?o[r[0]][r[1]]=e:o.set(t,e),n||i.onChange&&i.onChange(e,s,a)},onComplete:function(t,e,r){n||(o.setCoords(),i.onComplete&&i.onComplete(t,e,r))}})}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.object.clone,r={x1:1,x2:1,y1:1,y2:1},o=e.StaticCanvas.supports("setLineDash");function s(t,e){var i=t.origin,n=t.axis1,r=t.axis2,o=t.dimension,s=e.nearest,a=e.center,l=e.farthest;return function(){switch(this.get(i)){case s:return Math.min(this.get(n),this.get(r));case a:return Math.min(this.get(n),this.get(r))+.5*this.get(o);case l:return Math.max(this.get(n),this.get(r))}}}e.Line?e.warn("fabric.Line is already defined"):(e.Line=e.util.createClass(e.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:e.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(t,e){t||(t=[0,0,0,0]),this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),void 0!==r[t]&&this._setWidthHeight(),this},_getLeftToOriginX:s({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:s({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t){if(t.beginPath(),!this.strokeDashArray||this.strokeDashArray&&o){var e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2)}t.lineWidth=this.strokeWidth;var i=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=i},_renderDashedStroke:function(t){var i=this.calcLinePoints();t.beginPath(),e.util.drawDashedLine(t,i.x1,i.y1,i.x2,i.y2,this.strokeDashArray),t.closePath()},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(t){return i(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(t.y-=this.strokeWidth),0===this.height&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1,i=t*this.width*.5,n=e*this.height*.5;return{x1:i,x2:t*this.width*-.5,y1:n,y2:e*this.height*-.5}},_toSVG:function(){var t=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',t.x1,'" y1="',t.y1,'" x2="',t.x2,'" y2="',t.y2,'" />\n']}}),e.Line.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),e.Line.fromElement=function(t,n,r){r=r||{};var o=e.parseAttributes(t,e.Line.ATTRIBUTE_NAMES),s=[o.x1||0,o.y1||0,o.x2||0,o.y2||0];n(new e.Line(s,i(o,r)))},e.Line.fromObject=function(t,i){var r=n(t,!0);r.points=[t.x1,t.y1,t.x2,t.y2],e.Object._fromObject("Line",r,function(t){delete t.points,i&&i(t)},"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=Math.PI;e.Circle?e.warn("fabric.Circle is already defined."):(e.Circle=e.util.createClass(e.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*i,cacheProperties:e.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(t))},_toSVG:function(){var t,n=(this.endAngle-this.startAngle)%(2*i);if(0===n)t=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var r=e.util.cos(this.startAngle)*this.radius,o=e.util.sin(this.startAngle)*this.radius,s=e.util.cos(this.endAngle)*this.radius,a=e.util.sin(this.endAngle)*this.radius,l=n>i?"1":"0";t=['<path d="M '+r+" "+o," A "+this.radius+" "+this.radius," 0 ",+l+" 1"," "+s+" "+a,'" ',"COMMON_PARTS"," />\n"]}return t},_render:function(t){t.beginPath(),t.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){return this.radius=t,this.set("width",2*t).set("height",2*t)}}),e.Circle.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),e.Circle.fromElement=function(t,i){var n,r=e.parseAttributes(t,e.Circle.ATTRIBUTE_NAMES);if(!("radius"in(n=r)&&n.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");r.left=(r.left||0)-r.radius,r.top=(r.top||0)-r.radius,i(new e.Circle(r))},e.Circle.fromObject=function(t,i){return e.Object._fromObject("Circle",t,i)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Triangle?e.warn("fabric.Triangle is already defined"):(e.Triangle=e.util.createClass(e.Object,{type:"triangle",width:100,height:100,_render:function(t){var e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,i),t.lineTo(0,-i),t.lineTo(e,i),t.closePath(),this._renderPaintInOrder(t)},_renderDashedStroke:function(t){var i=this.width/2,n=this.height/2;t.beginPath(),e.util.drawDashedLine(t,-i,n,0,-n,this.strokeDashArray),e.util.drawDashedLine(t,0,-n,i,n,this.strokeDashArray),e.util.drawDashedLine(t,i,n,-i,n,this.strokeDashArray),t.closePath()},_toSVG:function(){var t=this.width/2,e=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-t+" "+e,"0 "+-e,t+" "+e].join(","),'" />']}}),e.Triangle.fromObject=function(t,i){return e.Object._fromObject("Triangle",t,i)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=2*Math.PI;e.Ellipse?e.warn("fabric.Ellipse is already defined."):(e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this.set("rx",t&&t.rx||0),this.set("ry",t&&t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,i,!1),t.restore(),this._renderPaintInOrder(t)}}),e.Ellipse.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),e.Ellipse.fromElement=function(t,i){var n=e.parseAttributes(t,e.Ellipse.ATTRIBUTE_NAMES);n.left=(n.left||0)-n.rx,n.top=(n.top||0)-n.ry,i(new e.Ellipse(n))},e.Ellipse.fromObject=function(t,i){return e.Object._fromObject("Ellipse",t,i)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend;e.Rect?e.warn("fabric.Rect is already defined"):(e.Rect=e.util.createClass(e.Object,{stateProperties:e.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t){var e=this.rx?Math.min(this.rx,this.width/2):0,i=this.ry?Math.min(this.ry,this.height/2):0,n=this.width,r=this.height,o=-this.width/2,s=-this.height/2,a=0!==e||0!==i,l=.4477152502;t.beginPath(),t.moveTo(o+e,s),t.lineTo(o+n-e,s),a&&t.bezierCurveTo(o+n-l*e,s,o+n,s+l*i,o+n,s+i),t.lineTo(o+n,s+r-i),a&&t.bezierCurveTo(o+n,s+r-l*i,o+n-l*e,s+r,o+n-e,s+r),t.lineTo(o+e,s+r),a&&t.bezierCurveTo(o+l*e,s+r,o,s+r-l*i,o,s+r-i),t.lineTo(o,s+i),a&&t.bezierCurveTo(o,s+l*i,o+l*e,s,o+e,s),t.closePath(),this._renderPaintInOrder(t)},_renderDashedStroke:function(t){var i=-this.width/2,n=-this.height/2,r=this.width,o=this.height;t.beginPath(),e.util.drawDashedLine(t,i,n,i+r,n,this.strokeDashArray),e.util.drawDashedLine(t,i+r,n,i+r,n+o,this.strokeDashArray),e.util.drawDashedLine(t,i+r,n+o,i,n+o,this.strokeDashArray),e.util.drawDashedLine(t,i,n+o,i,n,this.strokeDashArray),t.closePath()},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),e.Rect.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),e.Rect.fromElement=function(t,n,r){if(!t)return n(null);r=r||{};var o=e.parseAttributes(t,e.Rect.ATTRIBUTE_NAMES);o.left=o.left||0,o.top=o.top||0,o.height=o.height||0,o.width=o.width||0;var s=new e.Rect(i(r?e.util.object.clone(r):{},o));s.visible=s.visible&&s.width>0&&s.height>0,n(s)},e.Rect.fromObject=function(t,i){return e.Object._fromObject("Rect",t,i)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.util.array.min,r=e.util.array.max,o=e.util.toFixed;e.Polyline?e.warn("fabric.Polyline is already defined"):(e.Polyline=e.util.createClass(e.Object,{type:"polyline",points:null,cacheProperties:e.Object.prototype.cacheProperties.concat("points"),initialize:function(t,e){e=e||{},this.points=t||[],this.callSuper("initialize",e),this._setPositionDimensions(e)},_setPositionDimensions:function(t){var e,i=this._calcDimensions(t);this.width=i.width,this.height=i.height,t.fromSVG||(e=this.translateToGivenOrigin({x:i.left-this.strokeWidth/2,y:i.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),void 0===t.left&&(this.left=t.fromSVG?i.left:e.x),void 0===t.top&&(this.top=t.fromSVG?i.top:e.y),this.pathOffset={x:i.left+this.width/2,y:i.top+this.height/2}},_calcDimensions:function(){var t=this.points,e=n(t,"x")||0,i=n(t,"y")||0;return{left:e,top:i,width:(r(t,"x")||0)-e,height:(r(t,"y")||0)-i}},toObject:function(t){return i(this.callSuper("toObject",t),{points:this.points.concat()})},_toSVG:function(){for(var t=[],i=this.pathOffset.x,n=this.pathOffset.y,r=e.Object.NUM_FRACTION_DIGITS,s=0,a=this.points.length;s<a;s++)t.push(o(this.points[s].x-i,r),",",o(this.points[s].y-n,r)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',t.join(""),'" />\n']},commonRender:function(t){var e,i=this.points.length,n=this.pathOffset.x,r=this.pathOffset.y;if(!i||isNaN(this.points[i-1].y))return!1;t.beginPath(),t.moveTo(this.points[0].x-n,this.points[0].y-r);for(var o=0;o<i;o++)e=this.points[o],t.lineTo(e.x-n,e.y-r);return!0},_render:function(t){this.commonRender(t)&&this._renderPaintInOrder(t)},_renderDashedStroke:function(t){var i,n;t.beginPath();for(var r=0,o=this.points.length;r<o;r++)i=this.points[r],n=this.points[r+1]||i,e.util.drawDashedLine(t,i.x,i.y,n.x,n.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polyline.fromElementGenerator=function(t){return function(n,r,o){if(!n)return r(null);o||(o={});var s=e.parsePointsAttribute(n.getAttribute("points")),a=e.parseAttributes(n,e[t].ATTRIBUTE_NAMES);a.fromSVG=!0,r(new e[t](s,i(a,o)))}},e.Polyline.fromElement=e.Polyline.fromElementGenerator("Polyline"),e.Polyline.fromObject=function(t,i){return e.Object._fromObject("Polyline",t,i,"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Polygon?e.warn("fabric.Polygon is already defined"):(e.Polygon=e.util.createClass(e.Polyline,{type:"polygon",_render:function(t){this.commonRender(t)&&(t.closePath(),this._renderPaintInOrder(t))},_renderDashedStroke:function(t){this.callSuper("_renderDashedStroke",t),t.closePath()}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=e.Polyline.fromElementGenerator("Polygon"),e.Polygon.fromObject=function(t,i){return e.Object._fromObject("Polygon",t,i,"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.array.min,n=e.util.array.max,r=e.util.object.extend,o=Object.prototype.toString,s=e.util.drawArc,a=e.util.toFixed,l={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},h={m:"l",M:"L"};e.Path?e.warn("fabric.Path is already defined"):(e.Path=e.util.createClass(e.Object,{type:"path",path:null,cacheProperties:e.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:e.Object.prototype.stateProperties.concat("path"),initialize:function(t,i){i=i||{},this.callSuper("initialize",i),t||(t=[]);var n="[object Array]"===o.call(t);this.path=n?t:t.match&&t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(n||(this.path=this._parsePath()),e.Polyline.prototype._setPositionDimensions.call(this,i))},_renderPathCommands:function(t){var e,i,n,r=null,o=0,a=0,l=0,h=0,u=0,c=0,d=-this.pathOffset.x,p=-this.pathOffset.y;t.beginPath();for(var f=0,m=this.path.length;f<m;++f){switch((e=this.path[f])[0]){case"l":l+=e[1],h+=e[2],t.lineTo(l+d,h+p);break;case"L":l=e[1],h=e[2],t.lineTo(l+d,h+p);break;case"h":l+=e[1],t.lineTo(l+d,h+p);break;case"H":l=e[1],t.lineTo(l+d,h+p);break;case"v":h+=e[1],t.lineTo(l+d,h+p);break;case"V":h=e[1],t.lineTo(l+d,h+p);break;case"m":o=l+=e[1],a=h+=e[2],t.moveTo(l+d,h+p);break;case"M":o=l=e[1],a=h=e[2],t.moveTo(l+d,h+p);break;case"c":i=l+e[5],n=h+e[6],u=l+e[3],c=h+e[4],t.bezierCurveTo(l+e[1]+d,h+e[2]+p,u+d,c+p,i+d,n+p),l=i,h=n;break;case"C":l=e[5],h=e[6],u=e[3],c=e[4],t.bezierCurveTo(e[1]+d,e[2]+p,u+d,c+p,l+d,h+p);break;case"s":i=l+e[3],n=h+e[4],null===r[0].match(/[CcSs]/)?(u=l,c=h):(u=2*l-u,c=2*h-c),t.bezierCurveTo(u+d,c+p,l+e[1]+d,h+e[2]+p,i+d,n+p),u=l+e[1],c=h+e[2],l=i,h=n;break;case"S":i=e[3],n=e[4],null===r[0].match(/[CcSs]/)?(u=l,c=h):(u=2*l-u,c=2*h-c),t.bezierCurveTo(u+d,c+p,e[1]+d,e[2]+p,i+d,n+p),l=i,h=n,u=e[1],c=e[2];break;case"q":i=l+e[3],n=h+e[4],u=l+e[1],c=h+e[2],t.quadraticCurveTo(u+d,c+p,i+d,n+p),l=i,h=n;break;case"Q":i=e[3],n=e[4],t.quadraticCurveTo(e[1]+d,e[2]+p,i+d,n+p),l=i,h=n,u=e[1],c=e[2];break;case"t":i=l+e[1],n=h+e[2],null===r[0].match(/[QqTt]/)?(u=l,c=h):(u=2*l-u,c=2*h-c),t.quadraticCurveTo(u+d,c+p,i+d,n+p),l=i,h=n;break;case"T":i=e[1],n=e[2],null===r[0].match(/[QqTt]/)?(u=l,c=h):(u=2*l-u,c=2*h-c),t.quadraticCurveTo(u+d,c+p,i+d,n+p),l=i,h=n;break;case"a":s(t,l+d,h+p,[e[1],e[2],e[3],e[4],e[5],e[6]+l+d,e[7]+h+p]),l+=e[6],h+=e[7];break;case"A":s(t,l+d,h+p,[e[1],e[2],e[3],e[4],e[5],e[6]+d,e[7]+p]),l=e[6],h=e[7];break;case"z":case"Z":l=o,h=a,t.closePath()}r=e}},_render:function(t){this._renderPathCommands(t),this._renderPaintInOrder(t)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){return r(this.callSuper("toObject",t),{path:this.path.map(function(t){return t.slice()})})},toDatalessObject:function(t){var e=this.toObject(["sourcePath"].concat(t));return e.sourcePath&&delete e.path,e},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',this.path.map(function(t){return t.join(" ")}).join(" "),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var t=e.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,t)+", "+a(-this.pathOffset.y,t)+")"},toClipPathSVG:function(t){var e=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},toSVG:function(t){var e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},complexity:function(){return this.path.length},_parsePath:function(){for(var t,e,i,n,r,o=[],s=[],a=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,u=0,c=this.path.length;u<c;u++){for(n=(t=this.path[u]).slice(1).trim(),s.length=0;i=a.exec(n);)s.push(i[0]);r=[t.charAt(0)];for(var d=0,p=s.length;d<p;d++)e=parseFloat(s[d]),isNaN(e)||r.push(e);var f=r[0],m=l[f.toLowerCase()],g=h[f]||f;if(r.length-1>m)for(var v=1,A=r.length;v<A;v+=m)o.push([f].concat(r.slice(v,v+m))),f=g;else o.push(r)}return o},_calcDimensions:function(){for(var t,r,o,s,a=[],l=[],h=null,u=0,c=0,d=0,p=0,f=0,m=0,g=0,v=this.path.length;g<v;++g){switch((t=this.path[g])[0]){case"l":d+=t[1],p+=t[2],s=[];break;case"L":d=t[1],p=t[2],s=[];break;case"h":d+=t[1],s=[];break;case"H":d=t[1],s=[];break;case"v":p+=t[1],s=[];break;case"V":p=t[1],s=[];break;case"m":u=d+=t[1],c=p+=t[2],s=[];break;case"M":u=d=t[1],c=p=t[2],s=[];break;case"c":r=d+t[5],o=p+t[6],f=d+t[3],m=p+t[4],s=e.util.getBoundsOfCurve(d,p,d+t[1],p+t[2],f,m,r,o),d=r,p=o;break;case"C":f=t[3],m=t[4],s=e.util.getBoundsOfCurve(d,p,t[1],t[2],f,m,t[5],t[6]),d=t[5],p=t[6];break;case"s":r=d+t[3],o=p+t[4],null===h[0].match(/[CcSs]/)?(f=d,m=p):(f=2*d-f,m=2*p-m),s=e.util.getBoundsOfCurve(d,p,f,m,d+t[1],p+t[2],r,o),f=d+t[1],m=p+t[2],d=r,p=o;break;case"S":r=t[3],o=t[4],null===h[0].match(/[CcSs]/)?(f=d,m=p):(f=2*d-f,m=2*p-m),s=e.util.getBoundsOfCurve(d,p,f,m,t[1],t[2],r,o),d=r,p=o,f=t[1],m=t[2];break;case"q":r=d+t[3],o=p+t[4],f=d+t[1],m=p+t[2],s=e.util.getBoundsOfCurve(d,p,f,m,f,m,r,o),d=r,p=o;break;case"Q":f=t[1],m=t[2],s=e.util.getBoundsOfCurve(d,p,f,m,f,m,t[3],t[4]),d=t[3],p=t[4];break;case"t":r=d+t[1],o=p+t[2],null===h[0].match(/[QqTt]/)?(f=d,m=p):(f=2*d-f,m=2*p-m),s=e.util.getBoundsOfCurve(d,p,f,m,f,m,r,o),d=r,p=o;break;case"T":r=t[1],o=t[2],null===h[0].match(/[QqTt]/)?(f=d,m=p):(f=2*d-f,m=2*p-m),s=e.util.getBoundsOfCurve(d,p,f,m,f,m,r,o),d=r,p=o;break;case"a":s=e.util.getBoundsOfArc(d,p,t[1],t[2],t[3],t[4],t[5],t[6]+d,t[7]+p),d+=t[6],p+=t[7];break;case"A":s=e.util.getBoundsOfArc(d,p,t[1],t[2],t[3],t[4],t[5],t[6],t[7]),d=t[6],p=t[7];break;case"z":case"Z":d=u,p=c}h=t,s.forEach(function(t){a.push(t.x),l.push(t.y)}),a.push(d),l.push(p)}var A=i(a)||0,y=i(l)||0;return{left:A,top:y,width:(n(a)||0)-A,height:(n(l)||0)-y}}}),e.Path.fromObject=function(t,i){if("string"==typeof t.sourcePath){var n=t.sourcePath;e.loadSVGFromURL(n,function(e){var n=e[0];n.setOptions(t),i&&i(n)})}else e.Object._fromObject("Path",t,i,"path")},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),e.Path.fromElement=function(t,i,n){var o=e.parseAttributes(t,e.Path.ATTRIBUTE_NAMES);o.fromSVG=!0,i(new e.Path(o.d,r(o,n)))})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.array.min,n=e.util.array.max;e.Group||(e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(t,e,i){e=e||{},this._objects=[],i&&this.callSuper("initialize",e),this._objects=t||[];for(var n=this._objects.length;n--;)this._objects[n].group=this;if(i)this._updateObjectsACoords();else{var r=e&&e.centerPoint;void 0!==e.originX&&(this.originX=e.originX),void 0!==e.originY&&(this.originY=e.originY),r||this._calcBounds(),this._updateObjectsCoords(r),delete e.centerPoint,this.callSuper("initialize",e)}this.setCoords()},_updateObjectsACoords:function(){for(var t=this._objects.length;t--;)this._objects[t].setCoords(!0,!0)},_updateObjectsCoords:function(t){t=t||this.getCenterPoint();for(var e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],t)},_updateObjectCoords:function(t,e){var i=t.left,n=t.top;t.set({left:i-e.x,top:n-e.y}),t.group=this,t.setCoords(!0,!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),t&&(this._objects.push(t),t.group=this,t._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},removeWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(t){this.dirty=!0,t.group=this,t._set("canvas",this.canvas)},_onObjectRemoved:function(t){this.dirty=!0,delete t.group},_set:function(t,i){var n=this._objects.length;if(this.useSetOnGroup)for(;n--;)this._objects[n].setOnGroup(t,i);if("canvas"===t)for(;n--;)this._objects[n]._set(t,i);e.Object.prototype._set.call(this,t,i)},toObject:function(t){var i=this.includeDefaultValues,n=this._objects.map(function(e){var n=e.includeDefaultValues;e.includeDefaultValues=i;var r=e.toObject(t);return e.includeDefaultValues=n,r}),r=e.Object.prototype.toObject.call(this,t);return r.objects=n,r},toDatalessObject:function(t){var i,n=this.sourcePath;if(n)i=n;else{var r=this.includeDefaultValues;i=this._objects.map(function(e){var i=e.includeDefaultValues;e.includeDefaultValues=r;var n=e.toDatalessObject(t);return e.includeDefaultValues=i,n})}var o=e.Object.prototype.toDatalessObject.call(this,t);return o.objects=i,o},render:function(t){this._transformDone=!0,this.callSuper("render",t),this._transformDone=!1},shouldCache:function(){var t=e.Object.prototype.shouldCache.call(this);if(t)for(var i=0,n=this._objects.length;i<n;i++)if(this._objects[i].willDrawShadow())return this.ownCaching=!1,!1;return t},willDrawShadow:function(){if(this.shadow)return e.Object.prototype.willDrawShadow.call(this);for(var t=0,i=this._objects.length;t<i;t++)if(this._objects[t].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(t){for(var e=0,i=this._objects.length;e<i;e++)this._objects[e].render(t);this._drawClipPath(t)},isCacheDirty:function(t){if(this.callSuper("isCacheDirty",t))return!0;if(!this.statefullCache)return!1;for(var e=0,i=this._objects.length;e<i;e++)if(this._objects[e].isCacheDirty(!0)){if(this._cacheCanvas){var n=this.cacheWidth/this.zoomX,r=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-n/2,-r/2,n,r)}return!0}return!1},_restoreObjectsState:function(){return this._objects.forEach(this._restoreObjectState,this),this},realizeTransform:function(t){var i=t.calcTransformMatrix(),n=e.util.qrDecompose(i),r=new e.Point(n.translateX,n.translateY);return t.flipX=!1,t.flipY=!1,t.set("scaleX",n.scaleX),t.set("scaleY",n.scaleY),t.skewX=n.skewX,t.skewY=n.skewY,t.angle=n.angle,t.setPositionByOrigin(r,"center","center"),t},_restoreObjectState:function(t){return this.realizeTransform(t),t.setCoords(),delete t.group,this},destroy:function(){return this._objects.forEach(function(t){t.set("dirty",!0)}),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var t=this._objects,i=this.canvas;this._objects=[];var n=this.toObject();delete n.objects;var r=new e.ActiveSelection([]);return r.set(n),r.type="activeSelection",i.remove(this),t.forEach(function(t){t.group=r,t.dirty=!0,i.add(t)}),r.canvas=i,r._objects=t,i._activeObject=r,r.setCoords(),r}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject(function(t){t.setCoords(!0,!0)}),this},_calcBounds:function(t){for(var e,i,n,r=[],o=[],s=["tr","br","bl","tl"],a=0,l=this._objects.length,h=s.length;a<l;++a)for((e=this._objects[a]).setCoords(!0),n=0;n<h;n++)i=s[n],r.push(e.oCoords[i].x),o.push(e.oCoords[i].y);this._getBounds(r,o,t)},_getBounds:function(t,r,o){var s=new e.Point(i(t),i(r)),a=new e.Point(n(t),n(r)),l=s.y||0,h=s.x||0,u=a.x-s.x||0,c=a.y-s.y||0;this.width=u,this.height=c,o||this.setPositionByOrigin({x:h,y:l},"left","top")},_toSVG:function(t){for(var e=["<g ","COMMON_PARTS"," >\n"],i=0,n=this._objects.length;i<n;i++)e.push("\t\t",this._objects[i].toSVG(t));return e.push("</g>\n"),e},getSvgStyles:function(){var t=void 0!==this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")},toClipPathSVG:function(t){for(var e=[],i=0,n=this._objects.length;i<n;i++)e.push("\t",this._objects[i].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}}),e.Group.fromObject=function(t,i){e.util.enlivenObjects(t.objects,function(n){e.util.enlivenObjects([t.clipPath],function(r){var o=e.util.object.clone(t,!0);o.clipPath=r[0],delete o.objects,i&&i(new e.Group(n,o,!0))})})})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.ActiveSelection||(e.ActiveSelection=e.util.createClass(e.Group,{type:"activeSelection",initialize:function(t,i){i=i||{},this._objects=t||[];for(var n=this._objects.length;n--;)this._objects[n].group=this;i.originX&&(this.originX=i.originX),i.originY&&(this.originY=i.originY),this._calcBounds(),this._updateObjectsCoords(),e.Object.prototype.initialize.call(this,i),this.setCoords()},toGroup:function(){var t=this._objects.concat();this._objects=[];var i=e.Object.prototype.toObject.call(this),n=new e.Group([]);if(delete i.type,n.set(i),t.forEach(function(t){t.canvas.remove(t),t.group=n}),n._objects=t,!this.canvas)return n;var r=this.canvas;return r.add(n),r._activeObject=n,n.setCoords(),n},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(t,e,i){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",t,e),void 0===(i=i||{}).hasControls&&(i.hasControls=!1),void 0===i.hasRotatingPoint&&(i.hasRotatingPoint=!1),i.forActiveSelection=!0;for(var n=0,r=this._objects.length;n<r;n++)this._objects[n]._renderControls(t,i);t.restore()}}),e.ActiveSelection.fromObject=function(t,i){e.util.enlivenObjects(t.objects,function(n){delete t.objects,i&&i(new e.ActiveSelection(n,t,!0))})})}(e),function(t){"use strict";var e=A.util.object.extend;t.fabric||(t.fabric={}),t.fabric.Image?A.warn("fabric.Image is already defined."):(A.Image=A.util.createClass(A.Object,{type:"image",crossOrigin:"",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:A.Object.prototype.stateProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,initialize:function(t,e){e||(e={}),this.filters=[],this.cacheKey="texture"+A.Object.__uid++,this.callSuper("initialize",e),this._initElement(t,e)},getElement:function(){return this._element||{}},setElement:function(t,e){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=t,this._originalElement=t,this._initConfig(e),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(t){var e=A.filterBackend;e&&e.evictCachesForKey&&e.evictCachesForKey(t)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(t){A.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this))},setCrossOrigin:function(t){return this.crossOrigin=t,this._element.crossOrigin=t,this},getOriginalSize:function(){var t=this.getElement();return{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}},_stroke:function(t){if(this.stroke&&0!==this.strokeWidth){var e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,-i),t.lineTo(e,-i),t.lineTo(e,i),t.lineTo(-e,i),t.lineTo(-e,-i),t.closePath()}},_renderDashedStroke:function(t){var e=-this.width/2,i=-this.height/2,n=this.width,r=this.height;t.save(),this._setStrokeStyles(t,this),t.beginPath(),A.util.drawDashedLine(t,e,i,e+n,i,this.strokeDashArray),A.util.drawDashedLine(t,e+n,i,e+n,i+r,this.strokeDashArray),A.util.drawDashedLine(t,e+n,i+r,e,i+r,this.strokeDashArray),A.util.drawDashedLine(t,e,i+r,e,i,this.strokeDashArray),t.closePath(),t.restore()},toObject:function(t){var i=[];this.filters.forEach(function(t){t&&i.push(t.toObject())});var n=e(this.callSuper("toObject",["crossOrigin","cropX","cropY"].concat(t)),{src:this.getSrc(),filters:i});return this.resizeFilter&&(n.resizeFilter=this.resizeFilter.toObject()),n},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var t,e=[],i=[],n=-this.width/2,r=-this.height/2,o="";if(this.hasCrop()){var s=A.Object.__uid++;e.push('<clipPath id="imageCrop_'+s+'">\n','\t<rect x="'+n+'" y="'+r+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),o=' clip-path="url(#imageCrop_'+s+')" '}if(i.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',n-this.cropX,'" y="',r-this.cropY,'" width="',this._element.width||this._element.naturalWidth,'" height="',this._element.height||this._element.height,'"',o,"></image>\n"),this.stroke||this.strokeDashArray){var a=this.fill;this.fill=null,t=["\t<rect ",'x="',n,'" y="',r,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=a}return e="fill"!==this.paintFirst?e.concat(t,i):e.concat(i,t)},getSrc:function(t){var e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute("src"):e.src:this.src||""},setSrc:function(t,e,i){return A.util.loadImage(t,function(t){this.setElement(t,i),this._setWidthHeight(),e&&e(this)},this,i&&i.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var t=this.resizeFilter,e=this.minimumScaleTrigger,i=this.getTotalObjectScaling(),n=i.scaleX,r=i.scaleY,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||n>e&&r>e)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=n,void(this._lastScaleY=r);A.filterBackend||(A.filterBackend=A.initFilterBackend());var s=A.util.createCanvasElement(),a=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,l=o.width,h=o.height;s.width=l,s.height=h,this._element=s,this._lastScaleX=t.scaleX=n,this._lastScaleY=t.scaleY=r,A.filterBackend.applyFilters([t],o,l,h,this._element,a),this._filterScalingX=s.width/this._originalElement.width,this._filterScalingY=s.height/this._originalElement.height},applyFilters:function(t){if(t=(t=t||this.filters||[]).filter(function(t){return t&&!t.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===t.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var e=this._originalElement,i=e.naturalWidth||e.width,n=e.naturalHeight||e.height;if(this._element===this._originalElement){var r=A.util.createCanvasElement();r.width=i,r.height=n,this._element=r,this._filteredEl=r}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,i,n),this._lastScaleX=1,this._lastScaleY=1;return A.filterBackend||(A.filterBackend=A.initFilterBackend()),A.filterBackend.applyFilters(t,this._originalElement,i,n,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(t){!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(t){var e=this._element,i=this.width,n=this.height,r=Math.min(e.naturalWidth||e.width,i*this._filterScalingX),o=Math.min(e.naturalHeight||e.height,n*this._filterScalingY),s=-i/2,a=-n/2,l=Math.max(0,this.cropX*this._filterScalingX),h=Math.max(0,this.cropY*this._filterScalingY);e&&t.drawImage(e,l,h,r,o,s,a,i,n)},_needsResize:function(){var t=this.getTotalObjectScaling();return t.scaleX!==this._lastScaleX||t.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(t,e){this.setElement(A.util.getById(t),e),A.util.addClass(this.getElement(),A.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t),this._element&&this.crossOrigin&&(this._element.crossOrigin=this.crossOrigin)},_initFilters:function(t,e){t&&t.length?A.util.enlivenObjects(t,function(t){e&&e(t)},"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){t||(t={});var e=this.getElement();this.width=t.width||e.naturalWidth||e.width||0,this.height=t.height||e.naturalHeight||e.height||0},parsePreserveAspectRatioAttribute:function(){var t,e=A.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),i=this._element.width,n=this._element.height,r=1,o=1,s=0,a=0,l=0,h=0,u=this.width,c=this.height,d={width:u,height:c};return!e||"none"===e.alignX&&"none"===e.alignY?(r=u/i,o=c/n):("meet"===e.meetOrSlice&&(t=(u-i*(r=o=A.util.findScaleToFit(this._element,d)))/2,"Min"===e.alignX&&(s=-t),"Max"===e.alignX&&(s=t),t=(c-n*o)/2,"Min"===e.alignY&&(a=-t),"Max"===e.alignY&&(a=t)),"slice"===e.meetOrSlice&&(t=i-u/(r=o=A.util.findScaleToCover(this._element,d)),"Mid"===e.alignX&&(l=t/2),"Max"===e.alignX&&(l=t),t=n-c/o,"Mid"===e.alignY&&(h=t/2),"Max"===e.alignY&&(h=t),i=u/r,n=c/o)),{width:i,height:n,scaleX:r,scaleY:o,offsetLeft:s,offsetTop:a,cropX:l,cropY:h}}}),A.Image.CSS_CANVAS="canvas-img",A.Image.prototype.getSvgSrc=A.Image.prototype.getSrc,A.Image.fromObject=function(t,e){var i=A.util.object.clone(t);A.util.loadImage(i.src,function(t,n){n?e&&e(null,n):A.Image.prototype._initFilters.call(i,i.filters,function(n){i.filters=n||[],A.Image.prototype._initFilters.call(i,[i.resizeFilter],function(n){i.resizeFilter=n[0],A.util.enlivenObjects([i.clipPath],function(n){i.clipPath=n[0];var r=new A.Image(t,i);e(r)})})})},null,i.crossOrigin)},A.Image.fromURL=function(t,e,i){A.util.loadImage(t,function(t){e&&e(new A.Image(t,i))},null,i&&i.crossOrigin)},A.Image.ATTRIBUTE_NAMES=A.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin".split(" ")),A.Image.fromElement=function(t,i,n){var r=A.parseAttributes(t,A.Image.ATTRIBUTE_NAMES);A.Image.fromURL(r["xlink:href"],i,e(n?A.util.object.clone(n):{},r))})}(e),A.util.object.extend(A.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.angle%360;return t>0?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(t){var e=function(){},i=(t=t||{}).onComplete||e,n=t.onChange||e,r=this;return A.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){r.rotate(t),n()},onComplete:function(){r.setCoords(),i()}}),this}}),A.util.object.extend(A.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function t(t,e){var i="precision "+e+" float;\nvoid main(){}",n=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(n,i),t.compileShader(n),!!t.getShaderParameter(n,t.COMPILE_STATUS)}function e(t){t&&t.tileSize&&(this.tileSize=t.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}A.isWebglSupported=function(e){if(A.isLikelyNode)return!1;e=e||A.WebglFilterBackend.prototype.tileSize;var i=document.createElement("canvas"),n=i.getContext("webgl")||i.getContext("experimental-webgl"),r=!1;if(n){A.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),r=A.maxTextureSize>=e;for(var o=["highp","mediump","lowp"],s=0;s<3;s++)if(t(n,o[s])){A.webGlPrecision=o[s];break}}return this.isSupported=r,r},A.WebglFilterBackend=e,e.prototype={tileSize:2048,resources:{},setupGLContext:function(t,e){this.dispose(),this.createWebGLCanvas(t,e),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(t,e)},chooseFastestCopyGLTo2DMethod:function(t,e){var i,n=void 0!==window.performance;try{new ImageData(1,1),i=!0}catch(t){i=!1}var r="undefined"!=typeof ArrayBuffer,o="undefined"!=typeof Uint8ClampedArray;if(n&&i&&r&&o){var s=A.util.createCanvasElement(),a=new ArrayBuffer(t*e*4);if(A.forceGLPutImageData)return this.imageBuffer=a,void(this.copyGLTo2D=b);var l,h,u={imageBuffer:a,destinationWidth:t,destinationHeight:e,targetCanvas:s};s.width=t,s.height=e,l=window.performance.now(),x.call(u,this.gl,u),h=window.performance.now()-l,l=window.performance.now(),b.call(u,this.gl,u),h>window.performance.now()-l?(this.imageBuffer=a,this.copyGLTo2D=b):this.copyGLTo2D=x}},createWebGLCanvas:function(t,e){var i=A.util.createCanvasElement();i.width=t,i.height=e;var n={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},r=i.getContext("webgl",n);r||(r=i.getContext("experimental-webgl",n)),r&&(r.clearColor(0,0,0,0),this.canvas=i,this.gl=r)},applyFilters:function(t,e,i,n,r,o){var s,a=this.gl;o&&(s=this.getCachedTexture(o,e));var l={originalWidth:e.width||e.originalWidth,originalHeight:e.height||e.originalHeight,sourceWidth:i,sourceHeight:n,destinationWidth:i,destinationHeight:n,context:a,sourceTexture:this.createTexture(a,i,n,!s&&e),targetTexture:this.createTexture(a,i,n),originalTexture:s||this.createTexture(a,i,n,!s&&e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:r},h=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,h),t.forEach(function(t){t&&t.applyTo(l)}),function(t){var e=t.targetCanvas,i=e.width,n=e.height,r=t.destinationWidth,o=t.destinationHeight;i===r&&n===o||(e.width=r,e.height=o)}(l),this.copyGLTo2D(a,l),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(l.sourceTexture),a.deleteTexture(l.targetTexture),a.deleteFramebuffer(h),r.getContext("2d").setTransform(1,0,0,1,0,0),l},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(t,e,i,n){var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),n?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,i,0,t.RGBA,t.UNSIGNED_BYTE,null),r},getCachedTexture:function(t,e){if(this.textureCache[t])return this.textureCache[t];var i=this.createTexture(this.gl,e.width,e.height,e);return this.textureCache[t]=i,i},evictCachesForKey:function(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])},copyGLTo2D:x,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var t=this.gl,e={renderer:"",vendor:""};if(!t)return e;var i=t.getExtension("WEBGL_debug_renderer_info");if(i){var n=t.getParameter(i.UNMASKED_RENDERER_WEBGL),r=t.getParameter(i.UNMASKED_VENDOR_WEBGL);n&&(e.renderer=n.toLowerCase()),r&&(e.vendor=r.toLowerCase())}return this.gpuInfo=e,e}}}(),function(){"use strict";var t=function(){};function e(){}A.Canvas2dFilterBackend=e,e.prototype={evictCachesForKey:t,dispose:t,clearWebGLCaches:t,resources:{},applyFilters:function(t,e,i,n,r){var o=r.getContext("2d");o.drawImage(e,0,0,i,n);var s={sourceWidth:i,sourceHeight:n,imageData:o.getImageData(0,0,i,n),originalEl:e,originalImageData:o.getImageData(0,0,i,n),canvasEl:r,ctx:o,filterBackend:this};return t.forEach(function(t){t.applyTo(s)}),s.imageData.width===i&&s.imageData.height===n||(r.width=s.imageData.width,r.height=s.imageData.height),o.putImageData(s.imageData,0,0),s}}}(),A.Image=A.Image||{},A.Image.filters=A.Image.filters||{},A.Image.filters.BaseFilter=A.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},createProgram:function(t,e,i){e=e||this.fragmentSource,i=i||this.vertexSource,"highp"!==A.webGlPrecision&&(e=e.replace(/precision highp float/g,"precision "+A.webGlPrecision+" float"));var n=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(n,i),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+t.getShaderInfoLog(n));var r=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(r,e),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+t.getShaderInfoLog(r));var o=t.createProgram();if(t.attachShader(o,n),t.attachShader(o,r),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+t.getProgramInfoLog(o));var s=this.getAttributeLocations(t,o),a=this.getUniformLocations(t,o)||{};return a.uStepW=t.getUniformLocation(o,"uStepW"),a.uStepH=t.getUniformLocation(o,"uStepH"),{program:o,attributeLocations:s,uniformLocations:a}},getAttributeLocations:function(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(t,e,i){var n=e.aPosition,r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.enableVertexAttribArray(n),t.vertexAttribPointer(n,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW)},_setupFrameBuffer:function(t){var e,i,n=t.context;t.passes>1?(e=t.destinationWidth,i=t.destinationHeight,t.sourceWidth===e&&t.sourceHeight===i||(n.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(n,e,i)),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t.targetTexture,0)):(n.bindFramebuffer(n.FRAMEBUFFER,null),n.finish())},_swapTextures:function(t){t.passes--,t.pass++;var e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e},isNeutralState:function(){var t=this.mainParameter,e=A.Image.filters[this.type].prototype;if(t){if(Array.isArray(e[t])){for(var i=e[t].length;i--;)if(this[t][i]!==e[t][i])return!1;return!0}return e[t]===this[t]}return!1},applyTo:function(t){t.webgl?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},retrieveShader:function(t){return t.programCache.hasOwnProperty(this.type)||(t.programCache[this.type]=this.createProgram(t.context)),t.programCache[this.type]},applyToWebGL:function(t){var e=t.context,i=this.retrieveShader(t);0===t.pass&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(i.program),this.sendAttributeData(e,i.attributeLocations,t.aPosition),e.uniform1f(i.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(i.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,i.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(t,e,i){t.activeTexture(i),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)},unbindAdditionalTexture:function(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(t){this[this.mainParameter]=t},sendUniformData:function(){},createHelpLayer:function(t){if(!t.helpLayer){var e=document.createElement("canvas");e.width=t.sourceWidth,e.height=t.sourceHeight,t.helpLayer=e}},toObject:function(){var t={type:this.type},e=this.mainParameter;return e&&(t[e]=this[e]),t},toJSON:function(){return this.toObject()}}),A.Image.filters.BaseFilter.fromObject=function(t,e){var i=new A.Image.filters[t.type](t);return e&&e(i),i},function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.ColorMatrix=n(i.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(t){this.callSuper("initialize",t),this.matrix=this.matrix.slice(0)},applyTo2d:function(t){var e,i,n,r,o,s=t.imageData.data,a=s.length,l=this.matrix,h=this.colorsOnly;for(o=0;o<a;o+=4)e=s[o],i=s[o+1],n=s[o+2],h?(s[o]=e*l[0]+i*l[1]+n*l[2]+255*l[4],s[o+1]=e*l[5]+i*l[6]+n*l[7]+255*l[9],s[o+2]=e*l[10]+i*l[11]+n*l[12]+255*l[14]):(r=s[o+3],s[o]=e*l[0]+i*l[1]+n*l[2]+r*l[3]+255*l[4],s[o+1]=e*l[5]+i*l[6]+n*l[7]+r*l[8]+255*l[9],s[o+2]=e*l[10]+i*l[11]+n*l[12]+r*l[13]+255*l[14],s[o+3]=e*l[15]+i*l[16]+n*l[17]+r*l[18]+255*l[19])},getUniformLocations:function(t,e){return{uColorMatrix:t.getUniformLocation(e,"uColorMatrix"),uConstants:t.getUniformLocation(e,"uConstants")}},sendUniformData:function(t,e){var i=this.matrix,n=[i[0],i[1],i[2],i[3],i[5],i[6],i[7],i[8],i[10],i[11],i[12],i[13],i[15],i[16],i[17],i[18]],r=[i[4],i[9],i[14],i[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,n),t.uniform4fv(e.uConstants,r)}}),e.Image.filters.ColorMatrix.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Brightness=n(i.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(t){if(0!==this.brightness){var e,i=t.imageData.data,n=i.length,r=Math.round(255*this.brightness);for(e=0;e<n;e+=4)i[e]=i[e]+r,i[e+1]=i[e+1]+r,i[e+2]=i[e+2]+r}},getUniformLocations:function(t,e){return{uBrightness:t.getUniformLocation(e,"uBrightness")}},sendUniformData:function(t,e){t.uniform1f(e.uBrightness,this.brightness)}}),e.Image.filters.Brightness.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.Convolute=r(n.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(t){var e=Math.sqrt(this.matrix.length),i=this.type+"_"+e+"_"+(this.opaque?1:0),n=this.fragmentSource[i];return t.programCache.hasOwnProperty(i)||(t.programCache[i]=this.createProgram(t.context,n)),t.programCache[i]},applyTo2d:function(t){var e,i,n,r,o,s,a,l,h,u,c,d,p,f=t.imageData,m=f.data,g=this.matrix,v=Math.round(Math.sqrt(g.length)),A=Math.floor(v/2),y=f.width,x=f.height,b=t.ctx.createImageData(y,x),C=b.data,w=this.opaque?1:0;for(c=0;c<x;c++)for(u=0;u<y;u++){for(o=4*(c*y+u),e=0,i=0,n=0,r=0,p=0;p<v;p++)for(d=0;d<v;d++)s=u+d-A,(a=c+p-A)<0||a>x||s<0||s>y||(l=4*(a*y+s),h=g[p*v+d],e+=m[l]*h,i+=m[l+1]*h,n+=m[l+2]*h,w||(r+=m[l+3]*h));C[o]=e,C[o+1]=i,C[o+2]=n,C[o+3]=w?m[o+3]:r}t.imageData=b},getUniformLocations:function(t,e){return{uMatrix:t.getUniformLocation(e,"uMatrix"),uOpaque:t.getUniformLocation(e,"uOpaque"),uHalfSize:t.getUniformLocation(e,"uHalfSize"),uSize:t.getUniformLocation(e,"uSize")}},sendUniformData:function(t,e){t.uniform1fv(e.uMatrix,this.matrix)},toObject:function(){return i(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),e.Image.filters.Convolute.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Grayscale=n(i.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(t){var e,i,n=t.imageData.data,r=n.length,o=this.mode;for(e=0;e<r;e+=4)"average"===o?i=(n[e]+n[e+1]+n[e+2])/3:"lightness"===o?i=(Math.min(n[e],n[e+1],n[e+2])+Math.max(n[e],n[e+1],n[e+2]))/2:"luminosity"===o&&(i=.21*n[e]+.72*n[e+1]+.07*n[e+2]),n[e]=i,n[e+1]=i,n[e+2]=i},retrieveShader:function(t){var e=this.type+"_"+this.mode;if(!t.programCache.hasOwnProperty(e)){var i=this.fragmentSource[this.mode];t.programCache[e]=this.createProgram(t.context,i)}return t.programCache[e]},getUniformLocations:function(t,e){return{uMode:t.getUniformLocation(e,"uMode")}},sendUniformData:function(t,e){t.uniform1i(e.uMode,1)},isNeutralState:function(){return!1}}),e.Image.filters.Grayscale.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Invert=n(i.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(t){var e,i=t.imageData.data,n=i.length;for(e=0;e<n;e+=4)i[e]=255-i[e],i[e+1]=255-i[e+1],i[e+2]=255-i[e+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(t,e){return{uInvert:t.getUniformLocation(e,"uInvert")}},sendUniformData:function(t,e){t.uniform1i(e.uInvert,this.invert)}}),e.Image.filters.Invert.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.Noise=r(n.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(t){if(0!==this.noise){var e,i,n=t.imageData.data,r=n.length,o=this.noise;for(e=0,r=n.length;e<r;e+=4)i=(.5-Math.random())*o,n[e]+=i,n[e+1]+=i,n[e+2]+=i}},getUniformLocations:function(t,e){return{uNoise:t.getUniformLocation(e,"uNoise"),uSeed:t.getUniformLocation(e,"uSeed")}},sendUniformData:function(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())},toObject:function(){return i(this.callSuper("toObject"),{noise:this.noise})}}),e.Image.filters.Noise.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Pixelate=n(i.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(t){var e,i,n,r,o,s,a,l,h,u,c,d=t.imageData,p=d.data,f=d.height,m=d.width;for(i=0;i<f;i+=this.blocksize)for(n=0;n<m;n+=this.blocksize)for(r=p[e=4*i*m+4*n],o=p[e+1],s=p[e+2],a=p[e+3],u=Math.min(i+this.blocksize,f),c=Math.min(n+this.blocksize,m),l=i;l<u;l++)for(h=n;h<c;h++)p[e=4*l*m+4*h]=r,p[e+1]=o,p[e+2]=s,p[e+3]=a},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(t,e){return{uBlocksize:t.getUniformLocation(e,"uBlocksize"),uStepW:t.getUniformLocation(e,"uStepW"),uStepH:t.getUniformLocation(e,"uStepH")}},sendUniformData:function(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}),e.Image.filters.Pixelate.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,n=e.Image.filters,r=e.util.createClass;n.RemoveColor=r(n.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(t){var i,n,r,o,s=t.imageData.data,a=255*this.distance,l=new e.Color(this.color).getSource(),h=[l[0]-a,l[1]-a,l[2]-a],u=[l[0]+a,l[1]+a,l[2]+a];for(i=0;i<s.length;i+=4)n=s[i],r=s[i+1],o=s[i+2],n>h[0]&&r>h[1]&&o>h[2]&&n<u[0]&&r<u[1]&&o<u[2]&&(s[i+3]=0)},getUniformLocations:function(t,e){return{uLow:t.getUniformLocation(e,"uLow"),uHigh:t.getUniformLocation(e,"uHigh")}},sendUniformData:function(t,i){var n=new e.Color(this.color).getSource(),r=parseFloat(this.distance),o=[0+n[0]/255-r,0+n[1]/255-r,0+n[2]/255-r,1],s=[n[0]/255+r,n[1]/255+r,n[2]/255+r,1];t.uniform4fv(i.uLow,o),t.uniform4fv(i.uHigh,s)},toObject:function(){return i(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),e.Image.filters.RemoveColor.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass,r={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var o in r)i[o]=n(i.ColorMatrix,{type:o,matrix:r[o],mainParameter:!1,colorsOnly:!0}),e.Image.filters[o].fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric,i=e.Image.filters,n=e.util.createClass;i.BlendColor=n(i.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(t){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[t]+"}\n}"},retrieveShader:function(t){var e,i=this.type+"_"+this.mode;return t.programCache.hasOwnProperty(i)||(e=this.buildSource(this.mode),t.programCache[i]=this.createProgram(t.context,e)),t.programCache[i]},applyTo2d:function(t){var i,n,r,o,s,a,l,h=t.imageData.data,u=h.length,c=1-this.alpha;i=(l=new e.Color(this.color).getSource())[0]*this.alpha,n=l[1]*this.alpha,r=l[2]*this.alpha;for(var d=0;d<u;d+=4)switch(o=h[d],s=h[d+1],a=h[d+2],this.mode){case"multiply":h[d]=o*i/255,h[d+1]=s*n/255,h[d+2]=a*r/255;break;case"screen":h[d]=255-(255-o)*(255-i)/255,h[d+1]=255-(255-s)*(255-n)/255,h[d+2]=255-(255-a)*(255-r)/255;break;case"add":h[d]=o+i,h[d+1]=s+n,h[d+2]=a+r;break;case"diff":case"difference":h[d]=Math.abs(o-i),h[d+1]=Math.abs(s-n),h[d+2]=Math.abs(a-r);break;case"subtract":h[d]=o-i,h[d+1]=s-n,h[d+2]=a-r;break;case"darken":h[d]=Math.min(o,i),h[d+1]=Math.min(s,n),h[d+2]=Math.min(a,r);break;case"lighten":h[d]=Math.max(o,i),h[d+1]=Math.max(s,n),h[d+2]=Math.max(a,r);break;case"overlay":h[d]=i<128?2*o*i/255:255-2*(255-o)*(255-i)/255,h[d+1]=n<128?2*s*n/255:255-2*(255-s)*(255-n)/255,h[d+2]=r<128?2*a*r/255:255-2*(255-a)*(255-r)/255;break;case"exclusion":h[d]=i+o-2*i*o/255,h[d+1]=n+s-2*n*s/255,h[d+2]=r+a-2*r*a/255;break;case"tint":h[d]=i+o*c,h[d+1]=n+s*c,h[d+2]=r+a*c}},getUniformLocations:function(t,e){return{uColor:t.getUniformLocation(e,"uColor")}},sendUniformData:function(t,i){var n=new e.Color(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,t.uniform4fv(i.uColor,n)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendColor.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric,i=e.Image.filters,n=e.util.createClass;i.BlendImage=n(i.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(t){var e=this.type+"_"+this.mode,i=this.fragmentSource[this.mode];return t.programCache.hasOwnProperty(e)||(t.programCache[e]=this.createProgram(t.context,i)),t.programCache[e]},applyToWebGL:function(t){var e=t.context,i=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,i,e.TEXTURE1),this.callSuper("applyToWebGL",t),this.unbindAdditionalTexture(e,e.TEXTURE1)},createTexture:function(t,e){return t.getCachedTexture(e.cacheKey,e._element)},calculateMatrix:function(){var t=this.image,e=t._element.width,i=t._element.height;return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/i,1]},applyTo2d:function(t){var i,n,r,o,s,a,l,h,u,c,d,p=t.imageData,f=t.filterBackend.resources,m=p.data,g=m.length,v=p.width,A=p.height,y=this.image;f.blendImage||(f.blendImage=e.util.createCanvasElement()),c=(u=f.blendImage).getContext("2d"),u.width!==v||u.height!==A?(u.width=v,u.height=A):c.clearRect(0,0,v,A),c.setTransform(y.scaleX,0,0,y.scaleY,y.left,y.top),c.drawImage(y._element,0,0,v,A),d=c.getImageData(0,0,v,A).data;for(var x=0;x<g;x+=4)switch(s=m[x],a=m[x+1],l=m[x+2],h=m[x+3],i=d[x],n=d[x+1],r=d[x+2],o=d[x+3],this.mode){case"multiply":m[x]=s*i/255,m[x+1]=a*n/255,m[x+2]=l*r/255,m[x+3]=h*o/255;break;case"mask":m[x+3]=o}},getUniformLocations:function(t,e){return{uTransformMatrix:t.getUniformLocation(e,"uTransformMatrix"),uImage:t.getUniformLocation(e,"uImage")}},sendUniformData:function(t,e){var i=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,i)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendImage.fromObject=function(t,i){e.Image.fromObject(t.image,function(n){var r=e.util.object.clone(t);r.image=n,i(new e.Image.filters.BlendImage(r))})}}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=Math.pow,n=Math.floor,r=Math.sqrt,o=Math.abs,s=Math.round,a=Math.sin,l=Math.ceil,h=e.Image.filters,u=e.util.createClass;h.Resize=u(h.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(t,e){return{uDelta:t.getUniformLocation(e,"uDelta"),uTaps:t.getUniformLocation(e,"uTaps")}},sendUniformData:function(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)},retrieveShader:function(t){var e=this.getFilterWindow(),i=this.type+"_"+e;if(!t.programCache.hasOwnProperty(i)){var n=this.generateShader(e);t.programCache[i]=this.createProgram(t.context,n)}return t.programCache[i]},getFilterWindow:function(){var t=this.tempScale;return Math.ceil(this.lanczosLobes/t)},getTaps:function(){for(var t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,i=this.getFilterWindow(),n=new Array(i),r=1;r<=i;r++)n[r-1]=t(r*e);return n},generateShader:function(t){for(var e=new Array(t),i=this.fragmentSourceTOP,n=1;n<=t;n++)e[n-1]=n+".0 * uDelta";return i+="uniform float uTaps["+t+"];\n",i+="void main() {\n",i+="  vec4 color = texture2D(uTexture, vTexCoord);\n",i+="  float sum = 1.0;\n",e.forEach(function(t,e){i+="  color += texture2D(uTexture, vTexCoord + "+t+") * uTaps["+e+"];\n",i+="  color += texture2D(uTexture, vTexCoord - "+t+") * uTaps["+e+"];\n",i+="  sum += 2.0 * uTaps["+e+"];\n"}),i+="  gl_FragColor = color / sum;\n",i+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(t){t.webgl?(t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceHeight=t.destinationHeight):this.applyTo2d(t)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(t){return function(e){if(e>=t||e<=-t)return 0;if(e<1.1920929e-7&&e>-1.1920929e-7)return 1;var i=(e*=Math.PI)/t;return a(e)/e*a(i)/i}},applyTo2d:function(t){var e=t.imageData,i=this.scaleX,n=this.scaleY;this.rcpScaleX=1/i,this.rcpScaleY=1/n;var r,o=e.width,a=e.height,l=s(o*i),h=s(a*n);"sliceHack"===this.resizeType?r=this.sliceByTwo(t,o,a,l,h):"hermite"===this.resizeType?r=this.hermiteFastResize(t,o,a,l,h):"bilinear"===this.resizeType?r=this.bilinearFiltering(t,o,a,l,h):"lanczos"===this.resizeType&&(r=this.lanczosResize(t,o,a,l,h)),t.imageData=r},sliceByTwo:function(t,i,r,o,s){var a,l,h=t.imageData,u=!1,c=!1,d=.5*i,p=.5*r,f=e.filterBackend.resources,m=0,g=0,v=i,A=0;for(f.sliceByTwo||(f.sliceByTwo=document.createElement("canvas")),((a=f.sliceByTwo).width<1.5*i||a.height<r)&&(a.width=1.5*i,a.height=r),(l=a.getContext("2d")).clearRect(0,0,1.5*i,r),l.putImageData(h,0,0),o=n(o),s=n(s);!u||!c;)i=d,r=p,o<n(.5*d)?d=n(.5*d):(d=o,u=!0),s<n(.5*p)?p=n(.5*p):(p=s,c=!0),l.drawImage(a,m,g,i,r,v,A,d,p),m=v,g=A,A+=p;return l.getImageData(m,g,o,s)},lanczosResize:function(t,e,s,a,h){var u=t.imageData.data,c=t.ctx.createImageData(a,h),d=c.data,p=this.lanczosCreate(this.lanczosLobes),f=this.rcpScaleX,m=this.rcpScaleY,g=2/this.rcpScaleX,v=2/this.rcpScaleY,A=l(f*this.lanczosLobes/2),y=l(m*this.lanczosLobes/2),x={},b={},C={};return function t(l){var w,E,S,T,_,M,k,B,O,P,L;for(b.x=(l+.5)*f,C.x=n(b.x),w=0;w<h;w++){for(b.y=(w+.5)*m,C.y=n(b.y),_=0,M=0,k=0,B=0,O=0,E=C.x-A;E<=C.x+A;E++)if(!(E<0||E>=e)){P=n(1e3*o(E-b.x)),x[P]||(x[P]={});for(var N=C.y-y;N<=C.y+y;N++)N<0||N>=s||(L=n(1e3*o(N-b.y)),x[P][L]||(x[P][L]=p(r(i(P*g,2)+i(L*v,2))/1e3)),(S=x[P][L])>0&&(_+=S,M+=S*u[T=4*(N*e+E)],k+=S*u[T+1],B+=S*u[T+2],O+=S*u[T+3]))}d[T=4*(w*a+l)]=M/_,d[T+1]=k/_,d[T+2]=B/_,d[T+3]=O/_}return++l<a?t(l):c}(0)},bilinearFiltering:function(t,e,i,r,o){var s,a,l,h,u,c,d,p,f,m=0,g=this.rcpScaleX,v=this.rcpScaleY,A=4*(e-1),y=t.imageData.data,x=t.ctx.createImageData(r,o),b=x.data;for(l=0;l<o;l++)for(h=0;h<r;h++)for(u=g*h-(s=n(g*h)),c=v*l-(a=n(v*l)),f=4*(a*e+s),d=0;d<4;d++)p=y[f+d]*(1-u)*(1-c)+y[f+4+d]*u*(1-c)+y[f+A+d]*c*(1-u)+y[f+A+4+d]*u*c,b[m++]=p;return x},hermiteFastResize:function(t,e,i,s,a){for(var h=this.rcpScaleX,u=this.rcpScaleY,c=l(h/2),d=l(u/2),p=t.imageData.data,f=t.ctx.createImageData(s,a),m=f.data,g=0;g<a;g++)for(var v=0;v<s;v++){for(var A=4*(v+g*s),y=0,x=0,b=0,C=0,w=0,E=0,S=0,T=(g+.5)*u,_=n(g*u);_<(g+1)*u;_++)for(var M=o(T-(_+.5))/d,k=(v+.5)*h,B=M*M,O=n(v*h);O<(v+1)*h;O++){var P=o(k-(O+.5))/c,L=r(B+P*P);L>1&&L<-1||(y=2*L*L*L-3*L*L+1)>0&&(S+=y*p[(P=4*(O+_*e))+3],b+=y,p[P+3]<255&&(y=y*p[P+3]/250),C+=y*p[P],w+=y*p[P+1],E+=y*p[P+2],x+=y)}m[A]=C/x,m[A+1]=w/x,m[A+2]=E/x,m[A+3]=S/b}return f},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),e.Image.filters.Resize.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Contrast=n(i.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(t){if(0!==this.contrast){var e,i=t.imageData.data,n=i.length,r=Math.floor(255*this.contrast),o=259*(r+255)/(255*(259-r));for(e=0;e<n;e+=4)i[e]=o*(i[e]-128)+128,i[e+1]=o*(i[e+1]-128)+128,i[e+2]=o*(i[e+2]-128)+128}},getUniformLocations:function(t,e){return{uContrast:t.getUniformLocation(e,"uContrast")}},sendUniformData:function(t,e){t.uniform1f(e.uContrast,this.contrast)}}),e.Image.filters.Contrast.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Saturation=n(i.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(t){if(0!==this.saturation){var e,i,n=t.imageData.data,r=n.length,o=-this.saturation;for(e=0;e<r;e+=4)i=Math.max(n[e],n[e+1],n[e+2]),n[e]+=i!==n[e]?(i-n[e])*o:0,n[e+1]+=i!==n[e+1]?(i-n[e+1])*o:0,n[e+2]+=i!==n[e+2]?(i-n[e+2])*o:0}},getUniformLocations:function(t,e){return{uSaturation:t.getUniformLocation(e,"uSaturation")}},sendUniformData:function(t,e){t.uniform1f(e.uSaturation,-this.saturation)}}),e.Image.filters.Saturation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Blur=n(i.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(t){t.webgl?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},applyTo2d:function(t){t.imageData=this.simpleBlur(t)},simpleBlur:function(t){var i,n,r=t.filterBackend.resources,o=t.imageData.width,s=t.imageData.height;r.blurLayer1||(r.blurLayer1=e.util.createCanvasElement(),r.blurLayer2=e.util.createCanvasElement()),i=r.blurLayer1,n=r.blurLayer2,i.width===o&&i.height===s||(n.width=i.width=o,n.height=i.height=s);var a,l,h,u,c=i.getContext("2d"),d=n.getContext("2d"),p=.06*this.blur*.5;for(c.putImageData(t.imageData,0,0),d.clearRect(0,0,o,s),u=-15;u<=15;u++)a=(Math.random()-.5)/4,h=p*(l=u/15)*o+a,d.globalAlpha=1-Math.abs(l),d.drawImage(i,h,a),c.drawImage(n,0,0),d.globalAlpha=1,d.clearRect(0,0,n.width,n.height);for(u=-15;u<=15;u++)a=(Math.random()-.5)/4,h=p*(l=u/15)*s+a,d.globalAlpha=1-Math.abs(l),d.drawImage(i,a,h),c.drawImage(n,0,0),d.globalAlpha=1,d.clearRect(0,0,n.width,n.height);t.ctx.drawImage(i,0,0);var f=t.ctx.getImageData(0,0,i.width,i.height);return c.globalAlpha=1,c.clearRect(0,0,i.width,i.height),f},getUniformLocations:function(t,e){return{delta:t.getUniformLocation(e,"uDelta")}},sendUniformData:function(t,e){var i=this.chooseRightDelta();t.uniform2fv(e.delta,i)},chooseRightDelta:function(){var t,e=1,i=[0,0];return this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio),t=e*this.blur*.12,this.horizontal?i[0]=t:i[1]=t,i}}),i.Blur.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Gamma=n(i.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(t){this.gamma=[1,1,1],i.BaseFilter.prototype.initialize.call(this,t)},applyTo2d:function(t){var e,i=t.imageData.data,n=this.gamma,r=i.length,o=1/n[0],s=1/n[1],a=1/n[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),e=0,r=256;e<r;e++)this.rVals[e]=255*Math.pow(e/255,o),this.gVals[e]=255*Math.pow(e/255,s),this.bVals[e]=255*Math.pow(e/255,a);for(e=0,r=i.length;e<r;e+=4)i[e]=this.rVals[i[e]],i[e+1]=this.gVals[i[e+1]],i[e+2]=this.bVals[i[e+2]]},getUniformLocations:function(t,e){return{uGamma:t.getUniformLocation(e,"uGamma")}},sendUniformData:function(t,e){t.uniform3fv(e.uGamma,this.gamma)}}),e.Image.filters.Gamma.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.Composed=n(i.BaseFilter,{type:"Composed",subFilters:[],initialize:function(t){this.callSuper("initialize",t),this.subFilters=this.subFilters.slice(0)},applyTo:function(t){t.passes+=this.subFilters.length-1,this.subFilters.forEach(function(e){e.applyTo(t)})},toObject:function(){return e.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(t){return t.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(t){return!t.isNeutralState()})}}),e.Image.filters.Composed.fromObject=function(t,i){var n=(t.subFilters||[]).map(function(t){return new e.Image.filters[t.type](t)}),r=new e.Image.filters.Composed({subFilters:n});return i&&i(r),r}}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,n=e.util.createClass;i.HueRotation=n(i.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var t=this.rotation*Math.PI,i=e.util.cos(t),n=e.util.sin(t),r=Math.sqrt(1/3)*n,o=1-i;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=i+o/3,this.matrix[1]=1/3*o-r,this.matrix[2]=1/3*o+r,this.matrix[5]=1/3*o+r,this.matrix[6]=i+1/3*o,this.matrix[7]=1/3*o-r,this.matrix[10]=1/3*o-r,this.matrix[11]=1/3*o+r,this.matrix[12]=i+1/3*o},isNeutralState:function(t){return this.calculateMatrix(),i.BaseFilter.prototype.isNeutralState.call(this,t)},applyTo:function(t){this.calculateMatrix(),i.BaseFilter.prototype.applyTo.call(this,t)}}),e.Image.filters.HueRotation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.clone;e.Text?e.warn("fabric.Text is already defined"):(e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:e.Object.prototype.stateProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),cacheProperties:e.Object.prototype.cacheProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),stroke:null,shadow:null,_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(t,e){this.styles=e&&e.styles||{},this.text=t,this.__skipDimension=!0,this.callSuper("initialize",e),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},getMeasuringContext:function(){return e._measuringContext||(e._measuringContext=this.canvas&&this.canvas.contextCache||e.util.createCanvasElement().getContext("2d")),e._measuringContext},_splitText:function(){var t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var t,e,i,n,r,o,s,a=0,l=this._textLines.length;a<l;a++)if(("justify"===this.textAlign||a!==l-1&&!this.isEndOfWrapping(a))&&(n=0,r=this._textLines[a],(e=this.getLineWidth(a))<this.width&&(s=this.textLines[a].match(this._reSpacesAndTabs)))){i=s.length,t=(this.width-e)/i;for(var h=0,u=r.length;h<=u;h++)o=this.__charBounds[a][h],this._reSpaceAndTab.test(r[h])?(o.width+=t,o.kernedWidth+=t,o.left+=n,n+=t):o.left+=n}},isEndOfWrapping:function(t){return t===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var t=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t},_render:function(t){this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")},_renderText:function(t){"stroke"===this.paintFirst?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))},_setTextStyles:function(t,e,i){t.textBaseline="alphabetic",t.font=this._getFontDeclaration(e,i)},calcTextWidth:function(){for(var t=this.getLineWidth(0),e=1,i=this._textLines.length;e<i;e++){var n=this.getLineWidth(e);n>t&&(t=n)}return t},_renderTextLine:function(t,e,i,n,r,o){this._renderChars(t,e,i,n,r,o)},_renderTextLinesBackground:function(t){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var e,i,n,r,o,s,a=0,l=t.fillStyle,h=this._getLeftOffset(),u=this._getTopOffset(),c=0,d=0,p=0,f=this._textLines.length;p<f;p++)if(e=this.getHeightOfLine(p),this.textBackgroundColor||this.styleHas("textBackgroundColor",p)){n=this._textLines[p],i=this._getLineLeftOffset(p),d=0,c=0,r=this.getValueOfPropertyAt(p,0,"textBackgroundColor");for(var m=0,g=n.length;m<g;m++)o=this.__charBounds[p][m],(s=this.getValueOfPropertyAt(p,m,"textBackgroundColor"))!==r?(t.fillStyle=r,r&&t.fillRect(h+i+c,u+a,d,e/this.lineHeight),c=o.left,d=o.width,r=s):d+=o.kernedWidth;s&&(t.fillStyle=s,t.fillRect(h+i+c,u+a,d,e/this.lineHeight)),a+=e}else a+=e;t.fillStyle=l,this._removeShadow(t)}},getFontCache:function(t){var i=t.fontFamily.toLowerCase();e.charWidthsCache[i]||(e.charWidthsCache[i]={});var n=e.charWidthsCache[i],r=t.fontStyle.toLowerCase()+"_"+(t.fontWeight+"").toLowerCase();return n[r]||(n[r]={}),n[r]},_applyCharStyles:function(t,e,i,n,r){this._setFillStyles(e,r),this._setStrokeStyles(e,r),e.font=this._getFontDeclaration(r)},_measureChar:function(t,e,i,n){var r,o,s,a,l=this.getFontCache(e),h=i+t,u=this._getFontDeclaration(e)===this._getFontDeclaration(n),c=e.fontSize/this.CACHE_FONT_SIZE;if(i&&void 0!==l[i]&&(s=l[i]),void 0!==l[t]&&(a=r=l[t]),u&&void 0!==l[h]&&(a=(o=l[h])-s),void 0===r||void 0===s||void 0===o){var d=this.getMeasuringContext();this._setTextStyles(d,e,!0)}return void 0===r&&(a=r=d.measureText(t).width,l[t]=r),void 0===s&&u&&i&&(s=d.measureText(i).width,l[i]=s),u&&void 0===o&&(o=d.measureText(h).width,l[h]=o,a=o-s),{width:r*c,kernedWidth:a*c}},getHeightOfChar:function(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")},measureLine:function(t){var e=this._measureLine(t);return 0!==this.charSpacing&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e},_measureLine:function(t){var e,i,n,r,o=0,s=this._textLines[t],a=new Array(s.length);for(this.__charBounds[t]=a,e=0;e<s.length;e++)i=s[e],r=this._getGraphemeBox(i,t,e,n),a[e]=r,o+=r.kernedWidth,n=i;return a[e]={left:r?r.left+r.width:0,width:0,kernedWidth:0,height:this.fontSize},{width:o,numOfSpaces:0}},_getGraphemeBox:function(t,e,i,n,r){var o,s=this.getCompleteStyleDeclaration(e,i),a=n?this.getCompleteStyleDeclaration(e,i-1):{},l=this._measureChar(t,s,n,a),h=l.kernedWidth,u=l.width;0!==this.charSpacing&&(u+=o=this._getWidthOfCharSpacing(),h+=o);var c={width:u,left:0,height:s.fontSize,kernedWidth:h,deltaY:s.deltaY};if(i>0&&!r){var d=this.__charBounds[e][i-1];c.left=d.left+d.width+l.kernedWidth-l.width}return c},getHeightOfLine:function(t){if(this.__lineHeights[t])return this.__lineHeights[t];for(var e=this._textLines[t],i=this.getHeightOfChar(t,0),n=1,r=e.length;n<r;n++)i=Math.max(this.getHeightOfChar(t,n),i);return this.__lineHeights[t]=i*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var t,e=0,i=0,n=this._textLines.length;i<n;i++)t=this.getHeightOfLine(i),e+=i===n-1?t/this.lineHeight:t;return e},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(t,e){t.save();for(var i=0,n=this._getLeftOffset(),r=this._getTopOffset(),o=this._applyPatternGradientTransform(t,"fillText"===e?this.fill:this.stroke),s=0,a=this._textLines.length;s<a;s++){var l=this.getHeightOfLine(s),h=l/this.lineHeight,u=this._getLineLeftOffset(s);this._renderTextLine(e,t,this._textLines[s],n+u-o.offsetX,r+i+h-o.offsetY,s),i+=l}t.restore()},_renderTextFill:function(t){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(t,"fillText")},_renderTextStroke:function(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())},_renderChars:function(t,e,i,n,r,o){var s,a,l,h,u=this.getHeightOfLine(o),c=-1!==this.textAlign.indexOf("justify"),d="",p=0,f=!c&&0===this.charSpacing&&this.isEmptyStyles(o);if(e.save(),r-=u*this._fontSizeFraction/this.lineHeight,f)return this._renderChar(t,e,o,0,this.textLines[o],n,r,u),void e.restore();for(var m=0,g=i.length-1;m<=g;m++)h=m===g||this.charSpacing,d+=i[m],l=this.__charBounds[o][m],0===p?(n+=l.kernedWidth-l.width,p+=l.width):p+=l.kernedWidth,c&&!h&&this._reSpaceAndTab.test(i[m])&&(h=!0),h||(s=s||this.getCompleteStyleDeclaration(o,m),a=this.getCompleteStyleDeclaration(o,m+1),h=this._hasStyleChanged(s,a)),h&&(this._renderChar(t,e,o,m,d,n,r,u),d="",s=a,n+=p,p=0);e.restore()},_renderChar:function(t,e,i,n,r,o,s){var a=this._getStyleDeclaration(i,n),l=this.getCompleteStyleDeclaration(i,n),h="fillText"===t&&l.fill,u="strokeText"===t&&l.stroke&&l.strokeWidth;(u||h)&&(a&&e.save(),this._applyCharStyles(t,e,i,n,l),a&&a.textBackgroundColor&&this._removeShadow(e),a&&a.deltaY&&(s+=a.deltaY),h&&e.fillText(r,o,s),u&&e.strokeText(r,o,s),a&&e.restore())},setSuperscript:function(t,e){return this._setScript(t,e,this.superscript)},setSubscript:function(t,e){return this._setScript(t,e,this.subscript)},_setScript:function(t,e,i){var n=this.get2DCursorLocation(t,!0),r=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"fontSize"),o=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"deltaY"),s={fontSize:r*i.size,deltaY:o+r*i.baseline};return this.setSelectionStyles(s,t,e),this},_hasStyleChanged:function(t,e){return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.deltaY!==e.deltaY},_hasStyleChangedForSvg:function(t,e){return this._hasStyleChanged(t,e)||t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough},_getLineLeftOffset:function(t){var e=this.getLineWidth(t);return"center"===this.textAlign?(this.width-e)/2:"right"===this.textAlign?this.width-e:"justify-center"===this.textAlign&&this.isEndOfWrapping(t)?(this.width-e)/2:"justify-right"===this.textAlign&&this.isEndOfWrapping(t)?this.width-e:0},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var t=this._forceClearCache;return t||(t=this.hasStateChanged("_dimensionAffectingProps")),t&&(this.dirty=!0,this._forceClearCache=!1),t},getLineWidth:function(t){return this.__lineWidths[t]?this.__lineWidths[t]:(e=""===this._textLines[t]?0:this.measureLine(t).width,this.__lineWidths[t]=e,e);var e},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(t,e,i){var n=this._getStyleDeclaration(t,e);return n&&void 0!==n[i]?n[i]:this[i]},_renderTextDecoration:function(t,e){if(this[e]||this.styleHas(e)){for(var i,n,r,o,s,a,l,h,u,c,d,p,f,m,g,v,A=this._getLeftOffset(),y=this._getTopOffset(),x=this._getWidthOfCharSpacing(),b=0,C=this._textLines.length;b<C;b++)if(i=this.getHeightOfLine(b),this[e]||this.styleHas(e,b)){l=this._textLines[b],m=i/this.lineHeight,o=this._getLineLeftOffset(b),c=0,d=0,h=this.getValueOfPropertyAt(b,0,e),v=this.getValueOfPropertyAt(b,0,"fill"),u=y+m*(1-this._fontSizeFraction),n=this.getHeightOfChar(b,0),s=this.getValueOfPropertyAt(b,0,"deltaY");for(var w=0,E=l.length;w<E;w++)p=this.__charBounds[b][w],f=this.getValueOfPropertyAt(b,w,e),g=this.getValueOfPropertyAt(b,w,"fill"),r=this.getHeightOfChar(b,w),a=this.getValueOfPropertyAt(b,w,"deltaY"),(f!==h||g!==v||r!==n||a!==s)&&d>0?(t.fillStyle=v,h&&v&&t.fillRect(A+o+c,u+this.offsets[e]*n+s,d,this.fontSize/15),c=p.left,d=p.width,h=f,v=g,n=r,s=a):d+=p.kernedWidth;t.fillStyle=g,f&&g&&t.fillRect(A+o+c,u+this.offsets[e]*n+s,d-x,this.fontSize/15),y+=i}else y+=i;this._removeShadow(t)}},_getFontDeclaration:function(t,i){var n=t||this,r=this.fontFamily,o=e.Text.genericFonts.indexOf(r.toLowerCase())>-1,s=void 0===r||r.indexOf("'")>-1||r.indexOf(",")>-1||r.indexOf('"')>-1||o?n.fontFamily:'"'+n.fontFamily+'"';return[e.isLikelyNode?n.fontWeight:n.fontStyle,e.isLikelyNode?n.fontStyle:n.fontWeight,i?this.CACHE_FONT_SIZE+"px":n.fontSize+"px",s].join(" ")},render:function(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",t)))},_splitTextIntoLines:function(t){for(var i=t.split(this._reNewline),n=new Array(i.length),r=["\n"],o=[],s=0;s<i.length;s++)n[s]=e.util.string.graphemeSplit(i[s]),o=o.concat(n[s],r);return o.pop(),{_unwrappedLines:n,lines:i,graphemeText:o,graphemeLines:n}},toObject:function(t){var e=["text","fontSize","fontWeight","fontFamily","fontStyle","lineHeight","underline","overline","linethrough","textAlign","textBackgroundColor","charSpacing"].concat(t),n=this.callSuper("toObject",e);return n.styles=i(this.styles,!0),n},set:function(t,e){this.callSuper("set",t,e);var i=!1;if("object"==typeof t)for(var n in t)i=i||-1!==this._dimensionAffectingProps.indexOf(n);else i=-1!==this._dimensionAffectingProps.indexOf(t);return i&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),e.Text.DEFAULT_SVG_FONT_SIZE=16,e.Text.fromElement=function(t,n,r){if(!t)return n(null);var o=e.parseAttributes(t,e.Text.ATTRIBUTE_NAMES),s=o.textAnchor||"left";if((r=e.util.object.extend(r?i(r):{},o)).top=r.top||0,r.left=r.left||0,o.textDecoration){var a=o.textDecoration;-1!==a.indexOf("underline")&&(r.underline=!0),-1!==a.indexOf("overline")&&(r.overline=!0),-1!==a.indexOf("line-through")&&(r.linethrough=!0),delete r.textDecoration}"dx"in o&&(r.left+=o.dx),"dy"in o&&(r.top+=o.dy),"fontSize"in r||(r.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE);var l="";"textContent"in t?l=t.textContent:"firstChild"in t&&null!==t.firstChild&&"data"in t.firstChild&&null!==t.firstChild.data&&(l=t.firstChild.data),l=l.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var h=r.strokeWidth;r.strokeWidth=0;var u=new e.Text(l,r),c=u.getScaledHeight()/u.height,d=((u.height+u.strokeWidth)*u.lineHeight-u.height)*c,p=u.getScaledHeight()+d,f=0;"center"===s&&(f=u.getScaledWidth()/2),"right"===s&&(f=u.getScaledWidth()),u.set({left:u.left-f,top:u.top-(p-u.fontSize*(.07+u._fontSizeFraction))/u.lineHeight,strokeWidth:void 0!==h?h:1}),n(u)},e.Text.fromObject=function(t,i){return e.Object._fromObject("Text",t,i,"text")},e.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],e.util.createAccessors&&e.util.createAccessors(e.Text))}(e),A.util.object.extend(A.Text.prototype,{isEmptyStyles:function(t){if(!this.styles)return!0;if(void 0!==t&&!this.styles[t])return!0;var e=void 0===t?this.styles:{line:this.styles[t]};for(var i in e)for(var n in e[i])for(var r in e[i][n])return!1;return!0},styleHas:function(t,e){if(!this.styles||!t||""===t)return!1;if(void 0!==e&&!this.styles[e])return!1;var i=void 0===e?this.styles:{0:this.styles[e]};for(var n in i)for(var r in i[n])if(void 0!==i[n][r][t])return!0;return!1},cleanStyle:function(t){if(!this.styles||!t||""===t)return!1;var e,i,n=this.styles,r=0,o=!0,s=0;for(var a in n){for(var l in e=0,n[a]){var h;r++,(h=n[a][l]).hasOwnProperty(t)?(i?h[t]!==i&&(o=!1):i=h[t],h[t]===this[t]&&delete h[t]):o=!1,0!==Object.keys(h).length?e++:delete n[a][l]}0===e&&delete n[a]}for(var u=0;u<this._textLines.length;u++)s+=this._textLines[u].length;o&&r===s&&(this[t]=i,this.removeStyle(t))},removeStyle:function(t){if(this.styles&&t&&""!==t){var e,i,n,r=this.styles;for(i in r){for(n in e=r[i])delete e[n][t],0===Object.keys(e[n]).length&&delete e[n];0===Object.keys(e).length&&delete r[i]}}},_extendStyles:function(t,e){var i=this.get2DCursorLocation(t);this._getLineStyle(i.lineIndex)||this._setLineStyle(i.lineIndex),this._getStyleDeclaration(i.lineIndex,i.charIndex)||this._setStyleDeclaration(i.lineIndex,i.charIndex,{}),A.util.object.extend(this._getStyleDeclaration(i.lineIndex,i.charIndex),e)},get2DCursorLocation:function(t,e){void 0===t&&(t=this.selectionStart);for(var i=e?this._unwrappedTextLines:this._textLines,n=i.length,r=0;r<n;r++){if(t<=i[r].length)return{lineIndex:r,charIndex:t};t-=i[r].length+this.missingNewlineOffset(r)}return{lineIndex:r-1,charIndex:i[r-1].length<t?i[r-1].length:t}},getSelectionStyles:function(t,e,i){void 0===t&&(t=this.selectionStart||0),void 0===e&&(e=this.selectionEnd||t);for(var n=[],r=t;r<e;r++)n.push(this.getStyleAtPosition(r,i));return n},getStyleAtPosition:function(t,e){var i=this.get2DCursorLocation(t);return(e?this.getCompleteStyleDeclaration(i.lineIndex,i.charIndex):this._getStyleDeclaration(i.lineIndex,i.charIndex))||{}},setSelectionStyles:function(t,e,i){void 0===e&&(e=this.selectionStart||0),void 0===i&&(i=this.selectionEnd||e);for(var n=e;n<i;n++)this._extendStyles(n,t);return this._forceClearCache=!0,this},_getStyleDeclaration:function(t,e){var i=this.styles&&this.styles[t];return i?i[e]:null},getCompleteStyleDeclaration:function(t,e){for(var i,n=this._getStyleDeclaration(t,e)||{},r={},o=0;o<this._styleProperties.length;o++)r[i=this._styleProperties[o]]=void 0===n[i]?this[i]:n[i];return r},_setStyleDeclaration:function(t,e,i){this.styles[t][e]=i},_deleteStyleDeclaration:function(t,e){delete this.styles[t][e]},_getLineStyle:function(t){return!!this.styles[t]},_setLineStyle:function(t){this.styles[t]={}},_deleteLineStyle:function(t){delete this.styles[t]}}),function(){function t(t){t.textDecoration&&(t.textDecoration.indexOf("underline")>-1&&(t.underline=!0),t.textDecoration.indexOf("line-through")>-1&&(t.linethrough=!0),t.textDecoration.indexOf("overline")>-1&&(t.overline=!0),delete t.textDecoration)}A.IText=A.util.createClass(A.Text,A.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1e3,cursorDuration:600,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(t,e){this.callSuper("initialize",t,e),this.initBehavior()},setSelectionStart:function(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)},setSelectionEnd:function(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)},_updateAndFire:function(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(t){this.clearContextTop(),this.callSuper("render",t),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(t){this.callSuper("_render",t)},clearContextTop:function(t){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this.canvas.contextTop,i=this.canvas.viewportTransform;e.save(),e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this.transform(e),this.transformMatrix&&e.transform.apply(e,this.transformMatrix),this._clearTextArea(e),t||e.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this._getCursorBoundaries(),e=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(t,e):this.renderSelection(t,e),e.restore()}},_clearTextArea:function(t){var e=this.width+4,i=this.height+4;t.clearRect(-e/2,-i/2,e,i)},_getCursorBoundaries:function(t){void 0===t&&(t=this.selectionStart);var e=this._getLeftOffset(),i=this._getTopOffset(),n=this._getCursorBoundariesOffsets(t);return{left:e,top:i,leftOffset:n.left,topOffset:n.top}},_getCursorBoundariesOffsets:function(t){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var e,i,n,r,o=0,s=0,a=this.get2DCursorLocation(t);n=a.charIndex,i=a.lineIndex;for(var l=0;l<i;l++)o+=this.getHeightOfLine(l);e=this._getLineLeftOffset(i);var h=this.__charBounds[i][n];return h&&(s=h.left),0!==this.charSpacing&&n===this._textLines[i].length&&(s-=this._getWidthOfCharSpacing()),r={top:o,left:e+(s>0?s:0)},this.cursorOffsetCache=r,this.cursorOffsetCache},renderCursor:function(t,e){var i=this.get2DCursorLocation(),n=i.lineIndex,r=i.charIndex>0?i.charIndex-1:0,o=this.getValueOfPropertyAt(n,r,"fontSize"),s=this.scaleX*this.canvas.getZoom(),a=this.cursorWidth/s,l=t.topOffset,h=this.getValueOfPropertyAt(n,r,"deltaY");l+=(1-this._fontSizeFraction)*this.getHeightOfLine(n)/this.lineHeight-o*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(t,e),e.fillStyle=this.getValueOfPropertyAt(n,r,"fill"),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+t.leftOffset-a/2,l+t.top+h,a,o)},renderSelection:function(t,e){for(var i=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,n=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,r=-1!==this.textAlign.indexOf("justify"),o=this.get2DCursorLocation(i),s=this.get2DCursorLocation(n),a=o.lineIndex,l=s.lineIndex,h=o.charIndex<0?0:o.charIndex,u=s.charIndex<0?0:s.charIndex,c=a;c<=l;c++){var d,p=this._getLineLeftOffset(c)||0,f=this.getHeightOfLine(c),m=0,g=0;if(c===a&&(m=this.__charBounds[a][h].left),c>=a&&c<l)g=r&&!this.isEndOfWrapping(c)?this.width:this.getLineWidth(c)||5;else if(c===l)if(0===u)g=this.__charBounds[l][u].left;else{var v=this._getWidthOfCharSpacing();g=this.__charBounds[l][u-1].left+this.__charBounds[l][u-1].width-v}d=f,(this.lineHeight<1||c===l&&this.lineHeight>1)&&(f/=this.lineHeight),this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",e.fillRect(t.left+p+m,t.top+t.topOffset+f,g-m,1)):(e.fillStyle=this.selectionColor,e.fillRect(t.left+p+m,t.top+t.topOffset,g-m,f)),t.topOffset+=d}},getCurrentCharFontSize:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")},getCurrentCharColor:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fill")},_getCurrentCharIndex:function(){var t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}}),A.IText.fromObject=function(e,i){if(t(e),e.styles)for(var n in e.styles)for(var r in e.styles[n])t(e.styles[n][r]);A.Object._fromObject("IText",e,i,"text")}}(),m=A.util.object.clone,A.util.object.extend(A.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var t=this;this.on("added",function(){var e=t.canvas;e&&(e._hasITextHandlers||(e._hasITextHandlers=!0,t._initCanvasHandlers(e)),e._iTextInstances=e._iTextInstances||[],e._iTextInstances.push(t))})},initRemovedHandler:function(){var t=this;this.on("removed",function(){var e=t.canvas;e&&(e._iTextInstances=e._iTextInstances||[],A.util.removeFromArray(e._iTextInstances,t),0===e._iTextInstances.length&&(e._hasITextHandlers=!1,t._removeCanvasHandlers(e)))})},_initCanvasHandlers:function(t){t._mouseUpITextHandler=function(){t._iTextInstances&&t._iTextInstances.forEach(function(t){t.__isMousedown=!1})},t.on("mouse:up",t._mouseUpITextHandler)},_removeCanvasHandlers:function(t){t.off("mouse:up",t._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(t,e,i,n){var r;return r={isAborted:!1,abort:function(){this.isAborted=!0}},t.animate("_currentCursorOpacity",e,{duration:i,onComplete:function(){r.isAborted||t[n]()},onChange:function(){t.canvas&&t.selectionStart===t.selectionEnd&&t.renderCursorOrSelection()},abort:function(){return r.isAborted}}),r},_onTickComplete:function(){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){t._currentTickCompleteState=t._animateCursor(t,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(t){var e=this,i=t?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){e._tick()},i)},abortCursorAnimation:function(){var t=this._currentTickState||this._currentTickCompleteState,e=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,t&&e&&e.clearContext(e.contextTop||e.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(t){var e=0,i=t-1;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i--;for(;/\S/.test(this._text[i])&&i>-1;)e++,i--;return t-e},findWordBoundaryRight:function(t){var e=0,i=t;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i++;for(;/\S/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e},findLineBoundaryLeft:function(t){for(var e=0,i=t-1;!/\n/.test(this._text[i])&&i>-1;)e++,i--;return t-e},findLineBoundaryRight:function(t){for(var e=0,i=t;!/\n/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e},searchWordBoundary:function(t,e){for(var i=this._reSpace.test(this._text[t])?t-1:t,n=this._text[i],r=/[ \n\.,;!\?\-]/;!r.test(n)&&i>0&&i<this._text.length;)i+=e,n=this._text[i];return r.test(n)&&"\n"!==n&&(i+=1===e?0:1),i},selectWord:function(t){t=t||this.selectionStart;var e=this.searchWordBoundary(t,-1),i=this.searchWordBoundary(t,1);this.selectionStart=e,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(t){t=t||this.selectionStart;var e=this.findLineBoundaryLeft(t),i=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(t){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(t),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(t){t._iTextInstances&&t._iTextInstances.forEach(function(t){t.selected=!1,t.isEditing&&t.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(t){if(this.__isMousedown&&this.isEditing){var e=this.getSelectionStartFromPointer(t.e),i=this.selectionStart,n=this.selectionEnd;(e===this.__selectionStartOnMouseDown&&i!==n||i!==e&&n!==e)&&(e>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=e):(this.selectionStart=e,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===i&&this.selectionEnd===n||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(t,e,i){var n=i.slice(0,t),r=A.util.string.graphemeSplit(n).length;if(t===e)return{selectionStart:r,selectionEnd:r};var o=i.slice(t,e);return{selectionStart:r,selectionEnd:r+A.util.string.graphemeSplit(o).length}},fromGraphemeToStringSelection:function(t,e,i){var n=i.slice(0,t).join("").length;return t===e?{selectionStart:n,selectionEnd:n}:{selectionStart:n,selectionEnd:n+i.slice(t,e).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var t=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),i=this.get2DCursorLocation(t),n=i.lineIndex,r=i.charIndex,o=this.getValueOfPropertyAt(n,r,"fontSize")*this.lineHeight,s=e.leftOffset,a=this.calcTransformMatrix(),l={x:e.left+s,y:e.top+e.topOffset+o},h=this.canvas.upperCanvasEl,u=h.width,c=h.height,d=u-o,p=c-o,f=h.clientWidth/u,m=h.clientHeight/c;return l=A.util.transformPoint(l,a),(l=A.util.transformPoint(l,this.canvas.viewportTransform)).x*=f,l.y*=m,l.x<0&&(l.x=0),l.x>d&&(l.x=d),l.y<0&&(l.y=0),l.y>p&&(l.y=p),l.x+=this.canvas._offset.left,l.y+=this.canvas._offset.top,{left:l.x+"px",top:l.y+"px",fontSize:o+"px",charHeight:o}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var t=this._textBeforeEdit!==this.text;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,this.hiddenTextarea&&(this.hiddenTextarea.blur&&this.hiddenTextarea.blur(),this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),this.hiddenTextarea=null),this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),t&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]},removeStyleFromTo:function(t,e){var i,n,r=this.get2DCursorLocation(t,!0),o=this.get2DCursorLocation(e,!0),s=r.lineIndex,a=r.charIndex,l=o.lineIndex,h=o.charIndex;if(s!==l){if(this.styles[s])for(i=a;i<this._unwrappedTextLines[s].length;i++)delete this.styles[s][i];if(this.styles[l])for(i=h;i<this._unwrappedTextLines[l].length;i++)(n=this.styles[l][i])&&(this.styles[s]||(this.styles[s]={}),this.styles[s][a+i-h]=n);for(i=s+1;i<=l;i++)delete this.styles[i];this.shiftLineStyles(l,s-l)}else if(this.styles[s]){n=this.styles[s];var u,c,d=h-a;for(i=a;i<h;i++)delete n[i];for(c in this.styles[s])(u=parseInt(c,10))>=h&&(n[u-d]=n[c],delete n[c])}},shiftLineStyles:function(t,e){var i=m(this.styles);for(var n in this.styles){var r=parseInt(n,10);r>t&&(this.styles[r+e]=i[r],i[r-e]||delete this.styles[r])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(t,e,i,n){var r,o={},s=!1;for(var a in i||(i=1),this.shiftLineStyles(t,i),this.styles[t]&&(r=this.styles[t][0===e?e:e-1]),this.styles[t]){var l=parseInt(a,10);l>=e&&(s=!0,o[l-e]=this.styles[t][a],delete this.styles[t][a])}for(s?this.styles[t+i]=o:delete this.styles[t+i];i>1;)i--,n&&n[i]?this.styles[t+i]={0:m(n[i])}:r?this.styles[t+i]={0:m(r)}:delete this.styles[t+i];this._forceClearCache=!0},insertCharStyleObject:function(t,e,i,n){this.styles||(this.styles={});var r=this.styles[t],o=r?m(r):{};for(var s in i||(i=1),o){var a=parseInt(s,10);a>=e&&(r[a+i]=o[a],o[a-i]||delete r[a])}if(this._forceClearCache=!0,n)for(;i--;)Object.keys(n[i]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][e+i]=m(n[i]));else if(r)for(var l=r[e?e-1:1];l&&i--;)this.styles[t][e+i]=m(l)},insertNewStyleBlock:function(t,e,i){for(var n=this.get2DCursorLocation(e,!0),r=[0],o=0,s=0;s<t.length;s++)"\n"===t[s]?r[++o]=0:r[o]++;for(r[0]>0&&(this.insertCharStyleObject(n.lineIndex,n.charIndex,r[0],i),i=i&&i.slice(r[0]+1)),o&&this.insertNewlineStyleObject(n.lineIndex,n.charIndex+r[0],o),s=1;s<o;s++)r[s]>0?this.insertCharStyleObject(n.lineIndex+s,0,r[s],i):i&&(this.styles[n.lineIndex+s][0]=i[0]),i=i&&i.slice(r[s]+1);r[s]>0&&this.insertCharStyleObject(n.lineIndex+s,0,r[s],i)},setSelectionStartEndWithShift:function(t,e,i){i<=t?(e===t?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=t),this.selectionStart=i):i>t&&i<e?"right"===this._selectionDirection?this.selectionEnd=i:this.selectionStart=i:(e===t?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=e),this.selectionEnd=i)},setSelectionInBoundaries:function(){var t=this.text.length;this.selectionStart>t?this.selectionStart=t:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>t?this.selectionEnd=t:this.selectionEnd<0&&(this.selectionEnd=0)}}),A.util.object.extend(A.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(t){if(this.canvas){this.__newClickTime=+new Date;var e=t.pointer;this.isTripleClick(e)&&(this.fire("tripleclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},initClicks:function(){this.on("mousedblclick",function(t){this.selectWord(this.getSelectionStartFromPointer(t.e))}),this.on("tripleclick",function(t){this.selectLine(this.getSelectionStartFromPointer(t.e))})},_mouseDownHandler:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.__isMousedown=!0,this.selected&&this.setCursorByClick(t.e),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||this===this.canvas._activeObject&&(this.selected=!0)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(t){if(this.__isMousedown=!1,!(!this.editable||this.group||t.transform&&t.transform.actionPerformed||t.e.button&&1!==t.e.button)){if(this.canvas){var e=this.canvas._activeObject;if(e&&e!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(t.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t),i=this.selectionStart,n=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(i,n,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(t){for(var e=this.getLocalPointer(t),i=0,n=0,r=0,o=0,s=0,a=0,l=this._textLines.length;a<l&&r<=e.y;a++)r+=this.getHeightOfLine(a)*this.scaleY,s=a,a>0&&(o+=this._textLines[a-1].length+this.missingNewlineOffset(a-1));n=this._getLineLeftOffset(s)*this.scaleX;for(var h=0,u=this._textLines[s].length;h<u&&(i=n,(n+=this.__charBounds[s][h].kernedWidth*this.scaleX)<=e.x);h++)o++;return this._getNewSelectionStartFromOffset(e,i,n,o,u)},_getNewSelectionStartFromOffset:function(t,e,i,n,r){var o=t.x-e,s=i-t.x,a=n+(s>o||s<0?0:1);return this.flipX&&(a=r-a),a>this._text.length&&(a=this._text.length),a}}),A.util.object.extend(A.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=A.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var t=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+t.top+"; left: "+t.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; paddingtop: "+t.fontSize+";",A.document.body.appendChild(this.hiddenTextarea),A.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),A.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),A.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),A.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),A.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),A.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),A.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),A.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),A.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(A.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(t){if(this.isEditing&&!this.inCompositionMode){if(t.keyCode in this.keysMap)this[this.keysMap[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown&&(t.ctrlKey||t.metaKey)))return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(t){var e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),this.isEditing){var i,n,r=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,o=this._text.length,s=r.length,a=s-o;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var l=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),h=this.selectionStart>l.selectionStart;this.selectionStart!==this.selectionEnd?(i=this._text.slice(this.selectionStart,this.selectionEnd),a+=this.selectionEnd-this.selectionStart):s<o&&(i=h?this._text.slice(this.selectionEnd+a,this.selectionEnd):this._text.slice(this.selectionStart,this.selectionStart-a)),n=r.slice(l.selectionEnd-a,l.selectionEnd),i&&i.length&&(this.selectionStart!==this.selectionEnd?this.removeStyleFromTo(this.selectionStart,this.selectionEnd):h?this.removeStyleFromTo(this.selectionEnd-i.length,this.selectionEnd):this.removeStyleFromTo(this.selectionEnd,this.selectionEnd+i.length)),n.length&&(e&&n.join("")===A.copiedText&&!A.disableStyleCopyPaste?this.insertNewStyleBlock(n,this.selectionStart,A.copiedTextStyle):this.insertNewStyleBlock(n,this.selectionStart)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(t){this.compositionStart=t.target.selectionStart,this.compositionEnd=t.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(A.copiedText=this.getSelectedText(),A.disableStyleCopyPaste?A.copiedTextStyle=null:A.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(t){return t&&t.clipboardData||A.window.clipboardData},_getWidthBeforeCursor:function(t,e){var i,n=this._getLineLeftOffset(t);return e>0&&(n+=(i=this.__charBounds[t][e-1]).left+i.width),n},getDownCursorOffset:function(t,e){var i=this._getSelectionForOffset(t,e),n=this.get2DCursorLocation(i),r=n.lineIndex;if(r===this._textLines.length-1||t.metaKey||34===t.keyCode)return this._text.length-i;var o=n.charIndex,s=this._getWidthBeforeCursor(r,o),a=this._getIndexOnLine(r+1,s);return this._textLines[r].slice(o).length+a+1+this.missingNewlineOffset(r)},_getSelectionForOffset:function(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(t,e){var i=this._getSelectionForOffset(t,e),n=this.get2DCursorLocation(i),r=n.lineIndex;if(0===r||t.metaKey||33===t.keyCode)return-i;var o=n.charIndex,s=this._getWidthBeforeCursor(r,o),a=this._getIndexOnLine(r-1,s),l=this._textLines[r].slice(0,o),h=this.missingNewlineOffset(r-1);return-this._textLines[r-1].length+a-l.length+(1-h)},_getIndexOnLine:function(t,e){for(var i,n,r=this._textLines[t],o=this._getLineLeftOffset(t),s=0,a=0,l=r.length;a<l;a++)if((o+=i=this.__charBounds[t][a].width)>e){n=!0;var h=o-i,u=o,c=Math.abs(h-e);s=Math.abs(u-e)<c?a:a-1;break}return n||(s=r.length-1),s},moveCursorDown:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)},moveCursorUp:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",t)},_moveCursorUpOrDown:function(t,e){var i=this["get"+t+"CursorOffset"](e,"right"===this._selectionDirection);e.shiftKey?this.moveCursorWithShift(i):this.moveCursorWithoutShift(i),0!==i&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(t){var e="left"===this._selectionDirection?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),0!==t},moveCursorWithoutShift:function(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t},moveCursorLeft:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",t)},_move:function(t,e,i){var n;if(t.altKey)n=this["findWordBoundary"+i](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+="Left"===i?-1:1,!0;n=this["findLineBoundary"+i](this[e])}if(void 0!==typeof n&&this[e]!==n)return this[e]=n,!0},_moveLeft:function(t,e){return this._move(t,e,"Left")},_moveRight:function(t,e){return this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){var e=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e},moveCursorLeftWithShift:function(t){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(t,"selectionStart")):void 0},moveCursorRight:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)},_moveCursorLeftOrRight:function(t,e){var i="moveCursor"+t+"With";this._currentCursorOpacity=1,e.shiftKey?i+="Shift":i+="outShift",this[i](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(t){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(t,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(t){var e=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e},removeChars:function(t,e){void 0===e&&(e=t+1),this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(t,e,i,n){void 0===n&&(n=i),n>i&&this.removeStyleFromTo(i,n);var r=A.util.string.graphemeSplit(t);this.insertNewStyleBlock(r,i,e),this._text=[].concat(this._text.slice(0,i),r,this._text.slice(n)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),g=A.util.toFixed,v=/  +/g,A.util.object.extend(A.Text.prototype,{_toSVG:function(){var t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(t){var e=this.getSvgTextDecoration(this);return[t.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",e?'text-decoration="'+e+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",t.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(t,e){var i,n=[],r=[],o=t;this._setSVGBg(r);for(var s=0,a=this._textLines.length;s<a;s++)i=this._getLineLeftOffset(s),(this.textBackgroundColor||this.styleHas("textBackgroundColor",s))&&this._setSVGTextLineBg(r,s,e+i,o),this._setSVGTextLineText(n,s,e+i,o),o+=this.getHeightOfLine(s);return{textSpans:n,textBgRects:r}},_createTextCharSpan:function(t,e,i,n){var r=t!==t.trim()||t.match(v),o=this.getSvgSpanStyles(e,r),s=o?'style="'+o+'"':"",a=e.deltaY,l="",h=A.Object.NUM_FRACTION_DIGITS;return a&&(l=' dy="'+g(a,h)+'" '),['<tspan x="',g(i,h),'" y="',g(n,h),'" ',l,s,">",A.util.string.escapeXml(t),"</tspan>"].join("")},_setSVGTextLineText:function(t,e,i,n){var r,o,s,a,l,h=this.getHeightOfLine(e),u=-1!==this.textAlign.indexOf("justify"),c="",d=0,p=this._textLines[e];n+=h*(1-this._fontSizeFraction)/this.lineHeight;for(var f=0,m=p.length-1;f<=m;f++)l=f===m||this.charSpacing,c+=p[f],s=this.__charBounds[e][f],0===d?(i+=s.kernedWidth-s.width,d+=s.width):d+=s.kernedWidth,u&&!l&&this._reSpaceAndTab.test(p[f])&&(l=!0),l||(r=r||this.getCompleteStyleDeclaration(e,f),o=this.getCompleteStyleDeclaration(e,f+1),l=this._hasStyleChangedForSvg(r,o)),l&&(a=this._getStyleDeclaration(e,f)||{},t.push(this._createTextCharSpan(c,a,i,n)),c="",r=o,i+=d,d=0)},_pushTextBgRect:function(t,e,i,n,r,o){var s=A.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(e),' x="',g(i,s),'" y="',g(n,s),'" width="',g(r,s),'" height="',g(o,s),'"></rect>\n')},_setSVGTextLineBg:function(t,e,i,n){for(var r,o,s=this._textLines[e],a=this.getHeightOfLine(e)/this.lineHeight,l=0,h=0,u=this.getValueOfPropertyAt(e,0,"textBackgroundColor"),c=0,d=s.length;c<d;c++)r=this.__charBounds[e][c],(o=this.getValueOfPropertyAt(e,c,"textBackgroundColor"))!==u?(u&&this._pushTextBgRect(t,u,i+h,n,l,a),h=r.left,l=r.width,u=o):l+=r.kernedWidth;o&&this._pushTextBgRect(t,o,i+h,n,l,a)},_getFillAttributes:function(t){var e=t&&"string"==typeof t?new A.Color(t):"";return e&&e.getSource()&&1!==e.getAlpha()?'opacity="'+e.getAlpha()+'" fill="'+e.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_getSVGLineTopOffset:function(t){for(var e,i=0,n=0;n<t;n++)i+=this.getHeightOfLine(n);return e=this.getHeightOfLine(n),{lineTop:i,offset:(this._fontSizeMult-this._fontSizeFraction)*e/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(t){return A.Object.prototype.getSvgStyles.call(this,t)+" white-space: pre;"}}),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Textbox=e.util.createClass(e.IText,e.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:e.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(t){for(var e=0,i=0,n=0,r={},o=0;o<t.graphemeLines.length;o++)"\n"===t.graphemeText[n]&&o>0?(i=0,n++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[n])&&o>0&&(i++,n++),r[o]={line:e,offset:i},n+=t.graphemeLines[o].length,i+=t.graphemeLines[o].length;return r},styleHas:function(t,i){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[i];n&&(i=n.line)}return e.Text.prototype.styleHas.call(this,t,i)},isEmptyStyles:function(t){var e,i,n=0,r=!1,o=this._styleMap[t],s=this._styleMap[t+1];for(var a in o&&(t=o.line,n=o.offset),s&&(r=s.line===t,e=s.offset),i=void 0===t?this.styles:{line:this.styles[t]})for(var l in i[a])if(l>=n&&(!r||l<e))for(var h in i[a][l])return!1;return!0},_getStyleDeclaration:function(t,e){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[t];if(!i)return null;t=i.line,e=i.offset+e}return this.callSuper("_getStyleDeclaration",t,e)},_setStyleDeclaration:function(t,e,i){var n=this._styleMap[t];t=n.line,e=n.offset+e,this.styles[t][e]=i},_deleteStyleDeclaration:function(t,e){var i=this._styleMap[t];t=i.line,e=i.offset+e,delete this.styles[t][e]},_getLineStyle:function(t){var e=this._styleMap[t];return!!this.styles[e.line]},_setLineStyle:function(t){var e=this._styleMap[t];this.styles[e.line]={}},_wrapText:function(t,e){var i,n=[];for(this.isWrapping=!0,i=0;i<t.length;i++)n=n.concat(this._wrapLine(t[i],i,e));return this.isWrapping=!1,n},_measureWord:function(t,e,i){var n,r=0;i=i||0;for(var o=0,s=t.length;o<s;o++){r+=this._getGraphemeBox(t[o],e,o+i,n,!0).kernedWidth,n=t[o]}return r},_wrapLine:function(t,i,n,r){var o=0,s=this.splitByGrapheme,a=[],l=[],h=s?e.util.string.graphemeSplit(t):t.split(this._wordJoiners),u="",c=0,d=s?"":" ",p=0,f=0,m=0,g=!0,v=s?0:this._getWidthOfCharSpacing();r=r||0;0===h.length&&h.push([]),n-=r;for(var A=0;A<h.length;A++)u=s?h[A]:e.util.string.graphemeSplit(h[A]),p=this._measureWord(u,i,c),c+=u.length,(o+=f+p-v)>=n&&!g?(a.push(l),l=[],o=p,g=!0):o+=v,g||s||l.push(d),l=l.concat(u),f=this._measureWord([d],i,c),c++,g=!1,p>m&&(m=p);return A&&a.push(l),m+r>this.dynamicMinWidth&&(this.dynamicMinWidth=m-v+r),a},isEndOfWrapping:function(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line},missingNewlineOffset:function(t){return this.splitByGrapheme?this.isEndOfWrapping(t)?1:0:1},_splitTextIntoLines:function(t){for(var i=e.Text.prototype._splitTextIntoLines.call(this,t),n=this._wrapText(i.lines,this.width),r=new Array(n.length),o=0;o<n.length;o++)r[o]=n[o].join("");return i.lines=r,i.graphemeLines=n,i},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var t={};for(var e in this._styleMap)this._textLines[e]&&(t[this._styleMap[e].line]=1);for(var e in this.styles)t[e]||delete this.styles[e]},toObject:function(t){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(t))}}),e.Textbox.fromObject=function(t,i){return e.Object._fromObject("Textbox",t,i,"text")}}(e)}).call(e,i("EuP9").Buffer)},uY1a:function(t,e){t.exports=function(t,e,i,n){var r,o=0;return"boolean"!=typeof e&&(n=i,i=e,e=void 0),function(){var s=this,a=Number(new Date)-o,l=arguments;function h(){o=Number(new Date),i.apply(s,l)}n&&!r&&h(),r&&clearTimeout(r),void 0===n&&a>t?h():!0!==e&&(r=setTimeout(n?function(){r=void 0}:h,void 0===n?t-a:t))}}},ujcs:function(t,e){e.read=function(t,e,i,n,r){var o,s,a=8*r-n-1,l=(1<<a)-1,h=l>>1,u=-7,c=i?r-1:0,d=i?-1:1,p=t[e+c];for(c+=d,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=256*o+t[e+c],c+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=n;u>0;s=256*s+t[e+c],c+=d,u-=8);if(0===o)o=1-h;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=h}return(p?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,i,n,r,o){var s,a,l,h=8*o-r-1,u=(1<<h)-1,c=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,f=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+c>=1?d/l:d*Math.pow(2,1-c))*l>=2&&(s++,l/=2),s+c>=u?(a=0,s=u):s+c>=1?(a=(e*l-1)*Math.pow(2,r),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,r),s=0));r>=8;t[i+p]=255&a,p+=f,a/=256,r-=8);for(s=s<<r|a,h+=r;h>0;t[i+p]=255&s,p+=f,s/=256,h-=8);t[i+p-f]|=128*m}},urW8:function(t,e,i){"use strict";e.__esModule=!0,e.i18n=e.use=e.t=void 0;var n=s(i("Vi3T")),r=s(i("7+uW")),o=s(i("i3rX"));function s(t){return t&&t.__esModule?t:{default:t}}var a=(0,s(i("SvnF")).default)(r.default),l=n.default,h=!1,u=function(){var t=Object.getPrototypeOf(this||r.default).$t;if("function"==typeof t&&r.default.locale)return h||(h=!0,r.default.locale(r.default.config.lang,(0,o.default)(l,r.default.locale(r.default.config.lang)||{},{clone:!0}))),t.apply(this,arguments)},c=e.t=function(t,e){var i=u.apply(this,arguments);if(null!==i&&void 0!==i)return i;for(var n=t.split("."),r=l,o=0,s=n.length;o<s;o++){if(i=r[n[o]],o===s-1)return a(i,e);if(!i)return"";r=i}return""},d=e.use=function(t){l=t||l},p=e.i18n=function(t){u=t||u};e.default={use:d,t:c,i18n:p}},"vFc/":function(t,e,i){var n=i("TcQ7"),r=i("QRG4"),o=i("fkB2");t.exports=function(t){return function(e,i,s){var a,l=n(e),h=r(l.length),u=o(s,h);if(t&&i!=i){for(;h>u;)if((a=l[u++])!=a)return!0}else for(;h>u;u++)if((t||u in l)&&l[u]===i)return t||u||0;return!t&&-1}}},"vIB/":function(t,e,i){"use strict";var n=i("O4g8"),r=i("kM2E"),o=i("880/"),s=i("hJx8"),a=i("/bQp"),l=i("94VQ"),h=i("e6n0"),u=i("PzxK"),c=i("dSzd")("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,i,f,m,g,v){l(i,e,f);var A,y,x,b=function(t){if(!d&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},C=e+" Iterator",w="values"==m,E=!1,S=t.prototype,T=S[c]||S["@@iterator"]||m&&S[m],_=T||b(m),M=m?w?b("entries"):_:void 0,k="Array"==e&&S.entries||T;if(k&&(x=u(k.call(new t)))!==Object.prototype&&x.next&&(h(x,C,!0),n||"function"==typeof x[c]||s(x,c,p)),w&&T&&"values"!==T.name&&(E=!0,_=function(){return T.call(this)}),n&&!v||!d&&!E&&S[c]||s(S,c,_),a[e]=_,a[C]=p,m)if(A={values:w?_:b("values"),keys:g?_:b("keys"),entries:M},v)for(y in A)y in S||o(S,y,A[y]);else r(r.P+r.F*(d||E),e,A);return A}},woOf:function(t,e,i){t.exports={default:i("V3tA"),__esModule:!0}},xGkn:function(t,e,i){"use strict";var n=i("4mcu"),r=i("EGZi"),o=i("/bQp"),s=i("TcQ7");t.exports=i("vIB/")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},xnc9:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"y+7x":function(t,e,i){"use strict";e.__esModule=!0;var n=i("urW8");e.default={methods:{t:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.t.apply(this,e)}}}},ylDJ:function(t,e,i){"use strict";e.__esModule=!0,e.isEmpty=e.isEqual=e.arrayEquals=e.looseEqual=e.capitalize=e.kebabCase=e.autoprefixer=e.isFirefox=e.isEdge=e.isIE=e.coerceTruthyValueToArray=e.arrayFind=e.arrayFindIndex=e.escapeRegexpString=e.valueEquals=e.generateId=e.getValueByPath=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.noop=function(){},e.hasOwn=function(t,e){return l.call(t,e)},e.toObject=function(t){for(var e={},i=0;i<t.length;i++)t[i]&&h(e,t[i]);return e},e.getPropByPath=function(t,e,i){for(var n=t,r=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),o=0,s=r.length;o<s-1&&(n||i);++o){var a=r[o];if(!(a in n)){if(i)throw new Error("please transfer a valid prop path to form item!");break}n=n[a]}return{o:n,k:r[o],v:n?n[r[o]]:null}},e.rafThrottle=function(t){var e=!1;return function(){for(var i=this,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];e||(e=!0,window.requestAnimationFrame(function(n){t.apply(i,r),e=!1}))}},e.objToArray=function(t){if(Array.isArray(t))return t;return p(t)?[]:[t]};var r,o=i("7+uW"),s=(r=o)&&r.__esModule?r:{default:r},a=i("835U");var l=Object.prototype.hasOwnProperty;function h(t,e){for(var i in e)t[i]=e[i];return t}e.getValueByPath=function(t,e){for(var i=(e=e||"").split("."),n=t,r=null,o=0,s=i.length;o<s;o++){var a=i[o];if(!n)break;if(o===s-1){r=n[a];break}n=n[a]}return r};e.generateId=function(){return Math.floor(1e4*Math.random())},e.valueEquals=function(t,e){if(t===e)return!0;if(!(t instanceof Array))return!1;if(!(e instanceof Array))return!1;if(t.length!==e.length)return!1;for(var i=0;i!==t.length;++i)if(t[i]!==e[i])return!1;return!0},e.escapeRegexpString=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(t).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};var u=e.arrayFindIndex=function(t,e){for(var i=0;i!==t.length;++i)if(e(t[i]))return i;return-1},c=(e.arrayFind=function(t,e){var i=u(t,e);return-1!==i?t[i]:void 0},e.coerceTruthyValueToArray=function(t){return Array.isArray(t)?t:t?[t]:[]},e.isIE=function(){return!s.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},e.isEdge=function(){return!s.default.prototype.$isServer&&navigator.userAgent.indexOf("Edge")>-1},e.isFirefox=function(){return!s.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},e.autoprefixer=function(t){if("object"!==(void 0===t?"undefined":n(t)))return t;var e=["ms-","webkit-"];return["transform","transition","animation"].forEach(function(i){var n=t[i];i&&n&&e.forEach(function(e){t[e+i]=n})}),t},e.kebabCase=function(t){var e=/([^-])([A-Z])/g;return t.replace(e,"$1-$2").replace(e,"$1-$2").toLowerCase()},e.capitalize=function(t){return(0,a.isString)(t)?t.charAt(0).toUpperCase()+t.slice(1):t},e.looseEqual=function(t,e){var i=(0,a.isObject)(t),n=(0,a.isObject)(e);return i&&n?JSON.stringify(t)===JSON.stringify(e):!i&&!n&&String(t)===String(e)}),d=e.arrayEquals=function(t,e){if(t=t||[],e=e||[],t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!c(t[i],e[i]))return!1;return!0},p=(e.isEqual=function(t,e){return Array.isArray(t)&&Array.isArray(e)?d(t,e):c(t,e)},e.isEmpty=function(t){if(null==t)return!0;if("boolean"==typeof t)return!1;if("number"==typeof t)return!t;if(t instanceof Error)return""===t.message;switch(Object.prototype.toString.call(t)){case"[object String]":case"[object Array]":return!t.length;case"[object File]":case"[object Map]":case"[object Set]":return!t.size;case"[object Object]":return!Object.keys(t).length}return!1})},"z+gd":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var i=-1;return t.some(function(t,n){return t[0]===e&&(i=n,!0)}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var i=t(this.__entries__,e),n=this.__entries__[i];return n&&n[1]},e.prototype.set=function(e,i){var n=t(this.__entries__,e);~n?this.__entries__[n][1]=i:this.__entries__.push([e,i])},e.prototype.delete=function(e){var i=this.__entries__,n=t(i,e);~n&&i.splice(n,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var i=0,n=this.__entries__;i<n.length;i++){var r=n[i];t.call(e,r[1],r[0])}},e}()}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},s=2;var a=20,l=["top","right","bottom","left","width","height","size","weight"],h="undefined"!=typeof MutationObserver,u=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var i=!1,n=!1,r=0;function a(){i&&(i=!1,t()),n&&h()}function l(){o(a)}function h(){var t=Date.now();if(i){if(t-r<s)return;n=!0}else i=!0,n=!1,setTimeout(l,e);r=t}return h}(this.refresh.bind(this),a)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,i=e.indexOf(t);~i&&e.splice(i,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),h?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,i=void 0===e?"":e;l.some(function(t){return!!~i.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),c=function(t,e){for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},d=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||r},p=y(0,0,0,0);function f(t){return parseFloat(t)||0}function m(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.reduce(function(e,i){return e+f(t["border-"+i+"-width"])},0)}function g(t){var e=t.clientWidth,i=t.clientHeight;if(!e&&!i)return p;var n=d(t).getComputedStyle(t),r=function(t){for(var e={},i=0,n=["top","right","bottom","left"];i<n.length;i++){var r=n[i],o=t["padding-"+r];e[r]=f(o)}return e}(n),o=r.left+r.right,s=r.top+r.bottom,a=f(n.width),l=f(n.height);if("border-box"===n.boxSizing&&(Math.round(a+o)!==e&&(a-=m(n,"left","right")+o),Math.round(l+s)!==i&&(l-=m(n,"top","bottom")+s)),!function(t){return t===d(t).document.documentElement}(t)){var h=Math.round(a+o)-e,u=Math.round(l+s)-i;1!==Math.abs(h)&&(a-=h),1!==Math.abs(u)&&(l-=u)}return y(r.left,r.top,a,l)}var v="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof d(t).SVGGraphicsElement}:function(t){return t instanceof d(t).SVGElement&&"function"==typeof t.getBBox};function A(t){return n?v(t)?function(t){var e=t.getBBox();return y(0,0,e.width,e.height)}(t):g(t):p}function y(t,e,i,n){return{x:t,y:e,width:i,height:n}}var x=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=A(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),b=function(){return function(t,e){var i,n,r,o,s,a,l,h=(n=(i=e).x,r=i.y,o=i.width,s=i.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),c(l,{x:n,y:r,width:o,height:s,top:r,right:n+o,bottom:s+r,left:n}),l);c(this,{target:t,contentRect:h})}}(),C=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new i,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new x(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new b(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),w="undefined"!=typeof WeakMap?new WeakMap:new i,E=function(){return function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=u.getInstance(),n=new C(e,i,this);w.set(this,n)}}();["observe","unobserve","disconnect"].forEach(function(t){E.prototype[t]=function(){var e;return(e=w.get(this))[t].apply(e,arguments)}});var S=void 0!==r.ResizeObserver?r.ResizeObserver:E;e.default=S}.call(e,i("DuR2"))},"zAL+":function(t,e){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=99)}({0:function(t,e,i){"use strict";function n(t,e,i,n,r,o,s,a){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),n&&(h.functional=!0),o&&(h._scopeId="data-v-"+o),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},h._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}i.d(e,"a",function(){return n})},99:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-button-group"},[this._t("default")],2)};n._withStripped=!0;var r={name:"ElButtonGroup"},o=i(0),s=Object(o.a)(r,n,[],!1,null,null,null);s.options.__file="packages/button/src/button-group.vue";var a=s.exports;a.install=function(t){t.component(a.name,a)};e.default=a}})},zL8q:function(t,e,i){t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=45)}([function(t,e){t.exports=i("AMCD")},function(t,e){t.exports=i("2kvA")},function(t,e){t.exports=i("ylDJ")},function(t,e){t.exports=i("fPll")},function(t,e){t.exports=i("y+7x")},function(t,e){t.exports=i("fKx3")},function(t,e){t.exports=i("7+uW")},function(t,e){t.exports=i("jmaC")},function(t,e){t.exports=i("HJMx")},function(t,e){t.exports=i("aW5l")},function(t,e){t.exports=i("ISYW")},function(t,e){t.exports=i("urW8")},function(t,e){t.exports=i("mtrD")},function(t,e){t.exports=i("02w1")},function(t,e){t.exports=i("7J9s")},function(t,e){t.exports=i("ON3O")},function(t,e){t.exports=i("EKTV")},function(t,e){t.exports=i("fEB+")},function(t,e){t.exports=i("835U")},function(t,e){t.exports=i("E/in")},function(t,e){t.exports=i("eNfa")},function(t,e){t.exports=i("Zcwg")},function(t,e){t.exports=i("1oZe")},function(t,e){t.exports=i("fUqW")},function(t,e){t.exports=i("nvbp")},function(t,e){t.exports=i("uY1a")},function(t,e){t.exports=i("aMwW")},function(t,e){t.exports=i("zTCi")},function(t,e){t.exports=i("hyEB")},function(t,e){t.exports=i("zAL+")},function(t,e){t.exports=i("orbS")},function(t,e){t.exports=i("6Twh")},function(t,e){t.exports=i("s3ue")},function(t,e){t.exports=i("H8dH")},function(t,e){t.exports=i("GegP")},function(t,e){t.exports=i("HzcN")},function(t,e){t.exports=i("e0Bm")},function(t,e){t.exports=i("STLj")},function(t,e){t.exports=i("3fo+")},function(t,e){t.exports=i("DQJY")},function(t,e){t.exports=i("jwfv")},function(t,e){t.exports=i("0kY3")},function(t,e){t.exports=i("kNJA")},function(t,e){t.exports=i("RDoK")},function(t,e){t.exports=i("SXzR")},function(t,e,i){t.exports=i(46)},function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"el-pager",on:{click:t.onPagerClick}},[t.pageCount>0?i("li",{staticClass:"number",class:{active:1===t.currentPage,disabled:t.disabled}},[t._v("1")]):t._e(),t.showPrevMore?i("li",{staticClass:"el-icon more btn-quickprev",class:[t.quickprevIconClass,{disabled:t.disabled}],on:{mouseenter:function(e){t.onMouseenter("left")},mouseleave:function(e){t.quickprevIconClass="el-icon-more"}}}):t._e(),t._l(t.pagers,function(e){return i("li",{key:e,staticClass:"number",class:{active:t.currentPage===e,disabled:t.disabled}},[t._v(t._s(e))])}),t.showNextMore?i("li",{staticClass:"el-icon more btn-quicknext",class:[t.quicknextIconClass,{disabled:t.disabled}],on:{mouseenter:function(e){t.onMouseenter("right")},mouseleave:function(e){t.quicknextIconClass="el-icon-more"}}}):t._e(),t.pageCount>1?i("li",{staticClass:"number",class:{active:t.currentPage===t.pageCount,disabled:t.disabled}},[t._v(t._s(t.pageCount))]):t._e()],2)};function r(t,e,i,n,r,o,s,a){var l,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),n&&(h.functional=!0),o&&(h._scopeId="data-v-"+o),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},h._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(h.functional){h._injectStyles=l;var u=h.render;h.render=function(t,e){return l.call(e),u(t,e)}}else{var c=h.beforeCreate;h.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:h}}n._withStripped=!0;var o=r({name:"ElPager",props:{currentPage:Number,pageCount:Number,pagerCount:Number,disabled:Boolean},watch:{showPrevMore:function(t){t||(this.quickprevIconClass="el-icon-more")},showNextMore:function(t){t||(this.quicknextIconClass="el-icon-more")}},methods:{onPagerClick:function(t){var e=t.target;if("UL"!==e.tagName&&!this.disabled){var i=Number(t.target.textContent),n=this.pageCount,r=this.currentPage,o=this.pagerCount-2;-1!==e.className.indexOf("more")&&(-1!==e.className.indexOf("quickprev")?i=r-o:-1!==e.className.indexOf("quicknext")&&(i=r+o)),isNaN(i)||(i<1&&(i=1),i>n&&(i=n)),i!==r&&this.$emit("change",i)}},onMouseenter:function(t){this.disabled||("left"===t?this.quickprevIconClass="el-icon-d-arrow-left":this.quicknextIconClass="el-icon-d-arrow-right")}},computed:{pagers:function(){var t=this.pagerCount,e=(t-1)/2,i=Number(this.currentPage),n=Number(this.pageCount),r=!1,o=!1;n>t&&(i>t-e&&(r=!0),i<n-e&&(o=!0));var s=[];if(r&&!o)for(var a=n-(t-2);a<n;a++)s.push(a);else if(!r&&o)for(var l=2;l<t;l++)s.push(l);else if(r&&o)for(var h=Math.floor(t/2)-1,u=i-h;u<=i+h;u++)s.push(u);else for(var c=2;c<n;c++)s.push(c);return this.showPrevMore=r,this.showNextMore=o,s}},data:function(){return{current:null,showPrevMore:!1,showNextMore:!1,quicknextIconClass:"el-icon-more",quickprevIconClass:"el-icon-more"}}},n,[],!1,null,null,null);o.options.__file="packages/pagination/src/pager.vue";var s=o.exports,a=i(36),l=i.n(a),h=i(37),u=i.n(h),c=i(8),d=i.n(c),p=i(4),f=i.n(p),m=i(2),g={name:"ElPagination",props:{pageSize:{type:Number,default:10},small:Boolean,total:Number,pageCount:Number,pagerCount:{type:Number,validator:function(t){return(0|t)===t&&t>4&&t<22&&t%2==1},default:7},currentPage:{type:Number,default:1},layout:{default:"prev, pager, next, jumper, ->, total"},pageSizes:{type:Array,default:function(){return[10,20,30,40,50,100]}},popperClass:String,prevText:String,nextText:String,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean},data:function(){return{internalCurrentPage:1,internalPageSize:0,lastEmittedPage:-1,userChangePageSize:!1}},render:function(t){var e=this.layout;if(!e)return null;if(this.hideOnSinglePage&&(!this.internalPageCount||1===this.internalPageCount))return null;var i=t("div",{class:["el-pagination",{"is-background":this.background,"el-pagination--small":this.small}]}),n={prev:t("prev"),jumper:t("jumper"),pager:t("pager",{attrs:{currentPage:this.internalCurrentPage,pageCount:this.internalPageCount,pagerCount:this.pagerCount,disabled:this.disabled},on:{change:this.handleCurrentChange}}),next:t("next"),sizes:t("sizes",{attrs:{pageSizes:this.pageSizes}}),slot:t("slot",[this.$slots.default?this.$slots.default:""]),total:t("total")},r=e.split(",").map(function(t){return t.trim()}),o=t("div",{class:"el-pagination__rightwrapper"}),s=!1;return i.children=i.children||[],o.children=o.children||[],r.forEach(function(t){"->"!==t?s?o.children.push(n[t]):i.children.push(n[t]):s=!0}),s&&i.children.unshift(o),i},components:{Prev:{render:function(t){return t("button",{attrs:{type:"button",disabled:this.$parent.disabled||this.$parent.internalCurrentPage<=1},class:"btn-prev",on:{click:this.$parent.prev}},[this.$parent.prevText?t("span",[this.$parent.prevText]):t("i",{class:"el-icon el-icon-arrow-left"})])}},Next:{render:function(t){return t("button",{attrs:{type:"button",disabled:this.$parent.disabled||this.$parent.internalCurrentPage===this.$parent.internalPageCount||0===this.$parent.internalPageCount},class:"btn-next",on:{click:this.$parent.next}},[this.$parent.nextText?t("span",[this.$parent.nextText]):t("i",{class:"el-icon el-icon-arrow-right"})])}},Sizes:{mixins:[f.a],props:{pageSizes:Array},watch:{pageSizes:{immediate:!0,handler:function(t,e){Object(m.valueEquals)(t,e)||Array.isArray(t)&&(this.$parent.internalPageSize=t.indexOf(this.$parent.pageSize)>-1?this.$parent.pageSize:this.pageSizes[0])}}},render:function(t){var e=this;return t("span",{class:"el-pagination__sizes"},[t("el-select",{attrs:{value:this.$parent.internalPageSize,popperClass:this.$parent.popperClass||"",size:"mini",disabled:this.$parent.disabled},on:{input:this.handleChange}},[this.pageSizes.map(function(i){return t("el-option",{attrs:{value:i,label:i+e.t("el.pagination.pagesize")}})})])])},components:{ElSelect:l.a,ElOption:u.a},methods:{handleChange:function(t){t!==this.$parent.internalPageSize&&(this.$parent.internalPageSize=t=parseInt(t,10),this.$parent.userChangePageSize=!0,this.$parent.$emit("update:pageSize",t),this.$parent.$emit("size-change",t))}}},Jumper:{mixins:[f.a],components:{ElInput:d.a},data:function(){return{userInput:null}},watch:{"$parent.internalCurrentPage":function(){this.userInput=null}},methods:{handleKeyup:function(t){var e=t.keyCode,i=t.target;13===e&&this.handleChange(i.value)},handleInput:function(t){this.userInput=t},handleChange:function(t){this.$parent.internalCurrentPage=this.$parent.getValidCurrentPage(t),this.$parent.emitChange(),this.userInput=null}},render:function(t){return t("span",{class:"el-pagination__jump"},[this.t("el.pagination.goto"),t("el-input",{class:"el-pagination__editor is-in-pagination",attrs:{min:1,max:this.$parent.internalPageCount,value:null!==this.userInput?this.userInput:this.$parent.internalCurrentPage,type:"number",disabled:this.$parent.disabled},nativeOn:{keyup:this.handleKeyup},on:{input:this.handleInput,change:this.handleChange}}),this.t("el.pagination.pageClassifier")])}},Total:{mixins:[f.a],render:function(t){return"number"==typeof this.$parent.total?t("span",{class:"el-pagination__total"},[this.t("el.pagination.total",{total:this.$parent.total})]):""}},Pager:s},methods:{handleCurrentChange:function(t){this.internalCurrentPage=this.getValidCurrentPage(t),this.userChangePageSize=!0,this.emitChange()},prev:function(){if(!this.disabled){var t=this.internalCurrentPage-1;this.internalCurrentPage=this.getValidCurrentPage(t),this.$emit("prev-click",this.internalCurrentPage),this.emitChange()}},next:function(){if(!this.disabled){var t=this.internalCurrentPage+1;this.internalCurrentPage=this.getValidCurrentPage(t),this.$emit("next-click",this.internalCurrentPage),this.emitChange()}},getValidCurrentPage:function(t){t=parseInt(t,10);var e=void 0;return"number"==typeof this.internalPageCount?t<1?e=1:t>this.internalPageCount&&(e=this.internalPageCount):(isNaN(t)||t<1)&&(e=1),void 0===e&&isNaN(t)?e=1:0===e&&(e=1),void 0===e?t:e},emitChange:function(){var t=this;this.$nextTick(function(){(t.internalCurrentPage!==t.lastEmittedPage||t.userChangePageSize)&&(t.$emit("current-change",t.internalCurrentPage),t.lastEmittedPage=t.internalCurrentPage,t.userChangePageSize=!1)})}},computed:{internalPageCount:function(){return"number"==typeof this.total?Math.max(1,Math.ceil(this.total/this.internalPageSize)):"number"==typeof this.pageCount?Math.max(1,this.pageCount):null}},watch:{currentPage:{immediate:!0,handler:function(t){this.internalCurrentPage=this.getValidCurrentPage(t)}},pageSize:{immediate:!0,handler:function(t){this.internalPageSize=isNaN(t)?10:t}},internalCurrentPage:{immediate:!0,handler:function(t){this.$emit("update:currentPage",t),this.lastEmittedPage=-1}},internalPageCount:function(t){var e=this.internalCurrentPage;t>0&&0===e?this.internalCurrentPage=1:e>t&&(this.internalCurrentPage=0===t?1:t,this.userChangePageSize&&this.emitChange()),this.userChangePageSize=!1}},install:function(t){t.component(g.name,g)}},v=g,A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"dialog-fade"},on:{"after-enter":t.afterEnter,"after-leave":t.afterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-dialog__wrapper",on:{click:function(e){return e.target!==e.currentTarget?null:t.handleWrapperClick(e)}}},[i("div",{key:t.key,ref:"dialog",class:["el-dialog",{"is-fullscreen":t.fullscreen,"el-dialog--center":t.center},t.customClass],style:t.style,attrs:{role:"dialog","aria-modal":"true","aria-label":t.title||"dialog"}},[i("div",{staticClass:"el-dialog__header"},[t._t("title",[i("span",{staticClass:"el-dialog__title"},[t._v(t._s(t.title))])]),t.showClose?i("button",{staticClass:"el-dialog__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:t.handleClose}},[i("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):t._e()],2),t.rendered?i("div",{staticClass:"el-dialog__body"},[t._t("default")],2):t._e(),t.$slots.footer?i("div",{staticClass:"el-dialog__footer"},[t._t("footer")],2):t._e()])])])};A._withStripped=!0;var y=i(14),x=i.n(y),b=i(9),C=i.n(b),w=i(3),E=i.n(w),S=r({name:"ElDialog",mixins:[x.a,E.a,C.a],props:{title:{type:String,default:""},modal:{type:Boolean,default:!0},modalAppendToBody:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},width:String,fullscreen:Boolean,customClass:{type:String,default:""},top:{type:String,default:"15vh"},beforeClose:Function,center:{type:Boolean,default:!1},destroyOnClose:Boolean},data:function(){return{closed:!1,key:0}},watch:{visible:function(t){var e=this;t?(this.closed=!1,this.$emit("open"),this.$el.addEventListener("scroll",this.updatePopper),this.$nextTick(function(){e.$refs.dialog.scrollTop=0}),this.appendToBody&&document.body.appendChild(this.$el)):(this.$el.removeEventListener("scroll",this.updatePopper),this.closed||this.$emit("close"),this.destroyOnClose&&this.$nextTick(function(){e.key++}))}},computed:{style:function(){var t={};return this.fullscreen||(t.marginTop=this.top,this.width&&(t.width=this.width)),t}},methods:{getMigratingConfig:function(){return{props:{size:"size is removed."}}},handleWrapperClick:function(){this.closeOnClickModal&&this.handleClose()},handleClose:function(){"function"==typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},hide:function(t){!1!==t&&(this.$emit("update:visible",!1),this.$emit("close"),this.closed=!0)},updatePopper:function(){this.broadcast("ElSelectDropdown","updatePopper"),this.broadcast("ElDropdownMenu","updatePopper")},afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")}},mounted:function(){this.visible&&(this.rendered=!0,this.open(),this.appendToBody&&document.body.appendChild(this.$el))},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},A,[],!1,null,null,null);S.options.__file="packages/dialog/src/component.vue";var T=S.exports;T.install=function(t){t.component(T.name,T)};var _=T,M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.close,expression:"close"}],staticClass:"el-autocomplete",attrs:{"aria-haspopup":"listbox",role:"combobox","aria-expanded":t.suggestionVisible,"aria-owns":t.id}},[i("el-input",t._b({ref:"input",on:{input:t.handleChange,focus:t.handleFocus,blur:t.handleBlur,clear:t.handleClear},nativeOn:{keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault(),t.highlight(t.highlightedIndex-1)},function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault(),t.highlight(t.highlightedIndex+1)},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleKeyEnter(e):null},function(e){return"button"in e||!t._k(e.keyCode,"tab",9,e.key,"Tab")?t.close(e):null}]}},"el-input",[t.$props,t.$attrs],!1),[t.$slots.prepend?i("template",{slot:"prepend"},[t._t("prepend")],2):t._e(),t.$slots.append?i("template",{slot:"append"},[t._t("append")],2):t._e(),t.$slots.prefix?i("template",{slot:"prefix"},[t._t("prefix")],2):t._e(),t.$slots.suffix?i("template",{slot:"suffix"},[t._t("suffix")],2):t._e()],2),i("el-autocomplete-suggestions",{ref:"suggestions",class:[t.popperClass?t.popperClass:""],attrs:{"visible-arrow":"","popper-options":t.popperOptions,"append-to-body":t.popperAppendToBody,placement:t.placement,id:t.id}},t._l(t.suggestions,function(e,n){return i("li",{key:n,class:{highlighted:t.highlightedIndex===n},attrs:{id:t.id+"-item-"+n,role:"option","aria-selected":t.highlightedIndex===n},on:{click:function(i){t.select(e)}}},[t._t("default",[t._v("\n        "+t._s(e[t.valueKey])+"\n      ")],{item:e})],2)}),0)],1)};M._withStripped=!0;var k=i(15),B=i.n(k),O=i(10),P=i.n(O),L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":t.doDestroy}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"}],staticClass:"el-autocomplete-suggestion el-popper",class:{"is-loading":!t.parent.hideLoading&&t.parent.loading},style:{width:t.dropdownWidth},attrs:{role:"region"}},[i("el-scrollbar",{attrs:{tag:"ul","wrap-class":"el-autocomplete-suggestion__wrap","view-class":"el-autocomplete-suggestion__list"}},[!t.parent.hideLoading&&t.parent.loading?i("li",[i("i",{staticClass:"el-icon-loading"})]):t._t("default")],2)],1)])};L._withStripped=!0;var N=i(5),I=i.n(N),D=i(17),R=i.n(D),F=r({components:{ElScrollbar:R.a},mixins:[I.a,E.a],componentName:"ElAutocompleteSuggestions",data:function(){return{parent:this.$parent,dropdownWidth:""}},props:{options:{default:function(){return{gpuAcceleration:!1}}},id:String},methods:{select:function(t){this.dispatch("ElAutocomplete","item-click",t)}},updated:function(){var t=this;this.$nextTick(function(e){t.popperJS&&t.updatePopper()})},mounted:function(){this.$parent.popperElm=this.popperElm=this.$el,this.referenceElm=this.$parent.$refs.input.$refs.input,this.referenceList=this.$el.querySelector(".el-autocomplete-suggestion__list"),this.referenceList.setAttribute("role","listbox"),this.referenceList.setAttribute("id",this.id)},created:function(){var t=this;this.$on("visible",function(e,i){t.dropdownWidth=i+"px",t.showPopper=e})}},L,[],!1,null,null,null);F.options.__file="packages/autocomplete/src/autocomplete-suggestions.vue";var H=F.exports,U=i(22),V=i.n(U),j=r({name:"ElAutocomplete",mixins:[E.a,V()("input"),C.a],inheritAttrs:!1,componentName:"ElAutocomplete",components:{ElInput:d.a,ElAutocompleteSuggestions:H},directives:{Clickoutside:P.a},props:{valueKey:{type:String,default:"value"},popperClass:String,popperOptions:Object,placeholder:String,clearable:{type:Boolean,default:!1},disabled:Boolean,name:String,size:String,value:String,maxlength:Number,minlength:Number,autofocus:Boolean,fetchSuggestions:Function,triggerOnFocus:{type:Boolean,default:!0},customItem:String,selectWhenUnmatched:{type:Boolean,default:!1},prefixIcon:String,suffixIcon:String,label:String,debounce:{type:Number,default:300},placement:{type:String,default:"bottom-start"},hideLoading:Boolean,popperAppendToBody:{type:Boolean,default:!0},highlightFirstItem:{type:Boolean,default:!1}},data:function(){return{activated:!1,suggestions:[],loading:!1,highlightedIndex:-1,suggestionDisabled:!1}},computed:{suggestionVisible:function(){var t=this.suggestions;return(Array.isArray(t)&&t.length>0||this.loading)&&this.activated},id:function(){return"el-autocomplete-"+Object(m.generateId)()}},watch:{suggestionVisible:function(t){var e=this.getInput();e&&this.broadcast("ElAutocompleteSuggestions","visible",[t,e.offsetWidth])}},methods:{getMigratingConfig:function(){return{props:{"custom-item":"custom-item is removed, use scoped slot instead.",props:"props is removed, use value-key instead."}}},getData:function(t){var e=this;this.suggestionDisabled||(this.loading=!0,this.fetchSuggestions(t,function(t){e.loading=!1,e.suggestionDisabled||(Array.isArray(t)?(e.suggestions=t,e.highlightedIndex=e.highlightFirstItem?0:-1):console.error("[Element Error][Autocomplete]autocomplete suggestions must be an array"))}))},handleChange:function(t){if(this.$emit("input",t),this.suggestionDisabled=!1,!this.triggerOnFocus&&!t)return this.suggestionDisabled=!0,void(this.suggestions=[]);this.debouncedGetData(t)},handleFocus:function(t){this.activated=!0,this.$emit("focus",t),this.triggerOnFocus&&this.debouncedGetData(this.value)},handleBlur:function(t){this.$emit("blur",t)},handleClear:function(){this.activated=!1,this.$emit("clear")},close:function(t){this.activated=!1},handleKeyEnter:function(t){var e=this;this.suggestionVisible&&this.highlightedIndex>=0&&this.highlightedIndex<this.suggestions.length?(t.preventDefault(),this.select(this.suggestions[this.highlightedIndex])):this.selectWhenUnmatched&&(this.$emit("select",{value:this.value}),this.$nextTick(function(t){e.suggestions=[],e.highlightedIndex=-1}))},select:function(t){var e=this;this.$emit("input",t[this.valueKey]),this.$emit("select",t),this.$nextTick(function(t){e.suggestions=[],e.highlightedIndex=-1})},highlight:function(t){if(this.suggestionVisible&&!this.loading)if(t<0)this.highlightedIndex=-1;else{t>=this.suggestions.length&&(t=this.suggestions.length-1);var e=this.$refs.suggestions.$el.querySelector(".el-autocomplete-suggestion__wrap"),i=e.querySelectorAll(".el-autocomplete-suggestion__list li")[t],n=e.scrollTop,r=i.offsetTop;r+i.scrollHeight>n+e.clientHeight&&(e.scrollTop+=i.scrollHeight),r<n&&(e.scrollTop-=i.scrollHeight),this.highlightedIndex=t,this.getInput().setAttribute("aria-activedescendant",this.id+"-item-"+this.highlightedIndex)}},getInput:function(){return this.$refs.input.getInput()}},mounted:function(){var t=this;this.debouncedGetData=B()(this.debounce,this.getData),this.$on("item-click",function(e){t.select(e)});var e=this.getInput();e.setAttribute("role","textbox"),e.setAttribute("aria-autocomplete","list"),e.setAttribute("aria-controls","id"),e.setAttribute("aria-activedescendant",this.id+"-item-"+this.highlightedIndex)},beforeDestroy:function(){this.$refs.suggestions.$destroy()}},M,[],!1,null,null,null);j.options.__file="packages/autocomplete/src/autocomplete.vue";var G=j.exports;G.install=function(t){t.component(G.name,G)};var z=G,Q=i(12),Y=i.n(Q),K=i(29),X=i.n(K),$=r({name:"ElDropdown",componentName:"ElDropdown",mixins:[E.a,C.a],directives:{Clickoutside:P.a},components:{ElButton:Y.a,ElButtonGroup:X.a},provide:function(){return{dropdown:this}},props:{trigger:{type:String,default:"hover"},type:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},placement:{type:String,default:"bottom-end"},visibleArrow:{default:!0},showTimeout:{type:Number,default:250},hideTimeout:{type:Number,default:150},tabindex:{type:Number,default:0}},data:function(){return{timeout:null,visible:!1,triggerElm:null,menuItems:null,menuItemsArray:null,dropdownElm:null,focusing:!1,listId:"dropdown-menu-"+Object(m.generateId)()}},computed:{dropdownSize:function(){return this.size||(this.$ELEMENT||{}).size}},mounted:function(){this.$on("menu-item-click",this.handleMenuItemClick)},watch:{visible:function(t){this.broadcast("ElDropdownMenu","visible",t),this.$emit("visible-change",t)},focusing:function(t){var e=this.$el.querySelector(".el-dropdown-selfdefine");e&&(t?e.className+=" focusing":e.className=e.className.replace("focusing",""))}},methods:{getMigratingConfig:function(){return{props:{"menu-align":"menu-align is renamed to placement."}}},show:function(){var t=this;this.triggerElm.disabled||(clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.visible=!0},"click"===this.trigger?0:this.showTimeout))},hide:function(){var t=this;this.triggerElm.disabled||(this.removeTabindex(),this.tabindex>=0&&this.resetTabindex(this.triggerElm),clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.visible=!1},"click"===this.trigger?0:this.hideTimeout))},handleClick:function(){this.triggerElm.disabled||(this.visible?this.hide():this.show())},handleTriggerKeyDown:function(t){var e=t.keyCode;[38,40].indexOf(e)>-1?(this.removeTabindex(),this.resetTabindex(this.menuItems[0]),this.menuItems[0].focus(),t.preventDefault(),t.stopPropagation()):13===e?this.handleClick():[9,27].indexOf(e)>-1&&this.hide()},handleItemKeyDown:function(t){var e=t.keyCode,i=t.target,n=this.menuItemsArray.indexOf(i),r=this.menuItemsArray.length-1,o=void 0;[38,40].indexOf(e)>-1?(o=38===e?0!==n?n-1:0:n<r?n+1:r,this.removeTabindex(),this.resetTabindex(this.menuItems[o]),this.menuItems[o].focus(),t.preventDefault(),t.stopPropagation()):13===e?(this.triggerElmFocus(),i.click(),this.hideOnClick&&(this.visible=!1)):[9,27].indexOf(e)>-1&&(this.hide(),this.triggerElmFocus())},resetTabindex:function(t){this.removeTabindex(),t.setAttribute("tabindex","0")},removeTabindex:function(){this.triggerElm.setAttribute("tabindex","-1"),this.menuItemsArray.forEach(function(t){t.setAttribute("tabindex","-1")})},initAria:function(){this.dropdownElm.setAttribute("id",this.listId),this.triggerElm.setAttribute("aria-haspopup","list"),this.triggerElm.setAttribute("aria-controls",this.listId),this.splitButton||(this.triggerElm.setAttribute("role","button"),this.triggerElm.setAttribute("tabindex",this.tabindex),this.triggerElm.setAttribute("class",(this.triggerElm.getAttribute("class")||"")+" el-dropdown-selfdefine"))},initEvent:function(){var t=this,e=this.trigger,i=this.show,n=this.hide,r=this.handleClick,o=this.splitButton,s=this.handleTriggerKeyDown,a=this.handleItemKeyDown;this.triggerElm=o?this.$refs.trigger.$el:this.$slots.default[0].elm;var l=this.dropdownElm;this.triggerElm.addEventListener("keydown",s),l.addEventListener("keydown",a,!0),o||(this.triggerElm.addEventListener("focus",function(){t.focusing=!0}),this.triggerElm.addEventListener("blur",function(){t.focusing=!1}),this.triggerElm.addEventListener("click",function(){t.focusing=!1})),"hover"===e?(this.triggerElm.addEventListener("mouseenter",i),this.triggerElm.addEventListener("mouseleave",n),l.addEventListener("mouseenter",i),l.addEventListener("mouseleave",n)):"click"===e&&this.triggerElm.addEventListener("click",r)},handleMenuItemClick:function(t,e){this.hideOnClick&&(this.visible=!1),this.$emit("command",t,e)},triggerElmFocus:function(){this.triggerElm.focus&&this.triggerElm.focus()},initDomOperation:function(){this.dropdownElm=this.popperElm,this.menuItems=this.dropdownElm.querySelectorAll("[tabindex='-1']"),this.menuItemsArray=[].slice.call(this.menuItems),this.initEvent(),this.initAria()}},render:function(t){var e=this,i=this.hide,n=this.splitButton,r=this.type,o=this.dropdownSize,s=n?t("el-button-group",[t("el-button",{attrs:{type:r,size:o},nativeOn:{click:function(t){e.$emit("click",t),i()}}},[this.$slots.default]),t("el-button",{ref:"trigger",attrs:{type:r,size:o},class:"el-dropdown__caret-button"},[t("i",{class:"el-dropdown__icon el-icon-arrow-down"})])]):this.$slots.default;return t("div",{class:"el-dropdown",directives:[{name:"clickoutside",value:i}]},[s,this.$slots.dropdown])}},void 0,void 0,!1,null,null,null);$.options.__file="packages/dropdown/src/dropdown.vue";var W=$.exports;W.install=function(t){t.component(W.name,W)};var q=W,J=function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":this.doDestroy}},[e("ul",{directives:[{name:"show",rawName:"v-show",value:this.showPopper,expression:"showPopper"}],staticClass:"el-dropdown-menu el-popper",class:[this.size&&"el-dropdown-menu--"+this.size]},[this._t("default")],2)])};J._withStripped=!0;var Z=r({name:"ElDropdownMenu",componentName:"ElDropdownMenu",mixins:[I.a],props:{visibleArrow:{type:Boolean,default:!0},arrowOffset:{type:Number,default:0}},data:function(){return{size:this.dropdown.dropdownSize}},inject:["dropdown"],created:function(){var t=this;this.$on("updatePopper",function(){t.showPopper&&t.updatePopper()}),this.$on("visible",function(e){t.showPopper=e})},mounted:function(){this.dropdown.popperElm=this.popperElm=this.$el,this.referenceElm=this.dropdown.$el,this.dropdown.initDomOperation()},watch:{"dropdown.placement":{immediate:!0,handler:function(t){this.currentPlacement=t}}}},J,[],!1,null,null,null);Z.options.__file="packages/dropdown/src/dropdown-menu.vue";var tt=Z.exports;tt.install=function(t){t.component(tt.name,tt)};var et=tt,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"el-dropdown-menu__item",class:{"is-disabled":t.disabled,"el-dropdown-menu__item--divided":t.divided},attrs:{"aria-disabled":t.disabled,tabindex:t.disabled?null:-1},on:{click:t.handleClick}},[t.icon?i("i",{class:t.icon}):t._e(),t._t("default")],2)};it._withStripped=!0;var nt=r({name:"ElDropdownItem",mixins:[E.a],props:{command:{},disabled:Boolean,divided:Boolean,icon:String},methods:{handleClick:function(t){this.dispatch("ElDropdown","menu-item-click",[this.command,this])}}},it,[],!1,null,null,null);nt.options.__file="packages/dropdown/src/dropdown-item.vue";var rt=nt.exports;rt.install=function(t){t.component(rt.name,rt)};var ot=rt,st=st||{};st.Utils=st.Utils||{},st.Utils.focusFirstDescendant=function(t){for(var e=0;e<t.childNodes.length;e++){var i=t.childNodes[e];if(st.Utils.attemptFocus(i)||st.Utils.focusFirstDescendant(i))return!0}return!1},st.Utils.focusLastDescendant=function(t){for(var e=t.childNodes.length-1;e>=0;e--){var i=t.childNodes[e];if(st.Utils.attemptFocus(i)||st.Utils.focusLastDescendant(i))return!0}return!1},st.Utils.attemptFocus=function(t){if(!st.Utils.isFocusable(t))return!1;st.Utils.IgnoreUtilFocusChanges=!0;try{t.focus()}catch(t){}return st.Utils.IgnoreUtilFocusChanges=!1,document.activeElement===t},st.Utils.isFocusable=function(t){if(t.tabIndex>0||0===t.tabIndex&&null!==t.getAttribute("tabIndex"))return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&"ignore"!==t.rel;case"INPUT":return"hidden"!==t.type&&"file"!==t.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},st.Utils.triggerEvent=function(t,e){var i=void 0;i=/^mouse|click/.test(e)?"MouseEvents":/^key/.test(e)?"KeyboardEvent":"HTMLEvents";for(var n=document.createEvent(i),r=arguments.length,o=Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];return n.initEvent.apply(n,[e].concat(o)),t.dispatchEvent?t.dispatchEvent(n):t.fireEvent("on"+e,n),t},st.Utils.keys={tab:9,enter:13,space:32,left:37,up:38,right:39,down:40,esc:27};var at=st.Utils,lt=function(t,e){this.domNode=e,this.parent=t,this.subMenuItems=[],this.subIndex=0,this.init()};lt.prototype.init=function(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()},lt.prototype.gotoSubIndex=function(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t},lt.prototype.addListeners=function(){var t=this,e=at.keys,i=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,function(n){n.addEventListener("keydown",function(n){var r=!1;switch(n.keyCode){case e.down:t.gotoSubIndex(t.subIndex+1),r=!0;break;case e.up:t.gotoSubIndex(t.subIndex-1),r=!0;break;case e.tab:at.triggerEvent(i,"mouseleave");break;case e.enter:case e.space:r=!0,n.currentTarget.click()}return r&&(n.preventDefault(),n.stopPropagation()),!1})})};var ht=lt,ut=function(t){this.domNode=t,this.submenu=null,this.init()};ut.prototype.init=function(){this.domNode.setAttribute("tabindex","0");var t=this.domNode.querySelector(".el-menu");t&&(this.submenu=new ht(this,t)),this.addListeners()},ut.prototype.addListeners=function(){var t=this,e=at.keys;this.domNode.addEventListener("keydown",function(i){var n=!1;switch(i.keyCode){case e.down:at.triggerEvent(i.currentTarget,"mouseenter"),t.submenu&&t.submenu.gotoSubIndex(0),n=!0;break;case e.up:at.triggerEvent(i.currentTarget,"mouseenter"),t.submenu&&t.submenu.gotoSubIndex(t.submenu.subMenuItems.length-1),n=!0;break;case e.tab:at.triggerEvent(i.currentTarget,"mouseleave");break;case e.enter:case e.space:n=!0,i.currentTarget.click()}n&&i.preventDefault()})};var ct=ut,dt=function(t){this.domNode=t,this.init()};dt.prototype.init=function(){var t=this.domNode.childNodes;[].filter.call(t,function(t){return 1===t.nodeType}).forEach(function(t){new ct(t)})};var pt=dt,ft=i(1),mt=r({name:"ElMenu",render:function(t){var e=t("ul",{attrs:{role:"menubar"},key:+this.collapse,style:{backgroundColor:this.backgroundColor||""},class:{"el-menu--horizontal":"horizontal"===this.mode,"el-menu--collapse":this.collapse,"el-menu":!0}},[this.$slots.default]);return this.collapseTransition?t("el-menu-collapse-transition",[e]):e},componentName:"ElMenu",mixins:[E.a,C.a],provide:function(){return{rootMenu:this}},components:{"el-menu-collapse-transition":{functional:!0,render:function(t,e){return t("transition",{props:{mode:"out-in"},on:{beforeEnter:function(t){t.style.opacity=.2},enter:function(t){Object(ft.addClass)(t,"el-opacity-transition"),t.style.opacity=1},afterEnter:function(t){Object(ft.removeClass)(t,"el-opacity-transition"),t.style.opacity=""},beforeLeave:function(t){t.dataset||(t.dataset={}),Object(ft.hasClass)(t,"el-menu--collapse")?(Object(ft.removeClass)(t,"el-menu--collapse"),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth,Object(ft.addClass)(t,"el-menu--collapse")):(Object(ft.addClass)(t,"el-menu--collapse"),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth,Object(ft.removeClass)(t,"el-menu--collapse")),t.style.width=t.scrollWidth+"px",t.style.overflow="hidden"},leave:function(t){Object(ft.addClass)(t,"horizontal-collapse-transition"),t.style.width=t.dataset.scrollWidth+"px"}}},e.children)}}},props:{mode:{type:String,default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:Array,uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0}},data:function(){return{activeIndex:this.defaultActive,openedMenus:this.defaultOpeneds&&!this.collapse?this.defaultOpeneds.slice(0):[],items:{},submenus:{}}},computed:{hoverBackground:function(){return this.backgroundColor?this.mixColor(this.backgroundColor,.2):""},isMenuPopup:function(){return"horizontal"===this.mode||"vertical"===this.mode&&this.collapse}},watch:{defaultActive:function(t){this.items[t]||(this.activeIndex=null),this.updateActiveIndex(t)},defaultOpeneds:function(t){this.collapse||(this.openedMenus=t)},collapse:function(t){t&&(this.openedMenus=[]),this.broadcast("ElSubmenu","toggle-collapse",t)}},methods:{updateActiveIndex:function(t){var e=this.items[t]||this.items[this.activeIndex]||this.items[this.defaultActive];e?(this.activeIndex=e.index,this.initOpenedMenu()):this.activeIndex=null},getMigratingConfig:function(){return{props:{theme:"theme is removed."}}},getColorChannels:function(t){if(t=t.replace("#",""),/^[0-9a-fA-F]{3}$/.test(t)){t=t.split("");for(var e=2;e>=0;e--)t.splice(e,0,t[e]);t=t.join("")}return/^[0-9a-fA-F]{6}$/.test(t)?{red:parseInt(t.slice(0,2),16),green:parseInt(t.slice(2,4),16),blue:parseInt(t.slice(4,6),16)}:{red:255,green:255,blue:255}},mixColor:function(t,e){var i=this.getColorChannels(t),n=i.red,r=i.green,o=i.blue;return e>0?(n*=1-e,r*=1-e,o*=1-e):(n+=(255-n)*e,r+=(255-r)*e,o+=(255-o)*e),"rgb("+Math.round(n)+", "+Math.round(r)+", "+Math.round(o)+")"},addItem:function(t){this.$set(this.items,t.index,t)},removeItem:function(t){delete this.items[t.index]},addSubmenu:function(t){this.$set(this.submenus,t.index,t)},removeSubmenu:function(t){delete this.submenus[t.index]},openMenu:function(t,e){var i=this.openedMenus;-1===i.indexOf(t)&&(this.uniqueOpened&&(this.openedMenus=i.filter(function(t){return-1!==e.indexOf(t)})),this.openedMenus.push(t))},closeMenu:function(t){var e=this.openedMenus.indexOf(t);-1!==e&&this.openedMenus.splice(e,1)},handleSubmenuClick:function(t){var e=t.index,i=t.indexPath;-1!==this.openedMenus.indexOf(e)?(this.closeMenu(e),this.$emit("close",e,i)):(this.openMenu(e,i),this.$emit("open",e,i))},handleItemClick:function(t){var e=this,i=t.index,n=t.indexPath,r=this.activeIndex,o=null!==t.index;o&&(this.activeIndex=t.index),this.$emit("select",i,n,t),("horizontal"===this.mode||this.collapse)&&(this.openedMenus=[]),this.router&&o&&this.routeToItem(t,function(t){if(e.activeIndex=r,t){if("NavigationDuplicated"===t.name)return;console.error(t)}})},initOpenedMenu:function(){var t=this,e=this.activeIndex,i=this.items[e];i&&"horizontal"!==this.mode&&!this.collapse&&i.indexPath.forEach(function(e){var i=t.submenus[e];i&&t.openMenu(e,i.indexPath)})},routeToItem:function(t,e){var i=t.route||t.index;try{this.$router.push(i,function(){},e)}catch(t){console.error(t)}},open:function(t){var e=this,i=this.submenus[t.toString()].indexPath;i.forEach(function(t){return e.openMenu(t,i)})},close:function(t){this.closeMenu(t)}},mounted:function(){this.initOpenedMenu(),this.$on("item-click",this.handleItemClick),this.$on("submenu-click",this.handleSubmenuClick),"horizontal"===this.mode&&new pt(this.$el),this.$watch("items",this.updateActiveIndex)}},void 0,void 0,!1,null,null,null);mt.options.__file="packages/menu/src/menu.vue";var gt=mt.exports;gt.install=function(t){t.component(gt.name,gt)};var vt=gt,At=i(21),yt=i.n(At),xt={inject:["rootMenu"],computed:{indexPath:function(){for(var t=[this.index],e=this.$parent;"ElMenu"!==e.$options.componentName;)e.index&&t.unshift(e.index),e=e.$parent;return t},parentMenu:function(){for(var t=this.$parent;t&&-1===["ElMenu","ElSubmenu"].indexOf(t.$options.componentName);)t=t.$parent;return t},paddingStyle:function(){if("vertical"!==this.rootMenu.mode)return{};var t=20,e=this.$parent;if(this.rootMenu.collapse)t=20;else for(;e&&"ElMenu"!==e.$options.componentName;)"ElSubmenu"===e.$options.componentName&&(t+=20),e=e.$parent;return{paddingLeft:t+"px"}}}},bt={props:{transformOrigin:{type:[Boolean,String],default:!1},offset:I.a.props.offset,boundariesPadding:I.a.props.boundariesPadding,popperOptions:I.a.props.popperOptions},data:I.a.data,methods:I.a.methods,beforeDestroy:I.a.beforeDestroy,deactivated:I.a.deactivated},Ct=r({name:"ElSubmenu",componentName:"ElSubmenu",mixins:[xt,E.a,bt],components:{ElCollapseTransition:yt.a},props:{index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0}},data:function(){return{popperJS:null,timeout:null,items:{},submenus:{},mouseInChild:!1}},watch:{opened:function(t){var e=this;this.isMenuPopup&&this.$nextTick(function(t){e.updatePopper()})}},computed:{appendToBody:function(){return void 0===this.popperAppendToBody?this.isFirstLevel:this.popperAppendToBody},menuTransitionName:function(){return this.rootMenu.collapse?"el-zoom-in-left":"el-zoom-in-top"},opened:function(){return this.rootMenu.openedMenus.indexOf(this.index)>-1},active:function(){var t=!1,e=this.submenus,i=this.items;return Object.keys(i).forEach(function(e){i[e].active&&(t=!0)}),Object.keys(e).forEach(function(i){e[i].active&&(t=!0)}),t},hoverBackground:function(){return this.rootMenu.hoverBackground},backgroundColor:function(){return this.rootMenu.backgroundColor||""},activeTextColor:function(){return this.rootMenu.activeTextColor||""},textColor:function(){return this.rootMenu.textColor||""},mode:function(){return this.rootMenu.mode},isMenuPopup:function(){return this.rootMenu.isMenuPopup},titleStyle:function(){return"horizontal"!==this.mode?{color:this.textColor}:{borderBottomColor:this.active?this.rootMenu.activeTextColor?this.activeTextColor:"":"transparent",color:this.active?this.activeTextColor:this.textColor}},isFirstLevel:function(){for(var t=!0,e=this.$parent;e&&e!==this.rootMenu;){if(["ElSubmenu","ElMenuItemGroup"].indexOf(e.$options.componentName)>-1){t=!1;break}e=e.$parent}return t}},methods:{handleCollapseToggle:function(t){t?this.initPopper():this.doDestroy()},addItem:function(t){this.$set(this.items,t.index,t)},removeItem:function(t){delete this.items[t.index]},addSubmenu:function(t){this.$set(this.submenus,t.index,t)},removeSubmenu:function(t){delete this.submenus[t.index]},handleClick:function(){var t=this.rootMenu,e=this.disabled;"hover"===t.menuTrigger&&"horizontal"===t.mode||t.collapse&&"vertical"===t.mode||e||this.dispatch("ElMenu","submenu-click",this)},handleMouseenter:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.showTimeout;if("ActiveXObject"in window||"focus"!==t.type||t.relatedTarget){var n=this.rootMenu,r=this.disabled;"click"===n.menuTrigger&&"horizontal"===n.mode||!n.collapse&&"vertical"===n.mode||r||(this.dispatch("ElSubmenu","mouse-enter-child"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.rootMenu.openMenu(e.index,e.indexPath)},i),this.appendToBody&&this.$parent.$el.dispatchEvent(new MouseEvent("mouseenter")))}},handleMouseleave:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.rootMenu;"click"===i.menuTrigger&&"horizontal"===i.mode||!i.collapse&&"vertical"===i.mode||(this.dispatch("ElSubmenu","mouse-leave-child"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){!t.mouseInChild&&t.rootMenu.closeMenu(t.index)},this.hideTimeout),this.appendToBody&&e&&"ElSubmenu"===this.$parent.$options.name&&this.$parent.handleMouseleave(!0))},handleTitleMouseenter:function(){if("horizontal"!==this.mode||this.rootMenu.backgroundColor){var t=this.$refs["submenu-title"];t&&(t.style.backgroundColor=this.rootMenu.hoverBackground)}},handleTitleMouseleave:function(){if("horizontal"!==this.mode||this.rootMenu.backgroundColor){var t=this.$refs["submenu-title"];t&&(t.style.backgroundColor=this.rootMenu.backgroundColor||"")}},updatePlacement:function(){this.currentPlacement="horizontal"===this.mode&&this.isFirstLevel?"bottom-start":"right-start"},initPopper:function(){this.referenceElm=this.$el,this.popperElm=this.$refs.menu,this.updatePlacement()}},created:function(){var t=this;this.$on("toggle-collapse",this.handleCollapseToggle),this.$on("mouse-enter-child",function(){t.mouseInChild=!0,clearTimeout(t.timeout)}),this.$on("mouse-leave-child",function(){t.mouseInChild=!1,clearTimeout(t.timeout)})},mounted:function(){this.parentMenu.addSubmenu(this),this.rootMenu.addSubmenu(this),this.initPopper()},beforeDestroy:function(){this.parentMenu.removeSubmenu(this),this.rootMenu.removeSubmenu(this)},render:function(t){var e=this,i=this.active,n=this.opened,r=this.paddingStyle,o=this.titleStyle,s=this.backgroundColor,a=this.rootMenu,l=this.currentPlacement,h=this.menuTransitionName,u=this.mode,c=this.disabled,d=this.popperClass,p=this.$slots,f=this.isFirstLevel,m=t("transition",{attrs:{name:h}},[t("div",{ref:"menu",directives:[{name:"show",value:n}],class:["el-menu--"+u,d],on:{mouseenter:function(t){return e.handleMouseenter(t,100)},mouseleave:function(){return e.handleMouseleave(!0)},focus:function(t){return e.handleMouseenter(t,100)}}},[t("ul",{attrs:{role:"menu"},class:["el-menu el-menu--popup","el-menu--popup-"+l],style:{backgroundColor:a.backgroundColor||""}},[p.default])])]),g=t("el-collapse-transition",[t("ul",{attrs:{role:"menu"},class:"el-menu el-menu--inline",directives:[{name:"show",value:n}],style:{backgroundColor:a.backgroundColor||""}},[p.default])]),v="horizontal"===a.mode&&f||"vertical"===a.mode&&!a.collapse?"el-icon-arrow-down":"el-icon-arrow-right";return t("li",{class:{"el-submenu":!0,"is-active":i,"is-opened":n,"is-disabled":c},attrs:{role:"menuitem","aria-haspopup":"true","aria-expanded":n},on:{mouseenter:this.handleMouseenter,mouseleave:function(){return e.handleMouseleave(!1)},focus:this.handleMouseenter}},[t("div",{class:"el-submenu__title",ref:"submenu-title",on:{click:this.handleClick,mouseenter:this.handleTitleMouseenter,mouseleave:this.handleTitleMouseleave},style:[r,o,{backgroundColor:s}]},[p.title,t("i",{class:["el-submenu__icon-arrow",v]})]),this.isMenuPopup?m:g])}},void 0,void 0,!1,null,null,null);Ct.options.__file="packages/menu/src/submenu.vue";var wt=Ct.exports;wt.install=function(t){t.component(wt.name,wt)};var Et=wt,St=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"el-menu-item",class:{"is-active":t.active,"is-disabled":t.disabled},style:[t.paddingStyle,t.itemStyle,{backgroundColor:t.backgroundColor}],attrs:{role:"menuitem",tabindex:"-1"},on:{click:t.handleClick,mouseenter:t.onMouseEnter,focus:t.onMouseEnter,blur:t.onMouseLeave,mouseleave:t.onMouseLeave}},["ElMenu"===t.parentMenu.$options.componentName&&t.rootMenu.collapse&&t.$slots.title?i("el-tooltip",{attrs:{effect:"dark",placement:"right"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._t("title")],2),i("div",{staticStyle:{position:"absolute",left:"0",top:"0",height:"100%",width:"100%",display:"inline-block","box-sizing":"border-box",padding:"0 20px"}},[t._t("default")],2)]):[t._t("default"),t._t("title")]],2)};St._withStripped=!0;var Tt=i(26),_t=i.n(Tt),Mt=r({name:"ElMenuItem",componentName:"ElMenuItem",mixins:[xt,E.a],components:{ElTooltip:_t.a},props:{index:{default:null,validator:function(t){return"string"==typeof t||null===t}},route:[String,Object],disabled:Boolean},computed:{active:function(){return this.index===this.rootMenu.activeIndex},hoverBackground:function(){return this.rootMenu.hoverBackground},backgroundColor:function(){return this.rootMenu.backgroundColor||""},activeTextColor:function(){return this.rootMenu.activeTextColor||""},textColor:function(){return this.rootMenu.textColor||""},mode:function(){return this.rootMenu.mode},itemStyle:function(){var t={color:this.active?this.activeTextColor:this.textColor};return"horizontal"!==this.mode||this.isNested||(t.borderBottomColor=this.active?this.rootMenu.activeTextColor?this.activeTextColor:"":"transparent"),t},isNested:function(){return this.parentMenu!==this.rootMenu}},methods:{onMouseEnter:function(){("horizontal"!==this.mode||this.rootMenu.backgroundColor)&&(this.$el.style.backgroundColor=this.hoverBackground)},onMouseLeave:function(){("horizontal"!==this.mode||this.rootMenu.backgroundColor)&&(this.$el.style.backgroundColor=this.backgroundColor)},handleClick:function(){this.disabled||(this.dispatch("ElMenu","item-click",this),this.$emit("click",this))}},mounted:function(){this.parentMenu.addItem(this),this.rootMenu.addItem(this)},beforeDestroy:function(){this.parentMenu.removeItem(this),this.rootMenu.removeItem(this)}},St,[],!1,null,null,null);Mt.options.__file="packages/menu/src/menu-item.vue";var kt=Mt.exports;kt.install=function(t){t.component(kt.name,kt)};var Bt=kt,Ot=function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"el-menu-item-group"},[e("div",{staticClass:"el-menu-item-group__title",style:{paddingLeft:this.levelPadding+"px"}},[this.$slots.title?this._t("title"):[this._v(this._s(this.title))]],2),e("ul",[this._t("default")],2)])};Ot._withStripped=!0;var Pt=r({name:"ElMenuItemGroup",componentName:"ElMenuItemGroup",inject:["rootMenu"],props:{title:{type:String}},data:function(){return{paddingLeft:20}},computed:{levelPadding:function(){var t=20,e=this.$parent;if(this.rootMenu.collapse)return 20;for(;e&&"ElMenu"!==e.$options.componentName;)"ElSubmenu"===e.$options.componentName&&(t+=20),e=e.$parent;return t}}},Ot,[],!1,null,null,null);Pt.options.__file="packages/menu/src/menu-item-group.vue";var Lt=Pt.exports;Lt.install=function(t){t.component(Lt.name,Lt)};var Nt=Lt,It=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["textarea"===t.type?"el-textarea":"el-input",t.inputSize?"el-input--"+t.inputSize:"",{"is-disabled":t.inputDisabled,"is-exceed":t.inputExceed,"el-input-group":t.$slots.prepend||t.$slots.append,"el-input-group--append":t.$slots.append,"el-input-group--prepend":t.$slots.prepend,"el-input--prefix":t.$slots.prefix||t.prefixIcon,"el-input--suffix":t.$slots.suffix||t.suffixIcon||t.clearable||t.showPassword}],on:{mouseenter:function(e){t.hovering=!0},mouseleave:function(e){t.hovering=!1}}},["textarea"!==t.type?[t.$slots.prepend?i("div",{staticClass:"el-input-group__prepend"},[t._t("prepend")],2):t._e(),"textarea"!==t.type?i("input",t._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:t.tabindex,type:t.showPassword?t.passwordVisible?"text":"password":t.type,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"input",t.$attrs,!1)):t._e(),t.$slots.prefix||t.prefixIcon?i("span",{staticClass:"el-input__prefix"},[t._t("prefix"),t.prefixIcon?i("i",{staticClass:"el-input__icon",class:t.prefixIcon}):t._e()],2):t._e(),t.getSuffixVisible()?i("span",{staticClass:"el-input__suffix"},[i("span",{staticClass:"el-input__suffix-inner"},[t.showClear&&t.showPwdVisible&&t.isWordLimitVisible?t._e():[t._t("suffix"),t.suffixIcon?i("i",{staticClass:"el-input__icon",class:t.suffixIcon}):t._e()],t.showClear?i("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(t){t.preventDefault()},click:t.clear}}):t._e(),t.showPwdVisible?i("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:t.handlePasswordVisible}}):t._e(),t.isWordLimitVisible?i("span",{staticClass:"el-input__count"},[i("span",{staticClass:"el-input__count-inner"},[t._v("\n            "+t._s(t.textLength)+"/"+t._s(t.upperLimit)+"\n          ")])]):t._e()],2),t.validateState?i("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",t.validateIcon]}):t._e()]):t._e(),t.$slots.append?i("div",{staticClass:"el-input-group__append"},[t._t("append")],2):t._e()]:i("textarea",t._b({ref:"textarea",staticClass:"el-textarea__inner",style:t.textareaStyle,attrs:{tabindex:t.tabindex,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"textarea",t.$attrs,!1)),t.isWordLimitVisible&&"textarea"===t.type?i("span",{staticClass:"el-input__count"},[t._v(t._s(t.textLength)+"/"+t._s(t.upperLimit))]):t._e()],2)};It._withStripped=!0;var Dt=void 0,Rt="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",Ft=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Ht(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Dt||(Dt=document.createElement("textarea"),document.body.appendChild(Dt));var n=function(t){var e=window.getComputedStyle(t),i=e.getPropertyValue("box-sizing"),n=parseFloat(e.getPropertyValue("padding-bottom"))+parseFloat(e.getPropertyValue("padding-top")),r=parseFloat(e.getPropertyValue("border-bottom-width"))+parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:Ft.map(function(t){return t+":"+e.getPropertyValue(t)}).join(";"),paddingSize:n,borderSize:r,boxSizing:i}}(t),r=n.paddingSize,o=n.borderSize,s=n.boxSizing,a=n.contextStyle;Dt.setAttribute("style",a+";"+Rt),Dt.value=t.value||t.placeholder||"";var l=Dt.scrollHeight,h={};"border-box"===s?l+=o:"content-box"===s&&(l-=r),Dt.value="";var u=Dt.scrollHeight-r;if(null!==e){var c=u*e;"border-box"===s&&(c=c+r+o),l=Math.max(c,l),h.minHeight=c+"px"}if(null!==i){var d=u*i;"border-box"===s&&(d=d+r+o),l=Math.min(d,l)}return h.height=l+"px",Dt.parentNode&&Dt.parentNode.removeChild(Dt),Dt=null,h}var Ut=i(7),Vt=i.n(Ut),jt=i(19),Gt=r({name:"ElInput",componentName:"ElInput",mixins:[E.a,C.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(t){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return Vt()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return"number"==typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(t){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[t])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var t=this;this.$nextTick(function(){t.setNativeInputValue(),t.resizeTextarea(),t.updateIconOffset()})}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(t){this.focused=!1,this.$emit("blur",t),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var t=this.autosize;if("textarea"===this.type)if(t){var e=t.minRows,i=t.maxRows;this.textareaCalcStyle=Ht(this.$refs.textarea,e,i)}else this.textareaCalcStyle={minHeight:Ht(this.$refs.textarea).minHeight}}},setNativeInputValue:function(){var t=this.getInput();t&&t.value!==this.nativeInputValue&&(t.value=this.nativeInputValue)},handleFocus:function(t){this.focused=!0,this.$emit("focus",t)},handleCompositionStart:function(){this.isComposing=!0},handleCompositionUpdate:function(t){var e=t.target.value,i=e[e.length-1]||"";this.isComposing=!Object(jt.isKorean)(i)},handleCompositionEnd:function(t){this.isComposing&&(this.isComposing=!1,this.handleInput(t))},handleInput:function(t){this.isComposing||t.target.value!==this.nativeInputValue&&(this.$emit("input",t.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(t){this.$emit("change",t.target.value)},calcIconOffset:function(t){var e=[].slice.call(this.$el.querySelectorAll(".el-input__"+t)||[]);if(e.length){for(var i=null,n=0;n<e.length;n++)if(e[n].parentNode===this.$el){i=e[n];break}if(i){var r={suffix:"append",prefix:"prepend"}[t];this.$slots[r]?i.style.transform="translateX("+("suffix"===t?"-":"")+this.$el.querySelector(".el-input-group__"+r).offsetWidth+"px)":i.removeAttribute("style")}}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){this.passwordVisible=!this.passwordVisible,this.focus()},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},It,[],!1,null,null,null);Gt.options.__file="packages/input/src/input.vue";var zt=Gt.exports;zt.install=function(t){t.component(zt.name,zt)};var Qt=zt,Yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["el-input-number",t.inputNumberSize?"el-input-number--"+t.inputNumberSize:"",{"is-disabled":t.inputNumberDisabled},{"is-without-controls":!t.controls},{"is-controls-right":t.controlsAtRight}],on:{dragstart:function(t){t.preventDefault()}}},[t.controls?i("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-input-number__decrease",class:{"is-disabled":t.minDisabled},attrs:{role:"button"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.decrease(e):null}}},[i("i",{class:"el-icon-"+(t.controlsAtRight?"arrow-down":"minus")})]):t._e(),t.controls?i("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-input-number__increase",class:{"is-disabled":t.maxDisabled},attrs:{role:"button"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.increase(e):null}}},[i("i",{class:"el-icon-"+(t.controlsAtRight?"arrow-up":"plus")})]):t._e(),i("el-input",{ref:"input",attrs:{value:t.displayValue,placeholder:t.placeholder,disabled:t.inputNumberDisabled,size:t.inputNumberSize,max:t.max,min:t.min,name:t.name,label:t.label},on:{blur:t.handleBlur,focus:t.handleFocus,input:t.handleInput,change:t.handleInputChange},nativeOn:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?(e.preventDefault(),t.increase(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?(e.preventDefault(),t.decrease(e)):null}]}})],1)};Yt._withStripped=!0;var Kt={bind:function(t,e,i){var n=null,r=void 0,o=function(){return i.context[e.expression].apply()},s=function(){Date.now()-r<100&&o(),clearInterval(n),n=null};Object(ft.on)(t,"mousedown",function(t){0===t.button&&(r=Date.now(),Object(ft.once)(document,"mouseup",s),clearInterval(n),n=setInterval(o,100))})}},Xt=r({name:"ElInputNumber",mixins:[V()("input")],inject:{elForm:{default:""},elFormItem:{default:""}},directives:{repeatClick:Kt},components:{ElInput:d.a},props:{step:{type:Number,default:1},stepStrictly:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},value:{},disabled:Boolean,size:String,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:""},name:String,label:String,placeholder:String,precision:{type:Number,validator:function(t){return t>=0&&t===parseInt(t,10)}}},data:function(){return{currentValue:0,userInput:null}},watch:{value:{immediate:!0,handler:function(t){var e=void 0===t?t:Number(t);if(void 0!==e){if(isNaN(e))return;if(this.stepStrictly){var i=this.getPrecision(this.step),n=Math.pow(10,i);e=Math.round(e/this.step)*n*this.step/n}void 0!==this.precision&&(e=this.toPrecision(e,this.precision))}e>=this.max&&(e=this.max),e<=this.min&&(e=this.min),this.currentValue=e,this.userInput=null,this.$emit("input",e)}}},computed:{minDisabled:function(){return this._decrease(this.value,this.step)<this.min},maxDisabled:function(){return this._increase(this.value,this.step)>this.max},numPrecision:function(){var t=this.value,e=this.step,i=this.getPrecision,n=this.precision,r=i(e);return void 0!==n?(r>n&&console.warn("[Element Warn][InputNumber]precision should not be less than the decimal places of step"),n):Math.max(i(t),r)},controlsAtRight:function(){return this.controls&&"right"===this.controlsPosition},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},inputNumberSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputNumberDisabled:function(){return this.disabled||(this.elForm||{}).disabled},displayValue:function(){if(null!==this.userInput)return this.userInput;var t=this.currentValue;if("number"==typeof t){if(this.stepStrictly){var e=this.getPrecision(this.step),i=Math.pow(10,e);t=Math.round(t/this.step)*i*this.step/i}void 0!==this.precision&&(t=t.toFixed(this.precision))}return t}},methods:{toPrecision:function(t,e){return void 0===e&&(e=this.numPrecision),parseFloat(Math.round(t*Math.pow(10,e))/Math.pow(10,e))},getPrecision:function(t){if(void 0===t)return 0;var e=t.toString(),i=e.indexOf("."),n=0;return-1!==i&&(n=e.length-i-1),n},_increase:function(t,e){if("number"!=typeof t&&void 0!==t)return this.currentValue;var i=Math.pow(10,this.numPrecision);return this.toPrecision((i*t+i*e)/i)},_decrease:function(t,e){if("number"!=typeof t&&void 0!==t)return this.currentValue;var i=Math.pow(10,this.numPrecision);return this.toPrecision((i*t-i*e)/i)},increase:function(){if(!this.inputNumberDisabled&&!this.maxDisabled){var t=this.value||0,e=this._increase(t,this.step);this.setCurrentValue(e)}},decrease:function(){if(!this.inputNumberDisabled&&!this.minDisabled){var t=this.value||0,e=this._decrease(t,this.step);this.setCurrentValue(e)}},handleBlur:function(t){this.$emit("blur",t)},handleFocus:function(t){this.$emit("focus",t)},setCurrentValue:function(t){var e=this.currentValue;"number"==typeof t&&void 0!==this.precision&&(t=this.toPrecision(t,this.precision)),t>=this.max&&(t=this.max),t<=this.min&&(t=this.min),e!==t&&(this.userInput=null,this.$emit("input",t),this.$emit("change",t,e),this.currentValue=t)},handleInput:function(t){this.userInput=t},handleInputChange:function(t){var e=""===t?void 0:Number(t);isNaN(e)&&""!==t||this.setCurrentValue(e),this.userInput=null},select:function(){this.$refs.input.select()}},mounted:function(){var t=this.$refs.input.$refs.input;t.setAttribute("role","spinbutton"),t.setAttribute("aria-valuemax",this.max),t.setAttribute("aria-valuemin",this.min),t.setAttribute("aria-valuenow",this.currentValue),t.setAttribute("aria-disabled",this.inputNumberDisabled)},updated:function(){this.$refs&&this.$refs.input&&this.$refs.input.$refs.input.setAttribute("aria-valuenow",this.currentValue)}},Yt,[],!1,null,null,null);Xt.options.__file="packages/input-number/src/input-number.vue";var $t=Xt.exports;$t.install=function(t){t.component($t.name,$t)};var Wt=$t,qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"el-radio",class:[t.border&&t.radioSize?"el-radio--"+t.radioSize:"",{"is-disabled":t.isDisabled},{"is-focus":t.focus},{"is-bordered":t.border},{"is-checked":t.model===t.label}],attrs:{role:"radio","aria-checked":t.model===t.label,"aria-disabled":t.isDisabled,tabindex:t.tabIndex},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.stopPropagation(),e.preventDefault(),t.model=t.isDisabled?t.model:t.label}}},[i("span",{staticClass:"el-radio__input",class:{"is-disabled":t.isDisabled,"is-checked":t.model===t.label}},[i("span",{staticClass:"el-radio__inner"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],ref:"radio",staticClass:"el-radio__original",attrs:{type:"radio","aria-hidden":"true",name:t.name,disabled:t.isDisabled,tabindex:"-1"},domProps:{value:t.label,checked:t._q(t.model,t.label)},on:{focus:function(e){t.focus=!0},blur:function(e){t.focus=!1},change:[function(e){t.model=t.label},t.handleChange]}})]),i("span",{staticClass:"el-radio__label",on:{keydown:function(t){t.stopPropagation()}}},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2)])};qt._withStripped=!0;var Jt=r({name:"ElRadio",mixins:[E.a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElRadio",props:{value:{},label:{},disabled:Boolean,name:String,border:Boolean,size:String},data:function(){return{focus:!1}},computed:{isGroup:function(){for(var t=this.$parent;t;){if("ElRadioGroup"===t.$options.componentName)return this._radioGroup=t,!0;t=t.$parent}return!1},model:{get:function(){return this.isGroup?this._radioGroup.value:this.value},set:function(t){this.isGroup?this.dispatch("ElRadioGroup","input",[t]):this.$emit("input",t),this.$refs.radio&&(this.$refs.radio.checked=this.model===this.label)}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},radioSize:function(){var t=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._radioGroup.radioGroupSize||t},isDisabled:function(){return this.isGroup?this._radioGroup.disabled||this.disabled||(this.elForm||{}).disabled:this.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this.isGroup&&this.model!==this.label?-1:0}},methods:{handleChange:function(){var t=this;this.$nextTick(function(){t.$emit("change",t.model),t.isGroup&&t.dispatch("ElRadioGroup","handleChange",t.model)})}}},qt,[],!1,null,null,null);Jt.options.__file="packages/radio/src/radio.vue";var Zt=Jt.exports;Zt.install=function(t){t.component(Zt.name,Zt)};var te=Zt,ee=function(){var t=this.$createElement;return(this._self._c||t)(this._elTag,{tag:"component",staticClass:"el-radio-group",attrs:{role:"radiogroup"},on:{keydown:this.handleKeydown}},[this._t("default")],2)};ee._withStripped=!0;var ie=Object.freeze({LEFT:37,UP:38,RIGHT:39,DOWN:40}),ne=r({name:"ElRadioGroup",componentName:"ElRadioGroup",inject:{elFormItem:{default:""}},mixins:[E.a],props:{value:{},size:String,fill:String,textColor:String,disabled:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},_elTag:function(){return(this.$vnode.data||{}).tag||"div"},radioGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},created:function(){var t=this;this.$on("handleChange",function(e){t.$emit("change",e)})},mounted:function(){var t=this.$el.querySelectorAll("[type=radio]"),e=this.$el.querySelectorAll("[role=radio]")[0];![].some.call(t,function(t){return t.checked})&&e&&(e.tabIndex=0)},methods:{handleKeydown:function(t){var e=t.target,i="INPUT"===e.nodeName?"[type=radio]":"[role=radio]",n=this.$el.querySelectorAll(i),r=n.length,o=[].indexOf.call(n,e),s=this.$el.querySelectorAll("[role=radio]");switch(t.keyCode){case ie.LEFT:case ie.UP:t.stopPropagation(),t.preventDefault(),0===o?(s[r-1].click(),s[r-1].focus()):(s[o-1].click(),s[o-1].focus());break;case ie.RIGHT:case ie.DOWN:o===r-1?(t.stopPropagation(),t.preventDefault(),s[0].click(),s[0].focus()):(s[o+1].click(),s[o+1].focus())}}},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",[this.value])}}},ee,[],!1,null,null,null);ne.options.__file="packages/radio/src/radio-group.vue";var re=ne.exports;re.install=function(t){t.component(re.name,re)};var oe=re,se=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"el-radio-button",class:[t.size?"el-radio-button--"+t.size:"",{"is-active":t.value===t.label},{"is-disabled":t.isDisabled},{"is-focus":t.focus}],attrs:{role:"radio","aria-checked":t.value===t.label,"aria-disabled":t.isDisabled,tabindex:t.tabIndex},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.stopPropagation(),e.preventDefault(),t.value=t.isDisabled?t.value:t.label}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"el-radio-button__orig-radio",attrs:{type:"radio",name:t.name,disabled:t.isDisabled,tabindex:"-1"},domProps:{value:t.label,checked:t._q(t.value,t.label)},on:{change:[function(e){t.value=t.label},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}),i("span",{staticClass:"el-radio-button__inner",style:t.value===t.label?t.activeStyle:null,on:{keydown:function(t){t.stopPropagation()}}},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2)])};se._withStripped=!0;var ae=r({name:"ElRadioButton",mixins:[E.a],inject:{elForm:{default:""},elFormItem:{default:""}},props:{label:{},disabled:Boolean,name:String},data:function(){return{focus:!1}},computed:{value:{get:function(){return this._radioGroup.value},set:function(t){this._radioGroup.$emit("input",t)}},_radioGroup:function(){for(var t=this.$parent;t;){if("ElRadioGroup"===t.$options.componentName)return t;t=t.$parent}return!1},activeStyle:function(){return{backgroundColor:this._radioGroup.fill||"",borderColor:this._radioGroup.fill||"",boxShadow:this._radioGroup.fill?"-1px 0 0 0 "+this._radioGroup.fill:"",color:this._radioGroup.textColor||""}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},size:function(){return this._radioGroup.radioGroupSize||this._elFormItemSize||(this.$ELEMENT||{}).size},isDisabled:function(){return this.disabled||this._radioGroup.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this._radioGroup&&this.value!==this.label?-1:0}},methods:{handleChange:function(){var t=this;this.$nextTick(function(){t.dispatch("ElRadioGroup","handleChange",t.value)})}}},se,[],!1,null,null,null);ae.options.__file="packages/radio/src/radio-button.vue";var le=ae.exports;le.install=function(t){t.component(le.name,le)};var he=le,ue=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"el-checkbox",class:[t.border&&t.checkboxSize?"el-checkbox--"+t.checkboxSize:"",{"is-disabled":t.isDisabled},{"is-bordered":t.border},{"is-checked":t.isChecked}],attrs:{id:t.id}},[i("span",{staticClass:"el-checkbox__input",class:{"is-disabled":t.isDisabled,"is-checked":t.isChecked,"is-indeterminate":t.indeterminate,"is-focus":t.focus},attrs:{tabindex:!!t.indeterminate&&0,role:!!t.indeterminate&&"checkbox","aria-checked":!!t.indeterminate&&"mixed"}},[i("span",{staticClass:"el-checkbox__inner"}),t.trueLabel||t.falseLabel?i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":t.indeterminate?"true":"false",name:t.name,disabled:t.isDisabled,"true-value":t.trueLabel,"false-value":t.falseLabel},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t._q(t.model,t.trueLabel)},on:{change:[function(e){var i=t.model,n=e.target,r=n.checked?t.trueLabel:t.falseLabel;if(Array.isArray(i)){var o=t._i(i,null);n.checked?o<0&&(t.model=i.concat([null])):o>-1&&(t.model=i.slice(0,o).concat(i.slice(o+1)))}else t.model=r},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":t.indeterminate?"true":"false",disabled:t.isDisabled,name:t.name},domProps:{value:t.label,checked:Array.isArray(t.model)?t._i(t.model,t.label)>-1:t.model},on:{change:[function(e){var i=t.model,n=e.target,r=!!n.checked;if(Array.isArray(i)){var o=t.label,s=t._i(i,o);n.checked?s<0&&(t.model=i.concat([o])):s>-1&&(t.model=i.slice(0,s).concat(i.slice(s+1)))}else t.model=r},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}})]),t.$slots.default||t.label?i("span",{staticClass:"el-checkbox__label"},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2):t._e()])};ue._withStripped=!0;var ce=r({name:"ElCheckbox",mixins:[E.a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElCheckbox",data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},computed:{model:{get:function(){return this.isGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(t){this.isGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&t.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&t.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[t])):(this.$emit("input",t),this.selfModel=t)}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?this.model.indexOf(this.label)>-1:null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},isGroup:function(){for(var t=this.$parent;t;){if("ElCheckboxGroup"===t.$options.componentName)return this._checkboxGroup=t,!0;t=t.$parent}return!1},store:function(){return this._checkboxGroup?this._checkboxGroup.value:this.value},isLimitDisabled:function(){var t=this._checkboxGroup,e=t.max,i=t.min;return!(!e&&!i)&&this.model.length>=e&&!this.isChecked||this.model.length<=i&&this.isChecked},isDisabled:function(){return this.isGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxSize:function(){var t=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._checkboxGroup.checkboxGroupSize||t}},props:{value:{},label:{},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number],id:String,controls:String,border:Boolean,size:String},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(t){var e=this;if(!this.isLimitExceeded){var i=void 0;i=t.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",i,t),this.$nextTick(function(){e.isGroup&&e.dispatch("ElCheckboxGroup","change",[e._checkboxGroup.value])})}}},created:function(){this.checked&&this.addToStore()},mounted:function(){this.indeterminate&&this.$el.setAttribute("aria-controls",this.controls)},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",t)}}},ue,[],!1,null,null,null);ce.options.__file="packages/checkbox/src/checkbox.vue";var de=ce.exports;de.install=function(t){t.component(de.name,de)};var pe=de,fe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"el-checkbox-button",class:[t.size?"el-checkbox-button--"+t.size:"",{"is-disabled":t.isDisabled},{"is-checked":t.isChecked},{"is-focus":t.focus}],attrs:{role:"checkbox","aria-checked":t.isChecked,"aria-disabled":t.isDisabled}},[t.trueLabel||t.falseLabel?i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox-button__original",attrs:{type:"checkbox",name:t.name,disabled:t.isDisabled,"true-value":t.trueLabel,"false-value":t.falseLabel},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t._q(t.model,t.trueLabel)},on:{change:[function(e){var i=t.model,n=e.target,r=n.checked?t.trueLabel:t.falseLabel;if(Array.isArray(i)){var o=t._i(i,null);n.checked?o<0&&(t.model=i.concat([null])):o>-1&&(t.model=i.slice(0,o).concat(i.slice(o+1)))}else t.model=r},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox-button__original",attrs:{type:"checkbox",name:t.name,disabled:t.isDisabled},domProps:{value:t.label,checked:Array.isArray(t.model)?t._i(t.model,t.label)>-1:t.model},on:{change:[function(e){var i=t.model,n=e.target,r=!!n.checked;if(Array.isArray(i)){var o=t.label,s=t._i(i,o);n.checked?s<0&&(t.model=i.concat([o])):s>-1&&(t.model=i.slice(0,s).concat(i.slice(s+1)))}else t.model=r},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}),t.$slots.default||t.label?i("span",{staticClass:"el-checkbox-button__inner",style:t.isChecked?t.activeStyle:null},[t._t("default",[t._v(t._s(t.label))])],2):t._e()])};fe._withStripped=!0;var me=r({name:"ElCheckboxButton",mixins:[E.a],inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},props:{value:{},label:{},disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number]},computed:{model:{get:function(){return this._checkboxGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(t){this._checkboxGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&t.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&t.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[t])):void 0!==this.value?this.$emit("input",t):this.selfModel=t}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?this.model.indexOf(this.label)>-1:null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},_checkboxGroup:function(){for(var t=this.$parent;t;){if("ElCheckboxGroup"===t.$options.componentName)return t;t=t.$parent}return!1},store:function(){return this._checkboxGroup?this._checkboxGroup.value:this.value},activeStyle:function(){return{backgroundColor:this._checkboxGroup.fill||"",borderColor:this._checkboxGroup.fill||"",color:this._checkboxGroup.textColor||"","box-shadow":"-1px 0 0 0 "+this._checkboxGroup.fill}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},size:function(){return this._checkboxGroup.checkboxGroupSize||this._elFormItemSize||(this.$ELEMENT||{}).size},isLimitDisabled:function(){var t=this._checkboxGroup,e=t.max,i=t.min;return!(!e&&!i)&&this.model.length>=e&&!this.isChecked||this.model.length<=i&&this.isChecked},isDisabled:function(){return this._checkboxGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled}},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(t){var e=this;if(!this.isLimitExceeded){var i=void 0;i=t.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",i,t),this.$nextTick(function(){e._checkboxGroup&&e.dispatch("ElCheckboxGroup","change",[e._checkboxGroup.value])})}}},created:function(){this.checked&&this.addToStore()}},fe,[],!1,null,null,null);me.options.__file="packages/checkbox/src/checkbox-button.vue";var ge=me.exports;ge.install=function(t){t.component(ge.name,ge)};var ve=ge,Ae=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-checkbox-group",attrs:{role:"group","aria-label":"checkbox-group"}},[this._t("default")],2)};Ae._withStripped=!0;var ye=r({name:"ElCheckboxGroup",componentName:"ElCheckboxGroup",mixins:[E.a],inject:{elFormItem:{default:""}},props:{value:{},disabled:Boolean,min:Number,max:Number,size:String,fill:String,textColor:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",[t])}}},Ae,[],!1,null,null,null);ye.options.__file="packages/checkbox/src/checkbox-group.vue";var xe=ye.exports;xe.install=function(t){t.component(xe.name,xe)};var be=xe,Ce=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-switch",class:{"is-disabled":t.switchDisabled,"is-checked":t.checked},attrs:{role:"switch","aria-checked":t.checked,"aria-disabled":t.switchDisabled},on:{click:function(e){return e.preventDefault(),t.switchValue(e)}}},[i("input",{ref:"input",staticClass:"el-switch__input",attrs:{type:"checkbox",id:t.id,name:t.name,"true-value":t.activeValue,"false-value":t.inactiveValue,disabled:t.switchDisabled},on:{change:t.handleChange,keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.switchValue(e):null}}}),t.inactiveIconClass||t.inactiveText?i("span",{class:["el-switch__label","el-switch__label--left",t.checked?"":"is-active"]},[t.inactiveIconClass?i("i",{class:[t.inactiveIconClass]}):t._e(),!t.inactiveIconClass&&t.inactiveText?i("span",{attrs:{"aria-hidden":t.checked}},[t._v(t._s(t.inactiveText))]):t._e()]):t._e(),i("span",{ref:"core",staticClass:"el-switch__core",style:{width:t.coreWidth+"px"}}),t.activeIconClass||t.activeText?i("span",{class:["el-switch__label","el-switch__label--right",t.checked?"is-active":""]},[t.activeIconClass?i("i",{class:[t.activeIconClass]}):t._e(),!t.activeIconClass&&t.activeText?i("span",{attrs:{"aria-hidden":!t.checked}},[t._v(t._s(t.activeText))]):t._e()]):t._e()])};Ce._withStripped=!0;var we=r({name:"ElSwitch",mixins:[V()("input"),C.a,E.a],inject:{elForm:{default:""}},props:{value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:40},activeIconClass:{type:String,default:""},inactiveIconClass:{type:String,default:""},activeText:String,inactiveText:String,activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String},data:function(){return{coreWidth:this.width}},created:function(){~[this.activeValue,this.inactiveValue].indexOf(this.value)||this.$emit("input",this.inactiveValue)},computed:{checked:function(){return this.value===this.activeValue},switchDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{checked:function(){this.$refs.input.checked=this.checked,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor(),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[this.value])}},methods:{handleChange:function(t){var e=this,i=this.checked?this.inactiveValue:this.activeValue;this.$emit("input",i),this.$emit("change",i),this.$nextTick(function(){e.$refs.input.checked=e.checked})},setBackgroundColor:function(){var t=this.checked?this.activeColor:this.inactiveColor;this.$refs.core.style.borderColor=t,this.$refs.core.style.backgroundColor=t},switchValue:function(){!this.switchDisabled&&this.handleChange()},getMigratingConfig:function(){return{props:{"on-color":"on-color is renamed to active-color.","off-color":"off-color is renamed to inactive-color.","on-text":"on-text is renamed to active-text.","off-text":"off-text is renamed to inactive-text.","on-value":"on-value is renamed to active-value.","off-value":"off-value is renamed to inactive-value.","on-icon-class":"on-icon-class is renamed to active-icon-class.","off-icon-class":"off-icon-class is renamed to inactive-icon-class."}}}},mounted:function(){this.coreWidth=this.width||40,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor(),this.$refs.input.checked=this.checked}},Ce,[],!1,null,null,null);we.options.__file="packages/switch/src/component.vue";var Ee=we.exports;Ee.install=function(t){t.component(Ee.name,Ee)};var Se=Ee,Te=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],staticClass:"el-select",class:[t.selectSize?"el-select--"+t.selectSize:""],on:{click:function(e){return e.stopPropagation(),t.toggleMenu(e)}}},[t.multiple?i("div",{ref:"tags",staticClass:"el-select__tags",style:{"max-width":t.inputWidth-32+"px",width:"100%"}},[t.collapseTags&&t.selected.length?i("span",[i("el-tag",{attrs:{closable:!t.selectDisabled,size:t.collapseTagSize,hit:t.selected[0].hitState,type:"info","disable-transitions":""},on:{close:function(e){t.deleteTag(e,t.selected[0])}}},[i("span",{staticClass:"el-select__tags-text"},[t._v(t._s(t.selected[0].currentLabel))])]),t.selected.length>1?i("el-tag",{attrs:{closable:!1,size:t.collapseTagSize,type:"info","disable-transitions":""}},[i("span",{staticClass:"el-select__tags-text"},[t._v("+ "+t._s(t.selected.length-1))])]):t._e()],1):t._e(),t.collapseTags?t._e():i("transition-group",{on:{"after-leave":t.resetInputHeight}},t._l(t.selected,function(e){return i("el-tag",{key:t.getValueKey(e),attrs:{closable:!t.selectDisabled,size:t.collapseTagSize,hit:e.hitState,type:"info","disable-transitions":""},on:{close:function(i){t.deleteTag(i,e)}}},[i("span",{staticClass:"el-select__tags-text"},[t._v(t._s(e.currentLabel))])])}),1),t.filterable?i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"input",staticClass:"el-select__input",class:[t.selectSize?"is-"+t.selectSize:""],style:{"flex-grow":"1",width:t.inputLength/(t.inputWidth-32)+"%","max-width":t.inputWidth-42+"px"},attrs:{type:"text",disabled:t.selectDisabled,autocomplete:t.autoComplete||t.autocomplete},domProps:{value:t.query},on:{focus:t.handleFocus,blur:function(e){t.softFocus=!1},keyup:t.managePlaceholder,keydown:[t.resetInputState,function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault(),t.navigateOptions("next")},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault(),t.navigateOptions("prev")},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.selectOption(e)):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation(),e.preventDefault(),t.visible=!1},function(e){return"button"in e||!t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?t.deletePrevTag(e):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key,"Tab"))return null;t.visible=!1}],compositionstart:t.handleComposition,compositionupdate:t.handleComposition,compositionend:t.handleComposition,input:[function(e){e.target.composing||(t.query=e.target.value)},t.debouncedQueryChange]}}):t._e()],1):t._e(),i("el-input",{ref:"reference",class:{"is-focus":t.visible},attrs:{type:"text",placeholder:t.currentPlaceholder,name:t.name,id:t.id,autocomplete:t.autoComplete||t.autocomplete,size:t.selectSize,disabled:t.selectDisabled,readonly:t.readonly,"validate-event":!1,tabindex:t.multiple&&t.filterable?"-1":null},on:{focus:t.handleFocus,blur:t.handleBlur},nativeOn:{keyup:function(e){return t.debouncedOnInputChange(e)},keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.stopPropagation(),e.preventDefault(),t.navigateOptions("next")},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.stopPropagation(),e.preventDefault(),t.navigateOptions("prev")},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.selectOption(e)):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation(),e.preventDefault(),t.visible=!1},function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key,"Tab"))return null;t.visible=!1}],paste:function(e){return t.debouncedOnInputChange(e)},mouseenter:function(e){t.inputHovering=!0},mouseleave:function(e){t.inputHovering=!1}},model:{value:t.selectedLabel,callback:function(e){t.selectedLabel=e},expression:"selectedLabel"}},[t.$slots.prefix?i("template",{slot:"prefix"},[t._t("prefix")],2):t._e(),i("template",{slot:"suffix"},[i("i",{directives:[{name:"show",rawName:"v-show",value:!t.showClose,expression:"!showClose"}],class:["el-select__caret","el-input__icon","el-icon-"+t.iconClass]}),t.showClose?i("i",{staticClass:"el-select__caret el-input__icon el-icon-circle-close",on:{click:t.handleClearClick}}):t._e()])],2),i("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":t.handleMenuEnter,"after-leave":t.doDestroy}},[i("el-select-menu",{directives:[{name:"show",rawName:"v-show",value:t.visible&&!1!==t.emptyText,expression:"visible && emptyText !== false"}],ref:"popper",attrs:{"append-to-body":t.popperAppendToBody}},[i("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:t.options.length>0&&!t.loading,expression:"options.length > 0 && !loading"}],ref:"scrollbar",class:{"is-empty":!t.allowCreate&&t.query&&0===t.filteredOptionsCount},attrs:{tag:"ul","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list"}},[t.showNewOption?i("el-option",{attrs:{value:t.query,created:""}}):t._e(),t._t("default")],2),t.emptyText&&(!t.allowCreate||t.loading||t.allowCreate&&0===t.options.length)?[t.$slots.empty?t._t("empty"):i("p",{staticClass:"el-select-dropdown__empty"},[t._v("\n          "+t._s(t.emptyText)+"\n        ")])]:t._e()],2)],1)],1)};Te._withStripped=!0;var _e=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-select-dropdown el-popper",class:[{"is-multiple":this.$parent.multiple},this.popperClass],style:{minWidth:this.minWidth}},[this._t("default")],2)};_e._withStripped=!0;var Me=r({name:"ElSelectDropdown",componentName:"ElSelectDropdown",mixins:[I.a],props:{placement:{default:"bottom-start"},boundariesPadding:{default:0},popperOptions:{default:function(){return{gpuAcceleration:!1}}},visibleArrow:{default:!0},appendToBody:{type:Boolean,default:!0}},data:function(){return{minWidth:""}},computed:{popperClass:function(){return this.$parent.popperClass}},watch:{"$parent.inputWidth":function(){this.minWidth=this.$parent.$el.getBoundingClientRect().width+"px"}},mounted:function(){var t=this;this.referenceElm=this.$parent.$refs.reference.$el,this.$parent.popperElm=this.popperElm=this.$el,this.$on("updatePopper",function(){t.$parent.visible&&t.updatePopper()}),this.$on("destroyPopper",this.destroyPopper)}},_e,[],!1,null,null,null);Me.options.__file="packages/select/src/select-dropdown.vue";var ke=Me.exports,Be=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:t.itemSelected,"is-disabled":t.disabled||t.groupDisabled||t.limitReached,hover:t.hover},on:{mouseenter:t.hoverItem,click:function(e){return e.stopPropagation(),t.selectOptionClick(e)}}},[t._t("default",[i("span",[t._v(t._s(t.currentLabel))])])],2)};Be._withStripped=!0;var Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pe=r({mixins:[E.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(t,e){var i=this.select,n=i.remote,r=i.valueKey;if(!this.created&&!n){if(r&&"object"===(void 0===t?"undefined":Oe(t))&&"object"===(void 0===e?"undefined":Oe(e))&&t[r]===e[r])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(t,e){if(this.isObject){var i=this.select.valueKey;return Object(m.getValueByPath)(t,i)===Object(m.getValueByPath)(e,i)}return t===e},contains:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if(this.isObject){var i=this.select.valueKey;return t&&t.some(function(t){return Object(m.getValueByPath)(t,i)===Object(m.getValueByPath)(e,i)})}return t&&t.indexOf(e)>-1},handleGroupDisabled:function(t){this.groupDisabled=t},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(t){this.visible=new RegExp(Object(m.escapeRegexpString)(t),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var t=this.select,e=t.selected,i=t.multiple?e:[e],n=this.select.cachedOptions.indexOf(this),r=i.indexOf(this);n>-1&&r<0&&this.select.cachedOptions.splice(n,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},Be,[],!1,null,null,null);Pe.options.__file="packages/select/src/option.vue";var Le=Pe.exports,Ne=i(30),Ie=i.n(Ne),De=i(13),Re=i(11),Fe=i.n(Re),He=i(27),Ue=i.n(He),Ve=r({mixins:[E.a,f.a,V()("reference"),{data:function(){return{hoverOption:-1}},computed:{optionsAllDisabled:function(){return this.options.filter(function(t){return t.visible}).every(function(t){return t.disabled})}},watch:{hoverIndex:function(t){var e=this;"number"==typeof t&&t>-1&&(this.hoverOption=this.options[t]||{}),this.options.forEach(function(t){t.hover=e.hoverOption===t})}},methods:{navigateOptions:function(t){var e=this;if(this.visible){if(0!==this.options.length&&0!==this.filteredOptionsCount&&!this.optionsAllDisabled){"next"===t?(this.hoverIndex++,this.hoverIndex===this.options.length&&(this.hoverIndex=0)):"prev"===t&&(this.hoverIndex--,this.hoverIndex<0&&(this.hoverIndex=this.options.length-1));var i=this.options[this.hoverIndex];!0!==i.disabled&&!0!==i.groupDisabled&&i.visible||this.navigateOptions(t),this.$nextTick(function(){return e.scrollToOption(e.hoverOption)})}}else this.visible=!0}}}],name:"ElSelect",componentName:"ElSelect",inject:{elForm:{default:""},elFormItem:{default:""}},provide:function(){return{select:this}},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},readonly:function(){return!this.filterable||this.multiple||!Object(m.isIE)()&&!Object(m.isEdge)()&&!this.visible},showClose:function(){var t=this.multiple?Array.isArray(this.value)&&this.value.length>0:void 0!==this.value&&null!==this.value&&""!==this.value;return this.clearable&&!this.selectDisabled&&this.inputHovering&&t},iconClass:function(){return this.remote&&this.filterable?"":this.visible?"arrow-up is-reverse":"arrow-up"},debounce:function(){return this.remote?300:0},emptyText:function(){return this.loading?this.loadingText||this.t("el.select.loading"):(!this.remote||""!==this.query||0!==this.options.length)&&(this.filterable&&this.query&&this.options.length>0&&0===this.filteredOptionsCount?this.noMatchText||this.t("el.select.noMatch"):0===this.options.length?this.noDataText||this.t("el.select.noData"):null)},showNewOption:function(){var t=this,e=this.options.filter(function(t){return!t.created}).some(function(e){return e.currentLabel===t.query});return this.filterable&&this.allowCreate&&""!==this.query&&!e},selectSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},selectDisabled:function(){return this.disabled||(this.elForm||{}).disabled},collapseTagSize:function(){return["small","mini"].indexOf(this.selectSize)>-1?"mini":"small"}},components:{ElInput:d.a,ElSelectMenu:ke,ElOption:Le,ElTag:Ie.a,ElScrollbar:R.a},directives:{Clickoutside:P.a},props:{name:String,id:String,value:{required:!0},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(t){return!0}},automaticDropdown:Boolean,size:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:String,remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String,default:function(){return Object(Re.t)("el.select.placeholder")}},defaultFirstOption:Boolean,reserveKeyword:Boolean,valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:!0}},data:function(){return{options:[],cachedOptions:[],createdLabel:null,createdSelected:!1,selected:this.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,cachedPlaceHolder:"",optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,currentPlaceholder:"",menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1}},watch:{selectDisabled:function(){var t=this;this.$nextTick(function(){t.resetInputHeight()})},placeholder:function(t){this.cachedPlaceHolder=this.currentPlaceholder=t},value:function(t,e){this.multiple&&(this.resetInputHeight(),t&&t.length>0||this.$refs.input&&""!==this.query?this.currentPlaceholder="":this.currentPlaceholder=this.cachedPlaceHolder,this.filterable&&!this.reserveKeyword&&(this.query="",this.handleQueryChange(this.query))),this.setSelected(),this.filterable&&!this.multiple&&(this.inputLength=20),Object(m.valueEquals)(t,e)||this.dispatch("ElFormItem","el.form.change",t)},visible:function(t){var e=this;t?(this.broadcast("ElSelectDropdown","updatePopper"),this.filterable&&(this.query=this.remote?"":this.selectedLabel,this.handleQueryChange(this.query),this.multiple?this.$refs.input.focus():(this.remote||(this.broadcast("ElOption","queryChange",""),this.broadcast("ElOptionGroup","queryChange")),this.selectedLabel&&(this.currentPlaceholder=this.selectedLabel,this.selectedLabel="")))):(this.broadcast("ElSelectDropdown","destroyPopper"),this.$refs.input&&this.$refs.input.blur(),this.query="",this.previousQuery=null,this.selectedLabel="",this.inputLength=20,this.menuVisibleOnFocus=!1,this.resetHoverIndex(),this.$nextTick(function(){e.$refs.input&&""===e.$refs.input.value&&0===e.selected.length&&(e.currentPlaceholder=e.cachedPlaceHolder)}),this.multiple||(this.selected&&(this.filterable&&this.allowCreate&&this.createdSelected&&this.createdLabel?this.selectedLabel=this.createdLabel:this.selectedLabel=this.selected.currentLabel,this.filterable&&(this.query=this.selectedLabel)),this.filterable&&(this.currentPlaceholder=this.cachedPlaceHolder))),this.$emit("visible-change",t)},options:function(){var t=this;if(!this.$isServer){this.$nextTick(function(){t.broadcast("ElSelectDropdown","updatePopper")}),this.multiple&&this.resetInputHeight();var e=this.$el.querySelectorAll("input");-1===[].indexOf.call(e,document.activeElement)&&this.setSelected(),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()}}},methods:{handleComposition:function(t){var e=this,i=t.target.value;if("compositionend"===t.type)this.isOnComposition=!1,this.$nextTick(function(t){return e.handleQueryChange(i)});else{var n=i[i.length-1]||"";this.isOnComposition=!Object(jt.isKorean)(n)}},handleQueryChange:function(t){var e=this;this.previousQuery===t||this.isOnComposition||(null!==this.previousQuery||"function"!=typeof this.filterMethod&&"function"!=typeof this.remoteMethod?(this.previousQuery=t,this.$nextTick(function(){e.visible&&e.broadcast("ElSelectDropdown","updatePopper")}),this.hoverIndex=-1,this.multiple&&this.filterable&&this.$nextTick(function(){var t=15*e.$refs.input.value.length+20;e.inputLength=e.collapseTags?Math.min(50,t):t,e.managePlaceholder(),e.resetInputHeight()}),this.remote&&"function"==typeof this.remoteMethod?(this.hoverIndex=-1,this.remoteMethod(t)):"function"==typeof this.filterMethod?(this.filterMethod(t),this.broadcast("ElOptionGroup","queryChange")):(this.filteredOptionsCount=this.optionsCount,this.broadcast("ElOption","queryChange",t),this.broadcast("ElOptionGroup","queryChange")),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()):this.previousQuery=t)},scrollToOption:function(t){var e=Array.isArray(t)&&t[0]?t[0].$el:t.$el;if(this.$refs.popper&&e){var i=this.$refs.popper.$el.querySelector(".el-select-dropdown__wrap");Ue()(i,e)}this.$refs.scrollbar&&this.$refs.scrollbar.handleScroll()},handleMenuEnter:function(){var t=this;this.$nextTick(function(){return t.scrollToOption(t.selected)})},emitChange:function(t){Object(m.valueEquals)(this.value,t)||this.$emit("change",t)},getOption:function(t){for(var e=void 0,i="[object object]"===Object.prototype.toString.call(t).toLowerCase(),n="[object null]"===Object.prototype.toString.call(t).toLowerCase(),r="[object undefined]"===Object.prototype.toString.call(t).toLowerCase(),o=this.cachedOptions.length-1;o>=0;o--){var s=this.cachedOptions[o];if(i?Object(m.getValueByPath)(s.value,this.valueKey)===Object(m.getValueByPath)(t,this.valueKey):s.value===t){e=s;break}}if(e)return e;var a={value:t,currentLabel:i||n||r?"":t};return this.multiple&&(a.hitState=!1),a},setSelected:function(){var t=this;if(!this.multiple){var e=this.getOption(this.value);return e.created?(this.createdLabel=e.currentLabel,this.createdSelected=!0):this.createdSelected=!1,this.selectedLabel=e.currentLabel,this.selected=e,void(this.filterable&&(this.query=this.selectedLabel))}var i=[];Array.isArray(this.value)&&this.value.forEach(function(e){i.push(t.getOption(e))}),this.selected=i,this.$nextTick(function(){t.resetInputHeight()})},handleFocus:function(t){this.softFocus?this.softFocus=!1:((this.automaticDropdown||this.filterable)&&(this.visible=!0,this.filterable&&(this.menuVisibleOnFocus=!0)),this.$emit("focus",t))},blur:function(){this.visible=!1,this.$refs.reference.blur()},handleBlur:function(t){var e=this;setTimeout(function(){e.isSilentBlur?e.isSilentBlur=!1:e.$emit("blur",t)},50),this.softFocus=!1},handleClearClick:function(t){this.deleteSelected(t)},doDestroy:function(){this.$refs.popper&&this.$refs.popper.doDestroy()},handleClose:function(){this.visible=!1},toggleLastOptionHitState:function(t){if(Array.isArray(this.selected)){var e=this.selected[this.selected.length-1];if(e)return!0===t||!1===t?(e.hitState=t,t):(e.hitState=!e.hitState,e.hitState)}},deletePrevTag:function(t){if(t.target.value.length<=0&&!this.toggleLastOptionHitState()){var e=this.value.slice();e.pop(),this.$emit("input",e),this.emitChange(e)}},managePlaceholder:function(){""!==this.currentPlaceholder&&(this.currentPlaceholder=this.$refs.input.value?"":this.cachedPlaceHolder)},resetInputState:function(t){8!==t.keyCode&&this.toggleLastOptionHitState(!1),this.inputLength=15*this.$refs.input.value.length+20,this.resetInputHeight()},resetInputHeight:function(){var t=this;this.collapseTags&&!this.filterable||this.$nextTick(function(){if(t.$refs.reference){var e=t.$refs.reference.$el.childNodes,i=[].filter.call(e,function(t){return"INPUT"===t.tagName})[0],n=t.$refs.tags,r=t.initialInputHeight||40;i.style.height=0===t.selected.length?r+"px":Math.max(n?n.clientHeight+(n.clientHeight>r?6:0):0,r)+"px",t.visible&&!1!==t.emptyText&&t.broadcast("ElSelectDropdown","updatePopper")}})},resetHoverIndex:function(){var t=this;setTimeout(function(){t.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map(function(e){return t.options.indexOf(e)})):t.hoverIndex=-1:t.hoverIndex=t.options.indexOf(t.selected)},300)},handleOptionSelect:function(t,e){var i=this;if(this.multiple){var n=(this.value||[]).slice(),r=this.getValueIndex(n,t.value);r>-1?n.splice(r,1):(this.multipleLimit<=0||n.length<this.multipleLimit)&&n.push(t.value),this.$emit("input",n),this.emitChange(n),t.created&&(this.query="",this.handleQueryChange(""),this.inputLength=20),this.filterable&&this.$refs.input.focus()}else this.$emit("input",t.value),this.emitChange(t.value),this.visible=!1;this.isSilentBlur=e,this.setSoftFocus(),this.visible||this.$nextTick(function(){i.scrollToOption(t)})},setSoftFocus:function(){this.softFocus=!0;var t=this.$refs.input||this.$refs.reference;t&&t.focus()},getValueIndex:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if("[object object]"===Object.prototype.toString.call(e).toLowerCase()){var i=this.valueKey,n=-1;return t.some(function(t,r){return Object(m.getValueByPath)(t,i)===Object(m.getValueByPath)(e,i)&&(n=r,!0)}),n}return t.indexOf(e)},toggleMenu:function(){this.selectDisabled||(this.menuVisibleOnFocus?this.menuVisibleOnFocus=!1:this.visible=!this.visible,this.visible&&(this.$refs.input||this.$refs.reference).focus())},selectOption:function(){this.visible?this.options[this.hoverIndex]&&this.handleOptionSelect(this.options[this.hoverIndex]):this.toggleMenu()},deleteSelected:function(t){t.stopPropagation();var e=this.multiple?[]:"";this.$emit("input",e),this.emitChange(e),this.visible=!1,this.$emit("clear")},deleteTag:function(t,e){var i=this.selected.indexOf(e);if(i>-1&&!this.selectDisabled){var n=this.value.slice();n.splice(i,1),this.$emit("input",n),this.emitChange(n),this.$emit("remove-tag",e.value)}t.stopPropagation()},onInputChange:function(){this.filterable&&this.query!==this.selectedLabel&&(this.query=this.selectedLabel,this.handleQueryChange(this.query))},onOptionDestroy:function(t){t>-1&&(this.optionsCount--,this.filteredOptionsCount--,this.options.splice(t,1))},resetInputWidth:function(){this.inputWidth=this.$refs.reference.$el.getBoundingClientRect().width},handleResize:function(){this.resetInputWidth(),this.multiple&&this.resetInputHeight()},checkDefaultFirstOption:function(){this.hoverIndex=-1;for(var t=!1,e=this.options.length-1;e>=0;e--)if(this.options[e].created){t=!0,this.hoverIndex=e;break}if(!t)for(var i=0;i!==this.options.length;++i){var n=this.options[i];if(this.query){if(!n.disabled&&!n.groupDisabled&&n.visible){this.hoverIndex=i;break}}else if(n.itemSelected){this.hoverIndex=i;break}}},getValueKey:function(t){return"[object object]"!==Object.prototype.toString.call(t.value).toLowerCase()?t.value:Object(m.getValueByPath)(t.value,this.valueKey)}},created:function(){var t=this;this.cachedPlaceHolder=this.currentPlaceholder=this.placeholder,this.multiple&&!Array.isArray(this.value)&&this.$emit("input",[]),!this.multiple&&Array.isArray(this.value)&&this.$emit("input",""),this.debouncedOnInputChange=B()(this.debounce,function(){t.onInputChange()}),this.debouncedQueryChange=B()(this.debounce,function(e){t.handleQueryChange(e.target.value)}),this.$on("handleOptionClick",this.handleOptionSelect),this.$on("setSelected",this.setSelected)},mounted:function(){var t=this;this.multiple&&Array.isArray(this.value)&&this.value.length>0&&(this.currentPlaceholder=""),Object(De.addResizeListener)(this.$el,this.handleResize);var e=this.$refs.reference;if(e&&e.$el){var i=e.$el.querySelector("input");this.initialInputHeight=i.getBoundingClientRect().height||{medium:36,small:32,mini:28}[this.selectSize]}this.remote&&this.multiple&&this.resetInputHeight(),this.$nextTick(function(){e&&e.$el&&(t.inputWidth=e.$el.getBoundingClientRect().width)}),this.setSelected()},beforeDestroy:function(){this.$el&&this.handleResize&&Object(De.removeResizeListener)(this.$el,this.handleResize)}},Te,[],!1,null,null,null);Ve.options.__file="packages/select/src/select.vue";var je=Ve.exports;je.install=function(t){t.component(je.name,je)};var Ge=je;Le.install=function(t){t.component(Le.name,Le)};var ze=Le,Qe=function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"el-select-group__wrap"},[e("li",{staticClass:"el-select-group__title"},[this._v(this._s(this.label))]),e("li",[e("ul",{staticClass:"el-select-group"},[this._t("default")],2)])])};Qe._withStripped=!0;var Ye=r({mixins:[E.a],name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},data:function(){return{visible:!0}},watch:{disabled:function(t){this.broadcast("ElOption","handleGroupDisabled",t)}},methods:{queryChange:function(){this.visible=this.$children&&Array.isArray(this.$children)&&this.$children.some(function(t){return!0===t.visible})}},created:function(){this.$on("queryChange",this.queryChange)},mounted:function(){this.disabled&&this.broadcast("ElOption","handleGroupDisabled",this.disabled)}},Qe,[],!1,null,null,null);Ye.options.__file="packages/select/src/option-group.vue";var Ke=Ye.exports;Ke.install=function(t){t.component(Ke.name,Ke)};var Xe=Ke,$e=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"el-button",class:[t.type?"el-button--"+t.type:"",t.buttonSize?"el-button--"+t.buttonSize:"",{"is-disabled":t.buttonDisabled,"is-loading":t.loading,"is-plain":t.plain,"is-round":t.round,"is-circle":t.circle}],attrs:{disabled:t.buttonDisabled||t.loading,autofocus:t.autofocus,type:t.nativeType},on:{click:t.handleClick}},[t.loading?i("i",{staticClass:"el-icon-loading"}):t._e(),t.icon&&!t.loading?i("i",{class:t.icon}):t._e(),t.$slots.default?i("span",[t._t("default")],2):t._e()])};$e._withStripped=!0;var We=r({name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},methods:{handleClick:function(t){this.$emit("click",t)}}},$e,[],!1,null,null,null);We.options.__file="packages/button/src/button.vue";var qe=We.exports;qe.install=function(t){t.component(qe.name,qe)};var Je=qe,Ze=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-button-group"},[this._t("default")],2)};Ze._withStripped=!0;var ti=r({name:"ElButtonGroup"},Ze,[],!1,null,null,null);ti.options.__file="packages/button/src/button-group.vue";var ei=ti.exports;ei.install=function(t){t.component(ei.name,ei)};var ii=ei,ni=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-table",class:[{"el-table--fit":t.fit,"el-table--striped":t.stripe,"el-table--border":t.border||t.isGroup,"el-table--hidden":t.isHidden,"el-table--group":t.isGroup,"el-table--fluid-height":t.maxHeight,"el-table--scrollable-x":t.layout.scrollX,"el-table--scrollable-y":t.layout.scrollY,"el-table--enable-row-hover":!t.store.states.isComplex,"el-table--enable-row-transition":0!==(t.store.states.data||[]).length&&(t.store.states.data||[]).length<100},t.tableSize?"el-table--"+t.tableSize:""],on:{mouseleave:function(e){t.handleMouseLeave(e)}}},[i("div",{ref:"hiddenColumns",staticClass:"hidden-columns"},[t._t("default")],2),t.showHeader?i("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:t.handleHeaderFooterMousewheel,expression:"handleHeaderFooterMousewheel"}],ref:"headerWrapper",staticClass:"el-table__header-wrapper"},[i("table-header",{ref:"tableHeader",style:{width:t.layout.bodyWidth?t.layout.bodyWidth+"px":""},attrs:{store:t.store,border:t.border,"default-sort":t.defaultSort}})],1):t._e(),i("div",{ref:"bodyWrapper",staticClass:"el-table__body-wrapper",class:[t.layout.scrollX?"is-scrolling-"+t.scrollPosition:"is-scrolling-none"],style:[t.bodyHeight]},[i("table-body",{style:{width:t.bodyWidth},attrs:{context:t.context,store:t.store,stripe:t.stripe,"row-class-name":t.rowClassName,"row-style":t.rowStyle,highlight:t.highlightCurrentRow}}),t.data&&0!==t.data.length?t._e():i("div",{ref:"emptyBlock",staticClass:"el-table__empty-block",style:t.emptyBlockStyle},[i("span",{staticClass:"el-table__empty-text"},[t._t("empty",[t._v(t._s(t.emptyText||t.t("el.table.emptyText")))])],2)]),t.$slots.append?i("div",{ref:"appendWrapper",staticClass:"el-table__append-wrapper"},[t._t("append")],2):t._e()],1),t.showSummary?i("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&t.data.length>0,expression:"data && data.length > 0"},{name:"mousewheel",rawName:"v-mousewheel",value:t.handleHeaderFooterMousewheel,expression:"handleHeaderFooterMousewheel"}],ref:"footerWrapper",staticClass:"el-table__footer-wrapper"},[i("table-footer",{style:{width:t.layout.bodyWidth?t.layout.bodyWidth+"px":""},attrs:{store:t.store,border:t.border,"sum-text":t.sumText||t.t("el.table.sumText"),"summary-method":t.summaryMethod,"default-sort":t.defaultSort}})],1):t._e(),t.fixedColumns.length>0?i("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:t.handleFixedMousewheel,expression:"handleFixedMousewheel"}],ref:"fixedWrapper",staticClass:"el-table__fixed",style:[{width:t.layout.fixedWidth?t.layout.fixedWidth+"px":""},t.fixedHeight]},[t.showHeader?i("div",{ref:"fixedHeaderWrapper",staticClass:"el-table__fixed-header-wrapper"},[i("table-header",{ref:"fixedTableHeader",style:{width:t.bodyWidth},attrs:{fixed:"left",border:t.border,store:t.store}})],1):t._e(),i("div",{ref:"fixedBodyWrapper",staticClass:"el-table__fixed-body-wrapper",style:[{top:t.layout.headerHeight+"px"},t.fixedBodyHeight]},[i("table-body",{style:{width:t.bodyWidth},attrs:{fixed:"left",store:t.store,stripe:t.stripe,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"row-style":t.rowStyle}}),t.$slots.append?i("div",{staticClass:"el-table__append-gutter",style:{height:t.layout.appendHeight+"px"}}):t._e()],1),t.showSummary?i("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&t.data.length>0,expression:"data && data.length > 0"}],ref:"fixedFooterWrapper",staticClass:"el-table__fixed-footer-wrapper"},[i("table-footer",{style:{width:t.bodyWidth},attrs:{fixed:"left",border:t.border,"sum-text":t.sumText||t.t("el.table.sumText"),"summary-method":t.summaryMethod,store:t.store}})],1):t._e()]):t._e(),t.rightFixedColumns.length>0?i("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:t.handleFixedMousewheel,expression:"handleFixedMousewheel"}],ref:"rightFixedWrapper",staticClass:"el-table__fixed-right",style:[{width:t.layout.rightFixedWidth?t.layout.rightFixedWidth+"px":"",right:t.layout.scrollY?(t.border?t.layout.gutterWidth:t.layout.gutterWidth||0)+"px":""},t.fixedHeight]},[t.showHeader?i("div",{ref:"rightFixedHeaderWrapper",staticClass:"el-table__fixed-header-wrapper"},[i("table-header",{ref:"rightFixedTableHeader",style:{width:t.bodyWidth},attrs:{fixed:"right",border:t.border,store:t.store}})],1):t._e(),i("div",{ref:"rightFixedBodyWrapper",staticClass:"el-table__fixed-body-wrapper",style:[{top:t.layout.headerHeight+"px"},t.fixedBodyHeight]},[i("table-body",{style:{width:t.bodyWidth},attrs:{fixed:"right",store:t.store,stripe:t.stripe,"row-class-name":t.rowClassName,"row-style":t.rowStyle,highlight:t.highlightCurrentRow}}),t.$slots.append?i("div",{staticClass:"el-table__append-gutter",style:{height:t.layout.appendHeight+"px"}}):t._e()],1),t.showSummary?i("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&t.data.length>0,expression:"data && data.length > 0"}],ref:"rightFixedFooterWrapper",staticClass:"el-table__fixed-footer-wrapper"},[i("table-footer",{style:{width:t.bodyWidth},attrs:{fixed:"right",border:t.border,"sum-text":t.sumText||t.t("el.table.sumText"),"summary-method":t.summaryMethod,store:t.store}})],1):t._e()]):t._e(),t.rightFixedColumns.length>0?i("div",{ref:"rightFixedPatch",staticClass:"el-table__fixed-right-patch",style:{width:t.layout.scrollY?t.layout.gutterWidth+"px":"0",height:t.layout.headerHeight+"px"}}):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.resizeProxyVisible,expression:"resizeProxyVisible"}],ref:"resizeProxy",staticClass:"el-table__column-resize-proxy"})])};ni._withStripped=!0;var ri=i(16),oi=i.n(ri),si=i(35),ai=i(38),li=i.n(ai),hi="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,ui={bind:function(t,e){var i,n;i=t,n=e.value,i&&i.addEventListener&&i.addEventListener(hi?"DOMMouseScroll":"mousewheel",function(t){var e=li()(t);n&&n.apply(this,[t,e])})}},ci=i(6),di=i.n(ci),pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fi=function(t){for(var e=t.target;e&&"HTML"!==e.tagName.toUpperCase();){if("TD"===e.tagName.toUpperCase())return e;e=e.parentNode}return null},mi=function(t){return null!==t&&"object"===(void 0===t?"undefined":pi(t))},gi=function(t,e,i,n,r){if(!e&&!n&&(!r||Array.isArray(r)&&!r.length))return t;i="string"==typeof i?"descending"===i?-1:1:i&&i<0?-1:1;var o=n?null:function(i,n){return r?(Array.isArray(r)||(r=[r]),r.map(function(e){return"string"==typeof e?Object(m.getValueByPath)(i,e):e(i,n,t)})):("$key"!==e&&mi(i)&&"$value"in i&&(i=i.$value),[mi(i)?Object(m.getValueByPath)(i,e):i])};return t.map(function(t,e){return{value:t,index:e,key:o?o(t,e):null}}).sort(function(t,e){var r=function(t,e){if(n)return n(t.value,e.value);for(var i=0,r=t.key.length;i<r;i++){if(t.key[i]<e.key[i])return-1;if(t.key[i]>e.key[i])return 1}return 0}(t,e);return r||(r=t.index-e.index),r*i}).map(function(t){return t.value})},vi=function(t,e){var i=null;return t.columns.forEach(function(t){t.id===e&&(i=t)}),i},Ai=function(t,e){var i=(e.className||"").match(/el-table_[^\s]+/gm);return i?vi(t,i[0]):null},yi=function(t,e){if(!t)throw new Error("row is required when get row identity");if("string"==typeof e){if(e.indexOf(".")<0)return t[e];for(var i=e.split("."),n=t,r=0;r<i.length;r++)n=n[i[r]];return n}if("function"==typeof e)return e.call(null,t)},xi=function(t,e){var i={};return(t||[]).forEach(function(t,n){i[yi(t,e)]={row:t,index:n}}),i};function bi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ci(t){return void 0!==t&&(t=parseInt(t,10),isNaN(t)&&(t=null)),t}function wi(t){return"number"==typeof t?t:"string"==typeof t?/^\d+(?:px)?$/.test(t)?parseInt(t,10):t:null}function Ei(t,e,i){var n=!1,r=t.indexOf(e),o=-1!==r,s=function(){t.push(e),n=!0},a=function(){t.splice(r,1),n=!0};return"boolean"==typeof i?i&&!o?s():!i&&o&&a():o?a():s(),n}function Si(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hasChildren",r=function(t){return!(Array.isArray(t)&&t.length)};t.forEach(function(t){if(t[n])e(t,null,0);else{var o=t[i];r(o)||function t(o,s,a){e(o,s,a),s.forEach(function(o){if(o[n])e(o,null,a+1);else{var s=o[i];r(s)||t(o,s,a+1)}})}(t,o,0)}})}var Ti={data:function(){return{states:{defaultExpandAll:!1,expandRows:[]}}},methods:{updateExpandRows:function(){var t=this.states,e=t.data,i=void 0===e?[]:e,n=t.rowKey,r=t.defaultExpandAll,o=t.expandRows;if(r)this.states.expandRows=i.slice();else if(n){var s=xi(o,n);this.states.expandRows=i.reduce(function(t,e){var i=yi(e,n);return s[i]&&t.push(e),t},[])}else this.states.expandRows=[]},toggleRowExpansion:function(t,e){Ei(this.states.expandRows,t,e)&&(this.table.$emit("expand-change",t,this.states.expandRows.slice()),this.scheduleLayout())},setExpandRowKeys:function(t){this.assertRowKey();var e=this.states,i=e.data,n=e.rowKey,r=xi(i,n);this.states.expandRows=t.reduce(function(t,e){var i=r[e];return i&&t.push(i.row),t},[])},isRowExpanded:function(t){var e=this.states,i=e.expandRows,n=void 0===i?[]:i,r=e.rowKey;return r?!!xi(n,r)[yi(t,r)]:-1!==n.indexOf(t)}}},_i={data:function(){return{states:{_currentRowKey:null,currentRow:null}}},methods:{setCurrentRowKey:function(t){this.assertRowKey(),this.states._currentRowKey=t,this.setCurrentRowByKey(t)},restoreCurrentRowKey:function(){this.states._currentRowKey=null},setCurrentRowByKey:function(t){var e=this.states,i=e.data,n=void 0===i?[]:i,r=e.rowKey,o=null;r&&(o=Object(m.arrayFind)(n,function(e){return yi(e,r)===t})),e.currentRow=o},updateCurrentRow:function(t){var e=this.states,i=this.table,n=e.currentRow;if(t&&t!==n)return e.currentRow=t,void i.$emit("current-change",t,n);!t&&n&&(e.currentRow=null,i.$emit("current-change",null,n))},updateCurrentRowData:function(){var t=this.states,e=this.table,i=t.rowKey,n=t._currentRowKey,r=t.data||[],o=t.currentRow;if(-1===r.indexOf(o)&&o){if(i){var s=yi(o,i);this.setCurrentRowByKey(s)}else t.currentRow=null;null===t.currentRow&&e.$emit("current-change",null,o)}else n&&(this.setCurrentRowByKey(n),this.restoreCurrentRowKey())}}},Mi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},ki={data:function(){return{states:{expandRowKeys:[],treeData:{},indent:16,lazy:!1,lazyTreeNodeMap:{},lazyColumnIdentifier:"hasChildren",childrenColumnName:"children"}}},computed:{normalizedData:function(){if(!this.states.rowKey)return{};var t=this.states.data||[];return this.normalize(t)},normalizedLazyNode:function(){var t=this.states,e=t.rowKey,i=t.lazyTreeNodeMap,n=t.lazyColumnIdentifier,r=Object.keys(i),o={};return r.length?(r.forEach(function(t){if(i[t].length){var r={children:[]};i[t].forEach(function(t){var i=yi(t,e);r.children.push(i),t[n]&&!o[i]&&(o[i]={children:[]})}),o[t]=r}}),o):o}},watch:{normalizedData:"updateTreeData",normalizedLazyNode:"updateTreeData"},methods:{normalize:function(t){var e=this.states,i=e.childrenColumnName,n=e.lazyColumnIdentifier,r=e.rowKey,o=e.lazy,s={};return Si(t,function(t,e,i){var n=yi(t,r);Array.isArray(e)?s[n]={children:e.map(function(t){return yi(t,r)}),level:i}:o&&(s[n]={children:[],lazy:!0,level:i})},i,n),s},updateTreeData:function(){var t=this.normalizedData,e=this.normalizedLazyNode,i=Object.keys(t),n={};if(i.length){var r=this.states,o=r.treeData,s=r.defaultExpandAll,a=r.expandRowKeys,l=r.lazy,h=[],u=function(t,e){var i=s||a&&-1!==a.indexOf(e);return!!(t&&t.expanded||i)};i.forEach(function(e){var i=o[e],r=Mi({},t[e]);if(r.expanded=u(i,e),r.lazy){var s=i||{},a=s.loaded,l=void 0!==a&&a,c=s.loading,d=void 0!==c&&c;r.loaded=!!l,r.loading=!!d,h.push(e)}n[e]=r});var c=Object.keys(e);l&&c.length&&h.length&&c.forEach(function(t){var i=o[t],r=e[t].children;if(-1!==h.indexOf(t)){if(0!==n[t].children.length)throw new Error("[ElTable]children must be an empty array.");n[t].children=r}else{var s=i||{},a=s.loaded,l=void 0!==a&&a,c=s.loading,d=void 0!==c&&c;n[t]={lazy:!0,loaded:!!l,loading:!!d,expanded:u(i,t),children:r,level:""}}})}this.states.treeData=n,this.updateTableScrollY()},updateTreeExpandKeys:function(t){this.states.expandRowKeys=t,this.updateTreeData()},toggleTreeExpansion:function(t,e){this.assertRowKey();var i=this.states,n=i.rowKey,r=i.treeData,o=yi(t,n),s=o&&r[o];if(o&&s&&"expanded"in s){var a=s.expanded;e=void 0===e?!s.expanded:e,r[o].expanded=e,a!==e&&this.table.$emit("expand-change",t,e),this.updateTableScrollY()}},loadOrToggle:function(t){this.assertRowKey();var e=this.states,i=e.lazy,n=e.treeData,r=e.rowKey,o=yi(t,r),s=n[o];i&&s&&"loaded"in s&&!s.loaded?this.loadData(t,o,s):this.toggleTreeExpansion(t)},loadData:function(t,e,i){var n=this,r=this.table.load,o=this.states,s=o.lazyTreeNodeMap,a=o.treeData;r&&!a[e].loaded&&(a[e].loading=!0,r(t,i,function(i){if(!Array.isArray(i))throw new Error("[ElTable] data must be an array");a[e].loading=!1,a[e].loaded=!0,a[e].expanded=!0,i.length&&n.$set(s,e,i),n.table.$emit("expand-change",t,!0)}))}}},Bi=function t(e){var i=[];return e.forEach(function(e){e.children?i.push.apply(i,t(e.children)):i.push(e)}),i},Oi=di.a.extend({data:function(){return{states:{rowKey:null,data:[],isComplex:!1,_columns:[],originColumns:[],columns:[],fixedColumns:[],rightFixedColumns:[],leafColumns:[],fixedLeafColumns:[],rightFixedLeafColumns:[],leafColumnsLength:0,fixedLeafColumnsLength:0,rightFixedLeafColumnsLength:0,isAllSelected:!1,selection:[],reserveSelection:!1,selectOnIndeterminate:!1,selectable:null,filters:{},filteredData:null,sortingColumn:null,sortProp:null,sortOrder:null,hoverRow:null}}},mixins:[Ti,_i,ki],methods:{assertRowKey:function(){if(!this.states.rowKey)throw new Error("[ElTable] prop row-key is required")},updateColumns:function(){var t=this.states,e=t._columns||[];t.fixedColumns=e.filter(function(t){return!0===t.fixed||"left"===t.fixed}),t.rightFixedColumns=e.filter(function(t){return"right"===t.fixed}),t.fixedColumns.length>0&&e[0]&&"selection"===e[0].type&&!e[0].fixed&&(e[0].fixed=!0,t.fixedColumns.unshift(e[0]));var i=e.filter(function(t){return!t.fixed});t.originColumns=[].concat(t.fixedColumns).concat(i).concat(t.rightFixedColumns);var n=Bi(i),r=Bi(t.fixedColumns),o=Bi(t.rightFixedColumns);t.leafColumnsLength=n.length,t.fixedLeafColumnsLength=r.length,t.rightFixedLeafColumnsLength=o.length,t.columns=[].concat(r).concat(n).concat(o),t.isComplex=t.fixedColumns.length>0||t.rightFixedColumns.length>0},scheduleLayout:function(t){t&&this.updateColumns(),this.table.debouncedUpdateLayout()},isSelected:function(t){var e=this.states.selection;return(void 0===e?[]:e).indexOf(t)>-1},clearSelection:function(){var t=this.states;t.isAllSelected=!1,t.selection.length&&(t.selection=[],this.table.$emit("selection-change",[]))},cleanSelection:function(){var t=this.states,e=t.data,i=t.rowKey,n=t.selection,r=void 0;if(i){r=[];var o=xi(n,i),s=xi(e,i);for(var a in o)o.hasOwnProperty(a)&&!s[a]&&r.push(o[a].row)}else r=n.filter(function(t){return-1===e.indexOf(t)});if(r.length){var l=n.filter(function(t){return-1===r.indexOf(t)});t.selection=l,this.table.$emit("selection-change",l.slice())}},toggleRowSelection:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(Ei(this.states.selection,t,e)){var n=(this.states.selection||[]).slice();i&&this.table.$emit("select",n,t),this.table.$emit("selection-change",n)}},_toggleAllSelection:function(){var t=this.states,e=t.data,i=void 0===e?[]:e,n=t.selection,r=t.selectOnIndeterminate?!t.isAllSelected:!(t.isAllSelected||n.length);t.isAllSelected=r;var o=!1;i.forEach(function(e,i){t.selectable?t.selectable.call(null,e,i)&&Ei(n,e,r)&&(o=!0):Ei(n,e,r)&&(o=!0)}),o&&this.table.$emit("selection-change",n?n.slice():[]),this.table.$emit("select-all",n)},updateSelectionByRowKey:function(){var t=this.states,e=t.selection,i=t.rowKey,n=t.data,r=xi(e,i);n.forEach(function(t){var n=yi(t,i),o=r[n];o&&(e[o.index]=t)})},updateAllSelected:function(){var t=this.states,e=t.selection,i=t.rowKey,n=t.selectable,r=t.data||[];if(0!==r.length){var o=void 0;i&&(o=xi(e,i));for(var s,a=!0,l=0,h=0,u=r.length;h<u;h++){var c=r[h],d=n&&n.call(null,c,h);if(s=c,o?o[yi(s,i)]:-1!==e.indexOf(s))l++;else if(!n||d){a=!1;break}}0===l&&(a=!1),t.isAllSelected=a}else t.isAllSelected=!1},updateFilters:function(t,e){Array.isArray(t)||(t=[t]);var i=this.states,n={};return t.forEach(function(t){i.filters[t.id]=e,n[t.columnKey||t.id]=e}),n},updateSort:function(t,e,i){this.states.sortingColumn&&this.states.sortingColumn!==t&&(this.states.sortingColumn.order=null),this.states.sortingColumn=t,this.states.sortProp=e,this.states.sortOrder=i},execFilter:function(){var t=this,e=this.states,i=e._data,n=e.filters,r=i;Object.keys(n).forEach(function(i){var n=e.filters[i];if(n&&0!==n.length){var o=vi(t.states,i);o&&o.filterMethod&&(r=r.filter(function(t){return n.some(function(e){return o.filterMethod.call(null,e,t,o)})}))}}),e.filteredData=r},execSort:function(){var t=this.states;t.data=function(t,e){var i=e.sortingColumn;return i&&"string"!=typeof i.sortable?gi(t,e.sortProp,e.sortOrder,i.sortMethod,i.sortBy):t}(t.filteredData,t)},execQuery:function(t){t&&t.filter||this.execFilter(),this.execSort()},clearFilter:function(t){var e=this.states,i=this.table.$refs,n=i.tableHeader,r=i.fixedTableHeader,o=i.rightFixedTableHeader,s={};n&&(s=Vt()(s,n.filterPanels)),r&&(s=Vt()(s,r.filterPanels)),o&&(s=Vt()(s,o.filterPanels));var a=Object.keys(s);if(a.length)if("string"==typeof t&&(t=[t]),Array.isArray(t)){var l=t.map(function(t){return function(t,e){for(var i=null,n=0;n<t.columns.length;n++){var r=t.columns[n];if(r.columnKey===e){i=r;break}}return i}(e,t)});a.forEach(function(t){l.find(function(e){return e.id===t})&&(s[t].filteredValue=[])}),this.commit("filterChange",{column:l,values:[],silent:!0,multi:!0})}else a.forEach(function(t){s[t].filteredValue=[]}),e.filters={},this.commit("filterChange",{column:{},values:[],silent:!0})},clearSort:function(){this.states.sortingColumn&&(this.updateSort(null,null,null),this.commit("changeSortCondition",{silent:!0}))},setExpandRowKeysAdapter:function(t){this.setExpandRowKeys(t),this.updateTreeExpandKeys(t)},toggleRowExpansionAdapter:function(t,e){this.states.columns.some(function(t){return"expand"===t.type})?this.toggleRowExpansion(t,e):this.toggleTreeExpansion(t,e)}}});Oi.prototype.mutations={setData:function(t,e){var i=t._data!==e;t._data=e,this.execQuery(),this.updateCurrentRowData(),this.updateExpandRows(),t.reserveSelection?(this.assertRowKey(),this.updateSelectionByRowKey()):i?this.clearSelection():this.cleanSelection(),this.updateAllSelected(),this.updateTableScrollY()},insertColumn:function(t,e,i,n){var r=t._columns;n&&((r=n.children)||(r=n.children=[])),void 0!==i?r.splice(i,0,e):r.push(e),"selection"===e.type&&(t.selectable=e.selectable,t.reserveSelection=e.reserveSelection),this.table.$ready&&(this.updateColumns(),this.scheduleLayout())},removeColumn:function(t,e,i){var n=t._columns;i&&((n=i.children)||(n=i.children=[])),n&&n.splice(n.indexOf(e),1),this.table.$ready&&(this.updateColumns(),this.scheduleLayout())},sort:function(t,e){var i=e.prop,n=e.order,r=e.init;if(i){var o=Object(m.arrayFind)(t.columns,function(t){return t.property===i});o&&(o.order=n,this.updateSort(o,i,n),this.commit("changeSortCondition",{init:r}))}},changeSortCondition:function(t,e){var i=t.sortingColumn,n=t.sortProp,r=t.sortOrder;null===r&&(t.sortingColumn=null,t.sortProp=null);this.execQuery({filter:!0}),e&&(e.silent||e.init)||this.table.$emit("sort-change",{column:i,prop:n,order:r}),this.updateTableScrollY()},filterChange:function(t,e){var i=e.column,n=e.values,r=e.silent,o=this.updateFilters(i,n);this.execQuery(),r||this.table.$emit("filter-change",o),this.updateTableScrollY()},toggleAllSelection:function(){this.toggleAllSelection()},rowSelectedChanged:function(t,e){this.toggleRowSelection(e),this.updateAllSelected()},setHoverRow:function(t,e){t.hoverRow=e},setCurrentRow:function(t,e){this.updateCurrentRow(e)}},Oi.prototype.commit=function(t){var e=this.mutations;if(!e[t])throw new Error("Action not found: "+t);for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];e[t].apply(this,[this.states].concat(n))},Oi.prototype.updateTableScrollY=function(){di.a.nextTick(this.table.updateScrollY)};var Pi=Oi;function Li(t){var e={};return Object.keys(t).forEach(function(i){var n=t[i],r=void 0;"string"==typeof n?r=function(){return this.store.states[n]}:"function"==typeof n?r=function(){return n.call(this,this.store.states)}:console.error("invalid value type"),r&&(e[i]=r)}),e}var Ni=i(31),Ii=i.n(Ni);var Di=function(){function t(e){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observers=[],this.table=null,this.store=null,this.columns=null,this.fit=!0,this.showHeader=!0,this.height=null,this.scrollX=!1,this.scrollY=!1,this.bodyWidth=null,this.fixedWidth=null,this.rightFixedWidth=null,this.tableHeight=null,this.headerHeight=44,this.appendHeight=0,this.footerHeight=44,this.viewportHeight=null,this.bodyHeight=null,this.fixedBodyHeight=null,this.gutterWidth=Ii()(),e)e.hasOwnProperty(i)&&(this[i]=e[i]);if(!this.table)throw new Error("table is required for Table Layout");if(!this.store)throw new Error("store is required for Table Layout")}return t.prototype.updateScrollY=function(){if(null===this.height)return!1;var t=this.table.bodyWrapper;if(this.table.$el&&t){var e=t.querySelector(".el-table__body"),i=this.scrollY,n=e.offsetHeight>this.bodyHeight;return this.scrollY=n,i!==n}return!1},t.prototype.setHeight=function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"height";if(!di.a.prototype.$isServer){var n=this.table.$el;if(t=wi(t),this.height=t,!n&&(t||0===t))return di.a.nextTick(function(){return e.setHeight(t,i)});"number"==typeof t?(n.style[i]=t+"px",this.updateElsHeight()):"string"==typeof t&&(n.style[i]=t,this.updateElsHeight())}},t.prototype.setMaxHeight=function(t){this.setHeight(t,"max-height")},t.prototype.getFlattenColumns=function(){var t=[];return this.table.columns.forEach(function(e){e.isColumnGroup?t.push.apply(t,e.columns):t.push(e)}),t},t.prototype.updateElsHeight=function(){var t=this;if(!this.table.$ready)return di.a.nextTick(function(){return t.updateElsHeight()});var e=this.table.$refs,i=e.headerWrapper,n=e.appendWrapper,r=e.footerWrapper;if(this.appendHeight=n?n.offsetHeight:0,!this.showHeader||i){var o=i?i.querySelector(".el-table__header tr"):null,s=this.headerDisplayNone(o),a=this.headerHeight=this.showHeader?i.offsetHeight:0;if(this.showHeader&&!s&&i.offsetWidth>0&&(this.table.columns||[]).length>0&&a<2)return di.a.nextTick(function(){return t.updateElsHeight()});var l=this.tableHeight=this.table.$el.clientHeight,h=this.footerHeight=r?r.offsetHeight:0;null!==this.height&&(this.bodyHeight=l-a-h+(r?1:0)),this.fixedBodyHeight=this.scrollX?this.bodyHeight-this.gutterWidth:this.bodyHeight;var u=!(this.store.states.data&&this.store.states.data.length);this.viewportHeight=this.scrollX?l-(u?0:this.gutterWidth):l,this.updateScrollY(),this.notifyObservers("scrollable")}},t.prototype.headerDisplayNone=function(t){if(!t)return!0;for(var e=t;"DIV"!==e.tagName;){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1},t.prototype.updateColumnsWidth=function(){if(!di.a.prototype.$isServer){var t=this.fit,e=this.table.$el.clientWidth,i=0,n=this.getFlattenColumns(),r=n.filter(function(t){return"number"!=typeof t.width});if(n.forEach(function(t){"number"==typeof t.width&&t.realWidth&&(t.realWidth=null)}),r.length>0&&t){n.forEach(function(t){i+=t.width||t.minWidth||80});var o=this.scrollY?this.gutterWidth:0;if(i<=e-o){this.scrollX=!1;var s=e-o-i;if(1===r.length)r[0].realWidth=(r[0].minWidth||80)+s;else{var a=s/r.reduce(function(t,e){return t+(e.minWidth||80)},0),l=0;r.forEach(function(t,e){if(0!==e){var i=Math.floor((t.minWidth||80)*a);l+=i,t.realWidth=(t.minWidth||80)+i}}),r[0].realWidth=(r[0].minWidth||80)+s-l}}else this.scrollX=!0,r.forEach(function(t){t.realWidth=t.minWidth});this.bodyWidth=Math.max(i,e),this.table.resizeState.width=this.bodyWidth}else n.forEach(function(t){t.width||t.minWidth?t.realWidth=t.width||t.minWidth:t.realWidth=80,i+=t.realWidth}),this.scrollX=i>e,this.bodyWidth=i;var h=this.store.states.fixedColumns;if(h.length>0){var u=0;h.forEach(function(t){u+=t.realWidth||t.width}),this.fixedWidth=u}var c=this.store.states.rightFixedColumns;if(c.length>0){var d=0;c.forEach(function(t){d+=t.realWidth||t.width}),this.rightFixedWidth=d}this.notifyObservers("columns")}},t.prototype.addObserver=function(t){this.observers.push(t)},t.prototype.removeObserver=function(t){var e=this.observers.indexOf(t);-1!==e&&this.observers.splice(e,1)},t.prototype.notifyObservers=function(t){var e=this;this.observers.forEach(function(i){switch(t){case"columns":i.onColumnsChange(e);break;case"scrollable":i.onScrollableChange(e);break;default:throw new Error("Table Layout don't have event "+t+".")}})},t}(),Ri={created:function(){this.tableLayout.addObserver(this)},destroyed:function(){this.tableLayout.removeObserver(this)},computed:{tableLayout:function(){var t=this.layout;if(!t&&this.table&&(t=this.table.layout),!t)throw new Error("Can not find table layout.");return t}},mounted:function(){this.onColumnsChange(this.tableLayout),this.onScrollableChange(this.tableLayout)},updated:function(){this.__updated__||(this.onColumnsChange(this.tableLayout),this.onScrollableChange(this.tableLayout),this.__updated__=!0)},methods:{onColumnsChange:function(t){var e=this.$el.querySelectorAll("colgroup > col");if(e.length){var i={};t.getFlattenColumns().forEach(function(t){i[t.id]=t});for(var n=0,r=e.length;n<r;n++){var o=e[n],s=o.getAttribute("name"),a=i[s];a&&o.setAttribute("width",a.realWidth||a.width)}}},onScrollableChange:function(t){for(var e=this.$el.querySelectorAll("colgroup > col[name=gutter]"),i=0,n=e.length;i<n;i++){e[i].setAttribute("width",t.scrollY?t.gutterWidth:"0")}for(var r=this.$el.querySelectorAll("th.gutter"),o=0,s=r.length;o<s;o++){var a=r[o];a.style.width=t.scrollY?t.gutterWidth+"px":"0",a.style.display=t.scrollY?"":"none"}}}},Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Ui={name:"ElTableBody",mixins:[Ri],components:{ElCheckbox:oi.a,ElTooltip:_t.a},props:{store:{required:!0},stripe:Boolean,context:{},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:String,highlight:Boolean},render:function(t){var e=this,i=this.data||[];return t("table",{class:"el-table__body",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("colgroup",[this.columns.map(function(e){return t("col",{attrs:{name:e.id},key:e.id})})]),t("tbody",[i.reduce(function(t,i){return t.concat(e.wrappedRowRender(i,t.length))},[]),t("el-tooltip",{attrs:{effect:this.table.tooltipEffect,placement:"top",content:this.tooltipContent},ref:"tooltip"})])])},computed:Hi({table:function(){return this.$parent}},Li({data:"data",columns:"columns",treeIndent:"indent",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(t){return t.columns.length},leftFixedCount:function(t){return t.fixedColumns.length},rightFixedCount:function(t){return t.rightFixedColumns.length},hasExpandColumn:function(t){return t.columns.some(function(t){return"expand"===t.type})}}),{firstDefaultColumnIndex:function(){return Object(m.arrayFindIndex)(this.columns,function(t){return"default"===t.type})}}),watch:{"store.states.hoverRow":function(t,e){var i=this;if(this.store.states.isComplex&&!this.$isServer){var n=window.requestAnimationFrame;n||(n=function(t){return setTimeout(t,16)}),n(function(){var n=i.$el.querySelectorAll(".el-table__row"),r=n[e],o=n[t];r&&Object(ft.removeClass)(r,"hover-row"),o&&Object(ft.addClass)(o,"hover-row")})}}},data:function(){return{tooltipContent:""}},created:function(){this.activateTooltip=B()(50,function(t){return t.handleShowPopper()})},methods:{getKeyOfRow:function(t,e){var i=this.table.rowKey;return i?yi(t,i):e},isColumnHidden:function(t){return!0===this.fixed||"left"===this.fixed?t>=this.leftFixedLeafCount:"right"===this.fixed?t<this.columnsCount-this.rightFixedLeafCount:t<this.leftFixedLeafCount||t>=this.columnsCount-this.rightFixedLeafCount},getSpan:function(t,e,i,n){var r=1,o=1,s=this.table.spanMethod;if("function"==typeof s){var a=s({row:t,column:e,rowIndex:i,columnIndex:n});Array.isArray(a)?(r=a[0],o=a[1]):"object"===(void 0===a?"undefined":Fi(a))&&(r=a.rowspan,o=a.colspan)}return{rowspan:r,colspan:o}},getRowStyle:function(t,e){var i=this.table.rowStyle;return"function"==typeof i?i.call(null,{row:t,rowIndex:e}):i||null},getRowClass:function(t,e){var i=["el-table__row"];this.table.highlightCurrentRow&&t===this.store.states.currentRow&&i.push("current-row"),this.stripe&&e%2==1&&i.push("el-table__row--striped");var n=this.table.rowClassName;return"string"==typeof n?i.push(n):"function"==typeof n&&i.push(n.call(null,{row:t,rowIndex:e})),this.store.states.expandRows.indexOf(t)>-1&&i.push("expanded"),i},getCellStyle:function(t,e,i,n){var r=this.table.cellStyle;return"function"==typeof r?r.call(null,{rowIndex:t,columnIndex:e,row:i,column:n}):r},getCellClass:function(t,e,i,n){var r=[n.id,n.align,n.className];this.isColumnHidden(e)&&r.push("is-hidden");var o=this.table.cellClassName;return"string"==typeof o?r.push(o):"function"==typeof o&&r.push(o.call(null,{rowIndex:t,columnIndex:e,row:i,column:n})),r.join(" ")},getColspanRealWidth:function(t,e,i){return e<1?t[i].realWidth:t.map(function(t){return t.realWidth}).slice(i,i+e).reduce(function(t,e){return t+e},-1)},handleCellMouseEnter:function(t,e){var i=this.table,n=fi(t);if(n){var r=Ai(i,n),o=i.hoverState={cell:n,column:r,row:e};i.$emit("cell-mouse-enter",o.row,o.column,o.cell,t)}var s=t.target.querySelector(".cell");if(Object(ft.hasClass)(s,"el-tooltip")&&s.childNodes.length){var a=document.createRange();if(a.setStart(s,0),a.setEnd(s,s.childNodes.length),(a.getBoundingClientRect().width+((parseInt(Object(ft.getStyle)(s,"paddingLeft"),10)||0)+(parseInt(Object(ft.getStyle)(s,"paddingRight"),10)||0))>s.offsetWidth||s.scrollWidth>s.offsetWidth)&&this.$refs.tooltip){var l=this.$refs.tooltip;this.tooltipContent=n.innerText||n.textContent,l.referenceElm=n,l.$refs.popper&&(l.$refs.popper.style.display="none"),l.doDestroy(),l.setExpectedState(!0),this.activateTooltip(l)}}},handleCellMouseLeave:function(t){var e=this.$refs.tooltip;if(e&&(e.setExpectedState(!1),e.handleClosePopper()),fi(t)){var i=this.table.hoverState||{};this.table.$emit("cell-mouse-leave",i.row,i.column,i.cell,t)}},handleMouseEnter:B()(30,function(t){this.store.commit("setHoverRow",t)}),handleMouseLeave:B()(30,function(){this.store.commit("setHoverRow",null)}),handleContextMenu:function(t,e){this.handleEvent(t,e,"contextmenu")},handleDoubleClick:function(t,e){this.handleEvent(t,e,"dblclick")},handleClick:function(t,e){this.store.commit("setCurrentRow",e),this.handleEvent(t,e,"click")},handleEvent:function(t,e,i){var n=this.table,r=fi(t),o=void 0;r&&(o=Ai(n,r))&&n.$emit("cell-"+i,e,o,r,t),n.$emit("row-"+i,e,o,t)},rowRender:function(t,e,i){var n=this,r=this.$createElement,o=this.treeIndent,s=this.columns,a=this.firstDefaultColumnIndex,l=s.map(function(t,e){return n.isColumnHidden(e)}),h=this.getRowClass(t,e),u=!0;return i&&(h.push("el-table__row--level-"+i.level),u=i.display),r("tr",{style:[u?null:{display:"none"},this.getRowStyle(t,e)],class:h,key:this.getKeyOfRow(t,e),on:{dblclick:function(e){return n.handleDoubleClick(e,t)},click:function(e){return n.handleClick(e,t)},contextmenu:function(e){return n.handleContextMenu(e,t)},mouseenter:function(t){return n.handleMouseEnter(e)},mouseleave:this.handleMouseLeave}},[s.map(function(h,u){var c=n.getSpan(t,h,e,u),d=c.rowspan,p=c.colspan;if(!d||!p)return null;var f=Hi({},h);f.realWidth=n.getColspanRealWidth(s,p,u);var m={store:n.store,_self:n.context||n.table.$vnode.context,column:f,row:t,$index:e};return u===a&&i&&(m.treeNode={indent:i.level*o,level:i.level},"boolean"==typeof i.expanded&&(m.treeNode.expanded=i.expanded,"loading"in i&&(m.treeNode.loading=i.loading),"noLazyChildren"in i&&(m.treeNode.noLazyChildren=i.noLazyChildren))),r("td",{style:n.getCellStyle(e,u,t,h),class:n.getCellClass(e,u,t,h),attrs:{rowspan:d,colspan:p},on:{mouseenter:function(e){return n.handleCellMouseEnter(e,t)},mouseleave:n.handleCellMouseLeave}},[h.renderCell.call(n._renderProxy,n.$createElement,m,l[u])])})])},wrappedRowRender:function(t,e){var i=this,n=this.$createElement,r=this.store,o=r.isRowExpanded,s=r.assertRowKey,a=r.states,l=a.treeData,h=a.lazyTreeNodeMap,u=a.childrenColumnName,c=a.rowKey;if(this.hasExpandColumn&&o(t)){var d=this.table.renderExpanded,p=this.rowRender(t,e);return d?[[p,n("tr",{key:"expanded-row__"+p.key},[n("td",{attrs:{colspan:this.columnsCount},class:"el-table__expanded-cell"},[d(this.$createElement,{row:t,$index:e,store:this.store})])])]]:(console.error("[Element Error]renderExpanded is required."),p)}if(Object.keys(l).length){s();var f=yi(t,c),m=l[f],g=null;m&&(g={expanded:m.expanded,level:m.level,display:!0},"boolean"==typeof m.lazy&&("boolean"==typeof m.loaded&&m.loaded&&(g.noLazyChildren=!(m.children&&m.children.length)),g.loading=m.loading));var v=[this.rowRender(t,e,g)];if(m){var A=0;m.display=!0,function t(n,r){n&&n.length&&r&&n.forEach(function(n){var o={display:r.display&&r.expanded,level:r.level+1},s=yi(n,c);if(void 0===s||null===s)throw new Error("for nested data item, row-key is required.");if((m=Hi({},l[s]))&&(o.expanded=m.expanded,m.level=m.level||o.level,m.display=!(!m.expanded||!o.display),"boolean"==typeof m.lazy&&("boolean"==typeof m.loaded&&m.loaded&&(o.noLazyChildren=!(m.children&&m.children.length)),o.loading=m.loading)),A++,v.push(i.rowRender(n,e+A,o)),m){var a=h[s]||n[u];t(a,m)}})}(h[f]||t[u],m)}return v}return this.rowRender(t,e)}}},Vi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"}},[t.multiple?i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleOutsideClick,expression:"handleOutsideClick"},{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"}],staticClass:"el-table-filter"},[i("div",{staticClass:"el-table-filter__content"},[i("el-scrollbar",{attrs:{"wrap-class":"el-table-filter__wrap"}},[i("el-checkbox-group",{staticClass:"el-table-filter__checkbox-group",model:{value:t.filteredValue,callback:function(e){t.filteredValue=e},expression:"filteredValue"}},t._l(t.filters,function(e){return i("el-checkbox",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.text))])}),1)],1)],1),i("div",{staticClass:"el-table-filter__bottom"},[i("button",{class:{"is-disabled":0===t.filteredValue.length},attrs:{disabled:0===t.filteredValue.length},on:{click:t.handleConfirm}},[t._v(t._s(t.t("el.table.confirmFilter")))]),i("button",{on:{click:t.handleReset}},[t._v(t._s(t.t("el.table.resetFilter")))])])]):i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleOutsideClick,expression:"handleOutsideClick"},{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"}],staticClass:"el-table-filter"},[i("ul",{staticClass:"el-table-filter__list"},[i("li",{staticClass:"el-table-filter__list-item",class:{"is-active":void 0===t.filterValue||null===t.filterValue},on:{click:function(e){t.handleSelect(null)}}},[t._v(t._s(t.t("el.table.clearFilter")))]),t._l(t.filters,function(e){return i("li",{key:e.value,staticClass:"el-table-filter__list-item",class:{"is-active":t.isActive(e)},attrs:{label:e.value},on:{click:function(i){t.handleSelect(e.value)}}},[t._v(t._s(e.text))])})],2)])])};Vi._withStripped=!0;var ji=[];!di.a.prototype.$isServer&&document.addEventListener("click",function(t){ji.forEach(function(e){var i=t.target;e&&e.$el&&(i===e.$el||e.$el.contains(i)||e.handleOutsideClick&&e.handleOutsideClick(t))})});var Gi=function(t){t&&ji.push(t)},zi=function(t){-1!==ji.indexOf(t)&&ji.splice(t,1)},Qi=i(32),Yi=i.n(Qi),Ki=r({name:"ElTableFilterPanel",mixins:[I.a,f.a],directives:{Clickoutside:P.a},components:{ElCheckbox:oi.a,ElCheckboxGroup:Yi.a,ElScrollbar:R.a},props:{placement:{type:String,default:"bottom-end"}},methods:{isActive:function(t){return t.value===this.filterValue},handleOutsideClick:function(){var t=this;setTimeout(function(){t.showPopper=!1},16)},handleConfirm:function(){this.confirmFilter(this.filteredValue),this.handleOutsideClick()},handleReset:function(){this.filteredValue=[],this.confirmFilter(this.filteredValue),this.handleOutsideClick()},handleSelect:function(t){this.filterValue=t,void 0!==t&&null!==t?this.confirmFilter(this.filteredValue):this.confirmFilter([]),this.handleOutsideClick()},confirmFilter:function(t){this.table.store.commit("filterChange",{column:this.column,values:t}),this.table.store.updateAllSelected()}},data:function(){return{table:null,cell:null,column:null}},computed:{filters:function(){return this.column&&this.column.filters},filterValue:{get:function(){return(this.column.filteredValue||[])[0]},set:function(t){this.filteredValue&&(void 0!==t&&null!==t?this.filteredValue.splice(0,1,t):this.filteredValue.splice(0,1))}},filteredValue:{get:function(){return this.column&&this.column.filteredValue||[]},set:function(t){this.column&&(this.column.filteredValue=t)}},multiple:function(){return!this.column||this.column.filterMultiple}},mounted:function(){var t=this;this.popperElm=this.$el,this.referenceElm=this.cell,this.table.bodyWrapper.addEventListener("scroll",function(){t.updatePopper()}),this.$watch("showPopper",function(e){t.column&&(t.column.filterOpened=e),e?Gi(t):zi(t)})},watch:{showPopper:function(t){!0===t&&parseInt(this.popperJS._popper.style.zIndex,10)<y.PopupManager.zIndex&&(this.popperJS._popper.style.zIndex=y.PopupManager.nextZIndex())}}},Vi,[],!1,null,null,null);Ki.options.__file="packages/table/src/filter-panel.vue";var Xi=Ki.exports,$i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Wi=function(t){var e=1;t.forEach(function(t){t.level=1,function t(i,n){if(n&&(i.level=n.level+1,e<i.level&&(e=i.level)),i.children){var r=0;i.children.forEach(function(e){t(e,i),r+=e.colSpan}),i.colSpan=r}else i.colSpan=1}(t)});for(var i=[],n=0;n<e;n++)i.push([]);return function t(e){var i=[];return e.forEach(function(e){e.children?(i.push(e),i.push.apply(i,t(e.children))):i.push(e)}),i}(t).forEach(function(t){t.children?t.rowSpan=1:t.rowSpan=e-t.level+1,i[t.level-1].push(t)}),i},qi={name:"ElTableHeader",mixins:[Ri],render:function(t){var e=this,i=this.store.states.originColumns,n=Wi(i,this.columns),r=n.length>1;return r&&(this.$parent.isGroup=!0),t("table",{class:"el-table__header",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("colgroup",[this.columns.map(function(e){return t("col",{attrs:{name:e.id},key:e.id})}),this.hasGutter?t("col",{attrs:{name:"gutter"}}):""]),t("thead",{class:[{"is-group":r,"has-gutter":this.hasGutter}]},[this._l(n,function(i,n){return t("tr",{style:e.getHeaderRowStyle(n),class:e.getHeaderRowClass(n)},[i.map(function(r,o){return t("th",{attrs:{colspan:r.colSpan,rowspan:r.rowSpan},on:{mousemove:function(t){return e.handleMouseMove(t,r)},mouseout:e.handleMouseOut,mousedown:function(t){return e.handleMouseDown(t,r)},click:function(t){return e.handleHeaderClick(t,r)},contextmenu:function(t){return e.handleHeaderContextMenu(t,r)}},style:e.getHeaderCellStyle(n,o,i,r),class:e.getHeaderCellClass(n,o,i,r),key:r.id},[t("div",{class:["cell",r.filteredValue&&r.filteredValue.length>0?"highlight":"",r.labelClassName]},[r.renderHeader?r.renderHeader.call(e._renderProxy,t,{column:r,$index:o,store:e.store,_self:e.$parent.$vnode.context}):r.label,r.sortable?t("span",{class:"caret-wrapper",on:{click:function(t){return e.handleSortClick(t,r)}}},[t("i",{class:"sort-caret ascending",on:{click:function(t){return e.handleSortClick(t,r,"ascending")}}}),t("i",{class:"sort-caret descending",on:{click:function(t){return e.handleSortClick(t,r,"descending")}}})]):"",r.filterable?t("span",{class:"el-table__column-filter-trigger",on:{click:function(t){return e.handleFilterClick(t,r)}}},[t("i",{class:["el-icon-arrow-down",r.filterOpened?"el-icon-arrow-up":""]})]):""])])}),e.hasGutter?t("th",{class:"gutter"}):""])})])])},props:{fixed:String,store:{required:!0},border:Boolean,defaultSort:{type:Object,default:function(){return{prop:"",order:""}}}},components:{ElCheckbox:oi.a},computed:$i({table:function(){return this.$parent},hasGutter:function(){return!this.fixed&&this.tableLayout.gutterWidth}},Li({columns:"columns",isAllSelected:"isAllSelected",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(t){return t.columns.length},leftFixedCount:function(t){return t.fixedColumns.length},rightFixedCount:function(t){return t.rightFixedColumns.length}})),created:function(){this.filterPanels={}},mounted:function(){var t=this;this.$nextTick(function(){var e=t.defaultSort,i=e.prop,n=e.order;t.store.commit("sort",{prop:i,order:n,init:!0})})},beforeDestroy:function(){var t=this.filterPanels;for(var e in t)t.hasOwnProperty(e)&&t[e]&&t[e].$destroy(!0)},methods:{isCellHidden:function(t,e){for(var i=0,n=0;n<t;n++)i+=e[n].colSpan;var r=i+e[t].colSpan-1;return!0===this.fixed||"left"===this.fixed?r>=this.leftFixedLeafCount:"right"===this.fixed?i<this.columnsCount-this.rightFixedLeafCount:r<this.leftFixedLeafCount||i>=this.columnsCount-this.rightFixedLeafCount},getHeaderRowStyle:function(t){var e=this.table.headerRowStyle;return"function"==typeof e?e.call(null,{rowIndex:t}):e},getHeaderRowClass:function(t){var e=[],i=this.table.headerRowClassName;return"string"==typeof i?e.push(i):"function"==typeof i&&e.push(i.call(null,{rowIndex:t})),e.join(" ")},getHeaderCellStyle:function(t,e,i,n){var r=this.table.headerCellStyle;return"function"==typeof r?r.call(null,{rowIndex:t,columnIndex:e,row:i,column:n}):r},getHeaderCellClass:function(t,e,i,n){var r=[n.id,n.order,n.headerAlign,n.className,n.labelClassName];0===t&&this.isCellHidden(e,i)&&r.push("is-hidden"),n.children||r.push("is-leaf"),n.sortable&&r.push("is-sortable");var o=this.table.headerCellClassName;return"string"==typeof o?r.push(o):"function"==typeof o&&r.push(o.call(null,{rowIndex:t,columnIndex:e,row:i,column:n})),r.join(" ")},toggleAllSelection:function(t){t.stopPropagation(),this.store.commit("toggleAllSelection")},handleFilterClick:function(t,e){t.stopPropagation();var i=t.target,n="TH"===i.tagName?i:i.parentNode;if(!Object(ft.hasClass)(n,"noclick")){n=n.querySelector(".el-table__column-filter-trigger")||n;var r=this.$parent,o=this.filterPanels[e.id];o&&e.filterOpened?o.showPopper=!1:(o||(o=new di.a(Xi),this.filterPanels[e.id]=o,e.filterPlacement&&(o.placement=e.filterPlacement),o.table=r,o.cell=n,o.column=e,!this.$isServer&&o.$mount(document.createElement("div"))),setTimeout(function(){o.showPopper=!0},16))}},handleHeaderClick:function(t,e){!e.filters&&e.sortable?this.handleSortClick(t,e):e.filterable&&!e.sortable&&this.handleFilterClick(t,e),this.$parent.$emit("header-click",e,t)},handleHeaderContextMenu:function(t,e){this.$parent.$emit("header-contextmenu",e,t)},handleMouseDown:function(t,e){var i=this;if(!this.$isServer&&!(e.children&&e.children.length>0)&&this.draggingColumn&&this.border){this.dragging=!0,this.$parent.resizeProxyVisible=!0;var n=this.$parent,r=n.$el.getBoundingClientRect().left,o=this.$el.querySelector("th."+e.id),s=o.getBoundingClientRect(),a=s.left-r+30;Object(ft.addClass)(o,"noclick"),this.dragState={startMouseLeft:t.clientX,startLeft:s.right-r,startColumnLeft:s.left-r,tableLeft:r};var l=n.$refs.resizeProxy;l.style.left=this.dragState.startLeft+"px",document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};var h=function(t){var e=t.clientX-i.dragState.startMouseLeft,n=i.dragState.startLeft+e;l.style.left=Math.max(a,n)+"px"};document.addEventListener("mousemove",h),document.addEventListener("mouseup",function r(){if(i.dragging){var s=i.dragState,a=s.startColumnLeft,u=s.startLeft,c=parseInt(l.style.left,10)-a;e.width=e.realWidth=c,n.$emit("header-dragend",e.width,u-a,e,t),i.store.scheduleLayout(),document.body.style.cursor="",i.dragging=!1,i.draggingColumn=null,i.dragState={},n.resizeProxyVisible=!1}document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",r),document.onselectstart=null,document.ondragstart=null,setTimeout(function(){Object(ft.removeClass)(o,"noclick")},0)})}},handleMouseMove:function(t,e){if(!(e.children&&e.children.length>0)){for(var i=t.target;i&&"TH"!==i.tagName;)i=i.parentNode;if(e&&e.resizable&&!this.dragging&&this.border){var n=i.getBoundingClientRect(),r=document.body.style;n.width>12&&n.right-t.pageX<8?(r.cursor="col-resize",Object(ft.hasClass)(i,"is-sortable")&&(i.style.cursor="col-resize"),this.draggingColumn=e):this.dragging||(r.cursor="",Object(ft.hasClass)(i,"is-sortable")&&(i.style.cursor="pointer"),this.draggingColumn=null)}}},handleMouseOut:function(){this.$isServer||(document.body.style.cursor="")},toggleOrder:function(t){var e=t.order,i=t.sortOrders;if(""===e)return i[0];var n=i.indexOf(e||null);return i[n>i.length-2?0:n+1]},handleSortClick:function(t,e,i){t.stopPropagation();for(var n=e.order===i?null:i||this.toggleOrder(e),r=t.target;r&&"TH"!==r.tagName;)r=r.parentNode;if(r&&"TH"===r.tagName&&Object(ft.hasClass)(r,"noclick"))Object(ft.removeClass)(r,"noclick");else if(e.sortable){var o=this.store.states,s=o.sortProp,a=void 0,l=o.sortingColumn;(l!==e||l===e&&null===l.order)&&(l&&(l.order=null),o.sortingColumn=e,s=e.property),a=e.order=n||null,o.sortProp=s,o.sortOrder=a,this.store.commit("changeSortCondition")}}},data:function(){return{draggingColumn:null,dragging:!1,dragState:{}}}},Ji=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Zi={name:"ElTableFooter",mixins:[Ri],render:function(t){var e=this,i=[];return this.summaryMethod?i=this.summaryMethod({columns:this.columns,data:this.store.states.data}):this.columns.forEach(function(t,n){if(0!==n){var r=e.store.states.data.map(function(e){return Number(e[t.property])}),o=[],s=!0;r.forEach(function(t){if(!isNaN(t)){s=!1;var e=(""+t).split(".")[1];o.push(e?e.length:0)}});var a=Math.max.apply(null,o);i[n]=s?"":r.reduce(function(t,e){var i=Number(e);return isNaN(i)?t:parseFloat((t+e).toFixed(Math.min(a,20)))},0)}else i[n]=e.sumText}),t("table",{class:"el-table__footer",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("colgroup",[this.columns.map(function(e){return t("col",{attrs:{name:e.id},key:e.id})}),this.hasGutter?t("col",{attrs:{name:"gutter"}}):""]),t("tbody",{class:[{"has-gutter":this.hasGutter}]},[t("tr",[this.columns.map(function(n,r){return t("td",{key:r,attrs:{colspan:n.colSpan,rowspan:n.rowSpan},class:e.getRowClasses(n,r)},[t("div",{class:["cell",n.labelClassName]},[i[r]])])}),this.hasGutter?t("th",{class:"gutter"}):""])])])},props:{fixed:String,store:{required:!0},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:function(){return{prop:"",order:""}}}},computed:Ji({table:function(){return this.$parent},hasGutter:function(){return!this.fixed&&this.tableLayout.gutterWidth}},Li({columns:"columns",isAllSelected:"isAllSelected",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(t){return t.columns.length},leftFixedCount:function(t){return t.fixedColumns.length},rightFixedCount:function(t){return t.rightFixedColumns.length}})),methods:{isCellHidden:function(t,e,i){if(!0===this.fixed||"left"===this.fixed)return t>=this.leftFixedLeafCount;if("right"===this.fixed){for(var n=0,r=0;r<t;r++)n+=e[r].colSpan;return n<this.columnsCount-this.rightFixedLeafCount}return!(this.fixed||!i.fixed)||(t<this.leftFixedCount||t>=this.columnsCount-this.rightFixedCount)},getRowClasses:function(t,e){var i=[t.id,t.align,t.labelClassName];return t.className&&i.push(t.className),this.isCellHidden(e,this.columns,t)&&i.push("is-hidden"),t.children||i.push("is-leaf"),i}}},tn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},en=1,nn=r({name:"ElTable",mixins:[f.a,C.a],directives:{Mousewheel:ui},props:{data:{type:Array,default:function(){return[]}},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],context:{},showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:function(){return{hasChildren:"hasChildren",children:"children"}}},lazy:Boolean,load:Function},components:{TableHeader:qi,TableFooter:Zi,TableBody:Ui,ElCheckbox:oi.a},methods:{getMigratingConfig:function(){return{events:{expand:"expand is renamed to expand-change"}}},setCurrentRow:function(t){this.store.commit("setCurrentRow",t)},toggleRowSelection:function(t,e){this.store.toggleRowSelection(t,e,!1),this.store.updateAllSelected()},toggleRowExpansion:function(t,e){this.store.toggleRowExpansionAdapter(t,e)},clearSelection:function(){this.store.clearSelection()},clearFilter:function(t){this.store.clearFilter(t)},clearSort:function(){this.store.clearSort()},handleMouseLeave:function(){this.store.commit("setHoverRow",null),this.hoverState&&(this.hoverState=null)},updateScrollY:function(){this.layout.updateScrollY()&&(this.layout.notifyObservers("scrollable"),this.layout.updateColumnsWidth())},handleFixedMousewheel:function(t,e){var i=this.bodyWrapper;if(Math.abs(e.spinY)>0){var n=i.scrollTop;e.pixelY<0&&0!==n&&t.preventDefault(),e.pixelY>0&&i.scrollHeight-i.clientHeight>n&&t.preventDefault(),i.scrollTop+=Math.ceil(e.pixelY/5)}else i.scrollLeft+=Math.ceil(e.pixelX/5)},handleHeaderFooterMousewheel:function(t,e){var i=e.pixelX,n=e.pixelY;Math.abs(i)>=Math.abs(n)&&(this.bodyWrapper.scrollLeft+=e.pixelX/5)},syncPostion:Object(si.throttle)(20,function(){var t=this.bodyWrapper,e=t.scrollLeft,i=t.scrollTop,n=t.offsetWidth,r=t.scrollWidth,o=this.$refs,s=o.headerWrapper,a=o.footerWrapper,l=o.fixedBodyWrapper,h=o.rightFixedBodyWrapper;s&&(s.scrollLeft=e),a&&(a.scrollLeft=e),l&&(l.scrollTop=i),h&&(h.scrollTop=i);var u=r-n-1;this.scrollPosition=e>=u?"right":0===e?"left":"middle"}),bindEvents:function(){this.bodyWrapper.addEventListener("scroll",this.syncPostion,{passive:!0}),this.fit&&Object(De.addResizeListener)(this.$el,this.resizeListener)},unbindEvents:function(){this.bodyWrapper.removeEventListener("scroll",this.syncPostion,{passive:!0}),this.fit&&Object(De.removeResizeListener)(this.$el,this.resizeListener)},resizeListener:function(){if(this.$ready){var t=!1,e=this.$el,i=this.resizeState,n=i.width,r=i.height,o=e.offsetWidth;n!==o&&(t=!0);var s=e.offsetHeight;(this.height||this.shouldUpdateHeight)&&r!==s&&(t=!0),t&&(this.resizeState.width=o,this.resizeState.height=s,this.doLayout())}},doLayout:function(){this.shouldUpdateHeight&&this.layout.updateElsHeight(),this.layout.updateColumnsWidth()},sort:function(t,e){this.store.commit("sort",{prop:t,order:e})},toggleAllSelection:function(){this.store.commit("toggleAllSelection")}},computed:tn({tableSize:function(){return this.size||(this.$ELEMENT||{}).size},bodyWrapper:function(){return this.$refs.bodyWrapper},shouldUpdateHeight:function(){return this.height||this.maxHeight||this.fixedColumns.length>0||this.rightFixedColumns.length>0},bodyWidth:function(){var t=this.layout,e=t.bodyWidth,i=t.scrollY,n=t.gutterWidth;return e?e-(i?n:0)+"px":""},bodyHeight:function(){var t=this.layout,e=t.headerHeight,i=void 0===e?0:e,n=t.bodyHeight,r=t.footerHeight,o=void 0===r?0:r;if(this.height)return{height:n?n+"px":""};if(this.maxHeight){var s=wi(this.maxHeight);if("number"==typeof s)return{"max-height":s-o-(this.showHeader?i:0)+"px"}}return{}},fixedBodyHeight:function(){if(this.height)return{height:this.layout.fixedBodyHeight?this.layout.fixedBodyHeight+"px":""};if(this.maxHeight){var t=wi(this.maxHeight);if("number"==typeof t)return t=this.layout.scrollX?t-this.layout.gutterWidth:t,this.showHeader&&(t-=this.layout.headerHeight),{"max-height":(t-=this.layout.footerHeight)+"px"}}return{}},fixedHeight:function(){return this.maxHeight?this.showSummary?{bottom:0}:{bottom:this.layout.scrollX&&this.data.length?this.layout.gutterWidth+"px":""}:this.showSummary?{height:this.layout.tableHeight?this.layout.tableHeight+"px":""}:{height:this.layout.viewportHeight?this.layout.viewportHeight+"px":""}},emptyBlockStyle:function(){if(this.data&&this.data.length)return null;var t="100%";return this.layout.appendHeight&&(t="calc(100% - "+this.layout.appendHeight+"px)"),{width:this.bodyWidth,height:t}}},Li({selection:"selection",columns:"columns",tableData:"data",fixedColumns:"fixedColumns",rightFixedColumns:"rightFixedColumns"})),watch:{height:{immediate:!0,handler:function(t){this.layout.setHeight(t)}},maxHeight:{immediate:!0,handler:function(t){this.layout.setMaxHeight(t)}},currentRowKey:{immediate:!0,handler:function(t){this.rowKey&&this.store.setCurrentRowKey(t)}},data:{immediate:!0,handler:function(t){this.store.commit("setData",t)}},expandRowKeys:{immediate:!0,handler:function(t){t&&this.store.setExpandRowKeysAdapter(t)}}},created:function(){var t=this;this.tableId="el-table_"+en++,this.debouncedUpdateLayout=Object(si.debounce)(50,function(){return t.doLayout()})},mounted:function(){var t=this;this.bindEvents(),this.store.updateColumns(),this.doLayout(),this.resizeState={width:this.$el.offsetWidth,height:this.$el.offsetHeight},this.store.states.columns.forEach(function(e){e.filteredValue&&e.filteredValue.length&&t.store.commit("filterChange",{column:e,values:e.filteredValue,silent:!0})}),this.$ready=!0},destroyed:function(){this.unbindEvents()},data:function(){var t=this.treeProps,e=t.hasChildren,i=void 0===e?"hasChildren":e,n=t.children,r=void 0===n?"children":n;return this.store=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("Table is required.");var i=new Pi;return i.table=t,i.toggleAllSelection=B()(10,i._toggleAllSelection),Object.keys(e).forEach(function(t){i.states[t]=e[t]}),i}(this,{rowKey:this.rowKey,defaultExpandAll:this.defaultExpandAll,selectOnIndeterminate:this.selectOnIndeterminate,indent:this.indent,lazy:this.lazy,lazyColumnIdentifier:i,childrenColumnName:r}),{layout:new Di({store:this.store,table:this,fit:this.fit,showHeader:this.showHeader}),isHidden:!1,renderExpanded:null,resizeProxyVisible:!1,resizeState:{width:null,height:null},isGroup:!1,scrollPosition:"left"}}},ni,[],!1,null,null,null);nn.options.__file="packages/table/src/table.vue";var rn=nn.exports;rn.install=function(t){t.component(rn.name,rn)};var on=rn,sn={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:"",className:"el-table-column--selection"},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},an={selection:{renderHeader:function(t,e){var i=e.store;return t("el-checkbox",{attrs:{disabled:i.states.data&&0===i.states.data.length,indeterminate:i.states.selection.length>0&&!this.isAllSelected,value:this.isAllSelected},nativeOn:{click:this.toggleAllSelection}})},renderCell:function(t,e){var i=e.row,n=e.column,r=e.store,o=e.$index;return t("el-checkbox",{nativeOn:{click:function(t){return t.stopPropagation()}},attrs:{value:r.isSelected(i),disabled:!!n.selectable&&!n.selectable.call(null,i,o)},on:{input:function(){r.commit("rowSelectedChanged",i)}}})},sortable:!1,resizable:!1},index:{renderHeader:function(t,e){return e.column.label||"#"},renderCell:function(t,e){var i=e.$index,n=i+1,r=e.column.index;return"number"==typeof r?n=i+r:"function"==typeof r&&(n=r(i)),t("div",[n])},sortable:!1},expand:{renderHeader:function(t,e){return e.column.label||""},renderCell:function(t,e){var i=e.row,n=e.store,r=["el-table__expand-icon"];n.states.expandRows.indexOf(i)>-1&&r.push("el-table__expand-icon--expanded");return t("div",{class:r,on:{click:function(t){t.stopPropagation(),n.toggleRowExpansion(i)}}},[t("i",{class:"el-icon el-icon-arrow-right"})])},sortable:!1,resizable:!1,className:"el-table__expand-column"}};function ln(t,e){var i=e.row,n=e.column,r=e.$index,o=n.property,s=o&&Object(m.getPropByPath)(i,o).v;return n&&n.formatter?n.formatter(i,n,s,r):s}var hn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},un=1,cn={name:"ElTableColumn",props:{type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{},minWidth:{},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:function(){return["ascending","descending",null]},validator:function(t){return t.every(function(t){return["ascending","descending",null].indexOf(t)>-1})}}},data:function(){return{isSubColumn:!1,columns:[]}},computed:{owner:function(){for(var t=this.$parent;t&&!t.tableId;)t=t.$parent;return t},columnOrTableParent:function(){for(var t=this.$parent;t&&!t.tableId&&!t.columnId;)t=t.$parent;return t},realWidth:function(){return Ci(this.width)},realMinWidth:function(){return void 0!==(t=this.minWidth)&&(t=Ci(t),isNaN(t)&&(t=80)),t;var t},realAlign:function(){return this.align?"is-"+this.align:null},realHeaderAlign:function(){return this.headerAlign?"is-"+this.headerAlign:this.realAlign}},methods:{getPropsData:function(){for(var t=this,e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.reduce(function(e,i){return Array.isArray(i)&&i.forEach(function(i){e[i]=t[i]}),e},{})},getColumnElIndex:function(t,e){return[].indexOf.call(t,e)},setColumnWidth:function(t){return this.realWidth&&(t.width=this.realWidth),this.realMinWidth&&(t.minWidth=this.realMinWidth),t.minWidth||(t.minWidth=80),t.realWidth=void 0===t.width?t.minWidth:t.width,t},setColumnForcedProps:function(t){var e=t.type,i=an[e]||{};return Object.keys(i).forEach(function(e){var n=i[e];void 0!==n&&(t[e]="className"===e?t[e]+" "+n:n)}),t},setColumnRenders:function(t){var e=this;this.$createElement;this.renderHeader?console.warn("[Element Warn][TableColumn]Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header."):"selection"!==t.type&&(t.renderHeader=function(i,n){var r=e.$scopedSlots.header;return r?r(n):t.label});var i=t.renderCell;return"expand"===t.type?(t.renderCell=function(t,e){return t("div",{class:"cell"},[i(t,e)])},this.owner.renderExpanded=function(t,i){return e.$scopedSlots.default?e.$scopedSlots.default(i):e.$slots.default}):(i=i||ln,t.renderCell=function(n,r){var o=null;o=e.$scopedSlots.default?e.$scopedSlots.default(r):i(n,r);var s=function(t,e){var i=e.row,n=e.treeNode,r=e.store;if(!n)return null;var o=[];if(n.indent&&o.push(t("span",{class:"el-table__indent",style:{"padding-left":n.indent+"px"}})),"boolean"!=typeof n.expanded||n.noLazyChildren)o.push(t("span",{class:"el-table__placeholder"}));else{var s=["el-table__expand-icon",n.expanded?"el-table__expand-icon--expanded":""],a=["el-icon-arrow-right"];n.loading&&(a=["el-icon-loading"]),o.push(t("div",{class:s,on:{click:function(t){t.stopPropagation(),r.loadOrToggle(i)}}},[t("i",{class:a})]))}return o}(n,r),a={class:"cell",style:{}};return t.showOverflowTooltip&&(a.class+=" el-tooltip",a.style={width:(r.column.realWidth||r.column.width)-1+"px"}),n("div",a,[s,o])}),t},registerNormalWatchers:function(){var t=this,e={prop:"property",realAlign:"align",realHeaderAlign:"headerAlign",realWidth:"width"},i=["label","property","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"].reduce(function(t,e){return t[e]=e,t},e);Object.keys(i).forEach(function(i){var n=e[i];t.$watch(i,function(e){t.columnConfig[n]=e})})},registerComplexWatchers:function(){var t=this,e={realWidth:"width",realMinWidth:"minWidth"},i=["fixed"].reduce(function(t,e){return t[e]=e,t},e);Object.keys(i).forEach(function(i){var n=e[i];t.$watch(i,function(e){t.columnConfig[n]=e;var i="fixed"===n;t.owner.store.scheduleLayout(i)})})}},components:{ElCheckbox:oi.a},beforeCreate:function(){this.row={},this.column={},this.$index=0,this.columnId=""},created:function(){var t=this.columnOrTableParent;this.isSubColumn=this.owner!==t,this.columnId=(t.tableId||t.columnId)+"_column_"+un++;var e=this.type||"default",i=""===this.sortable||this.sortable,n=hn({},sn[e],{id:this.columnId,type:e,property:this.prop||this.property,align:this.realAlign,headerAlign:this.realHeaderAlign,showOverflowTooltip:this.showOverflowTooltip||this.showTooltipWhenOverflow,filterable:this.filters||this.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,filterOpened:!1,sortable:i,index:this.index}),r=this.getPropsData(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);r=function(t,e){var i={},n=void 0;for(n in t)i[n]=t[n];for(n in e)if(bi(e,n)){var r=e[n];void 0!==r&&(i[n]=r)}return i}(n,r),r=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}(this.setColumnRenders,this.setColumnWidth,this.setColumnForcedProps)(r),this.columnConfig=r,this.registerNormalWatchers(),this.registerComplexWatchers()},mounted:function(){var t=this.owner,e=this.columnOrTableParent,i=this.isSubColumn?e.$el.children:e.$refs.hiddenColumns.children,n=this.getColumnElIndex(i,this.$el);t.store.commit("insertColumn",this.columnConfig,n,this.isSubColumn?e.columnConfig:null)},destroyed:function(){if(this.$parent){var t=this.$parent;this.owner.store.commit("removeColumn",this.columnConfig,this.isSubColumn?t.columnConfig:null)}},render:function(t){return t("div",this.$slots.default)},install:function(t){t.component(cn.name,cn)}},dn=cn,pn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.ranged?i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],ref:"reference",staticClass:"el-date-editor el-range-editor el-input__inner",class:["el-date-editor--"+t.type,t.pickerSize?"el-range-editor--"+t.pickerSize:"",t.pickerDisabled?"is-disabled":"",t.pickerVisible?"is-active":""],on:{click:t.handleRangeClick,mouseenter:t.handleMouseEnter,mouseleave:function(e){t.showClose=!1},keydown:t.handleKeydown}},[i("i",{class:["el-input__icon","el-range__icon",t.triggerClass]}),i("input",t._b({staticClass:"el-range-input",attrs:{autocomplete:"off",placeholder:t.startPlaceholder,disabled:t.pickerDisabled,readonly:!t.editable||t.readonly,name:t.name&&t.name[0]},domProps:{value:t.displayValue&&t.displayValue[0]},on:{input:t.handleStartInput,change:t.handleStartChange,focus:t.handleFocus}},"input",t.firstInputId,!1)),t._t("range-separator",[i("span",{staticClass:"el-range-separator"},[t._v(t._s(t.rangeSeparator))])]),i("input",t._b({staticClass:"el-range-input",attrs:{autocomplete:"off",placeholder:t.endPlaceholder,disabled:t.pickerDisabled,readonly:!t.editable||t.readonly,name:t.name&&t.name[1]},domProps:{value:t.displayValue&&t.displayValue[1]},on:{input:t.handleEndInput,change:t.handleEndChange,focus:t.handleFocus}},"input",t.secondInputId,!1)),t.haveTrigger?i("i",{staticClass:"el-input__icon el-range__close-icon",class:[t.showClose?""+t.clearIcon:""],on:{click:t.handleClickIcon}}):t._e()],2):i("el-input",t._b({directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],ref:"reference",staticClass:"el-date-editor",class:"el-date-editor--"+t.type,attrs:{readonly:!t.editable||t.readonly||"dates"===t.type||"week"===t.type,disabled:t.pickerDisabled,size:t.pickerSize,name:t.name,placeholder:t.placeholder,value:t.displayValue,validateEvent:!1},on:{focus:t.handleFocus,input:function(e){return t.userInput=e},change:t.handleChange},nativeOn:{keydown:function(e){return t.handleKeydown(e)},mouseenter:function(e){return t.handleMouseEnter(e)},mouseleave:function(e){t.showClose=!1}}},"el-input",t.firstInputId,!1),[i("i",{staticClass:"el-input__icon",class:t.triggerClass,attrs:{slot:"prefix"},on:{click:t.handleFocus},slot:"prefix"}),t.haveTrigger?i("i",{staticClass:"el-input__icon",class:[t.showClose?""+t.clearIcon:""],attrs:{slot:"suffix"},on:{click:t.handleClickIcon},slot:"suffix"}):t._e()])};pn._withStripped=!0;var fn=i(0),mn={props:{appendToBody:I.a.props.appendToBody,offset:I.a.props.offset,boundariesPadding:I.a.props.boundariesPadding,arrowOffset:I.a.props.arrowOffset},methods:I.a.methods,data:function(){return Vt()({visibleArrow:!0},I.a.data)},beforeDestroy:I.a.beforeDestroy},gn={date:"yyyy-MM-dd",month:"yyyy-MM",datetime:"yyyy-MM-dd HH:mm:ss",time:"HH:mm:ss",week:"yyyywWW",timerange:"HH:mm:ss",daterange:"yyyy-MM-dd",monthrange:"yyyy-MM",datetimerange:"yyyy-MM-dd HH:mm:ss",year:"yyyy"},vn=["date","datetime","time","time-select","week","month","year","daterange","monthrange","timerange","datetimerange","dates"],An=function(t,e){return"timestamp"===e?t.getTime():Object(fn.formatDate)(t,e)},yn=function(t,e){return"timestamp"===e?new Date(Number(t)):Object(fn.parseDate)(t,e)},xn=function(t,e){if(Array.isArray(t)&&2===t.length){var i=t[0],n=t[1];if(i&&n)return[An(i,e),An(n,e)]}return""},bn=function(t,e,i){if(Array.isArray(t)||(t=t.split(i)),2===t.length){var n=t[0],r=t[1];return[yn(n,e),yn(r,e)]}return[]},Cn={default:{formatter:function(t){return t?""+t:""},parser:function(t){return void 0===t||""===t?null:t}},week:{formatter:function(t,e){var i=Object(fn.getWeekNumber)(t),n=t.getMonth(),r=new Date(t);1===i&&11===n&&(r.setHours(0,0,0,0),r.setDate(r.getDate()+3-(r.getDay()+6)%7));var o=Object(fn.formatDate)(r,e);return o=/WW/.test(o)?o.replace(/WW/,i<10?"0"+i:i):o.replace(/W/,i)},parser:function(t,e){return Cn.date.parser(t,e)}},date:{formatter:An,parser:yn},datetime:{formatter:An,parser:yn},daterange:{formatter:xn,parser:bn},monthrange:{formatter:xn,parser:bn},datetimerange:{formatter:xn,parser:bn},timerange:{formatter:xn,parser:bn},time:{formatter:An,parser:yn},month:{formatter:An,parser:yn},year:{formatter:An,parser:yn},number:{formatter:function(t){return t?""+t:""},parser:function(t){var e=Number(t);return isNaN(t)?null:e}},dates:{formatter:function(t,e){return t.map(function(t){return An(t,e)})},parser:function(t,e){return("string"==typeof t?t.split(", "):t).map(function(t){return t instanceof Date?t:yn(t,e)})}}},wn={left:"bottom-start",center:"bottom",right:"bottom-end"},En=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"-";return t?(0,(Cn[i]||Cn.default).parser)(t,e||gn[i],n):null},Sn=function(t,e,i){return t?(0,(Cn[i]||Cn.default).formatter)(t,e||gn[i]):null},Tn=function(t,e){var i=function(t,e){var i=t instanceof Date,n=e instanceof Date;return i&&n?t.getTime()===e.getTime():!i&&!n&&t===e},n=t instanceof Array,r=e instanceof Array;return n&&r?t.length===e.length&&t.every(function(t,n){return i(t,e[n])}):!n&&!r&&i(t,e)},_n=function(t){return"string"==typeof t||t instanceof String},Mn=function(t){return null===t||void 0===t||_n(t)||Array.isArray(t)&&2===t.length&&t.every(_n)},kn=r({mixins:[E.a,mn],inject:{elForm:{default:""},elFormItem:{default:""}},props:{size:String,format:String,valueFormat:String,readonly:Boolean,placeholder:String,startPlaceholder:String,endPlaceholder:String,prefixIcon:String,clearIcon:{type:String,default:"el-icon-circle-close"},name:{default:"",validator:Mn},disabled:Boolean,clearable:{type:Boolean,default:!0},id:{default:"",validator:Mn},popperClass:String,editable:{type:Boolean,default:!0},align:{type:String,default:"left"},value:{},defaultValue:{},defaultTime:{},rangeSeparator:{default:"-"},pickerOptions:{},unlinkPanels:Boolean,validateEvent:{type:Boolean,default:!0}},components:{ElInput:d.a},directives:{Clickoutside:P.a},data:function(){return{pickerVisible:!1,showClose:!1,userInput:null,valueOnOpen:null,unwatchPickerOptions:null}},watch:{pickerVisible:function(t){this.readonly||this.pickerDisabled||(t?(this.showPicker(),this.valueOnOpen=Array.isArray(this.value)?[].concat(this.value):this.value):(this.hidePicker(),this.emitChange(this.value),this.userInput=null,this.validateEvent&&this.dispatch("ElFormItem","el.form.blur"),this.$emit("blur",this),this.blur()))},parsedValue:{immediate:!0,handler:function(t){this.picker&&(this.picker.value=t)}},defaultValue:function(t){this.picker&&(this.picker.defaultValue=t)},value:function(t,e){Tn(t,e)||this.pickerVisible||!this.validateEvent||this.dispatch("ElFormItem","el.form.change",t)}},computed:{ranged:function(){return this.type.indexOf("range")>-1},reference:function(){var t=this.$refs.reference;return t.$el||t},refInput:function(){return this.reference?[].slice.call(this.reference.querySelectorAll("input")):[]},valueIsEmpty:function(){var t=this.value;if(Array.isArray(t)){for(var e=0,i=t.length;e<i;e++)if(t[e])return!1}else if(t)return!1;return!0},triggerClass:function(){return this.prefixIcon||(-1!==this.type.indexOf("time")?"el-icon-time":"el-icon-date")},selectionMode:function(){return"week"===this.type?"week":"month"===this.type?"month":"year"===this.type?"year":"dates"===this.type?"dates":"day"},haveTrigger:function(){return void 0!==this.showTrigger?this.showTrigger:-1!==vn.indexOf(this.type)},displayValue:function(){var t=Sn(this.parsedValue,this.format,this.type,this.rangeSeparator);return Array.isArray(this.userInput)?[this.userInput[0]||t&&t[0]||"",this.userInput[1]||t&&t[1]||""]:null!==this.userInput?this.userInput:t?"dates"===this.type?t.join(", "):t:""},parsedValue:function(){return this.value?"time-select"===this.type?this.value:Object(fn.isDateObject)(this.value)||Array.isArray(this.value)&&this.value.every(fn.isDateObject)?this.value:this.valueFormat?En(this.value,this.valueFormat,this.type,this.rangeSeparator)||this.value:Array.isArray(this.value)?this.value.map(function(t){return new Date(t)}):new Date(this.value):this.value},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},pickerSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},pickerDisabled:function(){return this.disabled||(this.elForm||{}).disabled},firstInputId:function(){var t={},e=void 0;return(e=this.ranged?this.id&&this.id[0]:this.id)&&(t.id=e),t},secondInputId:function(){var t={},e=void 0;return this.ranged&&(e=this.id&&this.id[1]),e&&(t.id=e),t}},created:function(){this.popperOptions={boundariesPadding:0,gpuAcceleration:!1},this.placement=wn[this.align]||wn.left,this.$on("fieldReset",this.handleFieldReset)},methods:{focus:function(){this.ranged?this.handleFocus():this.$refs.reference.focus()},blur:function(){this.refInput.forEach(function(t){return t.blur()})},parseValue:function(t){var e=Object(fn.isDateObject)(t)||Array.isArray(t)&&t.every(fn.isDateObject);return this.valueFormat&&!e&&En(t,this.valueFormat,this.type,this.rangeSeparator)||t},formatToValue:function(t){var e=Object(fn.isDateObject)(t)||Array.isArray(t)&&t.every(fn.isDateObject);return this.valueFormat&&e?Sn(t,this.valueFormat,this.type,this.rangeSeparator):t},parseString:function(t){var e=Array.isArray(t)?this.type:this.type.replace("range","");return En(t,this.format,e)},formatToString:function(t){var e=Array.isArray(t)?this.type:this.type.replace("range","");return Sn(t,this.format,e)},handleMouseEnter:function(){this.readonly||this.pickerDisabled||!this.valueIsEmpty&&this.clearable&&(this.showClose=!0)},handleChange:function(){if(this.userInput){var t=this.parseString(this.displayValue);t&&(this.picker.value=t,this.isValidValue(t)&&(this.emitInput(t),this.userInput=null))}""===this.userInput&&(this.emitInput(null),this.emitChange(null),this.userInput=null)},handleStartInput:function(t){this.userInput?this.userInput=[t.target.value,this.userInput[1]]:this.userInput=[t.target.value,null]},handleEndInput:function(t){this.userInput?this.userInput=[this.userInput[0],t.target.value]:this.userInput=[null,t.target.value]},handleStartChange:function(t){var e=this.parseString(this.userInput&&this.userInput[0]);if(e){this.userInput=[this.formatToString(e),this.displayValue[1]];var i=[e,this.picker.value&&this.picker.value[1]];this.picker.value=i,this.isValidValue(i)&&(this.emitInput(i),this.userInput=null)}},handleEndChange:function(t){var e=this.parseString(this.userInput&&this.userInput[1]);if(e){this.userInput=[this.displayValue[0],this.formatToString(e)];var i=[this.picker.value&&this.picker.value[0],e];this.picker.value=i,this.isValidValue(i)&&(this.emitInput(i),this.userInput=null)}},handleClickIcon:function(t){this.readonly||this.pickerDisabled||(this.showClose?(this.valueOnOpen=this.value,t.stopPropagation(),this.emitInput(null),this.emitChange(null),this.showClose=!1,this.picker&&"function"==typeof this.picker.handleClear&&this.picker.handleClear()):this.pickerVisible=!this.pickerVisible)},handleClose:function(){if(this.pickerVisible&&(this.pickerVisible=!1,"dates"===this.type)){var t=En(this.valueOnOpen,this.valueFormat,this.type,this.rangeSeparator)||this.valueOnOpen;this.emitInput(t)}},handleFieldReset:function(t){this.userInput=""===t?null:t},handleFocus:function(){var t=this.type;-1===vn.indexOf(t)||this.pickerVisible||(this.pickerVisible=!0),this.$emit("focus",this)},handleKeydown:function(t){var e=this,i=t.keyCode;return 27===i?(this.pickerVisible=!1,void t.stopPropagation()):9!==i?13===i?((""===this.userInput||this.isValidValue(this.parseString(this.displayValue)))&&(this.handleChange(),this.pickerVisible=this.picker.visible=!1,this.blur()),void t.stopPropagation()):void(this.userInput?t.stopPropagation():this.picker&&this.picker.handleKeydown&&this.picker.handleKeydown(t)):void(this.ranged?setTimeout(function(){-1===e.refInput.indexOf(document.activeElement)&&(e.pickerVisible=!1,e.blur(),t.stopPropagation())},0):(this.handleChange(),this.pickerVisible=this.picker.visible=!1,this.blur(),t.stopPropagation()))},handleRangeClick:function(){var t=this.type;-1===vn.indexOf(t)||this.pickerVisible||(this.pickerVisible=!0),this.$emit("focus",this)},hidePicker:function(){this.picker&&(this.picker.resetView&&this.picker.resetView(),this.pickerVisible=this.picker.visible=!1,this.destroyPopper())},showPicker:function(){var t=this;this.$isServer||(this.picker||this.mountPicker(),this.pickerVisible=this.picker.visible=!0,this.updatePopper(),this.picker.value=this.parsedValue,this.picker.resetView&&this.picker.resetView(),this.$nextTick(function(){t.picker.adjustSpinners&&t.picker.adjustSpinners()}))},mountPicker:function(){var t=this;this.picker=new di.a(this.panel).$mount(),this.picker.defaultValue=this.defaultValue,this.picker.defaultTime=this.defaultTime,this.picker.popperClass=this.popperClass,this.popperElm=this.picker.$el,this.picker.width=this.reference.getBoundingClientRect().width,this.picker.showTime="datetime"===this.type||"datetimerange"===this.type,this.picker.selectionMode=this.selectionMode,this.picker.unlinkPanels=this.unlinkPanels,this.picker.arrowControl=this.arrowControl||this.timeArrowControl||!1,this.$watch("format",function(e){t.picker.format=e});var e=function(){var e=t.pickerOptions;if(e&&e.selectableRange){var i=e.selectableRange,n=Cn.datetimerange.parser,r=gn.timerange;i=Array.isArray(i)?i:[i],t.picker.selectableRange=i.map(function(e){return n(e,r,t.rangeSeparator)})}for(var o in e)e.hasOwnProperty(o)&&"selectableRange"!==o&&(t.picker[o]=e[o]);t.format&&(t.picker.format=t.format)};e(),this.unwatchPickerOptions=this.$watch("pickerOptions",function(){return e()},{deep:!0}),this.$el.appendChild(this.picker.$el),this.picker.resetView&&this.picker.resetView(),this.picker.$on("dodestroy",this.doDestroy),this.picker.$on("pick",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.userInput=null,t.pickerVisible=t.picker.visible=i,t.emitInput(e),t.picker.resetView&&t.picker.resetView()}),this.picker.$on("select-range",function(e,i,n){0!==t.refInput.length&&(n&&"min"!==n?"max"===n&&(t.refInput[1].setSelectionRange(e,i),t.refInput[1].focus()):(t.refInput[0].setSelectionRange(e,i),t.refInput[0].focus()))})},unmountPicker:function(){this.picker&&(this.picker.$destroy(),this.picker.$off(),"function"==typeof this.unwatchPickerOptions&&this.unwatchPickerOptions(),this.picker.$el.parentNode.removeChild(this.picker.$el))},emitChange:function(t){Tn(t,this.valueOnOpen)||(this.$emit("change",t),this.valueOnOpen=t,this.validateEvent&&this.dispatch("ElFormItem","el.form.change",t))},emitInput:function(t){var e=this.formatToValue(t);Tn(this.value,e)||this.$emit("input",e)},isValidValue:function(t){return this.picker||this.mountPicker(),!this.picker.isValidValue||t&&this.picker.isValidValue(t)}}},pn,[],!1,null,null,null);kn.options.__file="packages/date-picker/src/picker.vue";var Bn=kn.exports,On=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-enter":t.handleEnter,"after-leave":t.handleLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-picker-panel el-date-picker el-popper",class:[{"has-sidebar":t.$slots.sidebar||t.shortcuts,"has-time":t.showTime},t.popperClass]},[i("div",{staticClass:"el-picker-panel__body-wrapper"},[t._t("sidebar"),t.shortcuts?i("div",{staticClass:"el-picker-panel__sidebar"},t._l(t.shortcuts,function(e,n){return i("button",{key:n,staticClass:"el-picker-panel__shortcut",attrs:{type:"button"},on:{click:function(i){t.handleShortcutClick(e)}}},[t._v(t._s(e.text))])}),0):t._e(),i("div",{staticClass:"el-picker-panel__body"},[t.showTime?i("div",{staticClass:"el-date-picker__time-header"},[i("span",{staticClass:"el-date-picker__editor-wrap"},[i("el-input",{attrs:{placeholder:t.t("el.datepicker.selectDate"),value:t.visibleDate,size:"small"},on:{input:function(e){return t.userInputDate=e},change:t.handleVisibleDateChange}})],1),i("span",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleTimePickClose,expression:"handleTimePickClose"}],staticClass:"el-date-picker__editor-wrap"},[i("el-input",{ref:"input",attrs:{placeholder:t.t("el.datepicker.selectTime"),value:t.visibleTime,size:"small"},on:{focus:function(e){t.timePickerVisible=!0},input:function(e){return t.userInputTime=e},change:t.handleVisibleTimeChange}}),i("time-picker",{ref:"timepicker",attrs:{"time-arrow-control":t.arrowControl,visible:t.timePickerVisible},on:{pick:t.handleTimePick,mounted:t.proxyTimePickerDataProperties}})],1)]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:"time"!==t.currentView,expression:"currentView !== 'time'"}],staticClass:"el-date-picker__header",class:{"el-date-picker__header--bordered":"year"===t.currentView||"month"===t.currentView}},[i("button",{staticClass:"el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-d-arrow-left",attrs:{type:"button","aria-label":t.t("el.datepicker.prevYear")},on:{click:t.prevYear}}),i("button",{directives:[{name:"show",rawName:"v-show",value:"date"===t.currentView,expression:"currentView === 'date'"}],staticClass:"el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-arrow-left",attrs:{type:"button","aria-label":t.t("el.datepicker.prevMonth")},on:{click:t.prevMonth}}),i("span",{staticClass:"el-date-picker__header-label",attrs:{role:"button"},on:{click:t.showYearPicker}},[t._v(t._s(t.yearLabel))]),i("span",{directives:[{name:"show",rawName:"v-show",value:"date"===t.currentView,expression:"currentView === 'date'"}],staticClass:"el-date-picker__header-label",class:{active:"month"===t.currentView},attrs:{role:"button"},on:{click:t.showMonthPicker}},[t._v(t._s(t.t("el.datepicker.month"+(t.month+1))))]),i("button",{staticClass:"el-picker-panel__icon-btn el-date-picker__next-btn el-icon-d-arrow-right",attrs:{type:"button","aria-label":t.t("el.datepicker.nextYear")},on:{click:t.nextYear}}),i("button",{directives:[{name:"show",rawName:"v-show",value:"date"===t.currentView,expression:"currentView === 'date'"}],staticClass:"el-picker-panel__icon-btn el-date-picker__next-btn el-icon-arrow-right",attrs:{type:"button","aria-label":t.t("el.datepicker.nextMonth")},on:{click:t.nextMonth}})]),i("div",{staticClass:"el-picker-panel__content"},[i("date-table",{directives:[{name:"show",rawName:"v-show",value:"date"===t.currentView,expression:"currentView === 'date'"}],attrs:{"selection-mode":t.selectionMode,"first-day-of-week":t.firstDayOfWeek,value:t.value,"default-value":t.defaultValue?new Date(t.defaultValue):null,date:t.date,"cell-class-name":t.cellClassName,"disabled-date":t.disabledDate},on:{pick:t.handleDatePick}}),i("year-table",{directives:[{name:"show",rawName:"v-show",value:"year"===t.currentView,expression:"currentView === 'year'"}],attrs:{value:t.value,"default-value":t.defaultValue?new Date(t.defaultValue):null,date:t.date,"disabled-date":t.disabledDate},on:{pick:t.handleYearPick}}),i("month-table",{directives:[{name:"show",rawName:"v-show",value:"month"===t.currentView,expression:"currentView === 'month'"}],attrs:{value:t.value,"default-value":t.defaultValue?new Date(t.defaultValue):null,date:t.date,"disabled-date":t.disabledDate},on:{pick:t.handleMonthPick}})],1)])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.footerVisible&&"date"===t.currentView,expression:"footerVisible && currentView === 'date'"}],staticClass:"el-picker-panel__footer"},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:"dates"!==t.selectionMode,expression:"selectionMode !== 'dates'"}],staticClass:"el-picker-panel__link-btn",attrs:{size:"mini",type:"text"},on:{click:t.changeToNow}},[t._v("\n        "+t._s(t.t("el.datepicker.now"))+"\n      ")]),i("el-button",{staticClass:"el-picker-panel__link-btn",attrs:{plain:"",size:"mini"},on:{click:t.confirm}},[t._v("\n        "+t._s(t.t("el.datepicker.confirm"))+"\n      ")])],1)])])};On._withStripped=!0;var Pn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(e){t.$emit("dodestroy")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-time-panel el-popper",class:t.popperClass},[i("div",{staticClass:"el-time-panel__content",class:{"has-seconds":t.showSeconds}},[i("time-spinner",{ref:"spinner",attrs:{"arrow-control":t.useArrow,"show-seconds":t.showSeconds,"am-pm-mode":t.amPmMode,date:t.date},on:{change:t.handleChange,"select-range":t.setSelectionRange}})],1),i("div",{staticClass:"el-time-panel__footer"},[i("button",{staticClass:"el-time-panel__btn cancel",attrs:{type:"button"},on:{click:t.handleCancel}},[t._v(t._s(t.t("el.datepicker.cancel")))]),i("button",{staticClass:"el-time-panel__btn",class:{confirm:!t.disabled},attrs:{type:"button"},on:{click:function(e){t.handleConfirm()}}},[t._v(t._s(t.t("el.datepicker.confirm")))])])])])};Pn._withStripped=!0;var Ln=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-time-spinner",class:{"has-seconds":t.showSeconds}},[t.arrowControl?t._e():[i("el-scrollbar",{ref:"hours",staticClass:"el-time-spinner__wrapper",attrs:{"wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul"},nativeOn:{mouseenter:function(e){t.emitSelectRange("hours")},mousemove:function(e){t.adjustCurrentSpinner("hours")}}},t._l(t.hoursList,function(e,n){return i("li",{key:n,staticClass:"el-time-spinner__item",class:{active:n===t.hours,disabled:e},on:{click:function(i){t.handleClick("hours",{value:n,disabled:e})}}},[t._v(t._s(("0"+(t.amPmMode?n%12||12:n)).slice(-2))+t._s(t.amPm(n)))])}),0),i("el-scrollbar",{ref:"minutes",staticClass:"el-time-spinner__wrapper",attrs:{"wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul"},nativeOn:{mouseenter:function(e){t.emitSelectRange("minutes")},mousemove:function(e){t.adjustCurrentSpinner("minutes")}}},t._l(t.minutesList,function(e,n){return i("li",{key:n,staticClass:"el-time-spinner__item",class:{active:n===t.minutes,disabled:!e},on:{click:function(e){t.handleClick("minutes",{value:n,disabled:!1})}}},[t._v(t._s(("0"+n).slice(-2)))])}),0),i("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:t.showSeconds,expression:"showSeconds"}],ref:"seconds",staticClass:"el-time-spinner__wrapper",attrs:{"wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul"},nativeOn:{mouseenter:function(e){t.emitSelectRange("seconds")},mousemove:function(e){t.adjustCurrentSpinner("seconds")}}},t._l(60,function(e,n){return i("li",{key:n,staticClass:"el-time-spinner__item",class:{active:n===t.seconds},on:{click:function(e){t.handleClick("seconds",{value:n,disabled:!1})}}},[t._v(t._s(("0"+n).slice(-2)))])}),0)],t.arrowControl?[i("div",{staticClass:"el-time-spinner__wrapper is-arrow",on:{mouseenter:function(e){t.emitSelectRange("hours")}}},[i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-time-spinner__arrow el-icon-arrow-up"}),i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-time-spinner__arrow el-icon-arrow-down"}),i("ul",{ref:"hours",staticClass:"el-time-spinner__list"},t._l(t.arrowHourList,function(e,n){return i("li",{key:n,staticClass:"el-time-spinner__item",class:{active:e===t.hours,disabled:t.hoursList[e]}},[t._v(t._s(void 0===e?"":("0"+(t.amPmMode?e%12||12:e)).slice(-2)+t.amPm(e)))])}),0)]),i("div",{staticClass:"el-time-spinner__wrapper is-arrow",on:{mouseenter:function(e){t.emitSelectRange("minutes")}}},[i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-time-spinner__arrow el-icon-arrow-up"}),i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-time-spinner__arrow el-icon-arrow-down"}),i("ul",{ref:"minutes",staticClass:"el-time-spinner__list"},t._l(t.arrowMinuteList,function(e,n){return i("li",{key:n,staticClass:"el-time-spinner__item",class:{active:e===t.minutes}},[t._v("\n          "+t._s(void 0===e?"":("0"+e).slice(-2))+"\n        ")])}),0)]),t.showSeconds?i("div",{staticClass:"el-time-spinner__wrapper is-arrow",on:{mouseenter:function(e){t.emitSelectRange("seconds")}}},[i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-time-spinner__arrow el-icon-arrow-up"}),i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-time-spinner__arrow el-icon-arrow-down"}),i("ul",{ref:"seconds",staticClass:"el-time-spinner__list"},t._l(t.arrowSecondList,function(e,n){return i("li",{key:n,staticClass:"el-time-spinner__item",class:{active:e===t.seconds}},[t._v("\n          "+t._s(void 0===e?"":("0"+e).slice(-2))+"\n        ")])}),0)]):t._e()]:t._e()],2)};Ln._withStripped=!0;var Nn=r({components:{ElScrollbar:R.a},directives:{repeatClick:Kt},props:{date:{},defaultValue:{},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:String,default:""}},computed:{hours:function(){return this.date.getHours()},minutes:function(){return this.date.getMinutes()},seconds:function(){return this.date.getSeconds()},hoursList:function(){return Object(fn.getRangeHours)(this.selectableRange)},minutesList:function(){return Object(fn.getRangeMinutes)(this.selectableRange,this.hours)},arrowHourList:function(){var t=this.hours;return[t>0?t-1:void 0,t,t<23?t+1:void 0]},arrowMinuteList:function(){var t=this.minutes;return[t>0?t-1:void 0,t,t<59?t+1:void 0]},arrowSecondList:function(){var t=this.seconds;return[t>0?t-1:void 0,t,t<59?t+1:void 0]}},data:function(){return{selectableRange:[],currentScrollbar:null}},mounted:function(){var t=this;this.$nextTick(function(){!t.arrowControl&&t.bindScrollEvent()})},methods:{increase:function(){this.scrollDown(1)},decrease:function(){this.scrollDown(-1)},modifyDateField:function(t,e){switch(t){case"hours":this.$emit("change",Object(fn.modifyTime)(this.date,e,this.minutes,this.seconds));break;case"minutes":this.$emit("change",Object(fn.modifyTime)(this.date,this.hours,e,this.seconds));break;case"seconds":this.$emit("change",Object(fn.modifyTime)(this.date,this.hours,this.minutes,e))}},handleClick:function(t,e){var i=e.value;e.disabled||(this.modifyDateField(t,i),this.emitSelectRange(t),this.adjustSpinner(t,i))},emitSelectRange:function(t){"hours"===t?this.$emit("select-range",0,2):"minutes"===t?this.$emit("select-range",3,5):"seconds"===t&&this.$emit("select-range",6,8),this.currentScrollbar=t},bindScrollEvent:function(){var t=this,e=function(e){t.$refs[e].wrap.onscroll=function(i){t.handleScroll(e,i)}};e("hours"),e("minutes"),e("seconds")},handleScroll:function(t){var e=Math.min(Math.round((this.$refs[t].wrap.scrollTop-(.5*this.scrollBarHeight(t)-10)/this.typeItemHeight(t)+3)/this.typeItemHeight(t)),"hours"===t?23:59);this.modifyDateField(t,e)},adjustSpinners:function(){this.adjustSpinner("hours",this.hours),this.adjustSpinner("minutes",this.minutes),this.adjustSpinner("seconds",this.seconds)},adjustCurrentSpinner:function(t){this.adjustSpinner(t,this[t])},adjustSpinner:function(t,e){if(!this.arrowControl){var i=this.$refs[t].wrap;i&&(i.scrollTop=Math.max(0,e*this.typeItemHeight(t)))}},scrollDown:function(t){var e=this;this.currentScrollbar||this.emitSelectRange("hours");var i=this.currentScrollbar,n=this.hoursList,r=this[i];if("hours"===this.currentScrollbar){var o=Math.abs(t);t=t>0?1:-1;for(var s=n.length;s--&&o;)n[r=(r+t+n.length)%n.length]||o--;if(n[r])return}else r=(r+t+60)%60;this.modifyDateField(i,r),this.adjustSpinner(i,r),this.$nextTick(function(){return e.emitSelectRange(e.currentScrollbar)})},amPm:function(t){if(!("a"===this.amPmMode.toLowerCase()))return"";var e="A"===this.amPmMode,i=t<12?" am":" pm";return e&&(i=i.toUpperCase()),i},typeItemHeight:function(t){return this.$refs[t].$el.querySelector("li").offsetHeight},scrollBarHeight:function(t){return this.$refs[t].$el.offsetHeight}}},Ln,[],!1,null,null,null);Nn.options.__file="packages/date-picker/src/basic/time-spinner.vue";var In=Nn.exports,Dn=r({mixins:[f.a],components:{TimeSpinner:In},props:{visible:Boolean,timeArrowControl:Boolean},watch:{visible:function(t){var e=this;t?(this.oldValue=this.value,this.$nextTick(function(){return e.$refs.spinner.emitSelectRange("hours")})):this.needInitAdjust=!0},value:function(t){var e=this,i=void 0;t instanceof Date?i=Object(fn.limitTimeRange)(t,this.selectableRange,this.format):t||(i=this.defaultValue?new Date(this.defaultValue):new Date),this.date=i,this.visible&&this.needInitAdjust&&(this.$nextTick(function(t){return e.adjustSpinners()}),this.needInitAdjust=!1)},selectableRange:function(t){this.$refs.spinner.selectableRange=t},defaultValue:function(t){Object(fn.isDate)(this.value)||(this.date=t?new Date(t):new Date)}},data:function(){return{popperClass:"",format:"HH:mm:ss",value:"",defaultValue:null,date:new Date,oldValue:new Date,selectableRange:[],selectionRange:[0,2],disabled:!1,arrowControl:!1,needInitAdjust:!0}},computed:{showSeconds:function(){return-1!==(this.format||"").indexOf("ss")},useArrow:function(){return this.arrowControl||this.timeArrowControl||!1},amPmMode:function(){return-1!==(this.format||"").indexOf("A")?"A":-1!==(this.format||"").indexOf("a")?"a":""}},methods:{handleCancel:function(){this.$emit("pick",this.oldValue,!1)},handleChange:function(t){this.visible&&(this.date=Object(fn.clearMilliseconds)(t),this.isValidValue(this.date)&&this.$emit("pick",this.date,!0))},setSelectionRange:function(t,e){this.$emit("select-range",t,e),this.selectionRange=[t,e]},handleConfirm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments[1];if(!e){var i=Object(fn.clearMilliseconds)(Object(fn.limitTimeRange)(this.date,this.selectableRange,this.format));this.$emit("pick",i,t,e)}},handleKeydown:function(t){var e=t.keyCode,i={38:-1,40:1,37:-1,39:1};if(37===e||39===e){var n=i[e];return this.changeSelectionRange(n),void t.preventDefault()}if(38===e||40===e){var r=i[e];return this.$refs.spinner.scrollDown(r),void t.preventDefault()}},isValidValue:function(t){return Object(fn.timeWithinRange)(t,this.selectableRange,this.format)},adjustSpinners:function(){return this.$refs.spinner.adjustSpinners()},changeSelectionRange:function(t){var e=[0,3].concat(this.showSeconds?[6]:[]),i=["hours","minutes"].concat(this.showSeconds?["seconds"]:[]),n=(e.indexOf(this.selectionRange[0])+t+e.length)%e.length;this.$refs.spinner.emitSelectRange(i[n])}},mounted:function(){var t=this;this.$nextTick(function(){return t.handleConfirm(!0,!0)}),this.$emit("mounted")}},Pn,[],!1,null,null,null);Dn.options.__file="packages/date-picker/src/panel/time.vue";var Rn=Dn.exports,Fn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"el-year-table",on:{click:t.handleYearTableClick}},[i("tbody",[i("tr",[i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+0)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear))])]),i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+1)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+1))])]),i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+2)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+2))])]),i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+3)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+3))])])]),i("tr",[i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+4)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+4))])]),i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+5)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+5))])]),i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+6)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+6))])]),i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+7)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+7))])])]),i("tr",[i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+8)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+8))])]),i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+9)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+9))])]),i("td"),i("td")])])])};Fn._withStripped=!0;var Hn=r({props:{disabledDate:{},value:{},defaultValue:{validator:function(t){return null===t||t instanceof Date&&Object(fn.isDate)(t)}},date:{}},computed:{startYear:function(){return 10*Math.floor(this.date.getFullYear()/10)}},methods:{getCellStyle:function(t){var e={},i=new Date;return e.disabled="function"==typeof this.disabledDate&&function(t){var e=Object(fn.getDayCountOfYear)(t),i=new Date(t,0,1);return Object(fn.range)(e).map(function(t){return Object(fn.nextDate)(i,t)})}(t).every(this.disabledDate),e.current=Object(m.arrayFindIndex)(Object(m.coerceTruthyValueToArray)(this.value),function(e){return e.getFullYear()===t})>=0,e.today=i.getFullYear()===t,e.default=this.defaultValue&&this.defaultValue.getFullYear()===t,e},handleYearTableClick:function(t){var e=t.target;if("A"===e.tagName){if(Object(ft.hasClass)(e.parentNode,"disabled"))return;var i=e.textContent||e.innerText;this.$emit("pick",Number(i))}}}},Fn,[],!1,null,null,null);Hn.options.__file="packages/date-picker/src/basic/year-table.vue";var Un=Hn.exports,Vn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"el-month-table",on:{click:t.handleMonthTableClick,mousemove:t.handleMouseMove}},[i("tbody",t._l(t.rows,function(e,n){return i("tr",{key:n},t._l(e,function(e,n){return i("td",{key:n,class:t.getCellStyle(e)},[i("div",[i("a",{staticClass:"cell"},[t._v(t._s(t.t("el.datepicker.months."+t.months[e.text])))])])])}),0)}),0)])};Vn._withStripped=!0;var jn=function(t){return new Date(t.getFullYear(),t.getMonth())},Gn=function(t){return"number"==typeof t||"string"==typeof t?jn(new Date(t)).getTime():t instanceof Date?jn(t).getTime():NaN},zn=r({props:{disabledDate:{},value:{},selectionMode:{default:"month"},minDate:{},maxDate:{},defaultValue:{validator:function(t){return null===t||Object(fn.isDate)(t)||Array.isArray(t)&&t.every(fn.isDate)}},date:{},rangeState:{default:function(){return{endDate:null,selecting:!1}}}},mixins:[f.a],watch:{"rangeState.endDate":function(t){this.markRange(this.minDate,t)},minDate:function(t,e){Gn(t)!==Gn(e)&&this.markRange(this.minDate,this.maxDate)},maxDate:function(t,e){Gn(t)!==Gn(e)&&this.markRange(this.minDate,this.maxDate)}},data:function(){return{months:["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],tableRows:[[],[],[]],lastRow:null,lastColumn:null}},methods:{cellMatchesDate:function(t,e){var i=new Date(e);return this.date.getFullYear()===i.getFullYear()&&Number(t.text)===i.getMonth()},getCellStyle:function(t){var e=this,i={},n=this.date.getFullYear(),r=new Date,o=t.text,s=this.defaultValue?Array.isArray(this.defaultValue)?this.defaultValue:[this.defaultValue]:[];return i.disabled="function"==typeof this.disabledDate&&function(t,e){var i=Object(fn.getDayCountOfMonth)(t,e),n=new Date(t,e,1);return Object(fn.range)(i).map(function(t){return Object(fn.nextDate)(n,t)})}(n,o).every(this.disabledDate),i.current=Object(m.arrayFindIndex)(Object(m.coerceTruthyValueToArray)(this.value),function(t){return t.getFullYear()===n&&t.getMonth()===o})>=0,i.today=r.getFullYear()===n&&r.getMonth()===o,i.default=s.some(function(i){return e.cellMatchesDate(t,i)}),t.inRange&&(i["in-range"]=!0,t.start&&(i["start-date"]=!0),t.end&&(i["end-date"]=!0)),i},getMonthOfCell:function(t){var e=this.date.getFullYear();return new Date(e,t,1)},markRange:function(t,e){t=Gn(t),e=Gn(e)||t;var i=[Math.min(t,e),Math.max(t,e)];t=i[0],e=i[1];for(var n=this.rows,r=0,o=n.length;r<o;r++)for(var s=n[r],a=0,l=s.length;a<l;a++){var h=s[a],u=4*r+a,c=new Date(this.date.getFullYear(),u).getTime();h.inRange=t&&c>=t&&c<=e,h.start=t&&c===t,h.end=e&&c===e}},handleMouseMove:function(t){if(this.rangeState.selecting){var e=t.target;if("A"===e.tagName&&(e=e.parentNode.parentNode),"DIV"===e.tagName&&(e=e.parentNode),"TD"===e.tagName){var i=e.parentNode.rowIndex,n=e.cellIndex;this.rows[i][n].disabled||i===this.lastRow&&n===this.lastColumn||(this.lastRow=i,this.lastColumn=n,this.$emit("changerange",{minDate:this.minDate,maxDate:this.maxDate,rangeState:{selecting:!0,endDate:this.getMonthOfCell(4*i+n)}}))}}},handleMonthTableClick:function(t){var e=t.target;if("A"===e.tagName&&(e=e.parentNode.parentNode),"DIV"===e.tagName&&(e=e.parentNode),"TD"===e.tagName&&!Object(ft.hasClass)(e,"disabled")){var i=e.cellIndex,n=4*e.parentNode.rowIndex+i,r=this.getMonthOfCell(n);"range"===this.selectionMode?this.rangeState.selecting?(r>=this.minDate?this.$emit("pick",{minDate:this.minDate,maxDate:r}):this.$emit("pick",{minDate:r,maxDate:this.minDate}),this.rangeState.selecting=!1):(this.$emit("pick",{minDate:r,maxDate:null}),this.rangeState.selecting=!0):this.$emit("pick",n)}}},computed:{rows:function(){for(var t=this,e=this.tableRows,i=this.disabledDate,n=[],r=Gn(new Date),o=0;o<3;o++)for(var s=e[o],a=function(e){var a=s[e];a||(a={row:o,column:e,type:"normal",inRange:!1,start:!1,end:!1}),a.type="normal";var l=4*o+e,h=new Date(t.date.getFullYear(),l).getTime();a.inRange=h>=Gn(t.minDate)&&h<=Gn(t.maxDate),a.start=t.minDate&&h===Gn(t.minDate),a.end=t.maxDate&&h===Gn(t.maxDate),h===r&&(a.type="today"),a.text=l;var u=new Date(h);a.disabled="function"==typeof i&&i(u),a.selected=Object(m.arrayFind)(n,function(t){return t.getTime()===u.getTime()}),t.$set(s,e,a)},l=0;l<4;l++)a(l);return e}}},Vn,[],!1,null,null,null);zn.options.__file="packages/date-picker/src/basic/month-table.vue";var Qn=zn.exports,Yn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"el-date-table",class:{"is-week-mode":"week"===t.selectionMode},attrs:{cellspacing:"0",cellpadding:"0"},on:{click:t.handleClick,mousemove:t.handleMouseMove}},[i("tbody",[i("tr",[t.showWeekNumber?i("th",[t._v(t._s(t.t("el.datepicker.week")))]):t._e(),t._l(t.WEEKS,function(e,n){return i("th",{key:n},[t._v(t._s(t.t("el.datepicker.weeks."+e)))])})],2),t._l(t.rows,function(e,n){return i("tr",{key:n,staticClass:"el-date-table__row",class:{current:t.isWeekActive(e[1])}},t._l(e,function(e,n){return i("td",{key:n,class:t.getCellClasses(e)},[i("div",[i("span",[t._v("\n          "+t._s(e.text)+"\n        ")])])])}),0)})],2)])};Yn._withStripped=!0;var Kn=["sun","mon","tue","wed","thu","fri","sat"],Xn=function(t){return"number"==typeof t||"string"==typeof t?Object(fn.clearTime)(new Date(t)).getTime():t instanceof Date?Object(fn.clearTime)(t).getTime():NaN},$n=r({mixins:[f.a],props:{firstDayOfWeek:{default:7,type:Number,validator:function(t){return t>=1&&t<=7}},value:{},defaultValue:{validator:function(t){return null===t||Object(fn.isDate)(t)||Array.isArray(t)&&t.every(fn.isDate)}},date:{},selectionMode:{default:"day"},showWeekNumber:{type:Boolean,default:!1},disabledDate:{},cellClassName:{},minDate:{},maxDate:{},rangeState:{default:function(){return{endDate:null,selecting:!1}}}},computed:{offsetDay:function(){var t=this.firstDayOfWeek;return t>3?7-t:-t},WEEKS:function(){var t=this.firstDayOfWeek;return Kn.concat(Kn).slice(t,t+7)},year:function(){return this.date.getFullYear()},month:function(){return this.date.getMonth()},startDate:function(){return Object(fn.getStartDateOfMonth)(this.year,this.month)},rows:function(){var t=this,e=new Date(this.year,this.month,1),i=Object(fn.getFirstDayOfMonth)(e),n=Object(fn.getDayCountOfMonth)(e.getFullYear(),e.getMonth()),r=Object(fn.getDayCountOfMonth)(e.getFullYear(),0===e.getMonth()?11:e.getMonth()-1);i=0===i?7:i;for(var o=this.offsetDay,s=this.tableRows,a=1,l=this.startDate,h=this.disabledDate,u=this.cellClassName,c="dates"===this.selectionMode?Object(m.coerceTruthyValueToArray)(this.value):[],d=Xn(new Date),p=0;p<6;p++){var f=s[p];this.showWeekNumber&&(f[0]||(f[0]={type:"week",text:Object(fn.getWeekNumber)(Object(fn.nextDate)(l,7*p+1))}));for(var g=function(e){var s=f[t.showWeekNumber?e+1:e];s||(s={row:p,column:e,type:"normal",inRange:!1,start:!1,end:!1}),s.type="normal";var g=7*p+e,v=Object(fn.nextDate)(l,g-o).getTime();if(s.inRange=v>=Xn(t.minDate)&&v<=Xn(t.maxDate),s.start=t.minDate&&v===Xn(t.minDate),s.end=t.maxDate&&v===Xn(t.maxDate),v===d&&(s.type="today"),p>=0&&p<=1){var A=i+o<0?7+i+o:i+o;e+7*p>=A?s.text=a++:(s.text=r-(A-e%7)+1+7*p,s.type="prev-month")}else a<=n?s.text=a++:(s.text=a++-n,s.type="next-month");var y=new Date(v);s.disabled="function"==typeof h&&h(y),s.selected=Object(m.arrayFind)(c,function(t){return t.getTime()===y.getTime()}),s.customClass="function"==typeof u&&u(y),t.$set(f,t.showWeekNumber?e+1:e,s)},v=0;v<7;v++)g(v);if("week"===this.selectionMode){var A=this.showWeekNumber?1:0,y=this.showWeekNumber?7:6,x=this.isWeekActive(f[A+1]);f[A].inRange=x,f[A].start=x,f[y].inRange=x,f[y].end=x}}return s}},watch:{"rangeState.endDate":function(t){this.markRange(this.minDate,t)},minDate:function(t,e){Xn(t)!==Xn(e)&&this.markRange(this.minDate,this.maxDate)},maxDate:function(t,e){Xn(t)!==Xn(e)&&this.markRange(this.minDate,this.maxDate)}},data:function(){return{tableRows:[[],[],[],[],[],[]],lastRow:null,lastColumn:null}},methods:{cellMatchesDate:function(t,e){var i=new Date(e);return this.year===i.getFullYear()&&this.month===i.getMonth()&&Number(t.text)===i.getDate()},getCellClasses:function(t){var e=this,i=this.selectionMode,n=this.defaultValue?Array.isArray(this.defaultValue)?this.defaultValue:[this.defaultValue]:[],r=[];return"normal"!==t.type&&"today"!==t.type||t.disabled?r.push(t.type):(r.push("available"),"today"===t.type&&r.push("today")),"normal"===t.type&&n.some(function(i){return e.cellMatchesDate(t,i)})&&r.push("default"),"day"!==i||"normal"!==t.type&&"today"!==t.type||!this.cellMatchesDate(t,this.value)||r.push("current"),!t.inRange||"normal"!==t.type&&"today"!==t.type&&"week"!==this.selectionMode||(r.push("in-range"),t.start&&r.push("start-date"),t.end&&r.push("end-date")),t.disabled&&r.push("disabled"),t.selected&&r.push("selected"),t.customClass&&r.push(t.customClass),r.join(" ")},getDateOfCell:function(t,e){var i=7*t+(e-(this.showWeekNumber?1:0))-this.offsetDay;return Object(fn.nextDate)(this.startDate,i)},isWeekActive:function(t){if("week"!==this.selectionMode)return!1;var e=new Date(this.year,this.month,1),i=e.getFullYear(),n=e.getMonth();if("prev-month"===t.type&&(e.setMonth(0===n?11:n-1),e.setFullYear(0===n?i-1:i)),"next-month"===t.type&&(e.setMonth(11===n?0:n+1),e.setFullYear(11===n?i+1:i)),e.setDate(parseInt(t.text,10)),Object(fn.isDate)(this.value)){var r=(this.value.getDay()-this.firstDayOfWeek+7)%7-1;return Object(fn.prevDate)(this.value,r).getTime()===e.getTime()}return!1},markRange:function(t,e){t=Xn(t),e=Xn(e)||t;var i=[Math.min(t,e),Math.max(t,e)];t=i[0],e=i[1];for(var n=this.startDate,r=this.rows,o=0,s=r.length;o<s;o++)for(var a=r[o],l=0,h=a.length;l<h;l++)if(!this.showWeekNumber||0!==l){var u=a[l],c=7*o+l+(this.showWeekNumber?-1:0),d=Object(fn.nextDate)(n,c-this.offsetDay).getTime();u.inRange=t&&d>=t&&d<=e,u.start=t&&d===t,u.end=e&&d===e}},handleMouseMove:function(t){if(this.rangeState.selecting){var e=t.target;if("SPAN"===e.tagName&&(e=e.parentNode.parentNode),"DIV"===e.tagName&&(e=e.parentNode),"TD"===e.tagName){var i=e.parentNode.rowIndex-1,n=e.cellIndex;this.rows[i][n].disabled||i===this.lastRow&&n===this.lastColumn||(this.lastRow=i,this.lastColumn=n,this.$emit("changerange",{minDate:this.minDate,maxDate:this.maxDate,rangeState:{selecting:!0,endDate:this.getDateOfCell(i,n)}}))}}},handleClick:function(t){var e=t.target;if("SPAN"===e.tagName&&(e=e.parentNode.parentNode),"DIV"===e.tagName&&(e=e.parentNode),"TD"===e.tagName){var i=e.parentNode.rowIndex-1,n="week"===this.selectionMode?1:e.cellIndex,r=this.rows[i][n];if(!r.disabled&&"week"!==r.type){var o,s,a,l=this.getDateOfCell(i,n);if("range"===this.selectionMode)this.rangeState.selecting?(l>=this.minDate?this.$emit("pick",{minDate:this.minDate,maxDate:l}):this.$emit("pick",{minDate:l,maxDate:this.minDate}),this.rangeState.selecting=!1):(this.$emit("pick",{minDate:l,maxDate:null}),this.rangeState.selecting=!0);else if("day"===this.selectionMode)this.$emit("pick",l);else if("week"===this.selectionMode){var h=Object(fn.getWeekNumber)(l),u=l.getFullYear()+"w"+h;this.$emit("pick",{year:l.getFullYear(),week:h,value:u,date:l})}else if("dates"===this.selectionMode){var c=this.value||[],d=r.selected?(o=c,(a="function"==typeof(s=function(t){return t.getTime()===l.getTime()})?Object(m.arrayFindIndex)(o,s):o.indexOf(s))>=0?[].concat(o.slice(0,a),o.slice(a+1)):o):[].concat(c,[l]);this.$emit("pick",d)}}}}}},Yn,[],!1,null,null,null);$n.options.__file="packages/date-picker/src/basic/date-table.vue";var Wn=$n.exports,qn=r({mixins:[f.a],directives:{Clickoutside:P.a},watch:{showTime:function(t){var e=this;t&&this.$nextTick(function(t){var i=e.$refs.input.$el;i&&(e.pickerWidth=i.getBoundingClientRect().width+10)})},value:function(t){"dates"===this.selectionMode&&this.value||(Object(fn.isDate)(t)?this.date=new Date(t):this.date=this.getDefaultValue())},defaultValue:function(t){Object(fn.isDate)(this.value)||(this.date=t?new Date(t):new Date)},timePickerVisible:function(t){var e=this;t&&this.$nextTick(function(){return e.$refs.timepicker.adjustSpinners()})},selectionMode:function(t){"month"===t?"year"===this.currentView&&"month"===this.currentView||(this.currentView="month"):"dates"===t&&(this.currentView="date")}},methods:{proxyTimePickerDataProperties:function(){var t,e=this,i=function(t){e.$refs.timepicker.value=t},n=function(t){e.$refs.timepicker.date=t},r=function(t){e.$refs.timepicker.selectableRange=t};this.$watch("value",i),this.$watch("date",n),this.$watch("selectableRange",r),t=this.timeFormat,e.$refs.timepicker.format=t,i(this.value),n(this.date),r(this.selectableRange)},handleClear:function(){this.date=this.getDefaultValue(),this.$emit("pick",null)},emit:function(t){for(var e=this,i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];if(t)if(Array.isArray(t)){var o=t.map(function(t){return e.showTime?Object(fn.clearMilliseconds)(t):Object(fn.clearTime)(t)});this.$emit.apply(this,["pick",o].concat(n))}else this.$emit.apply(this,["pick",this.showTime?Object(fn.clearMilliseconds)(t):Object(fn.clearTime)(t)].concat(n));else this.$emit.apply(this,["pick",t].concat(n));this.userInputDate=null,this.userInputTime=null},showMonthPicker:function(){this.currentView="month"},showYearPicker:function(){this.currentView="year"},prevMonth:function(){this.date=Object(fn.prevMonth)(this.date)},nextMonth:function(){this.date=Object(fn.nextMonth)(this.date)},prevYear:function(){"year"===this.currentView?this.date=Object(fn.prevYear)(this.date,10):this.date=Object(fn.prevYear)(this.date)},nextYear:function(){"year"===this.currentView?this.date=Object(fn.nextYear)(this.date,10):this.date=Object(fn.nextYear)(this.date)},handleShortcutClick:function(t){t.onClick&&t.onClick(this)},handleTimePick:function(t,e,i){if(Object(fn.isDate)(t)){var n=this.value?Object(fn.modifyTime)(this.value,t.getHours(),t.getMinutes(),t.getSeconds()):Object(fn.modifyWithTimeString)(this.getDefaultValue(),this.defaultTime);this.date=n,this.emit(this.date,!0)}else this.emit(t,!0);i||(this.timePickerVisible=e)},handleTimePickClose:function(){this.timePickerVisible=!1},handleMonthPick:function(t){"month"===this.selectionMode?(this.date=Object(fn.modifyDate)(this.date,this.year,t,1),this.emit(this.date)):(this.date=Object(fn.changeYearMonthAndClampDate)(this.date,this.year,t),this.currentView="date")},handleDatePick:function(t){if("day"===this.selectionMode){var e=this.value?Object(fn.modifyDate)(this.value,t.getFullYear(),t.getMonth(),t.getDate()):Object(fn.modifyWithTimeString)(t,this.defaultTime);this.checkDateWithinRange(e)||(e=Object(fn.modifyDate)(this.selectableRange[0][0],t.getFullYear(),t.getMonth(),t.getDate())),this.date=e,this.emit(this.date,this.showTime)}else"week"===this.selectionMode?this.emit(t.date):"dates"===this.selectionMode&&this.emit(t,!0)},handleYearPick:function(t){"year"===this.selectionMode?(this.date=Object(fn.modifyDate)(this.date,t,0,1),this.emit(this.date)):(this.date=Object(fn.changeYearMonthAndClampDate)(this.date,t,this.month),this.currentView="month")},changeToNow:function(){this.disabledDate&&this.disabledDate(new Date)||!this.checkDateWithinRange(new Date)||(this.date=new Date,this.emit(this.date))},confirm:function(){if("dates"===this.selectionMode)this.emit(this.value);else{var t=this.value?this.value:Object(fn.modifyWithTimeString)(this.getDefaultValue(),this.defaultTime);this.date=new Date(t),this.emit(t)}},resetView:function(){"month"===this.selectionMode?this.currentView="month":"year"===this.selectionMode?this.currentView="year":this.currentView="date"},handleEnter:function(){document.body.addEventListener("keydown",this.handleKeydown)},handleLeave:function(){this.$emit("dodestroy"),document.body.removeEventListener("keydown",this.handleKeydown)},handleKeydown:function(t){var e=t.keyCode;this.visible&&!this.timePickerVisible&&(-1!==[38,40,37,39].indexOf(e)&&(this.handleKeyControl(e),t.stopPropagation(),t.preventDefault()),13===e&&null===this.userInputDate&&null===this.userInputTime&&this.emit(this.date,!1))},handleKeyControl:function(t){for(var e={year:{38:-4,40:4,37:-1,39:1,offset:function(t,e){return t.setFullYear(t.getFullYear()+e)}},month:{38:-4,40:4,37:-1,39:1,offset:function(t,e){return t.setMonth(t.getMonth()+e)}},week:{38:-1,40:1,37:-1,39:1,offset:function(t,e){return t.setDate(t.getDate()+7*e)}},day:{38:-7,40:7,37:-1,39:1,offset:function(t,e){return t.setDate(t.getDate()+e)}}},i=this.selectionMode,n=this.date.getTime(),r=new Date(this.date.getTime());Math.abs(n-r.getTime())<=31536e6;){var o=e[i];if(o.offset(r,o[t]),"function"!=typeof this.disabledDate||!this.disabledDate(r)){this.date=r,this.$emit("pick",r,!0);break}}},handleVisibleTimeChange:function(t){var e=Object(fn.parseDate)(t,this.timeFormat);e&&this.checkDateWithinRange(e)&&(this.date=Object(fn.modifyDate)(e,this.year,this.month,this.monthDate),this.userInputTime=null,this.$refs.timepicker.value=this.date,this.timePickerVisible=!1,this.emit(this.date,!0))},handleVisibleDateChange:function(t){var e=Object(fn.parseDate)(t,this.dateFormat);if(e){if("function"==typeof this.disabledDate&&this.disabledDate(e))return;this.date=Object(fn.modifyTime)(e,this.date.getHours(),this.date.getMinutes(),this.date.getSeconds()),this.userInputDate=null,this.resetView(),this.emit(this.date,!0)}},isValidValue:function(t){return t&&!isNaN(t)&&("function"!=typeof this.disabledDate||!this.disabledDate(t))&&this.checkDateWithinRange(t)},getDefaultValue:function(){return this.defaultValue?new Date(this.defaultValue):new Date},checkDateWithinRange:function(t){return!(this.selectableRange.length>0)||Object(fn.timeWithinRange)(t,this.selectableRange,this.format||"HH:mm:ss")}},components:{TimePicker:Rn,YearTable:Un,MonthTable:Qn,DateTable:Wn,ElInput:d.a,ElButton:Y.a},data:function(){return{popperClass:"",date:new Date,value:"",defaultValue:null,defaultTime:null,showTime:!1,selectionMode:"day",shortcuts:"",visible:!1,currentView:"date",disabledDate:"",cellClassName:"",selectableRange:[],firstDayOfWeek:7,showWeekNumber:!1,timePickerVisible:!1,format:"",arrowControl:!1,userInputDate:null,userInputTime:null}},computed:{year:function(){return this.date.getFullYear()},month:function(){return this.date.getMonth()},week:function(){return Object(fn.getWeekNumber)(this.date)},monthDate:function(){return this.date.getDate()},footerVisible:function(){return this.showTime||"dates"===this.selectionMode},visibleTime:function(){return null!==this.userInputTime?this.userInputTime:Object(fn.formatDate)(this.value||this.defaultValue,this.timeFormat)},visibleDate:function(){return null!==this.userInputDate?this.userInputDate:Object(fn.formatDate)(this.value||this.defaultValue,this.dateFormat)},yearLabel:function(){var t=this.t("el.datepicker.year");if("year"===this.currentView){var e=10*Math.floor(this.year/10);return t?e+" "+t+" - "+(e+9)+" "+t:e+" - "+(e+9)}return this.year+" "+t},timeFormat:function(){return this.format?Object(fn.extractTimeFormat)(this.format):"HH:mm:ss"},dateFormat:function(){return this.format?Object(fn.extractDateFormat)(this.format):"yyyy-MM-dd"}}},On,[],!1,null,null,null);qn.options.__file="packages/date-picker/src/panel/date.vue";var Jn=qn.exports,Zn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(e){t.$emit("dodestroy")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-picker-panel el-date-range-picker el-popper",class:[{"has-sidebar":t.$slots.sidebar||t.shortcuts,"has-time":t.showTime},t.popperClass]},[i("div",{staticClass:"el-picker-panel__body-wrapper"},[t._t("sidebar"),t.shortcuts?i("div",{staticClass:"el-picker-panel__sidebar"},t._l(t.shortcuts,function(e,n){return i("button",{key:n,staticClass:"el-picker-panel__shortcut",attrs:{type:"button"},on:{click:function(i){t.handleShortcutClick(e)}}},[t._v(t._s(e.text))])}),0):t._e(),i("div",{staticClass:"el-picker-panel__body"},[t.showTime?i("div",{staticClass:"el-date-range-picker__time-header"},[i("span",{staticClass:"el-date-range-picker__editors-wrap"},[i("span",{staticClass:"el-date-range-picker__time-picker-wrap"},[i("el-input",{ref:"minInput",staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:t.rangeState.selecting,placeholder:t.t("el.datepicker.startDate"),value:t.minVisibleDate},on:{input:function(e){return t.handleDateInput(e,"min")},change:function(e){return t.handleDateChange(e,"min")}}})],1),i("span",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleMinTimeClose,expression:"handleMinTimeClose"}],staticClass:"el-date-range-picker__time-picker-wrap"},[i("el-input",{staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:t.rangeState.selecting,placeholder:t.t("el.datepicker.startTime"),value:t.minVisibleTime},on:{focus:function(e){t.minTimePickerVisible=!0},input:function(e){return t.handleTimeInput(e,"min")},change:function(e){return t.handleTimeChange(e,"min")}}}),i("time-picker",{ref:"minTimePicker",attrs:{"time-arrow-control":t.arrowControl,visible:t.minTimePickerVisible},on:{pick:t.handleMinTimePick,mounted:function(e){t.$refs.minTimePicker.format=t.timeFormat}}})],1)]),i("span",{staticClass:"el-icon-arrow-right"}),i("span",{staticClass:"el-date-range-picker__editors-wrap is-right"},[i("span",{staticClass:"el-date-range-picker__time-picker-wrap"},[i("el-input",{staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:t.rangeState.selecting,placeholder:t.t("el.datepicker.endDate"),value:t.maxVisibleDate,readonly:!t.minDate},on:{input:function(e){return t.handleDateInput(e,"max")},change:function(e){return t.handleDateChange(e,"max")}}})],1),i("span",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleMaxTimeClose,expression:"handleMaxTimeClose"}],staticClass:"el-date-range-picker__time-picker-wrap"},[i("el-input",{staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:t.rangeState.selecting,placeholder:t.t("el.datepicker.endTime"),value:t.maxVisibleTime,readonly:!t.minDate},on:{focus:function(e){t.minDate&&(t.maxTimePickerVisible=!0)},input:function(e){return t.handleTimeInput(e,"max")},change:function(e){return t.handleTimeChange(e,"max")}}}),i("time-picker",{ref:"maxTimePicker",attrs:{"time-arrow-control":t.arrowControl,visible:t.maxTimePickerVisible},on:{pick:t.handleMaxTimePick,mounted:function(e){t.$refs.maxTimePicker.format=t.timeFormat}}})],1)])]):t._e(),i("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-left"},[i("div",{staticClass:"el-date-range-picker__header"},[i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",attrs:{type:"button"},on:{click:t.leftPrevYear}}),i("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-left",attrs:{type:"button"},on:{click:t.leftPrevMonth}}),t.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",class:{"is-disabled":!t.enableYearArrow},attrs:{type:"button",disabled:!t.enableYearArrow},on:{click:t.leftNextYear}}):t._e(),t.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-right",class:{"is-disabled":!t.enableMonthArrow},attrs:{type:"button",disabled:!t.enableMonthArrow},on:{click:t.leftNextMonth}}):t._e(),i("div",[t._v(t._s(t.leftLabel))])]),i("date-table",{attrs:{"selection-mode":"range",date:t.leftDate,"default-value":t.defaultValue,"min-date":t.minDate,"max-date":t.maxDate,"range-state":t.rangeState,"disabled-date":t.disabledDate,"cell-class-name":t.cellClassName,"first-day-of-week":t.firstDayOfWeek},on:{changerange:t.handleChangeRange,pick:t.handleRangePick}})],1),i("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-right"},[i("div",{staticClass:"el-date-range-picker__header"},[t.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",class:{"is-disabled":!t.enableYearArrow},attrs:{type:"button",disabled:!t.enableYearArrow},on:{click:t.rightPrevYear}}):t._e(),t.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-left",class:{"is-disabled":!t.enableMonthArrow},attrs:{type:"button",disabled:!t.enableMonthArrow},on:{click:t.rightPrevMonth}}):t._e(),i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",attrs:{type:"button"},on:{click:t.rightNextYear}}),i("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-right",attrs:{type:"button"},on:{click:t.rightNextMonth}}),i("div",[t._v(t._s(t.rightLabel))])]),i("date-table",{attrs:{"selection-mode":"range",date:t.rightDate,"default-value":t.defaultValue,"min-date":t.minDate,"max-date":t.maxDate,"range-state":t.rangeState,"disabled-date":t.disabledDate,"cell-class-name":t.cellClassName,"first-day-of-week":t.firstDayOfWeek},on:{changerange:t.handleChangeRange,pick:t.handleRangePick}})],1)])],2),t.showTime?i("div",{staticClass:"el-picker-panel__footer"},[i("el-button",{staticClass:"el-picker-panel__link-btn",attrs:{size:"mini",type:"text"},on:{click:t.handleClear}},[t._v("\n        "+t._s(t.t("el.datepicker.clear"))+"\n      ")]),i("el-button",{staticClass:"el-picker-panel__link-btn",attrs:{plain:"",size:"mini",disabled:t.btnDisabled},on:{click:function(e){t.handleConfirm(!1)}}},[t._v("\n        "+t._s(t.t("el.datepicker.confirm"))+"\n      ")])],1):t._e()])])};Zn._withStripped=!0;var tr=function(t){return Array.isArray(t)?[new Date(t[0]),new Date(t[1])]:t?[new Date(t),Object(fn.nextDate)(new Date(t),1)]:[new Date,Object(fn.nextDate)(new Date,1)]},er=r({mixins:[f.a],directives:{Clickoutside:P.a},computed:{btnDisabled:function(){return!(this.minDate&&this.maxDate&&!this.selecting&&this.isValidValue([this.minDate,this.maxDate]))},leftLabel:function(){return this.leftDate.getFullYear()+" "+this.t("el.datepicker.year")+" "+this.t("el.datepicker.month"+(this.leftDate.getMonth()+1))},rightLabel:function(){return this.rightDate.getFullYear()+" "+this.t("el.datepicker.year")+" "+this.t("el.datepicker.month"+(this.rightDate.getMonth()+1))},leftYear:function(){return this.leftDate.getFullYear()},leftMonth:function(){return this.leftDate.getMonth()},leftMonthDate:function(){return this.leftDate.getDate()},rightYear:function(){return this.rightDate.getFullYear()},rightMonth:function(){return this.rightDate.getMonth()},rightMonthDate:function(){return this.rightDate.getDate()},minVisibleDate:function(){return null!==this.dateUserInput.min?this.dateUserInput.min:this.minDate?Object(fn.formatDate)(this.minDate,this.dateFormat):""},maxVisibleDate:function(){return null!==this.dateUserInput.max?this.dateUserInput.max:this.maxDate||this.minDate?Object(fn.formatDate)(this.maxDate||this.minDate,this.dateFormat):""},minVisibleTime:function(){return null!==this.timeUserInput.min?this.timeUserInput.min:this.minDate?Object(fn.formatDate)(this.minDate,this.timeFormat):""},maxVisibleTime:function(){return null!==this.timeUserInput.max?this.timeUserInput.max:this.maxDate||this.minDate?Object(fn.formatDate)(this.maxDate||this.minDate,this.timeFormat):""},timeFormat:function(){return this.format?Object(fn.extractTimeFormat)(this.format):"HH:mm:ss"},dateFormat:function(){return this.format?Object(fn.extractDateFormat)(this.format):"yyyy-MM-dd"},enableMonthArrow:function(){var t=(this.leftMonth+1)%12,e=this.leftMonth+1>=12?1:0;return this.unlinkPanels&&new Date(this.leftYear+e,t)<new Date(this.rightYear,this.rightMonth)},enableYearArrow:function(){return this.unlinkPanels&&12*this.rightYear+this.rightMonth-(12*this.leftYear+this.leftMonth+1)>=12}},data:function(){return{popperClass:"",value:[],defaultValue:null,defaultTime:null,minDate:"",maxDate:"",leftDate:new Date,rightDate:Object(fn.nextMonth)(new Date),rangeState:{endDate:null,selecting:!1,row:null,column:null},showTime:!1,shortcuts:"",visible:"",disabledDate:"",cellClassName:"",firstDayOfWeek:7,minTimePickerVisible:!1,maxTimePickerVisible:!1,format:"",arrowControl:!1,unlinkPanels:!1,dateUserInput:{min:null,max:null},timeUserInput:{min:null,max:null}}},watch:{minDate:function(t){var e=this;this.dateUserInput.min=null,this.timeUserInput.min=null,this.$nextTick(function(){if(e.$refs.maxTimePicker&&e.maxDate&&e.maxDate<e.minDate){e.$refs.maxTimePicker.selectableRange=[[Object(fn.parseDate)(Object(fn.formatDate)(e.minDate,"HH:mm:ss"),"HH:mm:ss"),Object(fn.parseDate)("23:59:59","HH:mm:ss")]]}}),t&&this.$refs.minTimePicker&&(this.$refs.minTimePicker.date=t,this.$refs.minTimePicker.value=t)},maxDate:function(t){this.dateUserInput.max=null,this.timeUserInput.max=null,t&&this.$refs.maxTimePicker&&(this.$refs.maxTimePicker.date=t,this.$refs.maxTimePicker.value=t)},minTimePickerVisible:function(t){var e=this;t&&this.$nextTick(function(){e.$refs.minTimePicker.date=e.minDate,e.$refs.minTimePicker.value=e.minDate,e.$refs.minTimePicker.adjustSpinners()})},maxTimePickerVisible:function(t){var e=this;t&&this.$nextTick(function(){e.$refs.maxTimePicker.date=e.maxDate,e.$refs.maxTimePicker.value=e.maxDate,e.$refs.maxTimePicker.adjustSpinners()})},value:function(t){if(t){if(Array.isArray(t))if(this.minDate=Object(fn.isDate)(t[0])?new Date(t[0]):null,this.maxDate=Object(fn.isDate)(t[1])?new Date(t[1]):null,this.minDate)if(this.leftDate=this.minDate,this.unlinkPanels&&this.maxDate){var e=this.minDate.getFullYear(),i=this.minDate.getMonth(),n=this.maxDate.getFullYear(),r=this.maxDate.getMonth();this.rightDate=e===n&&i===r?Object(fn.nextMonth)(this.maxDate):this.maxDate}else this.rightDate=Object(fn.nextMonth)(this.leftDate);else this.leftDate=tr(this.defaultValue)[0],this.rightDate=Object(fn.nextMonth)(this.leftDate)}else this.minDate=null,this.maxDate=null},defaultValue:function(t){if(!Array.isArray(this.value)){var e=tr(t),i=e[0],n=e[1];this.leftDate=i,this.rightDate=t&&t[1]&&this.unlinkPanels?n:Object(fn.nextMonth)(this.leftDate)}}},methods:{handleClear:function(){this.minDate=null,this.maxDate=null,this.leftDate=tr(this.defaultValue)[0],this.rightDate=Object(fn.nextMonth)(this.leftDate),this.$emit("pick",null)},handleChangeRange:function(t){this.minDate=t.minDate,this.maxDate=t.maxDate,this.rangeState=t.rangeState},handleDateInput:function(t,e){if(this.dateUserInput[e]=t,t.length===this.dateFormat.length){var i=Object(fn.parseDate)(t,this.dateFormat);if(i){if("function"==typeof this.disabledDate&&this.disabledDate(new Date(i)))return;"min"===e?(this.minDate=Object(fn.modifyDate)(this.minDate||new Date,i.getFullYear(),i.getMonth(),i.getDate()),this.leftDate=new Date(i),this.unlinkPanels||(this.rightDate=Object(fn.nextMonth)(this.leftDate))):(this.maxDate=Object(fn.modifyDate)(this.maxDate||new Date,i.getFullYear(),i.getMonth(),i.getDate()),this.rightDate=new Date(i),this.unlinkPanels||(this.leftDate=Object(fn.prevMonth)(i)))}}},handleDateChange:function(t,e){var i=Object(fn.parseDate)(t,this.dateFormat);i&&("min"===e?(this.minDate=Object(fn.modifyDate)(this.minDate,i.getFullYear(),i.getMonth(),i.getDate()),this.minDate>this.maxDate&&(this.maxDate=this.minDate)):(this.maxDate=Object(fn.modifyDate)(this.maxDate,i.getFullYear(),i.getMonth(),i.getDate()),this.maxDate<this.minDate&&(this.minDate=this.maxDate)))},handleTimeInput:function(t,e){var i=this;if(this.timeUserInput[e]=t,t.length===this.timeFormat.length){var n=Object(fn.parseDate)(t,this.timeFormat);n&&("min"===e?(this.minDate=Object(fn.modifyTime)(this.minDate,n.getHours(),n.getMinutes(),n.getSeconds()),this.$nextTick(function(t){return i.$refs.minTimePicker.adjustSpinners()})):(this.maxDate=Object(fn.modifyTime)(this.maxDate,n.getHours(),n.getMinutes(),n.getSeconds()),this.$nextTick(function(t){return i.$refs.maxTimePicker.adjustSpinners()})))}},handleTimeChange:function(t,e){var i=Object(fn.parseDate)(t,this.timeFormat);i&&("min"===e?(this.minDate=Object(fn.modifyTime)(this.minDate,i.getHours(),i.getMinutes(),i.getSeconds()),this.minDate>this.maxDate&&(this.maxDate=this.minDate),this.$refs.minTimePicker.value=this.minDate,this.minTimePickerVisible=!1):(this.maxDate=Object(fn.modifyTime)(this.maxDate,i.getHours(),i.getMinutes(),i.getSeconds()),this.maxDate<this.minDate&&(this.minDate=this.maxDate),this.$refs.maxTimePicker.value=this.minDate,this.maxTimePickerVisible=!1))},handleRangePick:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.defaultTime||[],r=Object(fn.modifyWithTimeString)(t.minDate,n[0]),o=Object(fn.modifyWithTimeString)(t.maxDate,n[1]);this.maxDate===o&&this.minDate===r||(this.onPick&&this.onPick(t),this.maxDate=o,this.minDate=r,setTimeout(function(){e.maxDate=o,e.minDate=r},10),i&&!this.showTime&&this.handleConfirm())},handleShortcutClick:function(t){t.onClick&&t.onClick(this)},handleMinTimePick:function(t,e,i){this.minDate=this.minDate||new Date,t&&(this.minDate=Object(fn.modifyTime)(this.minDate,t.getHours(),t.getMinutes(),t.getSeconds())),i||(this.minTimePickerVisible=e),(!this.maxDate||this.maxDate&&this.maxDate.getTime()<this.minDate.getTime())&&(this.maxDate=new Date(this.minDate))},handleMinTimeClose:function(){this.minTimePickerVisible=!1},handleMaxTimePick:function(t,e,i){this.maxDate&&t&&(this.maxDate=Object(fn.modifyTime)(this.maxDate,t.getHours(),t.getMinutes(),t.getSeconds())),i||(this.maxTimePickerVisible=e),this.maxDate&&this.minDate&&this.minDate.getTime()>this.maxDate.getTime()&&(this.minDate=new Date(this.maxDate))},handleMaxTimeClose:function(){this.maxTimePickerVisible=!1},leftPrevYear:function(){this.leftDate=Object(fn.prevYear)(this.leftDate),this.unlinkPanels||(this.rightDate=Object(fn.nextMonth)(this.leftDate))},leftPrevMonth:function(){this.leftDate=Object(fn.prevMonth)(this.leftDate),this.unlinkPanels||(this.rightDate=Object(fn.nextMonth)(this.leftDate))},rightNextYear:function(){this.unlinkPanels?this.rightDate=Object(fn.nextYear)(this.rightDate):(this.leftDate=Object(fn.nextYear)(this.leftDate),this.rightDate=Object(fn.nextMonth)(this.leftDate))},rightNextMonth:function(){this.unlinkPanels?this.rightDate=Object(fn.nextMonth)(this.rightDate):(this.leftDate=Object(fn.nextMonth)(this.leftDate),this.rightDate=Object(fn.nextMonth)(this.leftDate))},leftNextYear:function(){this.leftDate=Object(fn.nextYear)(this.leftDate)},leftNextMonth:function(){this.leftDate=Object(fn.nextMonth)(this.leftDate)},rightPrevYear:function(){this.rightDate=Object(fn.prevYear)(this.rightDate)},rightPrevMonth:function(){this.rightDate=Object(fn.prevMonth)(this.rightDate)},handleConfirm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isValidValue([this.minDate,this.maxDate])&&this.$emit("pick",[this.minDate,this.maxDate],t)},isValidValue:function(t){return Array.isArray(t)&&t&&t[0]&&t[1]&&Object(fn.isDate)(t[0])&&Object(fn.isDate)(t[1])&&t[0].getTime()<=t[1].getTime()&&("function"!=typeof this.disabledDate||!this.disabledDate(t[0])&&!this.disabledDate(t[1]))},resetView:function(){this.minDate&&null==this.maxDate&&(this.rangeState.selecting=!1),this.minDate=this.value&&Object(fn.isDate)(this.value[0])?new Date(this.value[0]):null,this.maxDate=this.value&&Object(fn.isDate)(this.value[0])?new Date(this.value[1]):null}},components:{TimePicker:Rn,DateTable:Wn,ElInput:d.a,ElButton:Y.a}},Zn,[],!1,null,null,null);er.options.__file="packages/date-picker/src/panel/date-range.vue";var ir=er.exports,nr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(e){t.$emit("dodestroy")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-picker-panel el-date-range-picker el-popper",class:[{"has-sidebar":t.$slots.sidebar||t.shortcuts},t.popperClass]},[i("div",{staticClass:"el-picker-panel__body-wrapper"},[t._t("sidebar"),t.shortcuts?i("div",{staticClass:"el-picker-panel__sidebar"},t._l(t.shortcuts,function(e,n){return i("button",{key:n,staticClass:"el-picker-panel__shortcut",attrs:{type:"button"},on:{click:function(i){t.handleShortcutClick(e)}}},[t._v(t._s(e.text))])}),0):t._e(),i("div",{staticClass:"el-picker-panel__body"},[i("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-left"},[i("div",{staticClass:"el-date-range-picker__header"},[i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",attrs:{type:"button"},on:{click:t.leftPrevYear}}),t.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",class:{"is-disabled":!t.enableYearArrow},attrs:{type:"button",disabled:!t.enableYearArrow},on:{click:t.leftNextYear}}):t._e(),i("div",[t._v(t._s(t.leftLabel))])]),i("month-table",{attrs:{"selection-mode":"range",date:t.leftDate,"default-value":t.defaultValue,"min-date":t.minDate,"max-date":t.maxDate,"range-state":t.rangeState,"disabled-date":t.disabledDate},on:{changerange:t.handleChangeRange,pick:t.handleRangePick}})],1),i("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-right"},[i("div",{staticClass:"el-date-range-picker__header"},[t.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",class:{"is-disabled":!t.enableYearArrow},attrs:{type:"button",disabled:!t.enableYearArrow},on:{click:t.rightPrevYear}}):t._e(),i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",attrs:{type:"button"},on:{click:t.rightNextYear}}),i("div",[t._v(t._s(t.rightLabel))])]),i("month-table",{attrs:{"selection-mode":"range",date:t.rightDate,"default-value":t.defaultValue,"min-date":t.minDate,"max-date":t.maxDate,"range-state":t.rangeState,"disabled-date":t.disabledDate},on:{changerange:t.handleChangeRange,pick:t.handleRangePick}})],1)])],2)])])};nr._withStripped=!0;var rr=function(t){return Array.isArray(t)?[new Date(t[0]),new Date(t[1])]:t?[new Date(t),Object(fn.nextMonth)(new Date(t))]:[new Date,Object(fn.nextMonth)(new Date)]},or=r({mixins:[f.a],directives:{Clickoutside:P.a},computed:{btnDisabled:function(){return!(this.minDate&&this.maxDate&&!this.selecting&&this.isValidValue([this.minDate,this.maxDate]))},leftLabel:function(){return this.leftDate.getFullYear()+" "+this.t("el.datepicker.year")},rightLabel:function(){return this.rightDate.getFullYear()+" "+this.t("el.datepicker.year")},leftYear:function(){return this.leftDate.getFullYear()},rightYear:function(){return this.rightDate.getFullYear()===this.leftDate.getFullYear()?this.leftDate.getFullYear()+1:this.rightDate.getFullYear()},enableYearArrow:function(){return this.unlinkPanels&&this.rightYear>this.leftYear+1}},data:function(){return{popperClass:"",value:[],defaultValue:null,defaultTime:null,minDate:"",maxDate:"",leftDate:new Date,rightDate:Object(fn.nextYear)(new Date),rangeState:{endDate:null,selecting:!1,row:null,column:null},shortcuts:"",visible:"",disabledDate:"",format:"",arrowControl:!1,unlinkPanels:!1}},watch:{value:function(t){if(t){if(Array.isArray(t))if(this.minDate=Object(fn.isDate)(t[0])?new Date(t[0]):null,this.maxDate=Object(fn.isDate)(t[1])?new Date(t[1]):null,this.minDate)if(this.leftDate=this.minDate,this.unlinkPanels&&this.maxDate){var e=this.minDate.getFullYear(),i=this.maxDate.getFullYear();this.rightDate=e===i?Object(fn.nextYear)(this.maxDate):this.maxDate}else this.rightDate=Object(fn.nextYear)(this.leftDate);else this.leftDate=rr(this.defaultValue)[0],this.rightDate=Object(fn.nextYear)(this.leftDate)}else this.minDate=null,this.maxDate=null},defaultValue:function(t){if(!Array.isArray(this.value)){var e=rr(t),i=e[0],n=e[1];this.leftDate=i,this.rightDate=t&&t[1]&&i.getFullYear()!==n.getFullYear()&&this.unlinkPanels?n:Object(fn.nextYear)(this.leftDate)}}},methods:{handleClear:function(){this.minDate=null,this.maxDate=null,this.leftDate=rr(this.defaultValue)[0],this.rightDate=Object(fn.nextYear)(this.leftDate),this.$emit("pick",null)},handleChangeRange:function(t){this.minDate=t.minDate,this.maxDate=t.maxDate,this.rangeState=t.rangeState},handleRangePick:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.defaultTime||[],r=Object(fn.modifyWithTimeString)(t.minDate,n[0]),o=Object(fn.modifyWithTimeString)(t.maxDate,n[1]);this.maxDate===o&&this.minDate===r||(this.onPick&&this.onPick(t),this.maxDate=o,this.minDate=r,setTimeout(function(){e.maxDate=o,e.minDate=r},10),i&&this.handleConfirm())},handleShortcutClick:function(t){t.onClick&&t.onClick(this)},leftPrevYear:function(){this.leftDate=Object(fn.prevYear)(this.leftDate),this.unlinkPanels||(this.rightDate=Object(fn.prevYear)(this.rightDate))},rightNextYear:function(){this.unlinkPanels||(this.leftDate=Object(fn.nextYear)(this.leftDate)),this.rightDate=Object(fn.nextYear)(this.rightDate)},leftNextYear:function(){this.leftDate=Object(fn.nextYear)(this.leftDate)},rightPrevYear:function(){this.rightDate=Object(fn.prevYear)(this.rightDate)},handleConfirm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isValidValue([this.minDate,this.maxDate])&&this.$emit("pick",[this.minDate,this.maxDate],t)},isValidValue:function(t){return Array.isArray(t)&&t&&t[0]&&t[1]&&Object(fn.isDate)(t[0])&&Object(fn.isDate)(t[1])&&t[0].getTime()<=t[1].getTime()&&("function"!=typeof this.disabledDate||!this.disabledDate(t[0])&&!this.disabledDate(t[1]))},resetView:function(){this.minDate=this.value&&Object(fn.isDate)(this.value[0])?new Date(this.value[0]):null,this.maxDate=this.value&&Object(fn.isDate)(this.value[0])?new Date(this.value[1]):null}},components:{MonthTable:Qn,ElInput:d.a,ElButton:Y.a}},nr,[],!1,null,null,null);or.options.__file="packages/date-picker/src/panel/month-range.vue";var sr=or.exports,ar=function(t){return"daterange"===t||"datetimerange"===t?ir:"monthrange"===t?sr:Jn},lr={mixins:[Bn],name:"ElDatePicker",props:{type:{type:String,default:"date"},timeArrowControl:Boolean},watch:{type:function(t){this.picker?(this.unmountPicker(),this.panel=ar(t),this.mountPicker()):this.panel=ar(t)}},created:function(){this.panel=ar(this.type)},install:function(t){t.component(lr.name,lr)}},hr=lr,ur=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":t.handleMenuEnter,"after-leave":function(e){t.$emit("dodestroy")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],ref:"popper",staticClass:"el-picker-panel time-select el-popper",class:t.popperClass,style:{width:t.width+"px"}},[i("el-scrollbar",{attrs:{noresize:"","wrap-class":"el-picker-panel__content"}},t._l(t.items,function(e){return i("div",{key:e.value,staticClass:"time-select-item",class:{selected:t.value===e.value,disabled:e.disabled,default:e.value===t.defaultValue},attrs:{disabled:e.disabled},on:{click:function(i){t.handleClick(e)}}},[t._v(t._s(e.value))])}),0)],1)])};ur._withStripped=!0;var cr=function(t){var e=(t||"").split(":");return e.length>=2?{hours:parseInt(e[0],10),minutes:parseInt(e[1],10)}:null},dr=function(t,e){var i=cr(t),n=cr(e),r=i.minutes+60*i.hours,o=n.minutes+60*n.hours;return r===o?0:r>o?1:-1},pr=function(t,e){var i=cr(t),n=cr(e),r={hours:i.hours,minutes:i.minutes};return r.minutes+=n.minutes,r.hours+=n.hours,r.hours+=Math.floor(r.minutes/60),r.minutes=r.minutes%60,function(t){return(t.hours<10?"0"+t.hours:t.hours)+":"+(t.minutes<10?"0"+t.minutes:t.minutes)}(r)},fr=r({components:{ElScrollbar:R.a},watch:{value:function(t){var e=this;t&&this.$nextTick(function(){return e.scrollToOption()})}},methods:{handleClick:function(t){t.disabled||this.$emit("pick",t.value)},handleClear:function(){this.$emit("pick",null)},scrollToOption:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".selected",e=this.$refs.popper.querySelector(".el-picker-panel__content");Ue()(e,e.querySelector(t))},handleMenuEnter:function(){var t=this,e=-1!==this.items.map(function(t){return t.value}).indexOf(this.value),i=-1!==this.items.map(function(t){return t.value}).indexOf(this.defaultValue),n=(e?".selected":i&&".default")||".time-select-item:not(.disabled)";this.$nextTick(function(){return t.scrollToOption(n)})},scrollDown:function(t){for(var e=this.items,i=e.length,n=e.length,r=e.map(function(t){return t.value}).indexOf(this.value);n--;)if(!e[r=(r+t+i)%i].disabled)return void this.$emit("pick",e[r].value,!0)},isValidValue:function(t){return-1!==this.items.filter(function(t){return!t.disabled}).map(function(t){return t.value}).indexOf(t)},handleKeydown:function(t){var e=t.keyCode;if(38===e||40===e){var i={40:1,38:-1}[e.toString()];return this.scrollDown(i),void t.stopPropagation()}}},data:function(){return{popperClass:"",start:"09:00",end:"18:00",step:"00:30",value:"",defaultValue:"",visible:!1,minTime:"",maxTime:"",width:0}},computed:{items:function(){var t=this.start,e=this.end,i=this.step,n=[];if(t&&e&&i)for(var r=t;dr(r,e)<=0;)n.push({value:r,disabled:dr(r,this.minTime||"-1:-1")<=0||dr(r,this.maxTime||"100:100")>=0}),r=pr(r,i);return n}}},ur,[],!1,null,null,null);fr.options.__file="packages/date-picker/src/panel/time-select.vue";var mr=fr.exports,gr={mixins:[Bn],name:"ElTimeSelect",componentName:"ElTimeSelect",props:{type:{type:String,default:"time-select"}},beforeCreate:function(){this.panel=mr},install:function(t){t.component(gr.name,gr)}},vr=gr,Ar=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(e){t.$emit("dodestroy")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-time-range-picker el-picker-panel el-popper",class:t.popperClass},[i("div",{staticClass:"el-time-range-picker__content"},[i("div",{staticClass:"el-time-range-picker__cell"},[i("div",{staticClass:"el-time-range-picker__header"},[t._v(t._s(t.t("el.datepicker.startTime")))]),i("div",{staticClass:"el-time-range-picker__body el-time-panel__content",class:{"has-seconds":t.showSeconds,"is-arrow":t.arrowControl}},[i("time-spinner",{ref:"minSpinner",attrs:{"show-seconds":t.showSeconds,"am-pm-mode":t.amPmMode,"arrow-control":t.arrowControl,date:t.minDate},on:{change:t.handleMinChange,"select-range":t.setMinSelectionRange}})],1)]),i("div",{staticClass:"el-time-range-picker__cell"},[i("div",{staticClass:"el-time-range-picker__header"},[t._v(t._s(t.t("el.datepicker.endTime")))]),i("div",{staticClass:"el-time-range-picker__body el-time-panel__content",class:{"has-seconds":t.showSeconds,"is-arrow":t.arrowControl}},[i("time-spinner",{ref:"maxSpinner",attrs:{"show-seconds":t.showSeconds,"am-pm-mode":t.amPmMode,"arrow-control":t.arrowControl,date:t.maxDate},on:{change:t.handleMaxChange,"select-range":t.setMaxSelectionRange}})],1)])]),i("div",{staticClass:"el-time-panel__footer"},[i("button",{staticClass:"el-time-panel__btn cancel",attrs:{type:"button"},on:{click:function(e){t.handleCancel()}}},[t._v(t._s(t.t("el.datepicker.cancel")))]),i("button",{staticClass:"el-time-panel__btn confirm",attrs:{type:"button",disabled:t.btnDisabled},on:{click:function(e){t.handleConfirm()}}},[t._v(t._s(t.t("el.datepicker.confirm")))])])])])};Ar._withStripped=!0;var yr=Object(fn.parseDate)("00:00:00","HH:mm:ss"),xr=Object(fn.parseDate)("23:59:59","HH:mm:ss"),br=function(t){return Object(fn.modifyDate)(xr,t.getFullYear(),t.getMonth(),t.getDate())},Cr=function(t,e){return new Date(Math.min(t.getTime()+e,br(t).getTime()))},wr=r({mixins:[f.a],components:{TimeSpinner:In},computed:{showSeconds:function(){return-1!==(this.format||"").indexOf("ss")},offset:function(){return this.showSeconds?11:8},spinner:function(){return this.selectionRange[0]<this.offset?this.$refs.minSpinner:this.$refs.maxSpinner},btnDisabled:function(){return this.minDate.getTime()>this.maxDate.getTime()},amPmMode:function(){return-1!==(this.format||"").indexOf("A")?"A":-1!==(this.format||"").indexOf("a")?"a":""}},data:function(){return{popperClass:"",minDate:new Date,maxDate:new Date,value:[],oldValue:[new Date,new Date],defaultValue:null,format:"HH:mm:ss",visible:!1,selectionRange:[0,2],arrowControl:!1}},watch:{value:function(t){Array.isArray(t)?(this.minDate=new Date(t[0]),this.maxDate=new Date(t[1])):Array.isArray(this.defaultValue)?(this.minDate=new Date(this.defaultValue[0]),this.maxDate=new Date(this.defaultValue[1])):this.defaultValue?(this.minDate=new Date(this.defaultValue),this.maxDate=Cr(new Date(this.defaultValue),36e5)):(this.minDate=new Date,this.maxDate=Cr(new Date,36e5))},visible:function(t){var e=this;t&&(this.oldValue=this.value,this.$nextTick(function(){return e.$refs.minSpinner.emitSelectRange("hours")}))}},methods:{handleClear:function(){this.$emit("pick",null)},handleCancel:function(){this.$emit("pick",this.oldValue)},handleMinChange:function(t){this.minDate=Object(fn.clearMilliseconds)(t),this.handleChange()},handleMaxChange:function(t){this.maxDate=Object(fn.clearMilliseconds)(t),this.handleChange()},handleChange:function(){var t;this.isValidValue([this.minDate,this.maxDate])&&(this.$refs.minSpinner.selectableRange=[[(t=this.minDate,Object(fn.modifyDate)(yr,t.getFullYear(),t.getMonth(),t.getDate())),this.maxDate]],this.$refs.maxSpinner.selectableRange=[[this.minDate,br(this.maxDate)]],this.$emit("pick",[this.minDate,this.maxDate],!0))},setMinSelectionRange:function(t,e){this.$emit("select-range",t,e,"min"),this.selectionRange=[t,e]},setMaxSelectionRange:function(t,e){this.$emit("select-range",t,e,"max"),this.selectionRange=[t+this.offset,e+this.offset]},handleConfirm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.$refs.minSpinner.selectableRange,i=this.$refs.maxSpinner.selectableRange;this.minDate=Object(fn.limitTimeRange)(this.minDate,e,this.format),this.maxDate=Object(fn.limitTimeRange)(this.maxDate,i,this.format),this.$emit("pick",[this.minDate,this.maxDate],t)},adjustSpinners:function(){this.$refs.minSpinner.adjustSpinners(),this.$refs.maxSpinner.adjustSpinners()},changeSelectionRange:function(t){var e=this.showSeconds?[0,3,6,11,14,17]:[0,3,8,11],i=["hours","minutes"].concat(this.showSeconds?["seconds"]:[]),n=(e.indexOf(this.selectionRange[0])+t+e.length)%e.length,r=e.length/2;n<r?this.$refs.minSpinner.emitSelectRange(i[n]):this.$refs.maxSpinner.emitSelectRange(i[n-r])},isValidValue:function(t){return Array.isArray(t)&&Object(fn.timeWithinRange)(this.minDate,this.$refs.minSpinner.selectableRange)&&Object(fn.timeWithinRange)(this.maxDate,this.$refs.maxSpinner.selectableRange)},handleKeydown:function(t){var e=t.keyCode,i={38:-1,40:1,37:-1,39:1};if(37===e||39===e){var n=i[e];return this.changeSelectionRange(n),void t.preventDefault()}if(38===e||40===e){var r=i[e];return this.spinner.scrollDown(r),void t.preventDefault()}}}},Ar,[],!1,null,null,null);wr.options.__file="packages/date-picker/src/panel/time-range.vue";var Er=wr.exports,Sr={mixins:[Bn],name:"ElTimePicker",props:{isRange:Boolean,arrowControl:Boolean},data:function(){return{type:""}},watch:{isRange:function(t){this.picker?(this.unmountPicker(),this.type=t?"timerange":"time",this.panel=t?Er:Rn,this.mountPicker()):(this.type=t?"timerange":"time",this.panel=t?Er:Rn)}},created:function(){this.type=this.isRange?"timerange":"time",this.panel=this.isRange?Er:Rn},install:function(t){t.component(Sr.name,Sr)}},Tr=Sr,_r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("transition",{attrs:{name:t.transition},on:{"after-enter":t.handleAfterEnter,"after-leave":t.handleAfterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.disabled&&t.showPopper,expression:"!disabled && showPopper"}],ref:"popper",staticClass:"el-popover el-popper",class:[t.popperClass,t.content&&"el-popover--plain"],style:{width:t.width+"px"},attrs:{role:"tooltip",id:t.tooltipId,"aria-hidden":t.disabled||!t.showPopper?"true":"false"}},[t.title?i("div",{staticClass:"el-popover__title",domProps:{textContent:t._s(t.title)}}):t._e(),t._t("default",[t._v(t._s(t.content))])],2)]),t._t("reference")],2)};_r._withStripped=!0;var Mr=r({name:"ElPopover",mixins:[I.a],props:{trigger:{type:String,default:"click",validator:function(t){return["click","focus","hover","manual"].indexOf(t)>-1}},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:200},title:String,disabled:Boolean,content:String,reference:{},popperClass:String,width:{},visibleArrow:{default:!0},arrowOffset:{type:Number,default:0},transition:{type:String,default:"fade-in-linear"},tabindex:{type:Number,default:0}},computed:{tooltipId:function(){return"el-popover-"+Object(m.generateId)()}},watch:{showPopper:function(t){this.disabled||(t?this.$emit("show"):this.$emit("hide"))}},mounted:function(){var t=this,e=this.referenceElm=this.reference||this.$refs.reference,i=this.popper||this.$refs.popper;!e&&this.$slots.reference&&this.$slots.reference[0]&&(e=this.referenceElm=this.$slots.reference[0].elm),e&&(Object(ft.addClass)(e,"el-popover__reference"),e.setAttribute("aria-describedby",this.tooltipId),e.setAttribute("tabindex",this.tabindex),i.setAttribute("tabindex",0),"click"!==this.trigger&&(Object(ft.on)(e,"focusin",function(){t.handleFocus();var i=e.__vue__;i&&"function"==typeof i.focus&&i.focus()}),Object(ft.on)(i,"focusin",this.handleFocus),Object(ft.on)(e,"focusout",this.handleBlur),Object(ft.on)(i,"focusout",this.handleBlur)),Object(ft.on)(e,"keydown",this.handleKeydown),Object(ft.on)(e,"click",this.handleClick)),"click"===this.trigger?(Object(ft.on)(e,"click",this.doToggle),Object(ft.on)(document,"click",this.handleDocumentClick)):"hover"===this.trigger?(Object(ft.on)(e,"mouseenter",this.handleMouseEnter),Object(ft.on)(i,"mouseenter",this.handleMouseEnter),Object(ft.on)(e,"mouseleave",this.handleMouseLeave),Object(ft.on)(i,"mouseleave",this.handleMouseLeave)):"focus"===this.trigger&&(this.tabindex<0&&console.warn("[Element Warn][Popover]a negative taindex means that the element cannot be focused by tab key"),e.querySelector("input, textarea")?(Object(ft.on)(e,"focusin",this.doShow),Object(ft.on)(e,"focusout",this.doClose)):(Object(ft.on)(e,"mousedown",this.doShow),Object(ft.on)(e,"mouseup",this.doClose)))},beforeDestroy:function(){this.cleanup()},deactivated:function(){this.cleanup()},methods:{doToggle:function(){this.showPopper=!this.showPopper},doShow:function(){this.showPopper=!0},doClose:function(){this.showPopper=!1},handleFocus:function(){Object(ft.addClass)(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!0)},handleClick:function(){Object(ft.removeClass)(this.referenceElm,"focusing")},handleBlur:function(){Object(ft.removeClass)(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!1)},handleMouseEnter:function(){var t=this;clearTimeout(this._timer),this.openDelay?this._timer=setTimeout(function(){t.showPopper=!0},this.openDelay):this.showPopper=!0},handleKeydown:function(t){27===t.keyCode&&"manual"!==this.trigger&&this.doClose()},handleMouseLeave:function(){var t=this;clearTimeout(this._timer),this.closeDelay?this._timer=setTimeout(function(){t.showPopper=!1},this.closeDelay):this.showPopper=!1},handleDocumentClick:function(t){var e=this.reference||this.$refs.reference,i=this.popper||this.$refs.popper;!e&&this.$slots.reference&&this.$slots.reference[0]&&(e=this.referenceElm=this.$slots.reference[0].elm),this.$el&&e&&!this.$el.contains(t.target)&&!e.contains(t.target)&&i&&!i.contains(t.target)&&(this.showPopper=!1)},handleAfterEnter:function(){this.$emit("after-enter")},handleAfterLeave:function(){this.$emit("after-leave"),this.doDestroy()},cleanup:function(){(this.openDelay||this.closeDelay)&&clearTimeout(this._timer)}},destroyed:function(){var t=this.reference;Object(ft.off)(t,"click",this.doToggle),Object(ft.off)(t,"mouseup",this.doClose),Object(ft.off)(t,"mousedown",this.doShow),Object(ft.off)(t,"focusin",this.doShow),Object(ft.off)(t,"focusout",this.doClose),Object(ft.off)(t,"mousedown",this.doShow),Object(ft.off)(t,"mouseup",this.doClose),Object(ft.off)(t,"mouseleave",this.handleMouseLeave),Object(ft.off)(t,"mouseenter",this.handleMouseEnter),Object(ft.off)(document,"click",this.handleDocumentClick)}},_r,[],!1,null,null,null);Mr.options.__file="packages/popover/src/main.vue";var kr=Mr.exports,Br=function(t,e,i){var n=e.expression?e.value:e.arg,r=i.context.$refs[n];r&&(Array.isArray(r)?r[0].$refs.reference=t:r.$refs.reference=t)},Or={bind:function(t,e,i){Br(t,e,i)},inserted:function(t,e,i){Br(t,e,i)}};di.a.directive("popover",Or),kr.install=function(t){t.directive("popover",Or),t.component(kr.name,kr)},kr.directive=Or;var Pr=kr,Lr={name:"ElTooltip",mixins:[I.a],props:{openDelay:{type:Number,default:0},disabled:Boolean,manual:Boolean,effect:{type:String,default:"dark"},arrowOffset:{type:Number,default:0},popperClass:String,content:String,visibleArrow:{default:!0},transition:{type:String,default:"el-fade-in-linear"},popperOptions:{default:function(){return{boundariesPadding:10,gpuAcceleration:!1}}},enterable:{type:Boolean,default:!0},hideAfter:{type:Number,default:0},tabindex:{type:Number,default:0}},data:function(){return{tooltipId:"el-tooltip-"+Object(m.generateId)(),timeoutPending:null,focusing:!1}},beforeCreate:function(){var t=this;this.$isServer||(this.popperVM=new di.a({data:{node:""},render:function(t){return this.node}}).$mount(),this.debounceClose=B()(200,function(){return t.handleClosePopper()}))},render:function(t){var e=this;this.popperVM&&(this.popperVM.node=t("transition",{attrs:{name:this.transition},on:{afterLeave:this.doDestroy}},[t("div",{on:{mouseleave:function(){e.setExpectedState(!1),e.debounceClose()},mouseenter:function(){e.setExpectedState(!0)}},ref:"popper",attrs:{role:"tooltip",id:this.tooltipId,"aria-hidden":this.disabled||!this.showPopper?"true":"false"},directives:[{name:"show",value:!this.disabled&&this.showPopper}],class:["el-tooltip__popper","is-"+this.effect,this.popperClass]},[this.$slots.content||this.content])]));var i=this.getFirstElement();if(!i)return null;var n=i.data=i.data||{};return n.staticClass=this.addTooltipClass(n.staticClass),i},mounted:function(){var t=this;this.referenceElm=this.$el,1===this.$el.nodeType&&(this.$el.setAttribute("aria-describedby",this.tooltipId),this.$el.setAttribute("tabindex",this.tabindex),Object(ft.on)(this.referenceElm,"mouseenter",this.show),Object(ft.on)(this.referenceElm,"mouseleave",this.hide),Object(ft.on)(this.referenceElm,"focus",function(){if(t.$slots.default&&t.$slots.default.length){var e=t.$slots.default[0].componentInstance;e&&e.focus?e.focus():t.handleFocus()}else t.handleFocus()}),Object(ft.on)(this.referenceElm,"blur",this.handleBlur),Object(ft.on)(this.referenceElm,"click",this.removeFocusing)),this.value&&this.popperVM&&this.popperVM.$nextTick(function(){t.value&&t.updatePopper()})},watch:{focusing:function(t){t?Object(ft.addClass)(this.referenceElm,"focusing"):Object(ft.removeClass)(this.referenceElm,"focusing")}},methods:{show:function(){this.setExpectedState(!0),this.handleShowPopper()},hide:function(){this.setExpectedState(!1),this.debounceClose()},handleFocus:function(){this.focusing=!0,this.show()},handleBlur:function(){this.focusing=!1,this.hide()},removeFocusing:function(){this.focusing=!1},addTooltipClass:function(t){return t?"el-tooltip "+t.replace("el-tooltip",""):"el-tooltip"},handleShowPopper:function(){var t=this;this.expectedState&&!this.manual&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.showPopper=!0},this.openDelay),this.hideAfter>0&&(this.timeoutPending=setTimeout(function(){t.showPopper=!1},this.hideAfter)))},handleClosePopper:function(){this.enterable&&this.expectedState||this.manual||(clearTimeout(this.timeout),this.timeoutPending&&clearTimeout(this.timeoutPending),this.showPopper=!1,this.disabled&&this.doDestroy())},setExpectedState:function(t){!1===t&&clearTimeout(this.timeoutPending),this.expectedState=t},getFirstElement:function(){var t=this.$slots.default;if(!Array.isArray(t))return null;for(var e=null,i=0;i<t.length;i++)t[i]&&t[i].tag&&(e=t[i]);return e}},beforeDestroy:function(){this.popperVM&&this.popperVM.$destroy()},destroyed:function(){var t=this.referenceElm;1===t.nodeType&&(Object(ft.off)(t,"mouseenter",this.show),Object(ft.off)(t,"mouseleave",this.hide),Object(ft.off)(t,"focus",this.handleFocus),Object(ft.off)(t,"blur",this.handleBlur),Object(ft.off)(t,"click",this.removeFocusing))},install:function(t){t.component(Lr.name,Lr)}},Nr=Lr,Ir=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"msgbox-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-message-box__wrapper",attrs:{tabindex:"-1",role:"dialog","aria-modal":"true","aria-label":t.title||"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.handleWrapperClick(e)}}},[i("div",{staticClass:"el-message-box",class:[t.customClass,t.center&&"el-message-box--center"]},[null!==t.title?i("div",{staticClass:"el-message-box__header"},[i("div",{staticClass:"el-message-box__title"},[t.icon&&t.center?i("div",{class:["el-message-box__status",t.icon]}):t._e(),i("span",[t._v(t._s(t.title))])]),t.showClose?i("button",{staticClass:"el-message-box__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.handleAction(t.distinguishCancelAndClose?"close":"cancel")},keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAction(t.distinguishCancelAndClose?"close":"cancel")}}},[i("i",{staticClass:"el-message-box__close el-icon-close"})]):t._e()]):t._e(),i("div",{staticClass:"el-message-box__content"},[i("div",{staticClass:"el-message-box__container"},[t.icon&&!t.center&&""!==t.message?i("div",{class:["el-message-box__status",t.icon]}):t._e(),""!==t.message?i("div",{staticClass:"el-message-box__message"},[t._t("default",[t.dangerouslyUseHTMLString?i("p",{domProps:{innerHTML:t._s(t.message)}}):i("p",[t._v(t._s(t.message))])])],2):t._e()]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showInput,expression:"showInput"}],staticClass:"el-message-box__input"},[i("el-input",{ref:"input",attrs:{type:t.inputType,placeholder:t.inputPlaceholder},nativeOn:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleInputEnter(e):null}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),i("div",{staticClass:"el-message-box__errormsg",style:{visibility:t.editorErrorMessage?"visible":"hidden"}},[t._v(t._s(t.editorErrorMessage))])],1)]),i("div",{staticClass:"el-message-box__btns"},[t.showCancelButton?i("el-button",{class:[t.cancelButtonClasses],attrs:{loading:t.cancelButtonLoading,round:t.roundButton,size:"small"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAction("cancel")}},nativeOn:{click:function(e){t.handleAction("cancel")}}},[t._v("\n          "+t._s(t.cancelButtonText||t.t("el.messagebox.cancel"))+"\n        ")]):t._e(),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showConfirmButton,expression:"showConfirmButton"}],ref:"confirm",class:[t.confirmButtonClasses],attrs:{loading:t.confirmButtonLoading,round:t.roundButton,size:"small"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAction("confirm")}},nativeOn:{click:function(e){t.handleAction("confirm")}}},[t._v("\n          "+t._s(t.confirmButtonText||t.t("el.messagebox.confirm"))+"\n        ")])],1)])])])};Ir._withStripped=!0;var Dr=i(39),Rr=i.n(Dr),Fr=void 0,Hr={success:"success",info:"info",warning:"warning",error:"error"},Ur=r({mixins:[x.a,f.a],props:{modal:{default:!0},lockScroll:{default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{default:!0},closeOnPressEscape:{default:!0},closeOnHashChange:{default:!0},center:{default:!1,type:Boolean},roundButton:{default:!1,type:Boolean}},components:{ElInput:d.a,ElButton:Y.a},computed:{icon:function(){var t=this.type;return this.iconClass||(t&&Hr[t]?"el-icon-"+Hr[t]:"")},confirmButtonClasses:function(){return"el-button--primary "+this.confirmButtonClass},cancelButtonClasses:function(){return""+this.cancelButtonClass}},methods:{getSafeClose:function(){var t=this,e=this.uid;return function(){t.$nextTick(function(){e===t.uid&&t.doClose()})}},doClose:function(){var t=this;this.visible&&(this.visible=!1,this._closing=!0,this.onClose&&this.onClose(),Fr.closeDialog(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose(),setTimeout(function(){t.action&&t.callback(t.action,t)}))},handleWrapperClick:function(){this.closeOnClickModal&&this.handleAction(this.distinguishCancelAndClose?"close":"cancel")},handleInputEnter:function(){if("textarea"!==this.inputType)return this.handleAction("confirm")},handleAction:function(t){("prompt"!==this.$type||"confirm"!==t||this.validate())&&(this.action=t,"function"==typeof this.beforeClose?(this.close=this.getSafeClose(),this.beforeClose(t,this,this.close)):this.doClose())},validate:function(){if("prompt"===this.$type){var t=this.inputPattern;if(t&&!t.test(this.inputValue||""))return this.editorErrorMessage=this.inputErrorMessage||Object(Re.t)("el.messagebox.error"),Object(ft.addClass)(this.getInputElement(),"invalid"),!1;var e=this.inputValidator;if("function"==typeof e){var i=e(this.inputValue);if(!1===i)return this.editorErrorMessage=this.inputErrorMessage||Object(Re.t)("el.messagebox.error"),Object(ft.addClass)(this.getInputElement(),"invalid"),!1;if("string"==typeof i)return this.editorErrorMessage=i,Object(ft.addClass)(this.getInputElement(),"invalid"),!1}}return this.editorErrorMessage="",Object(ft.removeClass)(this.getInputElement(),"invalid"),!0},getFirstFocus:function(){var t=this.$el.querySelector(".el-message-box__btns .el-button"),e=this.$el.querySelector(".el-message-box__btns .el-message-box__title");return t||e},getInputElement:function(){var t=this.$refs.input.$refs;return t.input||t.textarea},handleClose:function(){this.handleAction("close")}},watch:{inputValue:{immediate:!0,handler:function(t){var e=this;this.$nextTick(function(i){"prompt"===e.$type&&null!==t&&e.validate()})}},visible:function(t){var e=this;t&&(this.uid++,"alert"!==this.$type&&"confirm"!==this.$type||this.$nextTick(function(){e.$refs.confirm.$el.focus()}),this.focusAfterClosed=document.activeElement,Fr=new Rr.a(this.$el,this.focusAfterClosed,this.getFirstFocus())),"prompt"===this.$type&&(t?setTimeout(function(){e.$refs.input&&e.$refs.input.$el&&e.getInputElement().focus()},500):(this.editorErrorMessage="",Object(ft.removeClass)(this.getInputElement(),"invalid")))}},mounted:function(){var t=this;this.$nextTick(function(){t.closeOnHashChange&&window.addEventListener("hashchange",t.close)})},beforeDestroy:function(){this.closeOnHashChange&&window.removeEventListener("hashchange",this.close),setTimeout(function(){Fr.closeDialog()})},data:function(){return{uid:1,title:void 0,message:"",type:"",iconClass:"",customClass:"",showInput:!1,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,action:"",confirmButtonText:"",cancelButtonText:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonClass:"",confirmButtonDisabled:!1,cancelButtonClass:"",editorErrorMessage:null,callback:null,dangerouslyUseHTMLString:!1,focusAfterClosed:null,isOnComposition:!1,distinguishCancelAndClose:!1}}},Ir,[],!1,null,null,null);Ur.options.__file="packages/message-box/src/main.vue";var Vr=Ur.exports,jr=i(23),Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zr={title:null,message:"",type:"",iconClass:"",showInput:!1,showClose:!0,modalFade:!0,lockScroll:!0,closeOnClickModal:!0,closeOnPressEscape:!0,closeOnHashChange:!0,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonPosition:"right",confirmButtonHighlight:!1,cancelButtonHighlight:!1,confirmButtonText:"",cancelButtonText:"",confirmButtonClass:"",cancelButtonClass:"",customClass:"",beforeClose:null,dangerouslyUseHTMLString:!1,center:!1,roundButton:!1,distinguishCancelAndClose:!1},Qr=di.a.extend(Vr),Yr=void 0,Kr=void 0,Xr=[],$r=function(t){if(Yr){var e=Yr.callback;"function"==typeof e&&(Kr.showInput?e(Kr.inputValue,t):e(t)),Yr.resolve&&("confirm"===t?Kr.showInput?Yr.resolve({value:Kr.inputValue,action:t}):Yr.resolve(t):!Yr.reject||"cancel"!==t&&"close"!==t||Yr.reject(t))}},Wr=function t(){if(Kr||((Kr=new Qr({el:document.createElement("div")})).callback=$r),Kr.action="",(!Kr.visible||Kr.closeTimer)&&Xr.length>0){var e=(Yr=Xr.shift()).options;for(var i in e)e.hasOwnProperty(i)&&(Kr[i]=e[i]);void 0===e.callback&&(Kr.callback=$r);var n=Kr.callback;Kr.callback=function(e,i){n(e,i),t()},Object(jr.isVNode)(Kr.message)?(Kr.$slots.default=[Kr.message],Kr.message=null):delete Kr.$slots.default,["modal","showClose","closeOnClickModal","closeOnPressEscape","closeOnHashChange"].forEach(function(t){void 0===Kr[t]&&(Kr[t]=!0)}),document.body.appendChild(Kr.$el),di.a.nextTick(function(){Kr.visible=!0})}},qr=function t(e,i){if(!di.a.prototype.$isServer){if("string"==typeof e||Object(jr.isVNode)(e)?(e={message:e},"string"==typeof arguments[1]&&(e.title=arguments[1])):e.callback&&!i&&(i=e.callback),"undefined"!=typeof Promise)return new Promise(function(n,r){Xr.push({options:Vt()({},zr,t.defaults,e),callback:i,resolve:n,reject:r}),Wr()});Xr.push({options:Vt()({},zr,t.defaults,e),callback:i}),Wr()}};qr.setDefaults=function(t){qr.defaults=t},qr.alert=function(t,e,i){return"object"===(void 0===e?"undefined":Gr(e))?(i=e,e=""):void 0===e&&(e=""),qr(Vt()({title:e,message:t,$type:"alert",closeOnPressEscape:!1,closeOnClickModal:!1},i))},qr.confirm=function(t,e,i){return"object"===(void 0===e?"undefined":Gr(e))?(i=e,e=""):void 0===e&&(e=""),qr(Vt()({title:e,message:t,$type:"confirm",showCancelButton:!0},i))},qr.prompt=function(t,e,i){return"object"===(void 0===e?"undefined":Gr(e))?(i=e,e=""):void 0===e&&(e=""),qr(Vt()({title:e,message:t,showCancelButton:!0,showInput:!0,$type:"prompt"},i))},qr.close=function(){Kr.doClose(),Kr.visible=!1,Xr=[],Yr=null};var Jr=qr,Zr=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-breadcrumb",attrs:{"aria-label":"Breadcrumb",role:"navigation"}},[this._t("default")],2)};Zr._withStripped=!0;var to=r({name:"ElBreadcrumb",props:{separator:{type:String,default:"/"},separatorClass:{type:String,default:""}},provide:function(){return{elBreadcrumb:this}},mounted:function(){var t=this.$el.querySelectorAll(".el-breadcrumb__item");t.length&&t[t.length-1].setAttribute("aria-current","page")}},Zr,[],!1,null,null,null);to.options.__file="packages/breadcrumb/src/breadcrumb.vue";var eo=to.exports;eo.install=function(t){t.component(eo.name,eo)};var io=eo,no=function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"el-breadcrumb__item"},[e("span",{ref:"link",class:["el-breadcrumb__inner",this.to?"is-link":""],attrs:{role:"link"}},[this._t("default")],2),this.separatorClass?e("i",{staticClass:"el-breadcrumb__separator",class:this.separatorClass}):e("span",{staticClass:"el-breadcrumb__separator",attrs:{role:"presentation"}},[this._v(this._s(this.separator))])])};no._withStripped=!0;var ro=r({name:"ElBreadcrumbItem",props:{to:{},replace:Boolean},data:function(){return{separator:"",separatorClass:""}},inject:["elBreadcrumb"],mounted:function(){var t=this;this.separator=this.elBreadcrumb.separator,this.separatorClass=this.elBreadcrumb.separatorClass;var e=this.$refs.link;e.setAttribute("role","link"),e.addEventListener("click",function(e){var i=t.to,n=t.$router;i&&n&&(t.replace?n.replace(i):n.push(i))})}},no,[],!1,null,null,null);ro.options.__file="packages/breadcrumb/src/breadcrumb-item.vue";var oo=ro.exports;oo.install=function(t){t.component(oo.name,oo)};var so=oo,ao=function(){var t=this.$createElement;return(this._self._c||t)("form",{staticClass:"el-form",class:[this.labelPosition?"el-form--label-"+this.labelPosition:"",{"el-form--inline":this.inline}]},[this._t("default")],2)};ao._withStripped=!0;var lo=r({name:"ElForm",componentName:"ElForm",provide:function(){return{elForm:this}},props:{model:Object,rules:Object,labelPosition:String,labelWidth:String,labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1}},watch:{rules:function(){this.fields.forEach(function(t){t.removeValidateEvents(),t.addValidateEvents()}),this.validateOnRuleChange&&this.validate(function(){})}},computed:{autoLabelWidth:function(){if(!this.potentialLabelWidthArr.length)return 0;var t=Math.max.apply(Math,this.potentialLabelWidthArr);return t?t+"px":""}},data:function(){return{fields:[],potentialLabelWidthArr:[]}},created:function(){var t=this;this.$on("el.form.addField",function(e){e&&t.fields.push(e)}),this.$on("el.form.removeField",function(e){e.prop&&t.fields.splice(t.fields.indexOf(e),1)})},methods:{resetFields:function(){this.model?this.fields.forEach(function(t){t.resetField()}):console.warn("[Element Warn][Form]model is required for resetFields to work.")},clearValidate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(t.length?"string"==typeof t?this.fields.filter(function(e){return t===e.prop}):this.fields.filter(function(e){return t.indexOf(e.prop)>-1}):this.fields).forEach(function(t){t.clearValidate()})},validate:function(t){var e=this;if(this.model){var i=void 0;"function"!=typeof t&&window.Promise&&(i=new window.Promise(function(e,i){t=function(t){t?e(t):i(t)}}));var n=!0,r=0;0===this.fields.length&&t&&t(!0);var o={};return this.fields.forEach(function(i){i.validate("",function(i,s){i&&(n=!1),o=Vt()({},o,s),"function"==typeof t&&++r===e.fields.length&&t(n,o)})}),i||void 0}console.warn("[Element Warn][Form]model is required for validate to work!")},validateField:function(t,e){t=[].concat(t);var i=this.fields.filter(function(e){return-1!==t.indexOf(e.prop)});i.length?i.forEach(function(t){t.validate("",e)}):console.warn("[Element Warn]please pass correct props!")},getLabelWidthIndex:function(t){var e=this.potentialLabelWidthArr.indexOf(t);if(-1===e)throw new Error("[ElementForm]unpected width ",t);return e},registerLabelWidth:function(t,e){if(t&&e){var i=this.getLabelWidthIndex(e);this.potentialLabelWidthArr.splice(i,1,t)}else t&&this.potentialLabelWidthArr.push(t)},deregisterLabelWidth:function(t){var e=this.getLabelWidthIndex(t);this.potentialLabelWidthArr.splice(e,1)}}},ao,[],!1,null,null,null);lo.options.__file="packages/form/src/form.vue";var ho=lo.exports;ho.install=function(t){t.component(ho.name,ho)};var uo=ho,co=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-form-item",class:[{"el-form-item--feedback":t.elForm&&t.elForm.statusIcon,"is-error":"error"===t.validateState,"is-validating":"validating"===t.validateState,"is-success":"success"===t.validateState,"is-required":t.isRequired||t.required,"is-no-asterisk":t.elForm&&t.elForm.hideRequiredAsterisk},t.sizeClass?"el-form-item--"+t.sizeClass:""]},[i("label-wrap",{attrs:{"is-auto-width":t.labelStyle&&"auto"===t.labelStyle.width,"update-all":"auto"===t.form.labelWidth}},[t.label||t.$slots.label?i("label",{staticClass:"el-form-item__label",style:t.labelStyle,attrs:{for:t.labelFor}},[t._t("label",[t._v(t._s(t.label+t.form.labelSuffix))])],2):t._e()]),i("div",{staticClass:"el-form-item__content",style:t.contentStyle},[t._t("default"),i("transition",{attrs:{name:"el-zoom-in-top"}},["error"===t.validateState&&t.showMessage&&t.form.showMessage?t._t("error",[i("div",{staticClass:"el-form-item__error",class:{"el-form-item__error--inline":"boolean"==typeof t.inlineMessage?t.inlineMessage:t.elForm&&t.elForm.inlineMessage||!1}},[t._v("\n          "+t._s(t.validateMessage)+"\n        ")])],{error:t.validateMessage}):t._e()],2)],2)],1)};co._withStripped=!0;var po=i(40),fo=i.n(po),mo=r({props:{isAutoWidth:Boolean,updateAll:Boolean},inject:["elForm","elFormItem"],render:function(){var t=arguments[0],e=this.$slots.default;if(!e)return null;if(this.isAutoWidth){var i=this.elForm.autoLabelWidth,n={};if(i&&"auto"!==i){var r=parseInt(i,10)-this.computedWidth;r&&(n.marginLeft=r+"px")}return t("div",{class:"el-form-item__label-wrap",style:n},[e])}return e[0]},methods:{getLabelWidth:function(){if(this.$el&&this.$el.firstElementChild){var t=window.getComputedStyle(this.$el.firstElementChild).width;return Math.ceil(parseFloat(t))}return 0},updateLabelWidth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"update";this.$slots.default&&this.isAutoWidth&&this.$el.firstElementChild&&("update"===t?this.computedWidth=this.getLabelWidth():"remove"===t&&this.elForm.deregisterLabelWidth(this.computedWidth))}},watch:{computedWidth:function(t,e){this.updateAll&&(this.elForm.registerLabelWidth(t,e),this.elFormItem.updateComputedLabelWidth(t))}},data:function(){return{computedWidth:0}},mounted:function(){this.updateLabelWidth("update")},updated:function(){this.updateLabelWidth("update")},beforeDestroy:function(){this.updateLabelWidth("remove")}},void 0,void 0,!1,null,null,null);mo.options.__file="packages/form/src/label-wrap.vue";var go=mo.exports,vo=r({name:"ElFormItem",componentName:"ElFormItem",mixins:[E.a],provide:function(){return{elFormItem:this}},inject:["elForm"],props:{label:String,labelWidth:String,prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],error:String,validateStatus:String,for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:String},components:{LabelWrap:go},watch:{error:{immediate:!0,handler:function(t){this.validateMessage=t,this.validateState=t?"error":""}},validateStatus:function(t){this.validateState=t}},computed:{labelFor:function(){return this.for||this.prop},labelStyle:function(){var t={};if("top"===this.form.labelPosition)return t;var e=this.labelWidth||this.form.labelWidth;return e&&(t.width=e),t},contentStyle:function(){var t={},e=this.label;if("top"===this.form.labelPosition||this.form.inline)return t;if(!e&&!this.labelWidth&&this.isNested)return t;var i=this.labelWidth||this.form.labelWidth;return"auto"===i?"auto"===this.labelWidth?t.marginLeft=this.computedLabelWidth:"auto"===this.form.labelWidth&&(t.marginLeft=this.elForm.autoLabelWidth):t.marginLeft=i,t},form:function(){for(var t=this.$parent,e=t.$options.componentName;"ElForm"!==e;)"ElFormItem"===e&&(this.isNested=!0),e=(t=t.$parent).$options.componentName;return t},fieldValue:function(){var t=this.form.model;if(t&&this.prop){var e=this.prop;return-1!==e.indexOf(":")&&(e=e.replace(/:/,".")),Object(m.getPropByPath)(t,e,!0).v}},isRequired:function(){var t=this.getRules(),e=!1;return t&&t.length&&t.every(function(t){return!t.required||(e=!0,!1)}),e},_formSize:function(){return this.elForm.size},elFormItemSize:function(){return this.size||this._formSize},sizeClass:function(){return this.elFormItemSize||(this.$ELEMENT||{}).size}},data:function(){return{validateState:"",validateMessage:"",validateDisabled:!1,validator:{},isNested:!1,computedLabelWidth:""}},methods:{validate:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.noop;this.validateDisabled=!1;var n=this.getFilteredRule(t);if((!n||0===n.length)&&void 0===this.required)return i(),!0;this.validateState="validating";var r={};n&&n.length>0&&n.forEach(function(t){delete t.trigger}),r[this.prop]=n;var o=new fo.a(r),s={};s[this.prop]=this.fieldValue,o.validate(s,{firstFields:!0},function(t,n){e.validateState=t?"error":"success",e.validateMessage=t?t[0].message:"",i(e.validateMessage,n),e.elForm&&e.elForm.$emit("validate",e.prop,!t,e.validateMessage||null)})},clearValidate:function(){this.validateState="",this.validateMessage="",this.validateDisabled=!1},resetField:function(){var t=this;this.validateState="",this.validateMessage="";var e=this.form.model,i=this.fieldValue,n=this.prop;-1!==n.indexOf(":")&&(n=n.replace(/:/,"."));var r=Object(m.getPropByPath)(e,n,!0);this.validateDisabled=!0,Array.isArray(i)?r.o[r.k]=[].concat(this.initialValue):r.o[r.k]=this.initialValue,this.$nextTick(function(){t.validateDisabled=!1}),this.broadcast("ElTimeSelect","fieldReset",this.initialValue)},getRules:function(){var t=this.form.rules,e=this.rules,i=void 0!==this.required?{required:!!this.required}:[],n=Object(m.getPropByPath)(t,this.prop||"");return t=t?n.o[this.prop||""]||n.v:[],[].concat(e||t||[]).concat(i)},getFilteredRule:function(t){return this.getRules().filter(function(e){return!e.trigger||""===t||(Array.isArray(e.trigger)?e.trigger.indexOf(t)>-1:e.trigger===t)}).map(function(t){return Vt()({},t)})},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){this.validateDisabled?this.validateDisabled=!1:this.validate("change")},updateComputedLabelWidth:function(t){this.computedLabelWidth=t?t+"px":""},addValidateEvents:function(){(this.getRules().length||void 0!==this.required)&&(this.$on("el.form.blur",this.onFieldBlur),this.$on("el.form.change",this.onFieldChange))},removeValidateEvents:function(){this.$off()}},mounted:function(){if(this.prop){this.dispatch("ElForm","el.form.addField",[this]);var t=this.fieldValue;Array.isArray(t)&&(t=[].concat(t)),Object.defineProperty(this,"initialValue",{value:t}),this.addValidateEvents()}},beforeDestroy:function(){this.dispatch("ElForm","el.form.removeField",[this])}},co,[],!1,null,null,null);vo.options.__file="packages/form/src/form-item.vue";var Ao=vo.exports;Ao.install=function(t){t.component(Ao.name,Ao)};var yo=Ao,xo=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-tabs__active-bar",class:"is-"+this.rootTabs.tabPosition,style:this.barStyle})};xo._withStripped=!0;var bo=r({name:"TabBar",props:{tabs:Array},inject:["rootTabs"],computed:{barStyle:{get:function(){var t=this,e={},i=0,n=0,r=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height",o="width"===r?"x":"y",s=function(t){return t.toLowerCase().replace(/( |^)[a-z]/g,function(t){return t.toUpperCase()})};this.tabs.every(function(e,o){var a=Object(m.arrayFind)(t.$parent.$refs.tabs||[],function(t){return t.id.replace("tab-","")===e.paneName});if(!a)return!1;if(e.active){n=a["client"+s(r)];var l=window.getComputedStyle(a);return"width"===r&&t.tabs.length>1&&(n-=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight)),"width"===r&&(i+=parseFloat(l.paddingLeft)),!1}return i+=a["client"+s(r)],!0});var a="translate"+s(o)+"("+i+"px)";return e[r]=n+"px",e.transform=a,e.msTransform=a,e.webkitTransform=a,e}}}},xo,[],!1,null,null,null);function Co(){}bo.options.__file="packages/tabs/src/tab-bar.vue";var wo=function(t){return t.toLowerCase().replace(/( |^)[a-z]/g,function(t){return t.toUpperCase()})},Eo=r({name:"TabNav",components:{TabBar:bo.exports},inject:["rootTabs"],props:{panes:Array,currentName:String,editable:Boolean,onTabClick:{type:Function,default:Co},onTabRemove:{type:Function,default:Co},type:String,stretch:Boolean},data:function(){return{scrollable:!1,navOffset:0,isFocus:!1,focusable:!0}},computed:{navStyle:function(){return{transform:"translate"+(-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"X":"Y")+"(-"+this.navOffset+"px)"}},sizeName:function(){return-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height"}},methods:{scrollPrev:function(){var t=this.$refs.navScroll["offset"+wo(this.sizeName)],e=this.navOffset;if(e){var i=e>t?e-t:0;this.navOffset=i}},scrollNext:function(){var t=this.$refs.nav["offset"+wo(this.sizeName)],e=this.$refs.navScroll["offset"+wo(this.sizeName)],i=this.navOffset;if(!(t-i<=e)){var n=t-i>2*e?i+e:t-e;this.navOffset=n}},scrollToActiveTab:function(){if(this.scrollable){var t=this.$refs.nav,e=this.$el.querySelector(".is-active");if(e){var i=this.$refs.navScroll,n=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition),r=e.getBoundingClientRect(),o=i.getBoundingClientRect(),s=n?t.offsetWidth-o.width:t.offsetHeight-o.height,a=this.navOffset,l=a;n?(r.left<o.left&&(l=a-(o.left-r.left)),r.right>o.right&&(l=a+r.right-o.right)):(r.top<o.top&&(l=a-(o.top-r.top)),r.bottom>o.bottom&&(l=a+(r.bottom-o.bottom))),l=Math.max(l,0),this.navOffset=Math.min(l,s)}}},update:function(){if(this.$refs.nav){var t=this.sizeName,e=this.$refs.nav["offset"+wo(t)],i=this.$refs.navScroll["offset"+wo(t)],n=this.navOffset;if(i<e){var r=this.navOffset;this.scrollable=this.scrollable||{},this.scrollable.prev=r,this.scrollable.next=r+i<e,e-r<i&&(this.navOffset=e-i)}else this.scrollable=!1,n>0&&(this.navOffset=0)}},changeTab:function(t){var e=t.keyCode,i=void 0,n=void 0,r=void 0;-1!==[37,38,39,40].indexOf(e)&&(r=t.currentTarget.querySelectorAll("[role=tab]"),n=Array.prototype.indexOf.call(r,t.target),r[i=37===e||38===e?0===n?r.length-1:n-1:n<r.length-1?n+1:0].focus(),r[i].click(),this.setFocus())},setFocus:function(){this.focusable&&(this.isFocus=!0)},removeFocus:function(){this.isFocus=!1},visibilityChangeHandler:function(){var t=this,e=document.visibilityState;"hidden"===e?this.focusable=!1:"visible"===e&&setTimeout(function(){t.focusable=!0},50)},windowBlurHandler:function(){this.focusable=!1},windowFocusHandler:function(){var t=this;setTimeout(function(){t.focusable=!0},50)}},updated:function(){this.update()},render:function(t){var e=this,i=this.type,n=this.panes,r=this.editable,o=this.stretch,s=this.onTabClick,a=this.onTabRemove,l=this.navStyle,h=this.scrollable,u=this.scrollNext,c=this.scrollPrev,d=this.changeTab,p=this.setFocus,f=this.removeFocus,m=h?[t("span",{class:["el-tabs__nav-prev",h.prev?"":"is-disabled"],on:{click:c}},[t("i",{class:"el-icon-arrow-left"})]),t("span",{class:["el-tabs__nav-next",h.next?"":"is-disabled"],on:{click:u}},[t("i",{class:"el-icon-arrow-right"})])]:null,g=this._l(n,function(i,n){var o,l=i.name||i.index||n,h=i.isClosable||r;i.index=""+n;var u=h?t("span",{class:"el-icon-close",on:{click:function(t){a(i,t)}}}):null,c=i.$slots.label||i.label,d=i.active?0:-1;return t("div",{class:(o={"el-tabs__item":!0},o["is-"+e.rootTabs.tabPosition]=!0,o["is-active"]=i.active,o["is-disabled"]=i.disabled,o["is-closable"]=h,o["is-focus"]=e.isFocus,o),attrs:{id:"tab-"+l,"aria-controls":"pane-"+l,role:"tab","aria-selected":i.active,tabindex:d},key:"tab-"+l,ref:"tabs",refInFor:!0,on:{focus:function(){p()},blur:function(){f()},click:function(t){f(),s(i,l,t)},keydown:function(t){!h||46!==t.keyCode&&8!==t.keyCode||a(i,t)}}},[c,u])});return t("div",{class:["el-tabs__nav-wrap",h?"is-scrollable":"","is-"+this.rootTabs.tabPosition]},[m,t("div",{class:["el-tabs__nav-scroll"],ref:"navScroll"},[t("div",{class:["el-tabs__nav","is-"+this.rootTabs.tabPosition,o&&-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"is-stretch":""],ref:"nav",style:l,attrs:{role:"tablist"},on:{keydown:d}},[i?null:t("tab-bar",{attrs:{tabs:n}}),g])])])},mounted:function(){var t=this;Object(De.addResizeListener)(this.$el,this.update),document.addEventListener("visibilitychange",this.visibilityChangeHandler),window.addEventListener("blur",this.windowBlurHandler),window.addEventListener("focus",this.windowFocusHandler),setTimeout(function(){t.scrollToActiveTab()},0)},beforeDestroy:function(){this.$el&&this.update&&Object(De.removeResizeListener)(this.$el,this.update),document.removeEventListener("visibilitychange",this.visibilityChangeHandler),window.removeEventListener("blur",this.windowBlurHandler),window.removeEventListener("focus",this.windowFocusHandler)}},void 0,void 0,!1,null,null,null);Eo.options.__file="packages/tabs/src/tab-nav.vue";var So=r({name:"ElTabs",components:{TabNav:Eo.exports},props:{type:String,activeName:String,closable:Boolean,addable:Boolean,value:{},editable:Boolean,tabPosition:{type:String,default:"top"},beforeLeave:Function,stretch:Boolean},provide:function(){return{rootTabs:this}},data:function(){return{currentName:this.value||this.activeName,panes:[]}},watch:{activeName:function(t){this.setCurrentName(t)},value:function(t){this.setCurrentName(t)},currentName:function(t){var e=this;this.$refs.nav&&this.$nextTick(function(){e.$refs.nav.$nextTick(function(t){e.$refs.nav.scrollToActiveTab()})})}},methods:{calcPaneInstances:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.$slots.default){var i=this.$slots.default.filter(function(t){return t.tag&&t.componentOptions&&"ElTabPane"===t.componentOptions.Ctor.options.name}).map(function(t){return t.componentInstance}),n=!(i.length===this.panes.length&&i.every(function(e,i){return e===t.panes[i]}));(e||n)&&(this.panes=i)}else 0!==this.panes.length&&(this.panes=[])},handleTabClick:function(t,e,i){t.disabled||(this.setCurrentName(e),this.$emit("tab-click",t,i))},handleTabRemove:function(t,e){t.disabled||(e.stopPropagation(),this.$emit("edit",t.name,"remove"),this.$emit("tab-remove",t.name))},handleTabAdd:function(){this.$emit("edit",null,"add"),this.$emit("tab-add")},setCurrentName:function(t){var e=this,i=function(){e.currentName=t,e.$emit("input",t)};if(this.currentName!==t&&this.beforeLeave){var n=this.beforeLeave(t,this.currentName);n&&n.then?n.then(function(){i(),e.$refs.nav&&e.$refs.nav.removeFocus()},function(){}):!1!==n&&i()}else i()}},render:function(t){var e,i=this.type,n=this.handleTabClick,r=this.handleTabRemove,o=this.handleTabAdd,s=this.currentName,a=this.panes,l=this.editable,h=this.addable,u=this.tabPosition,c=this.stretch,d=t("div",{class:["el-tabs__header","is-"+u]},[l||h?t("span",{class:"el-tabs__new-tab",on:{click:o,keydown:function(t){13===t.keyCode&&o()}},attrs:{tabindex:"0"}},[t("i",{class:"el-icon-plus"})]):null,t("tab-nav",{props:{currentName:s,onTabClick:n,onTabRemove:r,editable:l,type:i,panes:a,stretch:c},ref:"nav"})]),p=t("div",{class:"el-tabs__content"},[this.$slots.default]);return t("div",{class:(e={"el-tabs":!0,"el-tabs--card":"card"===i},e["el-tabs--"+u]=!0,e["el-tabs--border-card"]="border-card"===i,e)},["bottom"!==u?[d,p]:[p,d]])},created:function(){this.currentName||this.setCurrentName("0"),this.$on("tab-nav-update",this.calcPaneInstances.bind(null,!0))},mounted:function(){this.calcPaneInstances()},updated:function(){this.calcPaneInstances()}},void 0,void 0,!1,null,null,null);So.options.__file="packages/tabs/src/tabs.vue";var To=So.exports;To.install=function(t){t.component(To.name,To)};var _o=To,Mo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return!t.lazy||t.loaded||t.active?i("div",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"el-tab-pane",attrs:{role:"tabpanel","aria-hidden":!t.active,id:"pane-"+t.paneName,"aria-labelledby":"tab-"+t.paneName}},[t._t("default")],2):t._e()};Mo._withStripped=!0;var ko=r({name:"ElTabPane",componentName:"ElTabPane",props:{label:String,labelContent:Function,name:String,closable:Boolean,disabled:Boolean,lazy:Boolean},data:function(){return{index:null,loaded:!1}},computed:{isClosable:function(){return this.closable||this.$parent.closable},active:function(){var t=this.$parent.currentName===(this.name||this.index);return t&&(this.loaded=!0),t},paneName:function(){return this.name||this.index}},updated:function(){this.$parent.$emit("tab-nav-update")}},Mo,[],!1,null,null,null);ko.options.__file="packages/tabs/src/tab-pane.vue";var Bo=ko.exports;Bo.install=function(t){t.component(Bo.name,Bo)};var Oo=Bo,Po=r({name:"ElTag",props:{text:String,closable:Boolean,type:String,hit:Boolean,disableTransitions:Boolean,color:String,size:String,effect:{type:String,default:"light",validator:function(t){return-1!==["dark","light","plain"].indexOf(t)}}},methods:{handleClose:function(t){t.stopPropagation(),this.$emit("close",t)},handleClick:function(t){this.$emit("click",t)}},computed:{tagSize:function(){return this.size||(this.$ELEMENT||{}).size}},render:function(t){var e=this.type,i=this.tagSize,n=this.hit,r=this.effect,o=t("span",{class:["el-tag",e?"el-tag--"+e:"",i?"el-tag--"+i:"",r?"el-tag--"+r:"",n&&"is-hit"],style:{backgroundColor:this.color},on:{click:this.handleClick}},[this.$slots.default,this.closable&&t("i",{class:"el-tag__close el-icon-close",on:{click:this.handleClose}})]);return this.disableTransitions?o:t("transition",{attrs:{name:"el-zoom-in-center"}},[o])}},void 0,void 0,!1,null,null,null);Po.options.__file="packages/tag/src/tag.vue";var Lo=Po.exports;Lo.install=function(t){t.component(Lo.name,Lo)};var No=Lo,Io=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-tree",class:{"el-tree--highlight-current":t.highlightCurrent,"is-dragging":!!t.dragState.draggingNode,"is-drop-not-allow":!t.dragState.allowDrop,"is-drop-inner":"inner"===t.dragState.dropType},attrs:{role:"tree"}},[t._l(t.root.childNodes,function(e){return i("el-tree-node",{key:t.getNodeKey(e),attrs:{node:e,props:t.props,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent},on:{"node-expand":t.handleNodeExpand}})}),t.isEmpty?i("div",{staticClass:"el-tree__empty-block"},[i("span",{staticClass:"el-tree__empty-text"},[t._v(t._s(t.emptyText))])]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.dragState.showDropIndicator,expression:"dragState.showDropIndicator"}],ref:"dropIndicator",staticClass:"el-tree__drop-indicator"})],2)};Io._withStripped=!0;var Do="$treeNodeId",Ro=function(t,e){e&&!e[Do]&&Object.defineProperty(e,Do,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},Fo=function(t,e){return t?e[t]:e[Do]},Ho=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var Uo=function(t){for(var e=!0,i=!0,n=!0,r=0,o=t.length;r<o;r++){var s=t[r];(!0!==s.checked||s.indeterminate)&&(e=!1,s.disabled||(n=!1)),(!1!==s.checked||s.indeterminate)&&(i=!1)}return{all:e,none:i,allWithoutDisable:n,half:!e&&!i}},Vo=function t(e){if(0!==e.childNodes.length){var i=Uo(e.childNodes),n=i.all,r=i.none,o=i.half;n?(e.checked=!0,e.indeterminate=!1):o?(e.checked=!1,e.indeterminate=!0):r&&(e.checked=!1,e.indeterminate=!1);var s=e.parent;s&&0!==s.level&&(e.store.checkStrictly||t(s))}},jo=function(t,e){var i=t.store.props,n=t.data||{},r=i[e];if("function"==typeof r)return r(n,t);if("string"==typeof r)return n[r];if(void 0===r){var o=n[e];return void 0===o?"":o}},Go=0,zo=function(){function t(e){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=Go++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,e)e.hasOwnProperty(i)&&(this[i]=e[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1);var n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);var r=n.props;if(r&&void 0!==r.isLeaf){var o=jo(this,"isLeaf");"boolean"==typeof o&&(this.isLeafByUser=o)}if(!0!==n.lazy&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Ro(this,this.data),this.data){var s=n.defaultExpandedKeys,a=n.key;a&&s&&-1!==s.indexOf(this.key)&&this.expand(null,n.autoExpandParent),a&&void 0!==n.currentNodeKey&&this.key===n.currentNodeKey&&(n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState()}}return t.prototype.setData=function(t){Array.isArray(t)||Ro(this,t),this.data=t,this.childNodes=[];for(var e=void 0,i=0,n=(e=0===this.level&&this.data instanceof Array?this.data:jo(this,"children")||[]).length;i<n;i++)this.insertChild({data:e[i]})},t.prototype.contains=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function i(n){for(var r=n.childNodes||[],o=!1,s=0,a=r.length;s<a;s++){var l=r[s];if(l===t||e&&i(l)){o=!0;break}}return o}(this)},t.prototype.remove=function(){var t=this.parent;t&&t.removeChild(this)},t.prototype.insertChild=function(e,i,n){if(!e)throw new Error("insertChild error: child is required.");if(!(e instanceof t)){if(!n){var r=this.getChildren(!0);-1===r.indexOf(e.data)&&(void 0===i||i<0?r.push(e.data):r.splice(i,0,e.data))}Vt()(e,{parent:this,store:this.store}),e=new t(e)}e.level=this.level+1,void 0===i||i<0?this.childNodes.push(e):this.childNodes.splice(i,0,e),this.updateLeafState()},t.prototype.insertBefore=function(t,e){var i=void 0;e&&(i=this.childNodes.indexOf(e)),this.insertChild(t,i)},t.prototype.insertAfter=function(t,e){var i=void 0;e&&-1!==(i=this.childNodes.indexOf(e))&&(i+=1),this.insertChild(t,i)},t.prototype.removeChild=function(t){var e=this.getChildren()||[],i=e.indexOf(t.data);i>-1&&e.splice(i,1);var n=this.childNodes.indexOf(t);n>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(n,1)),this.updateLeafState()},t.prototype.removeChildByData=function(t){for(var e=null,i=0;i<this.childNodes.length;i++)if(this.childNodes[i].data===t){e=this.childNodes[i];break}e&&this.removeChild(e)},t.prototype.expand=function(t,e){var i=this,n=function(){if(e)for(var n=i.parent;n.level>0;)n.expanded=!0,n=n.parent;i.expanded=!0,t&&t()};this.shouldLoadData()?this.loadData(function(t){t instanceof Array&&(i.checked?i.setChecked(!0,!0):i.store.checkStrictly||Vo(i),n())}):n()},t.prototype.doCreateChildren=function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach(function(t){e.insertChild(Vt()({data:t},i),void 0,!0)})},t.prototype.collapse=function(){this.expanded=!1},t.prototype.shouldLoadData=function(){return!0===this.store.lazy&&this.store.load&&!this.loaded},t.prototype.updateLeafState=function(){if(!0!==this.store.lazy||!0===this.loaded||void 0===this.isLeafByUser){var t=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!t||0===t.length:this.isLeaf=!1}else this.isLeaf=this.isLeafByUser},t.prototype.setChecked=function(t,e,i,n){var r=this;if(this.indeterminate="half"===t,this.checked=!0===t,!this.store.checkStrictly){if(!this.shouldLoadData()||this.store.checkDescendants){var o=Uo(this.childNodes),s=o.all,a=o.allWithoutDisable;this.isLeaf||s||!a||(this.checked=!1,t=!1);var l=function(){if(e){for(var i=r.childNodes,o=0,s=i.length;o<s;o++){var a=i[o];n=n||!1!==t;var l=a.disabled?a.checked:n;a.setChecked(l,e,!0,n)}var h=Uo(i),u=h.half,c=h.all;c||(r.checked=c,r.indeterminate=u)}};if(this.shouldLoadData())return void this.loadData(function(){l(),Vo(r)},{checked:!1!==t});l()}var h=this.parent;h&&0!==h.level&&(i||Vo(h))}},t.prototype.getChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(0===this.level)return this.data;var e=this.data;if(!e)return null;var i=this.store.props,n="children";return i&&(n=i.children||"children"),void 0===e[n]&&(e[n]=null),t&&!e[n]&&(e[n]=[]),e[n]},t.prototype.updateChildren=function(){var t=this,e=this.getChildren()||[],i=this.childNodes.map(function(t){return t.data}),n={},r=[];e.forEach(function(t,e){var o=t[Do];!!o&&Object(m.arrayFindIndex)(i,function(t){return t[Do]===o})>=0?n[o]={index:e,data:t}:r.push({index:e,data:t})}),this.store.lazy||i.forEach(function(e){n[e[Do]]||t.removeChildByData(e)}),r.forEach(function(e){var i=e.index,n=e.data;t.insertChild({data:n},i)}),this.updateLeafState()},t.prototype.loadData=function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(i).length)t&&t.call(this);else{this.loading=!0;this.store.load(this,function(n){e.loaded=!0,e.loading=!1,e.childNodes=[],e.doCreateChildren(n,i),e.updateLeafState(),t&&t.call(e,n)})}},Ho(t,[{key:"label",get:function(){return jo(this,"label")}},{key:"key",get:function(){var t=this.store.key;return this.data?this.data[t]:null}},{key:"disabled",get:function(){return jo(this,"disabled")}},{key:"nextSibling",get:function(){var t=this.parent;if(t){var e=t.childNodes.indexOf(this);if(e>-1)return t.childNodes[e+1]}return null}},{key:"previousSibling",get:function(){var t=this.parent;if(t){var e=t.childNodes.indexOf(this);if(e>-1)return e>0?t.childNodes[e-1]:null}return null}}]),t}(),Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var Yo=function(){function t(e){var i=this;for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.currentNode=null,this.currentNodeKey=null,e)e.hasOwnProperty(n)&&(this[n]=e[n]);(this.nodesMap={},this.root=new zo({data:this.data,store:this}),this.lazy&&this.load)?(0,this.load)(this.root,function(t){i.root.doCreateChildren(t),i._initDefaultCheckedNodes()}):this._initDefaultCheckedNodes()}return t.prototype.filter=function(t){var e=this.filterNodeMethod,i=this.lazy;!function n(r){var o=r.root?r.root.childNodes:r.childNodes;if(o.forEach(function(i){i.visible=e.call(i,t,i.data,i),n(i)}),!r.visible&&o.length){var s;s=!o.some(function(t){return t.visible}),r.root?r.root.visible=!1===s:r.visible=!1===s}t&&(!r.visible||r.isLeaf||i||r.expand())}(this)},t.prototype.setData=function(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()},t.prototype.getNode=function(t){if(t instanceof zo)return t;var e="object"!==(void 0===t?"undefined":Qo(t))?t:Fo(this.key,t);return this.nodesMap[e]||null},t.prototype.insertBefore=function(t,e){var i=this.getNode(e);i.parent.insertBefore({data:t},i)},t.prototype.insertAfter=function(t,e){var i=this.getNode(e);i.parent.insertAfter({data:t},i)},t.prototype.remove=function(t){var e=this.getNode(t);e&&e.parent&&(e===this.currentNode&&(this.currentNode=null),e.parent.removeChild(e))},t.prototype.append=function(t,e){var i=e?this.getNode(e):this.root;i&&i.insertChild({data:t})},t.prototype._initDefaultCheckedNodes=function(){var t=this,e=this.defaultCheckedKeys||[],i=this.nodesMap;e.forEach(function(e){var n=i[e];n&&n.setChecked(!0,!t.checkStrictly)})},t.prototype._initDefaultCheckedNode=function(t){-1!==(this.defaultCheckedKeys||[]).indexOf(t.key)&&t.setChecked(!0,!this.checkStrictly)},t.prototype.setDefaultCheckedKey=function(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())},t.prototype.registerNode=function(t){this.key&&t&&t.data&&(void 0!==t.key&&(this.nodesMap[t.key]=t))},t.prototype.deregisterNode=function(t){var e=this;this.key&&t&&t.data&&(t.childNodes.forEach(function(t){e.deregisterNode(t)}),delete this.nodesMap[t.key])},t.prototype.getCheckedNodes=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[];return function n(r){(r.root?r.root.childNodes:r.childNodes).forEach(function(r){(r.checked||e&&r.indeterminate)&&(!t||t&&r.isLeaf)&&i.push(r.data),n(r)})}(this),i},t.prototype.getCheckedKeys=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getCheckedNodes(e).map(function(e){return(e||{})[t.key]})},t.prototype.getHalfCheckedNodes=function(){var t=[];return function e(i){(i.root?i.root.childNodes:i.childNodes).forEach(function(i){i.indeterminate&&t.push(i.data),e(i)})}(this),t},t.prototype.getHalfCheckedKeys=function(){var t=this;return this.getHalfCheckedNodes().map(function(e){return(e||{})[t.key]})},t.prototype._getAllNodes=function(){var t=[],e=this.nodesMap;for(var i in e)e.hasOwnProperty(i)&&t.push(e[i]);return t},t.prototype.updateChildren=function(t,e){var i=this.nodesMap[t];if(i){for(var n=i.childNodes,r=n.length-1;r>=0;r--){var o=n[r];this.remove(o.data)}for(var s=0,a=e.length;s<a;s++){var l=e[s];this.append(l,i.data)}}},t.prototype._setCheckedKeys=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments[2],n=this._getAllNodes().sort(function(t,e){return e.level-t.level}),r=Object.create(null),o=Object.keys(i);n.forEach(function(t){return t.setChecked(!1,!1)});for(var s=0,a=n.length;s<a;s++){var l=n[s],h=l.data[t].toString();if(o.indexOf(h)>-1){for(var u=l.parent;u&&u.level>0;)r[u.data[t]]=!0,u=u.parent;l.isLeaf||this.checkStrictly?l.setChecked(!0,!1):(l.setChecked(!0,!0),e&&function(){l.setChecked(!1,!1);!function t(e){e.childNodes.forEach(function(e){e.isLeaf||e.setChecked(!1,!1),t(e)})}(l)}())}else l.checked&&!r[h]&&l.setChecked(!1,!1)}},t.prototype.setCheckedNodes=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.key,n={};t.forEach(function(t){n[(t||{})[i]]=!0}),this._setCheckedKeys(i,e,n)},t.prototype.setCheckedKeys=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.defaultCheckedKeys=t;var i=this.key,n={};t.forEach(function(t){n[t]=!0}),this._setCheckedKeys(i,e,n)},t.prototype.setDefaultExpandedKeys=function(t){var e=this;t=t||[],this.defaultExpandedKeys=t,t.forEach(function(t){var i=e.getNode(t);i&&i.expand(null,e.autoExpandParent)})},t.prototype.setChecked=function(t,e,i){var n=this.getNode(t);n&&n.setChecked(!!e,i)},t.prototype.getCurrentNode=function(){return this.currentNode},t.prototype.setCurrentNode=function(t){var e=this.currentNode;e&&(e.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0},t.prototype.setUserCurrentNode=function(t){var e=t[this.key],i=this.nodesMap[e];this.setCurrentNode(i)},t.prototype.setCurrentNodeKey=function(t){if(null===t||void 0===t)return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);var e=this.getNode(t);e&&this.setCurrentNode(e)},t}(),Ko=function(){var t=this,e=this,i=e.$createElement,n=e._self._c||i;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.node.visible,expression:"node.visible"}],ref:"node",staticClass:"el-tree-node",class:{"is-expanded":e.expanded,"is-current":e.node.isCurrent,"is-hidden":!e.node.visible,"is-focusable":!e.node.disabled,"is-checked":!e.node.disabled&&e.node.checked},attrs:{role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.draggable},on:{click:function(t){return t.stopPropagation(),e.handleClick(t)},contextmenu:function(e){return t.handleContextMenu(e)},dragstart:function(t){return t.stopPropagation(),e.handleDragStart(t)},dragover:function(t){return t.stopPropagation(),e.handleDragOver(t)},dragend:function(t){return t.stopPropagation(),e.handleDragEnd(t)},drop:function(t){return t.stopPropagation(),e.handleDrop(t)}}},[n("div",{staticClass:"el-tree-node__content",style:{"padding-left":(e.node.level-1)*e.tree.indent+"px"}},[n("span",{class:[{"is-leaf":e.node.isLeaf,expanded:!e.node.isLeaf&&e.expanded},"el-tree-node__expand-icon",e.tree.iconClass?e.tree.iconClass:"el-icon-caret-right"],on:{click:function(t){return t.stopPropagation(),e.handleExpandIconClick(t)}}}),e.showCheckbox?n("el-checkbox",{attrs:{indeterminate:e.node.indeterminate,disabled:!!e.node.disabled},on:{change:e.handleCheckChange},nativeOn:{click:function(t){t.stopPropagation()}},model:{value:e.node.checked,callback:function(t){e.$set(e.node,"checked",t)},expression:"node.checked"}}):e._e(),e.node.loading?n("span",{staticClass:"el-tree-node__loading-icon el-icon-loading"}):e._e(),n("node-content",{attrs:{node:e.node}})],1),n("el-collapse-transition",[!e.renderAfterExpand||e.childNodeRendered?n("div",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}],staticClass:"el-tree-node__children",attrs:{role:"group","aria-expanded":e.expanded}},e._l(e.node.childNodes,function(t){return n("el-tree-node",{key:e.getNodeKey(t),attrs:{"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:t},on:{"node-expand":e.handleChildNodeExpand}})}),1):e._e()])],1)};Ko._withStripped=!0;var Xo=r({name:"ElTreeNode",componentName:"ElTreeNode",mixins:[E.a],props:{node:{default:function(){return{}}},props:{},renderContent:Function,renderAfterExpand:{type:Boolean,default:!0},showCheckbox:{type:Boolean,default:!1}},components:{ElCollapseTransition:yt.a,ElCheckbox:oi.a,NodeContent:{props:{node:{required:!0}},render:function(t){var e=this.$parent,i=e.tree,n=this.node,r=n.data,o=n.store;return e.renderContent?e.renderContent.call(e._renderProxy,t,{_self:i.$vnode.context,node:n,data:r,store:o}):i.$scopedSlots.default?i.$scopedSlots.default({node:n,data:r}):t("span",{class:"el-tree-node__label"},[n.label])}}},data:function(){return{tree:null,expanded:!1,childNodeRendered:!1,oldChecked:null,oldIndeterminate:null}},watch:{"node.indeterminate":function(t){this.handleSelectChange(this.node.checked,t)},"node.checked":function(t){this.handleSelectChange(t,this.node.indeterminate)},"node.expanded":function(t){var e=this;this.$nextTick(function(){return e.expanded=t}),t&&(this.childNodeRendered=!0)}},methods:{getNodeKey:function(t){return Fo(this.tree.nodeKey,t.data)},handleSelectChange:function(t,e){this.oldChecked!==t&&this.oldIndeterminate!==e&&this.tree.$emit("check-change",this.node.data,t,e),this.oldChecked=t,this.indeterminate=e},handleClick:function(){var t=this.tree.store;t.setCurrentNode(this.node),this.tree.$emit("current-change",t.currentNode?t.currentNode.data:null,t.currentNode),this.tree.currentNode=this,this.tree.expandOnClickNode&&this.handleExpandIconClick(),this.tree.checkOnClickNode&&!this.node.disabled&&this.handleCheckChange(null,{target:{checked:!this.node.checked}}),this.tree.$emit("node-click",this.node.data,this.node,this)},handleContextMenu:function(t){this.tree._events["node-contextmenu"]&&this.tree._events["node-contextmenu"].length>0&&(t.stopPropagation(),t.preventDefault()),this.tree.$emit("node-contextmenu",t,this.node.data,this.node,this)},handleExpandIconClick:function(){this.node.isLeaf||(this.expanded?(this.tree.$emit("node-collapse",this.node.data,this.node,this),this.node.collapse()):(this.node.expand(),this.$emit("node-expand",this.node.data,this.node,this)))},handleCheckChange:function(t,e){var i=this;this.node.setChecked(e.target.checked,!this.tree.checkStrictly),this.$nextTick(function(){var t=i.tree.store;i.tree.$emit("check",i.node.data,{checkedNodes:t.getCheckedNodes(),checkedKeys:t.getCheckedKeys(),halfCheckedNodes:t.getHalfCheckedNodes(),halfCheckedKeys:t.getHalfCheckedKeys()})})},handleChildNodeExpand:function(t,e,i){this.broadcast("ElTreeNode","tree-node-expand",e),this.tree.$emit("node-expand",t,e,i)},handleDragStart:function(t){this.tree.draggable&&this.tree.$emit("tree-node-drag-start",t,this)},handleDragOver:function(t){this.tree.draggable&&(this.tree.$emit("tree-node-drag-over",t,this),t.preventDefault())},handleDrop:function(t){t.preventDefault()},handleDragEnd:function(t){this.tree.draggable&&this.tree.$emit("tree-node-drag-end",t,this)}},created:function(){var t=this,e=this.$parent;e.isTree?this.tree=e:this.tree=e.tree;var i=this.tree;i||console.warn("Can not find node's tree.");var n=(i.props||{}).children||"children";this.$watch("node.data."+n,function(){t.node.updateChildren()}),this.node.expanded&&(this.expanded=!0,this.childNodeRendered=!0),this.tree.accordion&&this.$on("tree-node-expand",function(e){t.node!==e&&t.node.collapse()})}},Ko,[],!1,null,null,null);Xo.options.__file="packages/tree/src/tree-node.vue";var $o=Xo.exports,Wo=r({name:"ElTree",mixins:[E.a],components:{ElTreeNode:$o},data:function(){return{store:null,root:null,currentNode:null,treeItems:null,checkboxItems:[],dragState:{showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0}}},props:{data:{type:Array},emptyText:{type:String,default:function(){return Object(Re.t)("el.tree.emptyText")}},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{default:function(){return{children:"children",label:"label",disabled:"disabled"}}},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},iconClass:String},computed:{children:{set:function(t){this.data=t},get:function(){return this.data}},treeItemArray:function(){return Array.prototype.slice.call(this.treeItems)},isEmpty:function(){var t=this.root.childNodes;return!t||0===t.length||t.every(function(t){return!t.visible})}},watch:{defaultCheckedKeys:function(t){this.store.setDefaultCheckedKey(t)},defaultExpandedKeys:function(t){this.store.defaultExpandedKeys=t,this.store.setDefaultExpandedKeys(t)},data:function(t){this.store.setData(t)},checkboxItems:function(t){Array.prototype.forEach.call(t,function(t){t.setAttribute("tabindex",-1)})},checkStrictly:function(t){this.store.checkStrictly=t}},methods:{filter:function(t){if(!this.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");this.store.filter(t)},getNodeKey:function(t){return Fo(this.nodeKey,t.data)},getNodePath:function(t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");var e=this.store.getNode(t);if(!e)return[];for(var i=[e.data],n=e.parent;n&&n!==this.root;)i.push(n.data),n=n.parent;return i.reverse()},getCheckedNodes:function(t,e){return this.store.getCheckedNodes(t,e)},getCheckedKeys:function(t){return this.store.getCheckedKeys(t)},getCurrentNode:function(){var t=this.store.getCurrentNode();return t?t.data:null},getCurrentKey:function(){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");var t=this.getCurrentNode();return t?t[this.nodeKey]:null},setCheckedNodes:function(t,e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");this.store.setCheckedNodes(t,e)},setCheckedKeys:function(t,e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");this.store.setCheckedKeys(t,e)},setChecked:function(t,e,i){this.store.setChecked(t,e,i)},getHalfCheckedNodes:function(){return this.store.getHalfCheckedNodes()},getHalfCheckedKeys:function(){return this.store.getHalfCheckedKeys()},setCurrentNode:function(t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");this.store.setUserCurrentNode(t)},setCurrentKey:function(t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");this.store.setCurrentNodeKey(t)},getNode:function(t){return this.store.getNode(t)},remove:function(t){this.store.remove(t)},append:function(t,e){this.store.append(t,e)},insertBefore:function(t,e){this.store.insertBefore(t,e)},insertAfter:function(t,e){this.store.insertAfter(t,e)},handleNodeExpand:function(t,e,i){this.broadcast("ElTreeNode","tree-node-expand",e),this.$emit("node-expand",t,e,i)},updateKeyChildren:function(t,e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");this.store.updateChildren(t,e)},initTabIndex:function(){this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]");var t=this.$el.querySelectorAll(".is-checked[role=treeitem]");t.length?t[0].setAttribute("tabindex",0):this.treeItems[0]&&this.treeItems[0].setAttribute("tabindex",0)},handleKeydown:function(t){var e=t.target;if(-1!==e.className.indexOf("el-tree-node")){var i=t.keyCode;this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]");var n=this.treeItemArray.indexOf(e),r=void 0;[38,40].indexOf(i)>-1&&(t.preventDefault(),r=38===i?0!==n?n-1:0:n<this.treeItemArray.length-1?n+1:0,this.treeItemArray[r].focus()),[37,39].indexOf(i)>-1&&(t.preventDefault(),e.click());var o=e.querySelector('[type="checkbox"]');[13,32].indexOf(i)>-1&&o&&(t.preventDefault(),o.click())}}},created:function(){var t=this;this.isTree=!0,this.store=new Yo({key:this.nodeKey,data:this.data,lazy:this.lazy,props:this.props,load:this.load,currentNodeKey:this.currentNodeKey,checkStrictly:this.checkStrictly,checkDescendants:this.checkDescendants,defaultCheckedKeys:this.defaultCheckedKeys,defaultExpandedKeys:this.defaultExpandedKeys,autoExpandParent:this.autoExpandParent,defaultExpandAll:this.defaultExpandAll,filterNodeMethod:this.filterNodeMethod}),this.root=this.store.root;var e=this.dragState;this.$on("tree-node-drag-start",function(i,n){if("function"==typeof t.allowDrag&&!t.allowDrag(n.node))return i.preventDefault(),!1;i.dataTransfer.effectAllowed="move";try{i.dataTransfer.setData("text/plain","")}catch(t){}e.draggingNode=n,t.$emit("node-drag-start",n.node,i)}),this.$on("tree-node-drag-over",function(i,n){var r=function(t,e){for(var i=t;i&&"BODY"!==i.tagName;){if(i.__vue__&&i.__vue__.$options.name===e)return i.__vue__;i=i.parentNode}return null}(i.target,"ElTreeNode"),o=e.dropNode;o&&o!==r&&Object(ft.removeClass)(o.$el,"is-drop-inner");var s=e.draggingNode;if(s&&r){var a=!0,l=!0,h=!0,u=!0;"function"==typeof t.allowDrop&&(a=t.allowDrop(s.node,r.node,"prev"),u=l=t.allowDrop(s.node,r.node,"inner"),h=t.allowDrop(s.node,r.node,"next")),i.dataTransfer.dropEffect=l?"move":"none",(a||l||h)&&o!==r&&(o&&t.$emit("node-drag-leave",s.node,o.node,i),t.$emit("node-drag-enter",s.node,r.node,i)),(a||l||h)&&(e.dropNode=r),r.node.nextSibling===s.node&&(h=!1),r.node.previousSibling===s.node&&(a=!1),r.node.contains(s.node,!1)&&(l=!1),(s.node===r.node||s.node.contains(r.node))&&(a=!1,l=!1,h=!1);var c=r.$el.getBoundingClientRect(),d=t.$el.getBoundingClientRect(),p=void 0,f=a?l?.25:h?.45:1:-1,m=h?l?.75:a?.55:0:1,g=-9999,v=i.clientY-c.top;p=v<c.height*f?"before":v>c.height*m?"after":l?"inner":"none";var A=r.$el.querySelector(".el-tree-node__expand-icon").getBoundingClientRect(),y=t.$refs.dropIndicator;"before"===p?g=A.top-d.top:"after"===p&&(g=A.bottom-d.top),y.style.top=g+"px",y.style.left=A.right-d.left+"px","inner"===p?Object(ft.addClass)(r.$el,"is-drop-inner"):Object(ft.removeClass)(r.$el,"is-drop-inner"),e.showDropIndicator="before"===p||"after"===p,e.allowDrop=e.showDropIndicator||u,e.dropType=p,t.$emit("node-drag-over",s.node,r.node,i)}}),this.$on("tree-node-drag-end",function(i){var n=e.draggingNode,r=e.dropType,o=e.dropNode;if(i.preventDefault(),i.dataTransfer.dropEffect="move",n&&o){var s={data:n.node.data};"none"!==r&&n.node.remove(),"before"===r?o.node.parent.insertBefore(s,o.node):"after"===r?o.node.parent.insertAfter(s,o.node):"inner"===r&&o.node.insertChild(s),"none"!==r&&t.store.registerNode(s),Object(ft.removeClass)(o.$el,"is-drop-inner"),t.$emit("node-drag-end",n.node,o.node,r,i),"none"!==r&&t.$emit("node-drop",n.node,o.node,r,i)}n&&!o&&t.$emit("node-drag-end",n.node,null,r,i),e.showDropIndicator=!1,e.draggingNode=null,e.dropNode=null,e.allowDrop=!0})},mounted:function(){this.initTabIndex(),this.$el.addEventListener("keydown",this.handleKeydown)},updated:function(){this.treeItems=this.$el.querySelectorAll("[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]")}},Io,[],!1,null,null,null);Wo.options.__file="packages/tree/src/tree.vue";var qo=Wo.exports;qo.install=function(t){t.component(qo.name,qo)};var Jo=qo,Zo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-alert-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-alert",class:[t.typeClass,t.center?"is-center":"","is-"+t.effect],attrs:{role:"alert"}},[t.showIcon?i("i",{staticClass:"el-alert__icon",class:[t.iconClass,t.isBigIcon]}):t._e(),i("div",{staticClass:"el-alert__content"},[t.title||t.$slots.title?i("span",{staticClass:"el-alert__title",class:[t.isBoldTitle]},[t._t("title",[t._v(t._s(t.title))])],2):t._e(),t.$slots.default&&!t.description?i("p",{staticClass:"el-alert__description"},[t._t("default")],2):t._e(),t.description&&!t.$slots.default?i("p",{staticClass:"el-alert__description"},[t._v(t._s(t.description))]):t._e(),i("i",{directives:[{name:"show",rawName:"v-show",value:t.closable,expression:"closable"}],staticClass:"el-alert__closebtn",class:{"is-customed":""!==t.closeText,"el-icon-close":""===t.closeText},on:{click:function(e){t.close()}}},[t._v(t._s(t.closeText))])])])])};Zo._withStripped=!0;var ts={success:"el-icon-success",warning:"el-icon-warning",error:"el-icon-error"},es=r({name:"ElAlert",props:{title:{type:String,default:""},description:{type:String,default:""},type:{type:String,default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,default:"light",validator:function(t){return-1!==["light","dark"].indexOf(t)}}},data:function(){return{visible:!0}},methods:{close:function(){this.visible=!1,this.$emit("close")}},computed:{typeClass:function(){return"el-alert--"+this.type},iconClass:function(){return ts[this.type]||"el-icon-info"},isBigIcon:function(){return this.description||this.$slots.default?"is-big":""},isBoldTitle:function(){return this.description||this.$slots.default?"is-bold":""}}},Zo,[],!1,null,null,null);es.options.__file="packages/alert/src/main.vue";var is=es.exports;is.install=function(t){t.component(is.name,is)};var ns=is,rs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-notification-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],class:["el-notification",t.customClass,t.horizontalClass],style:t.positionStyle,attrs:{role:"alert"},on:{mouseenter:function(e){t.clearTimer()},mouseleave:function(e){t.startTimer()},click:t.click}},[t.type||t.iconClass?i("i",{staticClass:"el-notification__icon",class:[t.typeClass,t.iconClass]}):t._e(),i("div",{staticClass:"el-notification__group",class:{"is-with-icon":t.typeClass||t.iconClass}},[i("h2",{staticClass:"el-notification__title",domProps:{textContent:t._s(t.title)}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.message,expression:"message"}],staticClass:"el-notification__content"},[t._t("default",[t.dangerouslyUseHTMLString?i("p",{domProps:{innerHTML:t._s(t.message)}}):i("p",[t._v(t._s(t.message))])])],2),t.showClose?i("div",{staticClass:"el-notification__closeBtn el-icon-close",on:{click:function(e){return e.stopPropagation(),t.close(e)}}}):t._e()])])])};rs._withStripped=!0;var os={success:"success",info:"info",warning:"warning",error:"error"},ss=r({data:function(){return{visible:!1,title:"",message:"",duration:4500,type:"",showClose:!0,customClass:"",iconClass:"",onClose:null,onClick:null,closed:!1,verticalOffset:0,timer:null,dangerouslyUseHTMLString:!1,position:"top-right"}},computed:{typeClass:function(){return this.type&&os[this.type]?"el-icon-"+os[this.type]:""},horizontalClass:function(){return this.position.indexOf("right")>-1?"right":"left"},verticalProperty:function(){return/^top-/.test(this.position)?"top":"bottom"},positionStyle:function(){var t;return(t={})[this.verticalProperty]=this.verticalOffset+"px",t}},watch:{closed:function(t){t&&(this.visible=!1,this.$el.addEventListener("transitionend",this.destroyElement))}},methods:{destroyElement:function(){this.$el.removeEventListener("transitionend",this.destroyElement),this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},click:function(){"function"==typeof this.onClick&&this.onClick()},close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose()},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var t=this;this.duration>0&&(this.timer=setTimeout(function(){t.closed||t.close()},this.duration))},keydown:function(t){46===t.keyCode||8===t.keyCode?this.clearTimer():27===t.keyCode?this.closed||this.close():this.startTimer()}},mounted:function(){var t=this;this.duration>0&&(this.timer=setTimeout(function(){t.closed||t.close()},this.duration)),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},rs,[],!1,null,null,null);ss.options.__file="packages/notification/src/main.vue";var as=ss.exports,ls=di.a.extend(as),hs=void 0,us=[],cs=1,ds=function t(e){if(!di.a.prototype.$isServer){var i=(e=Vt()({},e)).onClose,n="notification_"+cs++,r=e.position||"top-right";e.onClose=function(){t.close(n,i)},hs=new ls({data:e}),Object(jr.isVNode)(e.message)&&(hs.$slots.default=[e.message],e.message="REPLACED_BY_VNODE"),hs.id=n,hs.$mount(),document.body.appendChild(hs.$el),hs.visible=!0,hs.dom=hs.$el,hs.dom.style.zIndex=y.PopupManager.nextZIndex();var o=e.offset||0;return us.filter(function(t){return t.position===r}).forEach(function(t){o+=t.$el.offsetHeight+16}),o+=16,hs.verticalOffset=o,us.push(hs),hs}};["success","warning","info","error"].forEach(function(t){ds[t]=function(e){return("string"==typeof e||Object(jr.isVNode)(e))&&(e={message:e}),e.type=t,ds(e)}}),ds.close=function(t,e){var i=-1,n=us.length,r=us.filter(function(e,n){return e.id===t&&(i=n,!0)})[0];if(r&&("function"==typeof e&&e(r),us.splice(i,1),!(n<=1)))for(var o=r.position,s=r.dom.offsetHeight,a=i;a<n-1;a++)us[a].position===o&&(us[a].dom.style[r.verticalProperty]=parseInt(us[a].dom.style[r.verticalProperty],10)-s-16+"px")},ds.closeAll=function(){for(var t=us.length-1;t>=0;t--)us[t].close()};var ps=ds,fs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-slider",class:{"is-vertical":t.vertical,"el-slider--with-input":t.showInput},attrs:{role:"slider","aria-valuemin":t.min,"aria-valuemax":t.max,"aria-orientation":t.vertical?"vertical":"horizontal","aria-disabled":t.sliderDisabled}},[t.showInput&&!t.range?i("el-input-number",{ref:"input",staticClass:"el-slider__input",attrs:{step:t.step,disabled:t.sliderDisabled,controls:t.showInputControls,min:t.min,max:t.max,debounce:t.debounce,size:t.inputSize},on:{change:t.emitChange},model:{value:t.firstValue,callback:function(e){t.firstValue=e},expression:"firstValue"}}):t._e(),i("div",{ref:"slider",staticClass:"el-slider__runway",class:{"show-input":t.showInput,disabled:t.sliderDisabled},style:t.runwayStyle,on:{click:t.onSliderClick}},[i("div",{staticClass:"el-slider__bar",style:t.barStyle}),i("slider-button",{ref:"button1",attrs:{vertical:t.vertical,"tooltip-class":t.tooltipClass},model:{value:t.firstValue,callback:function(e){t.firstValue=e},expression:"firstValue"}}),t.range?i("slider-button",{ref:"button2",attrs:{vertical:t.vertical,"tooltip-class":t.tooltipClass},model:{value:t.secondValue,callback:function(e){t.secondValue=e},expression:"secondValue"}}):t._e(),t._l(t.stops,function(e,n){return t.showStops?i("div",{key:n,staticClass:"el-slider__stop",style:t.getStopStyle(e)}):t._e()}),t.markList.length>0?[i("div",t._l(t.markList,function(e,n){return i("div",{key:n,staticClass:"el-slider__stop el-slider__marks-stop",style:t.getStopStyle(e.position)})}),0),i("div",{staticClass:"el-slider__marks"},t._l(t.markList,function(e,n){return i("slider-marker",{key:n,style:t.getStopStyle(e.position),attrs:{mark:e.mark}})}),1)]:t._e()],2)],1)};fs._withStripped=!0;var ms=i(41),gs=i.n(ms),vs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"button",staticClass:"el-slider__button-wrapper",class:{hover:t.hovering,dragging:t.dragging},style:t.wrapperStyle,attrs:{tabindex:"0"},on:{mouseenter:t.handleMouseEnter,mouseleave:t.handleMouseLeave,mousedown:t.onButtonDown,touchstart:t.onButtonDown,focus:t.handleMouseEnter,blur:t.handleMouseLeave,keydown:[function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?"button"in e&&0!==e.button?null:t.onLeftKeyDown(e):null},function(e){return"button"in e||!t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?"button"in e&&2!==e.button?null:t.onRightKeyDown(e):null},function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?(e.preventDefault(),t.onLeftKeyDown(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?(e.preventDefault(),t.onRightKeyDown(e)):null}]}},[i("el-tooltip",{ref:"tooltip",attrs:{placement:"top","popper-class":t.tooltipClass,disabled:!t.showTooltip}},[i("span",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.formatValue))]),i("div",{staticClass:"el-slider__button",class:{hover:t.hovering,dragging:t.dragging}})])],1)};vs._withStripped=!0;var As=r({name:"ElSliderButton",components:{ElTooltip:_t.a},props:{value:{type:Number,default:0},vertical:{type:Boolean,default:!1},tooltipClass:String},data:function(){return{hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:null,oldValue:this.value}},computed:{disabled:function(){return this.$parent.sliderDisabled},max:function(){return this.$parent.max},min:function(){return this.$parent.min},step:function(){return this.$parent.step},showTooltip:function(){return this.$parent.showTooltip},precision:function(){return this.$parent.precision},currentPosition:function(){return(this.value-this.min)/(this.max-this.min)*100+"%"},enableFormat:function(){return this.$parent.formatTooltip instanceof Function},formatValue:function(){return this.enableFormat&&this.$parent.formatTooltip(this.value)||this.value},wrapperStyle:function(){return this.vertical?{bottom:this.currentPosition}:{left:this.currentPosition}}},watch:{dragging:function(t){this.$parent.dragging=t}},methods:{displayTooltip:function(){this.$refs.tooltip&&(this.$refs.tooltip.showPopper=!0)},hideTooltip:function(){this.$refs.tooltip&&(this.$refs.tooltip.showPopper=!1)},handleMouseEnter:function(){this.hovering=!0,this.displayTooltip()},handleMouseLeave:function(){this.hovering=!1,this.hideTooltip()},onButtonDown:function(t){this.disabled||(t.preventDefault(),this.onDragStart(t),window.addEventListener("mousemove",this.onDragging),window.addEventListener("touchmove",this.onDragging),window.addEventListener("mouseup",this.onDragEnd),window.addEventListener("touchend",this.onDragEnd),window.addEventListener("contextmenu",this.onDragEnd))},onLeftKeyDown:function(){this.disabled||(this.newPosition=parseFloat(this.currentPosition)-this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitChange())},onRightKeyDown:function(){this.disabled||(this.newPosition=parseFloat(this.currentPosition)+this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitChange())},onDragStart:function(t){this.dragging=!0,this.isClick=!0,"touchstart"===t.type&&(t.clientY=t.touches[0].clientY,t.clientX=t.touches[0].clientX),this.vertical?this.startY=t.clientY:this.startX=t.clientX,this.startPosition=parseFloat(this.currentPosition),this.newPosition=this.startPosition},onDragging:function(t){if(this.dragging){this.isClick=!1,this.displayTooltip(),this.$parent.resetSize();var e=0;"touchmove"===t.type&&(t.clientY=t.touches[0].clientY,t.clientX=t.touches[0].clientX),this.vertical?(this.currentY=t.clientY,e=(this.startY-this.currentY)/this.$parent.sliderSize*100):(this.currentX=t.clientX,e=(this.currentX-this.startX)/this.$parent.sliderSize*100),this.newPosition=this.startPosition+e,this.setPosition(this.newPosition)}},onDragEnd:function(){var t=this;this.dragging&&(setTimeout(function(){t.dragging=!1,t.hideTooltip(),t.isClick||(t.setPosition(t.newPosition),t.$parent.emitChange())},0),window.removeEventListener("mousemove",this.onDragging),window.removeEventListener("touchmove",this.onDragging),window.removeEventListener("mouseup",this.onDragEnd),window.removeEventListener("touchend",this.onDragEnd),window.removeEventListener("contextmenu",this.onDragEnd))},setPosition:function(t){var e=this;if(null!==t&&!isNaN(t)){t<0?t=0:t>100&&(t=100);var i=100/((this.max-this.min)/this.step),n=Math.round(t/i)*i*(this.max-this.min)*.01+this.min;n=parseFloat(n.toFixed(this.precision)),this.$emit("input",n),this.$nextTick(function(){e.displayTooltip(),e.$refs.tooltip&&e.$refs.tooltip.updatePopper()}),this.dragging||this.value===this.oldValue||(this.oldValue=this.value)}}}},vs,[],!1,null,null,null);As.options.__file="packages/slider/src/button.vue";var ys=As.exports,xs={name:"ElMarker",props:{mark:{type:[String,Object]}},render:function(){var t=arguments[0],e="string"==typeof this.mark?this.mark:this.mark.label;return t("div",{class:"el-slider__marks-text",style:this.mark.style||{}},[e])}},bs=r({name:"ElSlider",mixins:[E.a],inject:{elForm:{default:""}},props:{min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},value:{type:[Number,Array],default:0},showInput:{type:Boolean,default:!1},showInputControls:{type:Boolean,default:!0},inputSize:{type:String,default:"small"},showStops:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!0},formatTooltip:Function,disabled:{type:Boolean,default:!1},range:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},height:{type:String},debounce:{type:Number,default:300},label:{type:String},tooltipClass:String,marks:Object},components:{ElInputNumber:gs.a,SliderButton:ys,SliderMarker:xs},data:function(){return{firstValue:null,secondValue:null,oldValue:null,dragging:!1,sliderSize:1}},watch:{value:function(t,e){this.dragging||Array.isArray(t)&&Array.isArray(e)&&t.every(function(t,i){return t===e[i]})||this.setValues()},dragging:function(t){t||this.setValues()},firstValue:function(t){this.range?this.$emit("input",[this.minValue,this.maxValue]):this.$emit("input",t)},secondValue:function(){this.range&&this.$emit("input",[this.minValue,this.maxValue])},min:function(){this.setValues()},max:function(){this.setValues()}},methods:{valueChanged:function(){var t=this;return this.range?![this.minValue,this.maxValue].every(function(e,i){return e===t.oldValue[i]}):this.value!==this.oldValue},setValues:function(){if(this.min>this.max)console.error("[Element Error][Slider]min should not be greater than max.");else{var t=this.value;this.range&&Array.isArray(t)?t[1]<this.min?this.$emit("input",[this.min,this.min]):t[0]>this.max?this.$emit("input",[this.max,this.max]):t[0]<this.min?this.$emit("input",[this.min,t[1]]):t[1]>this.max?this.$emit("input",[t[0],this.max]):(this.firstValue=t[0],this.secondValue=t[1],this.valueChanged()&&(this.dispatch("ElFormItem","el.form.change",[this.minValue,this.maxValue]),this.oldValue=t.slice())):this.range||"number"!=typeof t||isNaN(t)||(t<this.min?this.$emit("input",this.min):t>this.max?this.$emit("input",this.max):(this.firstValue=t,this.valueChanged()&&(this.dispatch("ElFormItem","el.form.change",t),this.oldValue=t)))}},setPosition:function(t){var e=this.min+t*(this.max-this.min)/100;if(this.range){var i=void 0;i=Math.abs(this.minValue-e)<Math.abs(this.maxValue-e)?this.firstValue<this.secondValue?"button1":"button2":this.firstValue>this.secondValue?"button1":"button2",this.$refs[i].setPosition(t)}else this.$refs.button1.setPosition(t)},onSliderClick:function(t){if(!this.sliderDisabled&&!this.dragging){if(this.resetSize(),this.vertical){var e=this.$refs.slider.getBoundingClientRect().bottom;this.setPosition((e-t.clientY)/this.sliderSize*100)}else{var i=this.$refs.slider.getBoundingClientRect().left;this.setPosition((t.clientX-i)/this.sliderSize*100)}this.emitChange()}},resetSize:function(){this.$refs.slider&&(this.sliderSize=this.$refs.slider["client"+(this.vertical?"Height":"Width")])},emitChange:function(){var t=this;this.$nextTick(function(){t.$emit("change",t.range?[t.minValue,t.maxValue]:t.value)})},getStopStyle:function(t){return this.vertical?{bottom:t+"%"}:{left:t+"%"}}},computed:{stops:function(){var t=this;if(!this.showStops||this.min>this.max)return[];if(0===this.step)return[];for(var e=(this.max-this.min)/this.step,i=100*this.step/(this.max-this.min),n=[],r=1;r<e;r++)n.push(r*i);return this.range?n.filter(function(e){return e<100*(t.minValue-t.min)/(t.max-t.min)||e>100*(t.maxValue-t.min)/(t.max-t.min)}):n.filter(function(e){return e>100*(t.firstValue-t.min)/(t.max-t.min)})},markList:function(){var t=this;return this.marks?Object.keys(this.marks).map(parseFloat).sort(function(t,e){return t-e}).filter(function(e){return e<=t.max&&e>=t.min}).map(function(e){return{point:e,position:100*(e-t.min)/(t.max-t.min),mark:t.marks[e]}}):[]},minValue:function(){return Math.min(this.firstValue,this.secondValue)},maxValue:function(){return Math.max(this.firstValue,this.secondValue)},barSize:function(){return this.range?100*(this.maxValue-this.minValue)/(this.max-this.min)+"%":100*(this.firstValue-this.min)/(this.max-this.min)+"%"},barStart:function(){return this.range?100*(this.minValue-this.min)/(this.max-this.min)+"%":"0%"},precision:function(){var t=[this.min,this.max,this.step].map(function(t){var e=(""+t).split(".")[1];return e?e.length:0});return Math.max.apply(null,t)},runwayStyle:function(){return this.vertical?{height:this.height}:{}},barStyle:function(){return this.vertical?{height:this.barSize,bottom:this.barStart}:{width:this.barSize,left:this.barStart}},sliderDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},mounted:function(){var t=void 0;this.range?(Array.isArray(this.value)?(this.firstValue=Math.max(this.min,this.value[0]),this.secondValue=Math.min(this.max,this.value[1])):(this.firstValue=this.min,this.secondValue=this.max),this.oldValue=[this.firstValue,this.secondValue],t=this.firstValue+"-"+this.secondValue):("number"!=typeof this.value||isNaN(this.value)?this.firstValue=this.min:this.firstValue=Math.min(this.max,Math.max(this.min,this.value)),this.oldValue=this.firstValue,t=this.firstValue),this.$el.setAttribute("aria-valuetext",t),this.$el.setAttribute("aria-label",this.label?this.label:"slider between "+this.min+" and "+this.max),this.resetSize(),window.addEventListener("resize",this.resetSize)},beforeDestroy:function(){window.removeEventListener("resize",this.resetSize)}},fs,[],!1,null,null,null);bs.options.__file="packages/slider/src/main.vue";var Cs=bs.exports;Cs.install=function(t){t.component(Cs.name,Cs)};var ws=Cs,Es=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-loading-fade"},on:{"after-leave":t.handleAfterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-loading-mask",class:[t.customClass,{"is-fullscreen":t.fullscreen}],style:{backgroundColor:t.background||""}},[i("div",{staticClass:"el-loading-spinner"},[t.spinner?i("i",{class:t.spinner}):i("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[i("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})]),t.text?i("p",{staticClass:"el-loading-text"},[t._v(t._s(t.text))]):t._e()])])])};Es._withStripped=!0;var Ss=r({data:function(){return{text:null,spinner:null,background:null,fullscreen:!0,visible:!1,customClass:""}},methods:{handleAfterLeave:function(){this.$emit("after-leave")},setText:function(t){this.text=t}}},Es,[],!1,null,null,null);Ss.options.__file="packages/loading/src/loading.vue";var Ts=Ss.exports,_s=i(33),Ms=i.n(_s),ks=di.a.extend(Ts),Bs={install:function(t){if(!t.prototype.$isServer){var e=function(e,n){n.value?t.nextTick(function(){n.modifiers.fullscreen?(e.originalPosition=Object(ft.getStyle)(document.body,"position"),e.originalOverflow=Object(ft.getStyle)(document.body,"overflow"),e.maskStyle.zIndex=y.PopupManager.nextZIndex(),Object(ft.addClass)(e.mask,"is-fullscreen"),i(document.body,e,n)):(Object(ft.removeClass)(e.mask,"is-fullscreen"),n.modifiers.body?(e.originalPosition=Object(ft.getStyle)(document.body,"position"),["top","left"].forEach(function(t){var i="top"===t?"scrollTop":"scrollLeft";e.maskStyle[t]=e.getBoundingClientRect()[t]+document.body[i]+document.documentElement[i]-parseInt(Object(ft.getStyle)(document.body,"margin-"+t),10)+"px"}),["height","width"].forEach(function(t){e.maskStyle[t]=e.getBoundingClientRect()[t]+"px"}),i(document.body,e,n)):(e.originalPosition=Object(ft.getStyle)(e,"position"),i(e,e,n)))}):(Ms()(e.instance,function(t){if(e.instance.hiding){e.domVisible=!1;var i=n.modifiers.fullscreen||n.modifiers.body?document.body:e;Object(ft.removeClass)(i,"el-loading-parent--relative"),Object(ft.removeClass)(i,"el-loading-parent--hidden"),e.instance.hiding=!1}},300,!0),e.instance.visible=!1,e.instance.hiding=!0)},i=function(e,i,n){i.domVisible||"none"===Object(ft.getStyle)(i,"display")||"hidden"===Object(ft.getStyle)(i,"visibility")?i.domVisible&&!0===i.instance.hiding&&(i.instance.visible=!0,i.instance.hiding=!1):(Object.keys(i.maskStyle).forEach(function(t){i.mask.style[t]=i.maskStyle[t]}),"absolute"!==i.originalPosition&&"fixed"!==i.originalPosition&&Object(ft.addClass)(e,"el-loading-parent--relative"),n.modifiers.fullscreen&&n.modifiers.lock&&Object(ft.addClass)(e,"el-loading-parent--hidden"),i.domVisible=!0,e.appendChild(i.mask),t.nextTick(function(){i.instance.hiding?i.instance.$emit("after-leave"):i.instance.visible=!0}),i.domInserted=!0)};t.directive("loading",{bind:function(t,i,n){var r=t.getAttribute("element-loading-text"),o=t.getAttribute("element-loading-spinner"),s=t.getAttribute("element-loading-background"),a=t.getAttribute("element-loading-custom-class"),l=n.context,h=new ks({el:document.createElement("div"),data:{text:l&&l[r]||r,spinner:l&&l[o]||o,background:l&&l[s]||s,customClass:l&&l[a]||a,fullscreen:!!i.modifiers.fullscreen}});t.instance=h,t.mask=h.$el,t.maskStyle={},i.value&&e(t,i)},update:function(t,i){t.instance.setText(t.getAttribute("element-loading-text")),i.oldValue!==i.value&&e(t,i)},unbind:function(t,i){t.domInserted&&(t.mask&&t.mask.parentNode&&t.mask.parentNode.removeChild(t.mask),e(t,{value:!1,modifiers:i.modifiers})),t.instance&&t.instance.$destroy()}})}}},Os=Bs,Ps=di.a.extend(Ts),Ls={text:null,fullscreen:!0,body:!1,lock:!1,customClass:""},Ns=void 0;Ps.prototype.originalPosition="",Ps.prototype.originalOverflow="",Ps.prototype.close=function(){var t=this;this.fullscreen&&(Ns=void 0),Ms()(this,function(e){var i=t.fullscreen||t.body?document.body:t.target;Object(ft.removeClass)(i,"el-loading-parent--relative"),Object(ft.removeClass)(i,"el-loading-parent--hidden"),t.$el&&t.$el.parentNode&&t.$el.parentNode.removeChild(t.$el),t.$destroy()},300),this.visible=!1};var Is=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!di.a.prototype.$isServer){if("string"==typeof(t=Vt()({},Ls,t)).target&&(t.target=document.querySelector(t.target)),t.target=t.target||document.body,t.target!==document.body?t.fullscreen=!1:t.body=!0,t.fullscreen&&Ns)return Ns;var e=t.body?document.body:t.target,i=new Ps({el:document.createElement("div"),data:t});return function(t,e,i){var n={};t.fullscreen?(i.originalPosition=Object(ft.getStyle)(document.body,"position"),i.originalOverflow=Object(ft.getStyle)(document.body,"overflow"),n.zIndex=y.PopupManager.nextZIndex()):t.body?(i.originalPosition=Object(ft.getStyle)(document.body,"position"),["top","left"].forEach(function(e){var i="top"===e?"scrollTop":"scrollLeft";n[e]=t.target.getBoundingClientRect()[e]+document.body[i]+document.documentElement[i]+"px"}),["height","width"].forEach(function(e){n[e]=t.target.getBoundingClientRect()[e]+"px"})):i.originalPosition=Object(ft.getStyle)(e,"position"),Object.keys(n).forEach(function(t){i.$el.style[t]=n[t]})}(t,e,i),"absolute"!==i.originalPosition&&"fixed"!==i.originalPosition&&Object(ft.addClass)(e,"el-loading-parent--relative"),t.fullscreen&&t.lock&&Object(ft.addClass)(e,"el-loading-parent--hidden"),e.appendChild(i.$el),di.a.nextTick(function(){i.visible=!0}),t.fullscreen&&(Ns=i),i}},Ds={install:function(t){t.use(Os),t.prototype.$loading=Is},directive:Os,service:Is},Rs=function(){var t=this.$createElement;return(this._self._c||t)("i",{class:"el-icon-"+this.name})};Rs._withStripped=!0;var Fs=r({name:"ElIcon",props:{name:String}},Rs,[],!1,null,null,null);Fs.options.__file="packages/icon/src/icon.vue";var Hs=Fs.exports;Hs.install=function(t){t.component(Hs.name,Hs)};var Us=Hs,Vs={name:"ElRow",componentName:"ElRow",props:{tag:{type:String,default:"div"},gutter:Number,type:String,justify:{type:String,default:"start"},align:{type:String,default:"top"}},computed:{style:function(){var t={};return this.gutter&&(t.marginLeft="-"+this.gutter/2+"px",t.marginRight=t.marginLeft),t}},render:function(t){return t(this.tag,{class:["el-row","start"!==this.justify?"is-justify-"+this.justify:"","top"!==this.align?"is-align-"+this.align:"",{"el-row--flex":"flex"===this.type}],style:this.style},this.$slots.default)},install:function(t){t.component(Vs.name,Vs)}},js=Vs,Gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs={name:"ElCol",props:{span:{type:Number,default:24},tag:{type:String,default:"div"},offset:Number,pull:Number,push:Number,xs:[Number,Object],sm:[Number,Object],md:[Number,Object],lg:[Number,Object],xl:[Number,Object]},computed:{gutter:function(){for(var t=this.$parent;t&&"ElRow"!==t.$options.componentName;)t=t.$parent;return t?t.gutter:0}},render:function(t){var e=this,i=[],n={};return this.gutter&&(n.paddingLeft=this.gutter/2+"px",n.paddingRight=n.paddingLeft),["span","offset","pull","push"].forEach(function(t){(e[t]||0===e[t])&&i.push("span"!==t?"el-col-"+t+"-"+e[t]:"el-col-"+e[t])}),["xs","sm","md","lg","xl"].forEach(function(t){if("number"==typeof e[t])i.push("el-col-"+t+"-"+e[t]);else if("object"===Gs(e[t])){var n=e[t];Object.keys(n).forEach(function(e){i.push("span"!==e?"el-col-"+t+"-"+e+"-"+n[e]:"el-col-"+t+"-"+n[e])})}}),t(this.tag,{class:["el-col",i],style:n},this.$slots.default)},install:function(t){t.component(zs.name,zs)}},Qs=zs,Ys=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition-group",{class:["el-upload-list","el-upload-list--"+t.listType,{"is-disabled":t.disabled}],attrs:{tag:"ul",name:"el-list"}},t._l(t.files,function(e){return i("li",{key:e.uid,class:["el-upload-list__item","is-"+e.status,t.focusing?"focusing":""],attrs:{tabindex:"0"},on:{keydown:function(i){if(!("button"in i)&&t._k(i.keyCode,"delete",[8,46],i.key,["Backspace","Delete","Del"]))return null;!t.disabled&&t.$emit("remove",e)},focus:function(e){t.focusing=!0},blur:function(e){t.focusing=!1},click:function(e){t.focusing=!1}}},[t._t("default",["uploading"!==e.status&&["picture-card","picture"].indexOf(t.listType)>-1?i("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:e.url,alt:""}}):t._e(),i("a",{staticClass:"el-upload-list__item-name",on:{click:function(i){t.handleClick(e)}}},[i("i",{staticClass:"el-icon-document"}),t._v(t._s(e.name)+"\n      ")]),i("label",{staticClass:"el-upload-list__item-status-label"},[i("i",{class:{"el-icon-upload-success":!0,"el-icon-circle-check":"text"===t.listType,"el-icon-check":["picture-card","picture"].indexOf(t.listType)>-1}})]),t.disabled?t._e():i("i",{staticClass:"el-icon-close",on:{click:function(i){t.$emit("remove",e)}}}),t.disabled?t._e():i("i",{staticClass:"el-icon-close-tip"},[t._v(t._s(t.t("el.upload.deleteTip")))]),"uploading"===e.status?i("el-progress",{attrs:{type:"picture-card"===t.listType?"circle":"line","stroke-width":"picture-card"===t.listType?6:2,percentage:t.parsePercentage(e.percentage)}}):t._e(),"picture-card"===t.listType?i("span",{staticClass:"el-upload-list__item-actions"},[t.handlePreview&&"picture-card"===t.listType?i("span",{staticClass:"el-upload-list__item-preview",on:{click:function(i){t.handlePreview(e)}}},[i("i",{staticClass:"el-icon-zoom-in"})]):t._e(),t.disabled?t._e():i("span",{staticClass:"el-upload-list__item-delete",on:{click:function(i){t.$emit("remove",e)}}},[i("i",{staticClass:"el-icon-delete"})])]):t._e()],{file:e})],2)}),0)};Ys._withStripped=!0;var Ks=i(34),Xs=i.n(Ks),$s=r({name:"ElUploadList",mixins:[f.a],data:function(){return{focusing:!1}},components:{ElProgress:Xs.a},props:{files:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},handlePreview:Function,listType:String},methods:{parsePercentage:function(t){return parseInt(t,10)},handleClick:function(t){this.handlePreview&&this.handlePreview(t)}}},Ys,[],!1,null,null,null);$s.options.__file="packages/upload/src/upload-list.vue";var Ws=$s.exports,qs=i(24),Js=i.n(qs);var Zs=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"el-upload-dragger",class:{"is-dragover":t.dragover},on:{drop:function(e){return e.preventDefault(),t.onDrop(e)},dragover:function(e){return e.preventDefault(),t.onDragover(e)},dragleave:function(e){e.preventDefault(),t.dragover=!1}}},[t._t("default")],2)};Zs._withStripped=!0;var ta=r({name:"ElUploadDrag",props:{disabled:Boolean},inject:{uploader:{default:""}},data:function(){return{dragover:!1}},methods:{onDragover:function(){this.disabled||(this.dragover=!0)},onDrop:function(t){if(!this.disabled&&this.uploader){var e=this.uploader.accept;this.dragover=!1,e?this.$emit("file",[].slice.call(t.dataTransfer.files).filter(function(t){var i=t.type,n=t.name,r=n.indexOf(".")>-1?"."+n.split(".").pop():"",o=i.replace(/\/.*$/,"");return e.split(",").map(function(t){return t.trim()}).filter(function(t){return t}).some(function(t){return/\..+$/.test(t)?r===t:/\/\*$/.test(t)?o===t.replace(/\/\*$/,""):!!/^[^\/]+\/[^\/]+$/.test(t)&&i===t})})):this.$emit("file",t.dataTransfer.files)}}}},Zs,[],!1,null,null,null);ta.options.__file="packages/upload/src/upload-dragger.vue";var ea=r({inject:["uploader"],components:{UploadDragger:ta.exports},props:{type:String,action:{type:String,required:!0},name:{type:String,default:"file"},data:Object,headers:Object,withCredentials:Boolean,multiple:Boolean,accept:String,onStart:Function,onProgress:Function,onSuccess:Function,onError:Function,beforeUpload:Function,drag:Boolean,onPreview:{type:Function,default:function(){}},onRemove:{type:Function,default:function(){}},fileList:Array,autoUpload:Boolean,listType:String,httpRequest:{type:Function,default:function(t){if("undefined"!=typeof XMLHttpRequest){var e=new XMLHttpRequest,i=t.action;e.upload&&(e.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.onProgress(e)});var n=new FormData;t.data&&Object.keys(t.data).forEach(function(e){n.append(e,t.data[e])}),n.append(t.filename,t.file,t.file.name),e.onerror=function(e){t.onError(e)},e.onload=function(){if(e.status<200||e.status>=300)return t.onError(function(t,e,i){var n=void 0;n=i.response?""+(i.response.error||i.response):i.responseText?""+i.responseText:"fail to post "+t+" "+i.status;var r=new Error(n);return r.status=i.status,r.method="post",r.url=t,r}(i,0,e));t.onSuccess(function(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(t){return e}}(e))},e.open("post",i,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var r=t.headers||{};for(var o in r)r.hasOwnProperty(o)&&null!==r[o]&&e.setRequestHeader(o,r[o]);return e.send(n),e}}},disabled:Boolean,limit:Number,onExceed:Function},data:function(){return{mouseover:!1,reqs:{}}},methods:{isImage:function(t){return-1!==t.indexOf("image")},handleChange:function(t){var e=t.target.files;e&&this.uploadFiles(e)},uploadFiles:function(t){var e=this;if(this.limit&&this.fileList.length+t.length>this.limit)this.onExceed&&this.onExceed(t,this.fileList);else{var i=Array.prototype.slice.call(t);this.multiple||(i=i.slice(0,1)),0!==i.length&&i.forEach(function(t){e.onStart(t),e.autoUpload&&e.upload(t)})}},upload:function(t){var e=this;if(this.$refs.input.value=null,!this.beforeUpload)return this.post(t);var i=this.beforeUpload(t);i&&i.then?i.then(function(i){var n=Object.prototype.toString.call(i);if("[object File]"===n||"[object Blob]"===n){for(var r in"[object Blob]"===n&&(i=new File([i],t.name,{type:t.type})),t)t.hasOwnProperty(r)&&(i[r]=t[r]);e.post(i)}else e.post(t)},function(){e.onRemove(null,t)}):!1!==i?this.post(t):this.onRemove(null,t)},abort:function(t){var e=this.reqs;if(t){var i=t;t.uid&&(i=t.uid),e[i]&&e[i].abort()}else Object.keys(e).forEach(function(t){e[t]&&e[t].abort(),delete e[t]})},post:function(t){var e=this,i=t.uid,n={headers:this.headers,withCredentials:this.withCredentials,file:t,data:this.data,filename:this.name,action:this.action,onProgress:function(i){e.onProgress(i,t)},onSuccess:function(n){e.onSuccess(n,t),delete e.reqs[i]},onError:function(n){e.onError(n,t),delete e.reqs[i]}},r=this.httpRequest(n);this.reqs[i]=r,r&&r.then&&r.then(n.onSuccess,n.onError)},handleClick:function(){this.disabled||(this.$refs.input.value=null,this.$refs.input.click())},handleKeydown:function(t){t.target===t.currentTarget&&(13!==t.keyCode&&32!==t.keyCode||this.handleClick())}},render:function(t){var e=this.handleClick,i=this.drag,n=this.name,r=this.handleChange,o=this.multiple,s=this.accept,a=this.listType,l=this.uploadFiles,h=this.disabled,u={class:{"el-upload":!0},on:{click:e,keydown:this.handleKeydown}};return u.class["el-upload--"+a]=!0,t("div",Js()([u,{attrs:{tabindex:"0"}}]),[i?t("upload-dragger",{attrs:{disabled:h},on:{file:l}},[this.$slots.default]):this.$slots.default,t("input",{class:"el-upload__input",attrs:{type:"file",name:n,multiple:o,accept:s},ref:"input",on:{change:r}})])}},void 0,void 0,!1,null,null,null);ea.options.__file="packages/upload/src/upload.vue";var ia=ea.exports;function na(){}var ra=r({name:"ElUpload",mixins:[C.a],components:{ElProgress:Xs.a,UploadList:Ws,Upload:ia},provide:function(){return{uploader:this}},inject:{elForm:{default:""}},props:{action:{type:String,required:!0},headers:{type:Object,default:function(){return{}}},data:Object,multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,dragger:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:String,type:{type:String,default:"select"},beforeUpload:Function,beforeRemove:Function,onRemove:{type:Function,default:na},onChange:{type:Function,default:na},onPreview:{type:Function},onSuccess:{type:Function,default:na},onProgress:{type:Function,default:na},onError:{type:Function,default:na},fileList:{type:Array,default:function(){return[]}},autoUpload:{type:Boolean,default:!0},listType:{type:String,default:"text"},httpRequest:Function,disabled:Boolean,limit:Number,onExceed:{type:Function,default:na}},data:function(){return{uploadFiles:[],dragOver:!1,draging:!1,tempIndex:1}},computed:{uploadDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{listType:function(t){"picture-card"!==t&&"picture"!==t||(this.uploadFiles=this.uploadFiles.map(function(t){if(!t.url&&t.raw)try{t.url=URL.createObjectURL(t.raw)}catch(t){console.error("[Element Error][Upload]",t)}return t}))},fileList:{immediate:!0,handler:function(t){var e=this;this.uploadFiles=t.map(function(t){return t.uid=t.uid||Date.now()+e.tempIndex++,t.status=t.status||"success",t})}}},methods:{handleStart:function(t){t.uid=Date.now()+this.tempIndex++;var e={status:"ready",name:t.name,size:t.size,percentage:0,uid:t.uid,raw:t};if("picture-card"===this.listType||"picture"===this.listType)try{e.url=URL.createObjectURL(t)}catch(t){return void console.error("[Element Error][Upload]",t)}this.uploadFiles.push(e),this.onChange(e,this.uploadFiles)},handleProgress:function(t,e){var i=this.getFile(e);this.onProgress(t,i,this.uploadFiles),i.status="uploading",i.percentage=t.percent||0},handleSuccess:function(t,e){var i=this.getFile(e);i&&(i.status="success",i.response=t,this.onSuccess(t,i,this.uploadFiles),this.onChange(i,this.uploadFiles))},handleError:function(t,e){var i=this.getFile(e),n=this.uploadFiles;i.status="fail",n.splice(n.indexOf(i),1),this.onError(t,i,this.uploadFiles),this.onChange(i,this.uploadFiles)},handleRemove:function(t,e){var i=this;e&&(t=this.getFile(e));var n=function(){i.abort(t);var e=i.uploadFiles;e.splice(e.indexOf(t),1),i.onRemove(t,e)};if(this.beforeRemove){if("function"==typeof this.beforeRemove){var r=this.beforeRemove(t,this.uploadFiles);r&&r.then?r.then(function(){n()},na):!1!==r&&n()}}else n()},getFile:function(t){var e=void 0;return this.uploadFiles.every(function(i){return!(e=t.uid===i.uid?i:null)}),e},abort:function(t){this.$refs["upload-inner"].abort(t)},clearFiles:function(){this.uploadFiles=[]},submit:function(){var t=this;this.uploadFiles.filter(function(t){return"ready"===t.status}).forEach(function(e){t.$refs["upload-inner"].upload(e.raw)})},getMigratingConfig:function(){return{props:{"default-file-list":"default-file-list is renamed to file-list.","show-upload-list":"show-upload-list is renamed to show-file-list.","thumbnail-mode":"thumbnail-mode has been deprecated, you can implement the same effect according to this case: http://element.eleme.io/#/zh-CN/component/upload#yong-hu-tou-xiang-shang-chuan"}}}},beforeDestroy:function(){this.uploadFiles.forEach(function(t){t.url&&0===t.url.indexOf("blob:")&&URL.revokeObjectURL(t.url)})},render:function(t){var e=this,i=void 0;this.showFileList&&(i=t(Ws,{attrs:{disabled:this.uploadDisabled,listType:this.listType,files:this.uploadFiles,handlePreview:this.onPreview},on:{remove:this.handleRemove}},[function(t){if(e.$scopedSlots.file)return e.$scopedSlots.file({file:t.file})}]));var n=t("upload",{props:{type:this.type,drag:this.drag,action:this.action,multiple:this.multiple,"before-upload":this.beforeUpload,"with-credentials":this.withCredentials,headers:this.headers,name:this.name,data:this.data,accept:this.accept,fileList:this.uploadFiles,autoUpload:this.autoUpload,listType:this.listType,disabled:this.uploadDisabled,limit:this.limit,"on-exceed":this.onExceed,"on-start":this.handleStart,"on-progress":this.handleProgress,"on-success":this.handleSuccess,"on-error":this.handleError,"on-preview":this.onPreview,"on-remove":this.handleRemove,"http-request":this.httpRequest},ref:"upload-inner"},[this.$slots.trigger||this.$slots.default]);return t("div",["picture-card"===this.listType?i:"",this.$slots.trigger?[n,this.$slots.default]:n,this.$slots.tip,"picture-card"!==this.listType?i:""])}},void 0,void 0,!1,null,null,null);ra.options.__file="packages/upload/src/index.vue";var oa=ra.exports;oa.install=function(t){t.component(oa.name,oa)};var sa=oa,aa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-progress",class:["el-progress--"+t.type,t.status?"is-"+t.status:"",{"el-progress--without-text":!t.showText,"el-progress--text-inside":t.textInside}],attrs:{role:"progressbar","aria-valuenow":t.percentage,"aria-valuemin":"0","aria-valuemax":"100"}},["line"===t.type?i("div",{staticClass:"el-progress-bar"},[i("div",{staticClass:"el-progress-bar__outer",style:{height:t.strokeWidth+"px"}},[i("div",{staticClass:"el-progress-bar__inner",style:t.barStyle},[t.showText&&t.textInside?i("div",{staticClass:"el-progress-bar__innerText"},[t._v(t._s(t.content))]):t._e()])])]):i("div",{staticClass:"el-progress-circle",style:{height:t.width+"px",width:t.width+"px"}},[i("svg",{attrs:{viewBox:"0 0 100 100"}},[i("path",{staticClass:"el-progress-circle__track",style:t.trailPathStyle,attrs:{d:t.trackPath,stroke:"#e5e9f2","stroke-width":t.relativeStrokeWidth,fill:"none"}}),i("path",{staticClass:"el-progress-circle__path",style:t.circlePathStyle,attrs:{d:t.trackPath,stroke:t.stroke,fill:"none","stroke-linecap":t.strokeLinecap,"stroke-width":t.percentage?t.relativeStrokeWidth:0}})])]),t.showText&&!t.textInside?i("div",{staticClass:"el-progress__text",style:{fontSize:t.progressTextSize+"px"}},[t.status?i("i",{class:t.iconClass}):[t._v(t._s(t.content))]],2):t._e()])};aa._withStripped=!0;var la=r({name:"ElProgress",props:{type:{type:String,default:"line",validator:function(t){return["line","circle","dashboard"].indexOf(t)>-1}},percentage:{type:Number,default:0,required:!0,validator:function(t){return t>=0&&t<=100}},status:{type:String,validator:function(t){return["success","exception","warning"].indexOf(t)>-1}},strokeWidth:{type:Number,default:6},strokeLinecap:{type:String,default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:[String,Array,Function],default:""},format:Function},computed:{barStyle:function(){var t={};return t.width=this.percentage+"%",t.backgroundColor=this.getCurrentColor(this.percentage),t},relativeStrokeWidth:function(){return(this.strokeWidth/this.width*100).toFixed(1)},radius:function(){return"circle"===this.type||"dashboard"===this.type?parseInt(50-parseFloat(this.relativeStrokeWidth)/2,10):0},trackPath:function(){var t=this.radius,e="dashboard"===this.type;return"\n        M 50 50\n        m 0 "+(e?"":"-")+t+"\n        a "+t+" "+t+" 0 1 1 0 "+(e?"-":"")+2*t+"\n        a "+t+" "+t+" 0 1 1 0 "+(e?"":"-")+2*t+"\n        "},perimeter:function(){return 2*Math.PI*this.radius},rate:function(){return"dashboard"===this.type?.75:1},strokeDashoffset:function(){return-1*this.perimeter*(1-this.rate)/2+"px"},trailPathStyle:function(){return{strokeDasharray:this.perimeter*this.rate+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset}},circlePathStyle:function(){return{strokeDasharray:this.perimeter*this.rate*(this.percentage/100)+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"}},stroke:function(){var t=void 0;if(this.color)t=this.getCurrentColor(this.percentage);else switch(this.status){case"success":t="#13ce66";break;case"exception":t="#ff4949";break;case"warning":t="#e6a23c";break;default:t="#20a0ff"}return t},iconClass:function(){return"warning"===this.status?"el-icon-warning":"line"===this.type?"success"===this.status?"el-icon-circle-check":"el-icon-circle-close":"success"===this.status?"el-icon-check":"el-icon-close"},progressTextSize:function(){return"line"===this.type?12+.4*this.strokeWidth:.111111*this.width+2},content:function(){return"function"==typeof this.format?this.format(this.percentage)||"":this.percentage+"%"}},methods:{getCurrentColor:function(t){return"function"==typeof this.color?this.color(t):"string"==typeof this.color?this.color:this.getLevelColor(t)},getLevelColor:function(t){for(var e=this.getColorArray().sort(function(t,e){return t.percentage-e.percentage}),i=0;i<e.length;i++)if(e[i].percentage>t)return e[i].color;return e[e.length-1].color},getColorArray:function(){var t=this.color,e=100/t.length;return t.map(function(t,i){return"string"==typeof t?{color:t,progress:(i+1)*e}:t})}}},aa,[],!1,null,null,null);la.options.__file="packages/progress/src/progress.vue";var ha=la.exports;ha.install=function(t){t.component(ha.name,ha)};var ua=ha,ca=function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"el-spinner"},[e("svg",{staticClass:"el-spinner-inner",style:{width:this.radius/2+"px",height:this.radius/2+"px"},attrs:{viewBox:"0 0 50 50"}},[e("circle",{staticClass:"path",attrs:{cx:"25",cy:"25",r:"20",fill:"none",stroke:this.strokeColor,"stroke-width":this.strokeWidth}})])])};ca._withStripped=!0;var da=r({name:"ElSpinner",props:{type:String,radius:{type:Number,default:100},strokeWidth:{type:Number,default:5},strokeColor:{type:String,default:"#efefef"}}},ca,[],!1,null,null,null);da.options.__file="packages/spinner/src/spinner.vue";var pa=da.exports;pa.install=function(t){t.component(pa.name,pa)};var fa=pa,ma=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-message-fade"},on:{"after-leave":t.handleAfterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],class:["el-message",t.type&&!t.iconClass?"el-message--"+t.type:"",t.center?"is-center":"",t.showClose?"is-closable":"",t.customClass],style:t.positionStyle,attrs:{role:"alert"},on:{mouseenter:t.clearTimer,mouseleave:t.startTimer}},[t.iconClass?i("i",{class:t.iconClass}):i("i",{class:t.typeClass}),t._t("default",[t.dangerouslyUseHTMLString?i("p",{staticClass:"el-message__content",domProps:{innerHTML:t._s(t.message)}}):i("p",{staticClass:"el-message__content"},[t._v(t._s(t.message))])]),t.showClose?i("i",{staticClass:"el-message__closeBtn el-icon-close",on:{click:t.close}}):t._e()],2)])};ma._withStripped=!0;var ga={success:"success",info:"info",warning:"warning",error:"error"},va=r({data:function(){return{visible:!1,message:"",duration:3e3,type:"info",iconClass:"",customClass:"",onClose:null,showClose:!1,closed:!1,verticalOffset:20,timer:null,dangerouslyUseHTMLString:!1,center:!1}},computed:{typeClass:function(){return this.type&&!this.iconClass?"el-message__icon el-icon-"+ga[this.type]:""},positionStyle:function(){return{top:this.verticalOffset+"px"}}},watch:{closed:function(t){t&&(this.visible=!1)}},methods:{handleAfterLeave:function(){this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose(this)},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var t=this;this.duration>0&&(this.timer=setTimeout(function(){t.closed||t.close()},this.duration))},keydown:function(t){27===t.keyCode&&(this.closed||this.close())}},mounted:function(){this.startTimer(),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},ma,[],!1,null,null,null);va.options.__file="packages/message/src/main.vue";var Aa=va.exports,ya=di.a.extend(Aa),xa=void 0,ba=[],Ca=1,wa=function t(e){if(!di.a.prototype.$isServer){"string"==typeof(e=e||{})&&(e={message:e});var i=e.onClose,n="message_"+Ca++;e.onClose=function(){t.close(n,i)},(xa=new ya({data:e})).id=n,Object(jr.isVNode)(xa.message)&&(xa.$slots.default=[xa.message],xa.message=null),xa.$mount(),document.body.appendChild(xa.$el);var r=e.offset||20;return ba.forEach(function(t){r+=t.$el.offsetHeight+16}),xa.verticalOffset=r,xa.visible=!0,xa.$el.style.zIndex=y.PopupManager.nextZIndex(),ba.push(xa),xa}};["success","warning","info","error"].forEach(function(t){wa[t]=function(e){return"string"==typeof e&&(e={message:e}),e.type=t,wa(e)}}),wa.close=function(t,e){for(var i=ba.length,n=-1,r=void 0,o=0;o<i;o++)if(t===ba[o].id){r=ba[o].$el.offsetHeight,n=o,"function"==typeof e&&e(ba[o]),ba.splice(o,1);break}if(!(i<=1||-1===n||n>ba.length-1))for(var s=n;s<i-1;s++){var a=ba[s].$el;a.style.top=parseInt(a.style.top,10)-r-16+"px"}},wa.closeAll=function(){for(var t=ba.length-1;t>=0;t--)ba[t].close()};var Ea=wa,Sa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-badge"},[t._t("default"),i("transition",{attrs:{name:"el-zoom-in-center"}},[i("sup",{directives:[{name:"show",rawName:"v-show",value:!t.hidden&&(t.content||0===t.content||t.isDot),expression:"!hidden && (content || content === 0 || isDot)"}],staticClass:"el-badge__content",class:["el-badge__content--"+t.type,{"is-fixed":t.$slots.default,"is-dot":t.isDot}],domProps:{textContent:t._s(t.content)}})])],2)};Sa._withStripped=!0;var Ta=r({name:"ElBadge",props:{value:[String,Number],max:Number,isDot:Boolean,hidden:Boolean,type:{type:String,validator:function(t){return["primary","success","warning","info","danger"].indexOf(t)>-1}}},computed:{content:function(){if(!this.isDot){var t=this.value,e=this.max;return"number"==typeof t&&"number"==typeof e&&e<t?e+"+":t}}}},Sa,[],!1,null,null,null);Ta.options.__file="packages/badge/src/main.vue";var _a=Ta.exports;_a.install=function(t){t.component(_a.name,_a)};var Ma=_a,ka=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-card",class:t.shadow?"is-"+t.shadow+"-shadow":"is-always-shadow"},[t.$slots.header||t.header?i("div",{staticClass:"el-card__header"},[t._t("header",[t._v(t._s(t.header))])],2):t._e(),i("div",{staticClass:"el-card__body",style:t.bodyStyle},[t._t("default")],2)])};ka._withStripped=!0;var Ba=r({name:"ElCard",props:{header:{},bodyStyle:{},shadow:{type:String}}},ka,[],!1,null,null,null);Ba.options.__file="packages/card/src/main.vue";var Oa=Ba.exports;Oa.install=function(t){t.component(Oa.name,Oa)};var Pa=Oa,La=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-rate",attrs:{role:"slider","aria-valuenow":t.currentValue,"aria-valuetext":t.text,"aria-valuemin":"0","aria-valuemax":t.max,tabindex:"0"},on:{keydown:t.handleKey}},[t._l(t.max,function(e,n){return i("span",{key:n,staticClass:"el-rate__item",style:{cursor:t.rateDisabled?"auto":"pointer"},on:{mousemove:function(i){t.setCurrentValue(e,i)},mouseleave:t.resetCurrentValue,click:function(i){t.selectValue(e)}}},[i("i",{staticClass:"el-rate__icon",class:[t.classes[e-1],{hover:t.hoverIndex===e}],style:t.getIconStyle(e)},[t.showDecimalIcon(e)?i("i",{staticClass:"el-rate__decimal",class:t.decimalIconClass,style:t.decimalStyle}):t._e()])])}),t.showText||t.showScore?i("span",{staticClass:"el-rate__text",style:{color:t.textColor}},[t._v(t._s(t.text))]):t._e()],2)};La._withStripped=!0;var Na=i(18),Ia=r({name:"ElRate",mixins:[C.a],inject:{elForm:{default:""}},data:function(){return{pointerAtLeftHalf:!0,currentValue:this.value,hoverIndex:-1}},props:{value:{type:Number,default:0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:[Array,Object],default:function(){return["#F7BA2A","#F7BA2A","#F7BA2A"]}},voidColor:{type:String,default:"#C6D1DE"},disabledVoidColor:{type:String,default:"#EFF2F7"},iconClasses:{type:[Array,Object],default:function(){return["el-icon-star-on","el-icon-star-on","el-icon-star-on"]}},voidIconClass:{type:String,default:"el-icon-star-off"},disabledVoidIconClass:{type:String,default:"el-icon-star-on"},disabled:{type:Boolean,default:!1},allowHalf:{type:Boolean,default:!1},showText:{type:Boolean,default:!1},showScore:{type:Boolean,default:!1},textColor:{type:String,default:"#1f2d3d"},texts:{type:Array,default:function(){return["","","","",""]}},scoreTemplate:{type:String,default:"{value}"}},computed:{text:function(){var t="";return this.showScore?t=this.scoreTemplate.replace(/\{\s*value\s*\}/,this.rateDisabled?this.value:this.currentValue):this.showText&&(t=this.texts[Math.ceil(this.currentValue)-1]),t},decimalStyle:function(){var t="";return this.rateDisabled?t=this.valueDecimal+"%":this.allowHalf&&(t="50%"),{color:this.activeColor,width:t}},valueDecimal:function(){return 100*this.value-100*Math.floor(this.value)},classMap:function(){var t;return Array.isArray(this.iconClasses)?((t={})[this.lowThreshold]=this.iconClasses[0],t[this.highThreshold]={value:this.iconClasses[1],excluded:!0},t[this.max]=this.iconClasses[2],t):this.iconClasses},decimalIconClass:function(){return this.getValueFromMap(this.value,this.classMap)},voidClass:function(){return this.rateDisabled?this.disabledVoidIconClass:this.voidIconClass},activeClass:function(){return this.getValueFromMap(this.currentValue,this.classMap)},colorMap:function(){var t;return Array.isArray(this.colors)?((t={})[this.lowThreshold]=this.colors[0],t[this.highThreshold]={value:this.colors[1],excluded:!0},t[this.max]=this.colors[2],t):this.colors},activeColor:function(){return this.getValueFromMap(this.currentValue,this.colorMap)},classes:function(){var t=[],e=0,i=this.currentValue;for(this.allowHalf&&this.currentValue!==Math.floor(this.currentValue)&&i--;e<i;e++)t.push(this.activeClass);for(;e<this.max;e++)t.push(this.voidClass);return t},rateDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{value:function(t){this.currentValue=t,this.pointerAtLeftHalf=this.value!==Math.floor(this.value)}},methods:{getMigratingConfig:function(){return{props:{"text-template":"text-template is renamed to score-template."}}},getValueFromMap:function(t,e){var i=Object.keys(e).filter(function(i){var n=e[i];return!!Object(Na.isObject)(n)&&n.excluded?t<i:t<=i}).sort(function(t,e){return t-e}),n=e[i[0]];return Object(Na.isObject)(n)?n.value:n||""},showDecimalIcon:function(t){var e=this.rateDisabled&&this.valueDecimal>0&&t-1<this.value&&t>this.value,i=this.allowHalf&&this.pointerAtLeftHalf&&t-.5<=this.currentValue&&t>this.currentValue;return e||i},getIconStyle:function(t){var e=this.rateDisabled?this.disabledVoidColor:this.voidColor;return{color:t<=this.currentValue?this.activeColor:e}},selectValue:function(t){this.rateDisabled||(this.allowHalf&&this.pointerAtLeftHalf?(this.$emit("input",this.currentValue),this.$emit("change",this.currentValue)):(this.$emit("input",t),this.$emit("change",t)))},handleKey:function(t){if(!this.rateDisabled){var e=this.currentValue,i=t.keyCode;38===i||39===i?(this.allowHalf?e+=.5:e+=1,t.stopPropagation(),t.preventDefault()):37!==i&&40!==i||(this.allowHalf?e-=.5:e-=1,t.stopPropagation(),t.preventDefault()),e=(e=e<0?0:e)>this.max?this.max:e,this.$emit("input",e),this.$emit("change",e)}},setCurrentValue:function(t,e){if(!this.rateDisabled){if(this.allowHalf){var i=e.target;Object(ft.hasClass)(i,"el-rate__item")&&(i=i.querySelector(".el-rate__icon")),Object(ft.hasClass)(i,"el-rate__decimal")&&(i=i.parentNode),this.pointerAtLeftHalf=2*e.offsetX<=i.clientWidth,this.currentValue=this.pointerAtLeftHalf?t-.5:t}else this.currentValue=t;this.hoverIndex=t}},resetCurrentValue:function(){this.rateDisabled||(this.allowHalf&&(this.pointerAtLeftHalf=this.value!==Math.floor(this.value)),this.currentValue=this.value,this.hoverIndex=-1)}},created:function(){this.value||this.$emit("input",0)}},La,[],!1,null,null,null);Ia.options.__file="packages/rate/src/main.vue";var Da=Ia.exports;Da.install=function(t){t.component(Da.name,Da)};var Ra=Da,Fa=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-steps",class:[!this.simple&&"el-steps--"+this.direction,this.simple&&"el-steps--simple"]},[this._t("default")],2)};Fa._withStripped=!0;var Ha=r({name:"ElSteps",mixins:[C.a],props:{space:[Number,String],active:Number,direction:{type:String,default:"horizontal"},alignCenter:Boolean,simple:Boolean,finishStatus:{type:String,default:"finish"},processStatus:{type:String,default:"process"}},data:function(){return{steps:[],stepOffset:0}},methods:{getMigratingConfig:function(){return{props:{center:"center is removed."}}}},watch:{active:function(t,e){this.$emit("change",t,e)},steps:function(t){t.forEach(function(t,e){t.index=e})}}},Fa,[],!1,null,null,null);Ha.options.__file="packages/steps/src/steps.vue";var Ua=Ha.exports;Ua.install=function(t){t.component(Ua.name,Ua)};var Va=Ua,ja=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-step",class:[!t.isSimple&&"is-"+t.$parent.direction,t.isSimple&&"is-simple",t.isLast&&!t.space&&!t.isCenter&&"is-flex",t.isCenter&&!t.isVertical&&!t.isSimple&&"is-center"],style:t.style},[i("div",{staticClass:"el-step__head",class:"is-"+t.currentStatus},[i("div",{staticClass:"el-step__line",style:t.isLast?"":{marginRight:t.$parent.stepOffset+"px"}},[i("i",{staticClass:"el-step__line-inner",style:t.lineStyle})]),i("div",{staticClass:"el-step__icon",class:"is-"+(t.icon?"icon":"text")},["success"!==t.currentStatus&&"error"!==t.currentStatus?t._t("icon",[t.icon?i("i",{staticClass:"el-step__icon-inner",class:[t.icon]}):t._e(),t.icon||t.isSimple?t._e():i("div",{staticClass:"el-step__icon-inner"},[t._v(t._s(t.index+1))])]):i("i",{staticClass:"el-step__icon-inner is-status",class:["el-icon-"+("success"===t.currentStatus?"check":"close")]})],2)]),i("div",{staticClass:"el-step__main"},[i("div",{ref:"title",staticClass:"el-step__title",class:["is-"+t.currentStatus]},[t._t("title",[t._v(t._s(t.title))])],2),t.isSimple?i("div",{staticClass:"el-step__arrow"}):i("div",{staticClass:"el-step__description",class:["is-"+t.currentStatus]},[t._t("description",[t._v(t._s(t.description))])],2)])])};ja._withStripped=!0;var Ga=r({name:"ElStep",props:{title:String,icon:String,description:String,status:String},data:function(){return{index:-1,lineStyle:{},internalStatus:""}},beforeCreate:function(){this.$parent.steps.push(this)},beforeDestroy:function(){var t=this.$parent.steps,e=t.indexOf(this);e>=0&&t.splice(e,1)},computed:{currentStatus:function(){return this.status||this.internalStatus},prevStatus:function(){var t=this.$parent.steps[this.index-1];return t?t.currentStatus:"wait"},isCenter:function(){return this.$parent.alignCenter},isVertical:function(){return"vertical"===this.$parent.direction},isSimple:function(){return this.$parent.simple},isLast:function(){var t=this.$parent;return t.steps[t.steps.length-1]===this},stepsCount:function(){return this.$parent.steps.length},space:function(){var t=this.isSimple,e=this.$parent.space;return t?"":e},style:function(){var t={},e=this.$parent.steps.length,i="number"==typeof this.space?this.space+"px":this.space?this.space:100/(e-(this.isCenter?0:1))+"%";return t.flexBasis=i,this.isVertical?t:(this.isLast?t.maxWidth=100/this.stepsCount+"%":t.marginRight=-this.$parent.stepOffset+"px",t)}},methods:{updateStatus:function(t){var e=this.$parent.$children[this.index-1];t>this.index?this.internalStatus=this.$parent.finishStatus:t===this.index&&"error"!==this.prevStatus?this.internalStatus=this.$parent.processStatus:this.internalStatus="wait",e&&e.calcProgress(this.internalStatus)},calcProgress:function(t){var e=100,i={};i.transitionDelay=150*this.index+"ms",t===this.$parent.processStatus?(this.currentStatus,e=0):"wait"===t&&(e=0,i.transitionDelay=-150*this.index+"ms"),i.borderWidth=e&&!this.isSimple?"1px":0,"vertical"===this.$parent.direction?i.height=e+"%":i.width=e+"%",this.lineStyle=i}},mounted:function(){var t=this,e=this.$watch("index",function(i){t.$watch("$parent.active",t.updateStatus,{immediate:!0}),t.$watch("$parent.processStatus",function(){var e=t.$parent.active;t.updateStatus(e)},{immediate:!0}),e()})}},ja,[],!1,null,null,null);Ga.options.__file="packages/steps/src/step.vue";var za=Ga.exports;za.install=function(t){t.component(za.name,za)};var Qa=za,Ya=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.carouselClasses,on:{mouseenter:function(e){return e.stopPropagation(),t.handleMouseEnter(e)},mouseleave:function(e){return e.stopPropagation(),t.handleMouseLeave(e)}}},[i("div",{staticClass:"el-carousel__container",style:{height:t.height}},[t.arrowDisplay?i("transition",{attrs:{name:"carousel-arrow-left"}},[i("button",{directives:[{name:"show",rawName:"v-show",value:("always"===t.arrow||t.hover)&&(t.loop||t.activeIndex>0),expression:"(arrow === 'always' || hover) && (loop || activeIndex > 0)"}],staticClass:"el-carousel__arrow el-carousel__arrow--left",attrs:{type:"button"},on:{mouseenter:function(e){t.handleButtonEnter("left")},mouseleave:t.handleButtonLeave,click:function(e){e.stopPropagation(),t.throttledArrowClick(t.activeIndex-1)}}},[i("i",{staticClass:"el-icon-arrow-left"})])]):t._e(),t.arrowDisplay?i("transition",{attrs:{name:"carousel-arrow-right"}},[i("button",{directives:[{name:"show",rawName:"v-show",value:("always"===t.arrow||t.hover)&&(t.loop||t.activeIndex<t.items.length-1),expression:"(arrow === 'always' || hover) && (loop || activeIndex < items.length - 1)"}],staticClass:"el-carousel__arrow el-carousel__arrow--right",attrs:{type:"button"},on:{mouseenter:function(e){t.handleButtonEnter("right")},mouseleave:t.handleButtonLeave,click:function(e){e.stopPropagation(),t.throttledArrowClick(t.activeIndex+1)}}},[i("i",{staticClass:"el-icon-arrow-right"})])]):t._e(),t._t("default")],2),"none"!==t.indicatorPosition?i("ul",{class:t.indicatorsClasses},t._l(t.items,function(e,n){return i("li",{key:n,class:["el-carousel__indicator","el-carousel__indicator--"+t.direction,{"is-active":n===t.activeIndex}],on:{mouseenter:function(e){t.throttledIndicatorHover(n)},click:function(e){e.stopPropagation(),t.handleIndicatorClick(n)}}},[i("button",{staticClass:"el-carousel__button"},[t.hasLabel?i("span",[t._v(t._s(e.label))]):t._e()])])}),0):t._e()])};Ya._withStripped=!0;var Ka=i(25),Xa=i.n(Ka),$a=r({name:"ElCarousel",props:{initialIndex:{type:Number,default:0},height:String,trigger:{type:String,default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:String,indicator:{type:Boolean,default:!0},arrow:{type:String,default:"hover"},type:String,loop:{type:Boolean,default:!0},direction:{type:String,default:"horizontal",validator:function(t){return-1!==["horizontal","vertical"].indexOf(t)}}},data:function(){return{items:[],activeIndex:-1,containerWidth:0,timer:null,hover:!1}},computed:{arrowDisplay:function(){return"never"!==this.arrow&&"vertical"!==this.direction},hasLabel:function(){return this.items.some(function(t){return t.label.toString().length>0})},carouselClasses:function(){var t=["el-carousel","el-carousel--"+this.direction];return"card"===this.type&&t.push("el-carousel--card"),t},indicatorsClasses:function(){var t=["el-carousel__indicators","el-carousel__indicators--"+this.direction];return this.hasLabel&&t.push("el-carousel__indicators--labels"),"outside"!==this.indicatorPosition&&"card"!==this.type||t.push("el-carousel__indicators--outside"),t}},watch:{items:function(t){t.length>0&&this.setActiveItem(this.initialIndex)},activeIndex:function(t,e){this.resetItemPosition(e),e>-1&&this.$emit("change",t,e)},autoplay:function(t){t?this.startTimer():this.pauseTimer()},loop:function(){this.setActiveItem(this.activeIndex)}},methods:{handleMouseEnter:function(){this.hover=!0,this.pauseTimer()},handleMouseLeave:function(){this.hover=!1,this.startTimer()},itemInStage:function(t,e){var i=this.items.length;return e===i-1&&t.inStage&&this.items[0].active||t.inStage&&this.items[e+1]&&this.items[e+1].active?"left":!!(0===e&&t.inStage&&this.items[i-1].active||t.inStage&&this.items[e-1]&&this.items[e-1].active)&&"right"},handleButtonEnter:function(t){var e=this;"vertical"!==this.direction&&this.items.forEach(function(i,n){t===e.itemInStage(i,n)&&(i.hover=!0)})},handleButtonLeave:function(){"vertical"!==this.direction&&this.items.forEach(function(t){t.hover=!1})},updateItems:function(){this.items=this.$children.filter(function(t){return"ElCarouselItem"===t.$options.name})},resetItemPosition:function(t){var e=this;this.items.forEach(function(i,n){i.translateItem(n,e.activeIndex,t)})},playSlides:function(){this.activeIndex<this.items.length-1?this.activeIndex++:this.loop&&(this.activeIndex=0)},pauseTimer:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},startTimer:function(){this.interval<=0||!this.autoplay||this.timer||(this.timer=setInterval(this.playSlides,this.interval))},setActiveItem:function(t){if("string"==typeof t){var e=this.items.filter(function(e){return e.name===t});e.length>0&&(t=this.items.indexOf(e[0]))}if(t=Number(t),isNaN(t)||t!==Math.floor(t))console.warn("[Element Warn][Carousel]index must be an integer.");else{var i=this.items.length,n=this.activeIndex;this.activeIndex=t<0?this.loop?i-1:0:t>=i?this.loop?0:i-1:t,n===this.activeIndex&&this.resetItemPosition(n)}},prev:function(){this.setActiveItem(this.activeIndex-1)},next:function(){this.setActiveItem(this.activeIndex+1)},handleIndicatorClick:function(t){this.activeIndex=t},handleIndicatorHover:function(t){"hover"===this.trigger&&t!==this.activeIndex&&(this.activeIndex=t)}},created:function(){var t=this;this.throttledArrowClick=Xa()(300,!0,function(e){t.setActiveItem(e)}),this.throttledIndicatorHover=Xa()(300,function(e){t.handleIndicatorHover(e)})},mounted:function(){var t=this;this.updateItems(),this.$nextTick(function(){Object(De.addResizeListener)(t.$el,t.resetItemPosition),t.initialIndex<t.items.length&&t.initialIndex>=0&&(t.activeIndex=t.initialIndex),t.startTimer()})},beforeDestroy:function(){this.$el&&Object(De.removeResizeListener)(this.$el,this.resetItemPosition),this.pauseTimer()}},Ya,[],!1,null,null,null);$a.options.__file="packages/carousel/src/main.vue";var Wa=$a.exports;Wa.install=function(t){t.component(Wa.name,Wa)};var qa=Wa,Ja={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};var Za={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar:function(){return Ja[this.vertical?"vertical":"horizontal"]},wrap:function(){return this.$parent.wrap}},render:function(t){var e=this.size,i=this.move,n=this.bar;return t("div",{class:["el-scrollbar__bar","is-"+n.key],on:{mousedown:this.clickTrackHandler}},[t("div",{ref:"thumb",class:"el-scrollbar__thumb",on:{mousedown:this.clickThumbHandler},style:function(t){var e=t.move,i=t.size,n=t.bar,r={},o="translate"+n.axis+"("+e+"%)";return r[n.size]=i,r.transform=o,r.msTransform=o,r.webkitTransform=o,r}({size:e,move:i,bar:n})})])},methods:{clickThumbHandler:function(t){t.ctrlKey||2===t.button||(this.startDrag(t),this[this.bar.axis]=t.currentTarget[this.bar.offset]-(t[this.bar.client]-t.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler:function(t){var e=100*(Math.abs(t.target.getBoundingClientRect()[this.bar.direction]-t[this.bar.client])-this.$refs.thumb[this.bar.offset]/2)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=e*this.wrap[this.bar.scrollSize]/100},startDrag:function(t){t.stopImmediatePropagation(),this.cursorDown=!0,Object(ft.on)(document,"mousemove",this.mouseMoveDocumentHandler),Object(ft.on)(document,"mouseup",this.mouseUpDocumentHandler),document.onselectstart=function(){return!1}},mouseMoveDocumentHandler:function(t){if(!1!==this.cursorDown){var e=this[this.bar.axis];if(e){var i=100*(-1*(this.$el.getBoundingClientRect()[this.bar.direction]-t[this.bar.client])-(this.$refs.thumb[this.bar.offset]-e))/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=i*this.wrap[this.bar.scrollSize]/100}}},mouseUpDocumentHandler:function(t){this.cursorDown=!1,this[this.bar.axis]=0,Object(ft.off)(document,"mousemove",this.mouseMoveDocumentHandler),document.onselectstart=null}},destroyed:function(){Object(ft.off)(document,"mouseup",this.mouseUpDocumentHandler)}},tl={name:"ElScrollbar",components:{Bar:Za},props:{native:Boolean,wrapStyle:{},wrapClass:{},viewClass:{},viewStyle:{},noresize:Boolean,tag:{type:String,default:"div"}},data:function(){return{sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0}},computed:{wrap:function(){return this.$refs.wrap}},render:function(t){var e=Ii()(),i=this.wrapStyle;if(e){var n="-"+e+"px",r="margin-bottom: "+n+"; margin-right: "+n+";";Array.isArray(this.wrapStyle)?(i=Object(m.toObject)(this.wrapStyle)).marginRight=i.marginBottom=n:"string"==typeof this.wrapStyle?i+=r:i=r}var o=t(this.tag,{class:["el-scrollbar__view",this.viewClass],style:this.viewStyle,ref:"resize"},this.$slots.default),s=t("div",{ref:"wrap",style:i,on:{scroll:this.handleScroll},class:[this.wrapClass,"el-scrollbar__wrap",e?"":"el-scrollbar__wrap--hidden-default"]},[[o]]);return t("div",{class:"el-scrollbar"},this.native?[t("div",{ref:"wrap",class:[this.wrapClass,"el-scrollbar__wrap"],style:i},[[o]])]:[s,t(Za,{attrs:{move:this.moveX,size:this.sizeWidth}}),t(Za,{attrs:{vertical:!0,move:this.moveY,size:this.sizeHeight}})])},methods:{handleScroll:function(){var t=this.wrap;this.moveY=100*t.scrollTop/t.clientHeight,this.moveX=100*t.scrollLeft/t.clientWidth},update:function(){var t,e,i=this.wrap;i&&(t=100*i.clientHeight/i.scrollHeight,e=100*i.clientWidth/i.scrollWidth,this.sizeHeight=t<100?t+"%":"",this.sizeWidth=e<100?e+"%":"")}},mounted:function(){this.native||(this.$nextTick(this.update),!this.noresize&&Object(De.addResizeListener)(this.$refs.resize,this.update))},beforeDestroy:function(){this.native||!this.noresize&&Object(De.removeResizeListener)(this.$refs.resize,this.update)},install:function(t){t.component(tl.name,tl)}},el=tl,il=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.ready,expression:"ready"}],staticClass:"el-carousel__item",class:{"is-active":t.active,"el-carousel__item--card":"card"===t.$parent.type,"is-in-stage":t.inStage,"is-hover":t.hover,"is-animating":t.animating},style:t.itemStyle,on:{click:t.handleItemClick}},["card"===t.$parent.type?i("div",{directives:[{name:"show",rawName:"v-show",value:!t.active,expression:"!active"}],staticClass:"el-carousel__mask"}):t._e(),t._t("default")],2)};il._withStripped=!0;var nl=r({name:"ElCarouselItem",props:{name:String,label:{type:[String,Number],default:""}},data:function(){return{hover:!1,translate:0,scale:1,active:!1,ready:!1,inStage:!1,animating:!1}},methods:{processIndex:function(t,e,i){return 0===e&&t===i-1?-1:e===i-1&&0===t?i:t<e-1&&e-t>=i/2?i+1:t>e+1&&t-e>=i/2?-2:t},calcCardTranslate:function(t,e){var i=this.$parent.$el.offsetWidth;return this.inStage?i*(1.17*(t-e)+1)/4:t<e?-1.83*i/4:3.83*i/4},calcTranslate:function(t,e,i){return this.$parent.$el[i?"offsetHeight":"offsetWidth"]*(t-e)},translateItem:function(t,e,i){var n=this.$parent.type,r=this.parentDirection,o=this.$parent.items.length;if("card"!==n&&void 0!==i&&(this.animating=t===e||t===i),t!==e&&o>2&&this.$parent.loop&&(t=this.processIndex(t,e,o)),"card"===n)"vertical"===r&&console.warn("[Element Warn][Carousel]vertical directionis not supported in card mode"),this.inStage=Math.round(Math.abs(t-e))<=1,this.active=t===e,this.translate=this.calcCardTranslate(t,e),this.scale=this.active?1:.83;else{this.active=t===e;var s="vertical"===r;this.translate=this.calcTranslate(t,e,s)}this.ready=!0},handleItemClick:function(){var t=this.$parent;if(t&&"card"===t.type){var e=t.items.indexOf(this);t.setActiveItem(e)}}},computed:{parentDirection:function(){return this.$parent.direction},itemStyle:function(){var t={transform:("vertical"===this.parentDirection?"translateY":"translateX")+"("+this.translate+"px) scale("+this.scale+")"};return Object(m.autoprefixer)(t)}},created:function(){this.$parent&&this.$parent.updateItems()},destroyed:function(){this.$parent&&this.$parent.updateItems()}},il,[],!1,null,null,null);nl.options.__file="packages/carousel/src/item.vue";var rl=nl.exports;rl.install=function(t){t.component(rl.name,rl)};var ol=rl,sl=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"el-collapse",attrs:{role:"tablist","aria-multiselectable":"true"}},[this._t("default")],2)};sl._withStripped=!0;var al=r({name:"ElCollapse",componentName:"ElCollapse",props:{accordion:Boolean,value:{type:[Array,String,Number],default:function(){return[]}}},data:function(){return{activeNames:[].concat(this.value)}},provide:function(){return{collapse:this}},watch:{value:function(t){this.activeNames=[].concat(t)}},methods:{setActiveNames:function(t){t=[].concat(t);var e=this.accordion?t[0]:t;this.activeNames=t,this.$emit("input",e),this.$emit("change",e)},handleItemClick:function(t){if(this.accordion)this.setActiveNames(!this.activeNames[0]&&0!==this.activeNames[0]||this.activeNames[0]!==t.name?t.name:"");else{var e=this.activeNames.slice(0),i=e.indexOf(t.name);i>-1?e.splice(i,1):e.push(t.name),this.setActiveNames(e)}}},created:function(){this.$on("item-click",this.handleItemClick)}},sl,[],!1,null,null,null);al.options.__file="packages/collapse/src/collapse.vue";var ll=al.exports;ll.install=function(t){t.component(ll.name,ll)};var hl=ll,ul=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-collapse-item",class:{"is-active":t.isActive,"is-disabled":t.disabled}},[i("div",{attrs:{role:"tab","aria-expanded":t.isActive,"aria-controls":"el-collapse-content-"+t.id,"aria-describedby":"el-collapse-content-"+t.id}},[i("div",{staticClass:"el-collapse-item__header",class:{focusing:t.focusing,"is-active":t.isActive},attrs:{role:"button",id:"el-collapse-head-"+t.id,tabindex:t.disabled?void 0:0},on:{click:t.handleHeaderClick,keyup:function(e){return"button"in e||!t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.stopPropagation(),t.handleEnterClick(e)):null},focus:t.handleFocus,blur:function(e){t.focusing=!1}}},[t._t("title",[t._v(t._s(t.title))]),i("i",{staticClass:"el-collapse-item__arrow el-icon-arrow-right",class:{"is-active":t.isActive}})],2)]),i("el-collapse-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"el-collapse-item__wrap",attrs:{role:"tabpanel","aria-hidden":!t.isActive,"aria-labelledby":"el-collapse-head-"+t.id,id:"el-collapse-content-"+t.id}},[i("div",{staticClass:"el-collapse-item__content"},[t._t("default")],2)])])],1)};ul._withStripped=!0;var cl=r({name:"ElCollapseItem",componentName:"ElCollapseItem",mixins:[E.a],components:{ElCollapseTransition:yt.a},data:function(){return{contentWrapStyle:{height:"auto",display:"block"},contentHeight:0,focusing:!1,isClick:!1,id:Object(m.generateId)()}},inject:["collapse"],props:{title:String,name:{type:[String,Number],default:function(){return this._uid}},disabled:Boolean},computed:{isActive:function(){return this.collapse.activeNames.indexOf(this.name)>-1}},methods:{handleFocus:function(){var t=this;setTimeout(function(){t.isClick?t.isClick=!1:t.focusing=!0},50)},handleHeaderClick:function(){this.disabled||(this.dispatch("ElCollapse","item-click",this),this.focusing=!1,this.isClick=!0)},handleEnterClick:function(){this.dispatch("ElCollapse","item-click",this)}}},ul,[],!1,null,null,null);cl.options.__file="packages/collapse/src/collapse-item.vue";var dl=cl.exports;dl.install=function(t){t.component(dl.name,dl)};var pl=dl,fl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:function(){return t.toggleDropDownVisible(!1)},expression:"() => toggleDropDownVisible(false)"}],ref:"reference",class:["el-cascader",t.realSize&&"el-cascader--"+t.realSize,{"is-disabled":t.isDisabled}],on:{mouseenter:function(e){t.inputHover=!0},mouseleave:function(e){t.inputHover=!1},click:function(){return t.toggleDropDownVisible(!t.readonly||void 0)},keydown:t.handleKeyDown}},[i("el-input",{ref:"input",class:{"is-focus":t.dropDownVisible},attrs:{size:t.realSize,placeholder:t.placeholder,readonly:t.readonly,disabled:t.isDisabled,"validate-event":!1},on:{focus:t.handleFocus,blur:t.handleBlur,input:t.handleInput},model:{value:t.multiple?t.presentText:t.inputValue,callback:function(e){t.multiple?t.presentText:t.inputValue=e},expression:"multiple ? presentText : inputValue"}},[i("template",{slot:"suffix"},[t.clearBtnVisible?i("i",{key:"clear",staticClass:"el-input__icon el-icon-circle-close",on:{click:function(e){return e.stopPropagation(),t.handleClear(e)}}}):i("i",{key:"arrow-down",class:["el-input__icon","el-icon-arrow-down",t.dropDownVisible&&"is-reverse"],on:{click:function(e){e.stopPropagation(),t.toggleDropDownVisible()}}})])],2),t.multiple?i("div",{staticClass:"el-cascader__tags"},[t._l(t.presentTags,function(e,n){return i("el-tag",{key:e.key,attrs:{type:"info",size:t.tagSize,hit:e.hitState,closable:e.closable,"disable-transitions":""},on:{close:function(e){t.deleteTag(n)}}},[i("span",[t._v(t._s(e.text))])])}),t.filterable&&!t.isDisabled?i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputValue,expression:"inputValue",modifiers:{trim:!0}}],staticClass:"el-cascader__search-input",attrs:{type:"text",placeholder:t.presentTags.length?"":t.placeholder},domProps:{value:t.inputValue},on:{input:[function(e){e.target.composing||(t.inputValue=e.target.value.trim())},function(e){return t.handleInput(t.inputValue,e)}],click:function(e){e.stopPropagation(),t.toggleDropDownVisible(!0)},keydown:function(e){return"button"in e||!t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?t.handleDelete(e):null},blur:function(e){t.$forceUpdate()}}}):t._e()],2):t._e(),i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":t.handleDropdownLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.dropDownVisible,expression:"dropDownVisible"}],ref:"popper",class:["el-popper","el-cascader__dropdown",t.popperClass]},[i("el-cascader-panel",{directives:[{name:"show",rawName:"v-show",value:!t.filtering,expression:"!filtering"}],ref:"panel",attrs:{options:t.options,props:t.config,border:!1,"render-label":t.$scopedSlots.default},on:{"expand-change":t.handleExpandChange,close:function(e){t.toggleDropDownVisible(!1)}},model:{value:t.checkedValue,callback:function(e){t.checkedValue=e},expression:"checkedValue"}}),t.filterable?i("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:t.filtering,expression:"filtering"}],ref:"suggestionPanel",staticClass:"el-cascader__suggestion-panel",attrs:{tag:"ul","view-class":"el-cascader__suggestion-list"},nativeOn:{keydown:function(e){return t.handleSuggestionKeyDown(e)}}},[t.suggestions.length?t._l(t.suggestions,function(e,n){return i("li",{key:e.uid,class:["el-cascader__suggestion-item",e.checked&&"is-checked"],attrs:{tabindex:-1},on:{click:function(e){t.handleSuggestionClick(n)}}},[i("span",[t._v(t._s(e.text))]),e.checked?i("i",{staticClass:"el-icon-check"}):t._e()])}):t._t("empty",[i("li",{staticClass:"el-cascader__empty-text"},[t._v(t._s(t.t("el.cascader.noMatch")))])])],2):t._e()],1)])],1)};fl._withStripped=!0;var ml=i(42),gl=i.n(ml),vl=i(28),Al=i.n(vl),yl=Al.a.keys,xl={expandTrigger:{newProp:"expandTrigger",type:String},changeOnSelect:{newProp:"checkStrictly",type:Boolean},hoverThreshold:{newProp:"hoverThreshold",type:Number}},bl={props:{placement:{type:String,default:"bottom-start"},appendToBody:I.a.props.appendToBody,visibleArrow:{type:Boolean,default:!0},arrowOffset:I.a.props.arrowOffset,offset:I.a.props.offset,boundariesPadding:I.a.props.boundariesPadding,popperOptions:I.a.props.popperOptions},methods:I.a.methods,data:I.a.data,beforeDestroy:I.a.beforeDestroy},Cl={medium:36,small:32,mini:28},wl=r({name:"ElCascader",directives:{Clickoutside:P.a},mixins:[bl,E.a,f.a,C.a],inject:{elForm:{default:""},elFormItem:{default:""}},components:{ElInput:d.a,ElTag:Ie.a,ElScrollbar:R.a,ElCascaderPanel:gl.a},props:{value:{},options:Array,props:Object,size:String,placeholder:{type:String,default:function(){return Object(Re.t)("el.cascader.placeholder")}},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:Function,separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,debounce:{type:Number,default:300},beforeFilter:{type:Function,default:function(){return function(){}}},popperClass:String},data:function(){return{dropDownVisible:!1,checkedValue:this.value||null,inputHover:!1,inputValue:null,presentText:null,presentTags:[],checkedNodes:[],filtering:!1,suggestions:[],inputInitialHeight:0,pressDeleteCount:0}},computed:{realSize:function(){var t=(this.elFormItem||{}).elFormItemSize;return this.size||t||(this.$ELEMENT||{}).size},tagSize:function(){return["small","mini"].indexOf(this.realSize)>-1?"mini":"small"},isDisabled:function(){return this.disabled||(this.elForm||{}).disabled},config:function(){var t=this.props||{},e=this.$attrs;return Object.keys(xl).forEach(function(i){var n=xl[i],r=n.newProp,o=n.type,s=e[i]||e[Object(m.kebabCase)(i)];Object(jt.isDef)(i)&&!Object(jt.isDef)(t[r])&&(o===Boolean&&""===s&&(s=!0),t[r]=s)}),t},multiple:function(){return this.config.multiple},leafOnly:function(){return!this.config.checkStrictly},readonly:function(){return!this.filterable||this.multiple},clearBtnVisible:function(){return!(!this.clearable||this.isDisabled||this.filtering||!this.inputHover)&&(this.multiple?!!this.checkedNodes.filter(function(t){return!t.isDisabled}).length:!!this.presentText)},panel:function(){return this.$refs.panel}},watch:{disabled:function(){this.computePresentContent()},value:function(t){Object(m.isEqual)(t,this.checkedValue)||(this.checkedValue=t,this.computePresentContent())},checkedValue:function(t){var e=this.value,i=this.dropDownVisible,n=this.config,r=n.checkStrictly,o=n.multiple;Object(m.isEqual)(t,e)&&!Object(Na.isUndefined)(e)||(this.computePresentContent(),o||r||!i||this.toggleDropDownVisible(!1),this.$emit("input",t),this.$emit("change",t),this.dispatch("ElFormItem","el.form.change",[t]))},options:{handler:function(){this.$nextTick(this.computePresentContent)},deep:!0},presentText:function(t){this.inputValue=t},presentTags:function(t,e){this.multiple&&(t.length||e.length)&&this.$nextTick(this.updateStyle)},filtering:function(t){this.$nextTick(this.updatePopper)}},mounted:function(){var t=this,e=this.$refs.input;e&&e.$el&&(this.inputInitialHeight=e.$el.offsetHeight||Cl[this.realSize]||40),Object(m.isEmpty)(this.value)||this.computePresentContent(),this.filterHandler=B()(this.debounce,function(){var e=t.inputValue;if(e){var i=t.beforeFilter(e);i&&i.then?i.then(t.getSuggestions):!1!==i?t.getSuggestions():t.filtering=!1}else t.filtering=!1}),Object(De.addResizeListener)(this.$el,this.updateStyle)},beforeDestroy:function(){Object(De.removeResizeListener)(this.$el,this.updateStyle)},methods:{getMigratingConfig:function(){return{props:{"expand-trigger":"expand-trigger is removed, use `props.expandTrigger` instead.","change-on-select":"change-on-select is removed, use `props.checkStrictly` instead.","hover-threshold":"hover-threshold is removed, use `props.hoverThreshold` instead"},events:{"active-item-change":"active-item-change is renamed to expand-change"}}},toggleDropDownVisible:function(t){var e=this;if(!this.isDisabled){var i=this.dropDownVisible,n=this.$refs.input;(t=Object(jt.isDef)(t)?t:!i)!==i&&(this.dropDownVisible=t,t&&this.$nextTick(function(){e.updatePopper(),e.panel.scrollIntoView()}),n.$refs.input.setAttribute("aria-expanded",t),this.$emit("visible-change",t))}},handleDropdownLeave:function(){this.filtering=!1,this.inputValue=this.presentText},handleKeyDown:function(t){switch(t.keyCode){case yl.enter:this.toggleDropDownVisible();break;case yl.down:this.toggleDropDownVisible(!0),this.focusFirstNode(),t.preventDefault();break;case yl.esc:case yl.tab:this.toggleDropDownVisible(!1)}},handleFocus:function(t){this.$emit("focus",t)},handleBlur:function(t){this.$emit("blur",t)},handleInput:function(t,e){!this.dropDownVisible&&this.toggleDropDownVisible(!0),e&&e.isComposing||(t?this.filterHandler():this.filtering=!1)},handleClear:function(){this.presentText="",this.panel.clearCheckedNodes()},handleExpandChange:function(t){this.$nextTick(this.updatePopper.bind(this)),this.$emit("expand-change",t),this.$emit("active-item-change",t)},focusFirstNode:function(){var t=this;this.$nextTick(function(){var e=t.filtering,i=t.$refs,n=i.popper,r=i.suggestionPanel,o=null;e&&r?o=r.$el.querySelector(".el-cascader__suggestion-item"):o=n.querySelector(".el-cascader-menu").querySelector('.el-cascader-node[tabindex="-1"]');o&&(o.focus(),!e&&o.click())})},computePresentContent:function(){var t=this;this.$nextTick(function(){t.config.multiple?(t.computePresentTags(),t.presentText=t.presentTags.length?" ":null):t.computePresentText()})},computePresentText:function(){var t=this.checkedValue,e=this.config;if(!Object(m.isEmpty)(t)){var i=this.panel.getNodeByValue(t);if(i&&(e.checkStrictly||i.isLeaf))return void(this.presentText=i.getText(this.showAllLevels,this.separator))}this.presentText=null},computePresentTags:function(){var t=this.isDisabled,e=this.leafOnly,i=this.showAllLevels,n=this.separator,r=this.collapseTags,o=this.getCheckedNodes(e),s=[],a=function(e){return{node:e,key:e.uid,text:e.getText(i,n),hitState:!1,closable:!t&&!e.isDisabled}};if(o.length){var l=o[0],h=o.slice(1),u=h.length;s.push(a(l)),u&&(r?s.push({key:-1,text:"+ "+u,closable:!1}):h.forEach(function(t){return s.push(a(t))}))}this.checkedNodes=o,this.presentTags=s},getSuggestions:function(){var t=this,e=this.filterMethod;Object(Na.isFunction)(e)||(e=function(t,e){return t.text.includes(e)});var i=this.panel.getFlattedNodes(this.leafOnly).filter(function(i){return!i.isDisabled&&(i.text=i.getText(t.showAllLevels,t.separator)||"",e(i,t.inputValue))});this.multiple?this.presentTags.forEach(function(t){t.hitState=!1}):i.forEach(function(e){e.checked=Object(m.isEqual)(t.checkedValue,e.getValueByOption())}),this.filtering=!0,this.suggestions=i,this.$nextTick(this.updatePopper)},handleSuggestionKeyDown:function(t){var e=t.keyCode,i=t.target;switch(e){case yl.enter:i.click();break;case yl.up:var n=i.previousElementSibling;n&&n.focus();break;case yl.down:var r=i.nextElementSibling;r&&r.focus();break;case yl.esc:case yl.tab:this.toggleDropDownVisible(!1)}},handleDelete:function(){var t=this.inputValue,e=this.pressDeleteCount,i=this.presentTags,n=i.length-1,r=i[n];this.pressDeleteCount=t?0:e+1,r&&this.pressDeleteCount&&(r.hitState?this.deleteTag(n):r.hitState=!0)},handleSuggestionClick:function(t){var e=this.multiple,i=this.suggestions[t];if(e){var n=i.checked;i.doCheck(!n),this.panel.calculateMultiCheckedValue()}else this.checkedValue=i.getValueByOption(),this.toggleDropDownVisible(!1)},deleteTag:function(t){var e=this.checkedValue,i=e[t];this.checkedValue=e.filter(function(e,i){return i!==t}),this.$emit("remove-tag",i)},updateStyle:function(){var t=this.$el,e=this.inputInitialHeight;if(!this.$isServer&&t){var i=this.$refs.suggestionPanel,n=t.querySelector(".el-input__inner");if(n){var r=t.querySelector(".el-cascader__tags"),o=null;if(i&&(o=i.$el))o.querySelector(".el-cascader__suggestion-list").style.minWidth=n.offsetWidth+"px";if(r){var s=r.offsetHeight,a=Math.max(s+6,e)+"px";n.style.height=a,this.updatePopper()}}}},getCheckedNodes:function(t){return this.panel.getCheckedNodes(t)}}},fl,[],!1,null,null,null);wl.options.__file="packages/cascader/src/cascader.vue";var El=wl.exports;El.install=function(t){t.component(El.name,El)};var Sl=El,Tl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.hide,expression:"hide"}],class:["el-color-picker",t.colorDisabled?"is-disabled":"",t.colorSize?"el-color-picker--"+t.colorSize:""]},[t.colorDisabled?i("div",{staticClass:"el-color-picker__mask"}):t._e(),i("div",{staticClass:"el-color-picker__trigger",on:{click:t.handleTrigger}},[i("span",{staticClass:"el-color-picker__color",class:{"is-alpha":t.showAlpha}},[i("span",{staticClass:"el-color-picker__color-inner",style:{backgroundColor:t.displayedColor}}),t.value||t.showPanelColor?t._e():i("span",{staticClass:"el-color-picker__empty el-icon-close"})]),i("span",{directives:[{name:"show",rawName:"v-show",value:t.value||t.showPanelColor,expression:"value || showPanelColor"}],staticClass:"el-color-picker__icon el-icon-arrow-down"})]),i("picker-dropdown",{ref:"dropdown",class:["el-color-picker__panel",t.popperClass||""],attrs:{color:t.color,"show-alpha":t.showAlpha,predefine:t.predefine},on:{pick:t.confirmValue,clear:t.clearValue},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}})],1)};Tl._withStripped=!0;var _l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var Ml=function(t,e,i){return[t,e*i/((t=(2-e)*i)<1?t:2-t)||0,t/2]},kl=function(t,e){var i;"string"==typeof(i=t)&&-1!==i.indexOf(".")&&1===parseFloat(i)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!==t.indexOf("%")}(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)},Bl={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Ol={A:10,B:11,C:12,D:13,E:14,F:15},Pl=function(t){return 2===t.length?16*(Ol[t[0].toUpperCase()]||+t[0])+(Ol[t[1].toUpperCase()]||+t[1]):Ol[t[1].toUpperCase()]||+t[1]},Ll=function(t,e,i){t=kl(t,255),e=kl(e,255),i=kl(i,255);var n,r=Math.max(t,e,i),o=Math.min(t,e,i),s=void 0,a=r,l=r-o;if(n=0===r?0:l/r,r===o)s=0;else{switch(r){case t:s=(e-i)/l+(e<i?6:0);break;case e:s=(i-t)/l+2;break;case i:s=(t-e)/l+4}s/=6}return{h:360*s,s:100*n,v:100*a}},Nl=function(t,e,i){t=6*kl(t,360),e=kl(e,100),i=kl(i,100);var n=Math.floor(t),r=t-n,o=i*(1-e),s=i*(1-r*e),a=i*(1-(1-r)*e),l=n%6,h=[i,s,o,o,a,i][l],u=[a,i,i,s,o,o][l],c=[o,o,a,i,i,s][l];return{r:Math.round(255*h),g:Math.round(255*u),b:Math.round(255*c)}},Il=function(){function t(e){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="",e=e||{})e.hasOwnProperty(i)&&(this[i]=e[i]);this.doOnChange()}return t.prototype.set=function(t,e){if(1!==arguments.length||"object"!==(void 0===t?"undefined":_l(t)))this["_"+t]=e,this.doOnChange();else for(var i in t)t.hasOwnProperty(i)&&this.set(i,t[i])},t.prototype.get=function(t){return this["_"+t]},t.prototype.toRgb=function(){return Nl(this._hue,this._saturation,this._value)},t.prototype.fromString=function(t){var e=this;if(!t)return this._hue=0,this._saturation=100,this._value=100,void this.doOnChange();var i=function(t,i,n){e._hue=Math.max(0,Math.min(360,t)),e._saturation=Math.max(0,Math.min(100,i)),e._value=Math.max(0,Math.min(100,n)),e.doOnChange()};if(-1!==t.indexOf("hsl")){var n=t.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(function(t){return""!==t}).map(function(t,e){return e>2?parseFloat(t):parseInt(t,10)});if(4===n.length?this._alpha=Math.floor(100*parseFloat(n[3])):3===n.length&&(this._alpha=100),n.length>=3){var r=function(t,e,i){i/=100;var n=e/=100,r=Math.max(i,.01);return e*=(i*=2)<=1?i:2-i,n*=r<=1?r:2-r,{h:t,s:100*(0===i?2*n/(r+n):2*e/(i+e)),v:(i+e)/2*100}}(n[0],n[1],n[2]);i(r.h,r.s,r.v)}}else if(-1!==t.indexOf("hsv")){var o=t.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(function(t){return""!==t}).map(function(t,e){return e>2?parseFloat(t):parseInt(t,10)});4===o.length?this._alpha=Math.floor(100*parseFloat(o[3])):3===o.length&&(this._alpha=100),o.length>=3&&i(o[0],o[1],o[2])}else if(-1!==t.indexOf("rgb")){var s=t.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(function(t){return""!==t}).map(function(t,e){return e>2?parseFloat(t):parseInt(t,10)});if(4===s.length?this._alpha=Math.floor(100*parseFloat(s[3])):3===s.length&&(this._alpha=100),s.length>=3){var a=Ll(s[0],s[1],s[2]);i(a.h,a.s,a.v)}}else if(-1!==t.indexOf("#")){var l=t.replace("#","").trim();if(!/^(?:[0-9a-fA-F]{3}){1,2}$/.test(l))return;var h=void 0,u=void 0,c=void 0;3===l.length?(h=Pl(l[0]+l[0]),u=Pl(l[1]+l[1]),c=Pl(l[2]+l[2])):6!==l.length&&8!==l.length||(h=Pl(l.substring(0,2)),u=Pl(l.substring(2,4)),c=Pl(l.substring(4,6))),8===l.length?this._alpha=Math.floor(Pl(l.substring(6))/255*100):3!==l.length&&6!==l.length||(this._alpha=100);var d=Ll(h,u,c);i(d.h,d.s,d.v)}},t.prototype.compare=function(t){return Math.abs(t._hue-this._hue)<2&&Math.abs(t._saturation-this._saturation)<1&&Math.abs(t._value-this._value)<1&&Math.abs(t._alpha-this._alpha)<1},t.prototype.doOnChange=function(){var t=this._hue,e=this._saturation,i=this._value,n=this._alpha,r=this.format;if(this.enableAlpha)switch(r){case"hsl":var o=Ml(t,e/100,i/100);this.value="hsla("+t+", "+Math.round(100*o[1])+"%, "+Math.round(100*o[2])+"%, "+n/100+")";break;case"hsv":this.value="hsva("+t+", "+Math.round(e)+"%, "+Math.round(i)+"%, "+n/100+")";break;default:var s=Nl(t,e,i),a=s.r,l=s.g,h=s.b;this.value="rgba("+a+", "+l+", "+h+", "+n/100+")"}else switch(r){case"hsl":var u=Ml(t,e/100,i/100);this.value="hsl("+t+", "+Math.round(100*u[1])+"%, "+Math.round(100*u[2])+"%)";break;case"hsv":this.value="hsv("+t+", "+Math.round(e)+"%, "+Math.round(i)+"%)";break;case"rgb":var c=Nl(t,e,i),d=c.r,p=c.g,f=c.b;this.value="rgb("+d+", "+p+", "+f+")";break;default:this.value=function(t){var e=t.r,i=t.g,n=t.b,r=function(t){t=Math.min(Math.round(t),255);var e=Math.floor(t/16),i=t%16;return""+(Bl[e]||e)+(Bl[i]||i)};return isNaN(e)||isNaN(i)||isNaN(n)?"":"#"+r(e)+r(i)+r(n)}(Nl(t,e,i))}},t}(),Dl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":t.doDestroy}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"}],staticClass:"el-color-dropdown"},[i("div",{staticClass:"el-color-dropdown__main-wrapper"},[i("hue-slider",{ref:"hue",staticStyle:{float:"right"},attrs:{color:t.color,vertical:""}}),i("sv-panel",{ref:"sl",attrs:{color:t.color}})],1),t.showAlpha?i("alpha-slider",{ref:"alpha",attrs:{color:t.color}}):t._e(),t.predefine?i("predefine",{attrs:{color:t.color,colors:t.predefine}}):t._e(),i("div",{staticClass:"el-color-dropdown__btns"},[i("span",{staticClass:"el-color-dropdown__value"},[i("el-input",{attrs:{"validate-event":!1,size:"mini"},on:{blur:t.handleConfirm},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleConfirm(e):null}},model:{value:t.customInput,callback:function(e){t.customInput=e},expression:"customInput"}})],1),i("el-button",{staticClass:"el-color-dropdown__link-btn",attrs:{size:"mini",type:"text"},on:{click:function(e){t.$emit("clear")}}},[t._v("\n        "+t._s(t.t("el.colorpicker.clear"))+"\n      ")]),i("el-button",{staticClass:"el-color-dropdown__btn",attrs:{plain:"",size:"mini"},on:{click:t.confirmValue}},[t._v("\n        "+t._s(t.t("el.colorpicker.confirm"))+"\n      ")])],1)],1)])};Dl._withStripped=!0;var Rl=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"el-color-svpanel",style:{backgroundColor:this.background}},[e("div",{staticClass:"el-color-svpanel__white"}),e("div",{staticClass:"el-color-svpanel__black"}),e("div",{staticClass:"el-color-svpanel__cursor",style:{top:this.cursorTop+"px",left:this.cursorLeft+"px"}},[e("div")])])};Rl._withStripped=!0;var Fl=!1,Hl=function(t,e){if(!di.a.prototype.$isServer){var i=function(t){e.drag&&e.drag(t)},n=function t(n){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",t),document.onselectstart=null,document.ondragstart=null,Fl=!1,e.end&&e.end(n)};t.addEventListener("mousedown",function(t){Fl||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},document.addEventListener("mousemove",i),document.addEventListener("mouseup",n),Fl=!0,e.start&&e.start(t))})}},Ul=r({name:"el-sl-panel",props:{color:{required:!0}},computed:{colorValue:function(){return{hue:this.color.get("hue"),value:this.color.get("value")}}},watch:{colorValue:function(){this.update()}},methods:{update:function(){var t=this.color.get("saturation"),e=this.color.get("value"),i=this.$el,n=i.clientWidth,r=i.clientHeight;this.cursorLeft=t*n/100,this.cursorTop=(100-e)*r/100,this.background="hsl("+this.color.get("hue")+", 100%, 50%)"},handleDrag:function(t){var e=this.$el.getBoundingClientRect(),i=t.clientX-e.left,n=t.clientY-e.top;i=Math.max(0,i),i=Math.min(i,e.width),n=Math.max(0,n),n=Math.min(n,e.height),this.cursorLeft=i,this.cursorTop=n,this.color.set({saturation:i/e.width*100,value:100-n/e.height*100})}},mounted:function(){var t=this;Hl(this.$el,{drag:function(e){t.handleDrag(e)},end:function(e){t.handleDrag(e)}}),this.update()},data:function(){return{cursorTop:0,cursorLeft:0,background:"hsl(0, 100%, 50%)"}}},Rl,[],!1,null,null,null);Ul.options.__file="packages/color-picker/src/components/sv-panel.vue";var Vl=Ul.exports,jl=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"el-color-hue-slider",class:{"is-vertical":this.vertical}},[e("div",{ref:"bar",staticClass:"el-color-hue-slider__bar",on:{click:this.handleClick}}),e("div",{ref:"thumb",staticClass:"el-color-hue-slider__thumb",style:{left:this.thumbLeft+"px",top:this.thumbTop+"px"}})])};jl._withStripped=!0;var Gl=r({name:"el-color-hue-slider",props:{color:{required:!0},vertical:Boolean},data:function(){return{thumbLeft:0,thumbTop:0}},computed:{hueValue:function(){return this.color.get("hue")}},watch:{hueValue:function(){this.update()}},methods:{handleClick:function(t){var e=this.$refs.thumb;t.target!==e&&this.handleDrag(t)},handleDrag:function(t){var e=this.$el.getBoundingClientRect(),i=this.$refs.thumb,n=void 0;if(this.vertical){var r=t.clientY-e.top;r=Math.min(r,e.height-i.offsetHeight/2),r=Math.max(i.offsetHeight/2,r),n=Math.round((r-i.offsetHeight/2)/(e.height-i.offsetHeight)*360)}else{var o=t.clientX-e.left;o=Math.min(o,e.width-i.offsetWidth/2),o=Math.max(i.offsetWidth/2,o),n=Math.round((o-i.offsetWidth/2)/(e.width-i.offsetWidth)*360)}this.color.set("hue",n)},getThumbLeft:function(){if(this.vertical)return 0;var t=this.$el,e=this.color.get("hue");if(!t)return 0;var i=this.$refs.thumb;return Math.round(e*(t.offsetWidth-i.offsetWidth/2)/360)},getThumbTop:function(){if(!this.vertical)return 0;var t=this.$el,e=this.color.get("hue");if(!t)return 0;var i=this.$refs.thumb;return Math.round(e*(t.offsetHeight-i.offsetHeight/2)/360)},update:function(){this.thumbLeft=this.getThumbLeft(),this.thumbTop=this.getThumbTop()}},mounted:function(){var t=this,e=this.$refs,i=e.bar,n=e.thumb,r={drag:function(e){t.handleDrag(e)},end:function(e){t.handleDrag(e)}};Hl(i,r),Hl(n,r),this.update()}},jl,[],!1,null,null,null);Gl.options.__file="packages/color-picker/src/components/hue-slider.vue";var zl=Gl.exports,Ql=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"el-color-alpha-slider",class:{"is-vertical":this.vertical}},[e("div",{ref:"bar",staticClass:"el-color-alpha-slider__bar",style:{background:this.background},on:{click:this.handleClick}}),e("div",{ref:"thumb",staticClass:"el-color-alpha-slider__thumb",style:{left:this.thumbLeft+"px",top:this.thumbTop+"px"}})])};Ql._withStripped=!0;var Yl=r({name:"el-color-alpha-slider",props:{color:{required:!0},vertical:Boolean},watch:{"color._alpha":function(){this.update()},"color.value":function(){this.update()}},methods:{handleClick:function(t){var e=this.$refs.thumb;t.target!==e&&this.handleDrag(t)},handleDrag:function(t){var e=this.$el.getBoundingClientRect(),i=this.$refs.thumb;if(this.vertical){var n=t.clientY-e.top;n=Math.max(i.offsetHeight/2,n),n=Math.min(n,e.height-i.offsetHeight/2),this.color.set("alpha",Math.round((n-i.offsetHeight/2)/(e.height-i.offsetHeight)*100))}else{var r=t.clientX-e.left;r=Math.max(i.offsetWidth/2,r),r=Math.min(r,e.width-i.offsetWidth/2),this.color.set("alpha",Math.round((r-i.offsetWidth/2)/(e.width-i.offsetWidth)*100))}},getThumbLeft:function(){if(this.vertical)return 0;var t=this.$el,e=this.color._alpha;if(!t)return 0;var i=this.$refs.thumb;return Math.round(e*(t.offsetWidth-i.offsetWidth/2)/100)},getThumbTop:function(){if(!this.vertical)return 0;var t=this.$el,e=this.color._alpha;if(!t)return 0;var i=this.$refs.thumb;return Math.round(e*(t.offsetHeight-i.offsetHeight/2)/100)},getBackground:function(){if(this.color&&this.color.value){var t=this.color.toRgb(),e=t.r,i=t.g,n=t.b;return"linear-gradient(to right, rgba("+e+", "+i+", "+n+", 0) 0%, rgba("+e+", "+i+", "+n+", 1) 100%)"}return null},update:function(){this.thumbLeft=this.getThumbLeft(),this.thumbTop=this.getThumbTop(),this.background=this.getBackground()}},data:function(){return{thumbLeft:0,thumbTop:0,background:null}},mounted:function(){var t=this,e=this.$refs,i=e.bar,n=e.thumb,r={drag:function(e){t.handleDrag(e)},end:function(e){t.handleDrag(e)}};Hl(i,r),Hl(n,r),this.update()}},Ql,[],!1,null,null,null);Yl.options.__file="packages/color-picker/src/components/alpha-slider.vue";var Kl=Yl.exports,Xl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-color-predefine"},[i("div",{staticClass:"el-color-predefine__colors"},t._l(t.rgbaColors,function(e,n){return i("div",{key:t.colors[n],staticClass:"el-color-predefine__color-selector",class:{selected:e.selected,"is-alpha":e._alpha<100},on:{click:function(e){t.handleSelect(n)}}},[i("div",{style:{"background-color":e.value}})])}),0)])};Xl._withStripped=!0;var $l=r({props:{colors:{type:Array,required:!0},color:{required:!0}},data:function(){return{rgbaColors:this.parseColors(this.colors,this.color)}},methods:{handleSelect:function(t){this.color.fromString(this.colors[t])},parseColors:function(t,e){return t.map(function(t){var i=new Il;return i.enableAlpha=!0,i.format="rgba",i.fromString(t),i.selected=i.value===e.value,i})}},watch:{"$parent.currentColor":function(t){var e=new Il;e.fromString(t),this.rgbaColors.forEach(function(t){t.selected=e.compare(t)})},colors:function(t){this.rgbaColors=this.parseColors(t,this.color)},color:function(t){this.rgbaColors=this.parseColors(this.colors,t)}}},Xl,[],!1,null,null,null);$l.options.__file="packages/color-picker/src/components/predefine.vue";var Wl=$l.exports,ql=r({name:"el-color-picker-dropdown",mixins:[I.a,f.a],components:{SvPanel:Vl,HueSlider:zl,AlphaSlider:Kl,ElInput:d.a,ElButton:Y.a,Predefine:Wl},props:{color:{required:!0},showAlpha:Boolean,predefine:Array},data:function(){return{customInput:""}},computed:{currentColor:function(){var t=this.$parent;return t.value||t.showPanelColor?t.color.value:""}},methods:{confirmValue:function(){this.$emit("pick")},handleConfirm:function(){this.color.fromString(this.customInput)}},mounted:function(){this.$parent.popperElm=this.popperElm=this.$el,this.referenceElm=this.$parent.$el},watch:{showPopper:function(t){var e=this;!0===t&&this.$nextTick(function(){var t=e.$refs,i=t.sl,n=t.hue,r=t.alpha;i&&i.update(),n&&n.update(),r&&r.update()})},currentColor:{immediate:!0,handler:function(t){this.customInput=t}}}},Dl,[],!1,null,null,null);ql.options.__file="packages/color-picker/src/components/picker-dropdown.vue";var Jl=ql.exports,Zl=r({name:"ElColorPicker",mixins:[E.a],props:{value:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:String,popperClass:String,predefine:Array},inject:{elForm:{default:""},elFormItem:{default:""}},directives:{Clickoutside:P.a},computed:{displayedColor:function(){return this.value||this.showPanelColor?this.displayedRgb(this.color,this.showAlpha):"transparent"},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},colorSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},colorDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{value:function(t){t?t&&t!==this.color.value&&this.color.fromString(t):this.showPanelColor=!1},color:{deep:!0,handler:function(){this.showPanelColor=!0}},displayedColor:function(t){if(this.showPicker){var e=new Il({enableAlpha:this.showAlpha,format:this.colorFormat});e.fromString(this.value),t!==this.displayedRgb(e,this.showAlpha)&&this.$emit("active-change",t)}}},methods:{handleTrigger:function(){this.colorDisabled||(this.showPicker=!this.showPicker)},confirmValue:function(){var t=this.color.value;this.$emit("input",t),this.$emit("change",t),this.dispatch("ElFormItem","el.form.change",t),this.showPicker=!1},clearValue:function(){this.$emit("input",null),this.$emit("change",null),null!==this.value&&this.dispatch("ElFormItem","el.form.change",null),this.showPanelColor=!1,this.showPicker=!1,this.resetColor()},hide:function(){this.showPicker=!1,this.resetColor()},resetColor:function(){var t=this;this.$nextTick(function(e){t.value?t.color.fromString(t.value):t.showPanelColor=!1})},displayedRgb:function(t,e){if(!(t instanceof Il))throw Error("color should be instance of Color Class");var i=t.toRgb(),n=i.r,r=i.g,o=i.b;return e?"rgba("+n+", "+r+", "+o+", "+t.get("alpha")/100+")":"rgb("+n+", "+r+", "+o+")"}},mounted:function(){var t=this.value;t&&this.color.fromString(t),this.popperElm=this.$refs.dropdown.$el},data:function(){return{color:new Il({enableAlpha:this.showAlpha,format:this.colorFormat}),showPicker:!1,showPanelColor:!1}},components:{PickerDropdown:Jl}},Tl,[],!1,null,null,null);Zl.options.__file="packages/color-picker/src/main.vue";var th=Zl.exports;th.install=function(t){t.component(th.name,th)};var eh=th,ih=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-transfer"},[i("transfer-panel",t._b({ref:"leftPanel",attrs:{data:t.sourceData,title:t.titles[0]||t.t("el.transfer.titles.0"),"default-checked":t.leftDefaultChecked,placeholder:t.filterPlaceholder||t.t("el.transfer.filterPlaceholder")},on:{"checked-change":t.onSourceCheckedChange}},"transfer-panel",t.$props,!1),[t._t("left-footer")],2),i("div",{staticClass:"el-transfer__buttons"},[i("el-button",{class:["el-transfer__button",t.hasButtonTexts?"is-with-texts":""],attrs:{type:"primary",disabled:0===t.rightChecked.length},nativeOn:{click:function(e){return t.addToLeft(e)}}},[i("i",{staticClass:"el-icon-arrow-left"}),void 0!==t.buttonTexts[0]?i("span",[t._v(t._s(t.buttonTexts[0]))]):t._e()]),i("el-button",{class:["el-transfer__button",t.hasButtonTexts?"is-with-texts":""],attrs:{type:"primary",disabled:0===t.leftChecked.length},nativeOn:{click:function(e){return t.addToRight(e)}}},[void 0!==t.buttonTexts[1]?i("span",[t._v(t._s(t.buttonTexts[1]))]):t._e(),i("i",{staticClass:"el-icon-arrow-right"})])],1),i("transfer-panel",t._b({ref:"rightPanel",attrs:{data:t.targetData,title:t.titles[1]||t.t("el.transfer.titles.1"),"default-checked":t.rightDefaultChecked,placeholder:t.filterPlaceholder||t.t("el.transfer.filterPlaceholder")},on:{"checked-change":t.onTargetCheckedChange}},"transfer-panel",t.$props,!1),[t._t("right-footer")],2)],1)};ih._withStripped=!0;var nh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-transfer-panel"},[i("p",{staticClass:"el-transfer-panel__header"},[i("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleAllCheckedChange},model:{value:t.allChecked,callback:function(e){t.allChecked=e},expression:"allChecked"}},[t._v("\n      "+t._s(t.title)+"\n      "),i("span",[t._v(t._s(t.checkedSummary))])])],1),i("div",{class:["el-transfer-panel__body",t.hasFooter?"is-with-footer":""]},[t.filterable?i("el-input",{staticClass:"el-transfer-panel__filter",attrs:{size:"small",placeholder:t.placeholder},nativeOn:{mouseenter:function(e){t.inputHover=!0},mouseleave:function(e){t.inputHover=!1}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}},[i("i",{class:["el-input__icon","el-icon-"+t.inputIcon],attrs:{slot:"prefix"},on:{click:t.clearQuery},slot:"prefix"})]):t._e(),i("el-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:!t.hasNoMatch&&t.data.length>0,expression:"!hasNoMatch && data.length > 0"}],staticClass:"el-transfer-panel__list",class:{"is-filterable":t.filterable},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},t._l(t.filteredData,function(e){return i("el-checkbox",{key:e[t.keyProp],staticClass:"el-transfer-panel__item",attrs:{label:e[t.keyProp],disabled:e[t.disabledProp]}},[i("option-content",{attrs:{option:e}})],1)}),1),i("p",{directives:[{name:"show",rawName:"v-show",value:t.hasNoMatch,expression:"hasNoMatch"}],staticClass:"el-transfer-panel__empty"},[t._v(t._s(t.t("el.transfer.noMatch")))]),i("p",{directives:[{name:"show",rawName:"v-show",value:0===t.data.length&&!t.hasNoMatch,expression:"data.length === 0 && !hasNoMatch"}],staticClass:"el-transfer-panel__empty"},[t._v(t._s(t.t("el.transfer.noData")))])],1),t.hasFooter?i("p",{staticClass:"el-transfer-panel__footer"},[t._t("default")],2):t._e()])};nh._withStripped=!0;var rh=r({mixins:[f.a],name:"ElTransferPanel",componentName:"ElTransferPanel",components:{ElCheckboxGroup:Yi.a,ElCheckbox:oi.a,ElInput:d.a,OptionContent:{props:{option:Object},render:function(t){var e=function t(e){return"ElTransferPanel"===e.$options.componentName?e:e.$parent?t(e.$parent):e}(this),i=e.$parent||e;return e.renderContent?e.renderContent(t,this.option):i.$scopedSlots.default?i.$scopedSlots.default({option:this.option}):t("span",[this.option[e.labelProp]||this.option[e.keyProp]])}}},props:{data:{type:Array,default:function(){return[]}},renderContent:Function,placeholder:String,title:String,filterable:Boolean,format:Object,filterMethod:Function,defaultChecked:Array,props:Object},data:function(){return{checked:[],allChecked:!1,query:"",inputHover:!1,checkChangeByUser:!0}},watch:{checked:function(t,e){if(this.updateAllChecked(),this.checkChangeByUser){var i=t.concat(e).filter(function(i){return-1===t.indexOf(i)||-1===e.indexOf(i)});this.$emit("checked-change",t,i)}else this.$emit("checked-change",t),this.checkChangeByUser=!0},data:function(){var t=this,e=[],i=this.filteredData.map(function(e){return e[t.keyProp]});this.checked.forEach(function(t){i.indexOf(t)>-1&&e.push(t)}),this.checkChangeByUser=!1,this.checked=e},checkableData:function(){this.updateAllChecked()},defaultChecked:{immediate:!0,handler:function(t,e){var i=this;if(!e||t.length!==e.length||!t.every(function(t){return e.indexOf(t)>-1})){var n=[],r=this.checkableData.map(function(t){return t[i.keyProp]});t.forEach(function(t){r.indexOf(t)>-1&&n.push(t)}),this.checkChangeByUser=!1,this.checked=n}}}},computed:{filteredData:function(){var t=this;return this.data.filter(function(e){return"function"==typeof t.filterMethod?t.filterMethod(t.query,e):(e[t.labelProp]||e[t.keyProp].toString()).toLowerCase().indexOf(t.query.toLowerCase())>-1})},checkableData:function(){var t=this;return this.filteredData.filter(function(e){return!e[t.disabledProp]})},checkedSummary:function(){var t=this.checked.length,e=this.data.length,i=this.format,n=i.noChecked,r=i.hasChecked;return n&&r?t>0?r.replace(/\${checked}/g,t).replace(/\${total}/g,e):n.replace(/\${total}/g,e):t+"/"+e},isIndeterminate:function(){var t=this.checked.length;return t>0&&t<this.checkableData.length},hasNoMatch:function(){return this.query.length>0&&0===this.filteredData.length},inputIcon:function(){return this.query.length>0&&this.inputHover?"circle-close":"search"},labelProp:function(){return this.props.label||"label"},keyProp:function(){return this.props.key||"key"},disabledProp:function(){return this.props.disabled||"disabled"},hasFooter:function(){return!!this.$slots.default}},methods:{updateAllChecked:function(){var t=this,e=this.checkableData.map(function(e){return e[t.keyProp]});this.allChecked=e.length>0&&e.every(function(e){return t.checked.indexOf(e)>-1})},handleAllCheckedChange:function(t){var e=this;this.checked=t?this.checkableData.map(function(t){return t[e.keyProp]}):[]},clearQuery:function(){"circle-close"===this.inputIcon&&(this.query="")}}},nh,[],!1,null,null,null);rh.options.__file="packages/transfer/src/transfer-panel.vue";var oh=rh.exports,sh=r({name:"ElTransfer",mixins:[E.a,f.a,C.a],components:{TransferPanel:oh,ElButton:Y.a},props:{data:{type:Array,default:function(){return[]}},titles:{type:Array,default:function(){return[]}},buttonTexts:{type:Array,default:function(){return[]}},filterPlaceholder:{type:String,default:""},filterMethod:Function,leftDefaultChecked:{type:Array,default:function(){return[]}},rightDefaultChecked:{type:Array,default:function(){return[]}},renderContent:Function,value:{type:Array,default:function(){return[]}},format:{type:Object,default:function(){return{}}},filterable:Boolean,props:{type:Object,default:function(){return{label:"label",key:"key",disabled:"disabled"}}},targetOrder:{type:String,default:"original"}},data:function(){return{leftChecked:[],rightChecked:[]}},computed:{dataObj:function(){var t=this.props.key;return this.data.reduce(function(e,i){return(e[i[t]]=i)&&e},{})},sourceData:function(){var t=this;return this.data.filter(function(e){return-1===t.value.indexOf(e[t.props.key])})},targetData:function(){var t=this;return"original"===this.targetOrder?this.data.filter(function(e){return t.value.indexOf(e[t.props.key])>-1}):this.value.reduce(function(e,i){var n=t.dataObj[i];return n&&e.push(n),e},[])},hasButtonTexts:function(){return 2===this.buttonTexts.length}},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",t)}},methods:{getMigratingConfig:function(){return{props:{"footer-format":"footer-format is renamed to format."}}},onSourceCheckedChange:function(t,e){this.leftChecked=t,void 0!==e&&this.$emit("left-check-change",t,e)},onTargetCheckedChange:function(t,e){this.rightChecked=t,void 0!==e&&this.$emit("right-check-change",t,e)},addToLeft:function(){var t=this.value.slice();this.rightChecked.forEach(function(e){var i=t.indexOf(e);i>-1&&t.splice(i,1)}),this.$emit("input",t),this.$emit("change",t,"left",this.rightChecked)},addToRight:function(){var t=this,e=this.value.slice(),i=[],n=this.props.key;this.data.forEach(function(e){var r=e[n];t.leftChecked.indexOf(r)>-1&&-1===t.value.indexOf(r)&&i.push(r)}),e="unshift"===this.targetOrder?i.concat(e):e.concat(i),this.$emit("input",e),this.$emit("change",e,"right",this.leftChecked)},clearQuery:function(t){"left"===t?this.$refs.leftPanel.query="":"right"===t&&(this.$refs.rightPanel.query="")}}},ih,[],!1,null,null,null);sh.options.__file="packages/transfer/src/main.vue";var ah=sh.exports;ah.install=function(t){t.component(ah.name,ah)};var lh=ah,hh=function(){var t=this.$createElement;return(this._self._c||t)("section",{staticClass:"el-container",class:{"is-vertical":this.isVertical}},[this._t("default")],2)};hh._withStripped=!0;var uh=r({name:"ElContainer",componentName:"ElContainer",props:{direction:String},computed:{isVertical:function(){return"vertical"===this.direction||"horizontal"!==this.direction&&(!(!this.$slots||!this.$slots.default)&&this.$slots.default.some(function(t){var e=t.componentOptions&&t.componentOptions.tag;return"el-header"===e||"el-footer"===e}))}}},hh,[],!1,null,null,null);uh.options.__file="packages/container/src/main.vue";var ch=uh.exports;ch.install=function(t){t.component(ch.name,ch)};var dh=ch,ph=function(){var t=this.$createElement;return(this._self._c||t)("header",{staticClass:"el-header",style:{height:this.height}},[this._t("default")],2)};ph._withStripped=!0;var fh=r({name:"ElHeader",componentName:"ElHeader",props:{height:{type:String,default:"60px"}}},ph,[],!1,null,null,null);fh.options.__file="packages/header/src/main.vue";var mh=fh.exports;mh.install=function(t){t.component(mh.name,mh)};var gh=mh,vh=function(){var t=this.$createElement;return(this._self._c||t)("aside",{staticClass:"el-aside",style:{width:this.width}},[this._t("default")],2)};vh._withStripped=!0;var Ah=r({name:"ElAside",componentName:"ElAside",props:{width:{type:String,default:"300px"}}},vh,[],!1,null,null,null);Ah.options.__file="packages/aside/src/main.vue";var yh=Ah.exports;yh.install=function(t){t.component(yh.name,yh)};var xh=yh,bh=function(){var t=this.$createElement;return(this._self._c||t)("main",{staticClass:"el-main"},[this._t("default")],2)};bh._withStripped=!0;var Ch=r({name:"ElMain",componentName:"ElMain"},bh,[],!1,null,null,null);Ch.options.__file="packages/main/src/main.vue";var wh=Ch.exports;wh.install=function(t){t.component(wh.name,wh)};var Eh=wh,Sh=function(){var t=this.$createElement;return(this._self._c||t)("footer",{staticClass:"el-footer",style:{height:this.height}},[this._t("default")],2)};Sh._withStripped=!0;var Th=r({name:"ElFooter",componentName:"ElFooter",props:{height:{type:String,default:"60px"}}},Sh,[],!1,null,null,null);Th.options.__file="packages/footer/src/main.vue";var _h=Th.exports;_h.install=function(t){t.component(_h.name,_h)};var Mh=_h,kh=r({name:"ElTimeline",props:{reverse:{type:Boolean,default:!1}},provide:function(){return{timeline:this}},render:function(){var t=arguments[0],e=this.reverse,i={"el-timeline":!0,"is-reverse":e},n=this.$slots.default||[];return e&&(n=n.reverse()),t("ul",{class:i},[n])}},void 0,void 0,!1,null,null,null);kh.options.__file="packages/timeline/src/main.vue";var Bh=kh.exports;Bh.install=function(t){t.component(Bh.name,Bh)};var Oh=Bh,Ph=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"el-timeline-item"},[i("div",{staticClass:"el-timeline-item__tail"}),t.$slots.dot?t._e():i("div",{staticClass:"el-timeline-item__node",class:["el-timeline-item__node--"+(t.size||""),"el-timeline-item__node--"+(t.type||"")],style:{backgroundColor:t.color}},[t.icon?i("i",{staticClass:"el-timeline-item__icon",class:t.icon}):t._e()]),t.$slots.dot?i("div",{staticClass:"el-timeline-item__dot"},[t._t("dot")],2):t._e(),i("div",{staticClass:"el-timeline-item__wrapper"},[t.hideTimestamp||"top"!==t.placement?t._e():i("div",{staticClass:"el-timeline-item__timestamp is-top"},[t._v("\n      "+t._s(t.timestamp)+"\n    ")]),i("div",{staticClass:"el-timeline-item__content"},[t._t("default")],2),t.hideTimestamp||"bottom"!==t.placement?t._e():i("div",{staticClass:"el-timeline-item__timestamp is-bottom"},[t._v("\n      "+t._s(t.timestamp)+"\n    ")])])])};Ph._withStripped=!0;var Lh=r({name:"ElTimelineItem",inject:["timeline"],props:{timestamp:String,hideTimestamp:{type:Boolean,default:!1},placement:{type:String,default:"bottom"},type:String,color:String,size:{type:String,default:"normal"},icon:String}},Ph,[],!1,null,null,null);Lh.options.__file="packages/timeline/src/item.vue";var Nh=Lh.exports;Nh.install=function(t){t.component(Nh.name,Nh)};var Ih=Nh,Dh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",t._b({class:["el-link",t.type?"el-link--"+t.type:"",t.disabled&&"is-disabled",t.underline&&!t.disabled&&"is-underline"],attrs:{href:t.disabled?null:t.href},on:{click:t.handleClick}},"a",t.$attrs,!1),[t.icon?i("i",{class:t.icon}):t._e(),t.$slots.default?i("span",{staticClass:"el-link--inner"},[t._t("default")],2):t._e(),t.$slots.icon?[t.$slots.icon?t._t("icon"):t._e()]:t._e()],2)};Dh._withStripped=!0;var Rh=r({name:"ElLink",props:{type:{type:String,default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:String,icon:String},methods:{handleClick:function(t){this.disabled||this.href||this.$emit("click",t)}}},Dh,[],!1,null,null,null);Rh.options.__file="packages/link/src/main.vue";var Fh=Rh.exports;Fh.install=function(t){t.component(Fh.name,Fh)};var Hh=Fh,Uh=function(t,e){var i=e._c;return i("div",e._g(e._b({class:[e.data.staticClass,"el-divider","el-divider--"+e.props.direction]},"div",e.data.attrs,!1),e.listeners),[e.slots().default&&"vertical"!==e.props.direction?i("div",{class:["el-divider__text","is-"+e.props.contentPosition]},[e._t("default")],2):e._e()])};Uh._withStripped=!0;var Vh=r({name:"ElDivider",props:{direction:{type:String,default:"horizontal",validator:function(t){return-1!==["horizontal","vertical"].indexOf(t)}},contentPosition:{type:String,default:"center",validator:function(t){return-1!==["left","center","right"].indexOf(t)}}}},Uh,[],!0,null,null,null);Vh.options.__file="packages/divider/src/main.vue";var jh=Vh.exports;jh.install=function(t){t.component(jh.name,jh)};var Gh=jh,zh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-image"},[t.loading?t._t("placeholder",[i("div",{staticClass:"el-image__placeholder"})]):t.error?t._t("error",[i("div",{staticClass:"el-image__error"},[t._v(t._s(t.t("el.image.error")))])]):i("img",t._g(t._b({staticClass:"el-image__inner",class:{"el-image__inner--center":t.alignCenter,"el-image__preview":t.preview},style:t.imageStyle,attrs:{src:t.src},on:{click:t.clickHandler}},"img",t.$attrs,!1),t.$listeners)),t.preview?[i("image-viewer",{directives:[{name:"show",rawName:"v-show",value:t.showViewer,expression:"showViewer"}],attrs:{"z-index":t.zIndex,"initial-index":t.imageIndex,"on-close":t.closeViewer,"url-list":t.previewSrcList}})]:t._e()],2)};zh._withStripped=!0;var Qh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"viewer-fade"}},[i("div",{ref:"el-image-viewer__wrapper",staticClass:"el-image-viewer__wrapper",style:{"z-index":t.zIndex},attrs:{tabindex:"-1"}},[i("div",{staticClass:"el-image-viewer__mask"}),i("span",{staticClass:"el-image-viewer__btn el-image-viewer__close",on:{click:t.hide}},[i("i",{staticClass:"el-icon-circle-close"})]),t.isSingle?t._e():[i("span",{staticClass:"el-image-viewer__btn el-image-viewer__prev",class:{"is-disabled":!t.infinite&&t.isFirst},on:{click:t.prev}},[i("i",{staticClass:"el-icon-arrow-left"})]),i("span",{staticClass:"el-image-viewer__btn el-image-viewer__next",class:{"is-disabled":!t.infinite&&t.isLast},on:{click:t.next}},[i("i",{staticClass:"el-icon-arrow-right"})])],i("div",{staticClass:"el-image-viewer__btn el-image-viewer__actions"},[i("div",{staticClass:"el-image-viewer__actions__inner"},[i("i",{staticClass:"el-icon-zoom-out",on:{click:function(e){t.handleActions("zoomOut")}}}),i("i",{staticClass:"el-icon-zoom-in",on:{click:function(e){t.handleActions("zoomIn")}}}),i("i",{staticClass:"el-image-viewer__actions__divider"}),i("i",{class:t.mode.icon,on:{click:t.toggleMode}}),i("i",{staticClass:"el-image-viewer__actions__divider"}),i("i",{staticClass:"el-icon-refresh-left",on:{click:function(e){t.handleActions("anticlocelise")}}}),i("i",{staticClass:"el-icon-refresh-right",on:{click:function(e){t.handleActions("clocelise")}}})])]),i("div",{staticClass:"el-image-viewer__canvas"},t._l(t.urlList,function(e,n){return n===t.index?i("img",{key:e,ref:"img",refInFor:!0,staticClass:"el-image-viewer__img",style:t.imgStyle,attrs:{src:t.currentImg},on:{load:t.handleImgLoad,error:t.handleImgError,mousedown:t.handleMouseDown}}):t._e()}),0)],2)])};Qh._withStripped=!0;var Yh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Kh={CONTAIN:{name:"contain",icon:"el-icon-full-screen"},ORIGINAL:{name:"original",icon:"el-icon-c-scale-to-original"}},Xh=Object(m.isFirefox)()?"DOMMouseScroll":"mousewheel",$h=r({name:"elImageViewer",props:{urlList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3},onSwitch:{type:Function,default:function(){}},onClose:{type:Function,default:function(){}},initialIndex:{type:Number,default:0}},data:function(){return{index:this.initialIndex,isShow:!1,infinite:!0,loading:!1,mode:Kh.CONTAIN,transform:{scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}},computed:{isSingle:function(){return this.urlList.length<=1},isFirst:function(){return 0===this.index},isLast:function(){return this.index===this.urlList.length-1},currentImg:function(){return this.urlList[this.index]},imgStyle:function(){var t=this.transform,e=t.scale,i=t.deg,n=t.offsetX,r=t.offsetY,o={transform:"scale("+e+") rotate("+i+"deg)",transition:t.enableTransition?"transform .3s":"","margin-left":n+"px","margin-top":r+"px"};return this.mode===Kh.CONTAIN&&(o.maxWidth=o.maxHeight="100%"),o}},watch:{index:{handler:function(t){this.reset(),this.onSwitch(t)}},currentImg:function(t){var e=this;this.$nextTick(function(t){e.$refs.img[0].complete||(e.loading=!0)})}},methods:{hide:function(){this.deviceSupportUninstall(),this.onClose()},deviceSupportInstall:function(){var t=this;this._keyDownHandler=Object(m.rafThrottle)(function(e){switch(e.keyCode){case 27:t.hide();break;case 32:t.toggleMode();break;case 37:t.prev();break;case 38:t.handleActions("zoomIn");break;case 39:t.next();break;case 40:t.handleActions("zoomOut")}}),this._mouseWheelHandler=Object(m.rafThrottle)(function(e){(e.wheelDelta?e.wheelDelta:-e.detail)>0?t.handleActions("zoomIn",{zoomRate:.015,enableTransition:!1}):t.handleActions("zoomOut",{zoomRate:.015,enableTransition:!1})}),Object(ft.on)(document,"keydown",this._keyDownHandler),Object(ft.on)(document,Xh,this._mouseWheelHandler)},deviceSupportUninstall:function(){Object(ft.off)(document,"keydown",this._keyDownHandler),Object(ft.off)(document,Xh,this._mouseWheelHandler),this._keyDownHandler=null,this._mouseWheelHandler=null},handleImgLoad:function(t){this.loading=!1},handleImgError:function(t){this.loading=!1,t.target.alt=""},handleMouseDown:function(t){var e=this;if(!this.loading&&0===t.button){var i=this.transform,n=i.offsetX,r=i.offsetY,o=t.pageX,s=t.pageY;this._dragHandler=Object(m.rafThrottle)(function(t){e.transform.offsetX=n+t.pageX-o,e.transform.offsetY=r+t.pageY-s}),Object(ft.on)(document,"mousemove",this._dragHandler),Object(ft.on)(document,"mouseup",function(t){Object(ft.off)(document,"mousemove",e._dragHandler)}),t.preventDefault()}},reset:function(){this.transform={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}},toggleMode:function(){if(!this.loading){var t=Object.keys(Kh),e=(Object.values(Kh).indexOf(this.mode)+1)%t.length;this.mode=Kh[t[e]],this.reset()}},prev:function(){if(!this.isFirst||this.infinite){var t=this.urlList.length;this.index=(this.index-1+t)%t}},next:function(){if(!this.isLast||this.infinite){var t=this.urlList.length;this.index=(this.index+1)%t}},handleActions:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.loading){var i=Yh({zoomRate:.2,rotateDeg:90,enableTransition:!0},e),n=i.zoomRate,r=i.rotateDeg,o=i.enableTransition,s=this.transform;switch(t){case"zoomOut":s.scale>.2&&(s.scale=parseFloat((s.scale-n).toFixed(3)));break;case"zoomIn":s.scale=parseFloat((s.scale+n).toFixed(3));break;case"clocelise":s.deg+=r;break;case"anticlocelise":s.deg-=r}s.enableTransition=o}}},mounted:function(){this.deviceSupportInstall(),this.$refs["el-image-viewer__wrapper"].focus()}},Qh,[],!1,null,null,null);$h.options.__file="packages/image/src/image-viewer.vue";var Wh=$h.exports,qh=function(){return void 0!==document.documentElement.style.objectFit},Jh="none",Zh="contain",tu="cover",eu="fill",iu="scale-down",nu="",ru=r({name:"ElImage",mixins:[f.a],inheritAttrs:!1,components:{ImageViewer:Wh},props:{src:String,fit:String,lazy:Boolean,scrollContainer:{},previewSrcList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3}},data:function(){return{loading:!0,error:!1,show:!this.lazy,imageWidth:0,imageHeight:0,showViewer:!1}},computed:{imageStyle:function(){var t=this.fit;return!this.$isServer&&t?qh()?{"object-fit":t}:this.getImageStyle(t):{}},alignCenter:function(){return!this.$isServer&&!qh()&&this.fit!==eu},preview:function(){var t=this.previewSrcList;return Array.isArray(t)&&t.length>0},imageIndex:function(){return this.previewSrcList.indexOf(this.src)}},watch:{src:function(t){this.show&&this.loadImage()},show:function(t){t&&this.loadImage()}},mounted:function(){this.lazy?this.addLazyLoadListener():this.loadImage()},beforeDestroy:function(){this.lazy&&this.removeLazyLoadListener()},methods:{loadImage:function(){var t=this;if(!this.$isServer){this.loading=!0,this.error=!1;var e=new Image;e.onload=function(i){return t.handleLoad(i,e)},e.onerror=this.handleError.bind(this),Object.keys(this.$attrs).forEach(function(i){var n=t.$attrs[i];e.setAttribute(i,n)}),e.src=this.src}},handleLoad:function(t,e){this.imageWidth=e.width,this.imageHeight=e.height,this.loading=!1},handleError:function(t){this.loading=!1,this.error=!0,this.$emit("error",t)},handleLazyLoad:function(){Object(ft.isInContainer)(this.$el,this._scrollContainer)&&(this.show=!0,this.removeLazyLoadListener())},addLazyLoadListener:function(){if(!this.$isServer){var t=this.scrollContainer,e=null;(e=Object(Na.isHtmlElement)(t)?t:Object(Na.isString)(t)?document.querySelector(t):Object(ft.getScrollContainer)(this.$el))&&(this._scrollContainer=e,this._lazyLoadHandler=Xa()(200,this.handleLazyLoad),Object(ft.on)(e,"scroll",this._lazyLoadHandler),this.handleLazyLoad())}},removeLazyLoadListener:function(){var t=this._scrollContainer,e=this._lazyLoadHandler;!this.$isServer&&t&&e&&(Object(ft.off)(t,"scroll",e),this._scrollContainer=null,this._lazyLoadHandler=null)},getImageStyle:function(t){var e=this.imageWidth,i=this.imageHeight,n=this.$el,r=n.clientWidth,o=n.clientHeight;if(!(e&&i&&r&&o))return{};var s=e/i<1;t===iu&&(t=e<r&&i<o?Jh:Zh);switch(t){case Jh:return{width:"auto",height:"auto"};case Zh:return s?{width:"auto"}:{height:"auto"};case tu:return s?{height:"auto"}:{width:"auto"};default:return{}}},clickHandler:function(){nu=document.body.style.overflow,document.body.style.overflow="hidden",this.showViewer=!0},closeViewer:function(){document.body.style.overflow=nu,this.showViewer=!1}}},zh,[],!1,null,null,null);ru.options.__file="packages/image/src/main.vue";var ou=ru.exports;ou.install=function(t){t.component(ou.name,ou)};var su=ou,au=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-calendar"},[i("div",{staticClass:"el-calendar__header"},[i("div",{staticClass:"el-calendar__title"},[t._v("\n      "+t._s(t.i18nDate)+"\n    ")]),0===t.validatedRange.length?i("div",{staticClass:"el-calendar__button-group"},[i("el-button-group",[i("el-button",{attrs:{type:"plain",size:"mini"},on:{click:function(e){t.selectDate("prev-month")}}},[t._v("\n          "+t._s(t.t("el.datepicker.prevMonth"))+"\n        ")]),i("el-button",{attrs:{type:"plain",size:"mini"},on:{click:function(e){t.selectDate("today")}}},[t._v("\n          "+t._s(t.t("el.datepicker.today"))+"\n        ")]),i("el-button",{attrs:{type:"plain",size:"mini"},on:{click:function(e){t.selectDate("next-month")}}},[t._v("\n          "+t._s(t.t("el.datepicker.nextMonth"))+"\n        ")])],1)],1):t._e()]),0===t.validatedRange.length?i("div",{key:"no-range",staticClass:"el-calendar__body"},[i("date-table",{attrs:{date:t.date,"selected-day":t.realSelectedDay,"first-day-of-week":t.realFirstDayOfWeek},on:{pick:t.pickDay}})],1):i("div",{key:"has-range",staticClass:"el-calendar__body"},t._l(t.validatedRange,function(e,n){return i("date-table",{key:n,attrs:{date:e[0],"selected-day":t.realSelectedDay,range:e,"hide-header":0!==n,"first-day-of-week":t.realFirstDayOfWeek},on:{pick:t.pickDay}})}),1)])};au._withStripped=!0;var lu=i(20),hu=i.n(lu),uu=r({props:{selectedDay:String,range:{type:Array,validator:function(t){if(!t||!t.length)return!0;var e=t[0],i=t[1];return Object(fn.validateRangeInOneMonth)(e,i)}},date:Date,hideHeader:Boolean,firstDayOfWeek:Number},inject:["elCalendar"],data:function(){return{WEEK_DAYS:Object(fn.getI18nSettings)().dayNames}},methods:{toNestedArr:function(t){return Object(fn.range)(t.length/7).map(function(e,i){var n=7*i;return t.slice(n,n+7)})},getFormateDate:function(t,e){if(!t||-1===["prev","current","next"].indexOf(e))throw new Error("invalid day or type");var i=this.curMonthDatePrefix;return"prev"===e?i=this.prevMonthDatePrefix:"next"===e&&(i=this.nextMonthDatePrefix),i+"-"+(t=("00"+t).slice(-2))},getCellClass:function(t){var e=t.text,i=t.type,n=[i];if("current"===i){var r=this.getFormateDate(e,i);r===this.selectedDay&&n.push("is-selected"),r===this.formatedToday&&n.push("is-today")}return n},pickDay:function(t){var e=t.text,i=t.type,n=this.getFormateDate(e,i);this.$emit("pick",n)},cellRenderProxy:function(t){var e=t.text,i=t.type,n=this.$createElement,r=this.elCalendar.$scopedSlots.dateCell;if(!r)return n("span",[e]);var o=this.getFormateDate(e,i);return r({date:new Date(o),data:{isSelected:this.selectedDay===o,type:i+"-month",day:o}})}},computed:{prevMonthDatePrefix:function(){var t=new Date(this.date.getTime());return t.setDate(0),hu.a.format(t,"yyyy-MM")},curMonthDatePrefix:function(){return hu.a.format(this.date,"yyyy-MM")},nextMonthDatePrefix:function(){var t=new Date(this.date.getFullYear(),this.date.getMonth()+1,1);return hu.a.format(t,"yyyy-MM")},formatedToday:function(){return this.elCalendar.formatedToday},isInRange:function(){return this.range&&this.range.length},rows:function(){var t=[];if(this.isInRange){var e=this.range,i=e[0],n=e[1],r=Object(fn.range)(n.getDate()-i.getDate()+1).map(function(t,e){return{text:i.getDate()+e,type:"current"}}),o=r.length%7;o=0===o?0:7-o;var s=Object(fn.range)(o).map(function(t,e){return{text:e+1,type:"next"}});t=r.concat(s)}else{var a=this.date,l=Object(fn.getFirstDayOfMonth)(a);l=0===l?7:l;var h="number"==typeof this.firstDayOfWeek?this.firstDayOfWeek:1,u=Object(fn.getPrevMonthLastDays)(a,l-h).map(function(t){return{text:t,type:"prev"}}),c=Object(fn.getMonthDays)(a).map(function(t){return{text:t,type:"current"}});t=[].concat(u,c);var d=Object(fn.range)(42-t.length).map(function(t,e){return{text:e+1,type:"next"}});t=t.concat(d)}return this.toNestedArr(t)},weekDays:function(){var t=this.firstDayOfWeek,e=this.WEEK_DAYS;return"number"!=typeof t||0===t?e.slice():e.slice(t).concat(e.slice(0,t))}},render:function(){var t=this,e=arguments[0],i=this.hideHeader?null:e("thead",[this.weekDays.map(function(t){return e("th",{key:t},[t])})]);return e("table",{class:{"el-calendar-table":!0,"is-range":this.isInRange},attrs:{cellspacing:"0",cellpadding:"0"}},[i,e("tbody",[this.rows.map(function(i,n){return e("tr",{class:{"el-calendar-table__row":!0,"el-calendar-table__row--hide-border":0===n&&t.hideHeader},key:n},[i.map(function(i,n){return e("td",{key:n,class:t.getCellClass(i),on:{click:t.pickDay.bind(t,i)}},[e("div",{class:"el-calendar-day"},[t.cellRenderProxy(i)])])})])})])])}},void 0,void 0,!1,null,null,null);uu.options.__file="packages/calendar/src/date-table.vue";var cu=uu.exports,du=["prev-month","today","next-month"],pu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],fu=r({name:"ElCalendar",mixins:[f.a],components:{DateTable:cu,ElButton:Y.a,ElButtonGroup:X.a},props:{value:[Date,String,Number],range:{type:Array,validator:function(t){return!Array.isArray(t)||2===t.length&&t.every(function(t){return"string"==typeof t||"number"==typeof t||t instanceof Date})}},firstDayOfWeek:{type:Number,default:1}},provide:function(){return{elCalendar:this}},methods:{pickDay:function(t){this.realSelectedDay=t},selectDate:function(t){if(-1===du.indexOf(t))throw new Error("invalid type "+t);var e="";(e="prev-month"===t?this.prevMonthDatePrefix+"-01":"next-month"===t?this.nextMonthDatePrefix+"-01":this.formatedToday)!==this.formatedDate&&this.pickDay(e)},toDate:function(t){if(!t)throw new Error("invalid val");return t instanceof Date?t:new Date(t)},rangeValidator:function(t,e){var i=this.realFirstDayOfWeek,n=e?i:0===i?6:i-1,r=(e?"start":"end")+" of range should be "+pu[n]+".";return t.getDay()===n||(console.warn("[ElementCalendar]",r,"Invalid range will be ignored."),!1)}},computed:{prevMonthDatePrefix:function(){var t=new Date(this.date.getTime());return t.setDate(0),hu.a.format(t,"yyyy-MM")},curMonthDatePrefix:function(){return hu.a.format(this.date,"yyyy-MM")},nextMonthDatePrefix:function(){var t=new Date(this.date.getFullYear(),this.date.getMonth()+1,1);return hu.a.format(t,"yyyy-MM")},formatedDate:function(){return hu.a.format(this.date,"yyyy-MM-dd")},i18nDate:function(){var t=this.date.getFullYear(),e=this.date.getMonth()+1;return t+" "+this.t("el.datepicker.year")+" "+this.t("el.datepicker.month"+e)},formatedToday:function(){return hu.a.format(this.now,"yyyy-MM-dd")},realSelectedDay:{get:function(){return this.value?this.formatedDate:this.selectedDay},set:function(t){this.selectedDay=t;var e=new Date(t);this.$emit("input",e)}},date:function(){if(this.value)return this.toDate(this.value);if(this.realSelectedDay){var t=this.selectedDay.split("-");return new Date(t[0],t[1]-1,t[2])}return this.validatedRange.length?this.validatedRange[0][0]:this.now},validatedRange:function(){var t=this,e=this.range;if(!e)return[];if(2===(e=e.reduce(function(e,i,n){var r=t.toDate(i);return t.rangeValidator(r,0===n)&&(e=e.concat(r)),e},[])).length){var i=e,n=i[0],r=i[1];if(n>r)return console.warn("[ElementCalendar]end time should be greater than start time"),[];if(Object(fn.validateRangeInOneMonth)(n,r))return[[n,r]];var o=[],s=new Date(n.getFullYear(),n.getMonth()+1,1),a=this.toDate(s.getTime()-864e5);if(!Object(fn.validateRangeInOneMonth)(s,r))return console.warn("[ElementCalendar]start time and end time interval must not exceed two months"),[];o.push([n,a]);var l=this.realFirstDayOfWeek,h=s.getDay(),u=0;return h!==l&&(u=0===l?7-h:(u=l-h)>0?u:7+u),(s=this.toDate(s.getTime()+864e5*u)).getDate()<r.getDate()&&o.push([s,r]),o}return[]},realFirstDayOfWeek:function(){return this.firstDayOfWeek<1||this.firstDayOfWeek>6?0:Math.floor(this.firstDayOfWeek)}},data:function(){return{selectedDay:"",now:new Date}}},au,[],!1,null,null,null);fu.options.__file="packages/calendar/src/main.vue";var mu=fu.exports;mu.install=function(t){t.component(mu.name,mu)};var gu=mu,vu=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-fade-in"}},[t.visible?i("div",{staticClass:"el-backtop",style:{right:t.styleRight,bottom:t.styleBottom},on:{click:function(e){return e.stopPropagation(),t.handleClick(e)}}},[t._t("default",[i("el-icon",{attrs:{name:"caret-top"}})])],2):t._e()])};vu._withStripped=!0;var Au=function(t){return Math.pow(t,3)},yu=r({name:"ElBacktop",props:{visibilityHeight:{type:Number,default:200},target:[String],right:{type:Number,default:40},bottom:{type:Number,default:40}},data:function(){return{el:null,container:null,visible:!1}},computed:{styleBottom:function(){return this.bottom+"px"},styleRight:function(){return this.right+"px"}},mounted:function(){this.init(),this.throttledScrollHandler=Xa()(300,this.onScroll),this.container.addEventListener("scroll",this.throttledScrollHandler)},methods:{init:function(){if(this.container=document,this.el=document.documentElement,this.target){if(this.el=document.querySelector(this.target),!this.el)throw new Error("target is not existed: "+this.target);this.container=this.el}},onScroll:function(){var t=this.el.scrollTop;this.visible=t>=this.visibilityHeight},handleClick:function(t){this.scrollToTop(),this.$emit("click",t)},scrollToTop:function(){var t=this.el,e=Date.now(),i=t.scrollTop,n=window.requestAnimationFrame||function(t){return setTimeout(t,16)};n(function r(){var o,s=(Date.now()-e)/500;s<1?(t.scrollTop=i*(1-((o=s)<.5?Au(2*o)/2:1-Au(2*(1-o))/2)),n(r)):t.scrollTop=0})}},beforeDestroy:function(){this.container.removeEventListener("scroll",this.throttledScrollHandler)}},vu,[],!1,null,null,null);yu.options.__file="packages/backtop/src/main.vue";var xu=yu.exports;xu.install=function(t){t.component(xu.name,xu)};var bu=xu,Cu=function(t,e){return t===window||t===document?document.documentElement[e]:t[e]},wu=function(t){return Cu(t,"offsetHeight")},Eu="ElInfiniteScroll",Su={delay:{type:Number,default:200},distance:{type:Number,default:0},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},Tu=function(t,e){return Object(Na.isHtmlElement)(t)?(i=Su,Object.keys(i||{}).map(function(t){return[t,i[t]]})).reduce(function(i,n){var r=n[0],o=n[1],s=o.type,a=o.default,l=t.getAttribute("infinite-scroll-"+r);switch(l=Object(Na.isUndefined)(e[l])?l:e[l],s){case Number:l=Number(l),l=Number.isNaN(l)?a:l;break;case Boolean:l=Object(Na.isDefined)(l)?"false"!==l&&Boolean(l):a;break;default:l=s(l)}return i[r]=l,i},{}):{};var i},_u=function(t){return t.getBoundingClientRect().top},Mu=function(t){var e=this[Eu],i=e.el,n=e.vm,r=e.container,o=e.observer,s=Tu(i,n),a=s.distance;if(!s.disabled){var l=r.getBoundingClientRect();if(l.width||l.height){var h=!1;if(r===i){var u=r.scrollTop+function(t){return Cu(t,"clientHeight")}(r);h=r.scrollHeight-u<=a}else{h=wu(i)+_u(i)-_u(r)-wu(r)+Number.parseFloat(function(t,e){if(t===window&&(t=document.documentElement),1!==t.nodeType)return[];var i=window.getComputedStyle(t,null);return e?i[e]:i}(r,"borderBottomWidth"))<=a}h&&Object(Na.isFunction)(t)?t.call(n):o&&(o.disconnect(),this[Eu].observer=null)}}},ku={name:"InfiniteScroll",inserted:function(t,e,i){var n=e.value,r=i.context,o=Object(ft.getScrollContainer)(t,!0),s=Tu(t,r),a=s.delay,l=s.immediate,h=B()(a,Mu.bind(t,n));(t[Eu]={el:t,vm:r,container:o,onScroll:h},o)&&(o.addEventListener("scroll",h),l&&((t[Eu].observer=new MutationObserver(h)).observe(o,{childList:!0,subtree:!0}),h()))},unbind:function(t){var e=t[Eu],i=e.container,n=e.onScroll;i&&i.removeEventListener("scroll",n)},install:function(t){t.directive(ku.name,ku)}},Bu=ku,Ou=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-page-header"},[i("div",{staticClass:"el-page-header__left",on:{click:function(e){t.$emit("back")}}},[i("i",{staticClass:"el-icon-back"}),i("div",{staticClass:"el-page-header__title"},[t._t("title",[t._v(t._s(t.title))])],2)]),i("div",{staticClass:"el-page-header__content"},[t._t("content",[t._v(t._s(t.content))])],2)])};Ou._withStripped=!0;var Pu=r({name:"ElPageHeader",props:{title:{type:String,default:function(){return Object(Re.t)("el.pageHeader.title")}},content:String}},Ou,[],!1,null,null,null);Pu.options.__file="packages/page-header/src/main.vue";var Lu=Pu.exports;Lu.install=function(t){t.component(Lu.name,Lu)};var Nu=Lu,Iu=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:["el-cascader-panel",this.border&&"is-bordered"],on:{keydown:this.handleKeyDown}},this._l(this.menus,function(t,i){return e("cascader-menu",{key:i,ref:"menu",refInFor:!0,attrs:{index:i,nodes:t}})}),1)};Iu._withStripped=!0;var Du=i(43),Ru=i.n(Du),Fu=function(t){return t.stopPropagation()},Hu=r({inject:["panel"],components:{ElCheckbox:oi.a,ElRadio:Ru.a},props:{node:{required:!0},nodeId:String},computed:{config:function(){return this.panel.config},isLeaf:function(){return this.node.isLeaf},isDisabled:function(){return this.node.isDisabled},checkedValue:function(){return this.panel.checkedValue},isChecked:function(){return this.node.isSameNode(this.checkedValue)},inActivePath:function(){return this.isInPath(this.panel.activePath)},inCheckedPath:function(){var t=this;return!!this.config.checkStrictly&&this.panel.checkedNodePaths.some(function(e){return t.isInPath(e)})},value:function(){return this.node.getValueByOption()}},methods:{handleExpand:function(){var t=this,e=this.panel,i=this.node,n=this.isDisabled,r=this.config,o=r.multiple;!r.checkStrictly&&n||i.loading||(r.lazy&&!i.loaded?e.lazyLoad(i,function(){var e=t.isLeaf;if(e||t.handleExpand(),o){var n=!!e&&i.checked;t.handleMultiCheckChange(n)}}):e.handleExpand(i))},handleCheckChange:function(){var t=this.panel,e=this.value,i=this.node;t.handleCheckChange(e),t.handleExpand(i)},handleMultiCheckChange:function(t){this.node.doCheck(t),this.panel.calculateMultiCheckedValue()},isInPath:function(t){var e=this.node;return(t[e.level-1]||{}).uid===e.uid},renderPrefix:function(t){var e=this.isLeaf,i=this.isChecked,n=this.config,r=n.checkStrictly;return n.multiple?this.renderCheckbox(t):r?this.renderRadio(t):e&&i?this.renderCheckIcon(t):null},renderPostfix:function(t){var e=this.node,i=this.isLeaf;return e.loading?this.renderLoadingIcon(t):i?null:this.renderExpandIcon(t)},renderCheckbox:function(t){var e=this.node,i=this.config,n=this.isDisabled,r={on:{change:this.handleMultiCheckChange},nativeOn:{}};return i.checkStrictly&&(r.nativeOn.click=Fu),t("el-checkbox",Js()([{attrs:{value:e.checked,indeterminate:e.indeterminate,disabled:n}},r]))},renderRadio:function(t){var e=this.checkedValue,i=this.value,n=this.isDisabled;return Object(m.isEqual)(i,e)&&(i=e),t("el-radio",{attrs:{value:e,label:i,disabled:n},on:{change:this.handleCheckChange},nativeOn:{click:Fu}},[t("span")])},renderCheckIcon:function(t){return t("i",{class:"el-icon-check el-cascader-node__prefix"})},renderLoadingIcon:function(t){return t("i",{class:"el-icon-loading el-cascader-node__postfix"})},renderExpandIcon:function(t){return t("i",{class:"el-icon-arrow-right el-cascader-node__postfix"})},renderContent:function(t){var e=this.panel,i=this.node,n=e.renderLabelFn;return t("span",{class:"el-cascader-node__label"},[(n?n({node:i,data:i.data}):null)||i.label])}},render:function(t){var e=this,i=this.inActivePath,n=this.inCheckedPath,r=this.isChecked,o=this.isLeaf,s=this.isDisabled,a=this.config,l=this.nodeId,h=a.expandTrigger,u=a.checkStrictly,c=a.multiple,d=!u&&s,p={on:{}};return"click"===h?p.on.click=this.handleExpand:(p.on.mouseenter=function(t){e.handleExpand(),e.$emit("expand",t)},p.on.focus=function(t){e.handleExpand(),e.$emit("expand",t)}),!o||s||u||c||(p.on.click=this.handleCheckChange),t("li",Js()([{attrs:{role:"menuitem",id:l,"aria-expanded":i,tabindex:d?null:-1},class:{"el-cascader-node":!0,"is-selectable":u,"in-active-path":i,"in-checked-path":n,"is-active":r,"is-disabled":d}},p]),[this.renderPrefix(t),this.renderContent(t),this.renderPostfix(t)])}},void 0,void 0,!1,null,null,null);Hu.options.__file="packages/cascader-panel/src/cascader-node.vue";var Uu=Hu.exports,Vu=r({name:"ElCascaderMenu",mixins:[f.a],inject:["panel"],components:{ElScrollbar:R.a,CascaderNode:Uu},props:{nodes:{type:Array,required:!0},index:Number},data:function(){return{activeNode:null,hoverTimer:null,id:Object(m.generateId)()}},computed:{isEmpty:function(){return!this.nodes.length},menuId:function(){return"cascader-menu-"+this.id+"-"+this.index}},methods:{handleExpand:function(t){this.activeNode=t.target},handleMouseMove:function(t){var e=this.activeNode,i=this.hoverTimer,n=this.$refs.hoverZone;if(e&&n)if(e.contains(t.target)){clearTimeout(i);var r=this.$el.getBoundingClientRect().left,o=t.clientX-r,s=this.$el,a=s.offsetWidth,l=s.offsetHeight,h=e.offsetTop,u=h+e.offsetHeight;n.innerHTML='\n          <path style="pointer-events: auto;" fill="transparent" d="M'+o+" "+h+" L"+a+" 0 V"+h+' Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M'+o+" "+u+" L"+a+" "+l+" V"+u+' Z" />\n        '}else i||(this.hoverTimer=setTimeout(this.clearHoverZone,this.panel.config.hoverThreshold))},clearHoverZone:function(){var t=this.$refs.hoverZone;t&&(t.innerHTML="")},renderEmptyText:function(t){return t("div",{class:"el-cascader-menu__empty-text"},[this.t("el.cascader.noData")])},renderNodeList:function(t){var e=this.menuId,i=this.panel.isHoverMenu,n={on:{}};i&&(n.on.expand=this.handleExpand);var r=this.nodes.map(function(i,r){var o=i.hasChildren;return t("cascader-node",Js()([{key:i.uid,attrs:{node:i,"node-id":e+"-"+r,"aria-haspopup":o,"aria-owns":o?e:null}},n]))});return[].concat(r,[i?t("svg",{ref:"hoverZone",class:"el-cascader-menu__hover-zone"}):null])}},render:function(t){var e=this.isEmpty,i=this.menuId,n={nativeOn:{}};return this.panel.isHoverMenu&&(n.nativeOn.mousemove=this.handleMouseMove),t("el-scrollbar",Js()([{attrs:{tag:"ul",role:"menu",id:i,"wrap-class":"el-cascader-menu__wrap","view-class":{"el-cascader-menu__list":!0,"is-empty":e}},class:"el-cascader-menu"},n]),[e?this.renderEmptyText(t):this.renderNodeList(t)])}},void 0,void 0,!1,null,null,null);Vu.options.__file="packages/cascader-panel/src/cascader-menu.vue";var ju=Vu.exports,Gu=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var zu=0,Qu=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.config=i,this.parent=n||null,this.level=this.parent?this.parent.level+1:1,this.uid=zu++,this.initState(),this.initChildren()}return t.prototype.initState=function(){var t=this.config,e=t.value,i=t.label;this.value=this.data[e],this.label=this.data[i],this.pathNodes=this.calculatePathNodes(),this.path=this.pathNodes.map(function(t){return t.value}),this.pathLabels=this.pathNodes.map(function(t){return t.label}),this.loading=!1,this.loaded=!1},t.prototype.initChildren=function(){var e=this,i=this.config,n=i.children,r=this.data[n];this.hasChildren=Array.isArray(r),this.children=(r||[]).map(function(n){return new t(n,i,e)})},t.prototype.calculatePathNodes=function(){for(var t=[this],e=this.parent;e;)t.unshift(e),e=e.parent;return t},t.prototype.getPath=function(){return this.path},t.prototype.getValue=function(){return this.value},t.prototype.getValueByOption=function(){return this.config.emitPath?this.getPath():this.getValue()},t.prototype.getText=function(t,e){return t?this.pathLabels.join(e):this.label},t.prototype.isSameNode=function(t){var e=this.getValueByOption();return this.config.multiple&&Array.isArray(t)?t.some(function(t){return Object(m.isEqual)(t,e)}):Object(m.isEqual)(t,e)},t.prototype.broadcast=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var r="onParent"+Object(m.capitalize)(t);this.children.forEach(function(e){e&&(e.broadcast.apply(e,[t].concat(i)),e[r]&&e[r].apply(e,i))})},t.prototype.emit=function(t){var e=this.parent,i="onChild"+Object(m.capitalize)(t);if(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e[i]&&e[i].apply(e,r),e.emit.apply(e,[t].concat(r))}},t.prototype.onParentCheck=function(t){this.isDisabled||this.setCheckState(t)},t.prototype.onChildCheck=function(){var t=this.children.filter(function(t){return!t.isDisabled}),e=!!t.length&&t.every(function(t){return t.checked});this.setCheckState(e)},t.prototype.setCheckState=function(t){var e=this.children.length,i=this.children.reduce(function(t,e){return t+(e.checked?1:e.indeterminate?.5:0)},0);this.checked=t,this.indeterminate=i!==e&&i>0},t.prototype.syncCheckState=function(t){var e=this.getValueByOption(),i=this.isSameNode(t,e);this.doCheck(i)},t.prototype.doCheck=function(t){this.checked!==t&&(this.config.checkStrictly?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check")))},Gu(t,[{key:"isDisabled",get:function(){var t=this.data,e=this.parent,i=this.config,n=i.disabled,r=i.checkStrictly;return t[n]||!r&&e&&e.isDisabled}},{key:"isLeaf",get:function(){var t=this.data,e=this.loaded,i=this.hasChildren,n=this.children,r=this.config,o=r.lazy,s=r.leaf;if(o){var a=Object(jt.isDef)(t[s])?t[s]:!!e&&!n.length;return this.hasChildren=!a,a}return!i}}]),t}();var Yu=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=i,this.initNodes(e)}return t.prototype.initNodes=function(t){var e=this;t=Object(m.coerceTruthyValueToArray)(t),this.nodes=t.map(function(t){return new Qu(t,e.config)}),this.flattedNodes=this.getFlattedNodes(!1,!1),this.leafNodes=this.getFlattedNodes(!0,!1)},t.prototype.appendNode=function(t,e){var i=new Qu(t,this.config,e);(e?e.children:this.nodes).push(i)},t.prototype.appendNodes=function(t,e){var i=this;(t=Object(m.coerceTruthyValueToArray)(t)).forEach(function(t){return i.appendNode(t,e)})},t.prototype.getNodes=function(){return this.nodes},t.prototype.getFlattedNodes=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t?this.leafNodes:this.flattedNodes;return e?i:function t(e,i){return e.reduce(function(e,n){return n.isLeaf?e.push(n):(!i&&e.push(n),e=e.concat(t(n.children,i))),e},[])}(this.nodes,t)},t.prototype.getNodeByValue=function(t){if(t){var e=this.getFlattedNodes(!1,!this.config.lazy).filter(function(e){return Object(m.valueEquals)(e.path,t)||e.value===t});return e&&e.length?e[0]:null}return null},t}(),Ku=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Xu=Al.a.keys,$u={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:m.noop,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},Wu=function(t){return!t.getAttribute("aria-owns")},qu=function(t,e){var i=t.parentNode;if(i){var n=i.querySelectorAll('.el-cascader-node[tabindex="-1"]');return n[Array.prototype.indexOf.call(n,t)+e]||null}return null},Ju=function(t,e){if(t){var i=t.id.split("-");return Number(i[i.length-2])}},Zu=function(t){t&&(t.focus(),!Wu(t)&&t.click())},tc=r({name:"ElCascaderPanel",components:{CascaderMenu:ju},props:{value:{},options:Array,props:Object,border:{type:Boolean,default:!0},renderLabel:Function},provide:function(){return{panel:this}},data:function(){return{checkedValue:null,checkedNodePaths:[],store:[],menus:[],activePath:[],loadCount:0}},computed:{config:function(){return Vt()(Ku({},$u),this.props||{})},multiple:function(){return this.config.multiple},checkStrictly:function(){return this.config.checkStrictly},leafOnly:function(){return!this.checkStrictly},isHoverMenu:function(){return"hover"===this.config.expandTrigger},renderLabelFn:function(){return this.renderLabel||this.$scopedSlots.default}},watch:{options:{handler:function(){this.initStore()},immediate:!0,deep:!0},value:function(){this.syncCheckedValue(),this.checkStrictly&&this.calculateCheckedNodePaths()},checkedValue:function(t){Object(m.isEqual)(t,this.value)||(this.checkStrictly&&this.calculateCheckedNodePaths(),this.$emit("input",t),this.$emit("change",t))}},mounted:function(){Object(m.isEmpty)(this.value)||this.syncCheckedValue()},methods:{initStore:function(){var t=this.config,e=this.options;t.lazy&&Object(m.isEmpty)(e)?this.lazyLoad():(this.store=new Yu(e,t),this.menus=[this.store.getNodes()],this.syncMenuState())},syncCheckedValue:function(){var t=this.value,e=this.checkedValue;Object(m.isEqual)(t,e)||(this.checkedValue=t,this.syncMenuState())},syncMenuState:function(){var t=this.multiple,e=this.checkStrictly;this.syncActivePath(),t&&this.syncMultiCheckState(),e&&this.calculateCheckedNodePaths(),this.$nextTick(this.scrollIntoView)},syncMultiCheckState:function(){var t=this;this.getFlattedNodes(this.leafOnly).forEach(function(e){e.syncCheckState(t.checkedValue)})},syncActivePath:function(){var t=this,e=this.store,i=this.multiple,n=this.activePath,r=this.checkedValue;if(Object(m.isEmpty)(n))if(Object(m.isEmpty)(r))this.activePath=[],this.menus=[e.getNodes()];else{var o=i?r[0]:r,s=((this.getNodeByValue(o)||{}).pathNodes||[]).slice(0,-1);this.expandNodes(s)}else{var a=n.map(function(e){return t.getNodeByValue(e.getValue())});this.expandNodes(a)}},expandNodes:function(t){var e=this;t.forEach(function(t){return e.handleExpand(t,!0)})},calculateCheckedNodePaths:function(){var t=this,e=this.checkedValue,i=this.multiple?Object(m.coerceTruthyValueToArray)(e):[e];this.checkedNodePaths=i.map(function(e){var i=t.getNodeByValue(e);return i?i.pathNodes:[]})},handleKeyDown:function(t){var e=t.target;switch(t.keyCode){case Xu.up:var i=qu(e,-1);Zu(i);break;case Xu.down:var n=qu(e,1);Zu(n);break;case Xu.left:var r=this.$refs.menu[Ju(e)-1];if(r){var o=r.$el.querySelector('.el-cascader-node[aria-expanded="true"]');Zu(o)}break;case Xu.right:var s=this.$refs.menu[Ju(e)+1];if(s){var a=s.$el.querySelector('.el-cascader-node[tabindex="-1"]');Zu(a)}break;case Xu.enter:!function(t){if(t){var e=t.querySelector("input");e?e.click():Wu(t)&&t.click()}}(e);break;case Xu.esc:case Xu.tab:this.$emit("close");break;default:return}},handleExpand:function(t,e){var i=this.activePath,n=t.level,r=i.slice(0,n-1),o=this.menus.slice(0,n);if(t.isLeaf||(r.push(t),o.push(t.children)),this.activePath=r,this.menus=o,!e){var s=r.map(function(t){return t.getValue()}),a=i.map(function(t){return t.getValue()});Object(m.valueEquals)(s,a)||(this.$emit("active-item-change",s),this.$emit("expand-change",s))}},handleCheckChange:function(t){this.checkedValue=t},lazyLoad:function(t,e){var i=this,n=this.config;t||(t=t||{root:!0,level:0},this.store=new Yu([],n),this.menus=[this.store.getNodes()]),t.loading=!0;n.lazyLoad(t,function(n){var r=t.root?null:t;if(n&&n.length&&i.store.appendNodes(n,r),t.loading=!1,t.loaded=!0,Array.isArray(i.checkedValue)){var o=i.checkedValue[i.loadCount++],s=i.config.value,a=i.config.leaf;if(Array.isArray(n)&&n.filter(function(t){return t[s]===o}).length>0){var l=i.store.getNodeByValue(o);l.data[a]||i.lazyLoad(l,function(){i.handleExpand(l)}),i.loadCount===i.checkedValue.length&&i.$parent.computePresentText()}}e&&e(n)})},calculateMultiCheckedValue:function(){this.checkedValue=this.getCheckedNodes(this.leafOnly).map(function(t){return t.getValueByOption()})},scrollIntoView:function(){this.$isServer||(this.$refs.menu||[]).forEach(function(t){var e=t.$el;if(e){var i=e.querySelector(".el-scrollbar__wrap"),n=e.querySelector(".el-cascader-node.is-active")||e.querySelector(".el-cascader-node.in-active-path");Ue()(i,n)}})},getNodeByValue:function(t){return this.store.getNodeByValue(t)},getFlattedNodes:function(t){var e=!this.config.lazy;return this.store.getFlattedNodes(t,e)},getCheckedNodes:function(t){var e=this.checkedValue;return this.multiple?this.getFlattedNodes(t).filter(function(t){return t.checked}):Object(m.isEmpty)(e)?[]:[this.getNodeByValue(e)]},clearCheckedNodes:function(){var t=this.config,e=this.leafOnly,i=t.multiple,n=t.emitPath;i?(this.getCheckedNodes(e).filter(function(t){return!t.isDisabled}).forEach(function(t){return t.doCheck(!1)}),this.calculateMultiCheckedValue()):this.checkedValue=n?[]:null}}},Iu,[],!1,null,null,null);tc.options.__file="packages/cascader-panel/src/cascader-panel.vue";var ec=tc.exports;ec.install=function(t){t.component(ec.name,ec)};var ic=ec,nc=r({name:"ElAvatar",props:{size:{type:[Number,String],validator:function(t){return"string"==typeof t?["large","medium","small"].includes(t):"number"==typeof t}},shape:{type:String,default:"circle",validator:function(t){return["circle","square"].includes(t)}},icon:String,src:String,alt:String,srcSet:String,error:Function,fit:{type:String,default:"cover"}},data:function(){return{isImageExist:!0}},computed:{avatarClass:function(){var t=this.size,e=this.icon,i=this.shape,n=["el-avatar"];return t&&"string"==typeof t&&n.push("el-avatar--"+t),e&&n.push("el-avatar--icon"),i&&n.push("el-avatar--"+i),n.join(" ")}},methods:{handleError:function(){var t=this.error;!1!==(t?t():void 0)&&(this.isImageExist=!1)},renderAvatar:function(){var t=this.$createElement,e=this.icon,i=this.src,n=this.alt,r=this.isImageExist,o=this.srcSet,s=this.fit;return r&&i?t("img",{attrs:{src:i,alt:n,srcSet:o},on:{error:this.handleError},style:{"object-fit":s}}):e?t("i",{class:e}):this.$slots.default}},render:function(){var t=arguments[0],e=this.avatarClass,i=this.size;return t("span",{class:e,style:"number"==typeof i?{height:i+"px",width:i+"px",lineHeight:i+"px"}:{}},[this.renderAvatar()])}},void 0,void 0,!1,null,null,null);nc.options.__file="packages/avatar/src/main.vue";var rc=nc.exports;rc.install=function(t){t.component(rc.name,rc)};var oc=rc,sc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-drawer-fade"},on:{"after-enter":t.afterEnter,"after-leave":t.afterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-drawer__wrapper",attrs:{tabindex:"-1"}},[i("div",{staticClass:"el-drawer__container",class:t.visible&&"el-drawer__open",attrs:{role:"document",tabindex:"-1"},on:{click:function(e){return e.target!==e.currentTarget?null:t.handleWrapperClick(e)}}},[i("div",{ref:"drawer",staticClass:"el-drawer",class:[t.direction,t.customClass],style:t.isHorizontal?"width: "+t.size:"height: "+t.size,attrs:{"aria-modal":"true","aria-labelledby":"el-drawer__title","aria-label":t.title,role:"dialog",tabindex:"-1"}},[t.withHeader?i("header",{staticClass:"el-drawer__header",attrs:{id:"el-drawer__title"}},[t._t("title",[i("span",{attrs:{role:"heading",tabindex:"0",title:t.title}},[t._v(t._s(t.title))])]),t.showClose?i("button",{staticClass:"el-drawer__close-btn",attrs:{"aria-label":"close "+(t.title||"drawer"),type:"button"},on:{click:t.closeDrawer}},[i("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):t._e()],2):t._e(),t.rendered?i("section",{staticClass:"el-drawer__body"},[t._t("default")],2):t._e()])])])])};sc._withStripped=!0;var ac=r({name:"ElDrawer",mixins:[x.a,E.a],props:{appendToBody:{type:Boolean,default:!1},beforeClose:{type:Function},customClass:{type:String,default:""},closeOnPressEscape:{type:Boolean,default:!0},destroyOnClose:{type:Boolean,default:!1},modal:{type:Boolean,default:!0},direction:{type:String,default:"rtl",validator:function(t){return-1!==["ltr","rtl","ttb","btt"].indexOf(t)}},modalAppendToBody:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},size:{type:String,default:"30%"},title:{type:String,default:""},visible:{type:Boolean},wrapperClosable:{type:Boolean,default:!0},withHeader:{type:Boolean,default:!0}},computed:{isHorizontal:function(){return"rtl"===this.direction||"ltr"===this.direction}},data:function(){return{closed:!1,prevActiveElement:null}},watch:{visible:function(t){var e=this;t?(this.closed=!1,this.$emit("open"),this.appendToBody&&document.body.appendChild(this.$el),this.prevActiveElement=document.activeElement,this.$nextTick(function(){Al.a.focusFirstDescendant(e.$refs.drawer)})):(this.closed||this.$emit("close"),this.$nextTick(function(){e.prevActiveElement&&e.prevActiveElement.focus()}))}},methods:{afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")},hide:function(t){!1!==t&&(this.$emit("update:visible",!1),this.$emit("close"),!0===this.destroyOnClose&&(this.rendered=!1),this.closed=!0)},handleWrapperClick:function(){this.wrapperClosable&&this.closeDrawer()},closeDrawer:function(){"function"==typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},handleClose:function(){this.closeDrawer()}},mounted:function(){this.visible&&(this.rendered=!0,this.open())},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},sc,[],!1,null,null,null);ac.options.__file="packages/drawer/src/main.vue";var lc=ac.exports;lc.install=function(t){t.component(lc.name,lc)};var hc=lc,uc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-popover",t._b({attrs:{trigger:"click"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},"el-popover",t.$attrs,!1),[i("div",{staticClass:"el-popconfirm"},[i("p",{staticClass:"el-popconfirm__main"},[t.hideIcon?t._e():i("i",{staticClass:"el-popconfirm__icon",class:t.icon,style:{color:t.iconColor}}),t._v("\n      "+t._s(t.title)+"\n    ")]),i("div",{staticClass:"el-popconfirm__action"},[i("el-button",{attrs:{size:"mini",type:t.cancelButtonType},on:{click:t.cancel}},[t._v("\n        "+t._s(t.cancelButtonText)+"\n      ")]),i("el-button",{attrs:{size:"mini",type:t.confirmButtonType},on:{click:t.confirm}},[t._v("\n        "+t._s(t.confirmButtonText)+"\n      ")])],1)]),t._t("reference",null,{slot:"reference"})],2)};uc._withStripped=!0;var cc=i(44),dc=i.n(cc),pc=r({name:"ElPopconfirm",props:{title:{type:String},confirmButtonText:{type:String,default:Object(Re.t)("el.popconfirm.confirmButtonText")},cancelButtonText:{type:String,default:Object(Re.t)("el.popconfirm.cancelButtonText")},confirmButtonType:{type:String,default:"primary"},cancelButtonType:{type:String,default:"text"},icon:{type:String,default:"el-icon-question"},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1}},components:{ElPopover:dc.a,ElButton:Y.a},data:function(){return{visible:!1}},methods:{confirm:function(){this.visible=!1,this.$emit("onConfirm")},cancel:function(){this.visible=!1,this.$emit("onCancel")}}},uc,[],!1,null,null,null);pc.options.__file="packages/popconfirm/src/main.vue";var fc=pc.exports;fc.install=function(t){t.component(fc.name,fc)};var mc=fc,gc=[v,_,z,q,et,ot,vt,Et,Bt,Nt,Qt,Wt,te,oe,he,pe,ve,be,Se,Ge,ze,Xe,Je,ii,on,dn,hr,vr,Tr,Pr,Nr,io,so,uo,yo,_o,Oo,No,Jo,ns,ws,Us,js,Qs,sa,ua,fa,Ma,Pa,Ra,Va,Qa,qa,el,ol,hl,pl,Sl,eh,lh,dh,gh,xh,Eh,Mh,Oh,Ih,Hh,Gh,su,gu,bu,Nu,ic,oc,hc,mc,yt.a],vc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Fe.a.use(e.locale),Fe.a.i18n(e.i18n),gc.forEach(function(e){t.component(e.name,e)}),t.use(Bu),t.use(Ds.directive),t.prototype.$ELEMENT={size:e.size||"",zIndex:e.zIndex||2e3},t.prototype.$loading=Ds.service,t.prototype.$msgbox=Jr,t.prototype.$alert=Jr.alert,t.prototype.$confirm=Jr.confirm,t.prototype.$prompt=Jr.prompt,t.prototype.$notify=ps,t.prototype.$message=Ea};"undefined"!=typeof window&&window.Vue&&vc(window.Vue);e.default={version:"2.13.0",locale:Fe.a.use,i18n:Fe.a.i18n,install:vc,CollapseTransition:yt.a,Loading:Ds,Pagination:v,Dialog:_,Autocomplete:z,Dropdown:q,DropdownMenu:et,DropdownItem:ot,Menu:vt,Submenu:Et,MenuItem:Bt,MenuItemGroup:Nt,Input:Qt,InputNumber:Wt,Radio:te,RadioGroup:oe,RadioButton:he,Checkbox:pe,CheckboxButton:ve,CheckboxGroup:be,Switch:Se,Select:Ge,Option:ze,OptionGroup:Xe,Button:Je,ButtonGroup:ii,Table:on,TableColumn:dn,DatePicker:hr,TimeSelect:vr,TimePicker:Tr,Popover:Pr,Tooltip:Nr,MessageBox:Jr,Breadcrumb:io,BreadcrumbItem:so,Form:uo,FormItem:yo,Tabs:_o,TabPane:Oo,Tag:No,Tree:Jo,Alert:ns,Notification:ps,Slider:ws,Icon:Us,Row:js,Col:Qs,Upload:sa,Progress:ua,Spinner:fa,Message:Ea,Badge:Ma,Card:Pa,Rate:Ra,Steps:Va,Step:Qa,Carousel:qa,Scrollbar:el,CarouselItem:ol,Collapse:hl,CollapseItem:pl,Cascader:Sl,ColorPicker:eh,Transfer:lh,Container:dh,Header:gh,Aside:xh,Main:Eh,Footer:Mh,Timeline:Oh,TimelineItem:Ih,Link:Hh,Divider:Gh,Image:su,Calendar:gu,Backtop:bu,InfiniteScroll:Bu,PageHeader:Nu,CascaderPanel:ic,Avatar:oc,Drawer:hc,Popconfirm:mc}}]).default},zQR9:function(t,e,i){"use strict";var n=i("h65t")(!0);i("vIB/")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},zTCi:function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){if(o.default.prototype.$isServer)return;if(!e)return void(t.scrollTop=0);var i=[],n=e.offsetParent;for(;n&&t!==n&&t.contains(n);)i.push(n),n=n.offsetParent;var r=e.offsetTop+i.reduce(function(t,e){return t+e.offsetTop},0),s=r+e.offsetHeight,a=t.scrollTop,l=a+t.clientHeight;r<a?t.scrollTop=r:s>l&&(t.scrollTop=s-t.clientHeight)};var n,r=i("7+uW"),o=(n=r)&&n.__esModule?n:{default:n}}});